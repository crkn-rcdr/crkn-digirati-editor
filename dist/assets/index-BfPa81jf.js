const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./vidstack-BqgQkvb4-UZQGhaum.js","./vidstack-FldwQc2Q-sgYQPsQq.js","./vidstack-krOAtKMi-C3UUF7YD.js","./vidstack-DHmfHold-CfuPv8hB.js","./vidstack-Dm1xEU9Q-qchDHvRd.js"])))=>i.map(i=>d[i]);
var YVe=Object.defineProperty;var Yre=e=>{throw TypeError(e)};var XVe=(e,t,n)=>t in e?YVe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Ge=(e,t,n)=>XVe(e,typeof t!="symbol"?t+"":t,n),rN=(e,t,n)=>t.has(e)||Yre("Cannot "+n);var T=(e,t,n)=>(rN(e,t,"read from private field"),n?n.call(e):t.get(e)),le=(e,t,n)=>t.has(e)?Yre("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),de=(e,t,n,r)=>(rN(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),N=(e,t,n)=>(rN(e,t,"access private method"),n);var Xre=(e,t,n,r)=>({set _(i){de(e,t,i,n)},get _(){return T(e,t,r)}});function H9(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Qre={setImmediate:"((fn, ...args) => setTimeout(fn, 0, ...args))"},dg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof Qre<"u"?Qre:typeof self<"u"?self:{};function Dl(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var sye={exports:{}},V9={},aye={exports:{}},Nr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yT=Symbol.for("react.element"),QVe=Symbol.for("react.portal"),JVe=Symbol.for("react.fragment"),eUe=Symbol.for("react.strict_mode"),tUe=Symbol.for("react.profiler"),nUe=Symbol.for("react.provider"),rUe=Symbol.for("react.context"),iUe=Symbol.for("react.forward_ref"),oUe=Symbol.for("react.suspense"),sUe=Symbol.for("react.memo"),aUe=Symbol.for("react.lazy"),Jre=Symbol.iterator;function lUe(e){return e===null||typeof e!="object"?null:(e=Jre&&e[Jre]||e["@@iterator"],typeof e=="function"?e:null)}var lye={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},uye=Object.assign,cye={};function YC(e,t,n){this.props=e,this.context=t,this.refs=cye,this.updater=n||lye}YC.prototype.isReactComponent={};YC.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};YC.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function dye(){}dye.prototype=YC.prototype;function tY(e,t,n){this.props=e,this.context=t,this.refs=cye,this.updater=n||lye}var nY=tY.prototype=new dye;nY.constructor=tY;uye(nY,YC.prototype);nY.isPureReactComponent=!0;var eie=Array.isArray,fye=Object.prototype.hasOwnProperty,rY={current:null},hye={key:!0,ref:!0,__self:!0,__source:!0};function pye(e,t,n){var r,i={},o=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)fye.call(t,r)&&!hye.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:yT,type:e,key:o,ref:s,props:i,_owner:rY.current}}function uUe(e,t){return{$$typeof:yT,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function iY(e){return typeof e=="object"&&e!==null&&e.$$typeof===yT}function cUe(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var tie=/\/+/g;function iN(e,t){return typeof e=="object"&&e!==null&&e.key!=null?cUe(""+e.key):t.toString(36)}function qL(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case yT:case QVe:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+iN(s,0):r,eie(i)?(n="",e!=null&&(n=e.replace(tie,"$&/")+"/"),qL(i,t,n,"",function(u){return u})):i!=null&&(iY(i)&&(i=uUe(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(tie,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",eie(e))for(var a=0;a<e.length;a++){o=e[a];var l=r+iN(o,a);s+=qL(o,t,n,l,i)}else if(l=lUe(e),typeof l=="function")for(e=l.call(e),a=0;!(o=e.next()).done;)o=o.value,l=r+iN(o,a++),s+=qL(o,t,n,l,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function C6(e,t,n){if(e==null)return e;var r=[],i=0;return qL(e,r,"","",function(o){return t.call(n,o,i++)}),r}function dUe(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var hu={current:null},GL={transition:null},fUe={ReactCurrentDispatcher:hu,ReactCurrentBatchConfig:GL,ReactCurrentOwner:rY};function mye(){throw Error("act(...) is not supported in production builds of React.")}Nr.Children={map:C6,forEach:function(e,t,n){C6(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return C6(e,function(){t++}),t},toArray:function(e){return C6(e,function(t){return t})||[]},only:function(e){if(!iY(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Nr.Component=YC;Nr.Fragment=JVe;Nr.Profiler=tUe;Nr.PureComponent=tY;Nr.StrictMode=eUe;Nr.Suspense=oUe;Nr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fUe;Nr.act=mye;Nr.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=uye({},e.props),i=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=rY.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)fye.call(t,l)&&!hye.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:yT,type:e.type,key:i,ref:o,props:r,_owner:s}};Nr.createContext=function(e){return e={$$typeof:rUe,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:nUe,_context:e},e.Consumer=e};Nr.createElement=pye;Nr.createFactory=function(e){var t=pye.bind(null,e);return t.type=e,t};Nr.createRef=function(){return{current:null}};Nr.forwardRef=function(e){return{$$typeof:iUe,render:e}};Nr.isValidElement=iY;Nr.lazy=function(e){return{$$typeof:aUe,_payload:{_status:-1,_result:e},_init:dUe}};Nr.memo=function(e,t){return{$$typeof:sUe,type:e,compare:t===void 0?null:t}};Nr.startTransition=function(e){var t=GL.transition;GL.transition={};try{e()}finally{GL.transition=t}};Nr.unstable_act=mye;Nr.useCallback=function(e,t){return hu.current.useCallback(e,t)};Nr.useContext=function(e){return hu.current.useContext(e)};Nr.useDebugValue=function(){};Nr.useDeferredValue=function(e){return hu.current.useDeferredValue(e)};Nr.useEffect=function(e,t){return hu.current.useEffect(e,t)};Nr.useId=function(){return hu.current.useId()};Nr.useImperativeHandle=function(e,t,n){return hu.current.useImperativeHandle(e,t,n)};Nr.useInsertionEffect=function(e,t){return hu.current.useInsertionEffect(e,t)};Nr.useLayoutEffect=function(e,t){return hu.current.useLayoutEffect(e,t)};Nr.useMemo=function(e,t){return hu.current.useMemo(e,t)};Nr.useReducer=function(e,t,n){return hu.current.useReducer(e,t,n)};Nr.useRef=function(e){return hu.current.useRef(e)};Nr.useState=function(e){return hu.current.useState(e)};Nr.useSyncExternalStore=function(e,t,n){return hu.current.useSyncExternalStore(e,t,n)};Nr.useTransition=function(){return hu.current.useTransition()};Nr.version="18.3.1";aye.exports=Nr;var h=aye.exports;const ne=Dl(h),UP=H9({__proto__:null,default:ne},[h]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hUe=h,pUe=Symbol.for("react.element"),mUe=Symbol.for("react.fragment"),gUe=Object.prototype.hasOwnProperty,vUe=hUe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,yUe={key:!0,ref:!0,__self:!0,__source:!0};function gye(e,t,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)gUe.call(t,r)&&!yUe.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:pUe,type:e,key:o,ref:s,props:i,_owner:vUe.current}}V9.Fragment=mUe;V9.jsx=gye;V9.jsxs=gye;sye.exports=V9;var d=sye.exports,VI={},vye={exports:{}},ad={},yye={exports:{}},bye={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(U,K){var J=U.length;U.push(K);e:for(;0<J;){var oe=J-1>>>1,he=U[oe];if(0<i(he,K))U[oe]=K,U[J]=he,J=oe;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var K=U[0],J=U.pop();if(J!==K){U[0]=J;e:for(var oe=0,he=U.length,me=he>>>1;oe<me;){var re=2*(oe+1)-1,ue=U[re],ce=re+1,we=U[ce];if(0>i(ue,J))ce<he&&0>i(we,ue)?(U[oe]=we,U[ce]=J,oe=ce):(U[oe]=ue,U[re]=J,oe=re);else if(ce<he&&0>i(we,J))U[oe]=we,U[ce]=J,oe=ce;else break e}}return K}function i(U,K){var J=U.sortIndex-K.sortIndex;return J!==0?J:U.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,f=null,p=3,g=!1,v=!1,y=!1,S=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(U){for(var K=n(u);K!==null;){if(K.callback===null)r(u);else if(K.startTime<=U)r(u),K.sortIndex=K.expirationTime,t(l,K);else break;K=n(u)}}function w(U){if(y=!1,k(U),!v)if(n(l)!==null)v=!0,B(P);else{var K=n(u);K!==null&&q(w,K.startTime-U)}}function P(U,K){v=!1,y&&(y=!1,C(D),D=-1),g=!0;var J=p;try{for(k(K),f=n(l);f!==null&&(!(f.expirationTime>K)||U&&!z());){var oe=f.callback;if(typeof oe=="function"){f.callback=null,p=f.priorityLevel;var he=oe(f.expirationTime<=K);K=e.unstable_now(),typeof he=="function"?f.callback=he:f===n(l)&&r(l),k(K)}else r(l);f=n(l)}if(f!==null)var me=!0;else{var re=n(u);re!==null&&q(w,re.startTime-K),me=!1}return me}finally{f=null,p=J,g=!1}}var M=!1,R=null,D=-1,H=5,O=-1;function z(){return!(e.unstable_now()-O<H)}function G(){if(R!==null){var U=e.unstable_now();O=U;var K=!0;try{K=R(!0,U)}finally{K?ee():(M=!1,R=null)}}else M=!1}var ee;if(typeof _=="function")ee=function(){_(G)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,se=X.port2;X.port1.onmessage=G,ee=function(){se.postMessage(null)}}else ee=function(){S(G,0)};function B(U){R=U,M||(M=!0,ee())}function q(U,K){D=S(function(){U(e.unstable_now())},K)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(U){U.callback=null},e.unstable_continueExecution=function(){v||g||(v=!0,B(P))},e.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<U?Math.floor(1e3/U):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(U){switch(p){case 1:case 2:case 3:var K=3;break;default:K=p}var J=p;p=K;try{return U()}finally{p=J}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(U,K){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var J=p;p=U;try{return K()}finally{p=J}},e.unstable_scheduleCallback=function(U,K,J){var oe=e.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?oe+J:oe):J=oe,U){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=J+he,U={id:c++,callback:K,priorityLevel:U,startTime:J,expirationTime:he,sortIndex:-1},J>oe?(U.sortIndex=J,t(u,U),n(l)===null&&U===n(u)&&(y?(C(D),D=-1):y=!0,q(w,J-oe))):(U.sortIndex=he,t(l,U),v||g||(v=!0,B(P))),U},e.unstable_shouldYield=z,e.unstable_wrapCallback=function(U){var K=p;return function(){var J=p;p=K;try{return U.apply(this,arguments)}finally{p=J}}}})(bye);yye.exports=bye;var bUe=yye.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wUe=h,Yc=bUe;function ht(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var wye=new Set,WP={};function yx(e,t){sC(e,t),sC(e+"Capture",t)}function sC(e,t){for(WP[e]=t,e=0;e<t.length;e++)wye.add(t[e])}var Dg=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),LH=Object.prototype.hasOwnProperty,xUe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,nie={},rie={};function SUe(e){return LH.call(rie,e)?!0:LH.call(nie,e)?!1:xUe.test(e)?rie[e]=!0:(nie[e]=!0,!1)}function _Ue(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function CUe(e,t,n,r){if(t===null||typeof t>"u"||_Ue(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function pu(e,t,n,r,i,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var Ja={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ja[e]=new pu(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ja[t]=new pu(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ja[e]=new pu(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ja[e]=new pu(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ja[e]=new pu(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ja[e]=new pu(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ja[e]=new pu(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ja[e]=new pu(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ja[e]=new pu(e,5,!1,e.toLowerCase(),null,!1,!1)});var oY=/[\-:]([a-z])/g;function sY(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(oY,sY);Ja[t]=new pu(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(oY,sY);Ja[t]=new pu(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(oY,sY);Ja[t]=new pu(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ja[e]=new pu(e,1,!1,e.toLowerCase(),null,!1,!1)});Ja.xlinkHref=new pu("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ja[e]=new pu(e,1,!1,e.toLowerCase(),null,!0,!0)});function aY(e,t,n,r){var i=Ja.hasOwnProperty(t)?Ja[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(CUe(t,n,i,r)&&(n=null),r||i===null?SUe(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var tv=wUe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E6=Symbol.for("react.element"),HS=Symbol.for("react.portal"),VS=Symbol.for("react.fragment"),lY=Symbol.for("react.strict_mode"),AH=Symbol.for("react.profiler"),xye=Symbol.for("react.provider"),Sye=Symbol.for("react.context"),uY=Symbol.for("react.forward_ref"),IH=Symbol.for("react.suspense"),RH=Symbol.for("react.suspense_list"),cY=Symbol.for("react.memo"),ty=Symbol.for("react.lazy"),_ye=Symbol.for("react.offscreen"),iie=Symbol.iterator;function dE(e){return e===null||typeof e!="object"?null:(e=iie&&e[iie]||e["@@iterator"],typeof e=="function"?e:null)}var Wo=Object.assign,oN;function lk(e){if(oN===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);oN=t&&t[1]||""}return`
`+oN+e}var sN=!1;function aN(e,t){if(!e||sN)return"";sN=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=a);break}}}finally{sN=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?lk(e):""}function EUe(e){switch(e.tag){case 5:return lk(e.type);case 16:return lk("Lazy");case 13:return lk("Suspense");case 19:return lk("SuspenseList");case 0:case 2:case 15:return e=aN(e.type,!1),e;case 11:return e=aN(e.type.render,!1),e;case 1:return e=aN(e.type,!0),e;default:return""}}function DH(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case VS:return"Fragment";case HS:return"Portal";case AH:return"Profiler";case lY:return"StrictMode";case IH:return"Suspense";case RH:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Sye:return(e.displayName||"Context")+".Consumer";case xye:return(e._context.displayName||"Context")+".Provider";case uY:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case cY:return t=e.displayName||null,t!==null?t:DH(e.type)||"Memo";case ty:t=e._payload,e=e._init;try{return DH(e(t))}catch{}}return null}function kUe(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return DH(t);case 8:return t===lY?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function T0(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Cye(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function PUe(e){var t=Cye(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function k6(e){e._valueTracker||(e._valueTracker=PUe(e))}function Eye(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Cye(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function UI(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function OH(e,t){var n=t.checked;return Wo({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function oie(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=T0(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function kye(e,t){t=t.checked,t!=null&&aY(e,"checked",t,!1)}function jH(e,t){kye(e,t);var n=T0(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?NH(e,t.type,n):t.hasOwnProperty("defaultValue")&&NH(e,t.type,T0(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function sie(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function NH(e,t,n){(t!=="number"||UI(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var uk=Array.isArray;function x2(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+T0(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function FH(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ht(91));return Wo({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function aie(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(ht(92));if(uk(n)){if(1<n.length)throw Error(ht(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:T0(n)}}function Pye(e,t){var n=T0(t.value),r=T0(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function lie(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function $ye(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function BH(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?$ye(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var P6,Tye=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(P6=P6||document.createElement("div"),P6.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=P6.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function KP(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Kk={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$Ue=["Webkit","ms","Moz","O"];Object.keys(Kk).forEach(function(e){$Ue.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Kk[t]=Kk[e]})});function Mye(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Kk.hasOwnProperty(e)&&Kk[e]?(""+t).trim():t+"px"}function Lye(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Mye(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var TUe=Wo({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function zH(e,t){if(t){if(TUe[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ht(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ht(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ht(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ht(62))}}function HH(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var VH=null;function dY(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var UH=null,S2=null,_2=null;function uie(e){if(e=xT(e)){if(typeof UH!="function")throw Error(ht(280));var t=e.stateNode;t&&(t=G9(t),UH(e.stateNode,e.type,t))}}function Aye(e){S2?_2?_2.push(e):_2=[e]:S2=e}function Iye(){if(S2){var e=S2,t=_2;if(_2=S2=null,uie(e),t)for(e=0;e<t.length;e++)uie(t[e])}}function Rye(e,t){return e(t)}function Dye(){}var lN=!1;function Oye(e,t,n){if(lN)return e(t,n);lN=!0;try{return Rye(e,t,n)}finally{lN=!1,(S2!==null||_2!==null)&&(Dye(),Iye())}}function qP(e,t){var n=e.stateNode;if(n===null)return null;var r=G9(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(ht(231,t,typeof n));return n}var WH=!1;if(Dg)try{var fE={};Object.defineProperty(fE,"passive",{get:function(){WH=!0}}),window.addEventListener("test",fE,fE),window.removeEventListener("test",fE,fE)}catch{WH=!1}function MUe(e,t,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var qk=!1,WI=null,KI=!1,KH=null,LUe={onError:function(e){qk=!0,WI=e}};function AUe(e,t,n,r,i,o,s,a,l){qk=!1,WI=null,MUe.apply(LUe,arguments)}function IUe(e,t,n,r,i,o,s,a,l){if(AUe.apply(this,arguments),qk){if(qk){var u=WI;qk=!1,WI=null}else throw Error(ht(198));KI||(KI=!0,KH=u)}}function bx(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function jye(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function cie(e){if(bx(e)!==e)throw Error(ht(188))}function RUe(e){var t=e.alternate;if(!t){if(t=bx(e),t===null)throw Error(ht(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return cie(i),e;if(o===r)return cie(i),t;o=o.sibling}throw Error(ht(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(ht(189))}}if(n.alternate!==r)throw Error(ht(190))}if(n.tag!==3)throw Error(ht(188));return n.stateNode.current===n?e:t}function Nye(e){return e=RUe(e),e!==null?Fye(e):null}function Fye(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Fye(e);if(t!==null)return t;e=e.sibling}return null}var Bye=Yc.unstable_scheduleCallback,die=Yc.unstable_cancelCallback,DUe=Yc.unstable_shouldYield,OUe=Yc.unstable_requestPaint,hs=Yc.unstable_now,jUe=Yc.unstable_getCurrentPriorityLevel,fY=Yc.unstable_ImmediatePriority,zye=Yc.unstable_UserBlockingPriority,qI=Yc.unstable_NormalPriority,NUe=Yc.unstable_LowPriority,Hye=Yc.unstable_IdlePriority,U9=null,wp=null;function FUe(e){if(wp&&typeof wp.onCommitFiberRoot=="function")try{wp.onCommitFiberRoot(U9,e,void 0,(e.current.flags&128)===128)}catch{}}var nh=Math.clz32?Math.clz32:HUe,BUe=Math.log,zUe=Math.LN2;function HUe(e){return e>>>=0,e===0?32:31-(BUe(e)/zUe|0)|0}var $6=64,T6=4194304;function ck(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function GI(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=ck(a):(o&=s,o!==0&&(r=ck(o)))}else s=n&~i,s!==0?r=ck(s):o!==0&&(r=ck(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-nh(t),i=1<<n,r|=e[n],t&=~i;return r}function VUe(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function UUe(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-nh(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=VUe(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}function qH(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Vye(){var e=$6;return $6<<=1,!($6&4194240)&&($6=64),e}function uN(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function bT(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-nh(t),e[t]=n}function WUe(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-nh(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function hY(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-nh(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Ti=0;function Uye(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Wye,pY,Kye,qye,Gye,GH=!1,M6=[],m0=null,g0=null,v0=null,GP=new Map,ZP=new Map,cy=[],KUe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fie(e,t){switch(e){case"focusin":case"focusout":m0=null;break;case"dragenter":case"dragleave":g0=null;break;case"mouseover":case"mouseout":v0=null;break;case"pointerover":case"pointerout":GP.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ZP.delete(t.pointerId)}}function hE(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=xT(t),t!==null&&pY(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function qUe(e,t,n,r,i){switch(t){case"focusin":return m0=hE(m0,e,t,n,r,i),!0;case"dragenter":return g0=hE(g0,e,t,n,r,i),!0;case"mouseover":return v0=hE(v0,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return GP.set(o,hE(GP.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,ZP.set(o,hE(ZP.get(o)||null,e,t,n,r,i)),!0}return!1}function Zye(e){var t=bb(e.target);if(t!==null){var n=bx(t);if(n!==null){if(t=n.tag,t===13){if(t=jye(n),t!==null){e.blockedOn=t,Gye(e.priority,function(){Kye(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ZL(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ZH(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);VH=r,n.target.dispatchEvent(r),VH=null}else return t=xT(n),t!==null&&pY(t),e.blockedOn=n,!1;t.shift()}return!0}function hie(e,t,n){ZL(e)&&n.delete(t)}function GUe(){GH=!1,m0!==null&&ZL(m0)&&(m0=null),g0!==null&&ZL(g0)&&(g0=null),v0!==null&&ZL(v0)&&(v0=null),GP.forEach(hie),ZP.forEach(hie)}function pE(e,t){e.blockedOn===t&&(e.blockedOn=null,GH||(GH=!0,Yc.unstable_scheduleCallback(Yc.unstable_NormalPriority,GUe)))}function YP(e){function t(i){return pE(i,e)}if(0<M6.length){pE(M6[0],e);for(var n=1;n<M6.length;n++){var r=M6[n];r.blockedOn===e&&(r.blockedOn=null)}}for(m0!==null&&pE(m0,e),g0!==null&&pE(g0,e),v0!==null&&pE(v0,e),GP.forEach(t),ZP.forEach(t),n=0;n<cy.length;n++)r=cy[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<cy.length&&(n=cy[0],n.blockedOn===null);)Zye(n),n.blockedOn===null&&cy.shift()}var C2=tv.ReactCurrentBatchConfig,ZI=!0;function ZUe(e,t,n,r){var i=Ti,o=C2.transition;C2.transition=null;try{Ti=1,mY(e,t,n,r)}finally{Ti=i,C2.transition=o}}function YUe(e,t,n,r){var i=Ti,o=C2.transition;C2.transition=null;try{Ti=4,mY(e,t,n,r)}finally{Ti=i,C2.transition=o}}function mY(e,t,n,r){if(ZI){var i=ZH(e,t,n,r);if(i===null)bN(e,t,r,YI,n),fie(e,r);else if(qUe(i,e,t,n,r))r.stopPropagation();else if(fie(e,r),t&4&&-1<KUe.indexOf(e)){for(;i!==null;){var o=xT(i);if(o!==null&&Wye(o),o=ZH(e,t,n,r),o===null&&bN(e,t,r,YI,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else bN(e,t,r,null,n)}}var YI=null;function ZH(e,t,n,r){if(YI=null,e=dY(r),e=bb(e),e!==null)if(t=bx(e),t===null)e=null;else if(n=t.tag,n===13){if(e=jye(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return YI=e,null}function Yye(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(jUe()){case fY:return 1;case zye:return 4;case qI:case NUe:return 16;case Hye:return 536870912;default:return 16}default:return 16}}var r0=null,gY=null,YL=null;function Xye(){if(YL)return YL;var e,t=gY,n=t.length,r,i="value"in r0?r0.value:r0.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[o-r];r++);return YL=i.slice(e,1<r?1-r:void 0)}function XL(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function L6(){return!0}function pie(){return!1}function ld(e){function t(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?L6:pie,this.isPropagationStopped=pie,this}return Wo(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=L6)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=L6)},persist:function(){},isPersistent:L6}),t}var XC={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vY=ld(XC),wT=Wo({},XC,{view:0,detail:0}),XUe=ld(wT),cN,dN,mE,W9=Wo({},wT,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yY,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==mE&&(mE&&e.type==="mousemove"?(cN=e.screenX-mE.screenX,dN=e.screenY-mE.screenY):dN=cN=0,mE=e),cN)},movementY:function(e){return"movementY"in e?e.movementY:dN}}),mie=ld(W9),QUe=Wo({},W9,{dataTransfer:0}),JUe=ld(QUe),eWe=Wo({},wT,{relatedTarget:0}),fN=ld(eWe),tWe=Wo({},XC,{animationName:0,elapsedTime:0,pseudoElement:0}),nWe=ld(tWe),rWe=Wo({},XC,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),iWe=ld(rWe),oWe=Wo({},XC,{data:0}),gie=ld(oWe),sWe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},aWe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lWe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uWe(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=lWe[e])?!!t[e]:!1}function yY(){return uWe}var cWe=Wo({},wT,{key:function(e){if(e.key){var t=sWe[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=XL(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?aWe[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yY,charCode:function(e){return e.type==="keypress"?XL(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?XL(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),dWe=ld(cWe),fWe=Wo({},W9,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vie=ld(fWe),hWe=Wo({},wT,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yY}),pWe=ld(hWe),mWe=Wo({},XC,{propertyName:0,elapsedTime:0,pseudoElement:0}),gWe=ld(mWe),vWe=Wo({},W9,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),yWe=ld(vWe),bWe=[9,13,27,32],bY=Dg&&"CompositionEvent"in window,Gk=null;Dg&&"documentMode"in document&&(Gk=document.documentMode);var wWe=Dg&&"TextEvent"in window&&!Gk,Qye=Dg&&(!bY||Gk&&8<Gk&&11>=Gk),yie=" ",bie=!1;function Jye(e,t){switch(e){case"keyup":return bWe.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function e0e(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var US=!1;function xWe(e,t){switch(e){case"compositionend":return e0e(t);case"keypress":return t.which!==32?null:(bie=!0,yie);case"textInput":return e=t.data,e===yie&&bie?null:e;default:return null}}function SWe(e,t){if(US)return e==="compositionend"||!bY&&Jye(e,t)?(e=Xye(),YL=gY=r0=null,US=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Qye&&t.locale!=="ko"?null:t.data;default:return null}}var _We={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wie(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!_We[e.type]:t==="textarea"}function t0e(e,t,n,r){Aye(r),t=XI(t,"onChange"),0<t.length&&(n=new vY("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Zk=null,XP=null;function CWe(e){f0e(e,0)}function K9(e){var t=qS(e);if(Eye(t))return e}function EWe(e,t){if(e==="change")return t}var n0e=!1;if(Dg){var hN;if(Dg){var pN="oninput"in document;if(!pN){var xie=document.createElement("div");xie.setAttribute("oninput","return;"),pN=typeof xie.oninput=="function"}hN=pN}else hN=!1;n0e=hN&&(!document.documentMode||9<document.documentMode)}function Sie(){Zk&&(Zk.detachEvent("onpropertychange",r0e),XP=Zk=null)}function r0e(e){if(e.propertyName==="value"&&K9(XP)){var t=[];t0e(t,XP,e,dY(e)),Oye(CWe,t)}}function kWe(e,t,n){e==="focusin"?(Sie(),Zk=t,XP=n,Zk.attachEvent("onpropertychange",r0e)):e==="focusout"&&Sie()}function PWe(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return K9(XP)}function $We(e,t){if(e==="click")return K9(t)}function TWe(e,t){if(e==="input"||e==="change")return K9(t)}function MWe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var uh=typeof Object.is=="function"?Object.is:MWe;function QP(e,t){if(uh(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!LH.call(t,i)||!uh(e[i],t[i]))return!1}return!0}function _ie(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Cie(e,t){var n=_ie(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=_ie(n)}}function i0e(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?i0e(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function o0e(){for(var e=window,t=UI();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=UI(e.document)}return t}function wY(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function LWe(e){var t=o0e(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&i0e(n.ownerDocument.documentElement,n)){if(r!==null&&wY(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=Cie(n,o);var s=Cie(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var AWe=Dg&&"documentMode"in document&&11>=document.documentMode,WS=null,YH=null,Yk=null,XH=!1;function Eie(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;XH||WS==null||WS!==UI(r)||(r=WS,"selectionStart"in r&&wY(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Yk&&QP(Yk,r)||(Yk=r,r=XI(YH,"onSelect"),0<r.length&&(t=new vY("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=WS)))}function A6(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var KS={animationend:A6("Animation","AnimationEnd"),animationiteration:A6("Animation","AnimationIteration"),animationstart:A6("Animation","AnimationStart"),transitionend:A6("Transition","TransitionEnd")},mN={},s0e={};Dg&&(s0e=document.createElement("div").style,"AnimationEvent"in window||(delete KS.animationend.animation,delete KS.animationiteration.animation,delete KS.animationstart.animation),"TransitionEvent"in window||delete KS.transitionend.transition);function q9(e){if(mN[e])return mN[e];if(!KS[e])return e;var t=KS[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in s0e)return mN[e]=t[n];return e}var a0e=q9("animationend"),l0e=q9("animationiteration"),u0e=q9("animationstart"),c0e=q9("transitionend"),d0e=new Map,kie="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function G0(e,t){d0e.set(e,t),yx(t,[e])}for(var gN=0;gN<kie.length;gN++){var vN=kie[gN],IWe=vN.toLowerCase(),RWe=vN[0].toUpperCase()+vN.slice(1);G0(IWe,"on"+RWe)}G0(a0e,"onAnimationEnd");G0(l0e,"onAnimationIteration");G0(u0e,"onAnimationStart");G0("dblclick","onDoubleClick");G0("focusin","onFocus");G0("focusout","onBlur");G0(c0e,"onTransitionEnd");sC("onMouseEnter",["mouseout","mouseover"]);sC("onMouseLeave",["mouseout","mouseover"]);sC("onPointerEnter",["pointerout","pointerover"]);sC("onPointerLeave",["pointerout","pointerover"]);yx("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));yx("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));yx("onBeforeInput",["compositionend","keypress","textInput","paste"]);yx("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));yx("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));yx("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dk="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),DWe=new Set("cancel close invalid load scroll toggle".split(" ").concat(dk));function Pie(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,IUe(r,t,void 0,e),e.currentTarget=null}function f0e(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;Pie(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;Pie(i,a,u),o=l}}}if(KI)throw e=KH,KI=!1,KH=null,e}function ho(e,t){var n=t[nV];n===void 0&&(n=t[nV]=new Set);var r=e+"__bubble";n.has(r)||(h0e(t,e,2,!1),n.add(r))}function yN(e,t,n){var r=0;t&&(r|=4),h0e(n,e,r,t)}var I6="_reactListening"+Math.random().toString(36).slice(2);function JP(e){if(!e[I6]){e[I6]=!0,wye.forEach(function(n){n!=="selectionchange"&&(DWe.has(n)||yN(n,!1,e),yN(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[I6]||(t[I6]=!0,yN("selectionchange",!1,t))}}function h0e(e,t,n,r){switch(Yye(t)){case 1:var i=ZUe;break;case 4:i=YUe;break;default:i=mY}n=i.bind(null,t,n,e),i=void 0,!WH||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function bN(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=bb(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}Oye(function(){var u=o,c=dY(n),f=[];e:{var p=d0e.get(e);if(p!==void 0){var g=vY,v=e;switch(e){case"keypress":if(XL(n)===0)break e;case"keydown":case"keyup":g=dWe;break;case"focusin":v="focus",g=fN;break;case"focusout":v="blur",g=fN;break;case"beforeblur":case"afterblur":g=fN;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=mie;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=JUe;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=pWe;break;case a0e:case l0e:case u0e:g=nWe;break;case c0e:g=gWe;break;case"scroll":g=XUe;break;case"wheel":g=yWe;break;case"copy":case"cut":case"paste":g=iWe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=vie}var y=(t&4)!==0,S=!y&&e==="scroll",C=y?p!==null?p+"Capture":null:p;y=[];for(var _=u,k;_!==null;){k=_;var w=k.stateNode;if(k.tag===5&&w!==null&&(k=w,C!==null&&(w=qP(_,C),w!=null&&y.push(e4(_,w,k)))),S)break;_=_.return}0<y.length&&(p=new g(p,v,null,n,c),f.push({event:p,listeners:y}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",p&&n!==VH&&(v=n.relatedTarget||n.fromElement)&&(bb(v)||v[Og]))break e;if((g||p)&&(p=c.window===c?c:(p=c.ownerDocument)?p.defaultView||p.parentWindow:window,g?(v=n.relatedTarget||n.toElement,g=u,v=v?bb(v):null,v!==null&&(S=bx(v),v!==S||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=u),g!==v)){if(y=mie,w="onMouseLeave",C="onMouseEnter",_="mouse",(e==="pointerout"||e==="pointerover")&&(y=vie,w="onPointerLeave",C="onPointerEnter",_="pointer"),S=g==null?p:qS(g),k=v==null?p:qS(v),p=new y(w,_+"leave",g,n,c),p.target=S,p.relatedTarget=k,w=null,bb(c)===u&&(y=new y(C,_+"enter",v,n,c),y.target=k,y.relatedTarget=S,w=y),S=w,g&&v)t:{for(y=g,C=v,_=0,k=y;k;k=eS(k))_++;for(k=0,w=C;w;w=eS(w))k++;for(;0<_-k;)y=eS(y),_--;for(;0<k-_;)C=eS(C),k--;for(;_--;){if(y===C||C!==null&&y===C.alternate)break t;y=eS(y),C=eS(C)}y=null}else y=null;g!==null&&$ie(f,p,g,y,!1),v!==null&&S!==null&&$ie(f,S,v,y,!0)}}e:{if(p=u?qS(u):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var P=EWe;else if(wie(p))if(n0e)P=TWe;else{P=PWe;var M=kWe}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(P=$We);if(P&&(P=P(e,u))){t0e(f,P,n,c);break e}M&&M(e,p,u),e==="focusout"&&(M=p._wrapperState)&&M.controlled&&p.type==="number"&&NH(p,"number",p.value)}switch(M=u?qS(u):window,e){case"focusin":(wie(M)||M.contentEditable==="true")&&(WS=M,YH=u,Yk=null);break;case"focusout":Yk=YH=WS=null;break;case"mousedown":XH=!0;break;case"contextmenu":case"mouseup":case"dragend":XH=!1,Eie(f,n,c);break;case"selectionchange":if(AWe)break;case"keydown":case"keyup":Eie(f,n,c)}var R;if(bY)e:{switch(e){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else US?Jye(e,n)&&(D="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(D="onCompositionStart");D&&(Qye&&n.locale!=="ko"&&(US||D!=="onCompositionStart"?D==="onCompositionEnd"&&US&&(R=Xye()):(r0=c,gY="value"in r0?r0.value:r0.textContent,US=!0)),M=XI(u,D),0<M.length&&(D=new gie(D,e,null,n,c),f.push({event:D,listeners:M}),R?D.data=R:(R=e0e(n),R!==null&&(D.data=R)))),(R=wWe?xWe(e,n):SWe(e,n))&&(u=XI(u,"onBeforeInput"),0<u.length&&(c=new gie("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=R))}f0e(f,t)})}function e4(e,t,n){return{instance:e,listener:t,currentTarget:n}}function XI(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=qP(e,n),o!=null&&r.unshift(e4(e,o,i)),o=qP(e,t),o!=null&&r.push(e4(e,o,i))),e=e.return}return r}function eS(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function $ie(e,t,n,r,i){for(var o=t._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=qP(n,o),l!=null&&s.unshift(e4(n,l,a))):i||(l=qP(n,o),l!=null&&s.push(e4(n,l,a)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var OWe=/\r\n?/g,jWe=/\u0000|\uFFFD/g;function Tie(e){return(typeof e=="string"?e:""+e).replace(OWe,`
`).replace(jWe,"")}function R6(e,t,n){if(t=Tie(t),Tie(e)!==t&&n)throw Error(ht(425))}function QI(){}var QH=null,JH=null;function eV(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var tV=typeof setTimeout=="function"?setTimeout:void 0,NWe=typeof clearTimeout=="function"?clearTimeout:void 0,Mie=typeof Promise=="function"?Promise:void 0,FWe=typeof queueMicrotask=="function"?queueMicrotask:typeof Mie<"u"?function(e){return Mie.resolve(null).then(e).catch(BWe)}:tV;function BWe(e){setTimeout(function(){throw e})}function wN(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),YP(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);YP(t)}function y0(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Lie(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var QC=Math.random().toString(36).slice(2),fp="__reactFiber$"+QC,t4="__reactProps$"+QC,Og="__reactContainer$"+QC,nV="__reactEvents$"+QC,zWe="__reactListeners$"+QC,HWe="__reactHandles$"+QC;function bb(e){var t=e[fp];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Og]||n[fp]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Lie(e);e!==null;){if(n=e[fp])return n;e=Lie(e)}return t}e=n,n=e.parentNode}return null}function xT(e){return e=e[fp]||e[Og],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function qS(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ht(33))}function G9(e){return e[t4]||null}var rV=[],GS=-1;function Z0(e){return{current:e}}function So(e){0>GS||(e.current=rV[GS],rV[GS]=null,GS--)}function to(e,t){GS++,rV[GS]=e.current,e.current=t}var M0={},Al=Z0(M0),tc=Z0(!1),Bw=M0;function aC(e,t){var n=e.type.contextTypes;if(!n)return M0;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function nc(e){return e=e.childContextTypes,e!=null}function JI(){So(tc),So(Al)}function Aie(e,t,n){if(Al.current!==M0)throw Error(ht(168));to(Al,t),to(tc,n)}function p0e(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(ht(108,kUe(e)||"Unknown",i));return Wo({},n,r)}function eR(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||M0,Bw=Al.current,to(Al,e),to(tc,tc.current),!0}function Iie(e,t,n){var r=e.stateNode;if(!r)throw Error(ht(169));n?(e=p0e(e,t,Bw),r.__reactInternalMemoizedMergedChildContext=e,So(tc),So(Al),to(Al,e)):So(tc),to(tc,n)}var Am=null,Z9=!1,xN=!1;function m0e(e){Am===null?Am=[e]:Am.push(e)}function VWe(e){Z9=!0,m0e(e)}function Y0(){if(!xN&&Am!==null){xN=!0;var e=0,t=Ti;try{var n=Am;for(Ti=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Am=null,Z9=!1}catch(i){throw Am!==null&&(Am=Am.slice(e+1)),Bye(fY,Y0),i}finally{Ti=t,xN=!1}}return null}var ZS=[],YS=0,tR=null,nR=0,Ud=[],Wd=0,zw=null,fg=1,hg="";function H1(e,t){ZS[YS++]=nR,ZS[YS++]=tR,tR=e,nR=t}function g0e(e,t,n){Ud[Wd++]=fg,Ud[Wd++]=hg,Ud[Wd++]=zw,zw=e;var r=fg;e=hg;var i=32-nh(r)-1;r&=~(1<<i),n+=1;var o=32-nh(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,fg=1<<32-nh(t)+i|n<<i|r,hg=o+e}else fg=1<<o|n<<i|r,hg=e}function xY(e){e.return!==null&&(H1(e,1),g0e(e,1,0))}function SY(e){for(;e===tR;)tR=ZS[--YS],ZS[YS]=null,nR=ZS[--YS],ZS[YS]=null;for(;e===zw;)zw=Ud[--Wd],Ud[Wd]=null,hg=Ud[--Wd],Ud[Wd]=null,fg=Ud[--Wd],Ud[Wd]=null}var Kc=null,Wc=null,Ao=!1,Yf=null;function v0e(e,t){var n=Yd(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Rie(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Kc=e,Wc=y0(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Kc=e,Wc=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=zw!==null?{id:fg,overflow:hg}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Yd(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Kc=e,Wc=null,!0):!1;default:return!1}}function iV(e){return(e.mode&1)!==0&&(e.flags&128)===0}function oV(e){if(Ao){var t=Wc;if(t){var n=t;if(!Rie(e,t)){if(iV(e))throw Error(ht(418));t=y0(n.nextSibling);var r=Kc;t&&Rie(e,t)?v0e(r,n):(e.flags=e.flags&-4097|2,Ao=!1,Kc=e)}}else{if(iV(e))throw Error(ht(418));e.flags=e.flags&-4097|2,Ao=!1,Kc=e}}}function Die(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Kc=e}function D6(e){if(e!==Kc)return!1;if(!Ao)return Die(e),Ao=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!eV(e.type,e.memoizedProps)),t&&(t=Wc)){if(iV(e))throw y0e(),Error(ht(418));for(;t;)v0e(e,t),t=y0(t.nextSibling)}if(Die(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ht(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Wc=y0(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Wc=null}}else Wc=Kc?y0(e.stateNode.nextSibling):null;return!0}function y0e(){for(var e=Wc;e;)e=y0(e.nextSibling)}function lC(){Wc=Kc=null,Ao=!1}function _Y(e){Yf===null?Yf=[e]:Yf.push(e)}var UWe=tv.ReactCurrentBatchConfig;function gE(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ht(309));var r=n.stateNode}if(!r)throw Error(ht(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(ht(284));if(!n._owner)throw Error(ht(290,e))}return e}function O6(e,t){throw e=Object.prototype.toString.call(t),Error(ht(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Oie(e){var t=e._init;return t(e._payload)}function b0e(e){function t(C,_){if(e){var k=C.deletions;k===null?(C.deletions=[_],C.flags|=16):k.push(_)}}function n(C,_){if(!e)return null;for(;_!==null;)t(C,_),_=_.sibling;return null}function r(C,_){for(C=new Map;_!==null;)_.key!==null?C.set(_.key,_):C.set(_.index,_),_=_.sibling;return C}function i(C,_){return C=S0(C,_),C.index=0,C.sibling=null,C}function o(C,_,k){return C.index=k,e?(k=C.alternate,k!==null?(k=k.index,k<_?(C.flags|=2,_):k):(C.flags|=2,_)):(C.flags|=1048576,_)}function s(C){return e&&C.alternate===null&&(C.flags|=2),C}function a(C,_,k,w){return _===null||_.tag!==6?(_=$N(k,C.mode,w),_.return=C,_):(_=i(_,k),_.return=C,_)}function l(C,_,k,w){var P=k.type;return P===VS?c(C,_,k.props.children,w,k.key):_!==null&&(_.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===ty&&Oie(P)===_.type)?(w=i(_,k.props),w.ref=gE(C,_,k),w.return=C,w):(w=iA(k.type,k.key,k.props,null,C.mode,w),w.ref=gE(C,_,k),w.return=C,w)}function u(C,_,k,w){return _===null||_.tag!==4||_.stateNode.containerInfo!==k.containerInfo||_.stateNode.implementation!==k.implementation?(_=TN(k,C.mode,w),_.return=C,_):(_=i(_,k.children||[]),_.return=C,_)}function c(C,_,k,w,P){return _===null||_.tag!==7?(_=Sw(k,C.mode,w,P),_.return=C,_):(_=i(_,k),_.return=C,_)}function f(C,_,k){if(typeof _=="string"&&_!==""||typeof _=="number")return _=$N(""+_,C.mode,k),_.return=C,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case E6:return k=iA(_.type,_.key,_.props,null,C.mode,k),k.ref=gE(C,null,_),k.return=C,k;case HS:return _=TN(_,C.mode,k),_.return=C,_;case ty:var w=_._init;return f(C,w(_._payload),k)}if(uk(_)||dE(_))return _=Sw(_,C.mode,k,null),_.return=C,_;O6(C,_)}return null}function p(C,_,k,w){var P=_!==null?_.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return P!==null?null:a(C,_,""+k,w);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case E6:return k.key===P?l(C,_,k,w):null;case HS:return k.key===P?u(C,_,k,w):null;case ty:return P=k._init,p(C,_,P(k._payload),w)}if(uk(k)||dE(k))return P!==null?null:c(C,_,k,w,null);O6(C,k)}return null}function g(C,_,k,w,P){if(typeof w=="string"&&w!==""||typeof w=="number")return C=C.get(k)||null,a(_,C,""+w,P);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case E6:return C=C.get(w.key===null?k:w.key)||null,l(_,C,w,P);case HS:return C=C.get(w.key===null?k:w.key)||null,u(_,C,w,P);case ty:var M=w._init;return g(C,_,k,M(w._payload),P)}if(uk(w)||dE(w))return C=C.get(k)||null,c(_,C,w,P,null);O6(_,w)}return null}function v(C,_,k,w){for(var P=null,M=null,R=_,D=_=0,H=null;R!==null&&D<k.length;D++){R.index>D?(H=R,R=null):H=R.sibling;var O=p(C,R,k[D],w);if(O===null){R===null&&(R=H);break}e&&R&&O.alternate===null&&t(C,R),_=o(O,_,D),M===null?P=O:M.sibling=O,M=O,R=H}if(D===k.length)return n(C,R),Ao&&H1(C,D),P;if(R===null){for(;D<k.length;D++)R=f(C,k[D],w),R!==null&&(_=o(R,_,D),M===null?P=R:M.sibling=R,M=R);return Ao&&H1(C,D),P}for(R=r(C,R);D<k.length;D++)H=g(R,C,D,k[D],w),H!==null&&(e&&H.alternate!==null&&R.delete(H.key===null?D:H.key),_=o(H,_,D),M===null?P=H:M.sibling=H,M=H);return e&&R.forEach(function(z){return t(C,z)}),Ao&&H1(C,D),P}function y(C,_,k,w){var P=dE(k);if(typeof P!="function")throw Error(ht(150));if(k=P.call(k),k==null)throw Error(ht(151));for(var M=P=null,R=_,D=_=0,H=null,O=k.next();R!==null&&!O.done;D++,O=k.next()){R.index>D?(H=R,R=null):H=R.sibling;var z=p(C,R,O.value,w);if(z===null){R===null&&(R=H);break}e&&R&&z.alternate===null&&t(C,R),_=o(z,_,D),M===null?P=z:M.sibling=z,M=z,R=H}if(O.done)return n(C,R),Ao&&H1(C,D),P;if(R===null){for(;!O.done;D++,O=k.next())O=f(C,O.value,w),O!==null&&(_=o(O,_,D),M===null?P=O:M.sibling=O,M=O);return Ao&&H1(C,D),P}for(R=r(C,R);!O.done;D++,O=k.next())O=g(R,C,D,O.value,w),O!==null&&(e&&O.alternate!==null&&R.delete(O.key===null?D:O.key),_=o(O,_,D),M===null?P=O:M.sibling=O,M=O);return e&&R.forEach(function(G){return t(C,G)}),Ao&&H1(C,D),P}function S(C,_,k,w){if(typeof k=="object"&&k!==null&&k.type===VS&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case E6:e:{for(var P=k.key,M=_;M!==null;){if(M.key===P){if(P=k.type,P===VS){if(M.tag===7){n(C,M.sibling),_=i(M,k.props.children),_.return=C,C=_;break e}}else if(M.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===ty&&Oie(P)===M.type){n(C,M.sibling),_=i(M,k.props),_.ref=gE(C,M,k),_.return=C,C=_;break e}n(C,M);break}else t(C,M);M=M.sibling}k.type===VS?(_=Sw(k.props.children,C.mode,w,k.key),_.return=C,C=_):(w=iA(k.type,k.key,k.props,null,C.mode,w),w.ref=gE(C,_,k),w.return=C,C=w)}return s(C);case HS:e:{for(M=k.key;_!==null;){if(_.key===M)if(_.tag===4&&_.stateNode.containerInfo===k.containerInfo&&_.stateNode.implementation===k.implementation){n(C,_.sibling),_=i(_,k.children||[]),_.return=C,C=_;break e}else{n(C,_);break}else t(C,_);_=_.sibling}_=TN(k,C.mode,w),_.return=C,C=_}return s(C);case ty:return M=k._init,S(C,_,M(k._payload),w)}if(uk(k))return v(C,_,k,w);if(dE(k))return y(C,_,k,w);O6(C,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,_!==null&&_.tag===6?(n(C,_.sibling),_=i(_,k),_.return=C,C=_):(n(C,_),_=$N(k,C.mode,w),_.return=C,C=_),s(C)):n(C,_)}return S}var uC=b0e(!0),w0e=b0e(!1),rR=Z0(null),iR=null,XS=null,CY=null;function EY(){CY=XS=iR=null}function kY(e){var t=rR.current;So(rR),e._currentValue=t}function sV(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function E2(e,t){iR=e,CY=XS=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Xu=!0),e.firstContext=null)}function Jd(e){var t=e._currentValue;if(CY!==e)if(e={context:e,memoizedValue:t,next:null},XS===null){if(iR===null)throw Error(ht(308));XS=e,iR.dependencies={lanes:0,firstContext:e}}else XS=XS.next=e;return t}var wb=null;function PY(e){wb===null?wb=[e]:wb.push(e)}function x0e(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,PY(t)):(n.next=i.next,i.next=n),t.interleaved=n,jg(e,r)}function jg(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var ny=!1;function $Y(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function S0e(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function bg(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function b0(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ni&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,jg(e,n)}return i=r.interleaved,i===null?(t.next=t,PY(r)):(t.next=i.next,i.next=t),r.interleaved=t,jg(e,n)}function QL(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,hY(e,n)}}function jie(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function oR(e,t,n,r){var i=e.updateQueue;ny=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;s=0,c=u=l=null,a=o;do{var p=a.lane,g=a.eventTime;if((r&p)===p){c!==null&&(c=c.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=e,y=a;switch(p=t,g=n,y.tag){case 1:if(v=y.payload,typeof v=="function"){f=v.call(g,f,p);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,p=typeof v=="function"?v.call(g,f,p):v,p==null)break e;f=Wo({},f,p);break e;case 2:ny=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else g={eventTime:g,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=g,l=f):c=c.next=g,s|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);Vw|=s,e.lanes=s,e.memoizedState=f}}function Nie(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ht(191,i));i.call(r)}}}var ST={},xp=Z0(ST),n4=Z0(ST),r4=Z0(ST);function xb(e){if(e===ST)throw Error(ht(174));return e}function TY(e,t){switch(to(r4,t),to(n4,e),to(xp,ST),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:BH(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=BH(t,e)}So(xp),to(xp,t)}function cC(){So(xp),So(n4),So(r4)}function _0e(e){xb(r4.current);var t=xb(xp.current),n=BH(t,e.type);t!==n&&(to(n4,e),to(xp,n))}function MY(e){n4.current===e&&(So(xp),So(n4))}var zo=Z0(0);function sR(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var SN=[];function LY(){for(var e=0;e<SN.length;e++)SN[e]._workInProgressVersionPrimary=null;SN.length=0}var JL=tv.ReactCurrentDispatcher,_N=tv.ReactCurrentBatchConfig,Hw=0,Uo=null,Gs=null,ga=null,aR=!1,Xk=!1,i4=0,WWe=0;function vl(){throw Error(ht(321))}function AY(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!uh(e[n],t[n]))return!1;return!0}function IY(e,t,n,r,i,o){if(Hw=o,Uo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,JL.current=e===null||e.memoizedState===null?ZWe:YWe,e=n(r,i),Xk){o=0;do{if(Xk=!1,i4=0,25<=o)throw Error(ht(301));o+=1,ga=Gs=null,t.updateQueue=null,JL.current=XWe,e=n(r,i)}while(Xk)}if(JL.current=lR,t=Gs!==null&&Gs.next!==null,Hw=0,ga=Gs=Uo=null,aR=!1,t)throw Error(ht(300));return e}function RY(){var e=i4!==0;return i4=0,e}function qh(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ga===null?Uo.memoizedState=ga=e:ga=ga.next=e,ga}function ef(){if(Gs===null){var e=Uo.alternate;e=e!==null?e.memoizedState:null}else e=Gs.next;var t=ga===null?Uo.memoizedState:ga.next;if(t!==null)ga=t,Gs=e;else{if(e===null)throw Error(ht(310));Gs=e,e={memoizedState:Gs.memoizedState,baseState:Gs.baseState,baseQueue:Gs.baseQueue,queue:Gs.queue,next:null},ga===null?Uo.memoizedState=ga=e:ga=ga.next=e}return ga}function o4(e,t){return typeof t=="function"?t(e):t}function CN(e){var t=ef(),n=t.queue;if(n===null)throw Error(ht(311));n.lastRenderedReducer=e;var r=Gs,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var c=u.lane;if((Hw&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,s=r):l=l.next=f,Uo.lanes|=c,Vw|=c}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,uh(r,t.memoizedState)||(Xu=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,Uo.lanes|=o,Vw|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function EN(e){var t=ef(),n=t.queue;if(n===null)throw Error(ht(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=e(o,s.action),s=s.next;while(s!==i);uh(o,t.memoizedState)||(Xu=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function C0e(){}function E0e(e,t){var n=Uo,r=ef(),i=t(),o=!uh(r.memoizedState,i);if(o&&(r.memoizedState=i,Xu=!0),r=r.queue,DY($0e.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||ga!==null&&ga.memoizedState.tag&1){if(n.flags|=2048,s4(9,P0e.bind(null,n,r,i,t),void 0,null),xa===null)throw Error(ht(349));Hw&30||k0e(n,t,i)}return i}function k0e(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Uo.updateQueue,t===null?(t={lastEffect:null,stores:null},Uo.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function P0e(e,t,n,r){t.value=n,t.getSnapshot=r,T0e(t)&&M0e(e)}function $0e(e,t,n){return n(function(){T0e(t)&&M0e(e)})}function T0e(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!uh(e,n)}catch{return!0}}function M0e(e){var t=jg(e,1);t!==null&&rh(t,e,1,-1)}function Fie(e){var t=qh();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o4,lastRenderedState:e},t.queue=e,e=e.dispatch=GWe.bind(null,Uo,e),[t.memoizedState,e]}function s4(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Uo.updateQueue,t===null?(t={lastEffect:null,stores:null},Uo.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function L0e(){return ef().memoizedState}function eA(e,t,n,r){var i=qh();Uo.flags|=e,i.memoizedState=s4(1|t,n,void 0,r===void 0?null:r)}function Y9(e,t,n,r){var i=ef();r=r===void 0?null:r;var o=void 0;if(Gs!==null){var s=Gs.memoizedState;if(o=s.destroy,r!==null&&AY(r,s.deps)){i.memoizedState=s4(t,n,o,r);return}}Uo.flags|=e,i.memoizedState=s4(1|t,n,o,r)}function Bie(e,t){return eA(8390656,8,e,t)}function DY(e,t){return Y9(2048,8,e,t)}function A0e(e,t){return Y9(4,2,e,t)}function I0e(e,t){return Y9(4,4,e,t)}function R0e(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function D0e(e,t,n){return n=n!=null?n.concat([e]):null,Y9(4,4,R0e.bind(null,t,e),n)}function OY(){}function O0e(e,t){var n=ef();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&AY(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function j0e(e,t){var n=ef();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&AY(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function N0e(e,t,n){return Hw&21?(uh(n,t)||(n=Vye(),Uo.lanes|=n,Vw|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Xu=!0),e.memoizedState=n)}function KWe(e,t){var n=Ti;Ti=n!==0&&4>n?n:4,e(!0);var r=_N.transition;_N.transition={};try{e(!1),t()}finally{Ti=n,_N.transition=r}}function F0e(){return ef().memoizedState}function qWe(e,t,n){var r=x0(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},B0e(e))z0e(t,n);else if(n=x0e(e,t,n,r),n!==null){var i=su();rh(n,e,r,i),H0e(n,t,r)}}function GWe(e,t,n){var r=x0(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(B0e(e))z0e(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,uh(a,s)){var l=t.interleaved;l===null?(i.next=i,PY(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=x0e(e,t,i,r),n!==null&&(i=su(),rh(n,e,r,i),H0e(n,t,r))}}function B0e(e){var t=e.alternate;return e===Uo||t!==null&&t===Uo}function z0e(e,t){Xk=aR=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function H0e(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,hY(e,n)}}var lR={readContext:Jd,useCallback:vl,useContext:vl,useEffect:vl,useImperativeHandle:vl,useInsertionEffect:vl,useLayoutEffect:vl,useMemo:vl,useReducer:vl,useRef:vl,useState:vl,useDebugValue:vl,useDeferredValue:vl,useTransition:vl,useMutableSource:vl,useSyncExternalStore:vl,useId:vl,unstable_isNewReconciler:!1},ZWe={readContext:Jd,useCallback:function(e,t){return qh().memoizedState=[e,t===void 0?null:t],e},useContext:Jd,useEffect:Bie,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,eA(4194308,4,R0e.bind(null,t,e),n)},useLayoutEffect:function(e,t){return eA(4194308,4,e,t)},useInsertionEffect:function(e,t){return eA(4,2,e,t)},useMemo:function(e,t){var n=qh();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=qh();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=qWe.bind(null,Uo,e),[r.memoizedState,e]},useRef:function(e){var t=qh();return e={current:e},t.memoizedState=e},useState:Fie,useDebugValue:OY,useDeferredValue:function(e){return qh().memoizedState=e},useTransition:function(){var e=Fie(!1),t=e[0];return e=KWe.bind(null,e[1]),qh().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Uo,i=qh();if(Ao){if(n===void 0)throw Error(ht(407));n=n()}else{if(n=t(),xa===null)throw Error(ht(349));Hw&30||k0e(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Bie($0e.bind(null,r,o,e),[e]),r.flags|=2048,s4(9,P0e.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=qh(),t=xa.identifierPrefix;if(Ao){var n=hg,r=fg;n=(r&~(1<<32-nh(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=i4++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=WWe++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},YWe={readContext:Jd,useCallback:O0e,useContext:Jd,useEffect:DY,useImperativeHandle:D0e,useInsertionEffect:A0e,useLayoutEffect:I0e,useMemo:j0e,useReducer:CN,useRef:L0e,useState:function(){return CN(o4)},useDebugValue:OY,useDeferredValue:function(e){var t=ef();return N0e(t,Gs.memoizedState,e)},useTransition:function(){var e=CN(o4)[0],t=ef().memoizedState;return[e,t]},useMutableSource:C0e,useSyncExternalStore:E0e,useId:F0e,unstable_isNewReconciler:!1},XWe={readContext:Jd,useCallback:O0e,useContext:Jd,useEffect:DY,useImperativeHandle:D0e,useInsertionEffect:A0e,useLayoutEffect:I0e,useMemo:j0e,useReducer:EN,useRef:L0e,useState:function(){return EN(o4)},useDebugValue:OY,useDeferredValue:function(e){var t=ef();return Gs===null?t.memoizedState=e:N0e(t,Gs.memoizedState,e)},useTransition:function(){var e=EN(o4)[0],t=ef().memoizedState;return[e,t]},useMutableSource:C0e,useSyncExternalStore:E0e,useId:F0e,unstable_isNewReconciler:!1};function Df(e,t){if(e&&e.defaultProps){t=Wo({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function aV(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Wo({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var X9={isMounted:function(e){return(e=e._reactInternals)?bx(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=su(),i=x0(e),o=bg(r,i);o.payload=t,n!=null&&(o.callback=n),t=b0(e,o,i),t!==null&&(rh(t,e,i,r),QL(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=su(),i=x0(e),o=bg(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=b0(e,o,i),t!==null&&(rh(t,e,i,r),QL(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=su(),r=x0(e),i=bg(n,r);i.tag=2,t!=null&&(i.callback=t),t=b0(e,i,r),t!==null&&(rh(t,e,r,n),QL(t,e,r))}};function zie(e,t,n,r,i,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,s):t.prototype&&t.prototype.isPureReactComponent?!QP(n,r)||!QP(i,o):!0}function V0e(e,t,n){var r=!1,i=M0,o=t.contextType;return typeof o=="object"&&o!==null?o=Jd(o):(i=nc(t)?Bw:Al.current,r=t.contextTypes,o=(r=r!=null)?aC(e,i):M0),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=X9,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Hie(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&X9.enqueueReplaceState(t,t.state,null)}function lV(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},$Y(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=Jd(o):(o=nc(t)?Bw:Al.current,i.context=aC(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(aV(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&X9.enqueueReplaceState(i,i.state,null),oR(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function dC(e,t){try{var n="",r=t;do n+=EUe(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function kN(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function uV(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var QWe=typeof WeakMap=="function"?WeakMap:Map;function U0e(e,t,n){n=bg(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){cR||(cR=!0,bV=r),uV(e,t)},n}function W0e(e,t,n){n=bg(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){uV(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){uV(e,t),typeof r!="function"&&(w0===null?w0=new Set([this]):w0.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function Vie(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new QWe;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=fKe.bind(null,e,t,n),t.then(e,e))}function Uie(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Wie(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=bg(-1,1),t.tag=2,b0(n,t,1))),n.lanes|=1),e)}var JWe=tv.ReactCurrentOwner,Xu=!1;function Ql(e,t,n,r){t.child=e===null?w0e(t,null,n,r):uC(t,e.child,n,r)}function Kie(e,t,n,r,i){n=n.render;var o=t.ref;return E2(t,i),r=IY(e,t,n,r,o,i),n=RY(),e!==null&&!Xu?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ng(e,t,i)):(Ao&&n&&xY(t),t.flags|=1,Ql(e,t,r,i),t.child)}function qie(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!UY(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,K0e(e,t,o,r,i)):(e=iA(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:QP,n(s,r)&&e.ref===t.ref)return Ng(e,t,i)}return t.flags|=1,e=S0(o,r),e.ref=t.ref,e.return=t,t.child=e}function K0e(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(QP(o,r)&&e.ref===t.ref)if(Xu=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(Xu=!0);else return t.lanes=e.lanes,Ng(e,t,i)}return cV(e,t,n,r,i)}function q0e(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},to(JS,Rc),Rc|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,to(JS,Rc),Rc|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,to(JS,Rc),Rc|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,to(JS,Rc),Rc|=r;return Ql(e,t,i,n),t.child}function G0e(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function cV(e,t,n,r,i){var o=nc(n)?Bw:Al.current;return o=aC(t,o),E2(t,i),n=IY(e,t,n,r,o,i),r=RY(),e!==null&&!Xu?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ng(e,t,i)):(Ao&&r&&xY(t),t.flags|=1,Ql(e,t,n,i),t.child)}function Gie(e,t,n,r,i){if(nc(n)){var o=!0;eR(t)}else o=!1;if(E2(t,i),t.stateNode===null)tA(e,t),V0e(t,n,r),lV(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=Jd(u):(u=nc(n)?Bw:Al.current,u=aC(t,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Hie(t,s,r,u),ny=!1;var p=t.memoizedState;s.state=p,oR(t,r,s,i),l=t.memoizedState,a!==r||p!==l||tc.current||ny?(typeof c=="function"&&(aV(t,n,c,r),l=t.memoizedState),(a=ny||zie(t,n,a,r,p,l,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,S0e(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:Df(t.type,a),s.props=u,f=t.pendingProps,p=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Jd(l):(l=nc(n)?Bw:Al.current,l=aC(t,l));var g=n.getDerivedStateFromProps;(c=typeof g=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||p!==l)&&Hie(t,s,r,l),ny=!1,p=t.memoizedState,s.state=p,oR(t,r,s,i);var v=t.memoizedState;a!==f||p!==v||tc.current||ny?(typeof g=="function"&&(aV(t,n,g,r),v=t.memoizedState),(u=ny||zie(t,n,u,r,p,v,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,v,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,v,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),s.props=r,s.state=v,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return dV(e,t,n,r,o,i)}function dV(e,t,n,r,i,o){G0e(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&Iie(t,n,!1),Ng(e,t,o);r=t.stateNode,JWe.current=t;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=uC(t,e.child,null,o),t.child=uC(t,null,a,o)):Ql(e,t,a,o),t.memoizedState=r.state,i&&Iie(t,n,!0),t.child}function Z0e(e){var t=e.stateNode;t.pendingContext?Aie(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Aie(e,t.context,!1),TY(e,t.containerInfo)}function Zie(e,t,n,r,i){return lC(),_Y(i),t.flags|=256,Ql(e,t,n,r),t.child}var fV={dehydrated:null,treeContext:null,retryLane:0};function hV(e){return{baseLanes:e,cachePool:null,transitions:null}}function Y0e(e,t,n){var r=t.pendingProps,i=zo.current,o=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),to(zo,i&1),e===null)return oV(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,o?(r=t.mode,o=t.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=eO(s,r,0,null),e=Sw(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=hV(n),t.memoizedState=fV,e):jY(t,s));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return eKe(e,t,s,r,a,i,n);if(o){o=r.fallback,s=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=S0(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=S0(a,o):(o=Sw(o,s,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,s=e.child.memoizedState,s=s===null?hV(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~n,t.memoizedState=fV,r}return o=e.child,e=o.sibling,r=S0(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function jY(e,t){return t=eO({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function j6(e,t,n,r){return r!==null&&_Y(r),uC(t,e.child,null,n),e=jY(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function eKe(e,t,n,r,i,o,s){if(n)return t.flags&256?(t.flags&=-257,r=kN(Error(ht(422))),j6(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=eO({mode:"visible",children:r.children},i,0,null),o=Sw(o,i,s,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&uC(t,e.child,null,s),t.child.memoizedState=hV(s),t.memoizedState=fV,o);if(!(t.mode&1))return j6(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(ht(419)),r=kN(o,r,void 0),j6(e,t,s,r)}if(a=(s&e.childLanes)!==0,Xu||a){if(r=xa,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,jg(e,i),rh(r,e,i,-1))}return VY(),r=kN(Error(ht(421))),j6(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=hKe.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,Wc=y0(i.nextSibling),Kc=t,Ao=!0,Yf=null,e!==null&&(Ud[Wd++]=fg,Ud[Wd++]=hg,Ud[Wd++]=zw,fg=e.id,hg=e.overflow,zw=t),t=jY(t,r.children),t.flags|=4096,t)}function Yie(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),sV(e.return,t,n)}function PN(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function X0e(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Ql(e,t,r.children,n),r=zo.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Yie(e,n,t);else if(e.tag===19)Yie(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(to(zo,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&sR(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),PN(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&sR(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}PN(t,!0,n,null,o);break;case"together":PN(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function tA(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ng(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Vw|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ht(153));if(t.child!==null){for(e=t.child,n=S0(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=S0(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function tKe(e,t,n){switch(t.tag){case 3:Z0e(t),lC();break;case 5:_0e(t);break;case 1:nc(t.type)&&eR(t);break;case 4:TY(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;to(rR,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(to(zo,zo.current&1),t.flags|=128,null):n&t.child.childLanes?Y0e(e,t,n):(to(zo,zo.current&1),e=Ng(e,t,n),e!==null?e.sibling:null);to(zo,zo.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return X0e(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),to(zo,zo.current),r)break;return null;case 22:case 23:return t.lanes=0,q0e(e,t,n)}return Ng(e,t,n)}var Q0e,pV,J0e,e1e;Q0e=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};pV=function(){};J0e=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,xb(xp.current);var o=null;switch(n){case"input":i=OH(e,i),r=OH(e,r),o=[];break;case"select":i=Wo({},i,{value:void 0}),r=Wo({},r,{value:void 0}),o=[];break;case"textarea":i=FH(e,i),r=FH(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=QI)}zH(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(WP.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(WP.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ho("scroll",e),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};e1e=function(e,t,n,r){n!==r&&(t.flags|=4)};function vE(e,t){if(!Ao)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function yl(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function nKe(e,t,n){var r=t.pendingProps;switch(SY(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yl(t),null;case 1:return nc(t.type)&&JI(),yl(t),null;case 3:return r=t.stateNode,cC(),So(tc),So(Al),LY(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(D6(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Yf!==null&&(SV(Yf),Yf=null))),pV(e,t),yl(t),null;case 5:MY(t);var i=xb(r4.current);if(n=t.type,e!==null&&t.stateNode!=null)J0e(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(ht(166));return yl(t),null}if(e=xb(xp.current),D6(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[fp]=t,r[t4]=o,e=(t.mode&1)!==0,n){case"dialog":ho("cancel",r),ho("close",r);break;case"iframe":case"object":case"embed":ho("load",r);break;case"video":case"audio":for(i=0;i<dk.length;i++)ho(dk[i],r);break;case"source":ho("error",r);break;case"img":case"image":case"link":ho("error",r),ho("load",r);break;case"details":ho("toggle",r);break;case"input":oie(r,o),ho("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},ho("invalid",r);break;case"textarea":aie(r,o),ho("invalid",r)}zH(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&R6(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&R6(r.textContent,a,e),i=["children",""+a]):WP.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&ho("scroll",r)}switch(n){case"input":k6(r),sie(r,o,!0);break;case"textarea":k6(r),lie(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=QI)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=$ye(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[fp]=t,e[t4]=r,Q0e(e,t,!1,!1),t.stateNode=e;e:{switch(s=HH(n,r),n){case"dialog":ho("cancel",e),ho("close",e),i=r;break;case"iframe":case"object":case"embed":ho("load",e),i=r;break;case"video":case"audio":for(i=0;i<dk.length;i++)ho(dk[i],e);i=r;break;case"source":ho("error",e),i=r;break;case"img":case"image":case"link":ho("error",e),ho("load",e),i=r;break;case"details":ho("toggle",e),i=r;break;case"input":oie(e,r),i=OH(e,r),ho("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Wo({},r,{value:void 0}),ho("invalid",e);break;case"textarea":aie(e,r),i=FH(e,r),ho("invalid",e);break;default:i=r}zH(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?Lye(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Tye(e,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&KP(e,l):typeof l=="number"&&KP(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(WP.hasOwnProperty(o)?l!=null&&o==="onScroll"&&ho("scroll",e):l!=null&&aY(e,o,l,s))}switch(n){case"input":k6(e),sie(e,r,!1);break;case"textarea":k6(e),lie(e);break;case"option":r.value!=null&&e.setAttribute("value",""+T0(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?x2(e,!!r.multiple,o,!1):r.defaultValue!=null&&x2(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=QI)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return yl(t),null;case 6:if(e&&t.stateNode!=null)e1e(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(ht(166));if(n=xb(r4.current),xb(xp.current),D6(t)){if(r=t.stateNode,n=t.memoizedProps,r[fp]=t,(o=r.nodeValue!==n)&&(e=Kc,e!==null))switch(e.tag){case 3:R6(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&R6(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[fp]=t,t.stateNode=r}return yl(t),null;case 13:if(So(zo),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ao&&Wc!==null&&t.mode&1&&!(t.flags&128))y0e(),lC(),t.flags|=98560,o=!1;else if(o=D6(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(ht(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ht(317));o[fp]=t}else lC(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;yl(t),o=!1}else Yf!==null&&(SV(Yf),Yf=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||zo.current&1?Qs===0&&(Qs=3):VY())),t.updateQueue!==null&&(t.flags|=4),yl(t),null);case 4:return cC(),pV(e,t),e===null&&JP(t.stateNode.containerInfo),yl(t),null;case 10:return kY(t.type._context),yl(t),null;case 17:return nc(t.type)&&JI(),yl(t),null;case 19:if(So(zo),o=t.memoizedState,o===null)return yl(t),null;if(r=(t.flags&128)!==0,s=o.rendering,s===null)if(r)vE(o,!1);else{if(Qs!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=sR(e),s!==null){for(t.flags|=128,vE(o,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return to(zo,zo.current&1|2),t.child}e=e.sibling}o.tail!==null&&hs()>fC&&(t.flags|=128,r=!0,vE(o,!1),t.lanes=4194304)}else{if(!r)if(e=sR(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),vE(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Ao)return yl(t),null}else 2*hs()-o.renderingStartTime>fC&&n!==1073741824&&(t.flags|=128,r=!0,vE(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(n=o.last,n!==null?n.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=hs(),t.sibling=null,n=zo.current,to(zo,r?n&1|2:n&1),t):(yl(t),null);case 22:case 23:return HY(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Rc&1073741824&&(yl(t),t.subtreeFlags&6&&(t.flags|=8192)):yl(t),null;case 24:return null;case 25:return null}throw Error(ht(156,t.tag))}function rKe(e,t){switch(SY(t),t.tag){case 1:return nc(t.type)&&JI(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return cC(),So(tc),So(Al),LY(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return MY(t),null;case 13:if(So(zo),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ht(340));lC()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return So(zo),null;case 4:return cC(),null;case 10:return kY(t.type._context),null;case 22:case 23:return HY(),null;case 24:return null;default:return null}}var N6=!1,kl=!1,iKe=typeof WeakSet=="function"?WeakSet:Set,Vt=null;function QS(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){is(e,t,r)}else n.current=null}function mV(e,t,n){try{n()}catch(r){is(e,t,r)}}var Xie=!1;function oKe(e,t){if(QH=ZI,e=o0e(),wY(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,c=0,f=e,p=null;t:for(;;){for(var g;f!==n||i!==0&&f.nodeType!==3||(a=s+i),f!==o||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(g=f.firstChild)!==null;)p=f,f=g;for(;;){if(f===e)break t;if(p===n&&++u===i&&(a=s),p===o&&++c===r&&(l=s),(g=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(JH={focusedElem:e,selectionRange:n},ZI=!1,Vt=t;Vt!==null;)if(t=Vt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Vt=e;else for(;Vt!==null;){t=Vt;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,S=v.memoizedState,C=t.stateNode,_=C.getSnapshotBeforeUpdate(t.elementType===t.type?y:Df(t.type,y),S);C.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var k=t.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ht(163))}}catch(w){is(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,Vt=e;break}Vt=t.return}return v=Xie,Xie=!1,v}function Qk(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&mV(t,n,o)}i=i.next}while(i!==r)}}function Q9(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function gV(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function t1e(e){var t=e.alternate;t!==null&&(e.alternate=null,t1e(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[fp],delete t[t4],delete t[nV],delete t[zWe],delete t[HWe])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function n1e(e){return e.tag===5||e.tag===3||e.tag===4}function Qie(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||n1e(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function vV(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=QI));else if(r!==4&&(e=e.child,e!==null))for(vV(e,t,n),e=e.sibling;e!==null;)vV(e,t,n),e=e.sibling}function yV(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(yV(e,t,n),e=e.sibling;e!==null;)yV(e,t,n),e=e.sibling}var Va=null,Gf=!1;function Tv(e,t,n){for(n=n.child;n!==null;)r1e(e,t,n),n=n.sibling}function r1e(e,t,n){if(wp&&typeof wp.onCommitFiberUnmount=="function")try{wp.onCommitFiberUnmount(U9,n)}catch{}switch(n.tag){case 5:kl||QS(n,t);case 6:var r=Va,i=Gf;Va=null,Tv(e,t,n),Va=r,Gf=i,Va!==null&&(Gf?(e=Va,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Va.removeChild(n.stateNode));break;case 18:Va!==null&&(Gf?(e=Va,n=n.stateNode,e.nodeType===8?wN(e.parentNode,n):e.nodeType===1&&wN(e,n),YP(e)):wN(Va,n.stateNode));break;case 4:r=Va,i=Gf,Va=n.stateNode.containerInfo,Gf=!0,Tv(e,t,n),Va=r,Gf=i;break;case 0:case 11:case 14:case 15:if(!kl&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&mV(n,t,s),i=i.next}while(i!==r)}Tv(e,t,n);break;case 1:if(!kl&&(QS(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){is(n,t,a)}Tv(e,t,n);break;case 21:Tv(e,t,n);break;case 22:n.mode&1?(kl=(r=kl)||n.memoizedState!==null,Tv(e,t,n),kl=r):Tv(e,t,n);break;default:Tv(e,t,n)}}function Jie(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new iKe),t.forEach(function(r){var i=pKe.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Mf(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,a=s;e:for(;a!==null;){switch(a.tag){case 5:Va=a.stateNode,Gf=!1;break e;case 3:Va=a.stateNode.containerInfo,Gf=!0;break e;case 4:Va=a.stateNode.containerInfo,Gf=!0;break e}a=a.return}if(Va===null)throw Error(ht(160));r1e(o,s,i),Va=null,Gf=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){is(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)i1e(t,e),t=t.sibling}function i1e(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Mf(t,e),Ih(e),r&4){try{Qk(3,e,e.return),Q9(3,e)}catch(y){is(e,e.return,y)}try{Qk(5,e,e.return)}catch(y){is(e,e.return,y)}}break;case 1:Mf(t,e),Ih(e),r&512&&n!==null&&QS(n,n.return);break;case 5:if(Mf(t,e),Ih(e),r&512&&n!==null&&QS(n,n.return),e.flags&32){var i=e.stateNode;try{KP(i,"")}catch(y){is(e,e.return,y)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,s=n!==null?n.memoizedProps:o,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&kye(i,o),HH(a,s);var u=HH(a,o);for(s=0;s<l.length;s+=2){var c=l[s],f=l[s+1];c==="style"?Lye(i,f):c==="dangerouslySetInnerHTML"?Tye(i,f):c==="children"?KP(i,f):aY(i,c,f,u)}switch(a){case"input":jH(i,o);break;case"textarea":Pye(i,o);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var g=o.value;g!=null?x2(i,!!o.multiple,g,!1):p!==!!o.multiple&&(o.defaultValue!=null?x2(i,!!o.multiple,o.defaultValue,!0):x2(i,!!o.multiple,o.multiple?[]:"",!1))}i[t4]=o}catch(y){is(e,e.return,y)}}break;case 6:if(Mf(t,e),Ih(e),r&4){if(e.stateNode===null)throw Error(ht(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(y){is(e,e.return,y)}}break;case 3:if(Mf(t,e),Ih(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{YP(t.containerInfo)}catch(y){is(e,e.return,y)}break;case 4:Mf(t,e),Ih(e);break;case 13:Mf(t,e),Ih(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(BY=hs())),r&4&&Jie(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(kl=(u=kl)||c,Mf(t,e),kl=u):Mf(t,e),Ih(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(Vt=e,c=e.child;c!==null;){for(f=Vt=c;Vt!==null;){switch(p=Vt,g=p.child,p.tag){case 0:case 11:case 14:case 15:Qk(4,p,p.return);break;case 1:QS(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(y){is(r,n,y)}}break;case 5:QS(p,p.return);break;case 22:if(p.memoizedState!==null){toe(f);continue}}g!==null?(g.return=p,Vt=g):toe(f)}c=c.sibling}e:for(c=null,f=e;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Mye("display",s))}catch(y){is(e,e.return,y)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(y){is(e,e.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Mf(t,e),Ih(e),r&4&&Jie(e);break;case 21:break;default:Mf(t,e),Ih(e)}}function Ih(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(n1e(n)){var r=n;break e}n=n.return}throw Error(ht(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(KP(i,""),r.flags&=-33);var o=Qie(e);yV(e,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=Qie(e);vV(e,a,s);break;default:throw Error(ht(161))}}catch(l){is(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function sKe(e,t,n){Vt=e,o1e(e)}function o1e(e,t,n){for(var r=(e.mode&1)!==0;Vt!==null;){var i=Vt,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||N6;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||kl;a=N6;var u=kl;if(N6=s,(kl=l)&&!u)for(Vt=i;Vt!==null;)s=Vt,l=s.child,s.tag===22&&s.memoizedState!==null?noe(i):l!==null?(l.return=s,Vt=l):noe(i);for(;o!==null;)Vt=o,o1e(o),o=o.sibling;Vt=i,N6=a,kl=u}eoe(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Vt=o):eoe(e)}}function eoe(e){for(;Vt!==null;){var t=Vt;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:kl||Q9(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!kl)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Df(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Nie(t,o,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Nie(t,s,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&YP(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ht(163))}kl||t.flags&512&&gV(t)}catch(p){is(t,t.return,p)}}if(t===e){Vt=null;break}if(n=t.sibling,n!==null){n.return=t.return,Vt=n;break}Vt=t.return}}function toe(e){for(;Vt!==null;){var t=Vt;if(t===e){Vt=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Vt=n;break}Vt=t.return}}function noe(e){for(;Vt!==null;){var t=Vt;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Q9(4,t)}catch(l){is(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){is(t,i,l)}}var o=t.return;try{gV(t)}catch(l){is(t,o,l)}break;case 5:var s=t.return;try{gV(t)}catch(l){is(t,s,l)}}}catch(l){is(t,t.return,l)}if(t===e){Vt=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Vt=a;break}Vt=t.return}}var aKe=Math.ceil,uR=tv.ReactCurrentDispatcher,NY=tv.ReactCurrentOwner,Xd=tv.ReactCurrentBatchConfig,ni=0,xa=null,As=null,Xa=0,Rc=0,JS=Z0(0),Qs=0,a4=null,Vw=0,J9=0,FY=0,Jk=null,Ku=null,BY=0,fC=1/0,Tm=null,cR=!1,bV=null,w0=null,F6=!1,i0=null,dR=0,eP=0,wV=null,nA=-1,rA=0;function su(){return ni&6?hs():nA!==-1?nA:nA=hs()}function x0(e){return e.mode&1?ni&2&&Xa!==0?Xa&-Xa:UWe.transition!==null?(rA===0&&(rA=Vye()),rA):(e=Ti,e!==0||(e=window.event,e=e===void 0?16:Yye(e.type)),e):1}function rh(e,t,n,r){if(50<eP)throw eP=0,wV=null,Error(ht(185));bT(e,n,r),(!(ni&2)||e!==xa)&&(e===xa&&(!(ni&2)&&(J9|=n),Qs===4&&dy(e,Xa)),rc(e,r),n===1&&ni===0&&!(t.mode&1)&&(fC=hs()+500,Z9&&Y0()))}function rc(e,t){var n=e.callbackNode;UUe(e,t);var r=GI(e,e===xa?Xa:0);if(r===0)n!==null&&die(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&die(n),t===1)e.tag===0?VWe(roe.bind(null,e)):m0e(roe.bind(null,e)),FWe(function(){!(ni&6)&&Y0()}),n=null;else{switch(Uye(r)){case 1:n=fY;break;case 4:n=zye;break;case 16:n=qI;break;case 536870912:n=Hye;break;default:n=qI}n=h1e(n,s1e.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function s1e(e,t){if(nA=-1,rA=0,ni&6)throw Error(ht(327));var n=e.callbackNode;if(k2()&&e.callbackNode!==n)return null;var r=GI(e,e===xa?Xa:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=fR(e,r);else{t=r;var i=ni;ni|=2;var o=l1e();(xa!==e||Xa!==t)&&(Tm=null,fC=hs()+500,xw(e,t));do try{cKe();break}catch(a){a1e(e,a)}while(!0);EY(),uR.current=o,ni=i,As!==null?t=0:(xa=null,Xa=0,t=Qs)}if(t!==0){if(t===2&&(i=qH(e),i!==0&&(r=i,t=xV(e,i))),t===1)throw n=a4,xw(e,0),dy(e,r),rc(e,hs()),n;if(t===6)dy(e,r);else{if(i=e.current.alternate,!(r&30)&&!lKe(i)&&(t=fR(e,r),t===2&&(o=qH(e),o!==0&&(r=o,t=xV(e,o))),t===1))throw n=a4,xw(e,0),dy(e,r),rc(e,hs()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(ht(345));case 2:V1(e,Ku,Tm);break;case 3:if(dy(e,r),(r&130023424)===r&&(t=BY+500-hs(),10<t)){if(GI(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){su(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=tV(V1.bind(null,e,Ku,Tm),t);break}V1(e,Ku,Tm);break;case 4:if(dy(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-nh(r);o=1<<s,s=t[s],s>i&&(i=s),r&=~o}if(r=i,r=hs()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*aKe(r/1960))-r,10<r){e.timeoutHandle=tV(V1.bind(null,e,Ku,Tm),r);break}V1(e,Ku,Tm);break;case 5:V1(e,Ku,Tm);break;default:throw Error(ht(329))}}}return rc(e,hs()),e.callbackNode===n?s1e.bind(null,e):null}function xV(e,t){var n=Jk;return e.current.memoizedState.isDehydrated&&(xw(e,t).flags|=256),e=fR(e,t),e!==2&&(t=Ku,Ku=n,t!==null&&SV(t)),e}function SV(e){Ku===null?Ku=e:Ku.push.apply(Ku,e)}function lKe(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!uh(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function dy(e,t){for(t&=~FY,t&=~J9,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-nh(t),r=1<<n;e[n]=-1,t&=~r}}function roe(e){if(ni&6)throw Error(ht(327));k2();var t=GI(e,0);if(!(t&1))return rc(e,hs()),null;var n=fR(e,t);if(e.tag!==0&&n===2){var r=qH(e);r!==0&&(t=r,n=xV(e,r))}if(n===1)throw n=a4,xw(e,0),dy(e,t),rc(e,hs()),n;if(n===6)throw Error(ht(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,V1(e,Ku,Tm),rc(e,hs()),null}function zY(e,t){var n=ni;ni|=1;try{return e(t)}finally{ni=n,ni===0&&(fC=hs()+500,Z9&&Y0())}}function Uw(e){i0!==null&&i0.tag===0&&!(ni&6)&&k2();var t=ni;ni|=1;var n=Xd.transition,r=Ti;try{if(Xd.transition=null,Ti=1,e)return e()}finally{Ti=r,Xd.transition=n,ni=t,!(ni&6)&&Y0()}}function HY(){Rc=JS.current,So(JS)}function xw(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,NWe(n)),As!==null)for(n=As.return;n!==null;){var r=n;switch(SY(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&JI();break;case 3:cC(),So(tc),So(Al),LY();break;case 5:MY(r);break;case 4:cC();break;case 13:So(zo);break;case 19:So(zo);break;case 10:kY(r.type._context);break;case 22:case 23:HY()}n=n.return}if(xa=e,As=e=S0(e.current,null),Xa=Rc=t,Qs=0,a4=null,FY=J9=Vw=0,Ku=Jk=null,wb!==null){for(t=0;t<wb.length;t++)if(n=wb[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}wb=null}return e}function a1e(e,t){do{var n=As;try{if(EY(),JL.current=lR,aR){for(var r=Uo.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}aR=!1}if(Hw=0,ga=Gs=Uo=null,Xk=!1,i4=0,NY.current=null,n===null||n.return===null){Qs=1,a4=t,As=null;break}e:{var o=e,s=n.return,a=n,l=t;if(t=Xa,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var p=c.alternate;p?(c.updateQueue=p.updateQueue,c.memoizedState=p.memoizedState,c.lanes=p.lanes):(c.updateQueue=null,c.memoizedState=null)}var g=Uie(s);if(g!==null){g.flags&=-257,Wie(g,s,a,o,t),g.mode&1&&Vie(o,u,t),t=g,l=u;var v=t.updateQueue;if(v===null){var y=new Set;y.add(l),t.updateQueue=y}else v.add(l);break e}else{if(!(t&1)){Vie(o,u,t),VY();break e}l=Error(ht(426))}}else if(Ao&&a.mode&1){var S=Uie(s);if(S!==null){!(S.flags&65536)&&(S.flags|=256),Wie(S,s,a,o,t),_Y(dC(l,a));break e}}o=l=dC(l,a),Qs!==4&&(Qs=2),Jk===null?Jk=[o]:Jk.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var C=U0e(o,l,t);jie(o,C);break e;case 1:a=l;var _=o.type,k=o.stateNode;if(!(o.flags&128)&&(typeof _.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(w0===null||!w0.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t;var w=W0e(o,a,t);jie(o,w);break e}}o=o.return}while(o!==null)}c1e(n)}catch(P){t=P,As===n&&n!==null&&(As=n=n.return);continue}break}while(!0)}function l1e(){var e=uR.current;return uR.current=lR,e===null?lR:e}function VY(){(Qs===0||Qs===3||Qs===2)&&(Qs=4),xa===null||!(Vw&268435455)&&!(J9&268435455)||dy(xa,Xa)}function fR(e,t){var n=ni;ni|=2;var r=l1e();(xa!==e||Xa!==t)&&(Tm=null,xw(e,t));do try{uKe();break}catch(i){a1e(e,i)}while(!0);if(EY(),ni=n,uR.current=r,As!==null)throw Error(ht(261));return xa=null,Xa=0,Qs}function uKe(){for(;As!==null;)u1e(As)}function cKe(){for(;As!==null&&!DUe();)u1e(As)}function u1e(e){var t=f1e(e.alternate,e,Rc);e.memoizedProps=e.pendingProps,t===null?c1e(e):As=t,NY.current=null}function c1e(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=rKe(n,t),n!==null){n.flags&=32767,As=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Qs=6,As=null;return}}else if(n=nKe(n,t,Rc),n!==null){As=n;return}if(t=t.sibling,t!==null){As=t;return}As=t=e}while(t!==null);Qs===0&&(Qs=5)}function V1(e,t,n){var r=Ti,i=Xd.transition;try{Xd.transition=null,Ti=1,dKe(e,t,n,r)}finally{Xd.transition=i,Ti=r}return null}function dKe(e,t,n,r){do k2();while(i0!==null);if(ni&6)throw Error(ht(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(ht(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(WUe(e,o),e===xa&&(As=xa=null,Xa=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||F6||(F6=!0,h1e(qI,function(){return k2(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Xd.transition,Xd.transition=null;var s=Ti;Ti=1;var a=ni;ni|=4,NY.current=null,oKe(e,n),i1e(n,e),LWe(JH),ZI=!!QH,JH=QH=null,e.current=n,sKe(n),OUe(),ni=a,Ti=s,Xd.transition=o}else e.current=n;if(F6&&(F6=!1,i0=e,dR=i),o=e.pendingLanes,o===0&&(w0=null),FUe(n.stateNode),rc(e,hs()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(cR)throw cR=!1,e=bV,bV=null,e;return dR&1&&e.tag!==0&&k2(),o=e.pendingLanes,o&1?e===wV?eP++:(eP=0,wV=e):eP=0,Y0(),null}function k2(){if(i0!==null){var e=Uye(dR),t=Xd.transition,n=Ti;try{if(Xd.transition=null,Ti=16>e?16:e,i0===null)var r=!1;else{if(e=i0,i0=null,dR=0,ni&6)throw Error(ht(331));var i=ni;for(ni|=4,Vt=e.current;Vt!==null;){var o=Vt,s=o.child;if(Vt.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Vt=u;Vt!==null;){var c=Vt;switch(c.tag){case 0:case 11:case 15:Qk(8,c,o)}var f=c.child;if(f!==null)f.return=c,Vt=f;else for(;Vt!==null;){c=Vt;var p=c.sibling,g=c.return;if(t1e(c),c===u){Vt=null;break}if(p!==null){p.return=g,Vt=p;break}Vt=g}}}var v=o.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var S=y.sibling;y.sibling=null,y=S}while(y!==null)}}Vt=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,Vt=s;else e:for(;Vt!==null;){if(o=Vt,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Qk(9,o,o.return)}var C=o.sibling;if(C!==null){C.return=o.return,Vt=C;break e}Vt=o.return}}var _=e.current;for(Vt=_;Vt!==null;){s=Vt;var k=s.child;if(s.subtreeFlags&2064&&k!==null)k.return=s,Vt=k;else e:for(s=_;Vt!==null;){if(a=Vt,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Q9(9,a)}}catch(P){is(a,a.return,P)}if(a===s){Vt=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,Vt=w;break e}Vt=a.return}}if(ni=i,Y0(),wp&&typeof wp.onPostCommitFiberRoot=="function")try{wp.onPostCommitFiberRoot(U9,e)}catch{}r=!0}return r}finally{Ti=n,Xd.transition=t}}return!1}function ioe(e,t,n){t=dC(n,t),t=U0e(e,t,1),e=b0(e,t,1),t=su(),e!==null&&(bT(e,1,t),rc(e,t))}function is(e,t,n){if(e.tag===3)ioe(e,e,n);else for(;t!==null;){if(t.tag===3){ioe(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(w0===null||!w0.has(r))){e=dC(n,e),e=W0e(t,e,1),t=b0(t,e,1),e=su(),t!==null&&(bT(t,1,e),rc(t,e));break}}t=t.return}}function fKe(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=su(),e.pingedLanes|=e.suspendedLanes&n,xa===e&&(Xa&n)===n&&(Qs===4||Qs===3&&(Xa&130023424)===Xa&&500>hs()-BY?xw(e,0):FY|=n),rc(e,t)}function d1e(e,t){t===0&&(e.mode&1?(t=T6,T6<<=1,!(T6&130023424)&&(T6=4194304)):t=1);var n=su();e=jg(e,t),e!==null&&(bT(e,t,n),rc(e,n))}function hKe(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),d1e(e,n)}function pKe(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(ht(314))}r!==null&&r.delete(t),d1e(e,n)}var f1e;f1e=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||tc.current)Xu=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Xu=!1,tKe(e,t,n);Xu=!!(e.flags&131072)}else Xu=!1,Ao&&t.flags&1048576&&g0e(t,nR,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;tA(e,t),e=t.pendingProps;var i=aC(t,Al.current);E2(t,n),i=IY(null,t,r,e,i,n);var o=RY();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,nc(r)?(o=!0,eR(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,$Y(t),i.updater=X9,t.stateNode=i,i._reactInternals=t,lV(t,r,e,n),t=dV(null,t,r,!0,o,n)):(t.tag=0,Ao&&o&&xY(t),Ql(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(tA(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=gKe(r),e=Df(r,e),i){case 0:t=cV(null,t,r,e,n);break e;case 1:t=Gie(null,t,r,e,n);break e;case 11:t=Kie(null,t,r,e,n);break e;case 14:t=qie(null,t,r,Df(r.type,e),n);break e}throw Error(ht(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Df(r,i),cV(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Df(r,i),Gie(e,t,r,i,n);case 3:e:{if(Z0e(t),e===null)throw Error(ht(387));r=t.pendingProps,o=t.memoizedState,i=o.element,S0e(e,t),oR(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=dC(Error(ht(423)),t),t=Zie(e,t,r,n,i);break e}else if(r!==i){i=dC(Error(ht(424)),t),t=Zie(e,t,r,n,i);break e}else for(Wc=y0(t.stateNode.containerInfo.firstChild),Kc=t,Ao=!0,Yf=null,n=w0e(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(lC(),r===i){t=Ng(e,t,n);break e}Ql(e,t,r,n)}t=t.child}return t;case 5:return _0e(t),e===null&&oV(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,s=i.children,eV(r,i)?s=null:o!==null&&eV(r,o)&&(t.flags|=32),G0e(e,t),Ql(e,t,s,n),t.child;case 6:return e===null&&oV(t),null;case 13:return Y0e(e,t,n);case 4:return TY(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=uC(t,null,r,n):Ql(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Df(r,i),Kie(e,t,r,i,n);case 7:return Ql(e,t,t.pendingProps,n),t.child;case 8:return Ql(e,t,t.pendingProps.children,n),t.child;case 12:return Ql(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,to(rR,r._currentValue),r._currentValue=s,o!==null)if(uh(o.value,s)){if(o.children===i.children&&!tc.current){t=Ng(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=bg(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),sV(o.return,n,t),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(ht(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),sV(s,n,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Ql(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,E2(t,n),i=Jd(i),r=r(i),t.flags|=1,Ql(e,t,r,n),t.child;case 14:return r=t.type,i=Df(r,t.pendingProps),i=Df(r.type,i),qie(e,t,r,i,n);case 15:return K0e(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Df(r,i),tA(e,t),t.tag=1,nc(r)?(e=!0,eR(t)):e=!1,E2(t,n),V0e(t,r,i),lV(t,r,i,n),dV(null,t,r,!0,e,n);case 19:return X0e(e,t,n);case 22:return q0e(e,t,n)}throw Error(ht(156,t.tag))};function h1e(e,t){return Bye(e,t)}function mKe(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yd(e,t,n,r){return new mKe(e,t,n,r)}function UY(e){return e=e.prototype,!(!e||!e.isReactComponent)}function gKe(e){if(typeof e=="function")return UY(e)?1:0;if(e!=null){if(e=e.$$typeof,e===uY)return 11;if(e===cY)return 14}return 2}function S0(e,t){var n=e.alternate;return n===null?(n=Yd(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function iA(e,t,n,r,i,o){var s=2;if(r=e,typeof e=="function")UY(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case VS:return Sw(n.children,i,o,t);case lY:s=8,i|=8;break;case AH:return e=Yd(12,n,t,i|2),e.elementType=AH,e.lanes=o,e;case IH:return e=Yd(13,n,t,i),e.elementType=IH,e.lanes=o,e;case RH:return e=Yd(19,n,t,i),e.elementType=RH,e.lanes=o,e;case _ye:return eO(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case xye:s=10;break e;case Sye:s=9;break e;case uY:s=11;break e;case cY:s=14;break e;case ty:s=16,r=null;break e}throw Error(ht(130,e==null?e:typeof e,""))}return t=Yd(s,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function Sw(e,t,n,r){return e=Yd(7,e,r,t),e.lanes=n,e}function eO(e,t,n,r){return e=Yd(22,e,r,t),e.elementType=_ye,e.lanes=n,e.stateNode={isHidden:!1},e}function $N(e,t,n){return e=Yd(6,e,null,t),e.lanes=n,e}function TN(e,t,n){return t=Yd(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function vKe(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=uN(0),this.expirationTimes=uN(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=uN(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function WY(e,t,n,r,i,o,s,a,l){return e=new vKe(e,t,n,a,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Yd(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},$Y(o),e}function yKe(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:HS,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function p1e(e){if(!e)return M0;e=e._reactInternals;e:{if(bx(e)!==e||e.tag!==1)throw Error(ht(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(nc(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ht(171))}if(e.tag===1){var n=e.type;if(nc(n))return p0e(e,n,t)}return t}function m1e(e,t,n,r,i,o,s,a,l){return e=WY(n,r,!0,e,i,o,s,a,l),e.context=p1e(null),n=e.current,r=su(),i=x0(n),o=bg(r,i),o.callback=t??null,b0(n,o,i),e.current.lanes=i,bT(e,i,r),rc(e,r),e}function tO(e,t,n,r){var i=t.current,o=su(),s=x0(i);return n=p1e(n),t.context===null?t.context=n:t.pendingContext=n,t=bg(o,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=b0(i,t,s),e!==null&&(rh(e,i,s,o),QL(e,i,s)),s}function hR(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ooe(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function KY(e,t){ooe(e,t),(e=e.alternate)&&ooe(e,t)}function bKe(){return null}var g1e=typeof reportError=="function"?reportError:function(e){console.error(e)};function qY(e){this._internalRoot=e}nO.prototype.render=qY.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ht(409));tO(e,t,null,null)};nO.prototype.unmount=qY.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Uw(function(){tO(null,e,null,null)}),t[Og]=null}};function nO(e){this._internalRoot=e}nO.prototype.unstable_scheduleHydration=function(e){if(e){var t=qye();e={blockedOn:null,target:e,priority:t};for(var n=0;n<cy.length&&t!==0&&t<cy[n].priority;n++);cy.splice(n,0,e),n===0&&Zye(e)}};function GY(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function rO(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function soe(){}function wKe(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=hR(s);o.call(u)}}var s=m1e(t,r,e,0,null,!1,!1,"",soe);return e._reactRootContainer=s,e[Og]=s.current,JP(e.nodeType===8?e.parentNode:e),Uw(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=hR(l);a.call(u)}}var l=WY(e,0,!1,null,null,!1,!1,"",soe);return e._reactRootContainer=l,e[Og]=l.current,JP(e.nodeType===8?e.parentNode:e),Uw(function(){tO(t,l,n,r)}),l}function iO(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=hR(s);a.call(l)}}tO(t,s,e,i)}else s=wKe(n,t,e,i,r);return hR(s)}Wye=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ck(t.pendingLanes);n!==0&&(hY(t,n|1),rc(t,hs()),!(ni&6)&&(fC=hs()+500,Y0()))}break;case 13:Uw(function(){var r=jg(e,1);if(r!==null){var i=su();rh(r,e,1,i)}}),KY(e,1)}};pY=function(e){if(e.tag===13){var t=jg(e,134217728);if(t!==null){var n=su();rh(t,e,134217728,n)}KY(e,134217728)}};Kye=function(e){if(e.tag===13){var t=x0(e),n=jg(e,t);if(n!==null){var r=su();rh(n,e,t,r)}KY(e,t)}};qye=function(){return Ti};Gye=function(e,t){var n=Ti;try{return Ti=e,t()}finally{Ti=n}};UH=function(e,t,n){switch(t){case"input":if(jH(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=G9(r);if(!i)throw Error(ht(90));Eye(r),jH(r,i)}}}break;case"textarea":Pye(e,n);break;case"select":t=n.value,t!=null&&x2(e,!!n.multiple,t,!1)}};Rye=zY;Dye=Uw;var xKe={usingClientEntryPoint:!1,Events:[xT,qS,G9,Aye,Iye,zY]},yE={findFiberByHostInstance:bb,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},SKe={bundleType:yE.bundleType,version:yE.version,rendererPackageName:yE.rendererPackageName,rendererConfig:yE.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:tv.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Nye(e),e===null?null:e.stateNode},findFiberByHostInstance:yE.findFiberByHostInstance||bKe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var B6=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!B6.isDisabled&&B6.supportsFiber)try{U9=B6.inject(SKe),wp=B6}catch{}}ad.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xKe;ad.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!GY(t))throw Error(ht(200));return yKe(e,t,null,n)};ad.createRoot=function(e,t){if(!GY(e))throw Error(ht(299));var n=!1,r="",i=g1e;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=WY(e,1,!1,null,null,n,!1,r,i),e[Og]=t.current,JP(e.nodeType===8?e.parentNode:e),new qY(t)};ad.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ht(188)):(e=Object.keys(e).join(","),Error(ht(268,e)));return e=Nye(t),e=e===null?null:e.stateNode,e};ad.flushSync=function(e){return Uw(e)};ad.hydrate=function(e,t,n){if(!rO(t))throw Error(ht(200));return iO(null,e,t,!0,n)};ad.hydrateRoot=function(e,t,n){if(!GY(e))throw Error(ht(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=g1e;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=m1e(t,null,e,1,n??null,i,!1,o,s),e[Og]=t.current,JP(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new nO(t)};ad.render=function(e,t,n){if(!rO(t))throw Error(ht(200));return iO(null,e,t,!1,n)};ad.unmountComponentAtNode=function(e){if(!rO(e))throw Error(ht(40));return e._reactRootContainer?(Uw(function(){iO(null,null,e,!1,function(){e._reactRootContainer=null,e[Og]=null})}),!0):!1};ad.unstable_batchedUpdates=zY;ad.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!rO(n))throw Error(ht(200));if(e==null||e._reactInternals===void 0)throw Error(ht(38));return iO(e,t,n,!1,r)};ad.version="18.3.1-next-f1338f8080-20240426";function v1e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(v1e)}catch(e){console.error(e)}}v1e(),vye.exports=ad;var ai=vye.exports;const e2=Dl(ai),_Ke=H9({__proto__:null,default:e2},[ai]);var y1e,ZY,aoe=ai;ZY=VI.createRoot=aoe.createRoot,y1e=VI.hydrateRoot=aoe.hydrateRoot;const CKe=H9({__proto__:null,get createRoot(){return ZY},default:VI,get hydrateRoot(){return y1e}},[VI]);function nv(e){return{all:e=e||new Map,on:function(t,n){var r=e.get(t);r?r.push(n):e.set(t,[n])},off:function(t,n){var r=e.get(t);r&&(n?r.splice(r.indexOf(n)>>>0,1):e.set(t,[]))},emit:function(t,n){var r=e.get(t);r&&r.slice().map(function(i){i(n)}),(r=e.get("*"))&&r.slice().map(function(i){i(t,n)})}}}var Pl=function(){return Pl=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Pl.apply(this,arguments)};function l4(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var EKe=function(t,n,r,i){var o=r?r.call(i,t,n):void 0;if(o!==void 0)return!!o;if(t===n)return!0;if(typeof t!="object"||!t||typeof n!="object"||!n)return!1;var s=Object.keys(t),a=Object.keys(n);if(s.length!==a.length)return!1;for(var l=Object.prototype.hasOwnProperty.bind(n),u=0;u<s.length;u++){var c=s[u];if(!l(c))return!1;var f=t[c],p=n[c];if(o=r?r.call(i,f,p,c):void 0,o===!1||o===void 0&&f!==p)return!1}return!0};const kKe=Dl(EKe);var po="-ms-",tP="-moz-",Ci="-webkit-",b1e="comm",oO="rule",YY="decl",PKe="@import",w1e="@keyframes",$Ke="@layer",x1e=Math.abs,XY=String.fromCharCode,_V=Object.assign;function TKe(e,t){return va(e,0)^45?(((t<<2^va(e,0))<<2^va(e,1))<<2^va(e,2))<<2^va(e,3):0}function S1e(e){return e.trim()}function Mm(e,t){return(e=t.exec(e))?e[0]:e}function gr(e,t,n){return e.replace(t,n)}function oA(e,t,n){return e.indexOf(t,n)}function va(e,t){return e.charCodeAt(t)|0}function hC(e,t,n){return e.slice(t,n)}function lp(e){return e.length}function _1e(e){return e.length}function fk(e,t){return t.push(e),e}function MKe(e,t){return e.map(t).join("")}function loe(e,t){return e.filter(function(n){return!Mm(n,t)})}var sO=1,pC=1,C1e=0,tf=0,$s=0,JC="";function aO(e,t,n,r,i,o,s,a){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:sO,column:pC,length:s,return:"",siblings:a}}function Wv(e,t){return _V(aO("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},t)}function tS(e){for(;e.root;)e=Wv(e.root,{children:[e]});fk(e,e.siblings)}function LKe(){return $s}function AKe(){return $s=tf>0?va(JC,--tf):0,pC--,$s===10&&(pC=1,sO--),$s}function ih(){return $s=tf<C1e?va(JC,tf++):0,pC++,$s===10&&(pC=1,sO++),$s}function _w(){return va(JC,tf)}function sA(){return tf}function lO(e,t){return hC(JC,e,t)}function CV(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function IKe(e){return sO=pC=1,C1e=lp(JC=e),tf=0,[]}function RKe(e){return JC="",e}function MN(e){return S1e(lO(tf-1,EV(e===91?e+2:e===40?e+1:e)))}function DKe(e){for(;($s=_w())&&$s<33;)ih();return CV(e)>2||CV($s)>3?"":" "}function OKe(e,t){for(;--t&&ih()&&!($s<48||$s>102||$s>57&&$s<65||$s>70&&$s<97););return lO(e,sA()+(t<6&&_w()==32&&ih()==32))}function EV(e){for(;ih();)switch($s){case e:return tf;case 34:case 39:e!==34&&e!==39&&EV($s);break;case 40:e===41&&EV(e);break;case 92:ih();break}return tf}function jKe(e,t){for(;ih()&&e+$s!==57;)if(e+$s===84&&_w()===47)break;return"/*"+lO(t,tf-1)+"*"+XY(e===47?e:ih())}function NKe(e){for(;!CV(_w());)ih();return lO(e,tf)}function FKe(e){return RKe(aA("",null,null,null,[""],e=IKe(e),0,[0],e))}function aA(e,t,n,r,i,o,s,a,l){for(var u=0,c=0,f=s,p=0,g=0,v=0,y=1,S=1,C=1,_=0,k="",w=i,P=o,M=r,R=k;S;)switch(v=_,_=ih()){case 40:if(v!=108&&va(R,f-1)==58){oA(R+=gr(MN(_),"&","&\f"),"&\f",x1e(u?a[u-1]:0))!=-1&&(C=-1);break}case 34:case 39:case 91:R+=MN(_);break;case 9:case 10:case 13:case 32:R+=DKe(v);break;case 92:R+=OKe(sA()-1,7);continue;case 47:switch(_w()){case 42:case 47:fk(BKe(jKe(ih(),sA()),t,n,l),l);break;default:R+="/"}break;case 123*y:a[u++]=lp(R)*C;case 125*y:case 59:case 0:switch(_){case 0:case 125:S=0;case 59+c:C==-1&&(R=gr(R,/\f/g,"")),g>0&&lp(R)-f&&fk(g>32?coe(R+";",r,n,f-1,l):coe(gr(R," ","")+";",r,n,f-2,l),l);break;case 59:R+=";";default:if(fk(M=uoe(R,t,n,u,c,i,a,k,w=[],P=[],f,o),o),_===123)if(c===0)aA(R,t,M,M,w,o,f,a,P);else switch(p===99&&va(R,3)===110?100:p){case 100:case 108:case 109:case 115:aA(e,M,M,r&&fk(uoe(e,M,M,0,0,i,a,k,i,w=[],f,P),P),i,P,f,a,r?w:P);break;default:aA(R,M,M,M,[""],P,0,a,P)}}u=c=g=0,y=C=1,k=R="",f=s;break;case 58:f=1+lp(R),g=v;default:if(y<1){if(_==123)--y;else if(_==125&&y++==0&&AKe()==125)continue}switch(R+=XY(_),_*y){case 38:C=c>0?1:(R+="\f",-1);break;case 44:a[u++]=(lp(R)-1)*C,C=1;break;case 64:_w()===45&&(R+=MN(ih())),p=_w(),c=f=lp(k=R+=NKe(sA())),_++;break;case 45:v===45&&lp(R)==2&&(y=0)}}return o}function uoe(e,t,n,r,i,o,s,a,l,u,c,f){for(var p=i-1,g=i===0?o:[""],v=_1e(g),y=0,S=0,C=0;y<r;++y)for(var _=0,k=hC(e,p+1,p=x1e(S=s[y])),w=e;_<v;++_)(w=S1e(S>0?g[_]+" "+k:gr(k,/&\f/g,g[_])))&&(l[C++]=w);return aO(e,t,n,i===0?oO:a,l,u,c,f)}function BKe(e,t,n,r){return aO(e,t,n,b1e,XY(LKe()),hC(e,2,-2),0,r)}function coe(e,t,n,r,i){return aO(e,t,n,YY,hC(e,0,r),hC(e,r+1,-1),r,i)}function E1e(e,t,n){switch(TKe(e,t)){case 5103:return Ci+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ci+e+e;case 4789:return tP+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Ci+e+tP+e+po+e+e;case 5936:switch(va(e,t+11)){case 114:return Ci+e+po+gr(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Ci+e+po+gr(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Ci+e+po+gr(e,/[svh]\w+-[tblr]{2}/,"lr")+e}case 6828:case 4268:case 2903:return Ci+e+po+e+e;case 6165:return Ci+e+po+"flex-"+e+e;case 5187:return Ci+e+gr(e,/(\w+).+(:[^]+)/,Ci+"box-$1$2"+po+"flex-$1$2")+e;case 5443:return Ci+e+po+"flex-item-"+gr(e,/flex-|-self/g,"")+(Mm(e,/flex-|baseline/)?"":po+"grid-row-"+gr(e,/flex-|-self/g,""))+e;case 4675:return Ci+e+po+"flex-line-pack"+gr(e,/align-content|flex-|-self/g,"")+e;case 5548:return Ci+e+po+gr(e,"shrink","negative")+e;case 5292:return Ci+e+po+gr(e,"basis","preferred-size")+e;case 6060:return Ci+"box-"+gr(e,"-grow","")+Ci+e+po+gr(e,"grow","positive")+e;case 4554:return Ci+gr(e,/([^-])(transform)/g,"$1"+Ci+"$2")+e;case 6187:return gr(gr(gr(e,/(zoom-|grab)/,Ci+"$1"),/(image-set)/,Ci+"$1"),e,"")+e;case 5495:case 3959:return gr(e,/(image-set\([^]*)/,Ci+"$1$`$1");case 4968:return gr(gr(e,/(.+:)(flex-)?(.*)/,Ci+"box-pack:$3"+po+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ci+e+e;case 4200:if(!Mm(e,/flex-|baseline/))return po+"grid-column-align"+hC(e,t)+e;break;case 2592:case 3360:return po+gr(e,"template-","")+e;case 4384:case 3616:return n&&n.some(function(r,i){return t=i,Mm(r.props,/grid-\w+-end/)})?~oA(e+(n=n[t].value),"span",0)?e:po+gr(e,"-start","")+e+po+"grid-row-span:"+(~oA(n,"span",0)?Mm(n,/\d+/):+Mm(n,/\d+/)-+Mm(e,/\d+/))+";":po+gr(e,"-start","")+e;case 4896:case 4128:return n&&n.some(function(r){return Mm(r.props,/grid-\w+-start/)})?e:po+gr(gr(e,"-end","-span"),"span ","")+e;case 4095:case 3583:case 4068:case 2532:return gr(e,/(.+)-inline(.+)/,Ci+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(lp(e)-1-t>6)switch(va(e,t+1)){case 109:if(va(e,t+4)!==45)break;case 102:return gr(e,/(.+:)(.+)-([^]+)/,"$1"+Ci+"$2-$3$1"+tP+(va(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~oA(e,"stretch",0)?E1e(gr(e,"stretch","fill-available"),t,n)+e:e}break;case 5152:case 5920:return gr(e,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,i,o,s,a,l,u){return po+i+":"+o+u+(s?po+i+"-span:"+(a?l:+l-+o)+u:"")+e});case 4949:if(va(e,t+6)===121)return gr(e,":",":"+Ci)+e;break;case 6444:switch(va(e,va(e,14)===45?18:11)){case 120:return gr(e,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Ci+(va(e,14)===45?"inline-":"")+"box$3$1"+Ci+"$2$3$1"+po+"$2box$3")+e;case 100:return gr(e,":",":"+po)+e}break;case 5719:case 2647:case 2135:case 3927:case 2391:return gr(e,"scroll-","scroll-snap-")+e}return e}function pR(e,t){for(var n="",r=0;r<e.length;r++)n+=t(e[r],r,e,t)||"";return n}function zKe(e,t,n,r){switch(e.type){case $Ke:if(e.children.length)break;case PKe:case YY:return e.return=e.return||e.value;case b1e:return"";case w1e:return e.return=e.value+"{"+pR(e.children,r)+"}";case oO:if(!lp(e.value=e.props.join(",")))return""}return lp(n=pR(e.children,r))?e.return=e.value+"{"+n+"}":""}function HKe(e){var t=_1e(e);return function(n,r,i,o){for(var s="",a=0;a<t;a++)s+=e[a](n,r,i,o)||"";return s}}function VKe(e){return function(t){t.root||(t=t.return)&&e(t)}}function UKe(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case YY:e.return=E1e(e.value,e.length,n);return;case w1e:return pR([Wv(e,{value:gr(e.value,"@","@"+Ci)})],r);case oO:if(e.length)return MKe(n=e.props,function(i){switch(Mm(i,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":tS(Wv(e,{props:[gr(i,/:(read-\w+)/,":"+tP+"$1")]})),tS(Wv(e,{props:[i]})),_V(e,{props:loe(n,r)});break;case"::placeholder":tS(Wv(e,{props:[gr(i,/:(plac\w+)/,":"+Ci+"input-$1")]})),tS(Wv(e,{props:[gr(i,/:(plac\w+)/,":"+tP+"$1")]})),tS(Wv(e,{props:[gr(i,/:(plac\w+)/,po+"input-$1")]})),tS(Wv(e,{props:[i]})),_V(e,{props:loe(n,r)});break}return""})}}var WKe={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},$c={},mC=typeof process<"u"&&$c!==void 0&&($c.REACT_APP_SC_ATTR||$c.SC_ATTR)||"data-styled",k1e="active",P1e="data-styled-version",uO="6.1.8",QY=`/*!sc*/
`,JY=typeof window<"u"&&"HTMLElement"in window,KKe=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&$c!==void 0&&$c.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&$c.REACT_APP_SC_DISABLE_SPEEDY!==""?$c.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&$c.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&$c!==void 0&&$c.SC_DISABLE_SPEEDY!==void 0&&$c.SC_DISABLE_SPEEDY!==""&&$c.SC_DISABLE_SPEEDY!=="false"&&$c.SC_DISABLE_SPEEDY),cO=Object.freeze([]),gC=Object.freeze({});function qKe(e,t,n){return n===void 0&&(n=gC),e.theme!==n.theme&&e.theme||t||n.theme}var $1e=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),GKe=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,ZKe=/(^-|-$)/g;function doe(e){return e.replace(GKe,"-").replace(ZKe,"")}var YKe=/(a)(d)/gi,z6=52,foe=function(e){return String.fromCharCode(e+(e>25?39:97))};function kV(e){var t,n="";for(t=Math.abs(e);t>z6;t=t/z6|0)n=foe(t%z6)+n;return(foe(t%z6)+n).replace(YKe,"$1-$2")}var LN,T1e=5381,t2=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},M1e=function(e){return t2(T1e,e)};function L1e(e){return kV(M1e(e)>>>0)}function XKe(e){return e.displayName||e.name||"Component"}function AN(e){return typeof e=="string"&&!0}var A1e=typeof Symbol=="function"&&Symbol.for,I1e=A1e?Symbol.for("react.memo"):60115,QKe=A1e?Symbol.for("react.forward_ref"):60112,JKe={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},eqe={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},R1e={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},tqe=((LN={})[QKe]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},LN[I1e]=R1e,LN);function hoe(e){return("type"in(t=e)&&t.type.$$typeof)===I1e?R1e:"$$typeof"in e?tqe[e.$$typeof]:JKe;var t}var nqe=Object.defineProperty,rqe=Object.getOwnPropertyNames,poe=Object.getOwnPropertySymbols,iqe=Object.getOwnPropertyDescriptor,oqe=Object.getPrototypeOf,moe=Object.prototype;function D1e(e,t,n){if(typeof t!="string"){if(moe){var r=oqe(t);r&&r!==moe&&D1e(e,r,n)}var i=rqe(t);poe&&(i=i.concat(poe(t)));for(var o=hoe(e),s=hoe(t),a=0;a<i.length;++a){var l=i[a];if(!(l in eqe||n&&n[l]||s&&l in s||o&&l in o)){var u=iqe(t,l);try{nqe(e,l,u)}catch{}}}}return e}function Ww(e){return typeof e=="function"}function eX(e){return typeof e=="object"&&"styledComponentId"in e}function Sb(e,t){return e&&t?"".concat(e," ").concat(t):e||t||""}function PV(e,t){if(e.length===0)return"";for(var n=e[0],r=1;r<e.length;r++)n+=e[r];return n}function u4(e){return e!==null&&typeof e=="object"&&e.constructor.name===Object.name&&!("props"in e&&e.$$typeof)}function $V(e,t,n){if(n===void 0&&(n=!1),!n&&!u4(e)&&!Array.isArray(e))return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)e[r]=$V(e[r],t[r]);else if(u4(t))for(var r in t)e[r]=$V(e[r],t[r]);return e}function tX(e,t){Object.defineProperty(e,"toString",{value:t})}function Kw(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(e," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var sqe=function(){function e(t){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=t}return e.prototype.indexOfGroup=function(t){for(var n=0,r=0;r<t;r++)n+=this.groupSizes[r];return n},e.prototype.insertRules=function(t,n){if(t>=this.groupSizes.length){for(var r=this.groupSizes,i=r.length,o=i;t>=o;)if((o<<=1)<0)throw Kw(16,"".concat(t));this.groupSizes=new Uint32Array(o),this.groupSizes.set(r),this.length=o;for(var s=i;s<o;s++)this.groupSizes[s]=0}for(var a=this.indexOfGroup(t+1),l=(s=0,n.length);s<l;s++)this.tag.insertRule(a,n[s])&&(this.groupSizes[t]++,a++)},e.prototype.clearGroup=function(t){if(t<this.length){var n=this.groupSizes[t],r=this.indexOfGroup(t),i=r+n;this.groupSizes[t]=0;for(var o=r;o<i;o++)this.tag.deleteRule(r)}},e.prototype.getGroup=function(t){var n="";if(t>=this.length||this.groupSizes[t]===0)return n;for(var r=this.groupSizes[t],i=this.indexOfGroup(t),o=i+r,s=i;s<o;s++)n+="".concat(this.tag.getRule(s)).concat(QY);return n},e}(),lA=new Map,mR=new Map,uA=1,H6=function(e){if(lA.has(e))return lA.get(e);for(;mR.has(uA);)uA++;var t=uA++;return lA.set(e,t),mR.set(t,e),t},aqe=function(e,t){uA=t+1,lA.set(e,t),mR.set(t,e)},lqe="style[".concat(mC,"][").concat(P1e,'="').concat(uO,'"]'),uqe=new RegExp("^".concat(mC,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),cqe=function(e,t,n){for(var r,i=n.split(","),o=0,s=i.length;o<s;o++)(r=i[o])&&e.registerName(t,r)},dqe=function(e,t){for(var n,r=((n=t.textContent)!==null&&n!==void 0?n:"").split(QY),i=[],o=0,s=r.length;o<s;o++){var a=r[o].trim();if(a){var l=a.match(uqe);if(l){var u=0|parseInt(l[1],10),c=l[2];u!==0&&(aqe(c,u),cqe(e,c,l[3]),e.getTag().insertRules(u,i)),i.length=0}else i.push(a)}}};function fqe(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var O1e=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(a){var l=Array.from(a.querySelectorAll("style[".concat(mC,"]")));return l[l.length-1]}(n),o=i!==void 0?i.nextSibling:null;r.setAttribute(mC,k1e),r.setAttribute(P1e,uO);var s=fqe();return s&&r.setAttribute("nonce",s),n.insertBefore(r,o),r},hqe=function(){function e(t){this.element=O1e(t),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,i=0,o=r.length;i<o;i++){var s=r[i];if(s.ownerNode===n)return s}throw Kw(17)}(this.element),this.length=0}return e.prototype.insertRule=function(t,n){try{return this.sheet.insertRule(n,t),this.length++,!0}catch{return!1}},e.prototype.deleteRule=function(t){this.sheet.deleteRule(t),this.length--},e.prototype.getRule=function(t){var n=this.sheet.cssRules[t];return n&&n.cssText?n.cssText:""},e}(),pqe=function(){function e(t){this.element=O1e(t),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(t,n){if(t<=this.length&&t>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[t]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(t){this.element.removeChild(this.nodes[t]),this.length--},e.prototype.getRule=function(t){return t<this.length?this.nodes[t].textContent:""},e}(),mqe=function(){function e(t){this.rules=[],this.length=0}return e.prototype.insertRule=function(t,n){return t<=this.length&&(this.rules.splice(t,0,n),this.length++,!0)},e.prototype.deleteRule=function(t){this.rules.splice(t,1),this.length--},e.prototype.getRule=function(t){return t<this.length?this.rules[t]:""},e}(),goe=JY,gqe={isServer:!JY,useCSSOMInjection:!KKe},j1e=function(){function e(t,n,r){t===void 0&&(t=gC),n===void 0&&(n={});var i=this;this.options=Pl(Pl({},gqe),t),this.gs=n,this.names=new Map(r),this.server=!!t.isServer,!this.server&&JY&&goe&&(goe=!1,function(o){for(var s=document.querySelectorAll(lqe),a=0,l=s.length;a<l;a++){var u=s[a];u&&u.getAttribute(mC)!==k1e&&(dqe(o,u),u.parentNode&&u.parentNode.removeChild(u))}}(this)),tX(this,function(){return function(o){for(var s=o.getTag(),a=s.length,l="",u=function(f){var p=function(C){return mR.get(C)}(f);if(p===void 0)return"continue";var g=o.names.get(p),v=s.getGroup(f);if(g===void 0||v.length===0)return"continue";var y="".concat(mC,".g").concat(f,'[id="').concat(p,'"]'),S="";g!==void 0&&g.forEach(function(C){C.length>0&&(S+="".concat(C,","))}),l+="".concat(v).concat(y,'{content:"').concat(S,'"}').concat(QY)},c=0;c<a;c++)u(c);return l}(i)})}return e.registerId=function(t){return H6(t)},e.prototype.reconstructWithOptions=function(t,n){return n===void 0&&(n=!0),new e(Pl(Pl({},this.options),t),this.gs,n&&this.names||void 0)},e.prototype.allocateGSInstance=function(t){return this.gs[t]=(this.gs[t]||0)+1},e.prototype.getTag=function(){return this.tag||(this.tag=(t=function(n){var r=n.useCSSOMInjection,i=n.target;return n.isServer?new mqe(i):r?new hqe(i):new pqe(i)}(this.options),new sqe(t)));var t},e.prototype.hasNameForId=function(t,n){return this.names.has(t)&&this.names.get(t).has(n)},e.prototype.registerName=function(t,n){if(H6(t),this.names.has(t))this.names.get(t).add(n);else{var r=new Set;r.add(n),this.names.set(t,r)}},e.prototype.insertRules=function(t,n,r){this.registerName(t,n),this.getTag().insertRules(H6(t),r)},e.prototype.clearNames=function(t){this.names.has(t)&&this.names.get(t).clear()},e.prototype.clearRules=function(t){this.getTag().clearGroup(H6(t)),this.clearNames(t)},e.prototype.clearTag=function(){this.tag=void 0},e}(),vqe=/&/g,yqe=/^\s*\/\/.*$/gm;function N1e(e,t){return e.map(function(n){return n.type==="rule"&&(n.value="".concat(t," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(t," ")),n.props=n.props.map(function(r){return"".concat(t," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=N1e(n.children,t)),n})}function bqe(e){var t,n,r,i=gC,o=i.options,s=o===void 0?gC:o,a=i.plugins,l=a===void 0?cO:a,u=function(p,g,v){return v.startsWith(n)&&v.endsWith(n)&&v.replaceAll(n,"").length>0?".".concat(t):p},c=l.slice();c.push(function(p){p.type===oO&&p.value.includes("&")&&(p.props[0]=p.props[0].replace(vqe,n).replace(r,u))}),s.prefix&&c.push(UKe),c.push(zKe);var f=function(p,g,v,y){g===void 0&&(g=""),v===void 0&&(v=""),y===void 0&&(y="&"),t=y,n=g,r=new RegExp("\\".concat(n,"\\b"),"g");var S=p.replace(yqe,""),C=FKe(v||g?"".concat(v," ").concat(g," { ").concat(S," }"):S);s.namespace&&(C=N1e(C,s.namespace));var _=[];return pR(C,HKe(c.concat(VKe(function(k){return _.push(k)})))),_};return f.hash=l.length?l.reduce(function(p,g){return g.name||Kw(15),t2(p,g.name)},T1e).toString():"",f}var wqe=new j1e,TV=bqe(),F1e=ne.createContext({shouldForwardProp:void 0,styleSheet:wqe,stylis:TV});F1e.Consumer;ne.createContext(void 0);function voe(){return h.useContext(F1e)}var B1e=function(){function e(t,n){var r=this;this.inject=function(i,o){o===void 0&&(o=TV);var s=r.name+o.hash;i.hasNameForId(r.id,s)||i.insertRules(r.id,s,o(r.rules,s,"@keyframes"))},this.name=t,this.id="sc-keyframes-".concat(t),this.rules=n,tX(this,function(){throw Kw(12,String(r.name))})}return e.prototype.getName=function(t){return t===void 0&&(t=TV),this.name+t.hash},e}(),xqe=function(e){return e>="A"&&e<="Z"};function yoe(e){for(var t="",n=0;n<e.length;n++){var r=e[n];if(n===1&&r==="-"&&e[0]==="-")return e;xqe(r)?t+="-"+r.toLowerCase():t+=r}return t.startsWith("ms-")?"-"+t:t}var z1e=function(e){return e==null||e===!1||e===""},H1e=function(e){var t,n,r=[];for(var i in e){var o=e[i];e.hasOwnProperty(i)&&!z1e(o)&&(Array.isArray(o)&&o.isCss||Ww(o)?r.push("".concat(yoe(i),":"),o,";"):u4(o)?r.push.apply(r,l4(l4(["".concat(i," {")],H1e(o),!1),["}"],!1)):r.push("".concat(yoe(i),": ").concat((t=i,(n=o)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||t in WKe||t.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function Cw(e,t,n,r){if(z1e(e))return[];if(eX(e))return[".".concat(e.styledComponentId)];if(Ww(e)){if(!Ww(o=e)||o.prototype&&o.prototype.isReactComponent||!t)return[e];var i=e(t);return Cw(i,t,n,r)}var o;return e instanceof B1e?n?(e.inject(n,r),[e.getName(r)]):[e]:u4(e)?H1e(e):Array.isArray(e)?Array.prototype.concat.apply(cO,e.map(function(s){return Cw(s,t,n,r)})):[e.toString()]}function Sqe(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(Ww(n)&&!eX(n))return!1}return!0}var _qe=M1e(uO),Cqe=function(){function e(t,n,r){this.rules=t,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&Sqe(t),this.componentId=n,this.baseHash=t2(_qe,n),this.baseStyle=r,j1e.registerId(n)}return e.prototype.generateAndInjectStyles=function(t,n,r){var i=this.baseStyle?this.baseStyle.generateAndInjectStyles(t,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))i=Sb(i,this.staticRulesId);else{var o=PV(Cw(this.rules,t,n,r)),s=kV(t2(this.baseHash,o)>>>0);if(!n.hasNameForId(this.componentId,s)){var a=r(o,".".concat(s),void 0,this.componentId);n.insertRules(this.componentId,s,a)}i=Sb(i,s),this.staticRulesId=s}else{for(var l=t2(this.baseHash,r.hash),u="",c=0;c<this.rules.length;c++){var f=this.rules[c];if(typeof f=="string")u+=f;else if(f){var p=PV(Cw(f,t,n,r));l=t2(l,p+c),u+=p}}if(u){var g=kV(l>>>0);n.hasNameForId(this.componentId,g)||n.insertRules(this.componentId,g,r(u,".".concat(g),void 0,this.componentId)),i=Sb(i,g)}}return i},e}(),gR=ne.createContext(void 0);gR.Consumer;function Eqe(e){var t=ne.useContext(gR),n=h.useMemo(function(){return function(r,i){if(!r)throw Kw(14);if(Ww(r)){var o=r(i);return o}if(Array.isArray(r)||typeof r!="object")throw Kw(8);return i?Pl(Pl({},i),r):r}(e.theme,t)},[e.theme,t]);return e.children?ne.createElement(gR.Provider,{value:n},e.children):null}var IN={};function kqe(e,t,n){var r=eX(e),i=e,o=!AN(e),s=t.attrs,a=s===void 0?cO:s,l=t.componentId,u=l===void 0?function(w,P){var M=typeof w!="string"?"sc":doe(w);IN[M]=(IN[M]||0)+1;var R="".concat(M,"-").concat(L1e(uO+M+IN[M]));return P?"".concat(P,"-").concat(R):R}(t.displayName,t.parentComponentId):l,c=t.displayName,f=c===void 0?function(w){return AN(w)?"styled.".concat(w):"Styled(".concat(XKe(w),")")}(e):c,p=t.displayName&&t.componentId?"".concat(doe(t.displayName),"-").concat(t.componentId):t.componentId||u,g=r&&i.attrs?i.attrs.concat(a).filter(Boolean):a,v=t.shouldForwardProp;if(r&&i.shouldForwardProp){var y=i.shouldForwardProp;if(t.shouldForwardProp){var S=t.shouldForwardProp;v=function(w,P){return y(w,P)&&S(w,P)}}else v=y}var C=new Cqe(n,p,r?i.componentStyle:void 0);function _(w,P){return function(M,R,D){var H=M.attrs,O=M.componentStyle,z=M.defaultProps,G=M.foldedComponentIds,ee=M.styledComponentId,X=M.target,se=ne.useContext(gR),B=voe(),q=M.shouldForwardProp||B.shouldForwardProp,U=qKe(R,se,z)||gC,K=function(ue,ce,we){for(var Me,Be=Pl(Pl({},ce),{className:void 0,theme:we}),ge=0;ge<ue.length;ge+=1){var ye=Ww(Me=ue[ge])?Me(Be):Me;for(var _e in ye)Be[_e]=_e==="className"?Sb(Be[_e],ye[_e]):_e==="style"?Pl(Pl({},Be[_e]),ye[_e]):ye[_e]}return ce.className&&(Be.className=Sb(Be.className,ce.className)),Be}(H,R,U),J=K.as||X,oe={};for(var he in K)K[he]===void 0||he[0]==="$"||he==="as"||he==="theme"&&K.theme===U||(he==="forwardedAs"?oe.as=K.forwardedAs:q&&!q(he,J)||(oe[he]=K[he]));var me=function(ue,ce){var we=voe(),Me=ue.generateAndInjectStyles(ce,we.styleSheet,we.stylis);return Me}(O,K),re=Sb(G,ee);return me&&(re+=" "+me),K.className&&(re+=" "+K.className),oe[AN(J)&&!$1e.has(J)?"class":"className"]=re,oe.ref=D,h.createElement(J,oe)}(k,w,P)}_.displayName=f;var k=ne.forwardRef(_);return k.attrs=g,k.componentStyle=C,k.displayName=f,k.shouldForwardProp=v,k.foldedComponentIds=r?Sb(i.foldedComponentIds,i.styledComponentId):"",k.styledComponentId=p,k.target=r?i.target:e,Object.defineProperty(k,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(w){this._foldedDefaultProps=r?function(P){for(var M=[],R=1;R<arguments.length;R++)M[R-1]=arguments[R];for(var D=0,H=M;D<H.length;D++)$V(P,H[D],!0);return P}({},i.defaultProps,w):w}}),tX(k,function(){return".".concat(k.styledComponentId)}),o&&D1e(k,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),k}function boe(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n}var woe=function(e){return Object.assign(e,{isCss:!0})};function ln(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Ww(e)||u4(e))return woe(Cw(boe(cO,l4([e],t,!0))));var r=e;return t.length===0&&r.length===1&&typeof r[0]=="string"?Cw(r):woe(Cw(boe(r,t)))}function MV(e,t,n){if(n===void 0&&(n=gC),!t)throw Kw(1,t);var r=function(i){for(var o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];return e(t,n,ln.apply(void 0,l4([i],o,!1)))};return r.attrs=function(i){return MV(e,t,Pl(Pl({},n),{attrs:Array.prototype.concat(n.attrs,i).filter(Boolean)}))},r.withConfig=function(i){return MV(e,t,Pl(Pl({},n),i))},r}var V1e=function(e){return MV(kqe,e)},Se=V1e;$1e.forEach(function(e){Se[e]=V1e(e)});function Pqe(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=PV(ln.apply(void 0,l4([e],t,!1))),i=L1e(r);return new B1e(i,r)}const U1e=h.createContext(null);h.createContext(null);h.createContext(null);h.createContext(null);h.createContext(null);const $qe=h.createContext({}),Yr=typeof document<"u"?ne.useLayoutEffect:()=>{};function Lo(e){const t=h.useRef(null);return Yr(()=>{t.current=e},[e]),h.useCallback((...n)=>{const r=t.current;return r==null?void 0:r(...n)},[])}function Tqe(e){let[t,n]=h.useState(e),r=h.useRef(null),i=Lo(()=>{if(!r.current)return;let s=r.current.next();if(s.done){r.current=null;return}t===s.value?i():n(s.value)});Yr(()=>{r.current&&i()});let o=Lo(s=>{r.current=s(t),i()});return[t,o]}const vR={prefix:String(Math.round(Math.random()*1e10)),current:0},W1e=ne.createContext(vR),Mqe=ne.createContext(!1);let Lqe=!!(typeof window<"u"&&window.document&&window.document.createElement),RN=new WeakMap;function Aqe(e=!1){let t=h.useContext(W1e),n=h.useRef(null);if(n.current===null&&!e){var r,i;let o=(i=ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||i===void 0||(r=i.ReactCurrentOwner)===null||r===void 0?void 0:r.current;if(o){let s=RN.get(o);s==null?RN.set(o,{id:t.current,state:o.memoizedState}):o.memoizedState!==s.state&&(t.current=s.id,RN.delete(o))}n.current=++t.current}return n.current}function Iqe(e){let t=h.useContext(W1e),n=Aqe(!!e),r=`react-aria${t.prefix}`;return e||`${r}-${n}`}function Rqe(e){let t=ne.useId(),[n]=h.useState(e3()),r=n?"react-aria":`react-aria${vR.prefix}`;return e||`${r}-${t}`}const Dqe=typeof ne.useId=="function"?Rqe:Iqe;function Oqe(){return!1}function jqe(){return!0}function Nqe(e){return()=>{}}function e3(){return typeof ne.useSyncExternalStore=="function"?ne.useSyncExternalStore(Nqe,Oqe,jqe):h.useContext(Mqe)}let Fqe=!!(typeof window<"u"&&window.document&&window.document.createElement),P2=new Map,hk;typeof FinalizationRegistry<"u"&&(hk=new FinalizationRegistry(e=>{P2.delete(e)}));function Ds(e){let[t,n]=h.useState(e),r=h.useRef(null),i=Dqe(t),o=h.useRef(null);if(hk&&hk.register(o,i),Fqe){const s=P2.get(i);s&&!s.includes(r)?s.push(r):P2.set(i,[r])}return Yr(()=>{let s=i;return()=>{hk&&hk.unregister(o),P2.delete(s)}},[i]),h.useEffect(()=>{let s=r.current;return s&&n(s),()=>{s&&(r.current=null)}}),i}function Bqe(e,t){if(e===t)return e;let n=P2.get(e);if(n)return n.forEach(i=>i.current=t),t;let r=P2.get(t);return r?(r.forEach(i=>i.current=e),e):t}function wg(e=[]){let t=Ds(),[n,r]=Tqe(t),i=h.useCallback(()=>{r(function*(){yield t,yield document.getElementById(t)?t:void 0})},[t,r]);return Yr(i,[t,i,...e]),n}function qw(...e){return(...t)=>{for(let n of e)typeof n=="function"&&n(...t)}}const vi=e=>{var t;return(t=e==null?void 0:e.ownerDocument)!==null&&t!==void 0?t:document},Qu=e=>e&&"window"in e&&e.window===e?e:vi(e).defaultView||window;function zqe(e){return e!==null&&typeof e=="object"&&"nodeType"in e&&typeof e.nodeType=="number"}function Hqe(e){return zqe(e)&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in e}let Vqe=!1;function dO(){return Vqe}function zu(e,t){if(!dO())return t&&e?e.contains(t):!1;if(!e||!t)return!1;let n=t;for(;n!==null;){if(n===e)return!0;n.tagName==="SLOT"&&n.assignedSlot?n=n.assignedSlot.parentNode:Hqe(n)?n=n.host:n=n.parentNode}return!1}const Js=(e=document)=>{var t;if(!dO())return e.activeElement;let n=e.activeElement;for(;n&&"shadowRoot"in n&&(!((t=n.shadowRoot)===null||t===void 0)&&t.activeElement);)n=n.shadowRoot.activeElement;return n};function fs(e){return dO()&&e.target.shadowRoot&&e.composedPath?e.composedPath()[0]:e.target}class Uqe{get currentNode(){return this._currentNode}set currentNode(t){if(!zu(this.root,t))throw new Error("Cannot set currentNode to a node that is not contained by the root node.");const n=[];let r=t,i=t;for(this._currentNode=t;r&&r!==this.root;)if(r.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const s=r,a=this._doc.createTreeWalker(s,this.whatToShow,{acceptNode:this._acceptNode});n.push(a),a.currentNode=i,this._currentSetFor.add(a),r=i=s.host}else r=r.parentNode;const o=this._doc.createTreeWalker(this.root,this.whatToShow,{acceptNode:this._acceptNode});n.push(o),o.currentNode=i,this._currentSetFor.add(o),this._walkerStack=n}get doc(){return this._doc}firstChild(){let t=this.currentNode,n=this.nextNode();return zu(t,n)?(n&&(this.currentNode=n),n):(this.currentNode=t,null)}lastChild(){let n=this._walkerStack[0].lastChild();return n&&(this.currentNode=n),n}nextNode(){const t=this._walkerStack[0].nextNode();if(t){if(t.shadowRoot){var n;let i;if(typeof this.filter=="function"?i=this.filter(t):!((n=this.filter)===null||n===void 0)&&n.acceptNode&&(i=this.filter.acceptNode(t)),i===NodeFilter.FILTER_ACCEPT)return this.currentNode=t,t;let o=this.nextNode();return o&&(this.currentNode=o),o}return t&&(this.currentNode=t),t}else if(this._walkerStack.length>1){this._walkerStack.shift();let r=this.nextNode();return r&&(this.currentNode=r),r}else return null}previousNode(){const t=this._walkerStack[0];if(t.currentNode===t.root){if(this._currentSetFor.has(t))if(this._currentSetFor.delete(t),this._walkerStack.length>1){this._walkerStack.shift();let i=this.previousNode();return i&&(this.currentNode=i),i}else return null;return null}const n=t.previousNode();if(n){if(n.shadowRoot){var r;let o;if(typeof this.filter=="function"?o=this.filter(n):!((r=this.filter)===null||r===void 0)&&r.acceptNode&&(o=this.filter.acceptNode(n)),o===NodeFilter.FILTER_ACCEPT)return n&&(this.currentNode=n),n;let s=this.lastChild();return s&&(this.currentNode=s),s}return n&&(this.currentNode=n),n}else if(this._walkerStack.length>1){this._walkerStack.shift();let i=this.previousNode();return i&&(this.currentNode=i),i}else return null}nextSibling(){return null}previousSibling(){return null}parentNode(){return null}constructor(t,n,r,i){this._walkerStack=[],this._currentSetFor=new Set,this._acceptNode=s=>{if(s.nodeType===Node.ELEMENT_NODE){const l=s.shadowRoot;if(l){const u=this._doc.createTreeWalker(l,this.whatToShow,{acceptNode:this._acceptNode});return this._walkerStack.unshift(u),NodeFilter.FILTER_ACCEPT}else{var a;if(typeof this.filter=="function")return this.filter(s);if(!((a=this.filter)===null||a===void 0)&&a.acceptNode)return this.filter.acceptNode(s);if(this.filter===null)return NodeFilter.FILTER_ACCEPT}}return NodeFilter.FILTER_SKIP},this._doc=t,this.root=n,this.filter=i??null,this.whatToShow=r??NodeFilter.SHOW_ALL,this._currentNode=n,this._walkerStack.unshift(t.createTreeWalker(n,r,this._acceptNode));const o=n.shadowRoot;if(o){const s=this._doc.createTreeWalker(o,this.whatToShow,{acceptNode:this._acceptNode});this._walkerStack.unshift(s)}}}function Wqe(e,t,n,r){return dO()?new Uqe(e,t,n,r):e.createTreeWalker(t,n,r)}function K1e(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=K1e(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function ic(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=K1e(e))&&(r&&(r+=" "),r+=t);return r}function un(...e){let t={...e[0]};for(let n=1;n<e.length;n++){let r=e[n];for(let i in r){let o=t[i],s=r[i];typeof o=="function"&&typeof s=="function"&&i[0]==="o"&&i[1]==="n"&&i.charCodeAt(2)>=65&&i.charCodeAt(2)<=90?t[i]=qw(o,s):(i==="className"||i==="UNSAFE_className")&&typeof o=="string"&&typeof s=="string"?t[i]=ic(o,s):i==="id"&&o&&s?t.id=Bqe(o,s):t[i]=s!==void 0?s:o}}return t}function t3(...e){return e.length===1&&e[0]?e[0]:t=>{for(let n of e)typeof n=="function"?n(t):n!=null&&(n.current=t)}}const Kqe=new Set(["id"]),qqe=new Set(["aria-label","aria-labelledby","aria-describedby","aria-details"]),Gqe=new Set(["href","hrefLang","target","rel","download","ping","referrerPolicy"]),Zqe=/^(data-.*)$/;function Mi(e,t={}){let{labelable:n,isLink:r,propNames:i}=t,o={};for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(Kqe.has(s)||n&&qqe.has(s)||r&&Gqe.has(s)||i!=null&&i.has(s)||Zqe.test(s))&&(o[s]=e[s]);return o}function ch(e){if(Yqe())e.focus({preventScroll:!0});else{let t=Xqe(e);e.focus(),Qqe(t)}}let V6=null;function Yqe(){if(V6==null){V6=!1;try{document.createElement("div").focus({get preventScroll(){return V6=!0,!0}})}catch{}}return V6}function Xqe(e){let t=e.parentNode,n=[],r=document.scrollingElement||document.documentElement;for(;t instanceof HTMLElement&&t!==r;)(t.offsetHeight<t.scrollHeight||t.offsetWidth<t.scrollWidth)&&n.push({element:t,scrollTop:t.scrollTop,scrollLeft:t.scrollLeft}),t=t.parentNode;return r instanceof HTMLElement&&n.push({element:r,scrollTop:r.scrollTop,scrollLeft:r.scrollLeft}),n}function Qqe(e){for(let{element:t,scrollTop:n,scrollLeft:r}of e)t.scrollTop=n,t.scrollLeft=r}function fO(e){var t;return typeof window>"u"||window.navigator==null?!1:((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.brands.some(n=>e.test(n.brand)))||e.test(window.navigator.userAgent)}function nX(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function rv(e){let t=null;return()=>(t==null&&(t=e()),t)}const L0=rv(function(){return nX(/^Mac/i)}),Jqe=rv(function(){return nX(/^iPhone/i)}),q1e=rv(function(){return nX(/^iPad/i)||L0()&&navigator.maxTouchPoints>1}),hO=rv(function(){return Jqe()||q1e()}),eGe=rv(function(){return L0()||hO()}),rX=rv(function(){return fO(/AppleWebKit/i)&&!G1e()}),G1e=rv(function(){return fO(/Chrome/i)}),iX=rv(function(){return fO(/Android/i)}),tGe=rv(function(){return fO(/Firefox/i)}),nGe=h.createContext({isNative:!0,open:iGe,useHref:e=>e});function _T(){return h.useContext(nGe)}function Gw(e,t,n=!0){var r,i;let{metaKey:o,ctrlKey:s,altKey:a,shiftKey:l}=t;tGe()&&(!((i=window.event)===null||i===void 0||(r=i.type)===null||r===void 0)&&r.startsWith("key"))&&e.target==="_blank"&&(L0()?o=!0:s=!0);let u=rX()&&L0()&&!q1e()?new KeyboardEvent("keydown",{keyIdentifier:"Enter",metaKey:o,ctrlKey:s,altKey:a,shiftKey:l}):new MouseEvent("click",{metaKey:o,ctrlKey:s,altKey:a,shiftKey:l,bubbles:!0,cancelable:!0});Gw.isOpening=n,ch(e),e.dispatchEvent(u),Gw.isOpening=!1}Gw.isOpening=!1;function rGe(e,t){if(e instanceof HTMLAnchorElement)t(e);else if(e.hasAttribute("data-href")){let n=document.createElement("a");n.href=e.getAttribute("data-href"),e.hasAttribute("data-target")&&(n.target=e.getAttribute("data-target")),e.hasAttribute("data-rel")&&(n.rel=e.getAttribute("data-rel")),e.hasAttribute("data-download")&&(n.download=e.getAttribute("data-download")),e.hasAttribute("data-ping")&&(n.ping=e.getAttribute("data-ping")),e.hasAttribute("data-referrer-policy")&&(n.referrerPolicy=e.getAttribute("data-referrer-policy")),e.appendChild(n),t(n),e.removeChild(n)}}function iGe(e,t){rGe(e,n=>Gw(n,t))}function oGe(e){let t=_T();var n;const r=t.useHref((n=e.href)!==null&&n!==void 0?n:"");return{"data-href":e.href?r:void 0,"data-target":e.target,"data-rel":e.rel,"data-download":e.download,"data-ping":e.ping,"data-referrer-policy":e.referrerPolicy}}function oX(e){let t=_T();var n;const r=t.useHref((n=e==null?void 0:e.href)!==null&&n!==void 0?n:"");return{href:e!=null&&e.href?r:void 0,target:e==null?void 0:e.target,rel:e==null?void 0:e.rel,download:e==null?void 0:e.download,ping:e==null?void 0:e.ping,referrerPolicy:e==null?void 0:e.referrerPolicy}}let MS=new Map,LV=new Set;function xoe(){if(typeof window>"u")return;function e(r){return"propertyName"in r}let t=r=>{if(!e(r)||!r.target)return;let i=MS.get(r.target);i||(i=new Set,MS.set(r.target,i),r.target.addEventListener("transitioncancel",n,{once:!0})),i.add(r.propertyName)},n=r=>{if(!e(r)||!r.target)return;let i=MS.get(r.target);if(i&&(i.delete(r.propertyName),i.size===0&&(r.target.removeEventListener("transitioncancel",n),MS.delete(r.target)),MS.size===0)){for(let o of LV)o();LV.clear()}};document.body.addEventListener("transitionrun",t),document.body.addEventListener("transitionend",n)}typeof document<"u"&&(document.readyState!=="loading"?xoe():document.addEventListener("DOMContentLoaded",xoe));function Z1e(e){requestAnimationFrame(()=>{MS.size===0?e():LV.add(e)})}function pO(){let e=h.useRef(new Map),t=h.useCallback((i,o,s,a)=>{let l=a!=null&&a.once?(...u)=>{e.current.delete(s),s(...u)}:s;e.current.set(s,{type:o,eventTarget:i,fn:l,options:a}),i.addEventListener(o,l,a)},[]),n=h.useCallback((i,o,s,a)=>{var l;let u=((l=e.current.get(s))===null||l===void 0?void 0:l.fn)||s;i.removeEventListener(o,u,a),e.current.delete(s)},[]),r=h.useCallback(()=>{e.current.forEach((i,o)=>{n(i.eventTarget,i.type,o,i.options)})},[n]);return h.useEffect(()=>r,[r]),{addGlobalListener:t,removeGlobalListener:n,removeAllGlobalListeners:r}}function CT(e,t){let{id:n,"aria-label":r,"aria-labelledby":i}=e;return n=Ds(n),i&&r?i=[...new Set([n,...i.trim().split(/\s+/)])].join(" "):i&&(i=i.trim().split(/\s+/).join(" ")),!r&&!i&&t&&(r=t),{id:n,"aria-label":r,"aria-labelledby":i}}function mu(e){const t=h.useRef(null);return h.useMemo(()=>({get current(){return t.current},set current(n){t.current=n,typeof e=="function"?e(n):e&&(e.current=n)}}),[e])}function sGe(e,t){const n=h.useRef(!0),r=h.useRef(null);h.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[]),h.useEffect(()=>{let i=r.current;n.current?n.current=!1:(!i||t.some((o,s)=>!Object.is(o,i[s])))&&e(),r.current=t},t)}function Soe(e,t){const n=h.useRef(!0),r=h.useRef(null);Yr(()=>(n.current=!0,()=>{n.current=!1}),[]),Yr(()=>{n.current?n.current=!1:(!r.current||t.some((i,o)=>!Object.is(i,r[o])))&&e(),r.current=t},t)}function aGe(){return typeof window.ResizeObserver<"u"}function AV(e){const{ref:t,box:n,onResize:r}=e;h.useEffect(()=>{let i=t==null?void 0:t.current;if(i)if(aGe()){const o=new window.ResizeObserver(s=>{s.length&&r()});return o.observe(i,{box:n}),()=>{i&&o.unobserve(i)}}else return window.addEventListener("resize",r,!1),()=>{window.removeEventListener("resize",r,!1)}},[r,t,n])}function sX(e,t){Yr(()=>{if(e&&e.ref&&t)return e.ref.current=t.current,()=>{e.ref&&(e.ref.current=null)}})}function c4(e,t){if(!e)return!1;let n=window.getComputedStyle(e),r=/(auto|scroll)/.test(n.overflow+n.overflowX+n.overflowY);return r&&t&&(r=e.scrollHeight!==e.clientHeight||e.scrollWidth!==e.clientWidth),r}function ry(e,t){let n=e;for(c4(n,t)&&(n=n.parentElement);n&&!c4(n,t);)n=n.parentElement;return n||document.scrollingElement||document.documentElement}function lGe(e,t){const n=[];for(;e&&e!==document.documentElement;)c4(e,t)&&n.push(e),e=e.parentElement;return n}let uGe=0;const DN=new Map;function Y1e(e){let[t,n]=h.useState();return Yr(()=>{if(!e)return;let r=DN.get(e);if(r)n(r.element.id);else{let i=`react-aria-description-${uGe++}`;n(i);let o=document.createElement("div");o.id=i,o.style.display="none",o.textContent=e,document.body.appendChild(o),r={refCount:0,element:o},DN.set(e,r)}return r.refCount++,()=>{r&&--r.refCount===0&&(r.element.remove(),DN.delete(e))}},[e]),{"aria-describedby":e?t:void 0}}function U6(e,t,n,r){let i=Lo(n),o=n==null;h.useEffect(()=>{if(o||!e.current)return;let s=e.current;return s.addEventListener(t,i,r),()=>{s.removeEventListener(t,i,r)}},[e,t,r,o,i])}function X1e(e,t){let n=_oe(e,t,"left"),r=_oe(e,t,"top"),i=t.offsetWidth,o=t.offsetHeight,s=e.scrollLeft,a=e.scrollTop,{borderTopWidth:l,borderLeftWidth:u,scrollPaddingTop:c,scrollPaddingRight:f,scrollPaddingBottom:p,scrollPaddingLeft:g}=getComputedStyle(e),v=s+parseInt(u,10),y=a+parseInt(l,10),S=v+e.clientWidth,C=y+e.clientHeight,_=parseInt(c,10)||0,k=parseInt(p,10)||0,w=parseInt(f,10)||0,P=parseInt(g,10)||0;n<=s+P?s=n-parseInt(u,10)-P:n+i>S-w&&(s+=n+i-S+w),r<=y+_?a=r-parseInt(l,10)-_:r+o>C-k&&(a+=r+o-C+k),e.scrollLeft=s,e.scrollTop=a}function _oe(e,t,n){const r=n==="left"?"offsetLeft":"offsetTop";let i=0;for(;t.offsetParent&&(i+=t[r],t.offsetParent!==e);){if(t.offsetParent.contains(e)){i-=e[r];break}t=t.offsetParent}return i}function iy(e,t){if(e&&document.contains(e)){let s=document.scrollingElement||document.documentElement;if(window.getComputedStyle(s).overflow==="hidden"){let l=lGe(e);for(let u of l)X1e(u,e)}else{var n;let{left:l,top:u}=e.getBoundingClientRect();e==null||(n=e.scrollIntoView)===null||n===void 0||n.call(e,{block:"nearest"});let{left:c,top:f}=e.getBoundingClientRect();if(Math.abs(l-c)>1||Math.abs(u-f)>1){var r,i,o;t==null||(i=t.containingElement)===null||i===void 0||(r=i.scrollIntoView)===null||r===void 0||r.call(i,{block:"center",inline:"center"}),(o=e.scrollIntoView)===null||o===void 0||o.call(e,{block:"nearest"})}}}}function Q1e(e){return e.mozInputSource===0&&e.isTrusted?!0:iX()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function cGe(e){return!iX()&&e.width===0&&e.height===0||e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType==="mouse"}function aX(e,t,n){let r=h.useRef(t),i=Lo(()=>{n&&n(r.current)});h.useEffect(()=>{var o;let s=e==null||(o=e.current)===null||o===void 0?void 0:o.form;return s==null||s.addEventListener("reset",i),()=>{s==null||s.removeEventListener("reset",i)}},[e,i])}function dGe(e){const t=h.version.split(".");return parseInt(t[0],10)>=19?e:e?"true":void 0}const J1e="react-aria-clear-focus",IV="react-aria-focus";function sb(e){return L0()?e.metaKey:e.ctrlKey}function fGe(e,t=!0){let[n,r]=h.useState(!0),i=n&&t;return Yr(()=>{if(i&&e.current&&"getAnimations"in e.current)for(let o of e.current.getAnimations())o instanceof CSSTransition&&o.cancel()},[e,i]),ebe(e,i,h.useCallback(()=>r(!1),[])),i}function hGe(e,t){let[n,r]=h.useState(t?"open":"closed");switch(n){case"open":t||r("exiting");break;case"closed":case"exiting":t&&r("open");break}let i=n==="exiting";return ebe(e,i,h.useCallback(()=>{r(o=>o==="exiting"?"closed":o)},[])),i}function ebe(e,t,n){Yr(()=>{if(t&&e.current){if(!("getAnimations"in e.current)){n();return}let r=e.current.getAnimations();if(r.length===0){n();return}let i=!1;return Promise.all(r.map(o=>o.finished)).then(()=>{i||ai.flushSync(()=>{n()})}).catch(()=>{}),()=>{i=!0}}},[e,t,n])}const lX=["input:not([disabled]):not([type=hidden])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable^="false"])'],pGe=lX.join(":not([hidden]),")+",[tabindex]:not([disabled]):not([hidden])";lX.push('[tabindex]:not([tabindex="-1"]):not([disabled])');const mGe=lX.join(':not([hidden]):not([tabindex="-1"]),');function tbe(e){return e.matches(pGe)}function gGe(e){return e.matches(mGe)}function X0(e,t,n){let[r,i]=h.useState(e||t),o=h.useRef(e!==void 0),s=e!==void 0;h.useEffect(()=>{let u=o.current;o.current=s},[s]);let a=s?e:r,l=h.useCallback((u,...c)=>{let f=(p,...g)=>{n&&(Object.is(a,p)||n(p,...g)),s||(a=p)};typeof u=="function"?i((g,...v)=>{let y=u(s?a:g,...v);return f(y,...c),s?g:y}):(s||i(u),f(u,...c))},[s,a,n]);return[a,l]}function RV(e,t=-1/0,n=1/0){return Math.min(Math.max(e,t),n)}const _0=Symbol("default");function gu({values:e,children:t}){for(let[n,r]of e)t=ne.createElement(n.Provider,{value:r},t);return t}function Oo(e){let{className:t,style:n,children:r,defaultClassName:i,defaultChildren:o,defaultStyle:s,values:a}=e;return h.useMemo(()=>{let l,u,c;return typeof t=="function"?l=t({...a,defaultClassName:i}):l=t,typeof n=="function"?u=n({...a,defaultStyle:s||{}}):u=n,typeof r=="function"?c=r({...a,defaultChildren:o}):r==null?c=o:c=r,{className:l??i,style:u||s?{...s,...u}:void 0,children:c??o,"data-rac":""}},[t,n,r,i,o,s,a])}function wx(e,t){let n=h.useContext(e);if(t===null)return null;if(n&&typeof n=="object"&&"slots"in n&&n.slots){let r=t||_0;if(!n.slots[r]){let i=new Intl.ListFormat().format(Object.keys(n.slots).map(s=>`"${s}"`)),o=t?`Invalid slot "${t}".`:"A slot prop is required.";throw new Error(`${o} Valid slot names are ${i}.`)}return n.slots[r]}return n}function Sa(e,t,n){let r=wx(n,e.slot)||{},{ref:i,...o}=r,s=mu(h.useMemo(()=>t3(t,i),[t,i])),a=un(o,e);return"style"in o&&o.style&&"style"in e&&e.style&&(typeof o.style=="function"||typeof e.style=="function"?a.style=l=>{let u=typeof o.style=="function"?o.style(l):o.style,c={...l.defaultStyle,...u},f=typeof e.style=="function"?e.style({...l,defaultStyle:c}):e.style;return{...c,...f}}:a.style={...o.style,...e.style}),[a,s]}function mO(e=!0){let[t,n]=h.useState(e),r=h.useRef(!1),i=h.useCallback(o=>{r.current=!0,n(!!o)},[]);return Yr(()=>{r.current||n(!1)},[]),[i,t]}function d4(e){const t=/^(data-.*)$/;let n={};for(const r in e)t.test(r)||(n[r]=e[r]);return n}class uX{get childNodes(){throw new Error("childNodes is not supported")}clone(){let t=new uX(this.type,this.key);return t.value=this.value,t.level=this.level,t.hasChildNodes=this.hasChildNodes,t.rendered=this.rendered,t.textValue=this.textValue,t["aria-label"]=this["aria-label"],t.index=this.index,t.parentKey=this.parentKey,t.prevKey=this.prevKey,t.nextKey=this.nextKey,t.firstChildKey=this.firstChildKey,t.lastChildKey=this.lastChildKey,t.props=this.props,t.render=this.render,t.colSpan=this.colSpan,t.colIndex=this.colIndex,t}constructor(t,n){this.value=null,this.level=0,this.hasChildNodes=!1,this.rendered=null,this.textValue="",this["aria-label"]=void 0,this.index=0,this.parentKey=null,this.prevKey=null,this.nextKey=null,this.firstChildKey=null,this.lastChildKey=null,this.props={},this.colSpan=null,this.colIndex=null,this.type=t,this.key=n}}class cX{get size(){return this.keyMap.size}getKeys(){return this.keyMap.keys()}*[Symbol.iterator](){let t=this.firstKey!=null?this.keyMap.get(this.firstKey):void 0;for(;t;)yield t,t=t.nextKey!=null?this.keyMap.get(t.nextKey):void 0}getChildren(t){let n=this.keyMap;return{*[Symbol.iterator](){let r=n.get(t),i=(r==null?void 0:r.firstChildKey)!=null?n.get(r.firstChildKey):null;for(;i;)yield i,i=i.nextKey!=null?n.get(i.nextKey):void 0}}}getKeyBefore(t){let n=this.keyMap.get(t);if(!n)return null;if(n.prevKey!=null){for(n=this.keyMap.get(n.prevKey);n&&n.type!=="item"&&n.lastChildKey!=null;)n=this.keyMap.get(n.lastChildKey);var r;return(r=n==null?void 0:n.key)!==null&&r!==void 0?r:null}return n.parentKey}getKeyAfter(t){let n=this.keyMap.get(t);if(!n)return null;if(n.type!=="item"&&n.firstChildKey!=null)return n.firstChildKey;for(;n;){if(n.nextKey!=null)return n.nextKey;if(n.parentKey!=null)n=this.keyMap.get(n.parentKey);else return null}return null}getFirstKey(){return this.firstKey}getLastKey(){let t=this.lastKey!=null?this.keyMap.get(this.lastKey):null;for(;(t==null?void 0:t.lastChildKey)!=null;)t=this.keyMap.get(t.lastChildKey);var n;return(n=t==null?void 0:t.key)!==null&&n!==void 0?n:null}getItem(t){var n;return(n=this.keyMap.get(t))!==null&&n!==void 0?n:null}at(){throw new Error("Not implemented")}clone(){let t=this.constructor,n=new t;return n.keyMap=new Map(this.keyMap),n.firstKey=this.firstKey,n.lastKey=this.lastKey,n}addNode(t){if(this.frozen)throw new Error("Cannot add a node to a frozen collection");this.keyMap.set(t.key,t)}removeNode(t){if(this.frozen)throw new Error("Cannot remove a node to a frozen collection");this.keyMap.delete(t)}commit(t,n,r=!1){if(this.frozen)throw new Error("Cannot commit a frozen collection");this.firstKey=t,this.lastKey=n,this.frozen=!r}UNSTABLE_filter(t){let n=new cX,r=null;for(let i of this)if(i.type==="section"&&i.hasChildNodes){let o=i.clone(),s=null;for(let a of this.getChildren(i.key))if(Coe(a,t,this,n)){let l=a.clone();s==null&&(o.firstChildKey=l.key),n.firstKey==null&&(n.firstKey=o.key),s&&s.parentKey===l.parentKey?(s.nextKey=l.key,l.prevKey=s.key):l.prevKey=null,l.nextKey=null,n.addNode(l),s=l}s&&(s.type!=="header"?(o.lastChildKey=s.key,r==null?o.prevKey=null:(r.type==="section"||r.type==="separator")&&(r.nextKey=o.key,o.prevKey=r.key),o.nextKey=null,r=o,n.addNode(o)):(n.firstKey===o.key&&(n.firstKey=null),n.removeNode(s.key)))}else if(i.type==="separator"){let o=i.clone();o.nextKey=null,(r==null?void 0:r.type)==="section"&&(r.nextKey=o.key,o.prevKey=r.key,r=o,n.addNode(o))}else{let o=i.clone();Coe(o,t,this,n)&&(n.firstKey==null&&(n.firstKey=o.key),r!=null&&r.type!=="section"&&r.type!=="separator"&&r.parentKey===o.parentKey?(r.nextKey=o.key,o.prevKey=r.key):o.prevKey=null,o.nextKey=null,n.addNode(o),r=o)}if((r==null?void 0:r.type)==="separator"&&r.nextKey===null){let i;r.prevKey!=null&&(i=n.getItem(r.prevKey),i.nextKey=null),n.removeNode(r.key),r=i}return n.lastKey=(r==null?void 0:r.key)||null,n}constructor(){this.keyMap=new Map,this.firstKey=null,this.lastKey=null,this.frozen=!1}}function Coe(e,t,n,r){if(e.type==="subdialogtrigger"||e.type==="submenutrigger"){let i=[...n.getChildren(e.key)][0];if(i&&t(i.textValue)){let o=i.clone();return r.addNode(o),!0}else return!1}else return e.type==="header"?!0:t(e.textValue)}class nbe{*[Symbol.iterator](){let t=this.firstChild;for(;t;)yield t,t=t.nextSibling}get firstChild(){return this._firstChild}set firstChild(t){this._firstChild=t,this.ownerDocument.markDirty(this)}get lastChild(){return this._lastChild}set lastChild(t){this._lastChild=t,this.ownerDocument.markDirty(this)}get previousSibling(){return this._previousSibling}set previousSibling(t){this._previousSibling=t,this.ownerDocument.markDirty(this)}get nextSibling(){return this._nextSibling}set nextSibling(t){this._nextSibling=t,this.ownerDocument.markDirty(this)}get parentNode(){return this._parentNode}set parentNode(t){this._parentNode=t,this.ownerDocument.markDirty(this)}get isConnected(){var t;return((t=this.parentNode)===null||t===void 0?void 0:t.isConnected)||!1}invalidateChildIndices(t){(this._minInvalidChildIndex==null||t.index<this._minInvalidChildIndex.index)&&(this._minInvalidChildIndex=t)}updateChildIndices(){let t=this._minInvalidChildIndex;for(;t;)t.index=t.previousSibling?t.previousSibling.index+1:0,t=t.nextSibling;this._minInvalidChildIndex=null}appendChild(t){t.parentNode&&t.parentNode.removeChild(t),this.firstChild==null&&(this.firstChild=t),this.lastChild?(this.lastChild.nextSibling=t,t.index=this.lastChild.index+1,t.previousSibling=this.lastChild):(t.previousSibling=null,t.index=0),t.parentNode=this,t.nextSibling=null,this.lastChild=t,this.ownerDocument.markDirty(this),this.ownerDocument.queueUpdate()}insertBefore(t,n){if(n==null)return this.appendChild(t);t.parentNode&&t.parentNode.removeChild(t),t.nextSibling=n,t.previousSibling=n.previousSibling,t.index=n.index,this.firstChild===n?this.firstChild=t:n.previousSibling&&(n.previousSibling.nextSibling=t),n.previousSibling=t,t.parentNode=n.parentNode,this.invalidateChildIndices(n),this.ownerDocument.queueUpdate()}removeChild(t){t.parentNode!==this||!this.ownerDocument.isMounted||(t.nextSibling&&(this.invalidateChildIndices(t.nextSibling),t.nextSibling.previousSibling=t.previousSibling),t.previousSibling&&(t.previousSibling.nextSibling=t.nextSibling),this.firstChild===t&&(this.firstChild=t.nextSibling),this.lastChild===t&&(this.lastChild=t.previousSibling),t.parentNode=null,t.nextSibling=null,t.previousSibling=null,t.index=0,this.ownerDocument.markDirty(t),this.ownerDocument.queueUpdate())}addEventListener(){}removeEventListener(){}get previousVisibleSibling(){let t=this.previousSibling;for(;t&&t.isHidden;)t=t.previousSibling;return t}get nextVisibleSibling(){let t=this.nextSibling;for(;t&&t.isHidden;)t=t.nextSibling;return t}get firstVisibleChild(){let t=this.firstChild;for(;t&&t.isHidden;)t=t.nextSibling;return t}get lastVisibleChild(){let t=this.lastChild;for(;t&&t.isHidden;)t=t.previousSibling;return t}constructor(t){this._firstChild=null,this._lastChild=null,this._previousSibling=null,this._nextSibling=null,this._parentNode=null,this._minInvalidChildIndex=null,this.ownerDocument=t}}class $2 extends nbe{get index(){return this._index}set index(t){this._index=t,this.ownerDocument.markDirty(this)}get level(){return this.parentNode instanceof $2?this.parentNode.level+(this.node.type==="item"?1:0):0}getMutableNode(){return this.isMutated||(this.node=this.node.clone(),this.isMutated=!0),this.ownerDocument.markDirty(this),this.node}updateNode(){var t,n,r;let i=this.nextVisibleSibling,o=this.getMutableNode();o.index=this.index,o.level=this.level,o.parentKey=this.parentNode instanceof $2?this.parentNode.node.key:null;var s;o.prevKey=(s=(t=this.previousVisibleSibling)===null||t===void 0?void 0:t.node.key)!==null&&s!==void 0?s:null;var a;o.nextKey=(a=i==null?void 0:i.node.key)!==null&&a!==void 0?a:null,o.hasChildNodes=!!this.firstChild;var l;o.firstChildKey=(l=(n=this.firstVisibleChild)===null||n===void 0?void 0:n.node.key)!==null&&l!==void 0?l:null;var u;if(o.lastChildKey=(u=(r=this.lastVisibleChild)===null||r===void 0?void 0:r.node.key)!==null&&u!==void 0?u:null,(o.colSpan!=null||o.colIndex!=null)&&i){var c,f;let p=((c=o.colIndex)!==null&&c!==void 0?c:o.index)+((f=o.colSpan)!==null&&f!==void 0?f:1);if(p!==i.node.colIndex){let g=i.getMutableNode();g.colIndex=p}}}setProps(t,n,r,i){let o=this.getMutableNode(),{value:s,textValue:a,id:l,...u}=t;if(u.ref=n,o.props=u,o.rendered=r,o.render=i,o.value=s,o.textValue=a||(typeof u.children=="string"?u.children:"")||t["aria-label"]||"",l!=null&&l!==o.key){if(this.hasSetProps)throw new Error("Cannot change the id of an item");o.key=l}u.colSpan!=null&&(o.colSpan=u.colSpan),this.hasSetProps=!0,this.ownerDocument.queueUpdate()}get style(){let t=this;return{get display(){return t.isHidden?"none":""},set display(n){let r=n==="none";if(t.isHidden!==r){var i,o;(((i=t.parentNode)===null||i===void 0?void 0:i.firstVisibleChild)===t||((o=t.parentNode)===null||o===void 0?void 0:o.lastVisibleChild)===t)&&t.ownerDocument.markDirty(t.parentNode);let s=t.previousVisibleSibling,a=t.nextVisibleSibling;s&&t.ownerDocument.markDirty(s),a&&t.ownerDocument.markDirty(a),t.isHidden=r,t.ownerDocument.markDirty(t)}}}}hasAttribute(){}setAttribute(){}setAttributeNS(){}removeAttribute(){}constructor(t,n){super(n),this.nodeType=8,this.isMutated=!0,this._index=0,this.hasSetProps=!1,this.isHidden=!1,this.node=new uX(t,`react-aria-${++n.nodeId}`)}}class vGe extends nbe{get isConnected(){return this.isMounted}createElement(t){return new $2(t,this)}getMutableCollection(){return this.nextCollection||(this.nextCollection=this.collection.clone()),this.nextCollection}markDirty(t){this.dirtyNodes.add(t)}addNode(t){if(t.isHidden)return;let n=this.getMutableCollection();if(!n.getItem(t.node.key))for(let r of t)this.addNode(r);n.addNode(t.node)}removeNode(t){for(let r of t)this.removeNode(r);this.getMutableCollection().removeNode(t.node.key)}getCollection(){return this.inSubscription?this.collection.clone():(this.queuedRender=!1,this.updateCollection(),this.collection)}updateCollection(){for(let o of this.dirtyNodes)o instanceof $2&&(!o.isConnected||o.isHidden)?this.removeNode(o):o.updateChildIndices();for(let o of this.dirtyNodes)o instanceof $2&&(o.isConnected&&!o.isHidden&&(o.updateNode(),this.addNode(o)),o.isMutated=!1);if(this.dirtyNodes.clear(),this.nextCollection){var t,n,r,i;this.nextCollection.commit((r=(t=this.firstVisibleChild)===null||t===void 0?void 0:t.node.key)!==null&&r!==void 0?r:null,(i=(n=this.lastVisibleChild)===null||n===void 0?void 0:n.node.key)!==null&&i!==void 0?i:null,this.isSSR),this.isSSR||(this.collection=this.nextCollection,this.nextCollection=null)}}queueUpdate(){if(!(this.dirtyNodes.size===0||this.queuedRender)){this.queuedRender=!0,this.inSubscription=!0;for(let t of this.subscriptions)t();this.inSubscription=!1}}subscribe(t){return this.subscriptions.add(t),()=>this.subscriptions.delete(t)}resetAfterSSR(){this.isSSR&&(this.isSSR=!1,this.firstChild=null,this.lastChild=null,this.nodeId=0)}constructor(t){super(null),this.nodeType=11,this.ownerDocument=this,this.dirtyNodes=new Set,this.isSSR=!1,this.nodeId=0,this.nodesByProps=new WeakMap,this.isMounted=!0,this.nextCollection=null,this.subscriptions=new Set,this.queuedRender=!1,this.inSubscription=!1,this.collection=t,this.nextCollection=t}}function rbe(e){let{children:t,items:n,idScope:r,addIdAndValue:i,dependencies:o=[]}=e,s=h.useMemo(()=>new WeakMap,o);return h.useMemo(()=>{if(n&&typeof t=="function"){let u=[];for(let c of n){let f=s.get(c);if(!f){f=t(c);var a,l;let p=(l=(a=f.props.id)!==null&&a!==void 0?a:c.key)!==null&&l!==void 0?l:c.id;if(p==null)throw new Error("Could not determine key for item");r&&(p=r+":"+p),f=h.cloneElement(f,i?{key:p,id:p,value:c}:{key:p}),s.set(c,f)}u.push(f)}return u}else if(typeof t!="function")return t},[t,n,s,r,i])}if(typeof HTMLTemplateElement<"u"){const e=Object.getOwnPropertyDescriptor(Node.prototype,"firstChild").get;Object.defineProperty(HTMLTemplateElement.prototype,"firstChild",{configurable:!0,enumerable:!0,get:function(){return this.dataset.reactAriaHidden?this.content.firstChild:e.call(this)}})}const yR=h.createContext(!1);function yGe(e){if(h.useContext(yR))return ne.createElement(ne.Fragment,null,e.children);let n=ne.createElement(yR.Provider,{value:!0},e.children);return ne.createElement("template",{"data-react-aria-hidden":!0},n)}function ET(e){let t=(n,r)=>h.useContext(yR)?null:e(n,r);return t.displayName=e.displayName||e.name,h.forwardRef(t)}function bGe(){return h.useContext(yR)}function dX(e){let t=e;return t.nativeEvent=e,t.isDefaultPrevented=()=>t.defaultPrevented,t.isPropagationStopped=()=>t.cancelBubble,t.persist=()=>{},t}function ibe(e,t){Object.defineProperty(e,"target",{value:t}),Object.defineProperty(e,"currentTarget",{value:t})}function obe(e){let t=h.useRef({isFocused:!1,observer:null});Yr(()=>{const r=t.current;return()=>{r.observer&&(r.observer.disconnect(),r.observer=null)}},[]);let n=Lo(r=>{e==null||e(r)});return h.useCallback(r=>{if(r.target instanceof HTMLButtonElement||r.target instanceof HTMLInputElement||r.target instanceof HTMLTextAreaElement||r.target instanceof HTMLSelectElement){t.current.isFocused=!0;let i=r.target,o=s=>{if(t.current.isFocused=!1,i.disabled){let a=dX(s);n(a)}t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};i.addEventListener("focusout",o,{once:!0}),t.current.observer=new MutationObserver(()=>{if(t.current.isFocused&&i.disabled){var s;(s=t.current.observer)===null||s===void 0||s.disconnect();let a=i===document.activeElement?null:document.activeElement;i.dispatchEvent(new FocusEvent("blur",{relatedTarget:a})),i.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:a}))}}),t.current.observer.observe(i,{attributes:!0,attributeFilter:["disabled"]})}},[n])}let bR=!1;function wGe(e){for(;e&&!tbe(e);)e=e.parentElement;let t=Qu(e),n=t.document.activeElement;if(!n||n===e)return;bR=!0;let r=!1,i=c=>{(c.target===n||r)&&c.stopImmediatePropagation()},o=c=>{(c.target===n||r)&&(c.stopImmediatePropagation(),!e&&!r&&(r=!0,ch(n),l()))},s=c=>{(c.target===e||r)&&c.stopImmediatePropagation()},a=c=>{(c.target===e||r)&&(c.stopImmediatePropagation(),r||(r=!0,ch(n),l()))};t.addEventListener("blur",i,!0),t.addEventListener("focusout",o,!0),t.addEventListener("focusin",a,!0),t.addEventListener("focus",s,!0);let l=()=>{cancelAnimationFrame(u),t.removeEventListener("blur",i,!0),t.removeEventListener("focusout",o,!0),t.removeEventListener("focusin",a,!0),t.removeEventListener("focus",s,!0),bR=!1,r=!1},u=requestAnimationFrame(l);return l}let n2="default",DV="",cA=new WeakMap;function xGe(e){if(hO()){if(n2==="default"){const t=vi(e);DV=t.documentElement.style.webkitUserSelect,t.documentElement.style.webkitUserSelect="none"}n2="disabled"}else if(e instanceof HTMLElement||e instanceof SVGElement){let t="userSelect"in e.style?"userSelect":"webkitUserSelect";cA.set(e,e.style[t]),e.style[t]="none"}}function Eoe(e){if(hO()){if(n2!=="disabled")return;n2="restoring",setTimeout(()=>{Z1e(()=>{if(n2==="restoring"){const t=vi(e);t.documentElement.style.webkitUserSelect==="none"&&(t.documentElement.style.webkitUserSelect=DV||""),DV="",n2="default"}})},300)}else if((e instanceof HTMLElement||e instanceof SVGElement)&&e&&cA.has(e)){let t=cA.get(e),n="userSelect"in e.style?"userSelect":"webkitUserSelect";e.style[n]==="none"&&(e.style[n]=t),e.getAttribute("style")===""&&e.removeAttribute("style"),cA.delete(e)}}const f4=ne.createContext({register:()=>{}});f4.displayName="PressResponderContext";function SGe(e,t){return t.get?t.get.call(e):t.value}function sbe(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function _Ge(e,t){var n=sbe(e,t,"get");return SGe(e,n)}function CGe(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function EGe(e,t,n){CGe(e,t),t.set(e,n)}function kGe(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}function koe(e,t,n){var r=sbe(e,t,"set");return kGe(e,r,n),n}function PGe(e){let t=h.useContext(f4);if(t){let{register:n,...r}=t;e=un(r,e),n()}return sX(t,e.ref),e}var W6=new WeakMap;class K6{continuePropagation(){koe(this,W6,!1)}get shouldStopPropagation(){return _Ge(this,W6)}constructor(t,n,r,i){EGe(this,W6,{writable:!0,value:void 0}),koe(this,W6,!0);var o;let s=(o=i==null?void 0:i.target)!==null&&o!==void 0?o:r.currentTarget;const a=s==null?void 0:s.getBoundingClientRect();let l,u=0,c,f=null;r.clientX!=null&&r.clientY!=null&&(c=r.clientX,f=r.clientY),a&&(c!=null&&f!=null?(l=c-a.left,u=f-a.top):(l=a.width/2,u=a.height/2)),this.type=t,this.pointerType=n,this.target=r.currentTarget,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.x=l,this.y=u}}const Poe=Symbol("linkClicked");function Lp(e){let{onPress:t,onPressChange:n,onPressStart:r,onPressEnd:i,onPressUp:o,onClick:s,isDisabled:a,isPressed:l,preventFocusOnPress:u,shouldCancelOnPointerExit:c,allowTextSelectionOnPress:f,ref:p,...g}=PGe(e),[v,y]=h.useState(!1),S=h.useRef({isPressed:!1,ignoreEmulatedMouseEvents:!1,didFirePressStart:!1,isTriggeringEvent:!1,activePointerId:null,target:null,isOverTarget:!1,pointerType:null,disposables:[]}),{addGlobalListener:C,removeAllGlobalListeners:_}=pO(),k=Lo((z,G)=>{let ee=S.current;if(a||ee.didFirePressStart)return!1;let X=!0;if(ee.isTriggeringEvent=!0,r){let se=new K6("pressstart",G,z);r(se),X=se.shouldStopPropagation}return n&&n(!0),ee.isTriggeringEvent=!1,ee.didFirePressStart=!0,y(!0),X}),w=Lo((z,G,ee=!0)=>{let X=S.current;if(!X.didFirePressStart)return!1;X.didFirePressStart=!1,X.isTriggeringEvent=!0;let se=!0;if(i){let B=new K6("pressend",G,z);i(B),se=B.shouldStopPropagation}if(n&&n(!1),y(!1),t&&ee&&!a){let B=new K6("press",G,z);t(B),se&&(se=B.shouldStopPropagation)}return X.isTriggeringEvent=!1,se}),P=Lo((z,G)=>{let ee=S.current;if(a)return!1;if(o){ee.isTriggeringEvent=!0;let X=new K6("pressup",G,z);return o(X),ee.isTriggeringEvent=!1,X.shouldStopPropagation}return!0}),M=Lo(z=>{let G=S.current;if(G.isPressed&&G.target){G.didFirePressStart&&G.pointerType!=null&&w(nS(G.target,z),G.pointerType,!1),G.isPressed=!1,G.isOverTarget=!1,G.activePointerId=null,G.pointerType=null,_(),f||Eoe(G.target);for(let ee of G.disposables)ee();G.disposables=[]}}),R=Lo(z=>{c&&M(z)}),D=Lo(z=>{s==null||s(z)}),H=Lo((z,G)=>{if(s){let ee=new MouseEvent("click",z);ibe(ee,G),s(dX(ee))}}),O=h.useMemo(()=>{let z=S.current,G={onKeyDown(X){if(ON(X.nativeEvent,X.currentTarget)&&zu(X.currentTarget,fs(X.nativeEvent))){var se;$oe(fs(X.nativeEvent),X.key)&&X.preventDefault();let B=!0;if(!z.isPressed&&!X.repeat){z.target=X.currentTarget,z.isPressed=!0,z.pointerType="keyboard",B=k(X,"keyboard");let q=X.currentTarget,U=K=>{ON(K,q)&&!K.repeat&&zu(q,fs(K))&&z.target&&P(nS(z.target,K),"keyboard")};C(vi(X.currentTarget),"keyup",qw(U,ee),!0)}B&&X.stopPropagation(),X.metaKey&&L0()&&((se=z.metaKeyEvents)===null||se===void 0||se.set(X.key,X.nativeEvent))}else X.key==="Meta"&&(z.metaKeyEvents=new Map)},onClick(X){if(!(X&&!zu(X.currentTarget,fs(X.nativeEvent)))&&X&&X.button===0&&!z.isTriggeringEvent&&!Gw.isOpening){let se=!0;if(a&&X.preventDefault(),!z.ignoreEmulatedMouseEvents&&!z.isPressed&&(z.pointerType==="virtual"||Q1e(X.nativeEvent))){let B=k(X,"virtual"),q=P(X,"virtual"),U=w(X,"virtual");D(X),se=B&&q&&U}else if(z.isPressed&&z.pointerType!=="keyboard"){let B=z.pointerType||X.nativeEvent.pointerType||"virtual";se=w(nS(X.currentTarget,X),B,!0),z.isOverTarget=!1,D(X),M(X)}z.ignoreEmulatedMouseEvents=!1,se&&X.stopPropagation()}}},ee=X=>{var se;if(z.isPressed&&z.target&&ON(X,z.target)){var B;$oe(fs(X),X.key)&&X.preventDefault();let U=fs(X),K=zu(z.target,fs(X));w(nS(z.target,X),"keyboard",K),K&&H(X,z.target),_(),X.key!=="Enter"&&fX(z.target)&&zu(z.target,U)&&!X[Poe]&&(X[Poe]=!0,Gw(z.target,X,!1)),z.isPressed=!1,(B=z.metaKeyEvents)===null||B===void 0||B.delete(X.key)}else if(X.key==="Meta"&&(!((se=z.metaKeyEvents)===null||se===void 0)&&se.size)){var q;let U=z.metaKeyEvents;z.metaKeyEvents=void 0;for(let K of U.values())(q=z.target)===null||q===void 0||q.dispatchEvent(new KeyboardEvent("keyup",K))}};if(typeof PointerEvent<"u"){G.onPointerDown=B=>{if(B.button!==0||!zu(B.currentTarget,fs(B.nativeEvent)))return;if(cGe(B.nativeEvent)){z.pointerType="virtual";return}z.pointerType=B.pointerType;let q=!0;if(!z.isPressed){z.isPressed=!0,z.isOverTarget=!0,z.activePointerId=B.pointerId,z.target=B.currentTarget,f||xGe(z.target),q=k(B,z.pointerType);let U=fs(B.nativeEvent);"releasePointerCapture"in U&&U.releasePointerCapture(B.pointerId),C(vi(B.currentTarget),"pointerup",X,!1),C(vi(B.currentTarget),"pointercancel",se,!1)}q&&B.stopPropagation()},G.onMouseDown=B=>{if(zu(B.currentTarget,fs(B.nativeEvent))&&B.button===0){if(u){let q=wGe(B.target);q&&z.disposables.push(q)}B.stopPropagation()}},G.onPointerUp=B=>{!zu(B.currentTarget,fs(B.nativeEvent))||z.pointerType==="virtual"||B.button===0&&P(B,z.pointerType||B.pointerType)},G.onPointerEnter=B=>{B.pointerId===z.activePointerId&&z.target&&!z.isOverTarget&&z.pointerType!=null&&(z.isOverTarget=!0,k(nS(z.target,B),z.pointerType))},G.onPointerLeave=B=>{B.pointerId===z.activePointerId&&z.target&&z.isOverTarget&&z.pointerType!=null&&(z.isOverTarget=!1,w(nS(z.target,B),z.pointerType,!1),R(B))};let X=B=>{if(B.pointerId===z.activePointerId&&z.isPressed&&B.button===0&&z.target){if(zu(z.target,fs(B))&&z.pointerType!=null){let q=!1,U=setTimeout(()=>{z.isPressed&&z.target instanceof HTMLElement&&(q?M(B):(ch(z.target),z.target.click()))},80);C(B.currentTarget,"click",()=>q=!0,!0),z.disposables.push(()=>clearTimeout(U))}else M(B);z.isOverTarget=!1}},se=B=>{M(B)};G.onDragStart=B=>{zu(B.currentTarget,fs(B.nativeEvent))&&M(B)}}return G},[C,a,u,_,f,M,R,w,k,P,D,H]);return h.useEffect(()=>{let z=p==null?void 0:p.current;z&&z instanceof Qu(z).Element&&Qu(z).getComputedStyle(z).touchAction==="auto"&&(z.style.touchAction="pan-x pan-y pinch-zoom")},[p]),h.useEffect(()=>{let z=S.current;return()=>{var G;f||Eoe((G=z.target)!==null&&G!==void 0?G:void 0);for(let ee of z.disposables)ee();z.disposables=[]}},[f]),{isPressed:l||v,pressProps:un(g,O)}}function fX(e){return e.tagName==="A"&&e.hasAttribute("href")}function ON(e,t){const{key:n,code:r}=e,i=t,o=i.getAttribute("role");return(n==="Enter"||n===" "||n==="Spacebar"||r==="Space")&&!(i instanceof Qu(i).HTMLInputElement&&!abe(i,n)||i instanceof Qu(i).HTMLTextAreaElement||i.isContentEditable)&&!((o==="link"||!o&&fX(i))&&n!=="Enter")}function nS(e,t){let n=t.clientX,r=t.clientY;return{currentTarget:e,shiftKey:t.shiftKey,ctrlKey:t.ctrlKey,metaKey:t.metaKey,altKey:t.altKey,clientX:n,clientY:r}}function $Ge(e){return e instanceof HTMLInputElement?!1:e instanceof HTMLButtonElement?e.type!=="submit"&&e.type!=="reset":!fX(e)}function $oe(e,t){return e instanceof HTMLInputElement?!abe(e,t):$Ge(e)}const TGe=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function abe(e,t){return e.type==="checkbox"||e.type==="radio"?t===" ":TGe.has(e.type)}let Fg=null,h4=new Set,nP=new Map,Zw=!1,OV=!1;const MGe={Tab:!0,Escape:!0};function gO(e,t){for(let n of h4)n(e,t)}function LGe(e){return!(e.metaKey||!L0()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function wR(e){Zw=!0,LGe(e)&&(Fg="keyboard",gO("keyboard",e))}function T2(e){Fg="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(Zw=!0,gO("pointer",e))}function lbe(e){Q1e(e)&&(Zw=!0,Fg="virtual")}function ube(e){e.target===window||e.target===document||bR||!e.isTrusted||(!Zw&&!OV&&(Fg="virtual",gO("virtual",e)),Zw=!1,OV=!1)}function cbe(){bR||(Zw=!1,OV=!0)}function xR(e){if(typeof window>"u"||nP.get(Qu(e)))return;const t=Qu(e),n=vi(e);let r=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){Zw=!0,r.apply(this,arguments)},n.addEventListener("keydown",wR,!0),n.addEventListener("keyup",wR,!0),n.addEventListener("click",lbe,!0),t.addEventListener("focus",ube,!0),t.addEventListener("blur",cbe,!1),typeof PointerEvent<"u"&&(n.addEventListener("pointerdown",T2,!0),n.addEventListener("pointermove",T2,!0),n.addEventListener("pointerup",T2,!0)),t.addEventListener("beforeunload",()=>{dbe(e)},{once:!0}),nP.set(t,{focus:r})}const dbe=(e,t)=>{const n=Qu(e),r=vi(e);t&&r.removeEventListener("DOMContentLoaded",t),nP.has(n)&&(n.HTMLElement.prototype.focus=nP.get(n).focus,r.removeEventListener("keydown",wR,!0),r.removeEventListener("keyup",wR,!0),r.removeEventListener("click",lbe,!0),n.removeEventListener("focus",ube,!0),n.removeEventListener("blur",cbe,!1),typeof PointerEvent<"u"&&(r.removeEventListener("pointerdown",T2,!0),r.removeEventListener("pointermove",T2,!0),r.removeEventListener("pointerup",T2,!0)),nP.delete(n))};function AGe(e){const t=vi(e);let n;return t.readyState!=="loading"?xR(e):(n=()=>{xR(e)},t.addEventListener("DOMContentLoaded",n)),()=>dbe(e,n)}typeof document<"u"&&AGe();function Yw(){return Fg!=="pointer"}function p4(){return Fg}function IGe(e){Fg=e,gO(e,null)}function RGe(){xR();let[e,t]=h.useState(Fg);return h.useEffect(()=>{let n=()=>{t(Fg)};return h4.add(n),()=>{h4.delete(n)}},[]),e3()?null:e}const DGe=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function OGe(e,t,n){let r=vi(n==null?void 0:n.target);const i=typeof window<"u"?Qu(n==null?void 0:n.target).HTMLInputElement:HTMLInputElement,o=typeof window<"u"?Qu(n==null?void 0:n.target).HTMLTextAreaElement:HTMLTextAreaElement,s=typeof window<"u"?Qu(n==null?void 0:n.target).HTMLElement:HTMLElement,a=typeof window<"u"?Qu(n==null?void 0:n.target).KeyboardEvent:KeyboardEvent;return e=e||r.activeElement instanceof i&&!DGe.has(r.activeElement.type)||r.activeElement instanceof o||r.activeElement instanceof s&&r.activeElement.isContentEditable,!(e&&t==="keyboard"&&n instanceof a&&!MGe[n.key])}function jGe(e,t,n){xR(),h.useEffect(()=>{let r=(i,o)=>{OGe(!!(n!=null&&n.isTextInput),i,o)&&e(Yw())};return h4.add(r),()=>{h4.delete(r)}},t)}function Jl(e){const t=vi(e),n=Js(t);if(p4()==="virtual"){let r=n;Z1e(()=>{Js(t)===r&&e.isConnected&&ch(e)})}else ch(e)}function hX(e){let{isDisabled:t,onFocus:n,onBlur:r,onFocusChange:i}=e;const o=h.useCallback(l=>{if(l.target===l.currentTarget)return r&&r(l),i&&i(!1),!0},[r,i]),s=obe(o),a=h.useCallback(l=>{const u=vi(l.target),c=u?Js(u):Js();l.target===l.currentTarget&&c===fs(l.nativeEvent)&&(n&&n(l),i&&i(!0),s(l))},[i,n,s]);return{focusProps:{onFocus:!t&&(n||i||r)?a:void 0,onBlur:!t&&(r||i)?o:void 0}}}function Toe(e){if(!e)return;let t=!0;return n=>{let r={...n,preventDefault(){n.preventDefault()},isDefaultPrevented(){return n.isDefaultPrevented()},stopPropagation(){t=!0},continuePropagation(){t=!1},isPropagationStopped(){return t}};e(r),t&&n.stopPropagation()}}function fbe(e){return{keyboardProps:e.isDisabled?{}:{onKeyDown:Toe(e.onKeyDown),onKeyUp:Toe(e.onKeyUp)}}}let jV=ne.createContext(null);function NGe(e){let t=h.useContext(jV)||{};sX(t,e);let{ref:n,...r}=t;return r}function kT(e,t){let{focusProps:n}=hX(e),{keyboardProps:r}=fbe(e),i=un(n,r),o=NGe(t),s=e.isDisabled?{}:o,a=h.useRef(e.autoFocus);h.useEffect(()=>{a.current&&t.current&&Jl(t.current),a.current=!1},[t]);let l=e.excludeFromTabOrder?-1:0;return e.isDisabled&&(l=void 0),{focusableProps:un({...i,tabIndex:l},s)}}const hbe=ne.forwardRef(({children:e,...t},n)=>{let r=h.useRef(!1),i=h.useContext(f4);n=mu(n||(i==null?void 0:i.ref));let o=un(i||{},{...t,ref:n,register(){r.current=!0,i&&i.register()}});return sX(i,n),h.useEffect(()=>{r.current||(r.current=!0)},[]),ne.createElement(f4.Provider,{value:o},e)});function FGe({children:e}){let t=h.useMemo(()=>({register:()=>{}}),[]);return ne.createElement(f4.Provider,{value:t},e)}function PT(e){let{isDisabled:t,onBlurWithin:n,onFocusWithin:r,onFocusWithinChange:i}=e,o=h.useRef({isFocusWithin:!1}),{addGlobalListener:s,removeAllGlobalListeners:a}=pO(),l=h.useCallback(f=>{f.currentTarget.contains(f.target)&&o.current.isFocusWithin&&!f.currentTarget.contains(f.relatedTarget)&&(o.current.isFocusWithin=!1,a(),n&&n(f),i&&i(!1))},[n,i,o,a]),u=obe(l),c=h.useCallback(f=>{if(!f.currentTarget.contains(f.target))return;const p=vi(f.target),g=Js(p);if(!o.current.isFocusWithin&&g===fs(f.nativeEvent)){r&&r(f),i&&i(!0),o.current.isFocusWithin=!0,u(f);let v=f.currentTarget;s(p,"focus",y=>{if(o.current.isFocusWithin&&!zu(v,y.target)){let S=new p.defaultView.FocusEvent("blur",{relatedTarget:y.target});ibe(S,v);let C=dX(S);l(C)}},{capture:!0})}},[r,i,u,s,l]);return t?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:c,onBlur:l}}}let NV=!1,jN=0;function BGe(){NV=!0,setTimeout(()=>{NV=!1},50)}function Moe(e){e.pointerType==="touch"&&BGe()}function zGe(){if(!(typeof document>"u"))return typeof PointerEvent<"u"&&document.addEventListener("pointerup",Moe),jN++,()=>{jN--,!(jN>0)&&typeof PointerEvent<"u"&&document.removeEventListener("pointerup",Moe)}}function ud(e){let{onHoverStart:t,onHoverChange:n,onHoverEnd:r,isDisabled:i}=e,[o,s]=h.useState(!1),a=h.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;h.useEffect(zGe,[]);let{addGlobalListener:l,removeAllGlobalListeners:u}=pO(),{hoverProps:c,triggerHoverEnd:f}=h.useMemo(()=>{let p=(y,S)=>{if(a.pointerType=S,i||S==="touch"||a.isHovered||!y.currentTarget.contains(y.target))return;a.isHovered=!0;let C=y.currentTarget;a.target=C,l(vi(y.target),"pointerover",_=>{a.isHovered&&a.target&&!zu(a.target,_.target)&&g(_,_.pointerType)},{capture:!0}),t&&t({type:"hoverstart",target:C,pointerType:S}),n&&n(!0),s(!0)},g=(y,S)=>{let C=a.target;a.pointerType="",a.target=null,!(S==="touch"||!a.isHovered||!C)&&(a.isHovered=!1,u(),r&&r({type:"hoverend",target:C,pointerType:S}),n&&n(!1),s(!1))},v={};return typeof PointerEvent<"u"&&(v.onPointerEnter=y=>{NV&&y.pointerType==="mouse"||p(y,y.pointerType)},v.onPointerLeave=y=>{!i&&y.currentTarget.contains(y.target)&&g(y,y.pointerType)}),{hoverProps:v,triggerHoverEnd:g}},[t,n,r,i,a,l,u]);return h.useEffect(()=>{i&&f({currentTarget:a.target},a.pointerType)},[i]),{hoverProps:c,isHovered:o}}function HGe(e){let{ref:t,onInteractOutside:n,isDisabled:r,onInteractOutsideStart:i}=e,o=h.useRef({isPointerDown:!1,ignoreEmulatedMouseEvents:!1}),s=Lo(l=>{n&&Loe(l,t)&&(i&&i(l),o.current.isPointerDown=!0)}),a=Lo(l=>{n&&n(l)});h.useEffect(()=>{let l=o.current;if(r)return;const u=t.current,c=vi(u);if(typeof PointerEvent<"u"){let f=p=>{l.isPointerDown&&Loe(p,t)&&a(p),l.isPointerDown=!1};return c.addEventListener("pointerdown",s,!0),c.addEventListener("pointerup",f,!0),()=>{c.removeEventListener("pointerdown",s,!0),c.removeEventListener("pointerup",f,!0)}}},[t,r,s,a])}function Loe(e,t){if(e.button>0)return!1;if(e.target){const n=e.target.ownerDocument;if(!n||!n.documentElement.contains(e.target)||e.target.closest("[data-react-aria-top-layer]"))return!1}return t.current?!e.composedPath().includes(t.current):!1}const VGe=500;function pbe(e){let{isDisabled:t,onLongPressStart:n,onLongPressEnd:r,onLongPress:i,threshold:o=VGe,accessibilityDescription:s}=e;const a=h.useRef(void 0);let{addGlobalListener:l,removeGlobalListener:u}=pO(),{pressProps:c}=Lp({isDisabled:t,onPressStart(p){if(p.continuePropagation(),(p.pointerType==="mouse"||p.pointerType==="touch")&&(n&&n({...p,type:"longpressstart"}),a.current=setTimeout(()=>{p.target.dispatchEvent(new PointerEvent("pointercancel",{bubbles:!0})),vi(p.target).activeElement!==p.target&&ch(p.target),i&&i({...p,type:"longpress"}),a.current=void 0},o),p.pointerType==="touch")){let g=v=>{v.preventDefault()};l(p.target,"contextmenu",g,{once:!0}),l(window,"pointerup",()=>{setTimeout(()=>{u(p.target,"contextmenu",g)},30)},{once:!0})}},onPressEnd(p){a.current&&clearTimeout(a.current),r&&(p.pointerType==="mouse"||p.pointerType==="touch")&&r({...p,type:"longpressend"})}}),f=Y1e(i&&!t?s:void 0);return{longPressProps:un(c,f)}}var mbe={exports:{}},gbe={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vC=h;function UGe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var WGe=typeof Object.is=="function"?Object.is:UGe,KGe=vC.useState,qGe=vC.useEffect,GGe=vC.useLayoutEffect,ZGe=vC.useDebugValue;function YGe(e,t){var n=t(),r=KGe({inst:{value:n,getSnapshot:t}}),i=r[0].inst,o=r[1];return GGe(function(){i.value=n,i.getSnapshot=t,NN(i)&&o({inst:i})},[e,n,t]),qGe(function(){return NN(i)&&o({inst:i}),e(function(){NN(i)&&o({inst:i})})},[e]),ZGe(n),n}function NN(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!WGe(e,n)}catch{return!0}}function XGe(e,t){return t()}var QGe=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?XGe:YGe;gbe.useSyncExternalStore=vC.useSyncExternalStore!==void 0?vC.useSyncExternalStore:QGe;mbe.exports=gbe;var vbe=mbe.exports;const ybe=h.createContext(!1),m4=h.createContext(null);function vO(e){if(h.useContext(m4))return e.content;let{collection:n,document:r}=nZe(e.createCollection);return ne.createElement(ne.Fragment,null,ne.createElement(yGe,null,ne.createElement(m4.Provider,{value:r},e.content)),ne.createElement(JGe,{render:e.children,collection:n}))}function JGe({collection:e,render:t}){return t(e)}function eZe(e,t,n){let r=e3(),i=h.useRef(r);i.current=r;let o=h.useCallback(()=>i.current?n():t(),[t,n]);return vbe.useSyncExternalStore(e,o)}const tZe=typeof ne.useSyncExternalStore=="function"?ne.useSyncExternalStore:eZe;function nZe(e){let[t]=h.useState(()=>new vGe((e==null?void 0:e())||new cX)),n=h.useCallback(s=>t.subscribe(s),[t]),r=h.useCallback(()=>{let s=t.getCollection();return t.isSSR&&t.resetAfterSSR(),s},[t]),i=h.useCallback(()=>(t.isSSR=!0,t.getCollection()),[t]),o=tZe(n,r,i);return Yr(()=>(t.isMounted=!0,()=>{t.isMounted=!1}),[t]),{collection:o,document:t}}const FV=h.createContext(null);function rZe(e,t,n,r,i,o){let s=h.useCallback(l=>{l==null||l.setProps(t,n,r,o)},[t,n,r,o]),a=h.useContext(FV);if(a){let l=a.ownerDocument.nodesByProps.get(t);return l||(l=a.ownerDocument.createElement(e),l.setProps(t,n,r,o),a.appendChild(l),a.ownerDocument.updateCollection(),a.ownerDocument.nodesByProps.set(t,l)),i?ne.createElement(FV.Provider,{value:l},i):null}return ne.createElement(e,{ref:s},i)}function yO(e,t){let n=({node:i})=>t(i.props,i.props.ref,i),r=h.forwardRef((i,o)=>{let s=h.useContext(jV);if(!h.useContext(ybe)){if(t.length>=3)throw new Error(t.name+" cannot be rendered outside a collection.");return t(i,o)}return rZe(e,i,o,"children"in i?i.children:null,null,l=>ne.createElement(jV.Provider,{value:s},ne.createElement(n,{node:l})))});return r.displayName=t.name,r}function iZe(e){return rbe({...e,addIdAndValue:!0})}const Aoe=h.createContext(null);function bO(e){let t=h.useContext(Aoe),n=((t==null?void 0:t.dependencies)||[]).concat(e.dependencies),r=e.idScope||(t==null?void 0:t.idScope),i=iZe({...e,idScope:r,dependencies:n});return h.useContext(m4)&&(i=ne.createElement(oZe,null,i)),t=h.useMemo(()=>({dependencies:n,idScope:r}),[r,...n]),ne.createElement(Aoe.Provider,{value:t},i)}function oZe({children:e}){let t=h.useContext(m4),n=h.useMemo(()=>ne.createElement(m4.Provider,{value:null},ne.createElement(ybe.Provider,{value:!0},e)),[e]);return e3()?ne.createElement(FV.Provider,{value:t},n):ai.createPortal(n,t)}const sZe=new Set(["Arab","Syrc","Samr","Mand","Thaa","Mend","Nkoo","Adlm","Rohg","Hebr"]),aZe=new Set(["ae","ar","arc","bcc","bqi","ckb","dv","fa","glk","he","ku","mzn","nqo","pnb","ps","sd","ug","ur","yi"]);function lZe(e){if(Intl.Locale){let n=new Intl.Locale(e).maximize(),r=typeof n.getTextInfo=="function"?n.getTextInfo():n.textInfo;if(r)return r.direction==="rtl";if(n.script)return sZe.has(n.script)}let t=e.split("-")[0];return aZe.has(t)}const uZe=Symbol.for("react-aria.i18n.locale");function bbe(){let e=typeof window<"u"&&window[uZe]||typeof navigator<"u"&&(navigator.language||navigator.userLanguage)||"en-US";try{Intl.DateTimeFormat.supportedLocalesOf([e])}catch{e="en-US"}return{locale:e,direction:lZe(e)?"rtl":"ltr"}}let BV=bbe(),pk=new Set;function Ioe(){BV=bbe();for(let e of pk)e(BV)}function cZe(){let e=e3(),[t,n]=h.useState(BV);return h.useEffect(()=>(pk.size===0&&window.addEventListener("languagechange",Ioe),pk.add(n),()=>{pk.delete(n),pk.size===0&&window.removeEventListener("languagechange",Ioe)}),[]),e?{locale:"en-US",direction:"ltr"}:t}const dZe=ne.createContext(null);function bh(){let e=cZe();return h.useContext(dZe)||e}const fZe=Symbol.for("react-aria.i18n.locale"),hZe=Symbol.for("react-aria.i18n.strings");let rS;class wO{getStringForLocale(t,n){let i=this.getStringsForLocale(n)[t];if(!i)throw new Error(`Could not find intl message ${t} in ${n} locale`);return i}getStringsForLocale(t){let n=this.strings[t];return n||(n=pZe(t,this.strings,this.defaultLocale),this.strings[t]=n),n}static getGlobalDictionaryForPackage(t){if(typeof window>"u")return null;let n=window[fZe];if(rS===void 0){let i=window[hZe];if(!i)return null;rS={};for(let o in i)rS[o]=new wO({[n]:i[o]},n)}let r=rS==null?void 0:rS[t];if(!r)throw new Error(`Strings for package "${t}" were not included by LocalizedStringProvider. Please add it to the list passed to createLocalizedStringDictionary.`);return r}constructor(t,n="en-US"){this.strings=Object.fromEntries(Object.entries(t).filter(([,r])=>r)),this.defaultLocale=n}}function pZe(e,t,n="en-US"){if(t[e])return t[e];let r=mZe(e);if(t[r])return t[r];for(let i in t)if(i.startsWith(r+"-"))return t[i];return t[n]}function mZe(e){return Intl.Locale?new Intl.Locale(e).language:e.split("-")[0]}const Roe=new Map,Doe=new Map;class gZe{format(t,n){let r=this.strings.getStringForLocale(t,this.locale);return typeof r=="function"?r(n,this):r}plural(t,n,r="cardinal"){let i=n["="+t];if(i)return typeof i=="function"?i():i;let o=this.locale+":"+r,s=Roe.get(o);s||(s=new Intl.PluralRules(this.locale,{type:r}),Roe.set(o,s));let a=s.select(t);return i=n[a]||n.other,typeof i=="function"?i():i}number(t){let n=Doe.get(this.locale);return n||(n=new Intl.NumberFormat(this.locale),Doe.set(this.locale,n)),n.format(t)}select(t,n){let r=t[n]||t.other;return typeof r=="function"?r():r}constructor(t,n){this.locale=t,this.strings=n}}const Ooe=new WeakMap;function vZe(e){let t=Ooe.get(e);return t||(t=new wO(e),Ooe.set(e,t)),t}function yZe(e,t){return t&&wO.getGlobalDictionaryForPackage(t)||vZe(e)}function n3(e,t){let{locale:n}=bh(),r=yZe(e,t);return h.useMemo(()=>new gZe(n,r),[n,r])}let FN=new Map;function pX(e){let{locale:t}=bh(),n=t+(e?Object.entries(e).sort((i,o)=>i[0]<o[0]?-1:1).join():"");if(FN.has(n))return FN.get(n);let r=new Intl.Collator(t,e);return FN.set(n,r),r}function bZe(e,t){let{elementType:n="button",isDisabled:r,onPress:i,onPressStart:o,onPressEnd:s,onPressUp:a,onPressChange:l,preventFocusOnPress:u,allowFocusWhenDisabled:c,onClick:f,href:p,target:g,rel:v,type:y="button"}=e,S;n==="button"?S={type:y,disabled:r}:S={role:"button",href:n==="a"&&!r?p:void 0,target:n==="a"?g:void 0,type:n==="input"?y:void 0,disabled:n==="input"?r:void 0,"aria-disabled":!r||n==="input"?void 0:r,rel:n==="a"?v:void 0};let{pressProps:C,isPressed:_}=Lp({onPressStart:o,onPressEnd:s,onPressChange:l,onPress:i,onPressUp:a,onClick:f,isDisabled:r,preventFocusOnPress:u,ref:t}),{focusableProps:k}=kT(e,t);c&&(k.tabIndex=r?-1:k.tabIndex);let w=un(k,C,Mi(e,{labelable:!0}));return{isPressed:_,buttonProps:un(S,w,{"aria-haspopup":e["aria-haspopup"],"aria-expanded":e["aria-expanded"],"aria-controls":e["aria-controls"],"aria-pressed":e["aria-pressed"],"aria-current":e["aria-current"]})}}function wZe(e){const t=Qu(e);if(!(e instanceof t.HTMLElement)&&!(e instanceof t.SVGElement))return!1;let{display:n,visibility:r}=e.style,i=n!=="none"&&r!=="hidden"&&r!=="collapse";if(i){const{getComputedStyle:o}=e.ownerDocument.defaultView;let{display:s,visibility:a}=o(e);i=s!=="none"&&a!=="hidden"&&a!=="collapse"}return i}function xZe(e,t){return!e.hasAttribute("hidden")&&!e.hasAttribute("data-react-aria-prevent-focus")&&(e.nodeName==="DETAILS"&&t&&t.nodeName!=="SUMMARY"?e.hasAttribute("open"):!0)}function wbe(e,t){return e.nodeName!=="#comment"&&wZe(e)&&xZe(e,t)&&(!e.parentElement||wbe(e.parentElement,e))}const joe=ne.createContext(null),zV="react-aria-focus-scope-restore";let Zi=null;function xO(e){let{children:t,contain:n,restoreFocus:r,autoFocus:i}=e,o=h.useRef(null),s=h.useRef(null),a=h.useRef([]),{parentNode:l}=h.useContext(joe)||{},u=h.useMemo(()=>new VV({scopeRef:a}),[a]);Yr(()=>{let p=l||Es.root;if(Es.getTreeNode(p.scopeRef)&&Zi&&!SR(Zi,p.scopeRef)){let g=Es.getTreeNode(Zi);g&&(p=g)}p.addChild(u),Es.addNode(u)},[u,l]),Yr(()=>{let p=Es.getTreeNode(a);p&&(p.contain=!!n)},[n]),Yr(()=>{var p;let g=(p=o.current)===null||p===void 0?void 0:p.nextSibling,v=[],y=S=>S.stopPropagation();for(;g&&g!==s.current;)v.push(g),g.addEventListener(zV,y),g=g.nextSibling;return a.current=v,()=>{for(let S of v)S.removeEventListener(zV,y)}},[t]),kZe(a,r,n),_Ze(a,n),PZe(a,r,n),EZe(a,i),h.useEffect(()=>{const p=Js(vi(a.current?a.current[0]:void 0));let g=null;if(nf(p,a.current)){for(let v of Es.traverse())v.scopeRef&&nf(p,v.scopeRef.current)&&(g=v);g===Es.getTreeNode(a)&&(Zi=g.scopeRef)}},[a]),Yr(()=>()=>{var p,g,v;let y=(v=(g=Es.getTreeNode(a))===null||g===void 0||(p=g.parent)===null||p===void 0?void 0:p.scopeRef)!==null&&v!==void 0?v:null;(a===Zi||SR(a,Zi))&&(!y||Es.getTreeNode(y))&&(Zi=y),Es.removeTreeNode(a)},[a]);let c=h.useMemo(()=>SZe(a),[]),f=h.useMemo(()=>({focusManager:c,parentNode:u}),[u,c]);return ne.createElement(joe.Provider,{value:f},ne.createElement("span",{"data-focus-scope-start":!0,hidden:!0,ref:o}),t,ne.createElement("span",{"data-focus-scope-end":!0,hidden:!0,ref:s}))}function SZe(e){return{focusNext(t={}){let n=e.current,{from:r,tabbable:i,wrap:o,accept:s}=t;var a;let l=r||Js(vi((a=n[0])!==null&&a!==void 0?a:void 0)),u=n[0].previousElementSibling,c=_b(n),f=Ya(c,{tabbable:i,accept:s},n);f.currentNode=nf(l,n)?l:u;let p=f.nextNode();return!p&&o&&(f.currentNode=u,p=f.nextNode()),p&&Gu(p,!0),p},focusPrevious(t={}){let n=e.current,{from:r,tabbable:i,wrap:o,accept:s}=t;var a;let l=r||Js(vi((a=n[0])!==null&&a!==void 0?a:void 0)),u=n[n.length-1].nextElementSibling,c=_b(n),f=Ya(c,{tabbable:i,accept:s},n);f.currentNode=nf(l,n)?l:u;let p=f.previousNode();return!p&&o&&(f.currentNode=u,p=f.previousNode()),p&&Gu(p,!0),p},focusFirst(t={}){let n=e.current,{tabbable:r,accept:i}=t,o=_b(n),s=Ya(o,{tabbable:r,accept:i},n);s.currentNode=n[0].previousElementSibling;let a=s.nextNode();return a&&Gu(a,!0),a},focusLast(t={}){let n=e.current,{tabbable:r,accept:i}=t,o=_b(n),s=Ya(o,{tabbable:r,accept:i},n);s.currentNode=n[n.length-1].nextElementSibling;let a=s.previousNode();return a&&Gu(a,!0),a}}}function _b(e){return e[0].parentElement}function mk(e){let t=Es.getTreeNode(Zi);for(;t&&t.scopeRef!==e;){if(t.contain)return!1;t=t.parent}return!0}function _Ze(e,t){let n=h.useRef(void 0),r=h.useRef(void 0);Yr(()=>{let i=e.current;if(!t){r.current&&(cancelAnimationFrame(r.current),r.current=void 0);return}const o=vi(i?i[0]:void 0);let s=u=>{if(u.key!=="Tab"||u.altKey||u.ctrlKey||u.metaKey||!mk(e)||u.isComposing)return;let c=Js(o),f=e.current;if(!f||!nf(c,f))return;let p=_b(f),g=Ya(p,{tabbable:!0},f);if(!c)return;g.currentNode=c;let v=u.shiftKey?g.previousNode():g.nextNode();v||(g.currentNode=u.shiftKey?f[f.length-1].nextElementSibling:f[0].previousElementSibling,v=u.shiftKey?g.previousNode():g.nextNode()),u.preventDefault(),v&&Gu(v,!0)},a=u=>{(!Zi||SR(Zi,e))&&nf(fs(u),e.current)?(Zi=e,n.current=fs(u)):mk(e)&&!o0(fs(u),e)?n.current?n.current.focus():Zi&&Zi.current&&HV(Zi.current):mk(e)&&(n.current=fs(u))},l=u=>{r.current&&cancelAnimationFrame(r.current),r.current=requestAnimationFrame(()=>{let c=p4(),f=(c==="virtual"||c===null)&&iX()&&G1e(),p=Js(o);if(!f&&p&&mk(e)&&!o0(p,e)){Zi=e;let v=fs(u);if(v&&v.isConnected){var g;n.current=v,(g=n.current)===null||g===void 0||g.focus()}else Zi.current&&HV(Zi.current)}})};return o.addEventListener("keydown",s,!1),o.addEventListener("focusin",a,!1),i==null||i.forEach(u=>u.addEventListener("focusin",a,!1)),i==null||i.forEach(u=>u.addEventListener("focusout",l,!1)),()=>{o.removeEventListener("keydown",s,!1),o.removeEventListener("focusin",a,!1),i==null||i.forEach(u=>u.removeEventListener("focusin",a,!1)),i==null||i.forEach(u=>u.removeEventListener("focusout",l,!1))}},[e,t]),Yr(()=>()=>{r.current&&cancelAnimationFrame(r.current)},[r])}function xbe(e){return o0(e)}function nf(e,t){return!e||!t?!1:t.some(n=>n.contains(e))}function o0(e,t=null){if(e instanceof Element&&e.closest("[data-react-aria-top-layer]"))return!0;for(let{scopeRef:n}of Es.traverse(Es.getTreeNode(t)))if(n&&nf(e,n.current))return!0;return!1}function CZe(e){return o0(e,Zi)}function SR(e,t){var n;let r=(n=Es.getTreeNode(t))===null||n===void 0?void 0:n.parent;for(;r;){if(r.scopeRef===e)return!0;r=r.parent}return!1}function Gu(e,t=!1){if(e!=null&&!t)try{Jl(e)}catch{}else if(e!=null)try{e.focus()}catch{}}function Sbe(e,t=!0){let n=e[0].previousElementSibling,r=_b(e),i=Ya(r,{tabbable:t},e);i.currentNode=n;let o=i.nextNode();return t&&!o&&(r=_b(e),i=Ya(r,{tabbable:!1},e),i.currentNode=n,o=i.nextNode()),o}function HV(e,t=!0){Gu(Sbe(e,t))}function EZe(e,t){const n=ne.useRef(t);h.useEffect(()=>{if(n.current){Zi=e;const r=vi(e.current?e.current[0]:void 0);!nf(Js(r),Zi.current)&&e.current&&HV(e.current)}n.current=!1},[e])}function kZe(e,t,n){Yr(()=>{if(t||n)return;let r=e.current;const i=vi(r?r[0]:void 0);let o=s=>{let a=fs(s);nf(a,e.current)?Zi=e:xbe(a)||(Zi=null)};return i.addEventListener("focusin",o,!1),r==null||r.forEach(s=>s.addEventListener("focusin",o,!1)),()=>{i.removeEventListener("focusin",o,!1),r==null||r.forEach(s=>s.removeEventListener("focusin",o,!1))}},[e,t,n])}function Noe(e){let t=Es.getTreeNode(Zi);for(;t&&t.scopeRef!==e;){if(t.nodeToRestore)return!1;t=t.parent}return(t==null?void 0:t.scopeRef)===e}function PZe(e,t,n){const r=h.useRef(typeof document<"u"?Js(vi(e.current?e.current[0]:void 0)):null);Yr(()=>{let i=e.current;const o=vi(i?i[0]:void 0);if(!t||n)return;let s=()=>{(!Zi||SR(Zi,e))&&nf(Js(o),e.current)&&(Zi=e)};return o.addEventListener("focusin",s,!1),i==null||i.forEach(a=>a.addEventListener("focusin",s,!1)),()=>{o.removeEventListener("focusin",s,!1),i==null||i.forEach(a=>a.removeEventListener("focusin",s,!1))}},[e,n]),Yr(()=>{const i=vi(e.current?e.current[0]:void 0);if(!t)return;let o=s=>{if(s.key!=="Tab"||s.altKey||s.ctrlKey||s.metaKey||!mk(e)||s.isComposing)return;let a=i.activeElement;if(!o0(a,e)||!Noe(e))return;let l=Es.getTreeNode(e);if(!l)return;let u=l.nodeToRestore,c=Ya(i.body,{tabbable:!0});c.currentNode=a;let f=s.shiftKey?c.previousNode():c.nextNode();if((!u||!u.isConnected||u===i.body)&&(u=void 0,l.nodeToRestore=void 0),(!f||!o0(f,e))&&u){c.currentNode=u;do f=s.shiftKey?c.previousNode():c.nextNode();while(o0(f,e));s.preventDefault(),s.stopPropagation(),f?Gu(f,!0):xbe(u)?Gu(u,!0):a.blur()}};return n||i.addEventListener("keydown",o,!0),()=>{n||i.removeEventListener("keydown",o,!0)}},[e,t,n]),Yr(()=>{const i=vi(e.current?e.current[0]:void 0);if(!t)return;let o=Es.getTreeNode(e);if(o){var s;return o.nodeToRestore=(s=r.current)!==null&&s!==void 0?s:void 0,()=>{let a=Es.getTreeNode(e);if(!a)return;let l=a.nodeToRestore,u=Js(i);if(t&&l&&(u&&o0(u,e)||u===i.body&&Noe(e))){let c=Es.clone();requestAnimationFrame(()=>{if(i.activeElement===i.body){let f=c.getTreeNode(e);for(;f;){if(f.nodeToRestore&&f.nodeToRestore.isConnected){Foe(f.nodeToRestore);return}f=f.parent}for(f=c.getTreeNode(e);f;){if(f.scopeRef&&f.scopeRef.current&&Es.getTreeNode(f.scopeRef)){let p=Sbe(f.scopeRef.current,!0);Foe(p);return}f=f.parent}}})}}}},[e,t])}function Foe(e){e.dispatchEvent(new CustomEvent(zV,{bubbles:!0,cancelable:!0}))&&Gu(e)}function Ya(e,t,n){let r=t!=null&&t.tabbable?gGe:tbe,i=(e==null?void 0:e.nodeType)===Node.ELEMENT_NODE?e:null,o=vi(i),s=Wqe(o,e||o,NodeFilter.SHOW_ELEMENT,{acceptNode(a){var l;return!(t==null||(l=t.from)===null||l===void 0)&&l.contains(a)?NodeFilter.FILTER_REJECT:r(a)&&wbe(a)&&(!n||nf(a,n))&&(!(t!=null&&t.accept)||t.accept(a))?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});return t!=null&&t.from&&(s.currentNode=t.from),s}function $Ze(e,t={}){return{focusNext(n={}){let r=e.current;if(!r)return null;let{from:i,tabbable:o=t.tabbable,wrap:s=t.wrap,accept:a=t.accept}=n,l=i||Js(vi(r)),u=Ya(r,{tabbable:o,accept:a});r.contains(l)&&(u.currentNode=l);let c=u.nextNode();return!c&&s&&(u.currentNode=r,c=u.nextNode()),c&&Gu(c,!0),c},focusPrevious(n=t){let r=e.current;if(!r)return null;let{from:i,tabbable:o=t.tabbable,wrap:s=t.wrap,accept:a=t.accept}=n,l=i||Js(vi(r)),u=Ya(r,{tabbable:o,accept:a});if(r.contains(l))u.currentNode=l;else{let f=BN(u);return f&&Gu(f,!0),f??null}let c=u.previousNode();if(!c&&s){u.currentNode=r;let f=BN(u);if(!f)return null;c=f}return c&&Gu(c,!0),c??null},focusFirst(n=t){let r=e.current;if(!r)return null;let{tabbable:i=t.tabbable,accept:o=t.accept}=n,a=Ya(r,{tabbable:i,accept:o}).nextNode();return a&&Gu(a,!0),a},focusLast(n=t){let r=e.current;if(!r)return null;let{tabbable:i=t.tabbable,accept:o=t.accept}=n,s=Ya(r,{tabbable:i,accept:o}),a=BN(s);return a&&Gu(a,!0),a??null}}}function BN(e){let t,n;do n=e.lastChild(),n&&(t=n);while(n);return t}class mX{get size(){return this.fastMap.size}getTreeNode(t){return this.fastMap.get(t)}addTreeNode(t,n,r){let i=this.fastMap.get(n??null);if(!i)return;let o=new VV({scopeRef:t});i.addChild(o),o.parent=i,this.fastMap.set(t,o),r&&(o.nodeToRestore=r)}addNode(t){this.fastMap.set(t.scopeRef,t)}removeTreeNode(t){if(t===null)return;let n=this.fastMap.get(t);if(!n)return;let r=n.parent;for(let o of this.traverse())o!==n&&n.nodeToRestore&&o.nodeToRestore&&n.scopeRef&&n.scopeRef.current&&nf(o.nodeToRestore,n.scopeRef.current)&&(o.nodeToRestore=n.nodeToRestore);let i=n.children;r&&(r.removeChild(n),i.size>0&&i.forEach(o=>r&&r.addChild(o))),this.fastMap.delete(n.scopeRef)}*traverse(t=this.root){if(t.scopeRef!=null&&(yield t),t.children.size>0)for(let n of t.children)yield*this.traverse(n)}clone(){var t;let n=new mX;var r;for(let i of this.traverse())n.addTreeNode(i.scopeRef,(r=(t=i.parent)===null||t===void 0?void 0:t.scopeRef)!==null&&r!==void 0?r:null,i.nodeToRestore);return n}constructor(){this.fastMap=new Map,this.root=new VV({scopeRef:null}),this.fastMap.set(null,this.root)}}class VV{addChild(t){this.children.add(t),t.parent=this}removeChild(t){this.children.delete(t),t.parent=void 0}constructor(t){this.children=new Set,this.contain=!1,this.scopeRef=t.scopeRef}}let Es=new mX;function pf(e={}){let{autoFocus:t=!1,isTextInput:n,within:r}=e,i=h.useRef({isFocused:!1,isFocusVisible:t||Yw()}),[o,s]=h.useState(!1),[a,l]=h.useState(()=>i.current.isFocused&&i.current.isFocusVisible),u=h.useCallback(()=>l(i.current.isFocused&&i.current.isFocusVisible),[]),c=h.useCallback(g=>{i.current.isFocused=g,s(g),u()},[u]);jGe(g=>{i.current.isFocusVisible=g,u()},[],{isTextInput:n});let{focusProps:f}=hX({isDisabled:r,onFocusChange:c}),{focusWithinProps:p}=PT({isDisabled:!r,onFocusWithinChange:c});return{isFocused:o,isFocusVisible:a,focusProps:r?p:f}}function _be(e,t){let n=t==null?void 0:t.isDisabled,[r,i]=h.useState(!1);return Yr(()=>{if(e!=null&&e.current&&!n){let o=()=>{if(e.current){let a=Ya(e.current,{tabbable:!0});i(!!a.nextNode())}};o();let s=new MutationObserver(o);return s.observe(e.current,{subtree:!0,childList:!0,attributes:!0,attributeFilter:["tabIndex","disabled"]}),()=>{s.disconnect()}}}),n?!1:r}function gX(e){let t=TZe(vi(e));t!==e&&(t&&UV(t,e),e&&Cbe(e,t))}function UV(e,t){e.dispatchEvent(new FocusEvent("blur",{relatedTarget:t})),e.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:t}))}function Cbe(e,t){e.dispatchEvent(new FocusEvent("focus",{relatedTarget:t})),e.dispatchEvent(new FocusEvent("focusin",{bubbles:!0,relatedTarget:t}))}function TZe(e){let t=Js(e),n=t==null?void 0:t.getAttribute("aria-activedescendant");return n&&e.getElementById(n)||t}function MZe(e,t){const{"aria-label":n,"aria-labelledby":r,orientation:i="horizontal"}=e;let[o,s]=h.useState(!1);Yr(()=>{var v;s(!!(t.current&&(!((v=t.current.parentElement)===null||v===void 0)&&v.closest('[role="toolbar"]'))))});const{direction:a}=bh(),l=a==="rtl"&&i==="horizontal";let u=$Ze(t);const c=v=>{if(v.currentTarget.contains(v.target)){if(i==="horizontal"&&v.key==="ArrowRight"||i==="vertical"&&v.key==="ArrowDown")l?u.focusPrevious():u.focusNext();else if(i==="horizontal"&&v.key==="ArrowLeft"||i==="vertical"&&v.key==="ArrowUp")l?u.focusNext():u.focusPrevious();else if(v.key==="Tab"){v.stopPropagation(),f.current=document.activeElement,v.shiftKey?u.focusFirst():u.focusLast();return}else return;v.stopPropagation(),v.preventDefault()}},f=h.useRef(null),p=v=>{!v.currentTarget.contains(v.relatedTarget)&&!f.current&&(f.current=v.target)},g=v=>{var y;if(f.current&&!v.currentTarget.contains(v.relatedTarget)&&(!((y=t.current)===null||y===void 0)&&y.contains(v.target))){var S;(S=f.current)===null||S===void 0||S.focus(),f.current=null}};return{toolbarProps:{...Mi(e,{labelable:!0}),role:o?"group":"toolbar","aria-orientation":i,"aria-label":n,"aria-labelledby":n==null?r:void 0,onKeyDownCapture:o?void 0:c,onFocusCapture:o?void 0:g,onBlurCapture:o?void 0:p}}}const Ebe=7e3;let Rh=null;function WV(e,t="assertive",n=Ebe){Rh?Rh.announce(e,t,n):(Rh=new LZe,(typeof IS_REACT_ACT_ENVIRONMENT=="boolean"?IS_REACT_ACT_ENVIRONMENT:typeof jest<"u")?Rh.announce(e,t,n):setTimeout(()=>{Rh!=null&&Rh.isAttached()&&(Rh==null||Rh.announce(e,t,n))},100))}class LZe{isAttached(){var t;return(t=this.node)===null||t===void 0?void 0:t.isConnected}createLog(t){let n=document.createElement("div");return n.setAttribute("role","log"),n.setAttribute("aria-live",t),n.setAttribute("aria-relevant","additions"),n}destroy(){this.node&&(document.body.removeChild(this.node),this.node=null)}announce(t,n="assertive",r=Ebe){var i,o;if(!this.node)return;let s=document.createElement("div");typeof t=="object"?(s.setAttribute("role","img"),s.setAttribute("aria-labelledby",t["aria-labelledby"])):s.textContent=t,n==="assertive"?(i=this.assertiveLog)===null||i===void 0||i.appendChild(s):(o=this.politeLog)===null||o===void 0||o.appendChild(s),t!==""&&setTimeout(()=>{s.remove()},r)}clear(t){this.node&&((!t||t==="assertive")&&this.assertiveLog&&(this.assertiveLog.innerHTML=""),(!t||t==="polite")&&this.politeLog&&(this.politeLog.innerHTML=""))}constructor(){this.node=null,this.assertiveLog=null,this.politeLog=null,typeof document<"u"&&(this.node=document.createElement("div"),this.node.dataset.liveAnnouncer="true",Object.assign(this.node.style,{border:0,clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"}),this.assertiveLog=this.createLog("assertive"),this.node.appendChild(this.assertiveLog),this.politeLog=this.createLog("polite"),this.node.appendChild(this.politeLog),document.body.prepend(this.node))}}const kbe={badInput:!1,customError:!1,patternMismatch:!1,rangeOverflow:!1,rangeUnderflow:!1,stepMismatch:!1,tooLong:!1,tooShort:!1,typeMismatch:!1,valueMissing:!1,valid:!0},Pbe={...kbe,customError:!0,valid:!1},LS={isInvalid:!1,validationDetails:kbe,validationErrors:[]},$be=h.createContext({}),_R="__formValidationState"+Date.now();function SO(e){if(e[_R]){let{realtimeValidation:t,displayValidation:n,updateValidation:r,resetValidation:i,commitValidation:o}=e[_R];return{realtimeValidation:t,displayValidation:n,updateValidation:r,resetValidation:i,commitValidation:o}}return AZe(e)}function AZe(e){let{isInvalid:t,validationState:n,name:r,value:i,builtinValidation:o,validate:s,validationBehavior:a="aria"}=e;n&&(t||(t=n==="invalid"));let l=t!==void 0?{isInvalid:t,validationErrors:[],validationDetails:Pbe}:null,u=h.useMemo(()=>{if(!s||i==null)return null;let O=IZe(s,i);return Boe(O)},[s,i]);o!=null&&o.validationDetails.valid&&(o=void 0);let c=h.useContext($be),f=h.useMemo(()=>r?Array.isArray(r)?r.flatMap(O=>KV(c[O])):KV(c[r]):[],[c,r]),[p,g]=h.useState(c),[v,y]=h.useState(!1);c!==p&&(g(c),y(!1));let S=h.useMemo(()=>Boe(v?[]:f),[v,f]),C=h.useRef(LS),[_,k]=h.useState(LS),w=h.useRef(LS),P=()=>{if(!M)return;R(!1);let O=u||o||C.current;zN(O,w.current)||(w.current=O,k(O))},[M,R]=h.useState(!1);return h.useEffect(P),{realtimeValidation:l||S||u||o||LS,displayValidation:a==="native"?l||S||_:l||S||u||o||_,updateValidation(O){a==="aria"&&!zN(_,O)?k(O):C.current=O},resetValidation(){let O=LS;zN(O,w.current)||(w.current=O,k(O)),a==="native"&&R(!1),y(!0)},commitValidation(){a==="native"&&R(!0),y(!0)}}}function KV(e){return e?Array.isArray(e)?e:[e]:[]}function IZe(e,t){if(typeof e=="function"){let n=e(t);if(n&&typeof n!="boolean")return KV(n)}return[]}function Boe(e){return e.length?{isInvalid:!0,validationErrors:e,validationDetails:Pbe}:null}function zN(e,t){return e===t?!0:!!e&&!!t&&e.isInvalid===t.isInvalid&&e.validationErrors.length===t.validationErrors.length&&e.validationErrors.every((n,r)=>n===t.validationErrors[r])&&Object.entries(e.validationDetails).every(([n,r])=>t.validationDetails[n]===r)}function vX(e,t,n){let{validationBehavior:r,focus:i}=e;Yr(()=>{if(r==="native"&&(n!=null&&n.current)&&!n.current.disabled){let l=t.realtimeValidation.isInvalid?t.realtimeValidation.validationErrors.join(" ")||"Invalid value.":"";n.current.setCustomValidity(l),n.current.hasAttribute("title")||(n.current.title=""),t.realtimeValidation.isInvalid||t.updateValidation(DZe(n.current))}});let o=Lo(()=>{t.resetValidation()}),s=Lo(l=>{var u;t.displayValidation.isInvalid||t.commitValidation();let c=n==null||(u=n.current)===null||u===void 0?void 0:u.form;if(!l.defaultPrevented&&n&&c&&OZe(c)===n.current){var f;i?i():(f=n.current)===null||f===void 0||f.focus(),IGe("keyboard")}l.preventDefault()}),a=Lo(()=>{t.commitValidation()});h.useEffect(()=>{let l=n==null?void 0:n.current;if(!l)return;let u=l.form;return l.addEventListener("invalid",s),l.addEventListener("change",a),u==null||u.addEventListener("reset",o),()=>{l.removeEventListener("invalid",s),l.removeEventListener("change",a),u==null||u.removeEventListener("reset",o)}},[n,s,a,o,r])}function RZe(e){let t=e.validity;return{badInput:t.badInput,customError:t.customError,patternMismatch:t.patternMismatch,rangeOverflow:t.rangeOverflow,rangeUnderflow:t.rangeUnderflow,stepMismatch:t.stepMismatch,tooLong:t.tooLong,tooShort:t.tooShort,typeMismatch:t.typeMismatch,valueMissing:t.valueMissing,valid:t.valid}}function DZe(e){return{isInvalid:!e.validity.valid,validationDetails:RZe(e),validationErrors:e.validationMessage?[e.validationMessage]:[]}}function OZe(e){for(let t=0;t<e.elements.length;t++){let n=e.elements[t];if(!n.validity.valid)return n}return null}function jZe(e,t,n){let{isDisabled:r=!1,isReadOnly:i=!1,value:o,name:s,children:a,"aria-label":l,"aria-labelledby":u,validationState:c="valid",isInvalid:f}=e,p=M=>{M.stopPropagation(),t.setSelected(M.target.checked)},g=a!=null,v=l!=null||u!=null,{pressProps:y,isPressed:S}=Lp({isDisabled:r}),{pressProps:C,isPressed:_}=Lp({onPress(){var M;t.toggle(),(M=n.current)===null||M===void 0||M.focus()},isDisabled:r||i}),{focusableProps:k}=kT(e,n),w=un(y,k),P=Mi(e,{labelable:!0});return aX(n,t.isSelected,t.setSelected),{labelProps:un(C,{onClick:M=>M.preventDefault()}),inputProps:un(P,{"aria-invalid":f||c==="invalid"||void 0,"aria-errormessage":e["aria-errormessage"],"aria-controls":e["aria-controls"],"aria-readonly":i||void 0,onChange:p,disabled:r,...o==null?{}:{value:o},name:s,type:"checkbox",...w}),isSelected:t.isSelected,isPressed:S||_,isDisabled:r,isReadOnly:i,isInvalid:f||c==="invalid"}}function Tbe(e,t,n){let r=SO({...e,value:t.isSelected}),{isInvalid:i,validationErrors:o,validationDetails:s}=r.displayValidation,{labelProps:a,inputProps:l,isSelected:u,isPressed:c,isDisabled:f,isReadOnly:p}=jZe({...e,isInvalid:i},t,n);vX(e,r,n);let{isIndeterminate:g,isRequired:v,validationBehavior:y="aria"}=e;h.useEffect(()=>{n.current&&(n.current.indeterminate=!!g)});let{pressProps:S}=Lp({isDisabled:f||p,onPress(){let{[_R]:C}=e,{commitValidation:_}=C||r;_()}});return{labelProps:un(a,S),inputProps:{...l,checked:u,"aria-required":v&&y==="aria"||void 0,required:v&&y==="native"},isSelected:u,isPressed:c,isDisabled:f,isReadOnly:p,isInvalid:i,validationErrors:o,validationDetails:s}}const NZe=new WeakMap;function Mbe(e){let{id:t,label:n,"aria-labelledby":r,"aria-label":i,labelElementType:o="label"}=e;t=Ds(t);let s=Ds(),a={};n&&(r=r?`${s} ${r}`:s,a={id:s,htmlFor:o==="label"?t:void 0});let l=CT({id:t,"aria-label":i,"aria-labelledby":r});return{labelProps:a,fieldProps:l}}function Lbe(e){let{description:t,errorMessage:n,isInvalid:r,validationState:i}=e,{labelProps:o,fieldProps:s}=Mbe(e),a=wg([!!t,!!n,r,i]),l=wg([!!t,!!n,r,i]);return s=un(s,{"aria-describedby":[a,l,e["aria-describedby"]].filter(Boolean).join(" ")||void 0}),{labelProps:o,fieldProps:s,descriptionProps:{id:a},errorMessageProps:{id:l}}}function Abe(e={}){let{isReadOnly:t}=e,[n,r]=X0(e.isSelected,e.defaultSelected||!1,e.onChange);function i(s){t||r(s)}function o(){t||r(!n)}return{isSelected:n,setSelected:i,toggle:o}}function FZe(e,t,n){const r=Abe({isReadOnly:e.isReadOnly||t.isReadOnly,isSelected:t.isSelected(e.value),onChange(S){S?t.addValue(e.value):t.removeValue(e.value),e.onChange&&e.onChange(S)}});let{name:i,descriptionId:o,errorMessageId:s,validationBehavior:a}=NZe.get(t);var l;a=(l=e.validationBehavior)!==null&&l!==void 0?l:a;let{realtimeValidation:u}=SO({...e,value:r.isSelected,name:void 0,validationBehavior:"aria"}),c=h.useRef(LS),f=()=>{t.setInvalid(e.value,u.isInvalid?u:c.current)};h.useEffect(f);let p=t.realtimeValidation.isInvalid?t.realtimeValidation:u,g=a==="native"?t.displayValidation:p;var v;let y=Tbe({...e,isReadOnly:e.isReadOnly||t.isReadOnly,isDisabled:e.isDisabled||t.isDisabled,name:e.name||i,isRequired:(v=e.isRequired)!==null&&v!==void 0?v:t.isRequired,validationBehavior:a,[_R]:{realtimeValidation:p,displayValidation:g,resetValidation:t.resetValidation,commitValidation:t.commitValidation,updateValidation(S){c.current=S,f()}}},r,n);return{...y,inputProps:{...y.inputProps,"aria-describedby":[e["aria-describedby"],t.isInvalid?s:null,o].filter(Boolean).join(" ")||void 0}}}const zoe={border:0,clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"};function _O(e={}){let{style:t,isFocusable:n}=e,[r,i]=h.useState(!1),{focusWithinProps:o}=PT({isDisabled:!n,onFocusWithinChange:a=>i(a)}),s=h.useMemo(()=>r?t:t?{...zoe,...t}:zoe,[r]);return{visuallyHiddenProps:{...o,style:s}}}function yX(e){let{children:t,elementType:n="div",isFocusable:r,style:i,...o}=e,{visuallyHiddenProps:s}=_O(e);return ne.createElement(n,un(o,s),t)}function BZe(e,t){let{inputElementType:n="input",isDisabled:r=!1,isRequired:i=!1,isReadOnly:o=!1,type:s="text",validationBehavior:a="aria"}=e,[l,u]=X0(e.value,e.defaultValue||"",e.onChange),{focusableProps:c}=kT(e,t),f=SO({...e,value:l}),{isInvalid:p,validationErrors:g,validationDetails:v}=f.displayValidation,{labelProps:y,fieldProps:S,descriptionProps:C,errorMessageProps:_}=Lbe({...e,isInvalid:p,errorMessage:e.errorMessage||g}),k=Mi(e,{labelable:!0});const w={type:s,pattern:e.pattern};return aX(t,l,u),vX(e,f,t),h.useEffect(()=>{if(t.current instanceof Qu(t.current).HTMLTextAreaElement){let P=t.current;Object.defineProperty(P,"defaultValue",{get:()=>P.value,set:()=>{},configurable:!0})}},[t]),{labelProps:y,inputProps:un(k,n==="input"?w:void 0,{disabled:r,readOnly:o,required:i&&a==="native","aria-required":i&&a==="aria"||void 0,"aria-invalid":p||void 0,"aria-errormessage":e["aria-errormessage"],"aria-activedescendant":e["aria-activedescendant"],"aria-autocomplete":e["aria-autocomplete"],"aria-haspopup":e["aria-haspopup"],"aria-controls":e["aria-controls"],value:l,onChange:P=>u(P.target.value),autoComplete:e.autoComplete,autoCapitalize:e.autoCapitalize,maxLength:e.maxLength,minLength:e.minLength,name:e.name,placeholder:e.placeholder,inputMode:e.inputMode,autoCorrect:e.autoCorrect,spellCheck:e.spellCheck,[parseInt(ne.version,10)>=17?"enterKeyHint":"enterkeyhint"]:e.enterKeyHint,onCopy:e.onCopy,onCut:e.onCut,onPaste:e.onPaste,onCompositionEnd:e.onCompositionEnd,onCompositionStart:e.onCompositionStart,onCompositionUpdate:e.onCompositionUpdate,onSelect:e.onSelect,onBeforeInput:e.onBeforeInput,onInput:e.onInput,...c,...S}),descriptionProps:C,errorMessageProps:_,isInvalid:p,validationErrors:g,validationDetails:v}}const gp={top:"top",bottom:"top",left:"left",right:"left"},CR={top:"bottom",bottom:"top",left:"right",right:"left"},zZe={top:"left",left:"top"},qV={top:"height",left:"width"},Ibe={width:"totalWidth",height:"totalHeight"},q6={};let da=typeof document<"u"?window.visualViewport:null;function Hoe(e){let t=0,n=0,r=0,i=0,o=0,s=0,a={};var l;let u=((l=da==null?void 0:da.scale)!==null&&l!==void 0?l:1)>1;if(e.tagName==="BODY"){let v=document.documentElement;r=v.clientWidth,i=v.clientHeight;var c;t=(c=da==null?void 0:da.width)!==null&&c!==void 0?c:r;var f;n=(f=da==null?void 0:da.height)!==null&&f!==void 0?f:i,a.top=v.scrollTop||e.scrollTop,a.left=v.scrollLeft||e.scrollLeft,da&&(o=da.offsetTop,s=da.offsetLeft)}else({width:t,height:n,top:o,left:s}=M2(e)),a.top=e.scrollTop,a.left=e.scrollLeft,r=t,i=n;if(rX()&&(e.tagName==="BODY"||e.tagName==="HTML")&&u){a.top=0,a.left=0;var p;o=(p=da==null?void 0:da.pageTop)!==null&&p!==void 0?p:0;var g;s=(g=da==null?void 0:da.pageLeft)!==null&&g!==void 0?g:0}return{width:t,height:n,totalWidth:r,totalHeight:i,scroll:a,top:o,left:s}}function HZe(e){return{top:e.scrollTop,left:e.scrollLeft,width:e.scrollWidth,height:e.scrollHeight}}function Voe(e,t,n,r,i,o,s){var a;let l=(a=i.scroll[e])!==null&&a!==void 0?a:0,u=r[qV[e]],c=r.scroll[gp[e]]+o,f=u+r.scroll[gp[e]]-o,p=t-l+s[e]-r[gp[e]],g=t-l+n+s[e]-r[gp[e]];return p<c?c-p:g>f?Math.max(f-g,c-p):0}function VZe(e){let t=window.getComputedStyle(e);return{top:parseInt(t.marginTop,10)||0,bottom:parseInt(t.marginBottom,10)||0,left:parseInt(t.marginLeft,10)||0,right:parseInt(t.marginRight,10)||0}}function Uoe(e){if(q6[e])return q6[e];let[t,n]=e.split(" "),r=gp[t]||"right",i=zZe[r];gp[n]||(n="center");let o=qV[r],s=qV[i];return q6[e]={placement:t,crossPlacement:n,axis:r,crossAxis:i,size:o,crossSize:s},q6[e]}function HN(e,t,n,r,i,o,s,a,l,u){let{placement:c,crossPlacement:f,axis:p,crossAxis:g,size:v,crossSize:y}=r,S={};var C;S[g]=(C=e[g])!==null&&C!==void 0?C:0;var _,k,w,P;f==="center"?S[g]+=(((_=e[y])!==null&&_!==void 0?_:0)-((k=n[y])!==null&&k!==void 0?k:0))/2:f!==g&&(S[g]+=((w=e[y])!==null&&w!==void 0?w:0)-((P=n[y])!==null&&P!==void 0?P:0)),S[g]+=o;const M=e[g]-n[y]+l+u,R=e[g]+e[y]-l-u;if(S[g]=RV(S[g],M,R),c===p){const D=a?s[v]:t[Ibe[v]];S[CR[p]]=Math.floor(D-e[p]+i)}else S[p]=Math.floor(e[p]+e[v]+i);return S}function UZe(e,t,n,r,i,o,s,a){const l=r?n.height:t[Ibe.height];var u;let c=e.top!=null?n.top+e.top:n.top+(l-((u=e.bottom)!==null&&u!==void 0?u:0)-s);var f,p,g,v,y,S;let C=a!=="top"?Math.max(0,t.height+t.top+((f=t.scroll.top)!==null&&f!==void 0?f:0)-c-(((p=i.top)!==null&&p!==void 0?p:0)+((g=i.bottom)!==null&&g!==void 0?g:0)+o)):Math.max(0,c+s-(t.top+((v=t.scroll.top)!==null&&v!==void 0?v:0))-(((y=i.top)!==null&&y!==void 0?y:0)+((S=i.bottom)!==null&&S!==void 0?S:0)+o));return Math.min(t.height-o*2,C)}function Woe(e,t,n,r,i,o){let{placement:s,axis:a,size:l}=o;var u,c;if(s===a)return Math.max(0,n[a]-e[a]-((u=e.scroll[a])!==null&&u!==void 0?u:0)+t[a]-((c=r[a])!==null&&c!==void 0?c:0)-r[CR[a]]-i);var f;return Math.max(0,e[l]+e[a]+e.scroll[a]-t[a]-n[a]-n[l]-((f=r[a])!==null&&f!==void 0?f:0)-r[CR[a]]-i)}function WZe(e,t,n,r,i,o,s,a,l,u,c,f,p,g,v,y){let S=Uoe(e),{size:C,crossAxis:_,crossSize:k,placement:w,crossPlacement:P}=S,M=HN(t,a,n,S,c,f,u,p,v,y),R=c,D=Woe(a,u,t,i,o+c,S);if(s&&r[C]>D){let re=Uoe(`${CR[w]} ${P}`),ue=HN(t,a,n,re,c,f,u,p,v,y);Woe(a,u,t,i,o+c,re)>D&&(S=re,M=ue,R=c)}let H="bottom";S.axis==="top"?S.placement==="top"?H="top":S.placement==="bottom"&&(H="bottom"):S.crossAxis==="top"&&(S.crossPlacement==="top"?H="bottom":S.crossPlacement==="bottom"&&(H="top"));let O=Voe(_,M[_],n[k],a,l,o,u);M[_]+=O;let z=UZe(M,a,u,p,i,o,n.height,H);g&&g<z&&(z=g),n.height=Math.min(n.height,z),M=HN(t,a,n,S,R,f,u,p,v,y),O=Voe(_,M[_],n[k],a,l,o,u),M[_]+=O;let G={},ee=t[_]+.5*t[k]-M[_]-i[gp[_]];const X=v/2+y;var se,B,q,U;const K=gp[_]==="left"?((se=i.left)!==null&&se!==void 0?se:0)+((B=i.right)!==null&&B!==void 0?B:0):((q=i.top)!==null&&q!==void 0?q:0)+((U=i.bottom)!==null&&U!==void 0?U:0),J=n[k]-K-v/2-y,oe=t[_]+v/2-(M[_]+i[gp[_]]),he=t[_]+t[k]-v/2-(M[_]+i[gp[_]]),me=RV(ee,oe,he);return G[_]=RV(me,X,J),{position:M,maxHeight:z,arrowOffsetLeft:G.left,arrowOffsetTop:G.top,placement:S.placement}}function KZe(e){let{placement:t,targetNode:n,overlayNode:r,scrollNode:i,padding:o,shouldFlip:s,boundaryElement:a,offset:l,crossOffset:u,maxHeight:c,arrowSize:f=0,arrowBoundaryOffset:p=0}=e,g=r instanceof HTMLElement?qZe(r):document.documentElement,v=g===document.documentElement;const y=window.getComputedStyle(g).position;let S=!!y&&y!=="static",C=v?M2(n):Koe(n,g);if(!v){let{marginTop:G,marginLeft:ee}=window.getComputedStyle(n);C.top+=parseInt(G,10)||0,C.left+=parseInt(ee,10)||0}let _=M2(r),k=VZe(r);var w,P;_.width+=((w=k.left)!==null&&w!==void 0?w:0)+((P=k.right)!==null&&P!==void 0?P:0);var M,R;_.height+=((M=k.top)!==null&&M!==void 0?M:0)+((R=k.bottom)!==null&&R!==void 0?R:0);let D=HZe(i),H=Hoe(a),O=Hoe(g),z=a.tagName==="BODY"?M2(g):Koe(g,a);return g.tagName==="HTML"&&a.tagName==="BODY"&&(O.scroll.top=0,O.scroll.left=0),WZe(t,C,_,D,k,o,s,H,O,z,l,u,S,c,f,p)}function M2(e){let{top:t,left:n,width:r,height:i}=e.getBoundingClientRect(),{scrollTop:o,scrollLeft:s,clientTop:a,clientLeft:l}=document.documentElement;return{top:t+o-a,left:n+s-l,width:r,height:i}}function Koe(e,t){let n=window.getComputedStyle(e),r;if(n.position==="fixed"){let{top:i,left:o,width:s,height:a}=e.getBoundingClientRect();r={top:i,left:o,width:s,height:a}}else{r=M2(e);let i=M2(t),o=window.getComputedStyle(t);i.top+=(parseInt(o.borderTopWidth,10)||0)-t.scrollTop,i.left+=(parseInt(o.borderLeftWidth,10)||0)-t.scrollLeft,r.top-=i.top,r.left-=i.left}return r.top-=parseInt(n.marginTop,10)||0,r.left-=parseInt(n.marginLeft,10)||0,r}function qZe(e){let t=e.offsetParent;if(t&&t===document.body&&window.getComputedStyle(t).position==="static"&&!qoe(t)&&(t=document.documentElement),t==null)for(t=e.parentElement;t&&!qoe(t);)t=t.parentElement;return t||document.documentElement}function qoe(e){let t=window.getComputedStyle(e);return t.transform!=="none"||/transform|perspective/.test(t.willChange)||t.filter!=="none"||t.contain==="paint"||"backdropFilter"in t&&t.backdropFilter!=="none"||"WebkitBackdropFilter"in t&&t.WebkitBackdropFilter!=="none"}const Rbe=new WeakMap;function GZe(e){let{triggerRef:t,isOpen:n,onClose:r}=e;h.useEffect(()=>{if(!n||r===null)return;let i=o=>{let s=o.target;if(!t.current||s instanceof Node&&!s.contains(t.current)||o.target instanceof HTMLInputElement||o.target instanceof HTMLTextAreaElement)return;let a=r||Rbe.get(t.current);a&&a()};return window.addEventListener("scroll",i,!0),()=>{window.removeEventListener("scroll",i,!0)}},[n,r,t])}let cs=typeof document<"u"?window.visualViewport:null;function ZZe(e){let{direction:t}=bh(),{arrowSize:n=0,targetRef:r,overlayRef:i,scrollRef:o=i,placement:s="bottom",containerPadding:a=12,shouldFlip:l=!0,boundaryElement:u=typeof document<"u"?document.body:null,offset:c=0,crossOffset:f=0,shouldUpdatePosition:p=!0,isOpen:g=!0,onClose:v,maxHeight:y,arrowBoundaryOffset:S=0}=e,[C,_]=h.useState(null),k=[p,s,i.current,r.current,o.current,a,l,u,c,f,g,t,y,S,n],w=h.useRef(cs==null?void 0:cs.scale);h.useEffect(()=>{g&&(w.current=cs==null?void 0:cs.scale)},[g]);let P=h.useCallback(()=>{if(p===!1||!g||!i.current||!r.current||!u||(cs==null?void 0:cs.scale)!==w.current)return;let O=null;if(o.current&&o.current.contains(document.activeElement)){var z;let U=(z=document.activeElement)===null||z===void 0?void 0:z.getBoundingClientRect(),K=o.current.getBoundingClientRect();var G;if(O={type:"top",offset:((G=U==null?void 0:U.top)!==null&&G!==void 0?G:0)-K.top},O.offset>K.height/2){O.type="bottom";var ee;O.offset=((ee=U==null?void 0:U.bottom)!==null&&ee!==void 0?ee:0)-K.bottom}}let X=i.current;if(!y&&i.current){var se;X.style.top="0px",X.style.bottom="";var B;X.style.maxHeight=((B=(se=window.visualViewport)===null||se===void 0?void 0:se.height)!==null&&B!==void 0?B:window.innerHeight)+"px"}let q=KZe({placement:XZe(s,t),overlayNode:i.current,targetNode:r.current,scrollNode:o.current||i.current,padding:a,shouldFlip:l,boundaryElement:u,offset:c,crossOffset:f,maxHeight:y,arrowSize:n,arrowBoundaryOffset:S});if(q.position){if(X.style.top="",X.style.bottom="",X.style.left="",X.style.right="",Object.keys(q.position).forEach(U=>X.style[U]=q.position[U]+"px"),X.style.maxHeight=q.maxHeight!=null?q.maxHeight+"px":"",O&&document.activeElement&&o.current){let U=document.activeElement.getBoundingClientRect(),K=o.current.getBoundingClientRect(),J=U[O.type]-K[O.type];o.current.scrollTop+=J-O.offset}_(q)}},k);Yr(P,k),YZe(P),AV({ref:i,onResize:P}),AV({ref:r,onResize:P});let M=h.useRef(!1);Yr(()=>{let O,z=()=>{M.current=!0,clearTimeout(O),O=setTimeout(()=>{M.current=!1},500),P()},G=()=>{M.current&&z()};return cs==null||cs.addEventListener("resize",z),cs==null||cs.addEventListener("scroll",G),()=>{cs==null||cs.removeEventListener("resize",z),cs==null||cs.removeEventListener("scroll",G)}},[P]);let R=h.useCallback(()=>{M.current||v==null||v()},[v,M]);GZe({triggerRef:r,isOpen:g,onClose:v&&R});var D,H;return{overlayProps:{style:{position:"absolute",zIndex:1e5,...C==null?void 0:C.position,maxHeight:(D=C==null?void 0:C.maxHeight)!==null&&D!==void 0?D:"100vh"}},placement:(H=C==null?void 0:C.placement)!==null&&H!==void 0?H:null,arrowProps:{"aria-hidden":"true",role:"presentation",style:{left:C==null?void 0:C.arrowOffsetLeft,top:C==null?void 0:C.arrowOffsetTop}},updatePosition:P}}function YZe(e){Yr(()=>(window.addEventListener("resize",e,!1),()=>{window.removeEventListener("resize",e,!1)}),[e])}function XZe(e,t){return t==="rtl"?e.replace("start","right").replace("end","left"):e.replace("start","left").replace("end","right")}const Dh=[];function QZe(e,t){let{onClose:n,shouldCloseOnBlur:r,isOpen:i,isDismissable:o=!1,isKeyboardDismissDisabled:s=!1,shouldCloseOnInteractOutside:a}=e;h.useEffect(()=>{if(i&&!Dh.includes(t))return Dh.push(t),()=>{let v=Dh.indexOf(t);v>=0&&Dh.splice(v,1)}},[i,t]);let l=()=>{Dh[Dh.length-1]===t&&n&&n()},u=v=>{(!a||a(v.target))&&Dh[Dh.length-1]===t&&(v.stopPropagation(),v.preventDefault())},c=v=>{(!a||a(v.target))&&(Dh[Dh.length-1]===t&&(v.stopPropagation(),v.preventDefault()),l())},f=v=>{v.key==="Escape"&&!s&&!v.nativeEvent.isComposing&&(v.stopPropagation(),v.preventDefault(),l())};HGe({ref:t,onInteractOutside:o&&i?c:void 0,onInteractOutsideStart:u});let{focusWithinProps:p}=PT({isDisabled:!r,onBlurWithin:v=>{!v.relatedTarget||CZe(v.relatedTarget)||(!a||a(v.relatedTarget))&&(n==null||n())}}),g=v=>{v.target===v.currentTarget&&v.preventDefault()};return{overlayProps:{onKeyDown:f,...p},underlayProps:{onPointerDown:g}}}function Dbe(e,t,n){let{type:r}=e,{isOpen:i}=t;h.useEffect(()=>{n&&n.current&&Rbe.set(n.current,t.close)});let o;r==="menu"?o=!0:r==="listbox"&&(o="listbox");let s=Ds();return{triggerProps:{"aria-haspopup":o,"aria-expanded":i,"aria-controls":i?s:void 0,onPress:t.toggle},overlayProps:{id:s}}}const VN=typeof document<"u"&&window.visualViewport,JZe=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let G6=0,UN;function eYe(e={}){let{isDisabled:t}=e;Yr(()=>{if(!t)return G6++,G6===1&&(hO()?UN=nYe():UN=tYe()),()=>{G6--,G6===0&&UN()}},[t])}function tYe(){return qw(r2(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`),r2(document.documentElement,"overflow","hidden"))}function nYe(){let e,t,n=u=>{e=ry(u.target,!0),!(e===document.documentElement&&e===document.body)&&e instanceof HTMLElement&&window.getComputedStyle(e).overscrollBehavior==="auto"&&(t=r2(e,"overscrollBehavior","contain"))},r=u=>{if(!e||e===document.documentElement||e===document.body){u.preventDefault();return}e.scrollHeight===e.clientHeight&&e.scrollWidth===e.clientWidth&&u.preventDefault()},i=()=>{t&&t()},o=u=>{let c=u.target;rYe(c)&&(a(),c.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{c.style.transform="",VN&&(VN.height<window.innerHeight?requestAnimationFrame(()=>{Goe(c)}):VN.addEventListener("resize",()=>Goe(c),{once:!0}))}))},s=null,a=()=>{if(s)return;let u=()=>{window.scrollTo(0,0)},c=window.pageXOffset,f=window.pageYOffset;s=qw(bE(window,"scroll",u),r2(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`),r2(document.documentElement,"overflow","hidden"),r2(document.body,"marginTop",`-${f}px`),()=>{window.scrollTo(c,f)}),window.scrollTo(0,0)},l=qw(bE(document,"touchstart",n,{passive:!1,capture:!0}),bE(document,"touchmove",r,{passive:!1,capture:!0}),bE(document,"touchend",i,{passive:!1,capture:!0}),bE(document,"focus",o,!0));return()=>{t==null||t(),s==null||s(),l()}}function r2(e,t,n){let r=e.style[t];return e.style[t]=n,()=>{e.style[t]=r}}function bE(e,t,n,r){return e.addEventListener(t,n,r),()=>{e.removeEventListener(t,n,r)}}function Goe(e){let t=document.scrollingElement||document.documentElement,n=e;for(;n&&n!==t;){let r=ry(n);if(r!==document.documentElement&&r!==document.body&&r!==n){let i=r.getBoundingClientRect().top,o=n.getBoundingClientRect().top;o>i+n.clientHeight&&(r.scrollTop+=o-i)}n=r.parentElement}}function rYe(e){return e instanceof HTMLInputElement&&!JZe.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}const iYe=h.createContext({});function oYe(){var e;return(e=h.useContext(iYe))!==null&&e!==void 0?e:{}}var Obe={};Obe={dismiss:""};var jbe={};jbe={dismiss:""};var Nbe={};Nbe={dismiss:"Odstranit"};var Fbe={};Fbe={dismiss:"Luk"};var Bbe={};Bbe={dismiss:"Schlieen"};var zbe={};zbe={dismiss:""};var Hbe={};Hbe={dismiss:"Dismiss"};var Vbe={};Vbe={dismiss:"Descartar"};var Ube={};Ube={dismiss:"Lpeta"};var Wbe={};Wbe={dismiss:"Hylk"};var Kbe={};Kbe={dismiss:"Rejeter"};var qbe={};qbe={dismiss:""};var Gbe={};Gbe={dismiss:"Odbaci"};var Zbe={};Zbe={dismiss:"Elutasts"};var Ybe={};Ybe={dismiss:"Ignora"};var Xbe={};Xbe={dismiss:""};var Qbe={};Qbe={dismiss:""};var Jbe={};Jbe={dismiss:"Atmesti"};var ewe={};ewe={dismiss:"Nerdt"};var twe={};twe={dismiss:"Lukk"};var nwe={};nwe={dismiss:"Negeren"};var rwe={};rwe={dismiss:"Zignoruj"};var iwe={};iwe={dismiss:"Descartar"};var owe={};owe={dismiss:"Dispensar"};var swe={};swe={dismiss:"Revocare"};var awe={};awe={dismiss:""};var lwe={};lwe={dismiss:"Zrui"};var uwe={};uwe={dismiss:"Opusti"};var cwe={};cwe={dismiss:"Odbaci"};var dwe={};dwe={dismiss:"Avvisa"};var fwe={};fwe={dismiss:"Kapat"};var hwe={};hwe={dismiss:""};var pwe={};pwe={dismiss:""};var mwe={};mwe={dismiss:""};var gwe={};gwe={"ar-AE":Obe,"bg-BG":jbe,"cs-CZ":Nbe,"da-DK":Fbe,"de-DE":Bbe,"el-GR":zbe,"en-US":Hbe,"es-ES":Vbe,"et-EE":Ube,"fi-FI":Wbe,"fr-FR":Kbe,"he-IL":qbe,"hr-HR":Gbe,"hu-HU":Zbe,"it-IT":Ybe,"ja-JP":Xbe,"ko-KR":Qbe,"lt-LT":Jbe,"lv-LV":ewe,"nb-NO":twe,"nl-NL":nwe,"pl-PL":rwe,"pt-BR":iwe,"pt-PT":owe,"ro-RO":swe,"ru-RU":awe,"sk-SK":lwe,"sl-SI":uwe,"sr-SP":cwe,"sv-SE":dwe,"tr-TR":fwe,"uk-UA":hwe,"zh-CN":pwe,"zh-TW":mwe};function sYe(e){return e&&e.__esModule?e.default:e}function Zoe(e){let{onDismiss:t,...n}=e,r=n3(sYe(gwe),"@react-aria/overlays"),i=CT(n,r.format("dismiss")),o=()=>{t&&t()};return ne.createElement(yX,null,ne.createElement("button",{...i,tabIndex:-1,onClick:o,style:{width:1,height:1}}))}let wE=new WeakMap,Ou=[];function aYe(e,t=document.body){let n=new Set(e),r=new Set,i=l=>{for(let p of l.querySelectorAll("[data-live-announcer], [data-react-aria-top-layer]"))n.add(p);let u=p=>{if(n.has(p)||p.parentElement&&r.has(p.parentElement)&&p.parentElement.getAttribute("role")!=="row")return NodeFilter.FILTER_REJECT;for(let g of n)if(p.contains(g))return NodeFilter.FILTER_SKIP;return NodeFilter.FILTER_ACCEPT},c=document.createTreeWalker(l,NodeFilter.SHOW_ELEMENT,{acceptNode:u}),f=u(l);if(f===NodeFilter.FILTER_ACCEPT&&o(l),f!==NodeFilter.FILTER_REJECT){let p=c.nextNode();for(;p!=null;)o(p),p=c.nextNode()}},o=l=>{var u;let c=(u=wE.get(l))!==null&&u!==void 0?u:0;l.getAttribute("aria-hidden")==="true"&&c===0||(c===0&&l.setAttribute("aria-hidden","true"),r.add(l),wE.set(l,c+1))};Ou.length&&Ou[Ou.length-1].disconnect(),i(t);let s=new MutationObserver(l=>{for(let u of l)if(!(u.type!=="childList"||u.addedNodes.length===0)&&![...n,...r].some(c=>c.contains(u.target))){for(let c of u.removedNodes)c instanceof Element&&(n.delete(c),r.delete(c));for(let c of u.addedNodes)(c instanceof HTMLElement||c instanceof SVGElement)&&(c.dataset.liveAnnouncer==="true"||c.dataset.reactAriaTopLayer==="true")?n.add(c):c instanceof Element&&i(c)}});s.observe(t,{childList:!0,subtree:!0});let a={visibleNodes:n,hiddenNodes:r,observe(){s.observe(t,{childList:!0,subtree:!0})},disconnect(){s.disconnect()}};return Ou.push(a),()=>{s.disconnect();for(let l of r){let u=wE.get(l);u!=null&&(u===1?(l.removeAttribute("aria-hidden"),wE.delete(l)):wE.set(l,u-1))}a===Ou[Ou.length-1]?(Ou.pop(),Ou.length&&Ou[Ou.length-1].observe()):Ou.splice(Ou.indexOf(a),1)}}function lYe(e){let t=Ou[Ou.length-1];if(t&&!t.visibleNodes.has(e))return t.visibleNodes.add(e),()=>{t.visibleNodes.delete(e)}}function uYe(e,t){let{triggerRef:n,popoverRef:r,groupRef:i,isNonModal:o,isKeyboardDismissDisabled:s,shouldCloseOnInteractOutside:a,...l}=e,u=l.trigger==="SubmenuTrigger",{overlayProps:c,underlayProps:f}=QZe({isOpen:t.isOpen,onClose:t.close,shouldCloseOnBlur:!0,isDismissable:!o||u,isKeyboardDismissDisabled:s,shouldCloseOnInteractOutside:a},i??r),{overlayProps:p,arrowProps:g,placement:v}=ZZe({...l,targetRef:n,overlayRef:r,isOpen:t.isOpen,onClose:o&&!u?t.close:null});return eYe({isDisabled:o||!t.isOpen}),Yr(()=>{if(t.isOpen&&r.current){var y,S;return o?lYe((y=i==null?void 0:i.current)!==null&&y!==void 0?y:r.current):aYe([(S=i==null?void 0:i.current)!==null&&S!==void 0?S:r.current])}},[o,t.isOpen,r,i]),{popoverProps:un(c,p),arrowProps:g,underlayProps:f,placement:v}}const vwe=ne.createContext(null);function Yoe(e){let t=e3(),{portalContainer:n=t?null:document.body,isExiting:r}=e,[i,o]=h.useState(!1),s=h.useMemo(()=>({contain:i,setContain:o}),[i,o]),{getContainer:a}=oYe();if(!e.portalContainer&&a&&(n=a()),!n)return null;let l=e.children;return e.disableFocusManagement||(l=ne.createElement(xO,{restoreFocus:!0,contain:(e.shouldContainFocus||i)&&!r},l)),l=ne.createElement(vwe.Provider,{value:s},ne.createElement(FGe,null,l)),e2.createPortal(l,n)}function cYe(){let e=h.useContext(vwe),t=e==null?void 0:e.setContain;Yr(()=>{t==null||t(!0)},[t])}const bX=new WeakMap;function dYe(e){return typeof e=="string"?e.replace(/\s*/g,""):""+e}function fYe(e,t){let n=bX.get(e);if(!n)throw new Error("Unknown list");return`${n.id}-option-${dYe(t)}`}function GV(e){return eGe()?e.altKey:e.ctrlKey}function dA(e,t){var n,r;let i=`[data-key="${CSS.escape(String(t))}"]`,o=(n=e.current)===null||n===void 0?void 0:n.dataset.collection;return o&&(i=`[data-collection="${CSS.escape(o)}"]${i}`),(r=e.current)===null||r===void 0?void 0:r.querySelector(i)}const ywe=new WeakMap;function hYe(e){let t=Ds();return ywe.set(e,t),t}function pYe(e){return ywe.get(e)}const mYe=1e3;function gYe(e){let{keyboardDelegate:t,selectionManager:n,onTypeSelect:r}=e,i=h.useRef({search:"",timeout:void 0}).current,o=s=>{let a=vYe(s.key);if(!(!a||s.ctrlKey||s.metaKey||!s.currentTarget.contains(s.target))){if(a===" "&&i.search.trim().length>0&&(s.preventDefault(),"continuePropagation"in s||s.stopPropagation()),i.search+=a,t.getKeyForSearch!=null){let l=t.getKeyForSearch(i.search,n.focusedKey);l==null&&(l=t.getKeyForSearch(i.search)),l!=null&&(n.setFocusedKey(l),r&&r(l))}clearTimeout(i.timeout),i.timeout=setTimeout(()=>{i.search=""},mYe)}};return{typeSelectProps:{onKeyDownCapture:t.getKeyForSearch?o:void 0}}}function vYe(e){return e.length===1||!/^[A-Z]/i.test(e)?e:""}function bwe(e){let{selectionManager:t,keyboardDelegate:n,ref:r,autoFocus:i=!1,shouldFocusWrap:o=!1,disallowEmptySelection:s=!1,disallowSelectAll:a=!1,escapeKeyBehavior:l="clearSelection",selectOnFocus:u=t.selectionBehavior==="replace",disallowTypeAhead:c=!1,shouldUseVirtualFocus:f,allowsTabNavigation:p=!1,isVirtualized:g,scrollRef:v=r,linkBehavior:y="action"}=e,{direction:S}=bh(),C=_T(),_=B=>{var q;if(B.altKey&&B.key==="Tab"&&B.preventDefault(),!(!((q=r.current)===null||q===void 0)&&q.contains(B.target)))return;const U=(ye,_e)=>{if(ye!=null){if(t.isLink(ye)&&y==="selection"&&u&&!GV(B)){ai.flushSync(()=>{t.setFocusedKey(ye,_e)});let $e=dA(r,ye),He=t.getItemProps(ye);$e&&C.open($e,B,He.href,He.routerOptions);return}if(t.setFocusedKey(ye,_e),t.isLink(ye)&&y==="override")return;B.shiftKey&&t.selectionMode==="multiple"?t.extendSelection(ye):u&&!GV(B)&&t.replaceSelection(ye)}};switch(B.key){case"ArrowDown":if(n.getKeyBelow){var K,J,oe;let ye=t.focusedKey!=null?(K=n.getKeyBelow)===null||K===void 0?void 0:K.call(n,t.focusedKey):(J=n.getFirstKey)===null||J===void 0?void 0:J.call(n);ye==null&&o&&(ye=(oe=n.getFirstKey)===null||oe===void 0?void 0:oe.call(n,t.focusedKey)),ye!=null&&(B.preventDefault(),U(ye))}break;case"ArrowUp":if(n.getKeyAbove){var he,me,re;let ye=t.focusedKey!=null?(he=n.getKeyAbove)===null||he===void 0?void 0:he.call(n,t.focusedKey):(me=n.getLastKey)===null||me===void 0?void 0:me.call(n);ye==null&&o&&(ye=(re=n.getLastKey)===null||re===void 0?void 0:re.call(n,t.focusedKey)),ye!=null&&(B.preventDefault(),U(ye))}break;case"ArrowLeft":if(n.getKeyLeftOf){var ue,ce,we;let ye=t.focusedKey!=null?(ue=n.getKeyLeftOf)===null||ue===void 0?void 0:ue.call(n,t.focusedKey):null;ye==null&&o&&(ye=S==="rtl"?(ce=n.getFirstKey)===null||ce===void 0?void 0:ce.call(n,t.focusedKey):(we=n.getLastKey)===null||we===void 0?void 0:we.call(n,t.focusedKey)),ye!=null&&(B.preventDefault(),U(ye,S==="rtl"?"first":"last"))}break;case"ArrowRight":if(n.getKeyRightOf){var Me,Be,ge;let ye=t.focusedKey!=null?(Me=n.getKeyRightOf)===null||Me===void 0?void 0:Me.call(n,t.focusedKey):null;ye==null&&o&&(ye=S==="rtl"?(Be=n.getLastKey)===null||Be===void 0?void 0:Be.call(n,t.focusedKey):(ge=n.getFirstKey)===null||ge===void 0?void 0:ge.call(n,t.focusedKey)),ye!=null&&(B.preventDefault(),U(ye,S==="rtl"?"last":"first"))}break;case"Home":if(n.getFirstKey){if(t.focusedKey===null&&B.shiftKey)return;B.preventDefault();let ye=n.getFirstKey(t.focusedKey,sb(B));t.setFocusedKey(ye),ye!=null&&(sb(B)&&B.shiftKey&&t.selectionMode==="multiple"?t.extendSelection(ye):u&&t.replaceSelection(ye))}break;case"End":if(n.getLastKey){if(t.focusedKey===null&&B.shiftKey)return;B.preventDefault();let ye=n.getLastKey(t.focusedKey,sb(B));t.setFocusedKey(ye),ye!=null&&(sb(B)&&B.shiftKey&&t.selectionMode==="multiple"?t.extendSelection(ye):u&&t.replaceSelection(ye))}break;case"PageDown":if(n.getKeyPageBelow&&t.focusedKey!=null){let ye=n.getKeyPageBelow(t.focusedKey);ye!=null&&(B.preventDefault(),U(ye))}break;case"PageUp":if(n.getKeyPageAbove&&t.focusedKey!=null){let ye=n.getKeyPageAbove(t.focusedKey);ye!=null&&(B.preventDefault(),U(ye))}break;case"a":sb(B)&&t.selectionMode==="multiple"&&a!==!0&&(B.preventDefault(),t.selectAll());break;case"Escape":l==="clearSelection"&&!s&&t.selectedKeys.size!==0&&(B.stopPropagation(),B.preventDefault(),t.clearSelection());break;case"Tab":if(!p){if(B.shiftKey)r.current.focus();else{let ye=Ya(r.current,{tabbable:!0}),_e,$e;do $e=ye.lastChild(),$e&&(_e=$e);while($e);_e&&!_e.contains(document.activeElement)&&ch(_e)}break}}},k=h.useRef({top:0,left:0});U6(v,"scroll",g?void 0:()=>{var B,q,U,K;k.current={top:(U=(B=v.current)===null||B===void 0?void 0:B.scrollTop)!==null&&U!==void 0?U:0,left:(K=(q=v.current)===null||q===void 0?void 0:q.scrollLeft)!==null&&K!==void 0?K:0}});let w=B=>{if(t.isFocused){B.currentTarget.contains(B.target)||t.setFocused(!1);return}if(B.currentTarget.contains(B.target)){if(t.setFocused(!0),t.focusedKey==null){var q,U;let oe=me=>{me!=null&&(t.setFocusedKey(me),u&&!t.isSelected(me)&&t.replaceSelection(me))},he=B.relatedTarget;var K,J;he&&B.currentTarget.compareDocumentPosition(he)&Node.DOCUMENT_POSITION_FOLLOWING?oe((K=t.lastSelectedKey)!==null&&K!==void 0?K:(q=n.getLastKey)===null||q===void 0?void 0:q.call(n)):oe((J=t.firstSelectedKey)!==null&&J!==void 0?J:(U=n.getFirstKey)===null||U===void 0?void 0:U.call(n))}else!g&&v.current&&(v.current.scrollTop=k.current.top,v.current.scrollLeft=k.current.left);if(t.focusedKey!=null&&v.current){let oe=dA(r,t.focusedKey);oe instanceof HTMLElement&&(!oe.contains(document.activeElement)&&!f&&ch(oe),p4()==="keyboard"&&iy(oe,{containingElement:r.current}))}}},P=B=>{B.currentTarget.contains(B.relatedTarget)||t.setFocused(!1)},M=h.useRef(!1);U6(r,IV,f?B=>{let{detail:q}=B;B.stopPropagation(),t.setFocused(!0),(q==null?void 0:q.focusStrategy)==="first"&&(M.current=!0)}:void 0);let R=Lo(()=>{var B,q;let U=(q=(B=n.getFirstKey)===null||B===void 0?void 0:B.call(n))!==null&&q!==void 0?q:null;U==null?(gX(r.current),t.collection.size>0&&(M.current=!1)):(t.setFocusedKey(U),M.current=!1)});Soe(()=>{M.current&&R()},[t.collection,R]);let D=Lo(()=>{t.collection.size>0&&(M.current=!1)});Soe(()=>{D()},[t.focusedKey,D]),U6(r,J1e,f?B=>{var q;B.stopPropagation(),t.setFocused(!1),!((q=B.detail)===null||q===void 0)&&q.clearFocusKey&&t.setFocusedKey(null)}:void 0);const H=h.useRef(i),O=h.useRef(!1);h.useEffect(()=>{if(H.current){var B,q;let J=null;var U;i==="first"&&(J=(U=(B=n.getFirstKey)===null||B===void 0?void 0:B.call(n))!==null&&U!==void 0?U:null);var K;i==="last"&&(J=(K=(q=n.getLastKey)===null||q===void 0?void 0:q.call(n))!==null&&K!==void 0?K:null);let oe=t.selectedKeys;if(oe.size){for(let he of oe)if(t.canSelectItem(he)){J=he;break}}t.setFocused(!0),t.setFocusedKey(J),J==null&&!f&&r.current&&Jl(r.current),t.collection.size>0&&(H.current=!1,O.current=!0)}});let z=h.useRef(t.focusedKey);h.useEffect(()=>{if(t.isFocused&&t.focusedKey!=null&&(t.focusedKey!==z.current||O.current)&&v.current&&r.current){let B=p4(),q=dA(r,t.focusedKey);if(!(q instanceof HTMLElement))return;(B==="keyboard"||O.current)&&(X1e(v.current,q),B!=="virtual"&&iy(q,{containingElement:r.current}))}!f&&t.isFocused&&t.focusedKey==null&&z.current!=null&&r.current&&Jl(r.current),z.current=t.focusedKey,O.current=!1}),U6(r,"react-aria-focus-scope-restore",B=>{B.preventDefault(),t.setFocused(!0)});let G={onKeyDown:_,onFocus:w,onBlur:P,onMouseDown(B){v.current===B.target&&B.preventDefault()}},{typeSelectProps:ee}=gYe({keyboardDelegate:n,selectionManager:t});c||(G=un(ee,G));let X;f||(X=t.focusedKey==null?0:-1);let se=hYe(t.collection);return{collectionProps:un(G,{tabIndex:X,"data-collection":se})}}function CO(e){let{id:t,selectionManager:n,key:r,ref:i,shouldSelectOnPressUp:o,shouldUseVirtualFocus:s,focus:a,isDisabled:l,onAction:u,allowsDifferentPressOrigin:c,linkBehavior:f="action"}=e,p=_T();t=Ds(t);let g=U=>{if(U.pointerType==="keyboard"&&GV(U))n.toggleSelection(r);else{if(n.selectionMode==="none")return;if(n.isLink(r)){if(f==="selection"&&i.current){let K=n.getItemProps(r);p.open(i.current,U,K.href,K.routerOptions),n.setSelectedKeys(n.selectedKeys);return}else if(f==="override"||f==="none")return}n.selectionMode==="single"?n.isSelected(r)&&!n.disallowEmptySelection?n.toggleSelection(r):n.replaceSelection(r):U&&U.shiftKey?n.extendSelection(r):n.selectionBehavior==="toggle"||U&&(sb(U)||U.pointerType==="touch"||U.pointerType==="virtual")?n.toggleSelection(r):n.replaceSelection(r)}};h.useEffect(()=>{r===n.focusedKey&&n.isFocused&&(s?gX(i.current):a?a():document.activeElement!==i.current&&i.current&&Jl(i.current))},[i,r,n.focusedKey,n.childFocusStrategy,n.isFocused,s]),l=l||n.isDisabled(r);let v={};!s&&!l?v={tabIndex:r===n.focusedKey?0:-1,onFocus(U){U.target===i.current&&n.setFocusedKey(r)}}:l&&(v.onMouseDown=U=>{U.preventDefault()});let y=n.isLink(r)&&f==="override",S=n.isLink(r)&&f!=="selection"&&f!=="none",C=!l&&n.canSelectItem(r)&&!y,_=(u||S)&&!l,k=_&&(n.selectionBehavior==="replace"?!C:!C||n.isEmpty),w=_&&C&&n.selectionBehavior==="replace",P=k||w,M=h.useRef(null),R=P&&C,D=h.useRef(!1),H=h.useRef(!1),O=U=>{if(u&&u(),S&&i.current){let K=n.getItemProps(r);p.open(i.current,U,K.href,K.routerOptions)}},z={ref:i};o?(z.onPressStart=U=>{M.current=U.pointerType,D.current=R,U.pointerType==="keyboard"&&(!P||Qoe())&&g(U)},c?(z.onPressUp=k?void 0:U=>{U.pointerType==="mouse"&&C&&g(U)},z.onPress=k?O:U=>{U.pointerType!=="keyboard"&&U.pointerType!=="mouse"&&C&&g(U)}):z.onPress=U=>{if(k||w&&U.pointerType!=="mouse"){if(U.pointerType==="keyboard"&&!Xoe())return;O(U)}else U.pointerType!=="keyboard"&&C&&g(U)}):(z.onPressStart=U=>{M.current=U.pointerType,D.current=R,H.current=k,C&&(U.pointerType==="mouse"&&!k||U.pointerType==="keyboard"&&(!_||Qoe()))&&g(U)},z.onPress=U=>{(U.pointerType==="touch"||U.pointerType==="pen"||U.pointerType==="virtual"||U.pointerType==="keyboard"&&P&&Xoe()||U.pointerType==="mouse"&&H.current)&&(P?O(U):C&&g(U))}),v["data-collection"]=pYe(n.collection),v["data-key"]=r,z.preventFocusOnPress=s,s&&(z=un(z,{onPressStart(U){U.pointerType!=="touch"&&(n.setFocused(!0),n.setFocusedKey(r))},onPress(U){U.pointerType==="touch"&&(n.setFocused(!0),n.setFocusedKey(r))}}));let{pressProps:G,isPressed:ee}=Lp(z),X=w?U=>{M.current==="mouse"&&(U.stopPropagation(),U.preventDefault(),O(U))}:void 0,{longPressProps:se}=pbe({isDisabled:!R,onLongPress(U){U.pointerType==="touch"&&(g(U),n.setSelectionBehavior("toggle"))}}),B=U=>{M.current==="touch"&&D.current&&U.preventDefault()},q=n.isLink(r)?U=>{Gw.isOpening||U.preventDefault()}:void 0;return{itemProps:un(v,C||k||s?G:{},R?se:{},{onDoubleClick:X,onDragStartCapture:B,onClick:q,id:t},s?{onMouseDown:U=>U.preventDefault()}:void 0),isPressed:ee,isSelected:n.isSelected(r),isFocused:n.isFocused&&n.focusedKey===r,isDisabled:l,allowsSelection:C,hasAction:P}}function Xoe(){let e=window.event;return(e==null?void 0:e.key)==="Enter"}function Qoe(){let e=window.event;return(e==null?void 0:e.key)===" "||(e==null?void 0:e.code)==="Space"}class Joe{getItemRect(t){let n=this.ref.current;if(!n)return null;let r=t!=null?dA(this.ref,t):null;if(!r)return null;let i=n.getBoundingClientRect(),o=r.getBoundingClientRect();return{x:o.left-i.left+n.scrollLeft,y:o.top-i.top+n.scrollTop,width:o.width,height:o.height}}getContentSize(){let t=this.ref.current;var n,r;return{width:(n=t==null?void 0:t.scrollWidth)!==null&&n!==void 0?n:0,height:(r=t==null?void 0:t.scrollHeight)!==null&&r!==void 0?r:0}}getVisibleRect(){let t=this.ref.current;var n,r,i,o;return{x:(n=t==null?void 0:t.scrollLeft)!==null&&n!==void 0?n:0,y:(r=t==null?void 0:t.scrollTop)!==null&&r!==void 0?r:0,width:(i=t==null?void 0:t.offsetWidth)!==null&&i!==void 0?i:0,height:(o=t==null?void 0:t.offsetHeight)!==null&&o!==void 0?o:0}}constructor(t){this.ref=t}}class ER{isDisabled(t){var n;return this.disabledBehavior==="all"&&(((n=t.props)===null||n===void 0?void 0:n.isDisabled)||this.disabledKeys.has(t.key))}findNextNonDisabled(t,n){let r=t;for(;r!=null;){let i=this.collection.getItem(r);if((i==null?void 0:i.type)==="item"&&!this.isDisabled(i))return r;r=n(r)}return null}getNextKey(t){let n=t;return n=this.collection.getKeyAfter(n),this.findNextNonDisabled(n,r=>this.collection.getKeyAfter(r))}getPreviousKey(t){let n=t;return n=this.collection.getKeyBefore(n),this.findNextNonDisabled(n,r=>this.collection.getKeyBefore(r))}findKey(t,n,r){let i=t,o=this.layoutDelegate.getItemRect(i);if(!o||i==null)return null;let s=o;do{if(i=n(i),i==null)break;o=this.layoutDelegate.getItemRect(i)}while(o&&r(s,o)&&i!=null);return i}isSameRow(t,n){return t.y===n.y||t.x!==n.x}isSameColumn(t,n){return t.x===n.x||t.y!==n.y}getKeyBelow(t){return this.layout==="grid"&&this.orientation==="vertical"?this.findKey(t,n=>this.getNextKey(n),this.isSameRow):this.getNextKey(t)}getKeyAbove(t){return this.layout==="grid"&&this.orientation==="vertical"?this.findKey(t,n=>this.getPreviousKey(n),this.isSameRow):this.getPreviousKey(t)}getNextColumn(t,n){return n?this.getPreviousKey(t):this.getNextKey(t)}getKeyRightOf(t){let n=this.direction==="ltr"?"getKeyRightOf":"getKeyLeftOf";return this.layoutDelegate[n]?(t=this.layoutDelegate[n](t),this.findNextNonDisabled(t,r=>this.layoutDelegate[n](r))):this.layout==="grid"?this.orientation==="vertical"?this.getNextColumn(t,this.direction==="rtl"):this.findKey(t,r=>this.getNextColumn(r,this.direction==="rtl"),this.isSameColumn):this.orientation==="horizontal"?this.getNextColumn(t,this.direction==="rtl"):null}getKeyLeftOf(t){let n=this.direction==="ltr"?"getKeyLeftOf":"getKeyRightOf";return this.layoutDelegate[n]?(t=this.layoutDelegate[n](t),this.findNextNonDisabled(t,r=>this.layoutDelegate[n](r))):this.layout==="grid"?this.orientation==="vertical"?this.getNextColumn(t,this.direction==="ltr"):this.findKey(t,r=>this.getNextColumn(r,this.direction==="ltr"),this.isSameColumn):this.orientation==="horizontal"?this.getNextColumn(t,this.direction==="ltr"):null}getFirstKey(){let t=this.collection.getFirstKey();return this.findNextNonDisabled(t,n=>this.collection.getKeyAfter(n))}getLastKey(){let t=this.collection.getLastKey();return this.findNextNonDisabled(t,n=>this.collection.getKeyBefore(n))}getKeyPageAbove(t){let n=this.ref.current,r=this.layoutDelegate.getItemRect(t);if(!r)return null;if(n&&!c4(n))return this.getFirstKey();let i=t;if(this.orientation==="horizontal"){let o=Math.max(0,r.x+r.width-this.layoutDelegate.getVisibleRect().width);for(;r&&r.x>o&&i!=null;)i=this.getKeyAbove(i),r=i==null?null:this.layoutDelegate.getItemRect(i)}else{let o=Math.max(0,r.y+r.height-this.layoutDelegate.getVisibleRect().height);for(;r&&r.y>o&&i!=null;)i=this.getKeyAbove(i),r=i==null?null:this.layoutDelegate.getItemRect(i)}return i??this.getFirstKey()}getKeyPageBelow(t){let n=this.ref.current,r=this.layoutDelegate.getItemRect(t);if(!r)return null;if(n&&!c4(n))return this.getLastKey();let i=t;if(this.orientation==="horizontal"){let o=Math.min(this.layoutDelegate.getContentSize().width,r.y-r.width+this.layoutDelegate.getVisibleRect().width);for(;r&&r.x<o&&i!=null;)i=this.getKeyBelow(i),r=i==null?null:this.layoutDelegate.getItemRect(i)}else{let o=Math.min(this.layoutDelegate.getContentSize().height,r.y-r.height+this.layoutDelegate.getVisibleRect().height);for(;r&&r.y<o&&i!=null;)i=this.getKeyBelow(i),r=i==null?null:this.layoutDelegate.getItemRect(i)}return i??this.getLastKey()}getKeyForSearch(t,n){if(!this.collator)return null;let r=this.collection,i=n||this.getFirstKey();for(;i!=null;){let o=r.getItem(i);if(!o)return null;let s=o.textValue.slice(0,t.length);if(o.textValue&&this.collator.compare(s,t)===0)return i;i=this.getNextKey(i)}return null}constructor(...t){if(t.length===1){let n=t[0];this.collection=n.collection,this.ref=n.ref,this.collator=n.collator,this.disabledKeys=n.disabledKeys||new Set,this.disabledBehavior=n.disabledBehavior||"all",this.orientation=n.orientation||"vertical",this.direction=n.direction,this.layout=n.layout||"stack",this.layoutDelegate=n.layoutDelegate||new Joe(n.ref)}else this.collection=t[0],this.disabledKeys=t[1],this.ref=t[2],this.collator=t[3],this.layout="stack",this.orientation="vertical",this.disabledBehavior="all",this.layoutDelegate=new Joe(this.ref);this.layout==="stack"&&this.orientation==="vertical"&&(this.getKeyLeftOf=void 0,this.getKeyRightOf=void 0)}}function wX(e){let{selectionManager:t,collection:n,disabledKeys:r,ref:i,keyboardDelegate:o,layoutDelegate:s}=e,a=pX({usage:"search",sensitivity:"base"}),l=t.disabledBehavior,u=h.useMemo(()=>o||new ER({collection:n,disabledKeys:r,disabledBehavior:l,ref:i,collator:a,layoutDelegate:s}),[o,s,n,r,i,a,l]),{collectionProps:c}=bwe({...e,ref:i,selectionManager:t,keyboardDelegate:u});return{listProps:c}}function yYe(e,t,n){let r=Mi(e,{labelable:!0}),i=e.selectionBehavior||"toggle",o=e.linkBehavior||(i==="replace"?"action":"override");i==="toggle"&&o==="action"&&(o="override");let{listProps:s}=wX({...e,ref:n,selectionManager:t.selectionManager,collection:t.collection,disabledKeys:t.disabledKeys,linkBehavior:o}),{focusWithinProps:a}=PT({onFocusWithin:e.onFocus,onBlurWithin:e.onBlur,onFocusWithinChange:e.onFocusChange}),l=Ds(e.id);bX.set(t,{id:l,shouldUseVirtualFocus:e.shouldUseVirtualFocus,shouldSelectOnPressUp:e.shouldSelectOnPressUp,shouldFocusOnHover:e.shouldFocusOnHover,isVirtualized:e.isVirtualized,onAction:e.onAction,linkBehavior:o});let{labelProps:u,fieldProps:c}=Mbe({...e,id:l,labelElementType:"span"});return{labelProps:u,listBoxProps:un(r,a,t.selectionManager.selectionMode==="multiple"?{"aria-multiselectable":"true"}:{},{role:"listbox",...un(c,s)})}}class bYe{build(t,n){return this.context=n,ese(()=>this.iterateCollection(t))}*iterateCollection(t){let{children:n,items:r}=t;if(ne.isValidElement(n)&&n.type===ne.Fragment)yield*this.iterateCollection({children:n.props.children,items:r});else if(typeof n=="function"){if(!r)throw new Error("props.children was a function but props.items is missing");let i=0;for(let o of r)yield*this.getFullNode({value:o,index:i},{renderer:n}),i++}else{let i=[];ne.Children.forEach(n,s=>{s&&i.push(s)});let o=0;for(let s of i){let a=this.getFullNode({element:s,index:o},{});for(let l of a)o++,yield l}}}getKey(t,n,r,i){if(t.key!=null)return t.key;if(n.type==="cell"&&n.key!=null)return`${i}${n.key}`;let o=n.value;if(o!=null){var s;let a=(s=o.key)!==null&&s!==void 0?s:o.id;if(a==null)throw new Error("No key found for item");return a}return i?`${i}.${n.index}`:`$.${n.index}`}getChildState(t,n){return{renderer:n.renderer||t.renderer}}*getFullNode(t,n,r,i){if(ne.isValidElement(t.element)&&t.element.type===ne.Fragment){let S=[];ne.Children.forEach(t.element.props.children,_=>{S.push(_)});var o;let C=(o=t.index)!==null&&o!==void 0?o:0;for(const _ of S)yield*this.getFullNode({element:_,index:C++},n,r,i);return}let s=t.element;if(!s&&t.value&&n&&n.renderer){let S=this.cache.get(t.value);if(S&&(!S.shouldInvalidate||!S.shouldInvalidate(this.context))){S.index=t.index,S.parentKey=i?i.key:null,yield S;return}s=n.renderer(t.value)}if(ne.isValidElement(s)){let S=s.type;if(typeof S!="function"&&typeof S.getCollectionNode!="function"){let w=s.type;throw new Error(`Unknown element <${w}> in collection.`)}let C=S.getCollectionNode(s.props,this.context);var a;let _=(a=t.index)!==null&&a!==void 0?a:0,k=C.next();for(;!k.done&&k.value;){let w=k.value;t.index=_;var l;let P=(l=w.key)!==null&&l!==void 0?l:null;P==null&&(P=w.element?null:this.getKey(s,t,n,r));let R=[...this.getFullNode({...w,key:P,index:_,wrapper:wYe(t.wrapper,w.wrapper)},this.getChildState(n,w),r?`${r}${s.key}`:s.key,i)];for(let D of R){var u,c;D.value=(c=(u=w.value)!==null&&u!==void 0?u:t.value)!==null&&c!==void 0?c:null,D.value&&this.cache.set(D.value,D);var f;if(t.type&&D.type!==t.type)throw new Error(`Unsupported type <${WN(D.type)}> in <${WN((f=i==null?void 0:i.type)!==null&&f!==void 0?f:"unknown parent type")}>. Only <${WN(t.type)}> is supported.`);_++,yield D}k=C.next(R)}return}if(t.key==null||t.type==null)return;let p=this;var g,v;let y={type:t.type,props:t.props,key:t.key,parentKey:i?i.key:null,value:(g=t.value)!==null&&g!==void 0?g:null,level:i?i.level+1:0,index:t.index,rendered:t.rendered,textValue:(v=t.textValue)!==null&&v!==void 0?v:"","aria-label":t["aria-label"],wrapper:t.wrapper,shouldInvalidate:t.shouldInvalidate,hasChildNodes:t.hasChildNodes||!1,childNodes:ese(function*(){if(!t.hasChildNodes||!t.childNodes)return;let S=0;for(let C of t.childNodes()){C.key!=null&&(C.key=`${y.key}${C.key}`);let _=p.getFullNode({...C,index:S},p.getChildState(n,C),y.key,y);for(let k of _)S++,yield k}})};yield y}constructor(){this.cache=new WeakMap}}function ese(e){let t=[],n=null;return{*[Symbol.iterator](){for(let r of t)yield r;n||(n=e());for(let r of n)t.push(r),yield r}}}function wYe(e,t){if(e&&t)return n=>e(t(n));if(e)return e;if(t)return t}function WN(e){return e[0].toUpperCase()+e.slice(1)}function wwe(e,t,n){let r=h.useMemo(()=>new bYe,[]),{children:i,items:o,collection:s}=e;return h.useMemo(()=>{if(s)return s;let l=r.build({children:i,items:o},n);return t(l)},[r,i,o,s,n,t])}function xwe(e,t){return typeof t.getChildren=="function"?t.getChildren(e.key):e.childNodes}function xYe(e){return SYe(e)}function SYe(e,t){for(let n of e)return n}function _Ye(e){let t;for(let n of e)t=n;return t}function KN(e,t,n){if(t.parentKey===n.parentKey)return t.index-n.index;let r=[...tse(e,t),t],i=[...tse(e,n),n],o=r.slice(0,i.length).findIndex((s,a)=>s!==i[a]);return o!==-1?(t=r[o],n=i[o],t.index-n.index):r.findIndex(s=>s===n)>=0?1:(i.findIndex(s=>s===t)>=0,-1)}function tse(e,t){let n=[],r=t;for(;(r==null?void 0:r.parentKey)!=null;)r=e.getItem(r.parentKey),r&&n.unshift(r);return n}const nse=new WeakMap;function Swe(e){let t=nse.get(e);if(t!=null)return t;let n=0,r=i=>{for(let o of i)o.type==="section"?r(xwe(o,e)):n++};return r(e),nse.set(e,n),n}function CYe(e,t,n){var r,i;let{key:o}=e,s=bX.get(t);var a;let l=(a=e.isDisabled)!==null&&a!==void 0?a:t.selectionManager.isDisabled(o);var u;let c=(u=e.isSelected)!==null&&u!==void 0?u:t.selectionManager.isSelected(o);var f;let p=(f=e.shouldSelectOnPressUp)!==null&&f!==void 0?f:s==null?void 0:s.shouldSelectOnPressUp;var g;let v=(g=e.shouldFocusOnHover)!==null&&g!==void 0?g:s==null?void 0:s.shouldFocusOnHover;var y;let S=(y=e.shouldUseVirtualFocus)!==null&&y!==void 0?y:s==null?void 0:s.shouldUseVirtualFocus;var C;let _=(C=e.isVirtualized)!==null&&C!==void 0?C:s==null?void 0:s.isVirtualized,k=wg(),w=wg(),P={role:"option","aria-disabled":l||void 0,"aria-selected":t.selectionManager.selectionMode!=="none"?c:void 0};L0()&&rX()||(P["aria-label"]=e["aria-label"],P["aria-labelledby"]=k,P["aria-describedby"]=w);let M=t.collection.getItem(o);if(_){let q=Number(M==null?void 0:M.index);P["aria-posinset"]=Number.isNaN(q)?void 0:q+1,P["aria-setsize"]=Swe(t.collection)}let R=s!=null&&s.onAction?()=>{var q;return s==null||(q=s.onAction)===null||q===void 0?void 0:q.call(s,o)}:void 0,D=fYe(t,o),{itemProps:H,isPressed:O,isFocused:z,hasAction:G,allowsSelection:ee}=CO({selectionManager:t.selectionManager,key:o,ref:n,shouldSelectOnPressUp:p,allowsDifferentPressOrigin:p&&v,isVirtualized:_,shouldUseVirtualFocus:S,isDisabled:l,onAction:R||!(M==null||(r=M.props)===null||r===void 0)&&r.onAction?qw(M==null||(i=M.props)===null||i===void 0?void 0:i.onAction,R):void 0,linkBehavior:s==null?void 0:s.linkBehavior,id:D}),{hoverProps:X}=ud({isDisabled:l||!v,onHoverStart(){Yw()||(t.selectionManager.setFocused(!0),t.selectionManager.setFocusedKey(o))}}),se=Mi(M==null?void 0:M.props);delete se.id;let B=oX(M==null?void 0:M.props);return{optionProps:{...P,...un(se,H,X,B),id:D},labelProps:{id:k},descriptionProps:{id:w},isFocused:z,isFocusVisible:z&&t.selectionManager.isFocused&&Yw(),isSelected:c,isDisabled:l,isPressed:O,allowsSelection:ee,hasAction:G}}function EYe(e){let{heading:t,"aria-label":n}=e,r=Ds();return{itemProps:{role:"presentation"},headingProps:t?{id:r,role:"presentation"}:{},groupProps:{role:"group","aria-label":n,"aria-labelledby":t?r:void 0}}}var _we={};_we={longPressMessage:"     Alt +    "};var Cwe={};Cwe={longPressMessage:"    Alt+  ,    "};var Ewe={};Ewe={longPressMessage:"Dlouhm stiskem nebo stisknutm klves Alt + ipka dol otevete nabdku"};var kwe={};kwe={longPressMessage:"Langt tryk eller tryk p Alt + pil ned for at bne menuen"};var Pwe={};Pwe={longPressMessage:"Drcken Sie lange oder drcken Sie Alt + Nach-unten, um das Men zu ffnen"};var $we={};$we={longPressMessage:"    Alt +       "};var Twe={};Twe={longPressMessage:"Long press or press Alt + ArrowDown to open menu"};var Mwe={};Mwe={longPressMessage:"Mantenga pulsado o pulse Alt + flecha abajo para abrir el men"};var Lwe={};Lwe={longPressMessage:"Men avamiseks vajutage pikalt vi vajutage klahve Alt + allanool"};var Awe={};Awe={longPressMessage:"Avaa valikko painamalla pohjassa tai nppinyhdistelmll Alt + Alanuoli"};var Iwe={};Iwe={longPressMessage:"Appuyez de manire prolonge ou appuyez sur Alt+Flche vers le bas pour ouvrir le menu."};var Rwe={};Rwe={longPressMessage:"     Alt + ArrowDown    "};var Dwe={};Dwe={longPressMessage:"Dugo pritisnite ili pritisnite Alt + strelicu prema dolje za otvaranje izbornika"};var Owe={};Owe={longPressMessage:"Nyomja meg hosszan, vagy nyomja meg az Alt + lefele nyl gombot a men megnyitshoz"};var jwe={};jwe={longPressMessage:"Premere a lungo o premere Alt + Freccia gi per aprire il menu"};var Nwe={};Nwe={longPressMessage:" Alt+"};var Fwe={};Fwe={longPressMessage:"  Alt +     "};var Bwe={};Bwe={longPressMessage:"Nordami atidaryti meniu, nuspaud palaikykite arba paspauskite Alt + ArrowDown."};var zwe={};zwe={longPressMessage:"Lai atvrtu izvlni, turiet nospiestu vai nospiediet taustiu kombinciju Alt + lejupvrst bultia"};var Hwe={};Hwe={longPressMessage:"Langt trykk eller trykk Alt + PilNed for  pne menyen"};var Vwe={};Vwe={longPressMessage:"Druk lang op Alt + pijl-omlaag of druk op Alt om het menu te openen"};var Uwe={};Uwe={longPressMessage:"Nacinij i przytrzymaj lub nacinij klawisze Alt + Strzaka w d, aby otworzy menu"};var Wwe={};Wwe={longPressMessage:"Pressione e segure ou pressione Alt + Seta para baixo para abrir o menu"};var Kwe={};Kwe={longPressMessage:"Prima continuamente ou prima Alt + Seta Para Baixo para abrir o menu"};var qwe={};qwe={longPressMessage:"Apsai lung sau apsai pe Alt + sgeat n jos pentru a deschide meniul"};var Gwe={};Gwe={longPressMessage:"     Alt +  ,   "};var Zwe={};Zwe={longPressMessage:"Ponuku otvorte dlhm stlaenm alebo stlaenm klvesu Alt + klvesu so pkou nadol"};var Ywe={};Ywe={longPressMessage:"Za odprtje menija pritisnite in drite gumb ali pritisnite Alt+puica navzdol"};var Xwe={};Xwe={longPressMessage:"Dugo pritisnite ili pritisnite Alt + strelicu prema dole da otvorite meni"};var Qwe={};Qwe={longPressMessage:"Hll nedtryckt eller tryck p Alt + pil nedt fr att ppna menyn"};var Jwe={};Jwe={longPressMessage:"Meny amak iin uzun basn veya Alt + Aa Ok tuuna basn"};var exe={};exe={longPressMessage:"      Alt   ,   "};var txe={};txe={longPressMessage:" Alt + "};var nxe={};nxe={longPressMessage:" Alt+"};var rxe={};rxe={"ar-AE":_we,"bg-BG":Cwe,"cs-CZ":Ewe,"da-DK":kwe,"de-DE":Pwe,"el-GR":$we,"en-US":Twe,"es-ES":Mwe,"et-EE":Lwe,"fi-FI":Awe,"fr-FR":Iwe,"he-IL":Rwe,"hr-HR":Dwe,"hu-HU":Owe,"it-IT":jwe,"ja-JP":Nwe,"ko-KR":Fwe,"lt-LT":Bwe,"lv-LV":zwe,"nb-NO":Hwe,"nl-NL":Vwe,"pl-PL":Uwe,"pt-BR":Wwe,"pt-PT":Kwe,"ro-RO":qwe,"ru-RU":Gwe,"sk-SK":Zwe,"sl-SI":Ywe,"sr-SP":Xwe,"sv-SE":Qwe,"tr-TR":Jwe,"uk-UA":exe,"zh-CN":txe,"zh-TW":nxe};function kYe(e){return e&&e.__esModule?e.default:e}function PYe(e,t,n){let{type:r="menu",isDisabled:i,trigger:o="press"}=e,s=Ds(),{triggerProps:a,overlayProps:l}=Dbe({type:r},t,n),u=g=>{if(!i&&!(o==="longPress"&&!g.altKey)&&n&&n.current)switch(g.key){case"Enter":case" ":if(o==="longPress")return;case"ArrowDown":"continuePropagation"in g||g.stopPropagation(),g.preventDefault(),t.toggle("first");break;case"ArrowUp":"continuePropagation"in g||g.stopPropagation(),g.preventDefault(),t.toggle("last");break;default:"continuePropagation"in g&&g.continuePropagation()}},c=n3(kYe(rxe),"@react-aria/menu"),{longPressProps:f}=pbe({isDisabled:i||o!=="longPress",accessibilityDescription:c.format("longPressMessage"),onLongPressStart(){t.close()},onLongPress(){t.open("first")}}),p={preventFocusOnPress:!0,onPressStart(g){g.pointerType!=="touch"&&g.pointerType!=="keyboard"&&!i&&(ch(g.target),t.open(g.pointerType==="virtual"?"first":null))},onPress(g){g.pointerType==="touch"&&!i&&(ch(g.target),t.toggle())}};return delete a.onPress,{menuTriggerProps:{...a,...o==="press"?p:f,id:s,onKeyDown:u},menuProps:{...l,"aria-labelledby":s,autoFocus:t.focusStrategy||!0,onClose:t.close}}}const ixe=new WeakMap;function $Ye(e,t,n){let{shouldFocusWrap:r=!0,onKeyDown:i,onKeyUp:o,...s}=e;!e["aria-label"]&&e["aria-labelledby"];let a=Mi(e,{labelable:!0}),{listProps:l}=wX({...s,ref:n,selectionManager:t.selectionManager,collection:t.collection,disabledKeys:t.disabledKeys,shouldFocusWrap:r,linkBehavior:"override"});return ixe.set(t,{onClose:e.onClose,onAction:e.onAction,shouldUseVirtualFocus:e.shouldUseVirtualFocus}),{menuProps:un(a,{onKeyDown:i,onKeyUp:o},{role:"menu",...l,onKeyDown:u=>{var c;(u.key!=="Escape"||e.shouldUseVirtualFocus)&&((c=l.onKeyDown)===null||c===void 0||c.call(l,u))}})}}function TYe(e,t,n){let{id:r,key:i,closeOnSelect:o,isVirtualized:s,"aria-haspopup":a,onPressStart:l,onPressUp:u,onPress:c,onPressChange:f,onPressEnd:p,onHoverStart:g,onHoverChange:v,onHoverEnd:y,onKeyDown:S,onKeyUp:C,onFocus:_,onFocusChange:k,onBlur:w,selectionManager:P=t.selectionManager}=e,M=!!a,R=M&&e["aria-expanded"]==="true";var D;let H=(D=e.isDisabled)!==null&&D!==void 0?D:P.isDisabled(i);var O;let z=(O=e.isSelected)!==null&&O!==void 0?O:P.isSelected(i),G=ixe.get(t),ee=t.collection.getItem(i),X=e.onClose||G.onClose,se=_T(),B=Ve=>{var ot;if(!M){if(!(ee==null||(ot=ee.props)===null||ot===void 0)&&ot.onAction?ee.props.onAction():e.onAction&&e.onAction(i),G.onAction){let kt=G.onAction;kt(i)}Ve.target instanceof HTMLAnchorElement&&ee&&se.open(Ve.target,Ve,ee.props.href,ee.props.routerOptions)}},q="menuitem";M||(P.selectionMode==="single"?q="menuitemradio":P.selectionMode==="multiple"&&(q="menuitemcheckbox"));let U=wg(),K=wg(),J=wg(),oe={id:r,"aria-disabled":H||void 0,role:q,"aria-label":e["aria-label"],"aria-labelledby":U,"aria-describedby":[K,J].filter(Boolean).join(" ")||void 0,"aria-controls":e["aria-controls"],"aria-haspopup":a,"aria-expanded":e["aria-expanded"]};P.selectionMode!=="none"&&!M&&(oe["aria-checked"]=z),s&&(oe["aria-posinset"]=ee==null?void 0:ee.index,oe["aria-setsize"]=Swe(t.collection));let he=Ve=>{Ve.pointerType==="keyboard"&&B(Ve),l==null||l(Ve)},me=()=>{!M&&X&&(o??(P.selectionMode!=="multiple"||P.isLink(i)))&&X()},re=Ve=>{Ve.pointerType==="mouse"&&(B(Ve),me()),u==null||u(Ve)},ue=Ve=>{Ve.pointerType!=="keyboard"&&Ve.pointerType!=="mouse"&&(B(Ve),me()),c==null||c(Ve)},{itemProps:ce,isFocused:we}=CO({id:r,selectionManager:P,key:i,ref:n,shouldSelectOnPressUp:!0,allowsDifferentPressOrigin:!0,linkBehavior:"none",shouldUseVirtualFocus:G.shouldUseVirtualFocus}),{pressProps:Me,isPressed:Be}=Lp({onPressStart:he,onPress:ue,onPressUp:re,onPressChange:f,onPressEnd:p,isDisabled:H}),{hoverProps:ge}=ud({isDisabled:H,onHoverStart(Ve){!Yw()&&!(R&&a)&&(P.setFocused(!0),P.setFocusedKey(i)),g==null||g(Ve)},onHoverChange:v,onHoverEnd:y}),{keyboardProps:ye}=fbe({onKeyDown:Ve=>{if(Ve.repeat){Ve.continuePropagation();return}switch(Ve.key){case" ":!H&&P.selectionMode==="none"&&!M&&o!==!1&&X&&X();break;case"Enter":!H&&o!==!1&&!M&&X&&X();break;default:M||Ve.continuePropagation(),S==null||S(Ve);break}},onKeyUp:C}),{focusProps:_e}=hX({onBlur:w,onFocus:_,onFocusChange:k}),$e=Mi(ee==null?void 0:ee.props);delete $e.id;let He=oX(ee==null?void 0:ee.props);return{menuItemProps:{...oe,...un($e,He,M?{onFocus:ce.onFocus,"data-collection":ce["data-collection"],"data-key":ce["data-key"]}:ce,Me,ge,ye,_e,G.shouldUseVirtualFocus||M?{onMouseDown:Ve=>Ve.preventDefault()}:void 0),tabIndex:ce.tabIndex!=null&&R&&!G.shouldUseVirtualFocus?-1:ce.tabIndex},labelProps:{id:U},descriptionProps:{id:K},keyboardShortcutProps:{id:J},isFocused:we,isFocusVisible:we&&P.isFocused&&Yw()&&!R,isSelected:z,isPressed:Be,isDisabled:H}}function MYe(e){let{heading:t,"aria-label":n}=e,r=Ds();return{itemProps:{role:"presentation"},headingProps:t?{id:r,role:"presentation"}:{},groupProps:{role:"group","aria-label":n,"aria-labelledby":t?r:void 0}}}function LYe(e,t){let{role:n="dialog"}=e,r=wg();r=e["aria-label"]?void 0:r;let i=h.useRef(!1);return h.useEffect(()=>{if(t.current&&!t.current.contains(document.activeElement)){Jl(t.current);let o=setTimeout(()=>{document.activeElement===t.current&&(i.current=!0,t.current&&(t.current.blur(),Jl(t.current)),i.current=!1)},500);return()=>{clearTimeout(o)}}},[t]),cYe(),{dialogProps:{...Mi(e,{labelable:!0}),role:n,tabIndex:-1,"aria-labelledby":e["aria-labelledby"]||r,onBlur:o=>{i.current&&o.stopPropagation()}},titleProps:{id:r}}}const xX=new WeakMap;function ZV(e,t){var n;let{id:r}=(n=xX.get(e))!==null&&n!==void 0?n:{};if(!r)throw new Error("Unknown list");return`${r}-${AYe(t)}`}function AYe(e){return typeof e=="string"?e.replace(/\s*/g,""):""+e}var oxe={};oxe={deselectedItem:e=>`${e.item}  `,longPressToSelect:"     .",select:"",selectedAll:"  .",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"   ",one:()=>`${t.number(e.count)}  `,other:()=>`${t.number(e.count)}  `})}.`,selectedItem:e=>`${e.item} `};var sxe={};sxe={deselectedItem:e=>`${e.item}   .`,longPressToSelect:"        .",select:"",selectedAll:"   .",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"  ",one:()=>`${t.number(e.count)}  `,other:()=>`${t.number(e.count)}  `})}.`,selectedItem:e=>`${e.item} .`};var axe={};axe={deselectedItem:e=>`Poloka ${e.item} nen vybrna.`,longPressToSelect:"Dlouhm stisknutm pejdete do reimu vbru.",select:"Vybrat",selectedAll:"Vybrny vechny poloky.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Nevybrny dn poloky",one:()=>`Vybrna ${t.number(e.count)} poloka`,other:()=>`Vybrno ${t.number(e.count)} poloek`})}.`,selectedItem:e=>`Vybrna poloka ${e.item}.`};var lxe={};lxe={deselectedItem:e=>`${e.item} ikke valgt.`,longPressToSelect:"Lav et langt tryk for at aktivere valgtilstand.",select:"Vlg",selectedAll:"Alle elementer valgt.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Ingen elementer valgt",one:()=>`${t.number(e.count)} element valgt`,other:()=>`${t.number(e.count)} elementer valgt`})}.`,selectedItem:e=>`${e.item} valgt.`};var uxe={};uxe={deselectedItem:e=>`${e.item} nicht ausgewhlt.`,longPressToSelect:"Gedrckt halten, um Auswahlmodus zu ffnen.",select:"Auswhlen",selectedAll:"Alle Elemente ausgewhlt.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Keine Elemente ausgewhlt",one:()=>`${t.number(e.count)} Element ausgewhlt`,other:()=>`${t.number(e.count)} Elemente ausgewhlt`})}.`,selectedItem:e=>`${e.item} ausgewhlt.`};var cxe={};cxe={deselectedItem:e=>`    ${e.item}.`,longPressToSelect:"       .",select:"",selectedAll:"   .",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"  ",one:()=>` ${t.number(e.count)} `,other:()=>` ${t.number(e.count)} `})}.`,selectedItem:e=>`   ${e.item}.`};var dxe={};dxe={deselectedItem:e=>`${e.item} not selected.`,select:"Select",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"No items selected",one:()=>`${t.number(e.count)} item selected`,other:()=>`${t.number(e.count)} items selected`})}.`,selectedAll:"All items selected.",selectedItem:e=>`${e.item} selected.`,longPressToSelect:"Long press to enter selection mode."};var fxe={};fxe={deselectedItem:e=>`${e.item} no seleccionado.`,longPressToSelect:"Mantenga pulsado para abrir el modo de seleccin.",select:"Seleccionar",selectedAll:"Todos los elementos seleccionados.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Ningn elemento seleccionado",one:()=>`${t.number(e.count)} elemento seleccionado`,other:()=>`${t.number(e.count)} elementos seleccionados`})}.`,selectedItem:e=>`${e.item} seleccionado.`};var hxe={};hxe={deselectedItem:e=>`${e.item} pole valitud.`,longPressToSelect:"Valikureiimi sisenemiseks vajutage pikalt.",select:"Vali",selectedAll:"Kik ksused valitud.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"ksusi pole valitud",one:()=>`${t.number(e.count)} ksus valitud`,other:()=>`${t.number(e.count)} ksust valitud`})}.`,selectedItem:e=>`${e.item} valitud.`};var pxe={};pxe={deselectedItem:e=>`Kohdetta ${e.item} ei valittu.`,longPressToSelect:"Siirry valintatilaan painamalla pitkn.",select:"Valitse",selectedAll:"Kaikki kohteet valittu.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Ei yhtn kohdetta valittu",one:()=>`${t.number(e.count)} kohde valittu`,other:()=>`${t.number(e.count)} kohdetta valittu`})}.`,selectedItem:e=>`${e.item} valittu.`};var mxe={};mxe={deselectedItem:e=>`${e.item} non slectionn.`,longPressToSelect:"Appuyez de manire prolonge pour passer en mode de slection.",select:"Slectionner",selectedAll:"Tous les lments slectionns.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Aucun lment slectionn",one:()=>`${t.number(e.count)} lment slectionn`,other:()=>`${t.number(e.count)} lments slectionns`})}.`,selectedItem:e=>`${e.item} slectionn.`};var gxe={};gxe={deselectedItem:e=>`${e.item}  .`,longPressToSelect:"    .",select:"",selectedAll:"  .",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"  ",one:()=>` ${t.number(e.count)} `,other:()=>`${t.number(e.count)}  `})}.`,selectedItem:e=>`${e.item} .`};var vxe={};vxe={deselectedItem:e=>`Stavka ${e.item} nije odabrana.`,longPressToSelect:"Dugo pritisnite za ulazak u nain odabira.",select:"Odaberite",selectedAll:"Odabrane su sve stavke.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Nije odabrana nijedna stavka",one:()=>`Odabrana je ${t.number(e.count)} stavka`,other:()=>`Odabrano je ${t.number(e.count)} stavki`})}.`,selectedItem:e=>`Stavka ${e.item} je odabrana.`};var yxe={};yxe={deselectedItem:e=>`${e.item} nincs kijellve.`,longPressToSelect:"Nyomja hosszan a kijellshez.",select:"Kijells",selectedAll:"Az sszes elem kijellve.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Egy elem sincs kijellve",one:()=>`${t.number(e.count)} elem kijellve`,other:()=>`${t.number(e.count)} elem kijellve`})}.`,selectedItem:e=>`${e.item} kijellve.`};var bxe={};bxe={deselectedItem:e=>`${e.item} non selezionato.`,longPressToSelect:"Premi a lungo per passare alla modalit di selezione.",select:"Seleziona",selectedAll:"Tutti gli elementi selezionati.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Nessun elemento selezionato",one:()=>`${t.number(e.count)} elemento selezionato`,other:()=>`${t.number(e.count)} elementi selezionati`})}.`,selectedItem:e=>`${e.item} selezionato.`};var wxe={};wxe={deselectedItem:e=>`${e.item} `,longPressToSelect:"",select:"",selectedAll:"",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"",one:()=>`${t.number(e.count)} `,other:()=>`${t.number(e.count)} `})}`,selectedItem:e=>`${e.item} `};var xxe={};xxe={deselectedItem:e=>`${e.item}()  .`,longPressToSelect:"    .",select:"",selectedAll:"  .",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"  ",one:()=>`${t.number(e.count)}  `,other:()=>`${t.number(e.count)}  `})}.`,selectedItem:e=>`${e.item}() .`};var Sxe={};Sxe={deselectedItem:e=>`${e.item} nepasirinkta.`,longPressToSelect:"Nordami jungti pasirinkimo reim, paspauskite ir palaikykite.",select:"Pasirinkti",selectedAll:"Pasirinkti visi elementai.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Nepasirinktas n vienas elementas",one:()=>`Pasirinktas ${t.number(e.count)} elementas`,other:()=>`Pasirinkta element: ${t.number(e.count)}`})}.`,selectedItem:e=>`Pasirinkta: ${e.item}.`};var _xe={};_xe={deselectedItem:e=>`Vienums ${e.item} nav atlasts.`,longPressToSelect:"Ilgi turiet nospiestu. lai ieslgtu atlases remu.",select:"Atlast",selectedAll:"Atlasti visi vienumi.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Nav atlasts neviens vienums",one:()=>`Atlasto vienumu skaits: ${t.number(e.count)}`,other:()=>`Atlasto vienumu skaits: ${t.number(e.count)}`})}.`,selectedItem:e=>`Atlasts vienums ${e.item}.`};var Cxe={};Cxe={deselectedItem:e=>`${e.item} er ikke valgt.`,longPressToSelect:"Bruk et langt trykk for  g inn i valgmodus.",select:"Velg",selectedAll:"Alle elementer er valgt.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Ingen elementer er valgt",one:()=>`${t.number(e.count)} element er valgt`,other:()=>`${t.number(e.count)} elementer er valgt`})}.`,selectedItem:e=>`${e.item} er valgt.`};var Exe={};Exe={deselectedItem:e=>`${e.item} niet geselecteerd.`,longPressToSelect:"Druk lang om de selectiemodus te openen.",select:"Selecteren",selectedAll:"Alle items geselecteerd.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Geen items geselecteerd",one:()=>`${t.number(e.count)} item geselecteerd`,other:()=>`${t.number(e.count)} items geselecteerd`})}.`,selectedItem:e=>`${e.item} geselecteerd.`};var kxe={};kxe={deselectedItem:e=>`Nie zaznaczono ${e.item}.`,longPressToSelect:"Nacinij i przytrzymaj, aby wej do trybu wyboru.",select:"Zaznacz",selectedAll:"Wszystkie zaznaczone elementy.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Nie zaznaczono adnych elementw",one:()=>`${t.number(e.count)} zaznaczony element`,other:()=>`${t.number(e.count)} zaznaczonych elementw`})}.`,selectedItem:e=>`Zaznaczono ${e.item}.`};var Pxe={};Pxe={deselectedItem:e=>`${e.item} no selecionado.`,longPressToSelect:"Mantenha pressionado para entrar no modo de seleo.",select:"Selecionar",selectedAll:"Todos os itens selecionados.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Nenhum item selecionado",one:()=>`${t.number(e.count)} item selecionado`,other:()=>`${t.number(e.count)} itens selecionados`})}.`,selectedItem:e=>`${e.item} selecionado.`};var $xe={};$xe={deselectedItem:e=>`${e.item} no selecionado.`,longPressToSelect:"Prima continuamente para entrar no modo de seleo.",select:"Selecionar",selectedAll:"Todos os itens selecionados.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Nenhum item selecionado",one:()=>`${t.number(e.count)} item selecionado`,other:()=>`${t.number(e.count)} itens selecionados`})}.`,selectedItem:e=>`${e.item} selecionado.`};var Txe={};Txe={deselectedItem:e=>`${e.item} neselectat.`,longPressToSelect:"Apsai lung pentru a intra n modul de selectare.",select:"Selectare",selectedAll:"Toate elementele selectate.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Niciun element selectat",one:()=>`${t.number(e.count)} element selectat`,other:()=>`${t.number(e.count)} elemente selectate`})}.`,selectedItem:e=>`${e.item} selectat.`};var Mxe={};Mxe={deselectedItem:e=>`${e.item}  .`,longPressToSelect:"       .",select:"",selectedAll:"  .",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"  ",one:()=>`${t.number(e.count)}  `,other:()=>`${t.number(e.count)}  `})}.`,selectedItem:e=>`${e.item} .`};var Lxe={};Lxe={deselectedItem:e=>`Nevybrat poloky: ${e.item}.`,longPressToSelect:"Dlhm stlaenm prejdite do reimu vberu.",select:"Vybra",selectedAll:"Vetky vybrat poloky.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"iadne vybrat poloky",one:()=>`${t.number(e.count)} vybrat poloka`,other:()=>`Poet vybratch poloiek:${t.number(e.count)}`})}.`,selectedItem:e=>`Vybrat poloky: ${e.item}.`};var Axe={};Axe={deselectedItem:e=>`Element ${e.item} ni izbran.`,longPressToSelect:"Za izbirni nain pritisnite in dlje asa drite.",select:"Izberite",selectedAll:"Vsi elementi so izbrani.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Noben element ni izbran",one:()=>`${t.number(e.count)} element je izbran`,other:()=>`${t.number(e.count)} elementov je izbranih`})}.`,selectedItem:e=>`Element ${e.item} je izbran.`};var Ixe={};Ixe={deselectedItem:e=>`${e.item} nije izabrano.`,longPressToSelect:"Dugo pritisnite za ulazak u reim biranja.",select:"Izaberite",selectedAll:"Izabrane su sve stavke.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Nije izabrana nijedna stavka",one:()=>`Izabrana je ${t.number(e.count)} stavka`,other:()=>`Izabrano je ${t.number(e.count)} stavki`})}.`,selectedItem:e=>`${e.item} je izabrano.`};var Rxe={};Rxe={deselectedItem:e=>`${e.item} ej markerat.`,longPressToSelect:"Tryck lnge nr du vill ppna vljarlge.",select:"Markera",selectedAll:"Alla markerade objekt.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Inga markerade objekt",one:()=>`${t.number(e.count)} markerat objekt`,other:()=>`${t.number(e.count)} markerade objekt`})}.`,selectedItem:e=>`${e.item} markerat.`};var Dxe={};Dxe={deselectedItem:e=>`${e.item} seilmedi.`,longPressToSelect:"Seim moduna girmek iin uzun basn.",select:"Se",selectedAll:"Tm geler seildi.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Hibir ge seilmedi",one:()=>`${t.number(e.count)} ge seildi`,other:()=>`${t.number(e.count)} ge seildi`})}.`,selectedItem:e=>`${e.item} seildi.`};var Oxe={};Oxe={deselectedItem:e=>`${e.item}  .`,longPressToSelect:"  ,     .",select:"",selectedAll:"  .",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"   ",one:()=>`${t.number(e.count)}  `,other:()=>` : ${t.number(e.count)}`})}.`,selectedItem:e=>`${e.item} .`};var jxe={};jxe={deselectedItem:e=>` ${e.item}`,longPressToSelect:"",select:"",selectedAll:"",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"",one:()=>` ${t.number(e.count)} `,other:()=>` ${t.number(e.count)} `})}`,selectedItem:e=>` ${e.item}`};var Nxe={};Nxe={deselectedItem:e=>`${e.item}`,longPressToSelect:"",select:"",selectedAll:"",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"",one:()=>` ${t.number(e.count)} `,other:()=>` ${t.number(e.count)} `})}`,selectedItem:e=>`${e.item}`};var EO={};EO={"ar-AE":oxe,"bg-BG":sxe,"cs-CZ":axe,"da-DK":lxe,"de-DE":uxe,"el-GR":cxe,"en-US":dxe,"es-ES":fxe,"et-EE":hxe,"fi-FI":pxe,"fr-FR":mxe,"he-IL":gxe,"hr-HR":vxe,"hu-HU":yxe,"it-IT":bxe,"ja-JP":wxe,"ko-KR":xxe,"lt-LT":Sxe,"lv-LV":_xe,"nb-NO":Cxe,"nl-NL":Exe,"pl-PL":kxe,"pt-BR":Pxe,"pt-PT":$xe,"ro-RO":Txe,"ru-RU":Mxe,"sk-SK":Lxe,"sl-SI":Axe,"sr-SP":Ixe,"sv-SE":Rxe,"tr-TR":Dxe,"uk-UA":Oxe,"zh-CN":jxe,"zh-TW":Nxe};function IYe(e){return e&&e.__esModule?e.default:e}function RYe(e,t){let{getRowText:n=a=>{var l,u,c,f;return(f=(l=(u=t.collection).getTextValue)===null||l===void 0?void 0:l.call(u,a))!==null&&f!==void 0?f:(c=t.collection.getItem(a))===null||c===void 0?void 0:c.textValue}}=e,r=n3(IYe(EO),"@react-aria/grid"),i=t.selectionManager.rawSelection,o=h.useRef(i),s=Lo(()=>{var a;if(!t.selectionManager.isFocused||i===o.current){o.current=i;return}let l=rse(i,o.current),u=rse(o.current,i),c=t.selectionManager.selectionBehavior==="replace",f=[];if(t.selectionManager.selectedKeys.size===1&&c){if(t.collection.getItem(t.selectionManager.selectedKeys.keys().next().value)){let p=n(t.selectionManager.selectedKeys.keys().next().value);p&&f.push(r.format("selectedItem",{item:p}))}}else if(l.size===1&&u.size===0){let p=n(l.keys().next().value);p&&f.push(r.format("selectedItem",{item:p}))}else if(u.size===1&&l.size===0&&t.collection.getItem(u.keys().next().value)){let p=n(u.keys().next().value);p&&f.push(r.format("deselectedItem",{item:p}))}t.selectionManager.selectionMode==="multiple"&&(f.length===0||i==="all"||i.size>1||o.current==="all"||((a=o.current)===null||a===void 0?void 0:a.size)>1)&&f.push(i==="all"?r.format("selectedAll"):r.format("selectedCount",{count:i.size})),f.length>0&&WV(f.join(" ")),o.current=i});sGe(()=>{if(t.selectionManager.isFocused)s();else{let a=requestAnimationFrame(s);return()=>cancelAnimationFrame(a)}},[i,t.selectionManager.isFocused])}function rse(e,t){let n=new Set;if(e==="all"||t==="all")return n;for(let r of e.keys())t.has(r)||n.add(r);return n}function DYe(e){return e&&e.__esModule?e.default:e}function OYe(e){let t=n3(DYe(EO),"@react-aria/grid"),n=RGe(),r=(n==="pointer"||n==="virtual"||n==null)&&typeof window<"u"&&"ontouchstart"in window,i=h.useMemo(()=>{let s=e.selectionManager.selectionMode,a=e.selectionManager.selectionBehavior,l;return r&&(l=t.format("longPressToSelect")),a==="replace"&&s!=="none"&&e.hasItemActions?l:void 0},[e.selectionManager.selectionMode,e.selectionManager.selectionBehavior,e.hasItemActions,t,r]);return Y1e(i)}function jYe(e){return e&&e.__esModule?e.default:e}function NYe(e,t){let{key:n}=e,r=t.selectionManager,i=Ds(),o=!t.selectionManager.canSelectItem(n),s=t.selectionManager.isSelected(n),a=()=>r.toggleSelection(n);const l=n3(jYe(EO),"@react-aria/grid");return{checkboxProps:{id:i,"aria-label":l.format("select"),isSelected:s,isDisabled:o,onChange:a}}}function FYe(e,t,n){let{isVirtualized:r,keyboardDelegate:i,layoutDelegate:o,onAction:s,disallowTypeAhead:a,linkBehavior:l="action",keyboardNavigationBehavior:u="arrow",escapeKeyBehavior:c="clearSelection"}=e;!e["aria-label"]&&!e["aria-labelledby"]&&console.warn("An aria-label or aria-labelledby prop is required for accessibility.");let{listProps:f}=wX({selectionManager:t.selectionManager,collection:t.collection,disabledKeys:t.disabledKeys,ref:n,keyboardDelegate:i,layoutDelegate:o,isVirtualized:r,selectOnFocus:t.selectionManager.selectionBehavior==="replace",shouldFocusWrap:e.shouldFocusWrap,linkBehavior:l,disallowTypeAhead:a,autoFocus:e.autoFocus,escapeKeyBehavior:c}),p=Ds(e.id);xX.set(t,{id:p,onAction:s,linkBehavior:l,keyboardNavigationBehavior:u});let g=OYe({selectionManager:t.selectionManager,hasItemActions:!!s}),v=_be(n,{isDisabled:t.collection.size!==0}),y=Mi(e,{labelable:!0}),S=un(y,{role:"grid",id:p,"aria-multiselectable":t.selectionManager.selectionMode==="multiple"?"true":void 0},t.collection.size===0?{tabIndex:v?-1:0}:f,g);return r&&(S["aria-rowcount"]=t.collection.size,S["aria-colcount"]=1),RYe({},t),{gridProps:S}}const ise={expand:{ltr:"ArrowRight",rtl:"ArrowLeft"},collapse:{ltr:"ArrowLeft",rtl:"ArrowRight"}};function BYe(e,t,n){var r,i;let{node:o,isVirtualized:s,shouldSelectOnPressUp:a}=e,{direction:l}=bh(),{onAction:u,linkBehavior:c,keyboardNavigationBehavior:f}=xX.get(t),p=wg(),g=h.useRef(null),v=()=>{var B;n.current!==null&&(g.current!=null&&o.key!==g.current||!(!((B=n.current)===null||B===void 0)&&B.contains(document.activeElement)))&&Jl(n.current)},y={},S=e.hasChildItems,C=t.selectionManager.isLink(o.key);if(o!=null&&"expandedKeys"in t){var _,k,w;let B=(_=(k=t.collection).getChildren)===null||_===void 0?void 0:_.call(k,o.key);S=S||[...B??[]].length>1,u==null&&!C&&t.selectionManager.selectionMode==="none"&&S&&(u=()=>t.toggleKey(o.key));let q=S?t.expandedKeys.has(o.key):void 0,U=1;var P;if(o.level>0&&(o==null?void 0:o.parentKey)!=null){let K=t.collection.getItem(o.parentKey);if(K){var M,R;let J=(M=(R=t.collection).getChildren)===null||M===void 0?void 0:M.call(R,K.key);U=_Ye(J).index+1}}else U=((P=(w=[...t.collection].filter(K=>K.level===0).at(-1))===null||w===void 0?void 0:w.index)!==null&&P!==void 0?P:0)+1;y={"aria-expanded":q,"aria-level":o.level+1,"aria-posinset":(o==null?void 0:o.index)+1,"aria-setsize":U}}let{itemProps:D,...H}=CO({selectionManager:t.selectionManager,key:o.key,ref:n,isVirtualized:s,shouldSelectOnPressUp:a,onAction:u||!((r=o.props)===null||r===void 0)&&r.onAction?qw((i=o.props)===null||i===void 0?void 0:i.onAction,u?()=>u(o.key):void 0):void 0,focus:v,linkBehavior:c}),O=B=>{if(!B.currentTarget.contains(B.target)||!n.current||!document.activeElement)return;let q=Ya(n.current);if(q.currentNode=document.activeElement,"expandedKeys"in t&&document.activeElement===n.current){if(B.key===ise.expand[l]&&t.selectionManager.focusedKey===o.key&&S&&!t.expandedKeys.has(o.key)){t.toggleKey(o.key),B.stopPropagation();return}else if(B.key===ise.collapse[l]&&t.selectionManager.focusedKey===o.key&&S&&t.expandedKeys.has(o.key)){t.toggleKey(o.key),B.stopPropagation();return}}switch(B.key){case"ArrowLeft":if(f==="arrow"){let K=l==="rtl"?q.nextNode():q.previousNode();if(K)B.preventDefault(),B.stopPropagation(),Jl(K),iy(K,{containingElement:ry(n.current)});else if(B.preventDefault(),B.stopPropagation(),l==="rtl")Jl(n.current),iy(n.current,{containingElement:ry(n.current)});else{q.currentNode=n.current;let J=ose(q);J&&(Jl(J),iy(J,{containingElement:ry(n.current)}))}}break;case"ArrowRight":if(f==="arrow"){let K=l==="rtl"?q.previousNode():q.nextNode();if(K)B.preventDefault(),B.stopPropagation(),Jl(K),iy(K,{containingElement:ry(n.current)});else if(B.preventDefault(),B.stopPropagation(),l==="ltr")Jl(n.current),iy(n.current,{containingElement:ry(n.current)});else{q.currentNode=n.current;let J=ose(q);J&&(Jl(J),iy(J,{containingElement:ry(n.current)}))}}break;case"ArrowUp":case"ArrowDown":if(!B.altKey&&n.current.contains(B.target)){var U;B.stopPropagation(),B.preventDefault(),(U=n.current.parentElement)===null||U===void 0||U.dispatchEvent(new KeyboardEvent(B.nativeEvent.type,B.nativeEvent))}break;case"Tab":if(f==="tab"){let K=Ya(n.current,{tabbable:!0});K.currentNode=document.activeElement,(B.shiftKey?K.previousNode():K.nextNode())&&B.stopPropagation()}}},z=B=>{if(g.current=o.key,B.target!==n.current){Yw()||t.selectionManager.setFocusedKey(o.key);return}},G=oGe(o.props),ee=H.hasAction?G:{},X=un(D,ee,{role:"row",onKeyDownCapture:O,onFocus:z,"aria-label":o.textValue||void 0,"aria-selected":t.selectionManager.canSelectItem(o.key)?t.selectionManager.isSelected(o.key):void 0,"aria-disabled":t.selectionManager.isDisabled(o.key)||void 0,"aria-labelledby":p&&o.textValue?`${ZV(t,o.key)} ${p}`:void 0,id:ZV(t,o.key)});s&&(X["aria-rowindex"]=o.index+1);let se={role:"gridcell","aria-colindex":1};return{rowProps:{...un(X,y)},gridCellProps:se,descriptionProps:{id:p},...H}}function ose(e){let t=null,n=null;do n=e.lastChild(),n&&(t=n);while(n);return t}function zYe(e,t){let{key:n}=e;const{checkboxProps:r}=NYe(e,t);return{checkboxProps:{...r,"aria-labelledby":`${r.id} ${ZV(t,n)}`}}}const Fxe=new WeakMap;function HYe(e,t,n){let{value:r,children:i,"aria-label":o,"aria-labelledby":s}=e;const a=e.isDisabled||t.isDisabled;let l=i!=null,u=o!=null||s!=null,c=t.selectedValue===r,f=D=>{D.stopPropagation(),t.setSelectedValue(r)},{pressProps:p,isPressed:g}=Lp({isDisabled:a}),{pressProps:v,isPressed:y}=Lp({isDisabled:a,onPress(){var D;t.setSelectedValue(r),(D=n.current)===null||D===void 0||D.focus()}}),{focusableProps:S}=kT(un(e,{onFocus:()=>t.setLastFocusedValue(r)}),n),C=un(p,S),_=Mi(e,{labelable:!0}),k=-1;t.selectedValue!=null?t.selectedValue===r&&(k=0):(t.lastFocusedValue===r||t.lastFocusedValue==null)&&(k=0),a&&(k=void 0);let{name:w,descriptionId:P,errorMessageId:M,validationBehavior:R}=Fxe.get(t);return aX(n,t.selectedValue,t.setSelectedValue),vX({validationBehavior:R},t,n),{labelProps:un(v,{onClick:D=>D.preventDefault()}),inputProps:un(_,{...C,type:"radio",name:w,tabIndex:k,disabled:a,required:t.isRequired&&R==="native",checked:c,value:r,onChange:f,"aria-describedby":[e["aria-describedby"],t.isInvalid?M:null,P].filter(Boolean).join(" ")||void 0}),isDisabled:a,isSelected:c,isPressed:g||y}}function VYe(e,t){let{name:n,isReadOnly:r,isRequired:i,isDisabled:o,orientation:s="vertical",validationBehavior:a="aria"}=e,{direction:l}=bh(),{isInvalid:u,validationErrors:c,validationDetails:f}=t.displayValidation,{labelProps:p,fieldProps:g,descriptionProps:v,errorMessageProps:y}=Lbe({...e,labelElementType:"span",isInvalid:t.isInvalid,errorMessage:e.errorMessage||c}),S=Mi(e,{labelable:!0}),{focusWithinProps:C}=PT({onBlurWithin(w){var P;(P=e.onBlur)===null||P===void 0||P.call(e,w),t.selectedValue||t.setLastFocusedValue(null)},onFocusWithin:e.onFocus,onFocusWithinChange:e.onFocusChange}),_=w=>{let P;switch(w.key){case"ArrowRight":l==="rtl"&&s!=="vertical"?P="prev":P="next";break;case"ArrowLeft":l==="rtl"&&s!=="vertical"?P="next":P="prev";break;case"ArrowDown":P="next";break;case"ArrowUp":P="prev";break;default:return}w.preventDefault();let M=Ya(w.currentTarget,{from:w.target}),R;P==="next"?(R=M.nextNode(),R||(M.currentNode=w.currentTarget,R=M.firstChild())):(R=M.previousNode(),R||(M.currentNode=w.currentTarget,R=M.lastChild())),R&&(R.focus(),t.setSelectedValue(R.value))},k=Ds(n);return Fxe.set(t,{name:k,descriptionId:v.id,errorMessageId:y.id,validationBehavior:a}),{radioGroupProps:un(S,{role:"radiogroup",onKeyDown:_,"aria-invalid":t.isInvalid||void 0,"aria-errormessage":e["aria-errormessage"],"aria-readonly":r||void 0,"aria-required":i||void 0,"aria-disabled":o||void 0,"aria-orientation":s,...g,...C}),labelProps:p,descriptionProps:v,errorMessageProps:y,isInvalid:u,validationErrors:c,validationDetails:f}}const Bxe=new WeakMap;function kR(e,t,n){return e?(typeof t=="string"&&(t=t.replace(/\s+/g,"")),`${Bxe.get(e)}-${n}-${t}`):""}function UYe(e,t,n){let{key:r,isDisabled:i,shouldSelectOnPressUp:o}=e,{selectionManager:s,selectedKey:a}=t,l=r===a,u=i||t.isDisabled||t.selectionManager.isDisabled(r),{itemProps:c,isPressed:f}=CO({selectionManager:s,key:r,ref:n,isDisabled:u,shouldSelectOnPressUp:o,linkBehavior:"selection"}),p=kR(t,r,"tab"),g=kR(t,r,"tabpanel"),{tabIndex:v}=c,y=t.collection.getItem(r),S=Mi(y==null?void 0:y.props,{labelable:!0});delete S.id;let C=oX(y==null?void 0:y.props),{focusableProps:_}=kT({isDisabled:u},n);return{tabProps:un(S,_,C,c,{id:p,"aria-selected":l,"aria-disabled":u||void 0,"aria-controls":l?g:void 0,tabIndex:u?void 0:v,role:"tab"}),isSelected:l,isDisabled:u,isPressed:f}}function WYe(e,t,n){let r=_be(n)?void 0:0;var i;const o=kR(t,(i=e.id)!==null&&i!==void 0?i:t==null?void 0:t.selectedKey,"tabpanel"),s=CT({...e,id:o,"aria-labelledby":kR(t,t==null?void 0:t.selectedKey,"tab")});return{tabPanelProps:un(s,{tabIndex:r,role:"tabpanel","aria-describedby":e["aria-describedby"],"aria-details":e["aria-details"]})}}class KYe{getKeyLeftOf(t){return this.flipDirection?this.getNextKey(t):this.getPreviousKey(t)}getKeyRightOf(t){return this.flipDirection?this.getPreviousKey(t):this.getNextKey(t)}isDisabled(t){var n,r;return this.disabledKeys.has(t)||!!(!((r=this.collection.getItem(t))===null||r===void 0||(n=r.props)===null||n===void 0)&&n.isDisabled)}getFirstKey(){let t=this.collection.getFirstKey();return t!=null&&this.isDisabled(t)&&(t=this.getNextKey(t)),t}getLastKey(){let t=this.collection.getLastKey();return t!=null&&this.isDisabled(t)&&(t=this.getPreviousKey(t)),t}getKeyAbove(t){return this.tabDirection?null:this.getPreviousKey(t)}getKeyBelow(t){return this.tabDirection?null:this.getNextKey(t)}getNextKey(t){let n=t;do n=this.collection.getKeyAfter(n),n==null&&(n=this.collection.getFirstKey());while(n!=null&&this.isDisabled(n));return n}getPreviousKey(t){let n=t;do n=this.collection.getKeyBefore(n),n==null&&(n=this.collection.getLastKey());while(n!=null&&this.isDisabled(n));return n}constructor(t,n,r,i=new Set){this.collection=t,this.flipDirection=n==="rtl"&&r==="horizontal",this.disabledKeys=i,this.tabDirection=r==="horizontal"}}function qYe(e,t,n){let{orientation:r="horizontal",keyboardActivation:i="automatic"}=e,{collection:o,selectionManager:s,disabledKeys:a}=t,{direction:l}=bh(),u=h.useMemo(()=>new KYe(o,l,r,a),[o,a,r,l]),{collectionProps:c}=bwe({ref:n,selectionManager:s,keyboardDelegate:u,selectOnFocus:i==="automatic",disallowEmptySelection:!0,scrollRef:n,linkBehavior:"selection"}),f=Ds();Bxe.set(t,f);let p=CT({...e,id:f});return{tabListProps:{...un(c,p),role:"tablist","aria-orientation":r,tabIndex:void 0}}}const PR=h.createContext({});let GYe=e=>{let{onHoverStart:t,onHoverChange:n,onHoverEnd:r,...i}=e;return i};const zxe=ET(function(t,n){[t,n]=Sa(t,n,PR);let{hoverProps:r,isHovered:i}=ud(t),{isFocused:o,isFocusVisible:s,focusProps:a}=pf({isTextInput:!0,autoFocus:t.autoFocus}),l=!!t["aria-invalid"]&&t["aria-invalid"]!=="false",u=Oo({...t,values:{isHovered:i,isFocused:o,isFocusVisible:s,isDisabled:t.disabled||!1,isInvalid:l},defaultClassName:"react-aria-Input"});return ne.createElement("input",{...un(GYe(t),a,r),...u,ref:n,"data-focused":o||void 0,"data-disabled":t.disabled||void 0,"data-hovered":i||void 0,"data-focus-visible":s||void 0,"data-invalid":l||void 0})}),SX=h.createContext({}),Hxe=ET(function(t,n){[t,n]=Sa(t,n,SX);let{elementType:r="label",...i}=t;return ne.createElement(r,{className:"react-aria-Label",...i,ref:n})}),ZYe=h.createContext(null),YYe=new Set(["form","formAction","formEncType","formMethod","formNoValidate","formTarget","name","value"]),_X=h.createContext({}),Ar=ET(function(t,n){[t,n]=Sa(t,n,_X),t=XYe(t);let r=t,{isPending:i}=r,{buttonProps:o,isPressed:s}=bZe(t,n),{focusProps:a,isFocused:l,isFocusVisible:u}=pf(t),{hoverProps:c,isHovered:f}=ud({...t,isDisabled:t.isDisabled||i}),p={isHovered:f,isPressed:(r.isPressed||s)&&!i,isFocused:l,isFocusVisible:u,isDisabled:t.isDisabled||!1,isPending:i??!1},g=Oo({...t,values:p,defaultClassName:"react-aria-Button"}),v=Ds(o.id),y=Ds(),S=o["aria-labelledby"];i&&(S?S=`${S} ${y}`:o["aria-label"]&&(S=`${v} ${y}`));let C=h.useRef(i);return h.useEffect(()=>{let _={"aria-labelledby":S||v};(!C.current&&l&&i||C.current&&l&&!i)&&WV(_,"assertive"),C.current=i},[i,l,S,v]),ne.createElement("button",{...Mi(t,{propNames:YYe}),...un(o,a,c),...g,type:o.type==="submit"&&i?"button":o.type,id:v,ref:n,"aria-labelledby":S,slot:t.slot||void 0,"aria-disabled":i?"true":o["aria-disabled"],"data-disabled":t.isDisabled||void 0,"data-pressed":p.isPressed||void 0,"data-hovered":f||void 0,"data-focused":l||void 0,"data-pending":i||void 0,"data-focus-visible":u||void 0},ne.createElement(ZYe.Provider,{value:{id:y}},g.children))});function XYe(e){return e.isPending&&(e.onPress=void 0,e.onPressStart=void 0,e.onPressEnd=void 0,e.onPressChange=void 0,e.onPressUp=void 0,e.onKeyDown=void 0,e.onKeyUp=void 0,e.onClick=void 0,e.href=void 0),e}const $T=h.createContext({}),Vxe=h.createContext(null);class sse{*[Symbol.iterator](){yield*this.iterable}get size(){return this.keyMap.size}getKeys(){return this.keyMap.keys()}getKeyBefore(t){let n=this.keyMap.get(t);var r;return n&&(r=n.prevKey)!==null&&r!==void 0?r:null}getKeyAfter(t){let n=this.keyMap.get(t);var r;return n&&(r=n.nextKey)!==null&&r!==void 0?r:null}getFirstKey(){return this.firstKey}getLastKey(){return this.lastKey}getItem(t){var n;return(n=this.keyMap.get(t))!==null&&n!==void 0?n:null}at(t){const n=[...this.getKeys()];return this.getItem(n[t])}getChildren(t){let n=this.keyMap.get(t);return(n==null?void 0:n.childNodes)||[]}constructor(t){this.keyMap=new Map,this.firstKey=null,this.lastKey=null,this.iterable=t;let n=s=>{if(this.keyMap.set(s.key,s),s.childNodes&&s.type==="section")for(let a of s.childNodes)n(a)};for(let s of t)n(s);let r=null,i=0;for(let[s,a]of this.keyMap)r?(r.nextKey=s,a.prevKey=r.key):(this.firstKey=s,a.prevKey=void 0),a.type==="item"&&(a.index=i++),r=a,r.nextKey=void 0;var o;this.lastKey=(o=r==null?void 0:r.key)!==null&&o!==void 0?o:null}}class Zf extends Set{constructor(t,n,r){super(t),t instanceof Zf?(this.anchorKey=n??t.anchorKey,this.currentKey=r??t.currentKey):(this.anchorKey=n??null,this.currentKey=r??null)}}function QYe(e,t){if(e.size!==t.size)return!1;for(let n of e)if(!t.has(n))return!1;return!0}function CX(e){let{selectionMode:t="none",disallowEmptySelection:n=!1,allowDuplicateSelectionEvents:r,selectionBehavior:i="toggle",disabledBehavior:o="all"}=e,s=h.useRef(!1),[,a]=h.useState(!1),l=h.useRef(null),u=h.useRef(null),[,c]=h.useState(null),f=h.useMemo(()=>ase(e.selectedKeys),[e.selectedKeys]),p=h.useMemo(()=>ase(e.defaultSelectedKeys,new Zf),[e.defaultSelectedKeys]),[g,v]=X0(f,p,e.onSelectionChange),y=h.useMemo(()=>e.disabledKeys?new Set(e.disabledKeys):new Set,[e.disabledKeys]),[S,C]=h.useState(i);i==="replace"&&S==="toggle"&&typeof g=="object"&&g.size===0&&C("replace");let _=h.useRef(i);return h.useEffect(()=>{i!==_.current&&(C(i),_.current=i)},[i]),{selectionMode:t,disallowEmptySelection:n,selectionBehavior:S,setSelectionBehavior:C,get isFocused(){return s.current},setFocused(k){s.current=k,a(k)},get focusedKey(){return l.current},get childFocusStrategy(){return u.current},setFocusedKey(k,w="first"){l.current=k,u.current=w,c(k)},selectedKeys:g,setSelectedKeys(k){(r||!QYe(k,g))&&v(k)},disabledKeys:y,disabledBehavior:o}}function ase(e,t){return e?e==="all"?"all":new Zf(e):t}class TT{get selectionMode(){return this.state.selectionMode}get disallowEmptySelection(){return this.state.disallowEmptySelection}get selectionBehavior(){return this.state.selectionBehavior}setSelectionBehavior(t){this.state.setSelectionBehavior(t)}get isFocused(){return this.state.isFocused}setFocused(t){this.state.setFocused(t)}get focusedKey(){return this.state.focusedKey}get childFocusStrategy(){return this.state.childFocusStrategy}setFocusedKey(t,n){(t==null||this.collection.getItem(t))&&this.state.setFocusedKey(t,n)}get selectedKeys(){return this.state.selectedKeys==="all"?new Set(this.getSelectAllKeys()):this.state.selectedKeys}get rawSelection(){return this.state.selectedKeys}isSelected(t){if(this.state.selectionMode==="none")return!1;let n=this.getKey(t);return n==null?!1:this.state.selectedKeys==="all"?this.canSelectItem(n):this.state.selectedKeys.has(n)}get isEmpty(){return this.state.selectedKeys!=="all"&&this.state.selectedKeys.size===0}get isSelectAll(){if(this.isEmpty)return!1;if(this.state.selectedKeys==="all")return!0;if(this._isSelectAll!=null)return this._isSelectAll;let t=this.getSelectAllKeys(),n=this.state.selectedKeys;return this._isSelectAll=t.every(r=>n.has(r)),this._isSelectAll}get firstSelectedKey(){let t=null;for(let r of this.state.selectedKeys){let i=this.collection.getItem(r);(!t||i&&KN(this.collection,i,t)<0)&&(t=i)}var n;return(n=t==null?void 0:t.key)!==null&&n!==void 0?n:null}get lastSelectedKey(){let t=null;for(let r of this.state.selectedKeys){let i=this.collection.getItem(r);(!t||i&&KN(this.collection,i,t)>0)&&(t=i)}var n;return(n=t==null?void 0:t.key)!==null&&n!==void 0?n:null}get disabledKeys(){return this.state.disabledKeys}get disabledBehavior(){return this.state.disabledBehavior}extendSelection(t){if(this.selectionMode==="none")return;if(this.selectionMode==="single"){this.replaceSelection(t);return}let n=this.getKey(t);if(n==null)return;let r;if(this.state.selectedKeys==="all")r=new Zf([n],n,n);else{let s=this.state.selectedKeys;var i;let a=(i=s.anchorKey)!==null&&i!==void 0?i:n;r=new Zf(s,a,n);var o;for(let l of this.getKeyRange(a,(o=s.currentKey)!==null&&o!==void 0?o:n))r.delete(l);for(let l of this.getKeyRange(n,a))this.canSelectItem(l)&&r.add(l)}this.state.setSelectedKeys(r)}getKeyRange(t,n){let r=this.collection.getItem(t),i=this.collection.getItem(n);return r&&i?KN(this.collection,r,i)<=0?this.getKeyRangeInternal(t,n):this.getKeyRangeInternal(n,t):[]}getKeyRangeInternal(t,n){var r;if(!((r=this.layoutDelegate)===null||r===void 0)&&r.getKeyRange)return this.layoutDelegate.getKeyRange(t,n);let i=[],o=t;for(;o!=null;){let s=this.collection.getItem(o);if(s&&(s.type==="item"||s.type==="cell"&&this.allowsCellSelection)&&i.push(o),o===n)return i;o=this.collection.getKeyAfter(o)}return[]}getKey(t){let n=this.collection.getItem(t);if(!n||n.type==="cell"&&this.allowsCellSelection)return t;for(;n&&n.type!=="item"&&n.parentKey!=null;)n=this.collection.getItem(n.parentKey);return!n||n.type!=="item"?null:n.key}toggleSelection(t){if(this.selectionMode==="none")return;if(this.selectionMode==="single"&&!this.isSelected(t)){this.replaceSelection(t);return}let n=this.getKey(t);if(n==null)return;let r=new Zf(this.state.selectedKeys==="all"?this.getSelectAllKeys():this.state.selectedKeys);r.has(n)?r.delete(n):this.canSelectItem(n)&&(r.add(n),r.anchorKey=n,r.currentKey=n),!(this.disallowEmptySelection&&r.size===0)&&this.state.setSelectedKeys(r)}replaceSelection(t){if(this.selectionMode==="none")return;let n=this.getKey(t);if(n==null)return;let r=this.canSelectItem(n)?new Zf([n],n,n):new Zf;this.state.setSelectedKeys(r)}setSelectedKeys(t){if(this.selectionMode==="none")return;let n=new Zf;for(let r of t){let i=this.getKey(r);if(i!=null&&(n.add(i),this.selectionMode==="single"))break}this.state.setSelectedKeys(n)}getSelectAllKeys(){let t=[],n=r=>{for(;r!=null;){if(this.canSelectItem(r)){var i;let s=this.collection.getItem(r);(s==null?void 0:s.type)==="item"&&t.push(r);var o;s!=null&&s.hasChildNodes&&(this.allowsCellSelection||s.type!=="item")&&n((o=(i=xYe(xwe(s,this.collection)))===null||i===void 0?void 0:i.key)!==null&&o!==void 0?o:null)}r=this.collection.getKeyAfter(r)}};return n(this.collection.getFirstKey()),t}selectAll(){!this.isSelectAll&&this.selectionMode==="multiple"&&this.state.setSelectedKeys("all")}clearSelection(){!this.disallowEmptySelection&&(this.state.selectedKeys==="all"||this.state.selectedKeys.size>0)&&this.state.setSelectedKeys(new Zf)}toggleSelectAll(){this.isSelectAll?this.clearSelection():this.selectAll()}select(t,n){this.selectionMode!=="none"&&(this.selectionMode==="single"?this.isSelected(t)&&!this.disallowEmptySelection?this.toggleSelection(t):this.replaceSelection(t):this.selectionBehavior==="toggle"||n&&(n.pointerType==="touch"||n.pointerType==="virtual")?this.toggleSelection(t):this.replaceSelection(t))}isSelectionEqual(t){if(t===this.state.selectedKeys)return!0;let n=this.selectedKeys;if(t.size!==n.size)return!1;for(let r of t)if(!n.has(r))return!1;for(let r of n)if(!t.has(r))return!1;return!0}canSelectItem(t){var n;if(this.state.selectionMode==="none"||this.state.disabledKeys.has(t))return!1;let r=this.collection.getItem(t);return!(!r||!(r==null||(n=r.props)===null||n===void 0)&&n.isDisabled||r.type==="cell"&&!this.allowsCellSelection)}isDisabled(t){var n,r;return this.state.disabledBehavior==="all"&&(this.state.disabledKeys.has(t)||!!(!((r=this.collection.getItem(t))===null||r===void 0||(n=r.props)===null||n===void 0)&&n.isDisabled))}isLink(t){var n,r;return!!(!((r=this.collection.getItem(t))===null||r===void 0||(n=r.props)===null||n===void 0)&&n.href)}getItemProps(t){var n;return(n=this.collection.getItem(t))===null||n===void 0?void 0:n.props}withCollection(t){return new TT(t,this.state,{allowsCellSelection:this.allowsCellSelection,layoutDelegate:this.layoutDelegate||void 0})}constructor(t,n,r){this.collection=t,this.state=n;var i;this.allowsCellSelection=(i=r==null?void 0:r.allowsCellSelection)!==null&&i!==void 0?i:!1,this._isSelectAll=null,this.layoutDelegate=(r==null?void 0:r.layoutDelegate)||null}}function EX(e){let{filter:t,layoutDelegate:n}=e,r=CX(e),i=h.useMemo(()=>e.disabledKeys?new Set(e.disabledKeys):new Set,[e.disabledKeys]),o=h.useCallback(u=>t?new sse(t(u)):new sse(u),[t]),s=h.useMemo(()=>({suppressTextValueWarning:e.suppressTextValueWarning}),[e.suppressTextValueWarning]),a=wwe(e,o,s),l=h.useMemo(()=>new TT(a,r,{layoutDelegate:n}),[a,r,n]);return Uxe(a,l),{collection:a,disabledKeys:i,selectionManager:l}}function JYe(e,t){let n=h.useMemo(()=>t?e.collection.UNSTABLE_filter(t):e.collection,[e.collection,t]),r=e.selectionManager.withCollection(n);return Uxe(n,r),{collection:n,selectionManager:r,disabledKeys:e.disabledKeys}}function Uxe(e,t){const n=h.useRef(null);h.useEffect(()=>{if(t.focusedKey!=null&&!e.getItem(t.focusedKey)&&n.current){const c=n.current.getItem(t.focusedKey),f=[...n.current.getKeys()].map(C=>{const _=n.current.getItem(C);return(_==null?void 0:_.type)==="item"?_:null}).filter(C=>C!==null),p=[...e.getKeys()].map(C=>{const _=e.getItem(C);return(_==null?void 0:_.type)==="item"?_:null}).filter(C=>C!==null);var r,i;const g=((r=f==null?void 0:f.length)!==null&&r!==void 0?r:0)-((i=p==null?void 0:p.length)!==null&&i!==void 0?i:0);var o,s,a;let v=Math.min(g>1?Math.max(((o=c==null?void 0:c.index)!==null&&o!==void 0?o:0)-g+1,0):(s=c==null?void 0:c.index)!==null&&s!==void 0?s:0,((a=p==null?void 0:p.length)!==null&&a!==void 0?a:0)-1),y=null,S=!1;for(;v>=0;){if(!t.isDisabled(p[v].key)){y=p[v];break}if(v<p.length-1&&!S)v++;else{S=!0;var l,u;v>((l=c==null?void 0:c.index)!==null&&l!==void 0?l:0)&&(v=(u=c==null?void 0:c.index)!==null&&u!==void 0?u:0),v--}}t.setFocusedKey(y?y.key:null)}n.current=e},[e,t])}function eXe(e){var t;let[n,r]=X0(e.selectedKey,(t=e.defaultSelectedKey)!==null&&t!==void 0?t:null,e.onSelectionChange),i=h.useMemo(()=>n!=null?[n]:[],[n]),{collection:o,disabledKeys:s,selectionManager:a}=EX({...e,selectionMode:"single",disallowEmptySelection:!0,allowDuplicateSelectionEvents:!0,selectedKeys:i,onSelectionChange:u=>{if(u==="all")return;var c;let f=(c=u.values().next().value)!==null&&c!==void 0?c:null;f===n&&e.onSelectionChange&&e.onSelectionChange(f),r(f)}}),l=n!=null?o.getItem(n):null;return{collection:o,disabledKeys:s,selectionManager:a,selectedKey:n,setSelectedKey:r,selectedItem:l}}function Wxe(e){let[t,n]=X0(e.isOpen,e.defaultOpen||!1,e.onOpenChange);const r=h.useCallback(()=>{n(!0)},[n]),i=h.useCallback(()=>{n(!1)},[n]),o=h.useCallback(()=>{n(!t)},[n,t]);return{isOpen:t,setOpen:n,open:r,close:i,toggle:o}}function kX(e){let t=Wxe(e),[n,r]=h.useState(null),[i,o]=h.useState([]),s=()=>{o([]),t.close()};return{focusStrategy:n,...t,open(u=null){r(u),t.open()},toggle(u=null){r(u),t.toggle()},close(){s()},expandedKeysStack:i,openSubmenu:(u,c)=>{o(f=>c>f.length?f:[...f.slice(0,c),u])},closeSubmenu:(u,c)=>{o(f=>f[c]===u?f.slice(0,c):f)}}}let tXe=Math.round(Math.random()*1e10),nXe=0;function rXe(e){let t=h.useMemo(()=>e.name||`radio-group-${tXe}-${++nXe}`,[e.name]);var n;let[r,i]=X0(e.value,(n=e.defaultValue)!==null&&n!==void 0?n:null,e.onChange),[o,s]=h.useState(null),a=SO({...e,value:r}),l=c=>{!e.isReadOnly&&!e.isDisabled&&(i(c),a.commitValidation())},u=a.displayValidation.isInvalid;return{...a,name:t,selectedValue:r,setSelectedValue:l,lastFocusedValue:o,setLastFocusedValue:s,isDisabled:e.isDisabled||!1,isReadOnly:e.isReadOnly||!1,isRequired:e.isRequired||!1,validationState:e.validationState||(u?"invalid":null),isInvalid:u}}function iXe(e){var t,n;let r=eXe({...e,suppressTextValueWarning:!0,defaultSelectedKey:(n=(t=e.defaultSelectedKey)!==null&&t!==void 0?t:lse(e.collection,e.disabledKeys?new Set(e.disabledKeys):new Set))!==null&&n!==void 0?n:void 0}),{selectionManager:i,collection:o,selectedKey:s}=r,a=h.useRef(s);return h.useEffect(()=>{let l=s;e.selectedKey==null&&(i.isEmpty||l==null||!o.getItem(l))&&(l=lse(o,r.disabledKeys),l!=null&&i.setSelectedKeys([l])),(l!=null&&i.focusedKey==null||!i.isFocused&&l!==a.current)&&i.setFocusedKey(l),a.current=l}),{...r,isDisabled:e.isDisabled||!1}}function lse(e,t){let n=null;if(e){var r,i,o,s;for(n=e.getFirstKey();n!=null&&(t.has(n)||!((i=e.getItem(n))===null||i===void 0||(r=i.props)===null||r===void 0)&&r.isDisabled)&&n!==e.getLastKey();)n=e.getKeyAfter(n);n!=null&&(t.has(n)||!((s=e.getItem(n))===null||s===void 0||(o=s.props)===null||o===void 0)&&o.isDisabled)&&n===e.getLastKey()&&(n=e.getFirstKey())}return n}class oXe{*[Symbol.iterator](){yield*this.iterable}get size(){return this.keyMap.size}getKeys(){return this.keyMap.keys()}getKeyBefore(t){let n=this.keyMap.get(t);var r;return n&&(r=n.prevKey)!==null&&r!==void 0?r:null}getKeyAfter(t){let n=this.keyMap.get(t);var r;return n&&(r=n.nextKey)!==null&&r!==void 0?r:null}getFirstKey(){return this.firstKey}getLastKey(){return this.lastKey}getItem(t){var n;return(n=this.keyMap.get(t))!==null&&n!==void 0?n:null}at(t){const n=[...this.getKeys()];return this.getItem(n[t])}constructor(t,{expandedKeys:n}={}){this.keyMap=new Map,this.firstKey=null,this.lastKey=null,this.iterable=t,n=n||new Set;let r=a=>{if(this.keyMap.set(a.key,a),a.childNodes&&(a.type==="section"||n.has(a.key)))for(let l of a.childNodes)r(l)};for(let a of t)r(a);let i=null,o=0;for(let[a,l]of this.keyMap)i?(i.nextKey=a,l.prevKey=i.key):(this.firstKey=a,l.prevKey=void 0),l.type==="item"&&(l.index=o++),i=l,i.nextKey=void 0;var s;this.lastKey=(s=i==null?void 0:i.key)!==null&&s!==void 0?s:null}}function sXe(e){let{onExpandedChange:t}=e,[n,r]=X0(e.expandedKeys?new Set(e.expandedKeys):void 0,e.defaultExpandedKeys?new Set(e.defaultExpandedKeys):new Set,t),i=CX(e),o=h.useMemo(()=>e.disabledKeys?new Set(e.disabledKeys):new Set,[e.disabledKeys]),s=wwe(e,h.useCallback(l=>new oXe(l,{expandedKeys:n}),[n]),null);return h.useEffect(()=>{i.focusedKey!=null&&!s.getItem(i.focusedKey)&&i.setFocusedKey(null)},[s,i.focusedKey]),{collection:s,expandedKeys:n,disabledKeys:o,toggleKey:l=>{r(aXe(n,l))},setExpandedKeys:r,selectionManager:new TT(s,i)}}function aXe(e,t){let n=new Set(e);return n.has(t)?n.delete(t):n.add(t),n}const g4=h.createContext(null),lXe=h.forwardRef(function(t,n){[t,n]=Sa(t,n,g4);let{validationErrors:r,validationBehavior:i="native",children:o,className:s,...a}=t;return ne.createElement("form",{noValidate:i!=="native",...a,ref:n,className:s||"react-aria-Form"},ne.createElement(g4.Provider,{value:{...t,validationBehavior:i}},ne.createElement($be.Provider,{value:r??{}},o)))}),uXe=h.createContext(null),Kxe=h.createContext({});let cXe=e=>{let{onHoverStart:t,onHoverChange:n,onHoverEnd:r,...i}=e;return i};const dXe=h.forwardRef(function(t,n){[t,n]=Sa(t,n,Kxe);let{hoverProps:r,isHovered:i}=ud(t),{isFocused:o,isFocusVisible:s,focusProps:a}=pf({isTextInput:!0,autoFocus:t.autoFocus}),l=!!t["aria-invalid"]&&t["aria-invalid"]!=="false",u=Oo({...t,values:{isHovered:i,isFocused:o,isFocusVisible:s,isDisabled:t.disabled||!1,isInvalid:l},defaultClassName:"react-aria-TextArea"});return ne.createElement("textarea",{...un(cXe(t),a,r),...u,ref:n,"data-focused":o||void 0,"data-disabled":t.disabled||void 0,"data-hovered":i||void 0,"data-focus-visible":s||void 0,"data-invalid":l||void 0})}),qxe=h.createContext(null),fXe=ET(function(t,n){[t,n]=Sa(t,n,qxe);let{validationBehavior:r}=wx(g4)||{};var i,o;let s=(o=(i=t.validationBehavior)!==null&&i!==void 0?i:r)!==null&&o!==void 0?o:"native",a=h.useRef(null),[l,u]=Sa({},a,PR),[c,f]=mO(!t["aria-label"]&&!t["aria-labelledby"]),[p,g]=h.useState("input"),{labelProps:v,inputProps:y,descriptionProps:S,errorMessageProps:C,..._}=BZe({...d4(t),inputElementType:p,label:f,validationBehavior:s},u),k=h.useCallback(M=>{u.current=M,M&&g(M instanceof HTMLTextAreaElement?"textarea":"input")},[u]),w=Oo({...t,values:{isDisabled:t.isDisabled||!1,isInvalid:_.isInvalid,isReadOnly:t.isReadOnly||!1,isRequired:t.isRequired||!1},defaultClassName:"react-aria-TextField"}),P=Mi(t);return delete P.id,ne.createElement("div",{...P,...w,ref:n,slot:t.slot||void 0,"data-disabled":t.isDisabled||void 0,"data-invalid":_.isInvalid||void 0,"data-readonly":t.isReadOnly||void 0,"data-required":t.isRequired||void 0},ne.createElement(gu,{values:[[SX,{...v,ref:c}],[PR,{...un(y,l),ref:k}],[Kxe,{...y,ref:k}],[$T,{slots:{description:S,errorMessage:C}}],[Vxe,_]]},w.children))});var Gxe={};Gxe={collectionLabel:""};var Zxe={};Zxe={collectionLabel:""};var Yxe={};Yxe={collectionLabel:"Nvrhy"};var Xxe={};Xxe={collectionLabel:"Forslag"};var Qxe={};Qxe={collectionLabel:"Empfehlungen"};var Jxe={};Jxe={collectionLabel:""};var eSe={};eSe={collectionLabel:"Suggestions"};var tSe={};tSe={collectionLabel:"Sugerencias"};var nSe={};nSe={collectionLabel:"Soovitused"};var rSe={};rSe={collectionLabel:"Ehdotukset"};var iSe={};iSe={collectionLabel:"Suggestions"};var oSe={};oSe={collectionLabel:""};var sSe={};sSe={collectionLabel:"Prijedlozi"};var aSe={};aSe={collectionLabel:"Javaslatok"};var lSe={};lSe={collectionLabel:"Suggerimenti"};var uSe={};uSe={collectionLabel:""};var cSe={};cSe={collectionLabel:""};var dSe={};dSe={collectionLabel:"Pasilymai"};var fSe={};fSe={collectionLabel:"Ieteikumi"};var hSe={};hSe={collectionLabel:"Forslag"};var pSe={};pSe={collectionLabel:"Suggesties"};var mSe={};mSe={collectionLabel:"Sugestie"};var gSe={};gSe={collectionLabel:"Sugestes"};var vSe={};vSe={collectionLabel:"Sugestes"};var ySe={};ySe={collectionLabel:"Sugestii"};var bSe={};bSe={collectionLabel:""};var wSe={};wSe={collectionLabel:"Nvrhy"};var xSe={};xSe={collectionLabel:"Predlogi"};var SSe={};SSe={collectionLabel:"Predlozi"};var _Se={};_Se={collectionLabel:"Frslag"};var CSe={};CSe={collectionLabel:"neriler"};var ESe={};ESe={collectionLabel:""};var kSe={};kSe={collectionLabel:""};var PSe={};PSe={collectionLabel:""};var $Se={};$Se={"ar-AE":Gxe,"bg-BG":Zxe,"cs-CZ":Yxe,"da-DK":Xxe,"de-DE":Qxe,"el-GR":Jxe,"en-US":eSe,"es-ES":tSe,"et-EE":nSe,"fi-FI":rSe,"fr-FR":iSe,"he-IL":oSe,"hr-HR":sSe,"hu-HU":aSe,"it-IT":lSe,"ja-JP":uSe,"ko-KR":cSe,"lt-LT":dSe,"lv-LV":fSe,"nb-NO":hSe,"nl-NL":pSe,"pl-PL":mSe,"pt-BR":gSe,"pt-PT":vSe,"ro-RO":ySe,"ru-RU":bSe,"sk-SK":wSe,"sl-SI":xSe,"sr-SP":SSe,"sv-SE":_Se,"tr-TR":CSe,"uk-UA":ESe,"zh-CN":kSe,"zh-TW":PSe};function hXe(e){return e&&e.__esModule?e.default:e}function pXe(e,t){let{inputRef:n,collectionRef:r,filter:i,disableAutoFocusFirst:o=!1}=e,s=Ds(),a=h.useRef(void 0),l=h.useRef(!1),u=h.useRef(null),c=h.useRef(null),f=p4()!=="virtual";h.useEffect(()=>()=>clearTimeout(a.current),[]);let p=Lo(z=>{!z.isTrusted&&f&&n.current&&Js(vi(n.current))!==n.current&&n.current.focus();let G=z.target;z.isTrusted||!G||u.current===G.id||(clearTimeout(a.current),G!==r.current?l.current?(u.current=G.id,a.current=setTimeout(()=>{t.setFocusedNodeId(G.id)},500)):(u.current=G.id,t.setFocusedNodeId(G.id)):(u.current=null,t.setFocusedNodeId(null)),l.current=!1)}),g=h.useCallback(z=>{var G;if(z!=null){var ee;(ee=c.current)===null||ee===void 0||ee.removeEventListener("focusin",p),c.current=z,z.addEventListener("focusin",p)}else(G=c.current)===null||G===void 0||G.removeEventListener("focusin",p)},[p]),v=mu(h.useMemo(()=>t3(r,g),[r,g])),y=Lo(()=>{var z;l.current=!0,(z=r.current)===null||z===void 0||z.dispatchEvent(new CustomEvent(IV,{cancelable:!0,bubbles:!0,detail:{focusStrategy:"first"}}))}),S=Lo(z=>{var G;gX(Js()),u.current=null,t.setFocusedNodeId(null);let ee=new CustomEvent(J1e,{cancelable:!0,bubbles:!0,detail:{clearFocusKey:z}});clearTimeout(a.current),l.current=!1,(G=r.current)===null||G===void 0||G.dispatchEvent(ee)}),C=z=>{t.inputValue!==z&&t.inputValue.length<=z.length&&!o?y():S(!0),t.setInputValue(z)},_=h.useRef(null),k=z=>{var G;if(_.current=z.target,z.nativeEvent.isComposing)return;let ee=u.current;switch(z.key){case"a":if(sb(z))return;break;case"Escape":if(z.isDefaultPrevented())return;break;case" ":return;case"Tab":"continuePropagation"in z&&z.continuePropagation();return;case"Home":case"End":case"PageDown":case"PageUp":case"ArrowUp":case"ArrowDown":{var X;if((z.key==="Home"||z.key==="End")&&ee==null&&z.shiftKey)return;z.preventDefault();let B=new CustomEvent(IV,{cancelable:!0,bubbles:!0});(X=r.current)===null||X===void 0||X.dispatchEvent(B);break}}z.isPropagationStopped()||z.stopPropagation();let se=!0;if(ee==null)se=((G=r.current)===null||G===void 0?void 0:G.dispatchEvent(new KeyboardEvent(z.nativeEvent.type,z.nativeEvent)))||!1;else{let B=document.getElementById(ee);se=(B==null?void 0:B.dispatchEvent(new KeyboardEvent(z.nativeEvent.type,z.nativeEvent)))||!1}if(se)switch(z.key){case"ArrowLeft":case"ArrowRight":S();break}},w=Lo(z=>{if(z.target===_.current){var G;z.stopImmediatePropagation();let ee=u.current;if(ee==null)(G=r.current)===null||G===void 0||G.dispatchEvent(new KeyboardEvent(z.type,z));else{let X=document.getElementById(ee);X==null||X.dispatchEvent(new KeyboardEvent(z.type,z))}}});h.useEffect(()=>(document.addEventListener("keyup",w,!0),()=>{document.removeEventListener("keyup",w,!0)}),[w]);let P=n3(hXe($Se),"@react-aria/autocomplete"),M=CT({id:s,"aria-label":P.format("collectionLabel")}),R=h.useCallback(z=>i?i(z,t.inputValue):!0,[t.inputValue,i]),D=z=>{if(!z.isTrusted)return;let G=u.current?document.getElementById(u.current):null;G&&UV(G,z.relatedTarget)},H=z=>{if(!z.isTrusted)return;let G=u.current?document.getElementById(u.current):null;if(G){let ee=z.target;queueMicrotask(()=>{UV(ee,G),Cbe(G,ee)})}};var O;return{textFieldProps:{value:t.inputValue,onChange:C,onKeyDown:k,autoComplete:"off","aria-haspopup":"listbox","aria-controls":s,"aria-autocomplete":"list","aria-activedescendant":(O=t.focusedNodeId)!==null&&O!==void 0?O:void 0,autoCorrect:"off",spellCheck:"false",enterKeyHint:"go",onBlur:D,onFocus:H},collectionProps:un(M,{shouldUseVirtualFocus:f,disallowTypeAhead:!0}),collectionRef:v,filter:i!=null?R:void 0}}function mXe(e){let{onInputChange:t,inputValue:n,defaultInputValue:r=""}=e,i=u=>{t&&t(u)},[o,s]=h.useState(null),[a,l]=X0(n,r,i);return{inputValue:a,setInputValue:l,focusedNodeId:o,setFocusedNodeId:s}}const gXe=h.createContext(null),vXe=h.createContext(null),$R=h.createContext(null);function yXe(e){let t=wx(gXe,e.slot);e=un(t,e);let{filter:n,disableAutoFocusFirst:r}=e,i=mXe(e),o=h.useRef(null),s=h.useRef(null),{textFieldProps:a,collectionProps:l,collectionRef:u,filter:c}=pXe({...d4(e),filter:n,disableAutoFocusFirst:r,inputRef:o,collectionRef:s},i);return ne.createElement(gu,{values:[[vXe,i],[uXe,a],[qxe,a],[PR,{ref:o}],[$R,{filter:c,collectionProps:l,collectionRef:u}]]},e.children)}const TSe=h.createContext(null),PX={CollectionRoot({collection:e,renderDropIndicator:t}){return use(e,null,t)},CollectionBranch({collection:e,parent:t,renderDropIndicator:n}){return use(e,t,n)}};function use(e,t,n){return rbe({items:t?e.getChildren(t.key):e,dependencies:[n],children(r){var i;let o=r.render(r);if(!n||r.type!=="item")return o;let s=r.key,a=e.getKeyAfter(s);return ne.createElement(ne.Fragment,null,n({type:"item",key:s,dropPosition:"before"}),o,(a==null||((i=e.getItem(a))===null||i===void 0?void 0:i.type)!=="item")&&n({type:"item",key:s,dropPosition:"after"}))}})}const Ap=h.createContext(PX);function MSe(e){return h.useMemo(()=>e!=null?new Set([e]):null,[e])}const bXe=h.createContext(null),wXe=h.forwardRef(function(t,n){let{inputRef:r=null,...i}=t;[t,n]=Sa(i,n,U1e);let{validationBehavior:o}=wx(g4)||{};var s,a;let l=(a=(s=t.validationBehavior)!==null&&s!==void 0?s:o)!==null&&a!==void 0?a:"native",u=h.useContext(bXe),c=mu(t3(r,t.inputRef!==void 0?t.inputRef:null)),{labelProps:f,inputProps:p,isSelected:g,isDisabled:v,isReadOnly:y,isPressed:S,isInvalid:C}=u?FZe({...d4(t),value:t.value,children:typeof t.children=="function"?!0:t.children},u,c):Tbe({...d4(t),children:typeof t.children=="function"?!0:t.children,validationBehavior:l},Abe(t),c),{isFocused:_,isFocusVisible:k,focusProps:w}=pf(),P=v||y,{hoverProps:M,isHovered:R}=ud({...t,isDisabled:P}),D=Oo({...t,defaultClassName:"react-aria-Checkbox",values:{isSelected:g,isIndeterminate:t.isIndeterminate||!1,isPressed:S,isHovered:R,isFocused:_,isFocusVisible:k,isDisabled:v,isReadOnly:y,isInvalid:C,isRequired:t.isRequired||!1}}),H=Mi(t);return delete H.id,ne.createElement("label",{...un(H,f,M,D),ref:n,slot:t.slot||void 0,"data-selected":g||void 0,"data-indeterminate":t.isIndeterminate||void 0,"data-pressed":S||void 0,"data-hovered":R||void 0,"data-focused":_||void 0,"data-focus-visible":k||void 0,"data-disabled":v||void 0,"data-readonly":y||void 0,"data-invalid":C||void 0,"data-required":t.isRequired||void 0},ne.createElement(yX,{elementType:"span"},ne.createElement("input",{...un(p,w),ref:c})),D.children)}),Q0=h.createContext({}),$X=h.createContext(null),xXe=h.forwardRef(function(t,n){let{render:r}=h.useContext($X);return ne.createElement(ne.Fragment,null,r(t,n))});function TX(e,t){var n;let r=e==null?void 0:e.renderDropIndicator,i=e==null||(n=e.isVirtualDragging)===null||n===void 0?void 0:n.call(e),o=h.useCallback(s=>{if(i||t!=null&&t.isDropTarget(s))return r?r(s):ne.createElement(xXe,{target:s})},[t==null?void 0:t.target,i,r]);return e!=null&&e.useDropIndicator?o:void 0}function LSe(e,t,n){var r,i;let o=e.focusedKey,s=null;if(!(t==null||(r=t.isVirtualDragging)===null||r===void 0)&&r.call(t)&&(n==null||(i=n.target)===null||i===void 0?void 0:i.type)==="item"){s=n.target.key;var a;n.target.dropPosition==="after"&&(s=(a=n.collection.getKeyAfter(s))!==null&&a!==void 0?a:s)}return h.useMemo(()=>new Set([o,s].filter(l=>l!=null)),[o,s])}const ASe=h.createContext({}),ISe=h.createContext({}),RSe=h.createContext(null),Xw=h.createContext(null),DSe=h.forwardRef(function(t,n){[t,n]=Sa(t,n,RSe);let r=h.useContext(Xw);return r?ne.createElement(OSe,{state:r,props:t,listBoxRef:n}):ne.createElement(vO,{content:ne.createElement(bO,t)},i=>ne.createElement(SXe,{props:t,listBoxRef:n,collection:i}))});function SXe({props:e,listBoxRef:t,collection:n}){e={...e,collection:n,children:null,items:null};let{layoutDelegate:r}=h.useContext(Ap),i=EX({...e,layoutDelegate:r});return ne.createElement(OSe,{state:i,props:e,listBoxRef:t})}function OSe({state:e,props:t,listBoxRef:n}){let{filter:r,collectionProps:i,collectionRef:o}=h.useContext($R)||{};t=h.useMemo(()=>i?{...t,...i}:t,[t,i]);let{dragAndDropHooks:s,layout:a="stack",orientation:l="vertical"}=t;n=mu(h.useMemo(()=>t3(n,o!==void 0?o:null),[o,n]));let u=JYe(e,r),{collection:c,selectionManager:f}=u,p=!!(s!=null&&s.useDraggableCollectionState),g=!!(s!=null&&s.useDroppableCollectionState),{direction:v}=bh(),{disabledBehavior:y,disabledKeys:S}=f,C=pX({usage:"search",sensitivity:"base"}),{isVirtualized:_,layoutDelegate:k,dropTargetDelegate:w,CollectionRoot:P}=h.useContext(Ap),M=h.useMemo(()=>t.keyboardDelegate||new ER({collection:c,collator:C,ref:n,disabledKeys:S,disabledBehavior:y,layout:a,orientation:l,direction:v,layoutDelegate:k}),[c,C,n,y,S,l,v,t.keyboardDelegate,a,k]),{listBoxProps:R}=yYe({...t,shouldSelectOnPressUp:p||t.shouldSelectOnPressUp,keyboardDelegate:M,isVirtualized:_},u,n);h.useRef(p),h.useRef(g),h.useEffect(()=>{},[p,g]);let D,H,O,z=!1,G=null,ee=h.useRef(null);if(p&&s){D=s.useDraggableCollectionState({collection:c,selectionManager:f,preview:s.renderDragPreview?ee:void 0}),s.useDraggableCollection({},D,n);let J=s.DragPreview;G=s.renderDragPreview?ne.createElement(J,{ref:ee},s.renderDragPreview):null}if(g&&s){H=s.useDroppableCollectionState({collection:c,selectionManager:f});let J=s.dropTargetDelegate||w||new s.ListDropTargetDelegate(c,n,{orientation:l,layout:a,direction:v});O=s.useDroppableCollection({keyboardDelegate:M,dropTargetDelegate:J},H,n),z=H.isDropTarget({type:"root"})}let{focusProps:X,isFocused:se,isFocusVisible:B}=pf(),q={isDropTarget:z,isEmpty:u.collection.size===0,isFocused:se,isFocusVisible:B,layout:t.layout||"stack",state:u},U=Oo({className:t.className,style:t.style,defaultClassName:"react-aria-ListBox",values:q}),K=null;return u.collection.size===0&&t.renderEmptyState&&(K=ne.createElement("div",{role:"option",style:{display:"contents"}},t.renderEmptyState(q))),ne.createElement(xO,null,ne.createElement("div",{...Mi(t),...un(R,X,O==null?void 0:O.collectionProps),...U,ref:n,slot:t.slot||void 0,onScroll:t.onScroll,"data-drop-target":z||void 0,"data-empty":u.collection.size===0||void 0,"data-focused":se||void 0,"data-focus-visible":B||void 0,"data-layout":t.layout||"stack","data-orientation":t.orientation||"vertical"},ne.createElement(gu,{values:[[RSe,t],[Xw,u],[Q0,{dragAndDropHooks:s,dragState:D,dropState:H}],[ISe,{elementType:"div"}],[$X,{render:CXe}],[TSe,{name:"ListBoxSection",render:_Xe}]]},ne.createElement(P,{collection:c,scrollRef:n,persistedKeys:LSe(f,s,H),renderDropIndicator:TX(s,H)})),K,G))}function _Xe(e,t,n,r="react-aria-ListBoxSection"){let i=h.useContext(Xw),{dragAndDropHooks:o,dropState:s}=h.useContext(Q0),{CollectionBranch:a}=h.useContext(Ap),[l,u]=mO();var c;let{headingProps:f,groupProps:p}=EYe({heading:u,"aria-label":(c=e["aria-label"])!==null&&c!==void 0?c:void 0}),g=Oo({defaultClassName:r,className:e.className,style:e.style,values:{}});return ne.createElement("section",{...Mi(e),...p,...g,ref:t},ne.createElement(ASe.Provider,{value:{...f,ref:l}},ne.createElement(a,{collection:i.collection,parent:n,renderDropIndicator:TX(o,s)})))}const jSe=yO("item",function(t,n,r){let i=mu(n),o=h.useContext(Xw),{dragAndDropHooks:s,dragState:a,dropState:l}=h.useContext(Q0),{optionProps:u,labelProps:c,descriptionProps:f,...p}=CYe({key:r.key,"aria-label":t==null?void 0:t["aria-label"]},o,i),{hoverProps:g,isHovered:v}=ud({isDisabled:!p.allowsSelection&&!p.hasAction,onHoverStart:r.props.onHoverStart,onHoverChange:r.props.onHoverChange,onHoverEnd:r.props.onHoverEnd}),y=null;a&&s&&(y=s.useDraggableItem({key:r.key},a));let S=null;l&&s&&(S=s.useDroppableItem({target:{type:"item",key:r.key,dropPosition:"on"}},l,i));let C=a&&a.isDragging(r.key),_=Oo({...t,id:void 0,children:t.children,defaultClassName:"react-aria-ListBoxItem",values:{...p,isHovered:v,selectionMode:o.selectionManager.selectionMode,selectionBehavior:o.selectionManager.selectionBehavior,allowsDragging:!!a,isDragging:C,isDropTarget:S==null?void 0:S.isDropTarget}});h.useEffect(()=>{r.textValue},[r.textValue]);let k=t.href?"a":"div";return ne.createElement(k,{...un(u,g,y==null?void 0:y.dragProps,S==null?void 0:S.dropProps),..._,ref:i,"data-allows-dragging":!!a||void 0,"data-selected":p.isSelected||void 0,"data-disabled":p.isDisabled||void 0,"data-hovered":v||void 0,"data-focused":p.isFocused||void 0,"data-focus-visible":p.isFocusVisible||void 0,"data-pressed":p.isPressed||void 0,"data-dragging":C||void 0,"data-drop-target":(S==null?void 0:S.isDropTarget)||void 0,"data-selection-mode":o.selectionManager.selectionMode==="none"?void 0:o.selectionManager.selectionMode},ne.createElement(gu,{values:[[$T,{slots:{[_0]:c,label:c,description:f}}]]},_.children))});function CXe(e,t){t=mu(t);let{dragAndDropHooks:n,dropState:r}=h.useContext(Q0),{dropIndicatorProps:i,isHidden:o,isDropTarget:s}=n.useDropIndicator(e,r,t);return o?null:ne.createElement(kXe,{...e,dropIndicatorProps:i,isDropTarget:s,ref:t})}function EXe(e,t){let{dropIndicatorProps:n,isDropTarget:r,...i}=e,o=Oo({...i,defaultClassName:"react-aria-DropIndicator",values:{isDropTarget:r}});return ne.createElement("div",{...n,...o,role:"option",ref:t,"data-drop-target":r||void 0})}const kXe=h.forwardRef(EXe),PXe=h.createContext({placement:"bottom"}),MX=h.createContext(null),cse=h.createContext(null),MT=h.forwardRef(function(t,n){[t,n]=Sa(t,n,MX);let r=h.useContext(PO),i=Wxe(t),o=t.isOpen!=null||t.defaultOpen!=null||!r?i:r,s=hGe(n,o.isOpen)||t.isExiting||!1,a=bGe(),{direction:l}=bh();if(a){let u=t.children;return typeof u=="function"&&(u=u({trigger:t.trigger||null,placement:"bottom",isEntering:!1,isExiting:!1,defaultChildren:null})),ne.createElement(ne.Fragment,null,u)}return o&&!o.isOpen&&!s?null:ne.createElement($Xe,{...t,triggerRef:t.triggerRef,state:o,popoverRef:n,isExiting:s,dir:l})});function $Xe({state:e,isExiting:t,UNSTABLE_portalContainer:n,...r}){let i=h.useRef(null),[o,s]=h.useState(0),a=h.useRef(null),l=h.useContext(cse),u=l&&r.trigger==="SubmenuTrigger";Yr(()=>{i.current&&e.isOpen&&s(i.current.getBoundingClientRect().width)},[e.isOpen,i]);var c;let{popoverProps:f,underlayProps:p,arrowProps:g,placement:v}=uYe({...r,offset:(c=r.offset)!==null&&c!==void 0?c:8,arrowSize:o,groupRef:u?l:a},e),y=r.popoverRef,S=fGe(y,!!v)||r.isEntering||!1,C=Oo({...r,defaultClassName:"react-aria-Popover",values:{trigger:r.trigger||null,placement:v,isEntering:S,isExiting:t}}),_=!r.isNonModal||r.trigger==="SubmenuTrigger",[k,w]=h.useState(!1);Yr(()=>{y.current&&w(_&&!y.current.querySelector("[role=dialog]"))},[y,_]),h.useEffect(()=>{k&&y.current&&!y.current.contains(document.activeElement)&&Jl(y.current)},[k,y]);let P={...f.style,...C.style},M=ne.createElement("div",{...un(Mi(r),f),...C,role:k?"dialog":void 0,tabIndex:k?-1:void 0,"aria-label":r["aria-label"],"aria-labelledby":r["aria-labelledby"],ref:y,slot:r.slot||void 0,style:P,dir:r.dir,"data-trigger":r.trigger,"data-placement":v,"data-entering":S||void 0,"data-exiting":t||void 0},!r.isNonModal&&ne.createElement(Zoe,{onDismiss:e.close}),ne.createElement(PXe.Provider,{value:{...g,placement:v,ref:i}},C.children),ne.createElement(Zoe,{onDismiss:e.close}));if(!u)return ne.createElement(Yoe,{...r,shouldContainFocus:k,isExiting:t,portalContainer:n},!r.isNonModal&&e.isOpen&&ne.createElement("div",{"data-testid":"underlay",...p,style:{position:"fixed",inset:0}}),ne.createElement("div",{ref:a,style:{display:"contents"}},ne.createElement(cse.Provider,{value:a},M)));var R;return ne.createElement(Yoe,{...r,shouldContainFocus:k,isExiting:t,portalContainer:(R=n??(l==null?void 0:l.current))!==null&&R!==void 0?R:void 0},M)}const TXe=h.createContext({}),NSe=h.createContext(null),LX=h.createContext(null),TR=h.createContext(null),MR=h.createContext(null);function kO(e){let t=kX(e),n=h.useRef(null),{menuTriggerProps:r,menuProps:i}=PYe({...e,type:"menu"},t,n),[o,s]=h.useState(null),a=h.useCallback(()=>{n.current&&s(n.current.offsetWidth+"px")},[n]);AV({ref:n,onResize:a});let l=h.useRef(null);return ne.createElement(gu,{values:[[NSe,{...i,ref:l}],[PO,t],[TR,t],[MX,{trigger:"MenuTrigger",triggerRef:n,scrollRef:l,placement:"bottom start",style:{"--trigger-width":o},"aria-labelledby":i["aria-labelledby"]}]]},ne.createElement(hbe,{...r,ref:n,isPressed:t.isOpen},e.children))}const MXe=h.createContext(null),LT=h.forwardRef(function(t,n){return[t,n]=Sa(t,n,NSe),ne.createElement(vO,{content:ne.createElement(bO,t)},r=>ne.createElement(LXe,{props:t,collection:r,menuRef:n}))});function LXe({props:e,collection:t,menuRef:n}){let{filter:r,collectionProps:i,collectionRef:o}=h.useContext($R)||{};n=mu(h.useMemo(()=>t3(n,o!==void 0?o:null),[o,n]));let s=h.useMemo(()=>r?t.UNSTABLE_filter(r):t,[t,r]),a=sXe({...e,collection:s,children:void 0}),l=h.useContext(TR),{isVirtualized:u,CollectionRoot:c}=h.useContext(Ap),{menuProps:f}=$Ye({...e,...i,isVirtualized:u,onClose:e.onClose||(l==null?void 0:l.close)},a,n),p=Oo({defaultClassName:"react-aria-Menu",className:e.className,style:e.style,values:{isEmpty:a.collection.size===0}}),g=null;return a.collection.size===0&&e.renderEmptyState&&(g=ne.createElement("div",{role:"menuitem",style:{display:"contents"}},e.renderEmptyState())),ne.createElement(xO,null,ne.createElement("div",{...Mi(e),...f,...p,ref:n,slot:e.slot||void 0,"data-empty":a.collection.size===0||void 0,onScroll:e.onScroll},ne.createElement(gu,{values:[[LX,a],[ISe,{elementType:"div"}],[TSe,{name:"MenuSection",render:IXe}],[MXe,{parentMenuRef:n,shouldUseVirtualFocus:i==null?void 0:i.shouldUseVirtualFocus}],[YV,null],[$R,null],[MR,a.selectionManager],[TR,l??kX({})]]},ne.createElement(c,{collection:a.collection,persistedKeys:MSe(a.selectionManager.focusedKey),scrollRef:n})),g))}class AXe extends TT{get focusedKey(){return this.parent.focusedKey}get isFocused(){return this.parent.isFocused}setFocusedKey(t,n){return this.parent.setFocusedKey(t,n)}setFocused(t){this.parent.setFocused(t)}get childFocusStrategy(){return this.parent.childFocusStrategy}constructor(t,n){super(t.collection,n),this.parent=t}}function IXe(e,t,n,r="react-aria-MenuSection"){var i,o;let s=h.useContext(LX),{CollectionBranch:a}=h.useContext(Ap),[l,u]=mO();var c;let{headingProps:f,groupProps:p}=MYe({heading:u,"aria-label":(c=n.props["aria-label"])!==null&&c!==void 0?c:void 0}),g=Oo({defaultClassName:r,className:(i=n.props)===null||i===void 0?void 0:i.className,style:(o=n.props)===null||o===void 0?void 0:o.style,values:{}}),v=h.useContext(MR),y=CX(e),S=e.selectionMode!=null?new AXe(v,y):v;return ne.createElement("section",{...Mi(e),...p,...g,ref:t},ne.createElement(gu,{values:[[ASe,{...f,ref:l}],[MR,S]]},ne.createElement(a,{collection:s.collection,parent:n})))}const YV=h.createContext(null),hp=yO("item",function(t,n,r){var i;[t,n]=Sa(t,n,YV);let o=(i=wx(YV))===null||i===void 0?void 0:i.id,s=h.useContext(LX),a=mu(n),l=h.useContext(MR),{menuItemProps:u,labelProps:c,descriptionProps:f,keyboardShortcutProps:p,...g}=TYe({...t,id:o,key:r.key,selectionManager:l},s,a),{hoverProps:v,isHovered:y}=ud({isDisabled:g.isDisabled}),S=Oo({...t,id:void 0,children:r.rendered,defaultClassName:"react-aria-MenuItem",values:{...g,isHovered:y,isFocusVisible:g.isFocusVisible,selectionMode:l.selectionMode,selectionBehavior:l.selectionBehavior,hasSubmenu:!!t["aria-haspopup"],isOpen:t["aria-expanded"]==="true"}}),C=t.href?"a":"div";return ne.createElement(C,{...un(u,v),...S,ref:a,"data-disabled":g.isDisabled||void 0,"data-hovered":y||void 0,"data-focused":g.isFocused||void 0,"data-focus-visible":g.isFocusVisible||void 0,"data-pressed":g.isPressed||void 0,"data-selected":g.isSelected||void 0,"data-selection-mode":l.selectionMode==="none"?void 0:l.selectionMode,"data-has-submenu":!!t["aria-haspopup"]||void 0,"data-open":t["aria-expanded"]==="true"||void 0},ne.createElement(gu,{values:[[$T,{slots:{[_0]:c,label:c,description:f}}],[TXe,p]]},S.children))}),FSe=h.createContext(null),PO=h.createContext(null);function RXe(e){let t=kX(e),n=h.useRef(null),{triggerProps:r,overlayProps:i}=Dbe({type:"dialog"},t,n);return r.id=Ds(),i["aria-labelledby"]=r.id,ne.createElement(gu,{values:[[PO,t],[TR,t],[FSe,i],[MX,{trigger:"DialogTrigger",triggerRef:n,"aria-labelledby":i["aria-labelledby"]}]]},ne.createElement(hbe,{...r,ref:n,isPressed:t.isOpen},e.children))}const DXe=h.forwardRef(function(t,n){let r=t["aria-labelledby"];[t,n]=Sa(t,n,FSe);let{dialogProps:i,titleProps:o}=LYe({...t,"aria-labelledby":r},n),s=h.useContext(PO);!i["aria-label"]&&!i["aria-labelledby"]&&t["aria-labelledby"]&&(i["aria-labelledby"]=t["aria-labelledby"]);let a=Oo({defaultClassName:"react-aria-Dialog",className:t.className,style:t.style,children:t.children,values:{close:(s==null?void 0:s.close)||(()=>{})}});return ne.createElement("section",{...Mi(t),...i,...a,ref:n,slot:t.slot||void 0},ne.createElement(gu,{values:[[$qe,{slots:{[_0]:{},title:{...o,level:2}}}],[_X,{slots:{[_0]:{},close:{onPress:()=>s==null?void 0:s.close()}}}]]},a.children))}),OXe=h.createContext(null),LR=h.forwardRef(function(t,n){return[t,n]=Sa(t,n,OXe),ne.createElement(vO,{content:ne.createElement(bO,t)},r=>ne.createElement(jXe,{props:t,collection:r,gridListRef:n}))});function jXe({props:e,collection:t,gridListRef:n}){let{dragAndDropHooks:r,keyboardNavigationBehavior:i="arrow",layout:o="stack"}=e,{CollectionRoot:s,isVirtualized:a,layoutDelegate:l,dropTargetDelegate:u}=h.useContext(Ap),c=EX({...e,collection:t,children:void 0,layoutDelegate:l}),f=pX({usage:"search",sensitivity:"base"}),{disabledBehavior:p,disabledKeys:g}=c.selectionManager,{direction:v}=bh(),y=h.useMemo(()=>new ER({collection:t,collator:f,ref:n,disabledKeys:g,disabledBehavior:p,layoutDelegate:l,layout:o,direction:v}),[t,n,o,g,p,l,f,v]),{gridProps:S}=FYe({...e,keyboardDelegate:y,keyboardNavigationBehavior:o==="grid"?"tab":i,isVirtualized:a},c,n),C=c.selectionManager,_=!!(r!=null&&r.useDraggableCollectionState),k=!!(r!=null&&r.useDroppableCollectionState);h.useRef(_),h.useRef(k),h.useEffect(()=>{},[_,k]);let w,P,M,R=!1,D=null,H=h.useRef(null);if(_&&r){w=r.useDraggableCollectionState({collection:t,selectionManager:C,preview:r.renderDragPreview?H:void 0}),r.useDraggableCollection({},w,n);let q=r.DragPreview;D=r.renderDragPreview?ne.createElement(q,{ref:H},r.renderDragPreview):null}if(k&&r){P=r.useDroppableCollectionState({collection:t,selectionManager:C});let q=new ER({collection:t,disabledKeys:C.disabledKeys,disabledBehavior:C.disabledBehavior,ref:n}),U=r.dropTargetDelegate||u||new r.ListDropTargetDelegate(t,n,{layout:o,direction:v});M=r.useDroppableCollection({keyboardDelegate:q,dropTargetDelegate:U},P,n),R=P.isDropTarget({type:"root"})}let{focusProps:O,isFocused:z,isFocusVisible:G}=pf(),ee={isDropTarget:R,isEmpty:c.collection.size===0,isFocused:z,isFocusVisible:G,layout:o,state:c},X=Oo({className:e.className,style:e.style,defaultClassName:"react-aria-GridList",values:ee}),se=null,B=null;if(c.collection.size===0&&e.renderEmptyState){let q=e.renderEmptyState(ee);se=ne.createElement("div",{role:"row",style:{display:"contents"}},ne.createElement("div",{role:"gridcell",style:{display:"contents"}},q))}return ne.createElement(xO,null,ne.createElement("div",{...Mi(e),...X,...un(S,O,M==null?void 0:M.collectionProps,B),ref:n,slot:e.slot||void 0,onScroll:e.onScroll,"data-drop-target":R||void 0,"data-empty":c.collection.size===0||void 0,"data-focused":z||void 0,"data-focus-visible":G||void 0,"data-layout":o},ne.createElement(gu,{values:[[Xw,c],[Q0,{dragAndDropHooks:r,dragState:w,dropState:P}],[$X,{render:NXe}]]},k&&ne.createElement(zXe,null),ne.createElement(s,{collection:t,scrollRef:n,persistedKeys:LSe(C,r,P),renderDropIndicator:TX(r,P)})),se,D))}const BSe=yO("item",function(t,n,r){let i=h.useContext(Xw),{dragAndDropHooks:o,dragState:s,dropState:a}=h.useContext(Q0),l=mu(n),{isVirtualized:u}=h.useContext(Ap),{rowProps:c,gridCellProps:f,descriptionProps:p,...g}=BYe({node:r,shouldSelectOnPressUp:!!s,isVirtualized:u},i,l),{hoverProps:v,isHovered:y}=ud({isDisabled:!g.allowsSelection&&!g.hasAction,onHoverStart:r.props.onHoverStart,onHoverChange:r.props.onHoverChange,onHoverEnd:r.props.onHoverEnd}),{isFocusVisible:S,focusProps:C}=pf(),{checkboxProps:_}=zYe({key:r.key},i),k=i.selectionManager.disabledBehavior==="all"&&g.isDisabled?{isDisabled:!0}:{},w=null;s&&o&&(w=o.useDraggableItem({key:r.key,hasDragButton:!0},s));let P=null,M=h.useRef(null),{visuallyHiddenProps:R}=_O();a&&o&&(P=o.useDropIndicator({target:{type:"item",key:r.key,dropPosition:"on"}},a,M));let D=s&&s.isDragging(r.key),H=Oo({...t,id:void 0,children:r.rendered,defaultClassName:"react-aria-GridListItem",values:{...g,isHovered:y,isFocusVisible:S,selectionMode:i.selectionManager.selectionMode,selectionBehavior:i.selectionManager.selectionBehavior,allowsDragging:!!s,isDragging:D,isDropTarget:P==null?void 0:P.isDropTarget}}),O=h.useRef(null);return h.useEffect(()=>{s&&!O.current&&console.warn('Draggable items in a GridList must contain a <Button slot="drag"> element so that keyboard and screen reader users can drag them.')},[]),h.useEffect(()=>{r.textValue},[r.textValue]),ne.createElement(ne.Fragment,null,P&&!P.isHidden&&ne.createElement("div",{role:"row",style:{position:"absolute"}},ne.createElement("div",{role:"gridcell"},ne.createElement("div",{role:"button",...R,...P==null?void 0:P.dropIndicatorProps,ref:M}))),ne.createElement("div",{...un(Mi(t),c,C,v,w==null?void 0:w.dragProps),...H,ref:l,"data-selected":g.isSelected||void 0,"data-disabled":g.isDisabled||void 0,"data-hovered":y||void 0,"data-focused":g.isFocused||void 0,"data-focus-visible":S||void 0,"data-pressed":g.isPressed||void 0,"data-allows-dragging":!!s||void 0,"data-dragging":D||void 0,"data-drop-target":(P==null?void 0:P.isDropTarget)||void 0,"data-selection-mode":i.selectionManager.selectionMode==="none"?void 0:i.selectionManager.selectionMode},ne.createElement("div",{...f,style:{display:"contents"}},ne.createElement(gu,{values:[[U1e,{slots:{[_0]:{},selection:_}}],[_X,{slots:{[_0]:k,drag:{...w==null?void 0:w.dragButtonProps,ref:O,style:{pointerEvents:"none"}}}}],[$T,{slots:{[_0]:{},description:p}}],[Ap,PX],[Xw,null]]},H.children))))});function NXe(e,t){t=mu(t);let{dragAndDropHooks:n,dropState:r}=h.useContext(Q0),i=h.useRef(null),{dropIndicatorProps:o,isHidden:s,isDropTarget:a}=n.useDropIndicator(e,r,i);return s?null:ne.createElement(BXe,{...e,dropIndicatorProps:o,isDropTarget:a,buttonRef:i,ref:t})}function FXe(e,t){let{dropIndicatorProps:n,isDropTarget:r,buttonRef:i,...o}=e,{visuallyHiddenProps:s}=_O(),a=Oo({...o,defaultClassName:"react-aria-DropIndicator",values:{isDropTarget:r}});return ne.createElement("div",{...a,role:"row",ref:t,"data-drop-target":r||void 0},ne.createElement("div",{role:"gridcell"},ne.createElement("div",{...s,role:"button",...n,ref:i}),a.children))}const BXe=h.forwardRef(FXe);function zXe(){let{dragAndDropHooks:e,dropState:t}=h.useContext(Q0),n=h.useRef(null),{dropIndicatorProps:r}=e.useDropIndicator({target:{type:"root"}},t,n),i=t.isDropTarget({type:"root"}),{visuallyHiddenProps:o}=_O();return!i&&r["aria-hidden"]?null:ne.createElement("div",{role:"row","aria-hidden":r["aria-hidden"],style:{position:"absolute"}},ne.createElement("div",{role:"gridcell"},ne.createElement("div",{role:"button",...o,...r,ref:n})))}const HXe=h.createContext(null),VXe=h.createContext(null),zSe=h.createContext(null),UXe=h.forwardRef(function(t,n){[t,n]=Sa(t,n,HXe);let{validationBehavior:r}=wx(g4)||{};var i,o;let s=(o=(i=t.validationBehavior)!==null&&i!==void 0?i:r)!==null&&o!==void 0?o:"native",a=rXe({...t,validationBehavior:s}),[l,u]=mO(!t["aria-label"]&&!t["aria-labelledby"]),{radioGroupProps:c,labelProps:f,descriptionProps:p,errorMessageProps:g,...v}=VYe({...t,label:u,validationBehavior:s},a),y=Oo({...t,values:{orientation:t.orientation||"vertical",isDisabled:a.isDisabled,isReadOnly:a.isReadOnly,isRequired:a.isRequired,isInvalid:a.isInvalid,state:a},defaultClassName:"react-aria-RadioGroup"});return ne.createElement("div",{...c,...y,ref:n,slot:t.slot||void 0,"data-orientation":t.orientation||"vertical","data-invalid":a.isInvalid||void 0,"data-disabled":a.isDisabled||void 0,"data-readonly":a.isReadOnly||void 0,"data-required":a.isRequired||void 0},ne.createElement(gu,{values:[[zSe,a],[SX,{...f,ref:l,elementType:"span"}],[$T,{slots:{description:p,errorMessage:g}}],[Vxe,v]]},y.children))}),WXe=h.forwardRef(function(t,n){let{inputRef:r=null,...i}=t;[t,n]=Sa(i,n,VXe);let o=ne.useContext(zSe),s=mu(t3(r,t.inputRef!==void 0?t.inputRef:null)),{labelProps:a,inputProps:l,isSelected:u,isDisabled:c,isPressed:f}=HYe({...d4(t),children:typeof t.children=="function"?!0:t.children},o,s),{isFocused:p,isFocusVisible:g,focusProps:v}=pf(),y=c||o.isReadOnly,{hoverProps:S,isHovered:C}=ud({...t,isDisabled:y}),_=Oo({...t,defaultClassName:"react-aria-Radio",values:{isSelected:u,isPressed:f,isHovered:C,isFocused:p,isFocusVisible:g,isDisabled:c,isReadOnly:o.isReadOnly,isInvalid:o.isInvalid,isRequired:o.isRequired}}),k=Mi(t);return delete k.id,ne.createElement("label",{...un(k,a,S,_),ref:n,"data-selected":u||void 0,"data-pressed":f||void 0,"data-hovered":C||void 0,"data-focused":p||void 0,"data-focus-visible":g||void 0,"data-disabled":c||void 0,"data-readonly":o.isReadOnly||void 0,"data-invalid":o.isInvalid||void 0,"data-required":o.isRequired||void 0},ne.createElement(yX,{elementType:"span"},ne.createElement("input",{...un(l,v),ref:s})),_.children)}),$O=h.createContext(null),yC=h.createContext(null),HSe=h.forwardRef(function(t,n){[t,n]=Sa(t,n,$O);let{children:r,orientation:i="horizontal"}=t;return r=h.useMemo(()=>typeof r=="function"?r({orientation:i,defaultChildren:null}):r,[r,i]),ne.createElement(vO,{content:r},o=>ne.createElement(KXe,{props:t,collection:o,tabsRef:n}))});function KXe({props:e,tabsRef:t,collection:n}){let{orientation:r="horizontal"}=e,i=iXe({...e,collection:n,children:void 0}),{focusProps:o,isFocused:s,isFocusVisible:a}=pf({within:!0}),l=h.useMemo(()=>({orientation:r,isFocusWithin:s,isFocusVisible:a}),[r,s,a]),u=Oo({...e,defaultClassName:"react-aria-Tabs",values:l});return ne.createElement("div",{...Mi(e),...o,...u,ref:t,slot:e.slot||void 0,"data-focused":s||void 0,"data-orientation":r,"data-focus-visible":a||void 0,"data-disabled":i.isDisabled||void 0},ne.createElement(gu,{values:[[$O,e],[yC,i]]},u.children))}const VSe=h.forwardRef(function(t,n){return h.useContext(yC)?ne.createElement(qXe,{props:t,forwardedRef:n}):ne.createElement(bO,t)});function qXe({props:e,forwardedRef:t}){let n=h.useContext(yC),{CollectionRoot:r}=h.useContext(Ap),{orientation:i="horizontal",keyboardActivation:o="automatic"}=wx($O),s=mu(t),{tabListProps:a}=qYe({...e,orientation:i,keyboardActivation:o},n,s),l=Oo({...e,children:null,defaultClassName:"react-aria-TabList",values:{orientation:i,state:n}}),u=Mi(e);return delete u.id,ne.createElement("div",{...u,...a,ref:s,...l,"data-orientation":i||void 0},ne.createElement(r,{collection:n.collection,persistedKeys:MSe(n.selectionManager.focusedKey)}))}const XV=yO("item",(e,t,n)=>{let r=h.useContext(yC),i=mu(t),{tabProps:o,isSelected:s,isDisabled:a,isPressed:l}=UYe({key:n.key,...e},r,i),{focusProps:u,isFocused:c,isFocusVisible:f}=pf(),{hoverProps:p,isHovered:g}=ud({isDisabled:a,onHoverStart:e.onHoverStart,onHoverEnd:e.onHoverEnd,onHoverChange:e.onHoverChange}),v=Oo({...e,id:void 0,children:n.rendered,defaultClassName:"react-aria-Tab",values:{isSelected:s,isDisabled:a,isFocused:c,isFocusVisible:f,isPressed:l,isHovered:g}}),y=n.props.href?"a":"div";return ne.createElement(y,{...un(o,u,p,v),ref:i,"data-selected":s||void 0,"data-disabled":a||void 0,"data-focused":c||void 0,"data-focus-visible":f||void 0,"data-pressed":l||void 0,"data-hovered":g||void 0},v.children)}),QV=ET(function(t,n){const r=h.useContext(yC);let i=mu(n),{tabPanelProps:o}=WYe(t,r,i),{focusProps:s,isFocused:a,isFocusVisible:l}=pf(),u=r.selectedKey===t.id,c=Oo({...t,defaultClassName:"react-aria-TabPanel",values:{isFocused:a,isFocusVisible:l,isInert:!u,state:r}});if(!u&&!t.shouldForceMount)return null;let f=Mi(t);delete f.id;let p=u?un(f,o,s,c):c;return ne.createElement("div",{...p,ref:i,"data-focused":a||void 0,"data-focus-visible":l||void 0,inert:dGe(!u),"data-inert":u?void 0:"true"},ne.createElement(gu,{values:[[$O,null],[yC,null]]},ne.createElement(Ap.Provider,{value:PX},c.children)))}),GXe=h.createContext({}),USe=h.forwardRef(function(t,n){[t,n]=Sa(t,n,GXe);let{toolbarProps:r}=MZe(t,n),i=Oo({...t,values:{orientation:t.orientation||"horizontal"},defaultClassName:"react-aria-Toolbar"}),o=Mi(t);return delete o.id,ne.createElement("div",{...un(r,o),...i,ref:n,slot:t.slot||void 0,"data-orientation":t.orientation||"horizontal"},i.children)}),AX="-",ZXe=e=>{const t=XXe(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:s=>{const a=s.split(AX);return a[0]===""&&a.length!==1&&a.shift(),WSe(a,t)||YXe(s)},getConflictingClassGroupIds:(s,a)=>{const l=n[s]||[];return a&&r[s]?[...l,...r[s]]:l}}},WSe=(e,t)=>{var s;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),i=r?WSe(e.slice(1),r):void 0;if(i)return i;if(t.validators.length===0)return;const o=e.join(AX);return(s=t.validators.find(({validator:a})=>a(o)))==null?void 0:s.classGroupId},dse=/^\[(.+)\]$/,YXe=e=>{if(dse.test(e)){const t=dse.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},XXe=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return JXe(Object.entries(e.classGroups),n).forEach(([o,s])=>{JV(s,r,o,t)}),r},JV=(e,t,n,r)=>{e.forEach(i=>{if(typeof i=="string"){const o=i===""?t:fse(t,i);o.classGroupId=n;return}if(typeof i=="function"){if(QXe(i)){JV(i(r),t,n,r);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([o,s])=>{JV(s,fse(t,o),n,r)})})},fse=(e,t)=>{let n=e;return t.split(AX).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},QXe=e=>e.isThemeGetter,JXe=(e,t)=>t?e.map(([n,r])=>{const i=r.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([s,a])=>[t+s,a])):o);return[n,i]}):e,eQe=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const i=(o,s)=>{n.set(o,s),t++,t>e&&(t=0,r=n,n=new Map)};return{get(o){let s=n.get(o);if(s!==void 0)return s;if((s=r.get(o))!==void 0)return i(o,s),s},set(o,s){n.has(o)?n.set(o,s):i(o,s)}}},KSe="!",tQe=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,i=t[0],o=t.length,s=a=>{const l=[];let u=0,c=0,f;for(let S=0;S<a.length;S++){let C=a[S];if(u===0){if(C===i&&(r||a.slice(S,S+o)===t)){l.push(a.slice(c,S)),c=S+o;continue}if(C==="/"){f=S;continue}}C==="["?u++:C==="]"&&u--}const p=l.length===0?a:a.substring(c),g=p.startsWith(KSe),v=g?p.substring(1):p,y=f&&f>c?f-c:void 0;return{modifiers:l,hasImportantModifier:g,baseClassName:v,maybePostfixModifierPosition:y}};return n?a=>n({className:a,parseClassName:s}):s},nQe=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},rQe=e=>({cache:eQe(e.cacheSize),parseClassName:tQe(e),...ZXe(e)}),iQe=/\s+/,oQe=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=t,o=[],s=e.trim().split(iQe);let a="";for(let l=s.length-1;l>=0;l-=1){const u=s[l],{modifiers:c,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:g}=n(u);let v=!!g,y=r(v?p.substring(0,g):p);if(!y){if(!v){a=u+(a.length>0?" "+a:a);continue}if(y=r(p),!y){a=u+(a.length>0?" "+a:a);continue}v=!1}const S=nQe(c).join(":"),C=f?S+KSe:S,_=C+y;if(o.includes(_))continue;o.push(_);const k=i(y,v);for(let w=0;w<k.length;++w){const P=k[w];o.push(C+P)}a=u+(a.length>0?" "+a:a)}return a};function sQe(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=qSe(t))&&(r&&(r+=" "),r+=n);return r}const qSe=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=qSe(e[r]))&&(n&&(n+=" "),n+=t);return n};function aQe(e,...t){let n,r,i,o=s;function s(l){const u=t.reduce((c,f)=>f(c),e());return n=rQe(u),r=n.cache.get,i=n.cache.set,o=a,a(l)}function a(l){const u=r(l);if(u)return u;const c=oQe(l,n);return i(l,c),c}return function(){return o(sQe.apply(null,arguments))}}const fo=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},GSe=/^\[(?:([a-z-]+):)?(.+)\]$/i,lQe=/^\d+\/\d+$/,uQe=new Set(["px","full","screen"]),cQe=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,dQe=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,fQe=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,hQe=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,pQe=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,vm=e=>L2(e)||uQe.has(e)||lQe.test(e),Mv=e=>r3(e,"length",SQe),L2=e=>!!e&&!Number.isNaN(Number(e)),qN=e=>r3(e,"number",L2),xE=e=>!!e&&Number.isInteger(Number(e)),mQe=e=>e.endsWith("%")&&L2(e.slice(0,-1)),ur=e=>GSe.test(e),Lv=e=>cQe.test(e),gQe=new Set(["length","size","percentage"]),vQe=e=>r3(e,gQe,ZSe),yQe=e=>r3(e,"position",ZSe),bQe=new Set(["image","url"]),wQe=e=>r3(e,bQe,CQe),xQe=e=>r3(e,"",_Qe),SE=()=>!0,r3=(e,t,n)=>{const r=GSe.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},SQe=e=>dQe.test(e)&&!fQe.test(e),ZSe=()=>!1,_Qe=e=>hQe.test(e),CQe=e=>pQe.test(e),EQe=()=>{const e=fo("colors"),t=fo("spacing"),n=fo("blur"),r=fo("brightness"),i=fo("borderColor"),o=fo("borderRadius"),s=fo("borderSpacing"),a=fo("borderWidth"),l=fo("contrast"),u=fo("grayscale"),c=fo("hueRotate"),f=fo("invert"),p=fo("gap"),g=fo("gradientColorStops"),v=fo("gradientColorStopPositions"),y=fo("inset"),S=fo("margin"),C=fo("opacity"),_=fo("padding"),k=fo("saturate"),w=fo("scale"),P=fo("sepia"),M=fo("skew"),R=fo("space"),D=fo("translate"),H=()=>["auto","contain","none"],O=()=>["auto","hidden","clip","visible","scroll"],z=()=>["auto",ur,t],G=()=>[ur,t],ee=()=>["",vm,Mv],X=()=>["auto",L2,ur],se=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],B=()=>["solid","dashed","dotted","double","none"],q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],U=()=>["start","end","center","between","around","evenly","stretch"],K=()=>["","0",ur],J=()=>["auto","avoid","all","avoid-page","page","left","right","column"],oe=()=>[L2,ur];return{cacheSize:500,separator:":",theme:{colors:[SE],spacing:[vm,Mv],blur:["none","",Lv,ur],brightness:oe(),borderColor:[e],borderRadius:["none","","full",Lv,ur],borderSpacing:G(),borderWidth:ee(),contrast:oe(),grayscale:K(),hueRotate:oe(),invert:K(),gap:G(),gradientColorStops:[e],gradientColorStopPositions:[mQe,Mv],inset:z(),margin:z(),opacity:oe(),padding:G(),saturate:oe(),scale:oe(),sepia:K(),skew:oe(),space:G(),translate:G()},classGroups:{aspect:[{aspect:["auto","square","video",ur]}],container:["container"],columns:[{columns:[Lv]}],"break-after":[{"break-after":J()}],"break-before":[{"break-before":J()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...se(),ur]}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:H()}],"overscroll-x":[{"overscroll-x":H()}],"overscroll-y":[{"overscroll-y":H()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",xE,ur]}],basis:[{basis:z()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ur]}],grow:[{grow:K()}],shrink:[{shrink:K()}],order:[{order:["first","last","none",xE,ur]}],"grid-cols":[{"grid-cols":[SE]}],"col-start-end":[{col:["auto",{span:["full",xE,ur]},ur]}],"col-start":[{"col-start":X()}],"col-end":[{"col-end":X()}],"grid-rows":[{"grid-rows":[SE]}],"row-start-end":[{row:["auto",{span:[xE,ur]},ur]}],"row-start":[{"row-start":X()}],"row-end":[{"row-end":X()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ur]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ur]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...U()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...U(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...U(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[_]}],px:[{px:[_]}],py:[{py:[_]}],ps:[{ps:[_]}],pe:[{pe:[_]}],pt:[{pt:[_]}],pr:[{pr:[_]}],pb:[{pb:[_]}],pl:[{pl:[_]}],m:[{m:[S]}],mx:[{mx:[S]}],my:[{my:[S]}],ms:[{ms:[S]}],me:[{me:[S]}],mt:[{mt:[S]}],mr:[{mr:[S]}],mb:[{mb:[S]}],ml:[{ml:[S]}],"space-x":[{"space-x":[R]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[R]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ur,t]}],"min-w":[{"min-w":[ur,t,"min","max","fit"]}],"max-w":[{"max-w":[ur,t,"none","full","min","max","fit","prose",{screen:[Lv]},Lv]}],h:[{h:[ur,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ur,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ur,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ur,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Lv,Mv]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",qN]}],"font-family":[{font:[SE]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ur]}],"line-clamp":[{"line-clamp":["none",L2,qN]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",vm,ur]}],"list-image":[{"list-image":["none",ur]}],"list-style-type":[{list:["none","disc","decimal",ur]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[C]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[C]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...B(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",vm,Mv]}],"underline-offset":[{"underline-offset":["auto",vm,ur]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:G()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ur]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ur]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[C]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...se(),yQe]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",vQe]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},wQe]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[C]}],"border-style":[{border:[...B(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[C]}],"divide-style":[{divide:B()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...B()]}],"outline-offset":[{"outline-offset":[vm,ur]}],"outline-w":[{outline:[vm,Mv]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:ee()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[C]}],"ring-offset-w":[{"ring-offset":[vm,Mv]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Lv,xQe]}],"shadow-color":[{shadow:[SE]}],opacity:[{opacity:[C]}],"mix-blend":[{"mix-blend":[...q(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":q()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Lv,ur]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[c]}],invert:[{invert:[f]}],saturate:[{saturate:[k]}],sepia:[{sepia:[P]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[c]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[C]}],"backdrop-saturate":[{"backdrop-saturate":[k]}],"backdrop-sepia":[{"backdrop-sepia":[P]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ur]}],duration:[{duration:oe()}],ease:[{ease:["linear","in","out","in-out",ur]}],delay:[{delay:oe()}],animate:[{animate:["none","spin","ping","pulse","bounce",ur]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[w]}],"scale-x":[{"scale-x":[w]}],"scale-y":[{"scale-y":[w]}],rotate:[{rotate:[xE,ur]}],"translate-x":[{"translate-x":[D]}],"translate-y":[{"translate-y":[D]}],"skew-x":[{"skew-x":[M]}],"skew-y":[{"skew-y":[M]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ur]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ur]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":G()}],"scroll-mx":[{"scroll-mx":G()}],"scroll-my":[{"scroll-my":G()}],"scroll-ms":[{"scroll-ms":G()}],"scroll-me":[{"scroll-me":G()}],"scroll-mt":[{"scroll-mt":G()}],"scroll-mr":[{"scroll-mr":G()}],"scroll-mb":[{"scroll-mb":G()}],"scroll-ml":[{"scroll-ml":G()}],"scroll-p":[{"scroll-p":G()}],"scroll-px":[{"scroll-px":G()}],"scroll-py":[{"scroll-py":G()}],"scroll-ps":[{"scroll-ps":G()}],"scroll-pe":[{"scroll-pe":G()}],"scroll-pt":[{"scroll-pt":G()}],"scroll-pr":[{"scroll-pr":G()}],"scroll-pb":[{"scroll-pb":G()}],"scroll-pl":[{"scroll-pl":G()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ur]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[vm,Mv,qN]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},J0=aQe(EQe);function TO(){return typeof window<"u"}function e1(e){return YSe(e)?(e.nodeName||"").toLowerCase():"#document"}function oc(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Yp(e){var t;return(t=(YSe(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function YSe(e){return TO()?e instanceof Node||e instanceof oc(e).Node:!1}function eo(e){return TO()?e instanceof Element||e instanceof oc(e).Element:!1}function wa(e){return TO()?e instanceof HTMLElement||e instanceof oc(e).HTMLElement:!1}function eU(e){return!TO()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof oc(e).ShadowRoot}function AT(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=rf(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function kQe(e){return["table","td","th"].includes(e1(e))}function MO(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function IX(e){const t=LO(),n=eo(e)?rf(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function PQe(e){let t=Bg(e);for(;wa(t)&&!A0(t);){if(IX(t))return t;if(MO(t))return null;t=Bg(t)}return null}function LO(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function A0(e){return["html","body","#document"].includes(e1(e))}function rf(e){return oc(e).getComputedStyle(e)}function AO(e){return eo(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Bg(e){if(e1(e)==="html")return e;const t=e.assignedSlot||e.parentNode||eU(e)&&e.host||Yp(e);return eU(t)?t.host:t}function XSe(e){const t=Bg(e);return A0(t)?e.ownerDocument?e.ownerDocument.body:e.body:wa(t)&&AT(t)?t:XSe(t)}function C0(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=XSe(e),o=i===((r=e.ownerDocument)==null?void 0:r.body),s=oc(i);if(o){const a=tU(s);return t.concat(s,s.visualViewport||[],AT(i)?i:[],a&&n?C0(a):[])}return t.concat(i,C0(i,[],n))}function tU(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Im(e){let t=e.activeElement;for(;((n=t)==null||(n=n.shadowRoot)==null?void 0:n.activeElement)!=null;){var n;t=t.shadowRoot.activeElement}return t}function Sl(e,t){if(!e||!t)return!1;const n=t.getRootNode==null?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&eU(n)){let r=t;for(;r;){if(e===r)return!0;r=r.parentNode||r.host}}return!1}function RX(){const e=navigator.userAgentData;return e!=null&&e.platform?e.platform:navigator.platform}function QSe(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:r}=t;return n+"/"+r}).join(" "):navigator.userAgent}function $Qe(e){return e.mozInputSource===0&&e.isTrusted?!0:nU()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function JSe(e){return MQe()?!1:!nU()&&e.width===0&&e.height===0||nU()&&e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType==="mouse"||e.width<1&&e.height<1&&e.pressure===0&&e.detail===0&&e.pointerType==="touch"}function e2e(){return/apple/i.test(navigator.vendor)}function nU(){const e=/android/i;return e.test(RX())||e.test(QSe())}function TQe(){return RX().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function MQe(){return QSe().includes("jsdom/")}function rU(e,t){const n=["mouse","pen"];return n.push("",void 0),n.includes(e)}function LQe(e){return"nativeEvent"in e}function AQe(e){return e.matches("html,body")}function El(e){return(e==null?void 0:e.ownerDocument)||document}function GN(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return n.target!=null&&t.contains(n.target)}function fy(e){return"composedPath"in e?e.composedPath()[0]:e.target}const IQe="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function t2e(e){return wa(e)&&e.matches(IQe)}function ZN(e){e.preventDefault(),e.stopPropagation()}function RQe(e){return e?e.getAttribute("role")==="combobox"&&t2e(e):!1}const AR=Math.min,Ew=Math.max,IR=Math.round,Z6=Math.floor,Sp=e=>({x:e,y:e}),DQe={left:"right",right:"left",bottom:"top",top:"bottom"},OQe={start:"end",end:"start"};function hse(e,t,n){return Ew(e,AR(t,n))}function IO(e,t){return typeof e=="function"?e(t):e}function Qw(e){return e.split("-")[0]}function RO(e){return e.split("-")[1]}function n2e(e){return e==="x"?"y":"x"}function r2e(e){return e==="y"?"height":"width"}function bC(e){return["top","bottom"].includes(Qw(e))?"y":"x"}function i2e(e){return n2e(bC(e))}function jQe(e,t,n){n===void 0&&(n=!1);const r=RO(e),i=i2e(e),o=r2e(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(s=RR(s)),[s,RR(s)]}function NQe(e){const t=RR(e);return[iU(e),t,iU(t)]}function iU(e){return e.replace(/start|end/g,t=>OQe[t])}function FQe(e,t,n){const r=["left","right"],i=["right","left"],o=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?o:s;default:return[]}}function BQe(e,t,n,r){const i=RO(e);let o=FQe(Qw(e),n==="start",r);return i&&(o=o.map(s=>s+"-"+i),t&&(o=o.concat(o.map(iU)))),o}function RR(e){return e.replace(/left|right|bottom|top/g,t=>DQe[t])}function zQe(e){return{top:0,right:0,bottom:0,left:0,...e}}function HQe(e){return typeof e!="number"?zQe(e):{top:e,right:e,bottom:e,left:e}}function DR(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var VQe=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],OR=VQe.join(","),o2e=typeof Element>"u",wC=o2e?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,jR=!o2e&&Element.prototype.getRootNode?function(e){var t;return e==null||(t=e.getRootNode)===null||t===void 0?void 0:t.call(e)}:function(e){return e==null?void 0:e.ownerDocument},NR=function e(t,n){var r;n===void 0&&(n=!0);var i=t==null||(r=t.getAttribute)===null||r===void 0?void 0:r.call(t,"inert"),o=i===""||i==="true",s=o||n&&t&&e(t.parentNode);return s},UQe=function(t){var n,r=t==null||(n=t.getAttribute)===null||n===void 0?void 0:n.call(t,"contenteditable");return r===""||r==="true"},WQe=function(t,n,r){if(NR(t))return[];var i=Array.prototype.slice.apply(t.querySelectorAll(OR));return n&&wC.call(t,OR)&&i.unshift(t),i=i.filter(r),i},KQe=function e(t,n,r){for(var i=[],o=Array.from(t);o.length;){var s=o.shift();if(!NR(s,!1))if(s.tagName==="SLOT"){var a=s.assignedElements(),l=a.length?a:s.children,u=e(l,!0,r);r.flatten?i.push.apply(i,u):i.push({scopeParent:s,candidates:u})}else{var c=wC.call(s,OR);c&&r.filter(s)&&(n||!t.includes(s))&&i.push(s);var f=s.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(s),p=!NR(f,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(s));if(f&&p){var g=e(f===!0?s.children:f.children,!0,r);r.flatten?i.push.apply(i,g):i.push({scopeParent:s,candidates:g})}else o.unshift.apply(o,s.children)}}return i},s2e=function(t){return!isNaN(parseInt(t.getAttribute("tabindex"),10))},a2e=function(t){if(!t)throw new Error("No node provided");return t.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(t.tagName)||UQe(t))&&!s2e(t)?0:t.tabIndex},qQe=function(t,n){var r=a2e(t);return r<0&&n&&!s2e(t)?0:r},GQe=function(t,n){return t.tabIndex===n.tabIndex?t.documentOrder-n.documentOrder:t.tabIndex-n.tabIndex},l2e=function(t){return t.tagName==="INPUT"},ZQe=function(t){return l2e(t)&&t.type==="hidden"},YQe=function(t){var n=t.tagName==="DETAILS"&&Array.prototype.slice.apply(t.children).some(function(r){return r.tagName==="SUMMARY"});return n},XQe=function(t,n){for(var r=0;r<t.length;r++)if(t[r].checked&&t[r].form===n)return t[r]},QQe=function(t){if(!t.name)return!0;var n=t.form||jR(t),r=function(a){return n.querySelectorAll('input[type="radio"][name="'+a+'"]')},i;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")i=r(window.CSS.escape(t.name));else try{i=r(t.name)}catch(s){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",s.message),!1}var o=XQe(i,t.form);return!o||o===t},JQe=function(t){return l2e(t)&&t.type==="radio"},eJe=function(t){return JQe(t)&&!QQe(t)},tJe=function(t){var n,r=t&&jR(t),i=(n=r)===null||n===void 0?void 0:n.host,o=!1;if(r&&r!==t){var s,a,l;for(o=!!((s=i)!==null&&s!==void 0&&(a=s.ownerDocument)!==null&&a!==void 0&&a.contains(i)||t!=null&&(l=t.ownerDocument)!==null&&l!==void 0&&l.contains(t));!o&&i;){var u,c,f;r=jR(i),i=(u=r)===null||u===void 0?void 0:u.host,o=!!((c=i)!==null&&c!==void 0&&(f=c.ownerDocument)!==null&&f!==void 0&&f.contains(i))}}return o},pse=function(t){var n=t.getBoundingClientRect(),r=n.width,i=n.height;return r===0&&i===0},nJe=function(t,n){var r=n.displayCheck,i=n.getShadowRoot;if(getComputedStyle(t).visibility==="hidden")return!0;var o=wC.call(t,"details>summary:first-of-type"),s=o?t.parentElement:t;if(wC.call(s,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="legacy-full"){if(typeof i=="function"){for(var a=t;t;){var l=t.parentElement,u=jR(t);if(l&&!l.shadowRoot&&i(l)===!0)return pse(t);t.assignedSlot?t=t.assignedSlot:!l&&u!==t.ownerDocument?t=u.host:t=l}t=a}if(tJe(t))return!t.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return pse(t);return!1},rJe=function(t){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(t.tagName))for(var n=t.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var r=0;r<n.children.length;r++){var i=n.children.item(r);if(i.tagName==="LEGEND")return wC.call(n,"fieldset[disabled] *")?!0:!i.contains(t)}return!0}n=n.parentElement}return!1},iJe=function(t,n){return!(n.disabled||NR(n)||ZQe(n)||nJe(n,t)||YQe(n)||rJe(n))},oU=function(t,n){return!(eJe(n)||a2e(n)<0||!iJe(t,n))},oJe=function(t){var n=parseInt(t.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},sJe=function e(t){var n=[],r=[];return t.forEach(function(i,o){var s=!!i.scopeParent,a=s?i.scopeParent:i,l=qQe(a,s),u=s?e(i.candidates):a;l===0?s?n.push.apply(n,u):n.push(a):r.push({documentOrder:o,tabIndex:l,item:i,isScope:s,content:u})}),r.sort(GQe).reduce(function(i,o){return o.isScope?i.push.apply(i,o.content):i.push(o.content),i},[]).concat(n)},DO=function(t,n){n=n||{};var r;return n.getShadowRoot?r=KQe([t],n.includeContainer,{filter:oU.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:oJe}):r=WQe(t,n.includeContainer,oU.bind(null,n)),sJe(r)},aJe=function(t,n){if(n=n||{},!t)throw new Error("No node provided");return wC.call(t,OR)===!1?!1:oU(n,t)};function mse(e,t,n){let{reference:r,floating:i}=e;const o=bC(t),s=i2e(t),a=r2e(s),l=Qw(t),u=o==="y",c=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,p=r[a]/2-i[a]/2;let g;switch(l){case"top":g={x:c,y:r.y-i.height};break;case"bottom":g={x:c,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:f};break;case"left":g={x:r.x-i.width,y:f};break;default:g={x:r.x,y:r.y}}switch(RO(t)){case"start":g[s]-=p*(n&&u?-1:1);break;case"end":g[s]+=p*(n&&u?-1:1);break}return g}const lJe=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n,a=o.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(t));let u=await s.getElementRects({reference:e,floating:t,strategy:i}),{x:c,y:f}=mse(u,r,l),p=r,g={},v=0;for(let y=0;y<a.length;y++){const{name:S,fn:C}=a[y],{x:_,y:k,data:w,reset:P}=await C({x:c,y:f,initialPlacement:r,placement:p,strategy:i,middlewareData:g,rects:u,platform:s,elements:{reference:e,floating:t}});c=_??c,f=k??f,g={...g,[S]:{...g[S],...w}},P&&v<=50&&(v++,typeof P=="object"&&(P.placement&&(p=P.placement),P.rects&&(u=P.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:i}):P.rects),{x:c,y:f}=mse(u,p,l)),y=-1)}return{x:c,y:f,placement:p,strategy:i,middlewareData:g}};async function u2e(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:o,rects:s,elements:a,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:f="floating",altBoundary:p=!1,padding:g=0}=IO(t,e),v=HQe(g),S=a[p?f==="floating"?"reference":"floating":f],C=DR(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(S)))==null||n?S:S.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:u,rootBoundary:c,strategy:l})),_=f==="floating"?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,k=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),w=await(o.isElement==null?void 0:o.isElement(k))?await(o.getScale==null?void 0:o.getScale(k))||{x:1,y:1}:{x:1,y:1},P=DR(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:_,offsetParent:k,strategy:l}):_);return{top:(C.top-P.top+v.top)/w.y,bottom:(P.bottom-C.bottom+v.bottom)/w.y,left:(C.left-P.left+v.left)/w.x,right:(P.right-C.right+v.right)/w.x}}const uJe=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:o,rects:s,initialPlacement:a,platform:l,elements:u}=t,{mainAxis:c=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:y=!0,...S}=IO(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const C=Qw(i),_=bC(a),k=Qw(a)===a,w=await(l.isRTL==null?void 0:l.isRTL(u.floating)),P=p||(k||!y?[RR(a)]:NQe(a)),M=v!=="none";!p&&M&&P.push(...BQe(a,y,v,w));const R=[a,...P],D=await u2e(t,S),H=[];let O=((r=o.flip)==null?void 0:r.overflows)||[];if(c&&H.push(D[C]),f){const X=jQe(i,s,w);H.push(D[X[0]],D[X[1]])}if(O=[...O,{placement:i,overflows:H}],!H.every(X=>X<=0)){var z,G;const X=(((z=o.flip)==null?void 0:z.index)||0)+1,se=R[X];if(se)return{data:{index:X,overflows:O},reset:{placement:se}};let B=(G=O.filter(q=>q.overflows[0]<=0).sort((q,U)=>q.overflows[1]-U.overflows[1])[0])==null?void 0:G.placement;if(!B)switch(g){case"bestFit":{var ee;const q=(ee=O.filter(U=>{if(M){const K=bC(U.placement);return K===_||K==="y"}return!0}).map(U=>[U.placement,U.overflows.filter(K=>K>0).reduce((K,J)=>K+J,0)]).sort((U,K)=>U[1]-K[1])[0])==null?void 0:ee[0];q&&(B=q);break}case"initialPlacement":B=a;break}if(i!==B)return{reset:{placement:B}}}return{}}}};async function cJe(e,t){const{placement:n,platform:r,elements:i}=e,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=Qw(n),a=RO(n),l=bC(n)==="y",u=["left","top"].includes(s)?-1:1,c=o&&l?-1:1,f=IO(t,e);let{mainAxis:p,crossAxis:g,alignmentAxis:v}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof v=="number"&&(g=a==="end"?v*-1:v),l?{x:g*c,y:p*u}:{x:p*u,y:g*c}}const dJe=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:o,placement:s,middlewareData:a}=t,l=await cJe(t,e);return s===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:s}}}}},fJe=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:o=!0,crossAxis:s=!1,limiter:a={fn:S=>{let{x:C,y:_}=S;return{x:C,y:_}}},...l}=IO(e,t),u={x:n,y:r},c=await u2e(t,l),f=bC(Qw(i)),p=n2e(f);let g=u[p],v=u[f];if(o){const S=p==="y"?"top":"left",C=p==="y"?"bottom":"right",_=g+c[S],k=g-c[C];g=hse(_,g,k)}if(s){const S=f==="y"?"top":"left",C=f==="y"?"bottom":"right",_=v+c[S],k=v-c[C];v=hse(_,v,k)}const y=a.fn({...t,[p]:g,[f]:v});return{...y,data:{x:y.x-n,y:y.y-r,enabled:{[p]:o,[f]:s}}}}}};function c2e(e){const t=rf(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=wa(e),o=i?e.offsetWidth:n,s=i?e.offsetHeight:r,a=IR(n)!==o||IR(r)!==s;return a&&(n=o,r=s),{width:n,height:r,$:a}}function DX(e){return eo(e)?e:e.contextElement}function A2(e){const t=DX(e);if(!wa(t))return Sp(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:o}=c2e(t);let s=(o?IR(n.width):n.width)/r,a=(o?IR(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const hJe=Sp(0);function d2e(e){const t=oc(e);return!LO()||!t.visualViewport?hJe:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function pJe(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==oc(e)?!1:t}function Jw(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),o=DX(e);let s=Sp(1);t&&(r?eo(r)&&(s=A2(r)):s=A2(e));const a=pJe(o,n,r)?d2e(o):Sp(0);let l=(i.left+a.x)/s.x,u=(i.top+a.y)/s.y,c=i.width/s.x,f=i.height/s.y;if(o){const p=oc(o),g=r&&eo(r)?oc(r):r;let v=p,y=tU(v);for(;y&&r&&g!==v;){const S=A2(y),C=y.getBoundingClientRect(),_=rf(y),k=C.left+(y.clientLeft+parseFloat(_.paddingLeft))*S.x,w=C.top+(y.clientTop+parseFloat(_.paddingTop))*S.y;l*=S.x,u*=S.y,c*=S.x,f*=S.y,l+=k,u+=w,v=oc(y),y=tU(v)}}return DR({width:c,height:f,x:l,y:u})}function OX(e,t){const n=AO(e).scrollLeft;return t?t.left+n:Jw(Yp(e)).left+n}function f2e(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),i=r.left+t.scrollLeft-(n?0:OX(e,r)),o=r.top+t.scrollTop;return{x:i,y:o}}function mJe(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const o=i==="fixed",s=Yp(r),a=t?MO(t.floating):!1;if(r===s||a&&o)return n;let l={scrollLeft:0,scrollTop:0},u=Sp(1);const c=Sp(0),f=wa(r);if((f||!f&&!o)&&((e1(r)!=="body"||AT(s))&&(l=AO(r)),wa(r))){const g=Jw(r);u=A2(r),c.x=g.x+r.clientLeft,c.y=g.y+r.clientTop}const p=s&&!f&&!o?f2e(s,l,!0):Sp(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+c.x+p.x,y:n.y*u.y-l.scrollTop*u.y+c.y+p.y}}function gJe(e){return Array.from(e.getClientRects())}function vJe(e){const t=Yp(e),n=AO(e),r=e.ownerDocument.body,i=Ew(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=Ew(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+OX(e);const a=-n.scrollTop;return rf(r).direction==="rtl"&&(s+=Ew(t.clientWidth,r.clientWidth)-i),{width:i,height:o,x:s,y:a}}function yJe(e,t){const n=oc(e),r=Yp(e),i=n.visualViewport;let o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;const u=LO();(!u||u&&t==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a,y:l}}function bJe(e,t){const n=Jw(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,o=wa(e)?A2(e):Sp(1),s=e.clientWidth*o.x,a=e.clientHeight*o.y,l=i*o.x,u=r*o.y;return{width:s,height:a,x:l,y:u}}function gse(e,t,n){let r;if(t==="viewport")r=yJe(e,n);else if(t==="document")r=vJe(Yp(e));else if(eo(t))r=bJe(t,n);else{const i=d2e(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return DR(r)}function h2e(e,t){const n=Bg(e);return n===t||!eo(n)||A0(n)?!1:rf(n).position==="fixed"||h2e(n,t)}function wJe(e,t){const n=t.get(e);if(n)return n;let r=C0(e,[],!1).filter(a=>eo(a)&&e1(a)!=="body"),i=null;const o=rf(e).position==="fixed";let s=o?Bg(e):e;for(;eo(s)&&!A0(s);){const a=rf(s),l=IX(s);!l&&a.position==="fixed"&&(i=null),(o?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||AT(s)&&!l&&h2e(e,s))?r=r.filter(c=>c!==s):i=a,s=Bg(s)}return t.set(e,r),r}function xJe(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const s=[...n==="clippingAncestors"?MO(t)?[]:wJe(t,this._c):[].concat(n),r],a=s[0],l=s.reduce((u,c)=>{const f=gse(t,c,i);return u.top=Ew(f.top,u.top),u.right=AR(f.right,u.right),u.bottom=AR(f.bottom,u.bottom),u.left=Ew(f.left,u.left),u},gse(t,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function SJe(e){const{width:t,height:n}=c2e(e);return{width:t,height:n}}function _Je(e,t,n){const r=wa(t),i=Yp(t),o=n==="fixed",s=Jw(e,!0,o,t);let a={scrollLeft:0,scrollTop:0};const l=Sp(0);if(r||!r&&!o)if((e1(t)!=="body"||AT(i))&&(a=AO(t)),r){const p=Jw(t,!0,o,t);l.x=p.x+t.clientLeft,l.y=p.y+t.clientTop}else i&&(l.x=OX(i));const u=i&&!r&&!o?f2e(i,a):Sp(0),c=s.left+a.scrollLeft-l.x-u.x,f=s.top+a.scrollTop-l.y-u.y;return{x:c,y:f,width:s.width,height:s.height}}function YN(e){return rf(e).position==="static"}function vse(e,t){if(!wa(e)||rf(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Yp(e)===n&&(n=n.ownerDocument.body),n}function p2e(e,t){const n=oc(e);if(MO(e))return n;if(!wa(e)){let i=Bg(e);for(;i&&!A0(i);){if(eo(i)&&!YN(i))return i;i=Bg(i)}return n}let r=vse(e,t);for(;r&&kQe(r)&&YN(r);)r=vse(r,t);return r&&A0(r)&&YN(r)&&!IX(r)?n:r||PQe(e)||n}const CJe=async function(e){const t=this.getOffsetParent||p2e,n=this.getDimensions,r=await n(e.floating);return{reference:_Je(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function EJe(e){return rf(e).direction==="rtl"}const kJe={convertOffsetParentRelativeRectToViewportRelativeRect:mJe,getDocumentElement:Yp,getClippingRect:xJe,getOffsetParent:p2e,getElementRects:CJe,getClientRects:gJe,getDimensions:SJe,getScale:A2,isElement:eo,isRTL:EJe};function m2e(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function PJe(e,t){let n=null,r;const i=Yp(e);function o(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function s(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),o();const u=e.getBoundingClientRect(),{left:c,top:f,width:p,height:g}=u;if(a||t(),!p||!g)return;const v=Z6(f),y=Z6(i.clientWidth-(c+p)),S=Z6(i.clientHeight-(f+g)),C=Z6(c),k={rootMargin:-v+"px "+-y+"px "+-S+"px "+-C+"px",threshold:Ew(0,AR(1,l))||1};let w=!0;function P(M){const R=M[0].intersectionRatio;if(R!==l){if(!w)return s();R?s(!1,R):r=setTimeout(()=>{s(!1,1e-7)},1e3)}R===1&&!m2e(u,e.getBoundingClientRect())&&s(),w=!1}try{n=new IntersectionObserver(P,{...k,root:i.ownerDocument})}catch{n=new IntersectionObserver(P,k)}n.observe(e)}return s(!0),o}function OO(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=DX(e),c=i||o?[...u?C0(u):[],...C0(t)]:[];c.forEach(C=>{i&&C.addEventListener("scroll",n,{passive:!0}),o&&C.addEventListener("resize",n)});const f=u&&a?PJe(u,n):null;let p=-1,g=null;s&&(g=new ResizeObserver(C=>{let[_]=C;_&&_.target===u&&g&&(g.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var k;(k=g)==null||k.observe(t)})),n()}),u&&!l&&g.observe(u),g.observe(t));let v,y=l?Jw(e):null;l&&S();function S(){const C=Jw(e);y&&!m2e(y,C)&&n(),y=C,v=requestAnimationFrame(S)}return n(),()=>{var C;c.forEach(_=>{i&&_.removeEventListener("scroll",n),o&&_.removeEventListener("resize",n)}),f==null||f(),(C=g)==null||C.disconnect(),g=null,l&&cancelAnimationFrame(v)}}const $Je=dJe,g2e=fJe,v2e=uJe,y2e=(e,t,n)=>{const r=new Map,i={platform:kJe,...n},o={...i.platform,_c:r};return lJe(e,t,{...i,platform:o})};var fA=typeof document<"u"?h.useLayoutEffect:h.useEffect;function FR(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!FR(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&e.$$typeof)&&!FR(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function b2e(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function yse(e,t){const n=b2e(e);return Math.round(t*n)/n}function XN(e){const t=h.useRef(e);return fA(()=>{t.current=e}),t}function TJe(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:s}={},transform:a=!0,whileElementsMounted:l,open:u}=e,[c,f]=h.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[p,g]=h.useState(r);FR(p,r)||g(r);const[v,y]=h.useState(null),[S,C]=h.useState(null),_=h.useCallback(U=>{U!==M.current&&(M.current=U,y(U))},[]),k=h.useCallback(U=>{U!==R.current&&(R.current=U,C(U))},[]),w=o||v,P=s||S,M=h.useRef(null),R=h.useRef(null),D=h.useRef(c),H=l!=null,O=XN(l),z=XN(i),G=XN(u),ee=h.useCallback(()=>{if(!M.current||!R.current)return;const U={placement:t,strategy:n,middleware:p};z.current&&(U.platform=z.current),y2e(M.current,R.current,U).then(K=>{const J={...K,isPositioned:G.current!==!1};X.current&&!FR(D.current,J)&&(D.current=J,ai.flushSync(()=>{f(J)}))})},[p,t,n,z,G]);fA(()=>{u===!1&&D.current.isPositioned&&(D.current.isPositioned=!1,f(U=>({...U,isPositioned:!1})))},[u]);const X=h.useRef(!1);fA(()=>(X.current=!0,()=>{X.current=!1}),[]),fA(()=>{if(w&&(M.current=w),P&&(R.current=P),w&&P){if(O.current)return O.current(w,P,ee);ee()}},[w,P,ee,O,H]);const se=h.useMemo(()=>({reference:M,floating:R,setReference:_,setFloating:k}),[_,k]),B=h.useMemo(()=>({reference:w,floating:P}),[w,P]),q=h.useMemo(()=>{const U={position:n,left:0,top:0};if(!B.floating)return U;const K=yse(B.floating,c.x),J=yse(B.floating,c.y);return a?{...U,transform:"translate("+K+"px, "+J+"px)",...b2e(B.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:K,top:J}},[n,a,B.floating,c.x,c.y]);return h.useMemo(()=>({...c,update:ee,refs:se,elements:B,floatingStyles:q}),[c,ee,se,B,q])}const jX=(e,t)=>({...$Je(e),options:[e,t]}),NX=(e,t)=>({...g2e(e),options:[e,t]}),FX=(e,t)=>({...v2e(e),options:[e,t]});function w2e(e){return h.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})},e)}const x2e={...UP},MJe=x2e.useInsertionEffect,LJe=MJe||(e=>e());function Xf(e){const t=h.useRef(()=>{});return LJe(()=>{t.current=e}),h.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current==null?void 0:t.current(...r)},[])}var tu=typeof document<"u"?h.useLayoutEffect:h.useEffect;function v4(){return v4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v4.apply(this,arguments)}let bse=!1,AJe=0;const wse=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+AJe++;function IJe(){const[e,t]=h.useState(()=>bse?wse():void 0);return tu(()=>{e==null&&t(wse())},[]),h.useEffect(()=>{bse=!0},[]),e}const RJe=x2e.useId,BX=RJe||IJe;function DJe(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(i=>i(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,((r=e.get(t))==null?void 0:r.filter(i=>i!==n))||[])}}}const OJe=h.createContext(null),jJe=h.createContext(null),zX=()=>{var e;return((e=h.useContext(OJe))==null?void 0:e.id)||null},jO=()=>h.useContext(jJe);function ex(e){return"data-floating-ui-"+e}function I2(e){const t=h.useRef(e);return tu(()=>{t.current=e}),t}const xse=ex("safe-polygon");function QN(e,t,n){return n&&!rU(n)?0:typeof e=="number"?e:e==null?void 0:e[t]}function NJe(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,dataRef:i,events:o,elements:s}=e,{enabled:a=!0,delay:l=0,handleClose:u=null,mouseOnly:c=!1,restMs:f=0,move:p=!0}=t,g=jO(),v=zX(),y=I2(u),S=I2(l),C=I2(n),_=h.useRef(),k=h.useRef(-1),w=h.useRef(),P=h.useRef(-1),M=h.useRef(!0),R=h.useRef(!1),D=h.useRef(()=>{}),H=h.useRef(!1),O=h.useCallback(()=>{var q;const U=(q=i.current.openEvent)==null?void 0:q.type;return(U==null?void 0:U.includes("mouse"))&&U!=="mousedown"},[i]);h.useEffect(()=>{if(!a)return;function q(U){let{open:K}=U;K||(clearTimeout(k.current),clearTimeout(P.current),M.current=!0,H.current=!1)}return o.on("openchange",q),()=>{o.off("openchange",q)}},[a,o]),h.useEffect(()=>{if(!a||!y.current||!n)return;function q(K){O()&&r(!1,K,"hover")}const U=El(s.floating).documentElement;return U.addEventListener("mouseleave",q),()=>{U.removeEventListener("mouseleave",q)}},[s.floating,n,r,a,y,O]);const z=h.useCallback(function(q,U,K){U===void 0&&(U=!0),K===void 0&&(K="hover");const J=QN(S.current,"close",_.current);J&&!w.current?(clearTimeout(k.current),k.current=window.setTimeout(()=>r(!1,q,K),J)):U&&(clearTimeout(k.current),r(!1,q,K))},[S,r]),G=Xf(()=>{D.current(),w.current=void 0}),ee=Xf(()=>{if(R.current){const q=El(s.floating).body;q.style.pointerEvents="",q.removeAttribute(xse),R.current=!1}}),X=Xf(()=>i.current.openEvent?["click","mousedown"].includes(i.current.openEvent.type):!1);h.useEffect(()=>{if(!a)return;function q(oe){if(clearTimeout(k.current),M.current=!1,c&&!rU(_.current)||f>0&&!QN(S.current,"open"))return;const he=QN(S.current,"open",_.current);he?k.current=window.setTimeout(()=>{C.current||r(!0,oe,"hover")},he):n||r(!0,oe,"hover")}function U(oe){if(X())return;D.current();const he=El(s.floating);if(clearTimeout(P.current),H.current=!1,y.current&&i.current.floatingContext){n||clearTimeout(k.current),w.current=y.current({...i.current.floatingContext,tree:g,x:oe.clientX,y:oe.clientY,onClose(){ee(),G(),X()||z(oe,!0,"safe-polygon")}});const re=w.current;he.addEventListener("mousemove",re),D.current=()=>{he.removeEventListener("mousemove",re)};return}(_.current==="touch"?!Sl(s.floating,oe.relatedTarget):!0)&&z(oe)}function K(oe){X()||i.current.floatingContext&&(y.current==null||y.current({...i.current.floatingContext,tree:g,x:oe.clientX,y:oe.clientY,onClose(){ee(),G(),X()||z(oe)}})(oe))}if(eo(s.domReference)){var J;const oe=s.domReference;return n&&oe.addEventListener("mouseleave",K),(J=s.floating)==null||J.addEventListener("mouseleave",K),p&&oe.addEventListener("mousemove",q,{once:!0}),oe.addEventListener("mouseenter",q),oe.addEventListener("mouseleave",U),()=>{var he;n&&oe.removeEventListener("mouseleave",K),(he=s.floating)==null||he.removeEventListener("mouseleave",K),p&&oe.removeEventListener("mousemove",q),oe.removeEventListener("mouseenter",q),oe.removeEventListener("mouseleave",U)}}},[s,a,e,c,f,p,z,G,ee,r,n,C,g,S,y,i,X]),tu(()=>{var q;if(a&&n&&(q=y.current)!=null&&q.__options.blockPointerEvents&&O()){R.current=!0;const K=s.floating;if(eo(s.domReference)&&K){var U;const J=El(s.floating).body;J.setAttribute(xse,"");const oe=s.domReference,he=g==null||(U=g.nodesRef.current.find(me=>me.id===v))==null||(U=U.context)==null?void 0:U.elements.floating;return he&&(he.style.pointerEvents=""),J.style.pointerEvents="none",oe.style.pointerEvents="auto",K.style.pointerEvents="auto",()=>{J.style.pointerEvents="",oe.style.pointerEvents="",K.style.pointerEvents=""}}}},[a,n,v,s,g,y,O]),tu(()=>{n||(_.current=void 0,H.current=!1,G(),ee())},[n,G,ee]),h.useEffect(()=>()=>{G(),clearTimeout(k.current),clearTimeout(P.current),ee()},[a,s.domReference,G,ee]);const se=h.useMemo(()=>{function q(U){_.current=U.pointerType}return{onPointerDown:q,onPointerEnter:q,onMouseMove(U){const{nativeEvent:K}=U;function J(){!M.current&&!C.current&&r(!0,K,"hover")}c&&!rU(_.current)||n||f===0||H.current&&U.movementX**2+U.movementY**2<2||(clearTimeout(P.current),_.current==="touch"?J():(H.current=!0,P.current=window.setTimeout(J,f)))}}},[c,r,n,C,f]),B=h.useMemo(()=>({onMouseEnter(){clearTimeout(k.current)},onMouseLeave(q){X()||z(q.nativeEvent,!1)}}),[z,X]);return h.useMemo(()=>a?{reference:se,floating:B}:{},[a,se,B])}let Sse=0;function iS(e,t){t===void 0&&(t={});const{preventScroll:n=!1,cancelPrevious:r=!0,sync:i=!1}=t;r&&cancelAnimationFrame(Sse);const o=()=>e==null?void 0:e.focus({preventScroll:n});i?o():Sse=requestAnimationFrame(o)}function FJe(e,t){var n;let r=[],i=(n=e.find(o=>o.id===t))==null?void 0:n.parentId;for(;i;){const o=e.find(s=>s.id===i);i=o==null?void 0:o.parentId,o&&(r=r.concat(o))}return r}function rP(e,t){let n=e.filter(i=>{var o;return i.parentId===t&&((o=i.context)==null?void 0:o.open)}),r=n;for(;r.length;)r=e.filter(i=>{var o;return(o=r)==null?void 0:o.some(s=>{var a;return i.parentId===s.id&&((a=i.context)==null?void 0:a.open)})}),n=n.concat(r);return n}let oS=new WeakMap,Y6=new WeakSet,X6={},JN=0;const BJe=()=>typeof HTMLElement<"u"&&"inert"in HTMLElement.prototype,S2e=e=>e&&(e.host||S2e(e.parentNode)),zJe=(e,t)=>t.map(n=>{if(e.contains(n))return n;const r=S2e(n);return e.contains(r)?r:null}).filter(n=>n!=null);function HJe(e,t,n,r){const i="data-floating-ui-inert",o=r?"inert":n?"aria-hidden":null,s=zJe(t,e),a=new Set,l=new Set(s),u=[];X6[i]||(X6[i]=new WeakMap);const c=X6[i];s.forEach(f),p(t),a.clear();function f(g){!g||a.has(g)||(a.add(g),g.parentNode&&f(g.parentNode))}function p(g){!g||l.has(g)||[].forEach.call(g.children,v=>{if(e1(v)!=="script")if(a.has(v))p(v);else{const y=o?v.getAttribute(o):null,S=y!==null&&y!=="false",C=(oS.get(v)||0)+1,_=(c.get(v)||0)+1;oS.set(v,C),c.set(v,_),u.push(v),C===1&&S&&Y6.add(v),_===1&&v.setAttribute(i,""),!S&&o&&v.setAttribute(o,"true")}})}return JN++,()=>{u.forEach(g=>{const v=(oS.get(g)||0)-1,y=(c.get(g)||0)-1;oS.set(g,v),c.set(g,y),v||(!Y6.has(g)&&o&&g.removeAttribute(o),Y6.delete(g)),y||g.removeAttribute(i)}),JN--,JN||(oS=new WeakMap,oS=new WeakMap,Y6=new WeakSet,X6={})}}function _se(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);const r=El(e[0]).body;return HJe(e.concat(Array.from(r.querySelectorAll("[aria-live]"))),r,t,n)}const y4=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function _2e(e,t){const n=DO(e,y4());t==="prev"&&n.reverse();const r=n.indexOf(Im(El(e)));return n.slice(r+1)[0]}function C2e(){return _2e(document.body,"next")}function E2e(){return _2e(document.body,"prev")}function iP(e,t){const n=t||e.currentTarget,r=e.relatedTarget;return!r||!Sl(n,r)}function VJe(e){DO(e,y4()).forEach(n=>{n.dataset.tabindex=n.getAttribute("tabindex")||"",n.setAttribute("tabindex","-1")})}function Cse(e){e.querySelectorAll("[data-tabindex]").forEach(n=>{const r=n.dataset.tabindex;delete n.dataset.tabindex,r?n.setAttribute("tabindex",r):n.removeAttribute("tabindex")})}const NO={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};let UJe;function Ese(e){e.key==="Tab"&&(e.target,clearTimeout(UJe))}const BR=h.forwardRef(function(t,n){const[r,i]=h.useState();tu(()=>(e2e()&&i("button"),document.addEventListener("keydown",Ese),()=>{document.removeEventListener("keydown",Ese)}),[]);const o={ref:n,tabIndex:0,role:r,"aria-hidden":r?void 0:!0,[ex("focus-guard")]:"",style:NO};return h.createElement("span",v4({},t,o))}),k2e=h.createContext(null),kse=ex("portal");function WJe(e){e===void 0&&(e={});const{id:t,root:n}=e,r=BX(),i=$2e(),[o,s]=h.useState(null),a=h.useRef(null);return tu(()=>()=>{o==null||o.remove(),queueMicrotask(()=>{a.current=null})},[o]),tu(()=>{if(!r||a.current)return;const l=t?document.getElementById(t):null;if(!l)return;const u=document.createElement("div");u.id=r,u.setAttribute(kse,""),l.appendChild(u),a.current=u,s(u)},[t,r]),tu(()=>{if(n===null||!r||a.current)return;let l=n||(i==null?void 0:i.portalNode);l&&!eo(l)&&(l=l.current),l=l||document.body;let u=null;t&&(u=document.createElement("div"),u.id=t,l.appendChild(u));const c=document.createElement("div");c.id=r,c.setAttribute(kse,""),l=u||l,l.appendChild(c),a.current=c,s(c)},[t,n,r,i]),o}function P2e(e){const{children:t,id:n,root:r,preserveTabOrder:i=!0}=e,o=WJe({id:n,root:r}),[s,a]=h.useState(null),l=h.useRef(null),u=h.useRef(null),c=h.useRef(null),f=h.useRef(null),p=s==null?void 0:s.modal,g=s==null?void 0:s.open,v=!!s&&!s.modal&&s.open&&i&&!!(r||o);return h.useEffect(()=>{if(!o||!i||p)return;function y(S){o&&iP(S)&&(S.type==="focusin"?Cse:VJe)(o)}return o.addEventListener("focusin",y,!0),o.addEventListener("focusout",y,!0),()=>{o.removeEventListener("focusin",y,!0),o.removeEventListener("focusout",y,!0)}},[o,i,p]),h.useEffect(()=>{o&&(g||Cse(o))},[g,o]),h.createElement(k2e.Provider,{value:h.useMemo(()=>({preserveTabOrder:i,beforeOutsideRef:l,afterOutsideRef:u,beforeInsideRef:c,afterInsideRef:f,portalNode:o,setFocusManagerState:a}),[i,o])},v&&o&&h.createElement(BR,{"data-type":"outside",ref:l,onFocus:y=>{if(iP(y,o)){var S;(S=c.current)==null||S.focus()}else{const C=E2e()||(s==null?void 0:s.refs.domReference.current);C==null||C.focus()}}}),v&&o&&h.createElement("span",{"aria-owns":o.id,style:NO}),o&&ai.createPortal(t,o),v&&o&&h.createElement(BR,{"data-type":"outside",ref:u,onFocus:y=>{if(iP(y,o)){var S;(S=f.current)==null||S.focus()}else{const C=C2e()||(s==null?void 0:s.refs.domReference.current);C==null||C.focus(),s!=null&&s.closeOnFocusOut&&(s==null||s.onOpenChange(!1,y.nativeEvent,"focus-out"))}}}))}const $2e=()=>h.useContext(k2e),sU="data-floating-ui-focusable";function KJe(e){return e?e.hasAttribute(sU)?e:e.querySelector("["+sU+"]")||e:null}const Pse=20;let U1=[];function eF(e){U1=U1.filter(n=>n.isConnected);let t=e;if(!(!t||e1(t)==="body")){if(!aJe(t,y4())){const n=DO(t,y4())[0];n&&(t=n)}U1.push(t),U1.length>Pse&&(U1=U1.slice(-Pse))}}function $se(){return U1.slice().reverse().find(e=>e.isConnected)}const qJe=h.forwardRef(function(t,n){return h.createElement("button",v4({},t,{type:"button",ref:n,tabIndex:-1,style:NO}))});function GJe(e){const{context:t,children:n,disabled:r=!1,order:i=["content"],guards:o=!0,initialFocus:s=0,returnFocus:a=!0,restoreFocus:l=!1,modal:u=!0,visuallyHiddenDismiss:c=!1,closeOnFocusOut:f=!0}=e,{open:p,refs:g,nodeId:v,onOpenChange:y,events:S,dataRef:C,floatingId:_,elements:{domReference:k,floating:w}}=t,P=typeof s=="number"&&s<0,M=RQe(k)&&P,R=BJe()?o:!0,D=I2(i),H=I2(s),O=I2(a),z=jO(),G=$2e(),ee=h.useRef(null),X=h.useRef(null),se=h.useRef(!1),B=h.useRef(!1),q=h.useRef(-1),U=G!=null,K=KJe(w),J=Xf(function(re){return re===void 0&&(re=K),re?DO(re,y4()):[]}),oe=Xf(re=>{const ue=J(re);return D.current.map(ce=>k&&ce==="reference"?k:K&&ce==="floating"?K:ue).filter(Boolean).flat()});h.useEffect(()=>{if(r||!u)return;function re(ce){if(ce.key==="Tab"){Sl(K,Im(El(K)))&&J().length===0&&!M&&ZN(ce);const we=oe(),Me=fy(ce);D.current[0]==="reference"&&Me===k&&(ZN(ce),ce.shiftKey?iS(we[we.length-1]):iS(we[1])),D.current[1]==="floating"&&Me===K&&ce.shiftKey&&(ZN(ce),iS(we[0]))}}const ue=El(K);return ue.addEventListener("keydown",re),()=>{ue.removeEventListener("keydown",re)}},[r,k,K,u,D,M,J,oe]),h.useEffect(()=>{if(r||!w)return;function re(ue){const ce=fy(ue),Me=J().indexOf(ce);Me!==-1&&(q.current=Me)}return w.addEventListener("focusin",re),()=>{w.removeEventListener("focusin",re)}},[r,w,J]),h.useEffect(()=>{if(r||!f)return;function re(){B.current=!0,setTimeout(()=>{B.current=!1})}function ue(ce){const we=ce.relatedTarget;queueMicrotask(()=>{const Me=!(Sl(k,we)||Sl(w,we)||Sl(we,w)||Sl(G==null?void 0:G.portalNode,we)||we!=null&&we.hasAttribute(ex("focus-guard"))||z&&(rP(z.nodesRef.current,v).find(Be=>{var ge,ye;return Sl((ge=Be.context)==null?void 0:ge.elements.floating,we)||Sl((ye=Be.context)==null?void 0:ye.elements.domReference,we)})||FJe(z.nodesRef.current,v).find(Be=>{var ge,ye;return((ge=Be.context)==null?void 0:ge.elements.floating)===we||((ye=Be.context)==null?void 0:ye.elements.domReference)===we})));if(l&&Me&&Im(El(K))===El(K).body){wa(K)&&K.focus();const Be=q.current,ge=J(),ye=ge[Be]||ge[ge.length-1]||K;wa(ye)&&ye.focus()}(M||!u)&&we&&Me&&!B.current&&we!==$se()&&(se.current=!0,y(!1,ce,"focus-out"))})}if(w&&wa(k))return k.addEventListener("focusout",ue),k.addEventListener("pointerdown",re),w.addEventListener("focusout",ue),()=>{k.removeEventListener("focusout",ue),k.removeEventListener("pointerdown",re),w.removeEventListener("focusout",ue)}},[r,k,w,K,u,v,z,G,y,f,l,J,M]),h.useEffect(()=>{var re;if(r)return;const ue=Array.from((G==null||(re=G.portalNode)==null?void 0:re.querySelectorAll("["+ex("portal")+"]"))||[]);if(w){const ce=[w,...ue,ee.current,X.current,D.current.includes("reference")||M?k:null].filter(Me=>Me!=null),we=u||M?_se(ce,R,!R):_se(ce);return()=>{we()}}},[r,k,w,u,D,G,M,R]),tu(()=>{if(r||!wa(K))return;const re=El(K),ue=Im(re);queueMicrotask(()=>{const ce=oe(K),we=H.current,Me=(typeof we=="number"?ce[we]:we.current)||K,Be=Sl(K,ue);!P&&!Be&&p&&iS(Me,{preventScroll:Me===K})})},[r,p,K,P,oe,H]),tu(()=>{if(r||!K)return;let re=!1;const ue=El(K),ce=Im(ue);let Me=C.current.openEvent;eF(ce);function Be(_e){let{open:$e,reason:He,event:Ve,nested:ot}=_e;$e&&(Me=Ve),He==="escape-key"&&g.domReference.current&&eF(g.domReference.current),He==="hover"&&Ve.type==="mouseleave"&&(se.current=!0),He==="outside-press"&&(ot?(se.current=!1,re=!0):se.current=!($Qe(Ve)||JSe(Ve)))}S.on("openchange",Be);const ge=ue.createElement("span");ge.setAttribute("tabindex","-1"),ge.setAttribute("aria-hidden","true"),Object.assign(ge.style,NO),U&&k&&k.insertAdjacentElement("afterend",ge);function ye(){return typeof O.current=="boolean"?$se()||ge:O.current.current||ge}return()=>{S.off("openchange",Be);const _e=Im(ue),$e=Sl(w,_e)||z&&rP(z.nodesRef.current,v).some(ot=>{var kt;return Sl((kt=ot.context)==null?void 0:kt.elements.floating,_e)});($e||Me&&["click","mousedown"].includes(Me.type))&&g.domReference.current&&eF(g.domReference.current);const Ve=ye();queueMicrotask(()=>{O.current&&!se.current&&wa(Ve)&&(!(Ve!==_e&&_e!==ue.body)||$e)&&Ve.focus({preventScroll:re}),ge.remove()})}},[r,w,K,O,C,g,S,z,v,U,k]),h.useEffect(()=>{queueMicrotask(()=>{se.current=!1})},[r]),tu(()=>{if(!r&&G)return G.setFocusManagerState({modal:u,closeOnFocusOut:f,open:p,onOpenChange:y,refs:g}),()=>{G.setFocusManagerState(null)}},[r,G,u,p,y,g,f]),tu(()=>{if(r||!K||typeof MutationObserver!="function"||P)return;const re=()=>{const ce=K.getAttribute("tabindex"),we=J(),Me=Im(El(w)),Be=we.indexOf(Me);Be!==-1&&(q.current=Be),D.current.includes("floating")||Me!==g.domReference.current&&we.length===0?ce!=="0"&&K.setAttribute("tabindex","0"):ce!=="-1"&&K.setAttribute("tabindex","-1")};re();const ue=new MutationObserver(re);return ue.observe(K,{childList:!0,subtree:!0,attributes:!0}),()=>{ue.disconnect()}},[r,w,K,g,D,J,P]);function he(re){return r||!c||!u?null:h.createElement(qJe,{ref:re==="start"?ee:X,onClick:ue=>y(!1,ue.nativeEvent)},typeof c=="string"?c:"Dismiss")}const me=!r&&R&&(u?!M:!0)&&(U||u);return h.createElement(h.Fragment,null,me&&h.createElement(BR,{"data-type":"inside",ref:G==null?void 0:G.beforeInsideRef,onFocus:re=>{if(u){const ce=oe();iS(i[0]==="reference"?ce[0]:ce[ce.length-1])}else if(G!=null&&G.preserveTabOrder&&G.portalNode)if(se.current=!1,iP(re,G.portalNode)){const ce=C2e()||k;ce==null||ce.focus()}else{var ue;(ue=G.beforeOutsideRef.current)==null||ue.focus()}}}),!M&&he("start"),n,he("end"),me&&h.createElement(BR,{"data-type":"inside",ref:G==null?void 0:G.afterInsideRef,onFocus:re=>{if(u)iS(oe()[0]);else if(G!=null&&G.preserveTabOrder&&G.portalNode)if(f&&(se.current=!0),iP(re,G.portalNode)){const ce=E2e()||k;ce==null||ce.focus()}else{var ue;(ue=G.afterOutsideRef.current)==null||ue.focus()}}}))}let Q6=0;function ZJe(){const e=/iP(hone|ad|od)|iOS/.test(RX()),t=document.body.style,r=Math.round(document.documentElement.getBoundingClientRect().left)+document.documentElement.scrollLeft?"paddingLeft":"paddingRight",i=window.innerWidth-document.documentElement.clientWidth,o=t.left?parseFloat(t.left):window.scrollX,s=t.top?parseFloat(t.top):window.scrollY;if(t.overflow="hidden",i&&(t[r]=i+"px"),e){var a,l;const u=((a=window.visualViewport)==null?void 0:a.offsetLeft)||0,c=((l=window.visualViewport)==null?void 0:l.offsetTop)||0;Object.assign(t,{position:"fixed",top:-(s-Math.floor(c))+"px",left:-(o-Math.floor(u))+"px",right:"0"})}return()=>{Object.assign(t,{overflow:"",[r]:""}),e&&(Object.assign(t,{position:"",top:"",left:"",right:""}),window.scrollTo(o,s))}}let Tse=()=>{};const YJe=h.forwardRef(function(t,n){const{lockScroll:r=!1,...i}=t;return tu(()=>{if(r)return Q6++,Q6===1&&(Tse=ZJe()),()=>{Q6--,Q6===0&&Tse()}},[r]),h.createElement("div",v4({ref:n},i,{style:{position:"fixed",overflow:"auto",top:0,right:0,bottom:0,left:0,...i.style}}))}),XJe={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},QJe={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},Mse=e=>{var t,n;return{escapeKey:typeof e=="boolean"?e:(t=e==null?void 0:e.escapeKey)!=null?t:!1,outsidePress:typeof e=="boolean"?e:(n=e==null?void 0:e.outsidePress)!=null?n:!0}};function JJe(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,elements:i,dataRef:o}=e,{enabled:s=!0,escapeKey:a=!0,outsidePress:l=!0,outsidePressEvent:u="pointerdown",referencePress:c=!1,referencePressEvent:f="pointerdown",ancestorScroll:p=!1,bubbles:g,capture:v}=t,y=jO(),S=Xf(typeof l=="function"?l:()=>!1),C=typeof l=="function"?S:l,_=h.useRef(!1),k=h.useRef(!1),{escapeKey:w,outsidePress:P}=Mse(g),{escapeKey:M,outsidePress:R}=Mse(v),D=h.useRef(!1),H=Xf(se=>{var B;if(!n||!s||!a||se.key!=="Escape"||D.current)return;const q=(B=o.current.floatingContext)==null?void 0:B.nodeId,U=y?rP(y.nodesRef.current,q):[];if(!w&&(se.stopPropagation(),U.length>0)){let K=!0;if(U.forEach(J=>{var oe;if((oe=J.context)!=null&&oe.open&&!J.context.dataRef.current.__escapeKeyBubbles){K=!1;return}}),!K)return}r(!1,LQe(se)?se.nativeEvent:se,"escape-key")}),O=Xf(se=>{var B;const q=()=>{var U;H(se),(U=fy(se))==null||U.removeEventListener("keydown",q)};(B=fy(se))==null||B.addEventListener("keydown",q)}),z=Xf(se=>{var B;const q=_.current;_.current=!1;const U=k.current;if(k.current=!1,u==="click"&&U||q||typeof C=="function"&&!C(se))return;const K=fy(se),J="["+ex("inert")+"]",oe=El(i.floating).querySelectorAll(J);let he=eo(K)?K:null;for(;he&&!A0(he);){const ce=Bg(he);if(A0(ce)||!eo(ce))break;he=ce}if(oe.length&&eo(K)&&!AQe(K)&&!Sl(K,i.floating)&&Array.from(oe).every(ce=>!Sl(he,ce)))return;if(wa(K)&&X){const ce=K.clientWidth>0&&K.scrollWidth>K.clientWidth,we=K.clientHeight>0&&K.scrollHeight>K.clientHeight;let Me=we&&se.offsetX>K.clientWidth;if(we&&rf(K).direction==="rtl"&&(Me=se.offsetX<=K.offsetWidth-K.clientWidth),Me||ce&&se.offsetY>K.clientHeight)return}const me=(B=o.current.floatingContext)==null?void 0:B.nodeId,re=y&&rP(y.nodesRef.current,me).some(ce=>{var we;return GN(se,(we=ce.context)==null?void 0:we.elements.floating)});if(GN(se,i.floating)||GN(se,i.domReference)||re)return;const ue=y?rP(y.nodesRef.current,me):[];if(ue.length>0){let ce=!0;if(ue.forEach(we=>{var Me;if((Me=we.context)!=null&&Me.open&&!we.context.dataRef.current.__outsidePressBubbles){ce=!1;return}}),!ce)return}r(!1,se,"outside-press")}),G=Xf(se=>{var B;const q=()=>{var U;z(se),(U=fy(se))==null||U.removeEventListener(u,q)};(B=fy(se))==null||B.addEventListener(u,q)});h.useEffect(()=>{if(!n||!s)return;o.current.__escapeKeyBubbles=w,o.current.__outsidePressBubbles=P;let se=-1;function B(oe){r(!1,oe,"ancestor-scroll")}function q(){window.clearTimeout(se),D.current=!0}function U(){se=window.setTimeout(()=>{D.current=!1},LO()?5:0)}const K=El(i.floating);a&&(K.addEventListener("keydown",M?O:H,M),K.addEventListener("compositionstart",q),K.addEventListener("compositionend",U)),C&&K.addEventListener(u,R?G:z,R);let J=[];return p&&(eo(i.domReference)&&(J=C0(i.domReference)),eo(i.floating)&&(J=J.concat(C0(i.floating))),!eo(i.reference)&&i.reference&&i.reference.contextElement&&(J=J.concat(C0(i.reference.contextElement)))),J=J.filter(oe=>{var he;return oe!==((he=K.defaultView)==null?void 0:he.visualViewport)}),J.forEach(oe=>{oe.addEventListener("scroll",B,{passive:!0})}),()=>{a&&(K.removeEventListener("keydown",M?O:H,M),K.removeEventListener("compositionstart",q),K.removeEventListener("compositionend",U)),C&&K.removeEventListener(u,R?G:z,R),J.forEach(oe=>{oe.removeEventListener("scroll",B)}),window.clearTimeout(se)}},[o,i,a,C,u,n,r,p,s,w,P,H,M,O,z,R,G]),h.useEffect(()=>{_.current=!1},[C,u]);const ee=h.useMemo(()=>({onKeyDown:H,[XJe[f]]:se=>{c&&r(!1,se.nativeEvent,"reference-press")}}),[H,r,c,f]),X=h.useMemo(()=>({onKeyDown:H,onMouseDown(){k.current=!0},onMouseUp(){k.current=!0},[QJe[u]]:()=>{_.current=!0}}),[H,u]);return h.useMemo(()=>s?{reference:ee,floating:X}:{},[s,ee,X])}function eet(e){const{open:t=!1,onOpenChange:n,elements:r}=e,i=BX(),o=h.useRef({}),[s]=h.useState(()=>DJe()),a=zX()!=null,[l,u]=h.useState(r.reference),c=Xf((g,v,y)=>{o.current.openEvent=g?v:void 0,s.emit("openchange",{open:g,event:v,reason:y,nested:a}),n==null||n(g,v,y)}),f=h.useMemo(()=>({setPositionReference:u}),[]),p=h.useMemo(()=>({reference:l||r.reference||null,floating:r.floating||null,domReference:r.reference}),[l,r.reference,r.floating]);return h.useMemo(()=>({dataRef:o,open:t,onOpenChange:c,elements:p,events:s,floatingId:i,refs:f}),[t,c,p,s,i,f])}function HX(e){e===void 0&&(e={});const{nodeId:t}=e,n=eet({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,i=r.elements,[o,s]=h.useState(null),[a,l]=h.useState(null),c=(i==null?void 0:i.domReference)||o,f=h.useRef(null),p=jO();tu(()=>{c&&(f.current=c)},[c]);const g=TJe({...e,elements:{...i,...a&&{reference:a}}}),v=h.useCallback(k=>{const w=eo(k)?{getBoundingClientRect:()=>k.getBoundingClientRect(),contextElement:k}:k;l(w),g.refs.setReference(w)},[g.refs]),y=h.useCallback(k=>{(eo(k)||k===null)&&(f.current=k,s(k)),(eo(g.refs.reference.current)||g.refs.reference.current===null||k!==null&&!eo(k))&&g.refs.setReference(k)},[g.refs]),S=h.useMemo(()=>({...g.refs,setReference:y,setPositionReference:v,domReference:f}),[g.refs,y,v]),C=h.useMemo(()=>({...g.elements,domReference:c}),[g.elements,c]),_=h.useMemo(()=>({...g,...r,refs:S,elements:C,nodeId:t}),[g,S,C,t,r]);return tu(()=>{r.dataRef.current.floatingContext=_;const k=p==null?void 0:p.nodesRef.current.find(w=>w.id===t);k&&(k.context=_)}),h.useMemo(()=>({...g,context:_,refs:S,elements:C}),[g,S,C,_])}function tet(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,events:i,dataRef:o,elements:s}=e,{enabled:a=!0,visibleOnly:l=!0}=t,u=h.useRef(!1),c=h.useRef(),f=h.useRef(!0);h.useEffect(()=>{if(!a)return;const g=oc(s.domReference);function v(){!n&&wa(s.domReference)&&s.domReference===Im(El(s.domReference))&&(u.current=!0)}function y(){f.current=!0}return g.addEventListener("blur",v),g.addEventListener("keydown",y,!0),()=>{g.removeEventListener("blur",v),g.removeEventListener("keydown",y,!0)}},[s.domReference,n,a]),h.useEffect(()=>{if(!a)return;function g(v){let{reason:y}=v;(y==="reference-press"||y==="escape-key")&&(u.current=!0)}return i.on("openchange",g),()=>{i.off("openchange",g)}},[i,a]),h.useEffect(()=>()=>{clearTimeout(c.current)},[]);const p=h.useMemo(()=>({onPointerDown(g){JSe(g.nativeEvent)||(f.current=!1)},onMouseLeave(){u.current=!1},onFocus(g){if(u.current)return;const v=fy(g.nativeEvent);if(l&&eo(v))try{if(e2e()&&TQe())throw Error();if(!v.matches(":focus-visible"))return}catch{if(!f.current&&!t2e(v))return}r(!0,g.nativeEvent,"focus")},onBlur(g){u.current=!1;const v=g.relatedTarget,y=g.nativeEvent,S=eo(v)&&v.hasAttribute(ex("focus-guard"))&&v.getAttribute("data-type")==="outside";c.current=window.setTimeout(()=>{var C;const _=Im(s.domReference?s.domReference.ownerDocument:document);!v&&_===s.domReference||Sl((C=o.current.floatingContext)==null?void 0:C.refs.floating.current,_)||Sl(s.domReference,_)||S||r(!1,y,"focus")})}}),[o,s.domReference,r,l]);return h.useMemo(()=>a?{reference:p}:{},[a,p])}const Lse="active",Ase="selected";function tF(e,t,n){const r=new Map,i=n==="item";let o=e;if(i&&e){const{[Lse]:s,[Ase]:a,...l}=e;o=l}return{...n==="floating"&&{tabIndex:-1,[sU]:""},...o,...t.map(s=>{const a=s?s[n]:null;return typeof a=="function"?e?a(e):null:a}).concat(e).reduce((s,a)=>(a&&Object.entries(a).forEach(l=>{let[u,c]=l;if(!(i&&[Lse,Ase].includes(u)))if(u.indexOf("on")===0){if(r.has(u)||r.set(u,[]),typeof c=="function"){var f;(f=r.get(u))==null||f.push(c),s[u]=function(){for(var p,g=arguments.length,v=new Array(g),y=0;y<g;y++)v[y]=arguments[y];return(p=r.get(u))==null?void 0:p.map(S=>S(...v)).find(S=>S!==void 0)}}}else s[u]=c}),s),{})}}function net(e){e===void 0&&(e=[]);const t=e.map(a=>a==null?void 0:a.reference),n=e.map(a=>a==null?void 0:a.floating),r=e.map(a=>a==null?void 0:a.item),i=h.useCallback(a=>tF(a,e,"reference"),t),o=h.useCallback(a=>tF(a,e,"floating"),n),s=h.useCallback(a=>tF(a,e,"item"),r);return h.useMemo(()=>({getReferenceProps:i,getFloatingProps:o,getItemProps:s}),[i,o,s])}const ret=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function iet(e,t){var n;t===void 0&&(t={});const{open:r,floatingId:i}=e,{enabled:o=!0,role:s="dialog"}=t,a=(n=ret.get(s))!=null?n:s,l=BX(),c=zX()!=null,f=h.useMemo(()=>a==="tooltip"||s==="label"?{["aria-"+(s==="label"?"labelledby":"describedby")]:r?i:void 0}:{"aria-expanded":r?"true":"false","aria-haspopup":a==="alertdialog"?"dialog":a,"aria-controls":r?i:void 0,...a==="listbox"&&{role:"combobox"},...a==="menu"&&{id:l},...a==="menu"&&c&&{role:"menuitem"},...s==="select"&&{"aria-autocomplete":"none"},...s==="combobox"&&{"aria-autocomplete":"list"}},[a,i,c,r,l,s]),p=h.useMemo(()=>{const v={id:i,...a&&{role:a}};return a==="tooltip"||s==="label"?v:{...v,...a==="menu"&&{"aria-labelledby":l}}},[a,i,l,s]),g=h.useCallback(v=>{let{active:y,selected:S}=v;const C={role:"option",...y&&{id:i+"-option"}};switch(s){case"select":return{...C,"aria-selected":y&&S};case"combobox":return{...C,...y&&{"aria-selected":!0}}}return{}},[i,s]);return h.useMemo(()=>o?{reference:f,floating:p,item:g}:{},[o,f,p,g])}const oet={BASE_URL:"./",DEV:!1,MODE:"production",PROD:!0,SSR:!1};var Ise=e=>{let t;const n=new Set,r=(c,f)=>{const p=typeof c=="function"?c(t):c;if(!Object.is(p,t)){const g=t;t=f??(typeof p!="object"||p===null)?p:Object.assign({},t,p),n.forEach(v=>v(t,g))}},i=()=>t,l={setState:r,getState:i,getInitialState:()=>u,subscribe:c=>(n.add(c),()=>n.delete(c)),destroy:()=>{(oet?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,i,l);return l},T2e=e=>e?Ise(e):Ise,M2e="http://library.stanford.edu/iiif/image-api/compliance.html#level0",L2e="http://library.stanford.edu/iiif/image-api/compliance.html#level1",A2e="http://library.stanford.edu/iiif/image-api/compliance.html#level2",I2e="http://library.stanford.edu/iiif/image-api/conformance.html#level0",R2e="http://library.stanford.edu/iiif/image-api/conformance.html#level1",D2e="http://library.stanford.edu/iiif/image-api/conformance.html#level2",O2e="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0",j2e="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level1",N2e="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level2",F2e="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level0",B2e="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level1",z2e="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level2",H2e="http://iiif.io/api/image/1/level0.json",V2e="http://iiif.io/api/image/1/profiles/level0.json",U2e="http://iiif.io/api/image/1/level1.json",W2e="http://iiif.io/api/image/1/profiles/level1.json",K2e="http://iiif.io/api/image/1/level2.json",q2e="http://iiif.io/api/image/1/profiles/level2.json",G2e="http://iiif.io/api/image/2/level0.json",Z2e="http://iiif.io/api/image/2/profiles/level0.json",Y2e="http://iiif.io/api/image/2/level1.json",X2e="http://iiif.io/api/image/2/profiles/level1.json",Q2e="http://iiif.io/api/image/2/level2.json",J2e="http://iiif.io/api/image/2/profiles/level2.json",e_e="level0",t_e="level1",n_e="level2",r_e="http://iiif.io/api/image/2/level0",i_e="http://iiif.io/api/image/2/level1",o_e="http://iiif.io/api/image/2/level2",FO=[o_e,A2e,D2e,N2e,z2e,K2e,q2e,Q2e,J2e,n_e],VX=[...FO,i_e,L2e,R2e,j2e,B2e,U2e,W2e,Y2e,X2e,t_e],s_e=[r_e,i_e,o_e,M2e,L2e,A2e,I2e,R2e,D2e,O2e,j2e,N2e,F2e,B2e,z2e,H2e,V2e,U2e,W2e,K2e,q2e,G2e,Z2e,Y2e,X2e,Q2e,J2e,e_e,t_e,n_e],set=s_e,a_e=[r_e,M2e,I2e,O2e,F2e,H2e,V2e,G2e,Z2e,e_e],aet={extraFormats:["jpg"],extraQualities:["default"],extraFeatures:["sizeByWhListed"]},uet={extraFormats:["jpg"],extraQualities:["default"],extraFeatures:["baseUriRedirect","cors","jsonldMediaType","regionByPx","regionSquare","sizeByWhListed","sizeByH","sizeByW","sizeByWh"]},cet={extraFormats:["jpg","png"],extraQualities:["default"],extraFeatures:["baseUriRedirect","cors","jsonldMediaType","regionByPct","regionByPx","regionSquare","rotationBy90s","sizeByWhListed","sizeByConfinedWh","sizeByH","sizeByPct","sizeByW","sizeByWh"]};function Xp(e){for(let t in e)(typeof e[t]>"u"||e[t]===null)&&delete e[t];return e}function W1(e){return Array.isArray(e)?e:e?[e]:[]}var det=Object.defineProperty,fet=(e,t,n)=>t in e?det(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,oy=(e,t,n)=>(fet(e,typeof t!="symbol"?t+"":t,n),n),Rse=["sc:Collection","sc:Manifest","sc:Canvas","sc:AnnotationList","oa:Annotation","sc:Range","sc:Layer","sc:Sequence","oa:Choice","Service","ContentResource"];function het(e){if(typeof e>"u"||e===null)throw new Error("Null or undefined is not a valid entity.");if(Array.isArray(e))throw new Error("Array is not a valid entity");if(typeof e!="object")throw new Error(`${typeof e} is not a valid entity`);if(typeof e["@type"]=="string"){let t=Rse.indexOf(e["@type"]);if(t!==-1)return Rse[t]}if(e.profile)return"Service";if(e.format||e["@type"])return"ContentResource";throw new Error("Resource type is not known")}var pet=class l_e{constructor(t,n={}){oy(this,"traversals"),oy(this,"options"),this.traversals={collection:[],manifest:[],canvas:[],annotationList:[],sequence:[],annotation:[],contentResource:[],choice:[],range:[],service:[],layer:[],...t},this.options={convertPropsToArray:!0,mergeMemberProperties:!0,allowUndefinedReturn:!1,...n}}static all(t){return new l_e({collection:[t],manifest:[t],canvas:[t],annotationList:[t],sequence:[t],annotation:[t],contentResource:[t],choice:[t],range:[t],service:[t],layer:[t]})}traverseCollection(t){return this.traverseType(this.traverseDescriptive(this.traverseLinking(this.traverseCollectionItems(t))),this.traversals.collection)}traverseCollectionItems(t){if(this.options.mergeMemberProperties){let n=[...(t.manifests||[]).map(r=>typeof r=="string"?{"@id":r,"@type":"sc:Manifest"}:r),...(t.collections||[]).map(r=>typeof r=="string"?{"@id":r,"@type":"sc:Collection"}:r),...t.members||[]];delete t.collections,delete t.manifests,t.members=n}return t.manifests&&(t.manifests=t.manifests.map(n=>this.traverseManifest(typeof n=="string"?{"@id":n,"@type":"sc:Manifest"}:n))),t.collections&&(t.collections=t.collections.map(n=>this.traverseCollection(typeof n=="string"?{"@id":n,"@type":"sc:Collection"}:n))),t.members&&(t.members=t.members.map(n=>typeof n=="string"?n:this.traverseUnknown(n))),t}traverseManifest(t){return this.traverseType(this.traverseDescriptive(this.traverseLinking(this.traverseManifestItems(t))),this.traversals.manifest)}traverseManifestItems(t){return t.sequences&&(t.sequences=t.sequences.map(n=>this.traverseSequence(n))),t.structures&&(t.structures=t.structures.map(n=>this.traverseRange(n))),t}traverseSequence(t){return this.traverseType(this.traverseDescriptive(this.traverseLinking(this.traverseSequenceItems(t))),this.traversals.sequence)}traverseSequenceItems(t){return t.canvases&&(t.canvases=t.canvases.map(n=>this.traverseCanvas(n))),t}traverseCanvas(t){return this.traverseType(this.traverseDescriptive(this.traverseLinking(this.traverseCanvasItems(t))),this.traversals.canvas)}traverseCanvasItems(t){return t.images&&(t.images=t.images.map(n=>this.traverseAnnotation(n))),t.otherContent&&(t.otherContent=t.otherContent.map(n=>this.traverseAnnotationList(n))),t}traverseRange(t){return this.traverseType(this.traverseDescriptive(this.traverseLinking(this.traverseRangeItems(t))),this.traversals.range)}traverseRangeItems(t){if(this.options.mergeMemberProperties){let n=[...(t.ranges||[]).map(r=>typeof r=="string"?{"@id":r,"@type":"sc:Range"}:r),...(t.canvases||[]).map(r=>typeof r=="string"?{"@id":r,"@type":"sc:Canvas"}:r),...t.members||[]];delete t.ranges,delete t.canvases,t.members=n.length?n.map(r=>this.traverseUnknown(r)):void 0}return t}traverseAnnotationList(t){let n=typeof t=="string"?{"@id":t,"@type":"sc:AnnotationList"}:t;return this.traverseType(this.traverseDescriptive(this.traverseAnnotationListItems(n)),this.traversals.annotationList)}traverseAnnotationListItems(t){return t.resources&&(t.resources=t.resources.map(n=>this.traverseAnnotation(n))),t}traverseAnnotation(t){return this.traverseType(this.traverseDescriptive(this.traverseLinking(this.traverseAnnotationItems(t))),this.traversals.annotation)}traverseAnnotationItems(t){return t.resource&&(Array.isArray(t.resource)?t.resource=t.resource.map(n=>this.traverseContentResource(n)):t.resource=this.traverseContentResource(t.resource)),t.on,t}traverseLayer(t){return this.traverseType(this.traverseLinking(this.traverseLayerItems(t)),this.traversals.layer)}traverseLayerItems(t){return t.otherContent&&(t.otherContent=t.otherContent.map(n=>this.traverseAnnotationList(n))),t}traverseChoice(t){return this.traverseType(this.traverseChoiceItems(t),this.traversals.choice)}traverseChoiceItems(t){return t.default&&t.default!=="rdf:nil"&&(t.default=this.traverseContentResource(t.default)),t.item&&t.item!=="rdf:nil"&&(t.item=t.item.map(n=>this.traverseContentResource(n))),t}traverseService(t){return this.traverseType(this.traverseLinking(t),this.traversals.service)}traverseContentResource(t){return t["@type"]==="oa:Choice"?this.traverseChoice(t):this.traverseType(this.traverseDescriptive(this.traverseLinking(t)),this.traversals.contentResource)}traverseUnknown(t){if(!t["@type"]||typeof t=="string")return t;switch(het(t)){case"sc:Collection":return this.traverseCollection(t);case"sc:Manifest":return this.traverseManifest(t);case"sc:Canvas":return this.traverseCanvas(t);case"sc:Sequence":return this.traverseSequence(t);case"sc:Range":return this.traverseRange(t);case"oa:Annotation":return this.traverseAnnotation(t);case"sc:AnnotationList":return this.traverseAnnotationList(t);case"sc:Layer":return this.traverseLayer(t);case"Service":return this.traverseService(t);case"oa:Choice":return this.traverseChoice(t);case"ContentResource":return this.traverseContentResource(t)}return t.profile?this.traverseService(t):t}traverseImageResource(t){let n=Array.isArray(t),r=Array.isArray(t)?t:[t],i=[];for(let o of r)typeof o=="string"?i.push(this.traverseContentResource({"@id":o,"@type":"dctypes:Image"})):i.push(this.traverseContentResource(o));return!n&&!this.options.convertPropsToArray?i[0]:i}traverseDescriptive(t){return t.thumbnail&&(t.thumbnail=this.traverseImageResource(t.thumbnail)),t.logo&&(t.logo=this.traverseImageResource(t.logo)),t}traverseOneOrMoreServices(t){let n=Array.isArray(t),r=Array.isArray(t)?t:[t],i=[];for(let o of r)i.push(this.traverseService(o));return!n&&!this.options.convertPropsToArray?i[0]:i}traverseLinking(t){return t.related&&(t.related=this.traverseOneOrManyType(t.related,this.traversals.contentResource)),t.rendering&&(t.rendering=this.traverseOneOrManyType(t.rendering,this.traversals.contentResource)),t.service&&(t.service=this.traverseOneOrMoreServices(t.service)),t.seeAlso&&(t.seeAlso=this.traverseOneOrManyType(t.seeAlso,this.traversals.contentResource)),t.within&&(typeof t.within=="string"||(t.within=this.traverseOneOrManyType(t.within,this.traversals.contentResource))),t.startCanvas&&(typeof t.startCanvas=="string"?t.startCanvas=this.traverseType({"@id":t.startCanvas,"@type":"sc:Canvas"},this.traversals.canvas):t.startCanvas&&this.traverseType(t.startCanvas,this.traversals.canvas)),t.contentLayer&&(typeof t.contentLayer=="string"?t.contentLayer=this.traverseLayer({"@id":t.contentLayer,"@type":"sc:Layer"}):t.contentLayer=this.traverseLayer(t.contentLayer)),t}traverseOneOrManyType(t,n){if(!Array.isArray(t))if(this.options.convertPropsToArray)t=[t];else return this.traverseType(t,n);return t.map(r=>this.traverseType(r,n))}traverseType(t,n){return n.reduce((r,i)=>{let o=i(r);return typeof o>"u"&&!this.options.allowUndefinedReturn?r:o},t)}},met="http://library.stanford.edu/iiif/image-api/compliance.html#level1",get="http://library.stanford.edu/iiif/image-api/compliance.html#level2",vet="http://library.stanford.edu/iiif/image-api/conformance.html#level1",yet="http://library.stanford.edu/iiif/image-api/conformance.html#level2",bet="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level1",wet="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level2",xet="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level1",_et="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level2",Cet="http://iiif.io/api/image/1/level1.json",Eet="http://iiif.io/api/image/1/profiles/level1.json",ket="http://iiif.io/api/image/1/level2.json",Pet="http://iiif.io/api/image/1/profiles/level2.json",$et="http://iiif.io/api/image/2/level1.json",Tet="http://iiif.io/api/image/2/profiles/level1.json",Met="http://iiif.io/api/image/2/level2.json",Let="http://iiif.io/api/image/2/profiles/level2.json",Aet="level1",Iet="level2",Ret="http://iiif.io/api/image/2/level1",Det="http://iiif.io/api/image/2/level2",Oet=[Ret,Det,met,get,vet,yet,bet,wet,xet,_et,Cet,Eet,ket,Pet,$et,Tet,Met,Let,Aet,Iet],aU={attributionLabel:"Attribution",lang:"none",providerId:"http://example.org/provider",providerName:"Unknown"};function jet(e){if(typeof e=="string")return[e];if(!e)return[];let t=Array.isArray(e)?e:[e],n=[];for(let r of t){if(typeof r=="string"){n.push(r);continue}n.push({"@language":r["@language"]||r.language,"@value":r["@value"]||r.value})}return n}function Cb(e,t="none"){if(!e)return{none:[""]};let n=jet(e),r={};for(let i of n){if(typeof i=="string"){r[t]=r[t]?r[t]:[],r[t].push(i||"");continue}if(!i["@language"]){r[t]=r[t]?r[t]:[],r[t].push(i["@value"]||"");continue}let o=i["@language"];r[o]=r[o]?r[o]:[],r[o].push(i["@value"]||"")}return Object.keys(r).length===0?{none:[""]}:r}function u_e(e){if(Array.isArray(e))return u_e(e.find(t=>typeof t=="string"));if(FO.indexOf(e)!==-1)return"level2";if(Oet.indexOf(e)!==-1)return"level1";if(set.indexOf(e)!==-1)return"level0";if(typeof e=="string")return e}function Net(e){let t=Array.isArray(e)?e:[e];for(let n of t)switch(n){case"http://iiif.io/api/image/2/context.json":case"http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level2":return"ImageService2";case"http://iiif.io/api/image/1/context.json":case"http://library.stanford.edu/iiif/image-api/1.1/context.json":return"ImageService1";case"http://iiif.io/api/annex/openannotation/context.json":return"ImageApiSelector"}}function Fet(e){switch(e){case"http://iiif.io/api/image/2/level0.json":case"http://iiif.io/api/image/2/level1.json":case"http://iiif.io/api/image/2/level2.json":return"ImageService2";case"http://iiif.io/api/auth/1/kiosk":case"http://iiif.io/api/auth/1/login":case"http://iiif.io/api/auth/1/clickthrough":case"http://iiif.io/api/auth/1/external":case"http://iiif.io/api/auth/0/kiosk":case"http://iiif.io/api/auth/0/login":case"http://iiif.io/api/auth/0/clickthrough":case"http://iiif.io/api/auth/0/external":return"AuthCookieService1";case"http://iiif.io/api/auth/1/token":case"http://iiif.io/api/auth/0/token":return"AuthTokenService1";case"http://iiif.io/api/auth/1/logout":case"http://iiif.io/api/auth/0/logout":return"AuthLogoutService1";case"http://iiif.io/api/search/1/search":case"http://iiif.io/api/search/0/search":return"SearchService1";case"http://iiif.io/api/search/1/autocomplete":case"http://iiif.io/api/search/0/autocomplete":return"AutoCompleteService1"}}function Dse(e){for(let t of["sc","oa","dcterms","dctypes","iiif"])if(e.startsWith(`${t}:`))return e.slice(t.length+1);return e}var Bet=["Collection","Manifest","Annotation","AnnotationPage","Range","Service"];function UX(e){let t=e["@id"]||e.id,n=e["@type"]||e.type,r=e.profile||void 0,i=e["@context"]||void 0;if(r){let o=Fet(r);if(o)return o}if(i){let o=Net(i);if(o)return o}if(n){if(Array.isArray(n)){if(n.indexOf("oa:CssStylesheet")!==-1)return"CssStylesheet";if(n.indexOf("cnt:ContentAsText")!==-1)return"TextualBody";n=n[0]}for(let o of["sc","oa","dcterms","dctypes","iiif"])if(n.startsWith(`${o}:`)){n=n.slice(o.length+1);break}switch(n){case"Layer":return"AnnotationCollection";case"AnnotationList":return"AnnotationPage";case"cnt:ContentAsText":return"TextualBody"}}if(n&&Bet.indexOf(n)!==-1)return n;if(e.format){if(e.format.startsWith("image/"))return"Image";if(e.format.startsWith("text/")||e.format==="application/pdf")return"Text";if(e.format.startsWith("application/"))return"Dataset"}return t&&(t.endsWith(".jpg")||t.endsWith(".png")||t.endsWith(".jpeg"))?"Image":n||"unknown"}var zet=/http(s)?:\/\/(creativecommons.org|rightsstatements.org)[^"'\\<\n]+/gm;function Het(e){let t=e.match(zet);return t?t[0]:e}function Vet(e,t="Rights/License",n="none"){let r=null,i=[],o=Array.isArray(e)?e:[e];for(let s of o){let a=s?Het(s):void 0;if(a&&(a.indexOf("creativecommons.org")!==-1||a.indexOf("rightsstatements.org")!==-1)){a.startsWith("https://")?r=`http://${a.slice(8)}`:r=a;continue}a&&i.push({label:{[n]:[t]},value:{[n]:[a]}})}return[r,i]}var Uet=["http://iiif.io/api/presentation/2/context.json","http://iiif.io/api/image/2/context.json","http://iiif.io/api/image/1/context.json","http://library.stanford.edu/iiif/image-api/1.1/context.json","http://iiif.io/api/search/1/context.json","http://iiif.io/api/search/0/context.json","http://iiif.io/api/auth/1/context.json","http://iiif.io/api/auth/0/context.json","http://iiif.io/api/annex/openannotation/context.json"];function Wet(e){if(e){let t=Array.isArray(e)?e:[e],n=[];for(let r of t)r==="http://iiif.io/api/presentation/2/context.json"&&n.push("http://iiif.io/api/presentation/3/context.json"),Uet.indexOf(r)===-1&&n.push(r);if(t.length)return n.length===1?n[0]:n}}function Ket(e){return e?e.map(t=>({label:Cb(t.label),value:Cb(t.value)})):[]}var Ose=0;function c_e(e,t){let n=encodeURI(e.id||e["@id"]||"").trim();return n&&t?`${n}/${t}`:n||(Ose++,`http://example.org/${e["@type"]}${t?`/${t}`:""}/${Ose}`)}function iv(e){let t=[...e.behavior||[]];e.viewingHint&&t.push(e.viewingHint);let n;return Array.isArray(e.motivation)?n=e.motivation.map(Dse):e.motivation&&(n=Dse(e.motivation)),{"@context":e["@context"]?Wet(e["@context"]):void 0,id:(e["@id"]||c_e(e)).trim(),type:UX(e),behavior:t.length?t:void 0,height:e.height?e.height:void 0,width:e.width?e.width:void 0,motivation:n,viewingDirection:e.viewingDirection,profile:e.profile,format:e.format?e.format:void 0,duration:void 0,timeMode:void 0}}function ov(e){let[t,n]=Vet(e.license),r=[...e.metadata?Ket(e.metadata):[],...n];return{rights:t,metadata:r.length?r:void 0,label:e.label?Cb(e.label):void 0,requiredStatement:e.attribution?{label:Cb(aU.attributionLabel),value:Cb(e.attribution)}:void 0,navDate:e.navDate,summary:e.description?Cb(e.description):void 0,thumbnail:qet(e.thumbnail)}}function qet(e){return e&&(Array.isArray(e)?e:[e]).map(t=>typeof t=="string"?{id:t,type:"Image"}:(t.type==="unknown"&&(t.type="Image"),t))}function Get(e){if(!e.within)return;let t=Array.isArray(e.within)?e.within:[e.within],n=[];for(let r of t)if(typeof r=="string"){if(r)switch(e["@type"]){case"sc:Manifest":n.push({id:r,type:"Collection"});break}}else r["@id"]&&n.push({id:r["@id"],type:UX(r)});return n.length?n:void 0}function t1(e){let t=e.related?Array.isArray(e.related)?e.related:[e.related]:[],n=e.contentLayer;return{provider:e.logo||t.length?[{id:aU.providerId,type:"Agent",homepage:t.length?[t[0]]:void 0,logo:e.logo?Array.isArray(e.logo)?e.logo:[e.logo]:void 0,label:Cb(aU.providerName)}]:void 0,partOf:Get(e),rendering:e.rendering,seeAlso:e.seeAlso,start:e.startCanvas,service:e.service?W1(e.service):void 0,supplementary:n?[n]:void 0}}function Zet(e){return{chars:e.chars,format:e.format?e.format:void 0,language:e.language}}function Yet(e){return Xp({...iv(e),...ov(e),...t1(e),items:e.members})}function Xet(e){let t=[],n=[],r,i;for(let s of e.sequences||[])console.log(s),s.canvases.length&&t.push(...s.canvases),s.behavior&&n.push(...s.behavior),s.viewingDirection&&(i=s.viewingDirection),s.startCanvas&&(r=s.startCanvas);let o=iv(e);return n.length&&(o.behavior?o.behavior.push(...n):o.behavior=n),Xp({...o,...ov(e),...t1(e),viewingDirection:i,start:r,items:t,structures:Qet(e.structures)})}function Qet(e){if(!e)return e;let t=new Map;for(let r of e)t.set(r.id,r);let n=[];for(let r of e)if(r.items){let i=r.items.map(o=>typeof o=="string"?(n.push(o),t.get(o)||o):o&&o.id?(n.push(o.id),t.get(o.id)||o):o);r.items=i}return e.filter(r=>n.indexOf(r.id)===-1)}function Jet(e){return Xp({...iv(e),...ov(e),...t1(e),annotations:e.otherContent&&e.otherContent.length?e.otherContent:void 0,items:e.images&&e.images.length?[{id:c_e(e,"annotation-page"),type:"AnnotationPage",items:e.images}]:void 0})}function ett(e){return Xp({...iv(e),...ov(e),...t1(e),items:e.resources&&e.resources.length?e.resources:void 0})}function ttt(e){return!e.canvases||e.canvases.length===0?{canvases:[],behavior:[]}:{canvases:e.canvases,behavior:e.viewingHint?[e.viewingHint]:[],viewingDirection:e.viewingDirection,startCanvas:e.startCanvas}}function ntt(e){function t(n){if(Array.isArray(n)){if(n.length>1)return{type:"List",items:n.map(t)};n=n[0]}if(typeof n=="string")return encodeURI(n).trim();if("@type"in n){let r;if(typeof n.full=="string")r=n.full;else if(n.full["@type"]==="dctypes:Image")r={id:n.full["@id"],type:"Image"};else if(n.full["@type"]==="sc:Canvas")r={id:n.full["@id"],type:"Canvas"};else throw new Error(`Unsupported source type on annotation: ${n.full["@type"]}`);return{type:"SpecificResource",source:r,selector:lU(n.selector)}}else return encodeURI(n["@id"]).trim()}return Xp({...iv(e),...ov(e),...t1(e),target:t(e.on),body:Array.isArray(e.resource)?e.resource.map(jse):jse(e.resource)})}function jse(e){return e.type==="Choice"?e:d_e(e)}function d_e(e){let t=e;return Xp({...iv(t),...ov(t),...t1(t),...Zet(t)})}function rtt(e){let t=[];return e.default&&e.default!=="rdf:nil"&&t.push(e.default),e.item&&e.item!=="rdf:nil"&&t.push(...e.item),Xp({...iv(e),...ov(e),items:t})}function itt(e){return Xp({...iv(e),...ov(e),...t1(e),items:e.members})}function ott(e){let{"@id":t,"@type":n,"@context":r,profile:i,...o}=e,s={};return t&&(s["@id"]=t),s["@type"]=UX(e),s["@type"]==="unknown"&&(r&&r.length&&(s["@context"]=r),s["@type"]="Service"),i&&(s.profile=u_e(i)),Xp({...s,...o})}function stt(e){return Xp({...iv(e),...ov(e),...t1(e)})}var att=new pet({collection:[Yet],manifest:[Xet],canvas:[Jet],annotationList:[ett],sequence:[ttt],annotation:[ntt],contentResource:[d_e],choice:[rtt],range:[itt],service:[ott],layer:[stt]});function f_e(e){return e&&e["@context"]&&(e["@context"]==="http://iiif.io/api/presentation/2/context.json"||e["@context"].indexOf("http://iiif.io/api/presentation/2/context.json")!==-1||e["@context"]==="http://www.shared-canvas.org/ns/context.json")||e["@context"]==="http://iiif.io/api/image/2/context.json"?att.traverseUnknown(e):e}function lU(e){if((Array.isArray(e["@type"])&&e["@type"].includes("oa:SvgSelector")||e["@type"]=="oa:SvgSelector")&&("chars"in e||"value"in e))return{type:"SvgSelector",value:"chars"in e?e.chars:e.value};if(e["@type"]==="oa:FragmentSelector")return{type:"FragmentSelector",value:e.value};if(e["@type"]==="oa:Choice")return[lU(e.default),...(Array.isArray(e.item)?e.item:[e.item]).map(lU)];if(e["@type"]=="iiif:ImageApiSelector")return{type:"ImageApiSelector",region:"region"in e?e.region:void 0,rotation:"rotation"in e?e.rotation:void 0};throw new Error(`Unsupported selector type: ${e["@type"]}`)}var ltt=f_e,J6={},IT={get(e){return e},setMetaValue([e,t,n],r){const i=IT.getResourceMeta(e,t),o=i?i[n]:void 0,s=typeof r=="function"?r(o):r;J6[e]={...J6[e]||{},[t]:{...(J6[e]||{})[t]||{},[n]:s}}},getResourceMeta:(e,t)=>{const n=J6[e];if(n)return t?n[t]:n},async load(e){const t=typeof e=="string"?e:e.id;return fetch(t).then(n=>n.json())},requestStatus(e){}};function utt(e){return e.type==="SpecificResource"?[e.source,{selector:e.selector}]:[e,{selector:null}]}function WX(e=IT){function t(i){const o=i?typeof i=="string"?e.get(i):i:null;if(!o)return[];const s=e.get(o.items,{parent:o}),a=[];for(const l of s)a.push(...e.get(l.items,{parent:l}));return a}function n(i,o=[]){const s=Array.isArray(i)?i:t(i),a=[];let l={items:[],type:"complex-choice"};const u=[];for(const c of s){if(c.type!=="Annotation")throw new Error("getPaintables() accept either a canvas or list of annotations");const f=Array.from(Array.isArray(c.body)?c.body:[c.body]);for(const p of f){const[g,{selector:v}]=utt(p),y=e.get(g),S=(y.type||"unknown").toLowerCase();if(S==="choice"){const C=e.get(y.items,{parent:y.id}),_=o.length?o.map(k=>C.find(w=>w.id===k)).filter(Boolean):[C[0]];_.length===0&&_.push(C[0]),l.items.push({type:"single-choice",items:C.map(k=>({id:k.id,label:k.label,selected:_.indexOf(k)!==-1})),label:g.label}),f.push(..._);continue}a.indexOf(S)===-1&&a.push(S),u.push({type:S,annotationId:c.id,annotation:c,resource:y,target:c.target,selector:v})}}return{types:a,items:u,choice:l.items.length<2?l.items[0]||null:l,allChoices:l.items.length?l:null}}function r(i){const{choice:o}=n(i);return o}return{getAllPaintingAnnotations:t,getPaintables:n,extractChoices:r}}function os(e){return typeof e=="string"?!1:e&&!e.type&&"source"in e?(e.type="SpecificResource",!0):!!e&&e.type==="SpecificResource"}function eM(...e){return t=>e.reduce((n,r)=>r(n),t)}var Nse=["Collection","Manifest","Canvas","AnnotationPage","AnnotationCollection","Annotation","ContentResource","Range","Service","Selector","Agent"];function ctt(e,t){if(typeof e>"u"||e===null)throw new Error("Null or undefined is not a valid entity.");if(Array.isArray(e))throw new Error("Array is not a valid entity");if(typeof e!="object"){if(t)return t;throw new Error(`${typeof e} is not a valid entity`)}if(typeof e.type=="string"){let n=Nse.indexOf(e.type);if(n!==-1)return Nse[n]}if(e.profile)return"Service";throw new Error("Resource type is not known")}var dtt=class h_e{constructor(t,n={}){oy(this,"traversals"),oy(this,"options"),oy(this,"_traverseManifest",eM(this.traverseManifestItems.bind(this),this.traverseLinking.bind(this),this.traverseDescriptive.bind(this),this.traverseLinkedCanvases.bind(this),this.traverseManifestStructures.bind(this),this.traverseInlineAnnotationPages.bind(this))),oy(this,"_traverseCanvas",eM(this.traverseCanvasItems.bind(this),this.traverseLinking.bind(this),this.traverseDescriptive.bind(this),this.traverseLinkedCanvases.bind(this),this.traverseInlineAnnotationPages.bind(this))),oy(this,"_traverseAnnotationPage",eM(this.traverseAnnotationPageItems.bind(this),this.traverseLinking.bind(this),this.traverseDescriptive.bind(this))),oy(this,"_traverseRange",eM(this.traverseRangeRanges.bind(this),this.traverseLinking.bind(this),this.traverseDescriptive.bind(this),this.traverseLinkedCanvases.bind(this))),this.traversals={collection:[],manifest:[],canvas:[],annotationCollection:[],annotationPage:[],annotation:[],contentResource:[],choice:[],range:[],service:[],agent:[],specificResource:[],geoJson:[],...t},this.options={allowUndefinedReturn:!1,...n}}static all(t){return new h_e({collection:[t],manifest:[t],canvas:[t],annotationCollection:[t],annotationPage:[t],annotation:[t],contentResource:[t],choice:[t],range:[t],service:[t],geoJson:[t],specificResource:[t],agent:[t]})}traverseDescriptive(t){return t.thumbnail&&(t.thumbnail=W1(t.thumbnail).map(n=>this.traverseType(n,{parent:t},this.traversals.contentResource))),t.provider&&(t.provider=t.provider.map(n=>this.traverseAgent(n,t))),t}traverseLinking(t){return t.seeAlso&&(t.seeAlso=t.seeAlso.map(n=>this.traverseType(n,{parent:t},this.traversals.contentResource))),t.service&&(t.service=W1(t.service).map(n=>this.traverseService(n))),t.services&&(t.services=W1(t.services).map(n=>this.traverseService(n,t))),t.logo&&(t.logo=t.logo.map(n=>this.traverseType(n,{parent:t},this.traversals.contentResource))),t.homepage&&(t.homepage=W1(t.homepage).map(n=>this.traverseType(n,{parent:t},this.traversals.contentResource))),t.partOf&&(t.partOf=t.partOf.map(n=>typeof n=="string"||!n.type?this.traverseType(n,{parent:t},this.traversals.contentResource):n.type==="Canvas"?this.traverseType(n,{parent:t},this.traversals.canvas):n.type==="AnnotationCollection"?this.traverseType(n,{parent:t},this.traversals.annotationCollection):n.type==="Collection"?this.traverseType(n,{parent:t},this.traversals.collection):this.traverseType(n,{parent:t},this.traversals.contentResource))),t.start&&(os(t.start)?t.start=this.traverseSpecificResource(t.start,"Canvas",t):t.start=this.traverseType(t.start,{parent:t},this.traversals.canvas)),t.rendering&&(t.rendering=t.rendering.map(n=>this.traverseType(n,{parent:t},this.traversals.contentResource))),t.supplementary&&(t.supplementary=t.supplementary.map(n=>this.traverseType(n,{parent:t},this.traversals.contentResource))),t}traverseCollectionItems(t){return t.items&&t.items.map(n=>n.type==="Collection"?this.traverseCollection(n):this.traverseManifest(n)),t}traverseCollection(t,n){return this.traverseType(this.traverseDescriptive(this.traverseInlineAnnotationPages(this.traverseLinking(this.traverseLinkedCanvases(this.traverseCollectionItems(t))))),{parent:n},this.traversals.collection)}traverseGeoJson(t,n){return this.traverseType(t,{parent:n},this.traversals.geoJson)}traverseNavPlace(t){return t.navPlace&&(t.navPlace=this.traverseGeoJson(t.navPlace,t)),t}traverseManifestItems(t){return t.items&&(t.items=t.items.map(n=>this.traverseCanvas(n))),t}traverseManifestStructures(t){return t.structures&&(t.structures=t.structures.map(n=>this.traverseRange(n))),t}traverseManifest(t,n){return this.traverseType(this._traverseManifest(t),{parent:n},this.traversals.manifest)}traverseCanvasItems(t){return t.items=(t.items||[]).map(n=>this.traverseAnnotationPage(n,t)),t}traverseInlineAnnotationPages(t){return typeof t=="string"||!t||t.annotations&&(t.annotations=t.annotations.map(n=>this.traverseAnnotationPage(n,t))),t}traverseCanvas(t,n){return this.traverseType(this._traverseCanvas(t),{parent:n},this.traversals.canvas)}traverseAnnotationPageItems(t){return t.items&&(t.items=t.items.map(n=>this.traverseAnnotation(n,t))),t}traverseAnnotationPage(t,n){return this.traverseType(this._traverseAnnotationPage(t),{parent:n},this.traversals.annotationPage)}traverseAnnotationBody(t){return Array.isArray(t.body)?t.body=t.body.map(n=>this.traverseContentResource(n,t)):t.body&&(t.body=this.traverseContentResource(t.body,t)),t}traverseLinkedCanvases(t){return t.placeholderCanvas&&(t.placeholderCanvas=this.traverseCanvas(t.placeholderCanvas)),t.accompanyingCanvas&&(t.accompanyingCanvas=this.traverseCanvas(t.accompanyingCanvas)),t}traverseAnnotation(t,n){return this.traverseType(this.traverseLinking(this.traverseAnnotationBody(this.traverseDescriptive(t))),{parent:n},this.traversals.annotation)}traverseContentResourceLinking(t){return typeof t=="string"||!t||t&&t.service&&(t.service=W1(t.service||[]).map(n=>this.traverseService(n,t))),t}traverseContentResource(t,n){return t.type==="Choice"&&(t.items=t.items.map(r=>this.traverseContentResource(r,t))),os(t)?this.traverseSpecificResource(t,"ContentResource"):this.traverseType(this.traverseInlineAnnotationPages(this.traverseContentResourceLinking(t)),{parent:n},this.traversals.contentResource)}traverseSpecificResource(t,n,r){let i=t.source;return typeof t.source=="string"&&(i={id:t.source,type:n||"unknown"}),this.traverseType({...t,source:n==="Canvas"||i.type==="Canvas"?this.traverseType(i,{parent:r},this.traversals.canvas):n==="ContentResource"?this.traverseContentResource(i,{parent:r}):this.traverseUnknown(i,{parent:r,typeHint:n})},{parent:r},this.traversals.specificResource)}traverseRangeRanges(t){return t.items&&(t.items=t.items.map(n=>typeof n=="string"?this.traverseCanvas({id:n,type:"Canvas"},t):os(n)?this.traverseSpecificResource(n,"Canvas",t):n.type==="Manifest"?this.traverseManifest(n,t):this.traverseRange(n,t))),t}traverseRange(t,n){return this.traverseType(this._traverseRange(t),{parent:n},this.traversals.range)}traverseAgent(t,n){return this.traverseType(this.traverseDescriptive(this.traverseLinking(t)),{parent:n},this.traversals.agent)}traverseType(t,n,r){return r.reduce((i,o)=>{let s=o(i,n);return typeof s>"u"&&!this.options.allowUndefinedReturn?i:s},t)}traverseService(t,n){let r=Object.assign({},t);return r&&r.service&&(r.service=W1(r.service).map(i=>this.traverseService(i))),this.traverseType(r,{parent:n},this.traversals.service)}traverseUnknown(t,{parent:n,typeHint:r}={}){let i=ctt(t,r);switch(i){case"Collection":return this.traverseCollection(t,n);case"Manifest":return this.traverseManifest(t,n);case"Canvas":return this.traverseCanvas(t,n);case"AnnotationPage":return this.traverseAnnotationPage(t,n);case"Annotation":return this.traverseAnnotation(t,n);case"ContentResource":return this.traverseContentResource(t,n);case"Range":return this.traverseRange(t,n);case"Service":return this.traverseService(t,n);case"Agent":return this.traverseAgent(t,n);default:throw new Error(`Unknown or unsupported resource type of ${i}`)}}};function Oi(e,t){let n=t||"unknown";if(!e)return;if(typeof e=="string")return{id:e,type:n};if(os(e))return Oi(e.source,t);let r=n&&n!=="unknown"?n:e.type||e["@type"],i=e.id||e["@id"];if(r&&r.indexOf(":")!==-1&&(r=r.split(":").pop()),i&&r)return{id:i,type:r}}var oP={},Mo="iiif-parser:hasPart",dh="iiif-parser:partOf",R2="iiif-parser:isExternal",Qf="__$UNSET$__",p_e="__$UNWRAP$__",St=[];Object.freeze(St);Object.freeze(oP);function ftt(e){if(e===oP||Object.keys(e).length===0)return!0;for(let t in e)return!1;return!0}function KX(e,t){if(t&&t["@explicit"]){let n={},r=Object.keys(t);for(let i of r)i===dh||i==="@explicit"||(ftt(t[i])?n[i]=e[i]:n[i]=t[i]);return n}return e}function m_e(e,t,n){let r=Oi(t);if(!r)return[void 0,void 0];let i=e.requests[r.id],o=r.type||e.mapping[r.id];if(!o||i&&i.resourceUri&&(!e.entities[o]||!e.entities[o][i.resourceUri]))return[void 0,void 0];let s=e.entities[o][i?i.resourceUri:r.id];if(r.type&&!s)return m_e(e,{id:r.id},n);if(s&&s[Mo]){let a=s[Mo].find(l=>n?l[dh]===n.id:l[dh]===s.id);return[KX(s,a),s]}return[s,s]}var g_e={id:"https://iiif-parser/annotation",type:"Annotation",behavior:St,label:null,thumbnail:St,summary:null,requiredStatement:null,metadata:St,seeAlso:St,homepage:St,rendering:St,service:St,accessibility:St,audience:St,body:St,bodyValue:null,canonical:null,created:null,creator:St,generated:null,generator:St,modified:null,motivation:St,rights:null,stylesheet:null,target:St,timeMode:void 0,via:St,partOf:St},qX={id:"https://iiif-parser/annotation-page",type:"AnnotationPage",behavior:St,label:null,thumbnail:St,summary:null,requiredStatement:null,metadata:St,rights:null,provider:St,items:St,seeAlso:St,homepage:St,rendering:St,service:St},v_e={id:"https://iiif-parser/empty-canvas",type:"Canvas",label:null,behavior:St,thumbnail:St,accompanyingCanvas:null,placeholderCanvas:null,summary:null,requiredStatement:null,metadata:St,rights:null,navDate:null,provider:St,items:St,annotations:St,seeAlso:St,homepage:St,partOf:St,rendering:St,service:St,duration:0,height:0,width:0},y_e={id:"https://iiif-parser/empty-collection",type:"Collection",label:null,viewingDirection:"left-to-right",behavior:St,thumbnail:St,accompanyingCanvas:null,placeholderCanvas:null,summary:null,requiredStatement:null,metadata:St,rights:null,navDate:null,provider:St,items:St,annotations:St,seeAlso:St,homepage:St,partOf:St,rendering:St,service:St,services:St},b_e={id:"https://iiif-parser/empty-manifest",type:"Manifest",annotations:St,behavior:St,homepage:St,items:St,label:null,metadata:St,navDate:null,provider:St,partOf:St,accompanyingCanvas:null,placeholderCanvas:null,rendering:St,requiredStatement:null,rights:null,seeAlso:St,service:St,services:St,start:null,structures:St,summary:null,thumbnail:St,viewingDirection:"left-to-right"},w_e={id:"https://iiif-parser/empty-canvas",type:"Range",label:null,behavior:St,thumbnail:St,accompanyingCanvas:null,placeholderCanvas:null,summary:null,requiredStatement:null,metadata:St,rights:null,navDate:null,provider:St,items:St,annotations:St,seeAlso:St,homepage:St,partOf:St,rendering:St,service:St,start:null,supplementary:null,viewingDirection:"left-to-right"},x_e={id:"https://iiif-parser/empty-agent",type:"Agent",label:{},logo:St,seeAlso:St,homepage:St},S_e={id:"https://iiif-parser/empty-service",type:"UnknownService"};function uU(e,t={}){if(Array.isArray(e))return uU(e[0]);if(typeof e=="string"){let[n,r]=e.split("#");return r?{type:"SpecificResource",source:{id:n,type:t.typeHint||"Unknown"},selector:{type:"FragmentSelector",value:r}}:{type:"SpecificResource",source:{id:n,type:t.typeMap&&t.typeMap[n]||t.typeHint||"Unknown"}}}if(e.type==="Choice"||e.type==="List"||e.type==="Composite"||e.type==="Independents")return uU(e.items[0]);if(!e.type&&"source"in e&&(e.type="SpecificResource"),e.type==="SpecificResource")return e.source.type==="Canvas"&&e.source.partOf&&typeof e.source.partOf=="string"&&(e.source.partOf=[{id:e.source.partOf,type:"Manifest"}]),e.selector?{type:"SpecificResource",source:e.source,selector:e.selector}:{type:"SpecificResource",source:e.source};if(e.id){e.type==="Canvas"&&e.partOf&&typeof e.partOf=="string"&&(e.partOf=[{id:e.partOf,type:"Manifest"}]);let[n,r]=e.id.split("#");return r?{type:"SpecificResource",source:{...e,id:n},selector:{type:"FragmentSelector",value:r}}:{type:"SpecificResource",source:{...e,id:n}}}return{type:"SpecificResource",source:e}}function htt(){return{Collection:{},Manifest:{},Canvas:{},AnnotationPage:{},AnnotationCollection:{},Annotation:{},ContentResource:{},Range:{},Service:{},Selector:{},Agent:{}}}function __e(e,t){if(typeof e=="string")return{id:e,type:t};if(!e.id)throw new Error(`Invalid resource does not have an ID (${JSON.stringify(e)}, ${t})`);return e}function ptt(e,t){return(n,r)=>{let i=e[n]?e[n]:{};return(o,s)=>{let a=__e(o,r||n);return a&&a.id&&n?(i[a.id]=i[a.id]?dU(i[a.id],a,{parent:s.parent,isTopLevel:t.id===a.id}):dU({id:a.id,type:a.type},a,{parent:s.parent,isTopLevel:t.id===a.id}),{id:a.id,type:n==="ContentResource"?n:a.type}):a}}}function cU(e,t,n){if(!t)return e;if(Array.isArray(e)){if(!Array.isArray(t))throw new Error("Cannot merge array with non-array");let r=[...e];for(let i of t)if(i["@id"]&&!i.id&&(i.id=i["@id"]),i["@type"]&&!i.type&&(i.type=i["@type"]),i!=null)if(Array.isArray(i))r.push(i);else if(typeof i=="object"&&i.id&&i.type){let o=r.findIndex(s=>s.id===i.id&&s.type===i.type);o>=0&&(r[o]=cU(r[o],i))}else e.indexOf(i)===-1&&r.push(i);return r}else if(typeof e=="object"){if(Array.isArray(t)||typeof t!="object")throw new Error("Cannot merge object with non-object");let r={...e},i=[],o=[],s=Object.keys(e).filter(u=>u!==Mo&&u!=="id"&&u!=="type"),a={},l={};for(let[u,c]of Object.entries(t)){if(u===Mo||u==="id"||u==="type")continue;let f=r[u];f===c?o.push(u):f===St||!f?(i.push(u),r[u]=c):(f&&c&&(a[u]=f,l[u]=c),r[u]=cU(f,c),r[u]===a[u]&&(o.push(u),delete a[u]))}if(n&&(n.parent&&n.parent.id||n.isTopLevel)){let u=[],c={};if(n.parent?c[dh]=n.parent.id:n.isTopLevel&&(c[dh]=e.id),r[Mo]&&r[Mo].length){let f=!(r[Mo]||[]).find(g=>g["@explicit"]),p=i.length>0||o.length!==s.length;if(f&&p)for(let g of r[Mo]){let v={...g},y=Object.keys(a);if(v){v["@explicit"]=!0;for(let S of s)S!==Mo&&(v[S]=oP);for(let S of y)v[S]=a[S]}u.push(v)}else u.push(...r[Mo]);if(p){let g=Object.keys(l);c["@explicit"]=!0;for(let v of i)c[v]=oP;for(let v of o)c[v]=oP;for(let v of g)c[v]=l[v]}}c.id=r.id,c.type=r.type,u.push(c),r[Mo]=u}return r}else if(e)return e;return t}function dU(e,t,n){if(typeof e=="string")return e;if(t.id!==e.id||t.type!==e.type){if(t.type==="ImageService3")return t;if(e.type==="ImageService3")return e;throw new Error(`Can only merge entities with identical identifiers and type! ${t.type}(${t.id}) => ${e.type}(${e.id})`)}return cU({...e},t,n)}function mtt(e){return(t,n)=>r=>{let{id:i,type:o}=__e(r,n||t);if(typeof i>"u")throw new Error("Found invalid entity without an ID.");return t==="ContentResource"||t==="Service"?e[i]=t:e[i]=o,r}}function gtt(e){let t=Object.assign({},e);if(t["@id"]&&(t.id=t["@id"]),t["@type"]&&(t.type=t["@type"]),t.service){let n=[];t.service=Array.isArray(t.service)?t.service:[t.service];for(let r of t.service)n.push({id:r["@id"]||r.id,type:r["@type"]||r.type});t.service=n}return Object.assign({},S_e,t)}function vtt(e){return t=>{e.Service=e.Service?e.Service:{};let n=t.id||t["@id"],r=gtt(t);return r&&r.id&&(e.Service[r.id]?e.Service[n]=dU(e.Service[n],r):e.Service[n]=r),t}}function ytt(e){let t=JSON.stringify(e),n=5381,r=t.length;for(;r;)n=n*33^t.charCodeAt(--r);let i=(n>>>0).toString(16);return i.length%2?"0"+i:i}function nF(e){return t=>typeof t=="string"?{id:t,type:e}:t.id?t.type?t:{type:e,...t}:{id:`vault://${ytt(t)}`,type:e,...t}}function sS(e){return t=>({...e,...t})}function _E(e){return Array.isArray(e)?e:[e]}function btt(e){return e.body&&(e.body=_E(e.body)),e.seeAlso&&(e.seeAlso=_E(e.seeAlso)),e.audience&&(e.audience=_E(e.audience)),e.accessibility&&(e.accessibility=_E(e.accessibility)),e.motivation&&(e.motivation=_E(e.motivation)),e}function C_e(e,{typeHint:t,partOfTypeHint:n}={}){if(typeof e=="string"&&(e={id:e,type:t||"unknown"}),os(e))return typeof e.source=="string"&&(e.source={id:e.source,type:t||"unknown"}),e.source.type==="Canvas"&&e.source.partOf&&typeof e.source.partOf=="string"&&(e.source.partOf=[{id:e.source.partOf,type:n||"Manifest"}]),e;let r;if((e.id||"").indexOf("#")!==-1){let[i,o]=(e.id||"").split("#");e.id=i,o&&(r={type:"FragmentSelector",value:o})}return{type:"SpecificResource",source:e,selector:r}}function wtt(e){let t=Object.assign({},e);return e&&e.items&&(t.items=e.items.map(n=>typeof n=="string"||n.type==="Canvas"?C_e(n):n)),t}function xtt(e){let t=Object.assign({},e);return t.start?(t.start=C_e(t.start,{typeHint:"Canvas"}),t):e}function Stt(e){let t=Object.assign({},e);return t.target?(t.target=uU(t.target,{typeHint:"Canvas"}),t):e}function _tt(e){return e}function rF(e){return typeof e.items>"u"&&(e[R2]=!0),e}function Ctt(e){let t=f_e(e),n=htt(),r={},i=ptt(n,t),o=mtt(r),s=new dtt({collection:[rF,sS(y_e),o("Collection"),i("Collection")],manifest:[rF,sS(b_e),xtt,o("Manifest"),i("Manifest")],canvas:[sS(v_e),o("Canvas"),i("Canvas")],annotationPage:[rF,nF("AnnotationPage"),sS(qX),o("AnnotationPage"),i("AnnotationPage")],annotation:[nF("Annotation"),btt,Stt,o("Annotation"),i("Annotation")],contentResource:[nF("ContentResource"),o("ContentResource"),i("ContentResource")],range:[sS(w_e),wtt,o("Range","Canvas"),i("Range","Canvas")],agent:[sS(x_e),o("Agent"),i("Agent")],specificResource:[_tt],service:[vtt(n)]}).traverseUnknown(t);return{entities:n,resource:s,mapping:r}}function Ett(e){let t={};for(let[n,r]of e){if(n===p_e&&r!==Qf)return r;r!==Qf&&typeof r<"u"&&r!==null&&(t[n]=r)}return t}function ktt(e,t,n){if(!t.type||!t.id)throw new Error("Unknown entity");if(!n[t.type])throw new Error(`Serializer not found for ${t.type}`);function r(i,o,s=0){let a=n[i.type];if(!a)return Qf;if(s>20)throw new Error("Circular reference: "+i.id+" "+i.type);let[l,u]=m_e(e,i.type?i:i.id,o)||(i.id&&i.type?i:null);if(!l)return Qf;let c=a(l,e,{parent:o,isTopLevel:t.id===i.id,fullResource:u}),f=c.next();for(;!f.done;){let p=f.value,g=Qf;if(p)if(Array.isArray(p)){let v=[];for(let y of p)v.push(r(y,i,s+1));g=v}else g=r(p,i,s+1);f=c.next(g)}return f.value===Qf?Qf:Ett(f.value)}return r(t)}function sP(e,{allowSourceString:t=!0,allowString:n=!1,allowedStringType:r}={}){let i=o=>{if(t&&o&&o.source&&typeof o.source!="string"){let s=Object.keys(o.source);if(o.source.id&&o.source.type&&s.length===2)return{...o,source:o.source.id}}return o};if(e){if(e.source&&e.source.partOf)return i(e);let o=Object.keys(e);if(o.length===2&&e.type&&e.source||o.length===3&&e.type&&e.source&&o.indexOf("selector")!==-1&&!e.selector)return n&&(!r||r===e.source.type)?e.source.id:e.source.type==="ContentResource"?{type:"SpecificResource",source:e.source.id}:e.source;if(e.selector&&!Array.isArray(e.selector)&&typeof e.selector!="string"&&e.selector.type==="FragmentSelector"){let s=`${e.source.id}#${e.selector.value}`;return n?s:{id:s,type:e.source.type}}}return i(e)}function AS(e){if(!e)return;let t=Object.keys(e);if(t.length!==0){if(t.length===1){let n=t[0];if(!n)return"";let r=(e[n]||[]).join("");return n==="@none"||n==="none"||n==="en"?r:{"@language":n,"@value":r}}return t.map(n=>({"@language":n,"@value":(e[n]||[]).join("")}))}}function E_e(e){return Array.isArray(e)?e.map(t=>E_e(t)):typeof e=="string"?e:e.type&&e.type==="Canvas"?e.id:e}function E0(e,t=!1){if(e)return e.length>1&&!t?e:e[0]||void 0}function Ptt(e){if(e){if(typeof e=="string")return{"@id":e};if("@id"in e){let t={...e};return delete t["@type"],t}return{"@context":"http://iiif.io/api/image/2/context.json","@id":e.id,profile:`http://iiif.io/api/image/2/profiles/${e.profile}.json`}}}function R1(e,t){return[["@id",e.id],["@type",t],["format",e.format],["height",e.height],["width",e.width],["viewingDirection",e.viewingDirection!=="left-to-right"?e.viewingDirection:void 0],["license",e.license?e.license:void 0]]}function*D1(e){let t=e.provider?yield e.provider[0]:void 0;return[["label",AS(e.label)],["metadata",e.metadata&&e.metadata.length?e.metadata.map(n=>({label:AS(n.label)||"",value:AS(n.value)||""})):void 0],["description",AS(e.summary)],["thumbnail",E0(yield e.thumbnail)],["navDate",e.navDate],["logo",t?E0(t.logo):void 0],["homepage",t?t.homepage:void 0],["attribution",e.requiredStatement?AS(e.requiredStatement.value):void 0]]}function*CE(e){let t=e.start&&e.start.type&&e.start.type==="SpecificResource"?sP(e.start):e.start;return[["seeAlso",E0(yield e.seeAlso)],["service",E0((e.service||[]).map(Ptt))],["rendering",E0(yield e.rendering)],["startCanvas",t?t.id:void 0]]}function $tt(e){return e.type==="SpecificResource"}function Ttt(e){return e&&e.type==="FragmentSelector"}function Mtt(e){if(e&&$tt(e)){let t=e.id,n=e.selector?Array.isArray(e.selector)?e.selector[0]:e.selector:void 0;return Ttt(n)&&(t+="#"+n.value),t}return e==null?void 0:e.id}var Ltt={Manifest:function*(e,t,{isTopLevel:n}){return[...n?[["@context","http://iiif.io/api/presentation/2/context.json"]]:[],...R1(e,"sc:Manifest"),...yield*D1(e),...yield*CE(e),["sequences",[{"@id":`${e.id}/sequence0`,"@type":"sc:Sequence",canvases:yield e.items}]],["structures",yield e.structures]]},Canvas:function*(e){let t=(yield e.items)[0];return[...R1(e,"sc:Canvas"),...yield*D1(e),...yield*CE(e),["images",t?[t.resources]:void 0],["annotations",e.annotations&&e.annotations.length?E0(yield e.annotations):void 0]]},AnnotationPage:function*(e){return[...R1(e,"sc:AnnotationList"),...yield*D1(e),["resources",e.items&&e.items.length?E0(yield e.items):void 0]]},Annotation:function*(e){return[["@id",e.id],["@type","oa:Annotation"],["motivation","sc:painting"],["on",E_e(e.target)],["resource",E0(yield e.body,!0)]]},ContentResource:function*(e){switch(e.type){case"Image":return[...R1(e,"dctypes:Image"),...yield*D1(e),...yield*CE(e)];case"Text":case"Dataset":default:return[...R1(e,void 0),...yield*D1(e)]}},AnnotationCollection:function*(e){return[["@id",e.id],["@type","sc:Layer"],["label",AS(e.label)]]},Collection:function*(e){return[...R1(e,"sc:Collection"),...yield*D1(e),...yield*CE(e),["members",yield*e.items]]},Range:function*(e){let t=[],n=[];if(e.items)for(let r of e.items){let i=r.type==="SpecificResource"?r.source:r;if(i){let o=yield i;t.push({"@id":Mtt(r),"@type":i.type,label:o?o.label:void 0,within:e.id}),i.type==="Canvas"&&n.push(i.id)}}return[...R1(e,"sc:Range"),...yield*D1(e),...yield*CE(e),["canvases",n.length===t.length?n:void 0],["members",n.length!==t.length?t:void 0]]}};function O1(e){var t;return[["id",(t=e.id)!=null&&t.startsWith("vault://")?void 0:e.id],["type",e.type],["format",e.format],["profile",e.profile],["height",e.height||void 0],["width",e.width||void 0],["duration",e.duration||void 0],["viewingDirection",e.viewingDirection!=="left-to-right"?e.viewingDirection:void 0],["behavior",e.behavior&&e.behavior.length?e.behavior:void 0],["timeMode",e.timeMode],["motivation",Array.isArray(e.motivation)?e.motivation[0]:e.motivation],[Mo,Qf]]}function Ps(e){if(e===Qf||!e||e.length===0)return;let t=e.filter(n=>n!==Qf);if(t.length!==0)return t}function k_e(e){if(e&&e.type&&e.type==="ImageService2"){let{id:t,type:n,profile:r,...i}=e,o=typeof r=="string"?r:Array.isArray(r)?r.find(s=>typeof s=="string"):"";return{"@id":t,"@type":n,profile:o?o.startsWith("http")?o:`http://iiif.io/api/image/2/${o}.json`:"http://iiif.io/api/image/2/level0.json",...i}}return e}function Fse(e){if(Array.isArray(e)||(e=e?[e]:[]),!(!e||e.length===0))return e.map(k_e)}function*Av(e){return[["label",e.label],["metadata",Ps(e.metadata)],["summary",e.summary],["requiredStatement",e.requiredStatement],["rights",Array.isArray(e.rights)?e.rights[0]||void 0:e.rights||void 0],["navDate",e.navDate],["language",e.language],["thumbnail",Ps(yield e.thumbnail)],["placeholderCanvas",yield e.placeholderCanvas],["accompanyingCanvas",yield e.accompanyingCanvas],["provider",Ps(yield e.provider)]]}function*Iv(e,t){let n=[];for(let r of e.partOf||[])r.type==="Manifest"&&t.type==="Manifest"||n.push(yield r);return[["seeAlso",Ps(yield e.seeAlso)],["service",Ps(Fse(e.service))],["services",Ps(Fse(e.services))],["rendering",Ps(yield e.rendering)],["supplementary",Ps(yield e.supplementary)],["homepage",Ps(yield e.homepage)],["logo",Ps(yield e.logo)],["partOf",Ps(n)],["start",e.start?sP(e.start):e.start]]}var Att={Manifest:function*(e,t,{isTopLevel:n}){return n?[["@context",e["@context"]?e["@context"]:"http://iiif.io/api/presentation/3/context.json"],...O1(e),...yield*Av(e),...yield*Iv(e),["items",yield e.items],["structures",Ps(yield e.structures)],["annotations",Ps(yield e.annotations)],["navPlace",e.navPlace]]:[...O1(e),...yield*Av(e)]},Canvas:function*(e,t,{parent:n}){return n&&n.type!=="Manifest"&&n.type!=="Canvas"?[["id",e.id]]:[...O1(e),...yield*Av(e),...yield*Iv(e,n),["items",yield e.items],["annotations",Ps(yield e.annotations)],["navPlace",e.navPlace]]},Agent:function*(e){return[["id",e.id],["type","Agent"],["label",e.label],...yield*Iv(e)]},AnnotationPage:function*(e){var r;let t=Object.entries(e).map(([i,o])=>[i,Array.isArray(o)?Ps(o):o]).filter(([i,o])=>i!=="items"&&i!=="id"&&i!==Mo&&i!==dh&&i!==R2),n=yield e.items;return[["id",(r=e.id)!=null&&r.startsWith("vault://")?void 0:e.id],...t,...yield*Iv(e),["items",n.length||e[R2]===!1?n:Qf]]},Service:function*(e){return[[p_e,k_e(e)]]},Annotation:function*(e){let t=Object.entries(e).map(([r,i])=>r==="motivation"?[r,Array.isArray(i)?i[0]:i]:r==="target"?[r,sP(i,{allowString:!0,allowSourceString:!0,allowedStringType:"Canvas"})]:[r,Array.isArray(i)?Ps(i):i]).filter(([r])=>r!=="body"&&r!==Mo&&r!==R2),n;if(Array.isArray(e.body)){let r=[];for(let i of e.body)if(i&&os(i)){let o={...i};i.source.type!=="Canvas"?o.source=yield i.source:o.source=i.source,r.push(sP(o,{allowSourceString:!0}))}else r.push(yield i);n=r}else e.body&&os(e.body)?(n={...e.body},n.source=yield e.body.source):n=yield e.body;return[...t,...yield*Av(e),...yield*Iv(e),["body",n.length===1?n[0]:n]]},ContentResource:function*(e){return Itt([...O1(e),...yield*Av(e),...yield*Iv(e),["annotations",Ps(yield e.annotations)],["items",Ps(yield e.items)]],e)},AnnotationCollection:function*(e){return[["id",e.id],["type","AnnotationCollection"],["label",e.label]]},Collection:function*(e,t,{isTopLevel:n}){return n?[["@context","http://iiif.io/api/presentation/3/context.json"],...O1(e),...yield*Av(e),...yield*Iv(e),["items",Ps(yield e.items)],["navPlace",e.navPlace]]:[...O1(e),...yield*Av(e)]},Range:function*(e){let t=[];for(let n of e.items)n.type==="Range"?t.push(yield n):n&&n.type==="SpecificResource"?t.push(sP(n)):t.push(n);return[...O1(e),...yield*Av(e),...yield*Iv(e),["items",t],["annotations",Ps(yield e.annotations)],["navPlace",e.navPlace]]}};function Itt(e,t){let n=Object.keys(t),r=e.map(([i])=>i);for(let i of n)i===Mo||i===R2||r.indexOf(i)===-1&&typeof t[i]<"u"&&e.push([i,t[i]]);return e}var Ns=function(t){return function(){const n={type:t,getType:()=>t,toString:()=>t};return(r,i)=>({...n,...r!==void 0&&{payload:r},...i!==void 0&&{meta:i}})}},P_e="@iiif/IMPORT_ENTITIES",$_e="@iiif/MODIFY_ENTITY_FIELD",T_e="@iiif/REORDER_ENTITY_FIELD",M_e="@iiif/ADD_REFERENCE",fU="@iiif/UPDATE_REFERENCE",L_e="@iiif/REMOVE_REFERENCE",A_e="@iiif/ADD_METADATA",I_e="@iiif/REMOVE_METADATA",hU="@iiif/UPDATE_METADATA",R_e="@iiif/REORDER_METADATA",b4=Ns(P_e)(),D_e=Ns($_e)(),O_e=Ns(T_e)(),zR=Ns(M_e)(),pU=Ns(L_e)(),Rtt=Ns(fU)(),Dtt=Ns(A_e)(),Ott=Ns(hU)(),jtt=Ns(I_e)(),Ntt=Ns(R_e)(),ks={importEntities:b4,modifyEntityField:D_e,reorderEntityField:O_e,addReference:zR,removeReference:pU,updateReference:Rtt,addMetadata:Dtt,removeMetadata:jtt,updateMetadata:Ott,reorderMetadata:Ntt},j_e="@iiif/ADD_MAPPING",N_e="@iiif/ADD_MAPPINGS",Ftt=Ns(j_e)(),F_e=Ns(N_e)(),mU="RESOURCE_ERROR",B_e="RESOURCE_LOADING",gU="RESOURCE_READY",z_e="@iiif/REQUEST_RESOURCE",H_e="@iiif/REQUEST_ERROR",V_e="@iiif/REQUEST_MISMATCH",U_e="@iiif/REQUEST_COMPLETE",Btt="@iiif/REQUEST_OFFLINE_RESOURCE",vU=Ns(z_e)(),yU=Ns(H_e)(),ztt=Ns(V_e)(),Htt=Ns(U_e)(),GX="@iiif/BATCH",Vtt="@iiif/BATCH_IMPORT",xC=Ns(GX)(),bU=(e,t)=>{const{entities:n,resource:r,mapping:i}=Ctt(t);if(r.id===void 0)return[yU({id:e,message:"ID is not defined in resource."})];const o=[b4({entities:n}),F_e({mapping:i})];return r.id!==e&&(o.push(Ftt({id:e,type:r.type})),o.push(ztt({requestId:e,actualId:r.id}))),o.push(Htt({id:e})),o},Bse=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function Utt(e,t){return!!(e===t||Bse(e)&&Bse(t))}function zse(e,t){if(!Array.isArray(e)||!Array.isArray(t))return e===t;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!Utt(e[n],t[n]))return!1;return!0}function iF(e,t,n){const r=e.iiif.requests[t],i=e.iiif.mapping[t];if(!i||!e.iiif.entities[i][r.resourceUri])return;const o=e.iiif.entities[i][r.resourceUri];if(o&&o[Mo]){const s=o[Mo].find(a=>a[dh]===o.id);return KX(o,s)}return o}function Wtt(e){return e&&typeof e.then=="function"}function Hse(e,t,{waitTimeout:n=30}={}){return(r,i)=>{const o=e.getStore(),s=o.getState(),a=s.iiif.requests[r];if(a){if(a.loadingState===gU){const u=iF(s,r);if(u)return u}switch(a.loadingState){case mU:break;case B_e:return(async()=>{let u,c=!1;try{const f=await Promise.race([new Promise((p,g)=>{c||(u=o.subscribe(()=>{const v=o.getState();if(v.iiif.requests[r].loadingState===mU){g();return}if(v.iiif.requests[r].loadingState===gU){const y=iF(v,r);y?p(y):g()}}))}),new Promise((p,g)=>setTimeout(()=>{c=!0,g()},n*60*1e3))]);if(u&&u(),f)return f}catch{u&&u()}})()}}e.dispatch(vU({id:r}));const l=u=>{if(!u)return;!u.id&&!u["@id"]&&(u["@type"]&&(u["@id"]=r),u.id=r);const c=bU(r,u);return e.dispatch(xC({actions:c})),iF(o.getState(),r)};try{const u=t(r,i);return Wtt(u)?(async()=>{try{return l(await u)}catch(c){throw e.dispatch(yU({id:r,message:c.toString()})),c}})():l(u)}catch(u){throw e.dispatch(yU({id:r,message:u.toString()})),u}}}var W_e="@iiif/SET_META_VALUE",K_e="@iiif/SET_META_VALUE_DYNAMIC",q_e="@iiif/UNSET_META_VALUE",Ktt=Ns(W_e)(),qtt=Ns(K_e)(),Gtt=Ns(q_e)(),Vse={setMetaValue:Ktt,setMetaValueDynamic:qtt,unsetMetaValue:Gtt};function G_e(){return{Collection:{},Manifest:{},Canvas:{},AnnotationPage:{},AnnotationCollection:{},Annotation:{},ContentResource:{},Range:{},Service:{},Selector:{},Agent:{}}}const oF={BASE_URL:"./",DEV:!1,MODE:"production",PROD:!0,SSR:!1};var Ztt=(e,t)=>(n,r,i)=>(i.dispatch=o=>(n(s=>e(s,o),!1,o),o),i.dispatchFromDevtools=!0,{dispatch:(...o)=>i.dispatch(...o),...t}),Ytt=Ztt,wU=new Map,tM=e=>{const t=wU.get(e);return t?Object.fromEntries(Object.entries(t.stores).map(([n,r])=>[n,r.getState()])):{}},Xtt=(e,t,n)=>{if(e===void 0)return{type:"untracked",connection:t.connect(n)};const r=wU.get(n.name);if(r)return{type:"tracked",store:e,...r};const i={connection:t.connect(n),stores:{}};return wU.set(n.name,i),{type:"tracked",store:e,...i}},Qtt=(e,t={})=>(n,r,i)=>{const{enabled:o,anonymousActionType:s,store:a,...l}=t;let u;try{u=(o??(oF?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!u)return(oF?"production":void 0)!=="production"&&o&&console.warn("[zustand devtools middleware] Please install/enable Redux devtools extension"),e(n,r,i);const{connection:c,...f}=Xtt(a,u,l);let p=!0;i.setState=(y,S,C)=>{const _=n(y,S);if(!p)return _;const k=C===void 0?{type:s||"anonymous"}:typeof C=="string"?{type:C}:C;return a===void 0?(c==null||c.send(k,r()),_):(c==null||c.send({...k,type:`${a}/${k.type}`},{...tM(l.name),[a]:i.getState()}),_)};const g=(...y)=>{const S=p;p=!1,n(...y),p=S},v=e(i.setState,r,i);if(f.type==="untracked"?c==null||c.init(v):(f.stores[f.store]=i,c==null||c.init(Object.fromEntries(Object.entries(f.stores).map(([y,S])=>[y,y===f.store?v:S.getState()])))),i.dispatchFromDevtools&&typeof i.dispatch=="function"){let y=!1;const S=i.dispatch;i.dispatch=(...C)=>{(oF?"production":void 0)!=="production"&&C[0].type==="__setState"&&!y&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),y=!0),S(...C)}}return c.subscribe(y=>{var S;switch(y.type){case"ACTION":if(typeof y.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return sF(y.payload,C=>{if(C.type==="__setState"){if(a===void 0){g(C.state);return}Object.keys(C.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format. 
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const _=C.state[a];if(_==null)return;JSON.stringify(i.getState())!==JSON.stringify(_)&&g(_);return}i.dispatchFromDevtools&&typeof i.dispatch=="function"&&i.dispatch(C)});case"DISPATCH":switch(y.payload.type){case"RESET":return g(v),a===void 0?c==null?void 0:c.init(i.getState()):c==null?void 0:c.init(tM(l.name));case"COMMIT":if(a===void 0){c==null||c.init(i.getState());return}return c==null?void 0:c.init(tM(l.name));case"ROLLBACK":return sF(y.state,C=>{if(a===void 0){g(C),c==null||c.init(i.getState());return}g(C[a]),c==null||c.init(tM(l.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return sF(y.state,C=>{if(a===void 0){g(C);return}JSON.stringify(i.getState())!==JSON.stringify(C[a])&&g(C[a])});case"IMPORT_STATE":{const{nextLiftedState:C}=y.payload,_=(S=C.computedStates.slice(-1)[0])==null?void 0:S.state;if(!_)return;g(a===void 0?_:_[a]),c==null||c.send(null,C);return}case"PAUSE_RECORDING":return p=!p}return}}),v},Jtt=Qtt,sF=(e,t)=>{let n;try{n=JSON.parse(e)}catch(r){console.error("[zustand devtools middleware] Could not parse the received json",r)}n!==void 0&&t(n)},ent=e=>(t,n,r)=>{const i=r.subscribe;return r.subscribe=(s,a,l)=>{let u=s;if(a){const c=(l==null?void 0:l.equalityFn)||Object.is;let f=s(r.getState());u=p=>{const g=s(p);if(!c(f,g)){const v=f;a(f=g,v)}},l!=null&&l.fireImmediately&&a(f,f)}return i(u)},e(t,n,r)},tnt=ent,nnt=(e={},t)=>{switch(t.type){case j_e:return{...e,[t.payload.id]:t.payload.type};case N_e:return{...e,...t.payload.mapping};default:return e}};function aF(e,t,n,r){return!(!e[n]||!e[n][t]||!e[n][t][r]||!Array.isArray(e[n][t][r]))}function rnt(e,t){const n={},r=[];for(const[i,o]of Object.entries(e||{})){r.push(i);const s=(t||{})[i];if(!s||s.length===0){n[i]=o;continue}n[i]=s}for(const[i,o]of Object.entries(t||{}))r.indexOf(i)===-1&&(n[i]=o);return n}function bn(e){return e.payload}function lF(e,t){return typeof e>"u"?t:e}var int=(e=G_e(),t)=>{var r;const n=(i,o)=>({...e,[bn(t).type]:{...e[bn(t).type],[bn(t).id]:{...i,...o}}});switch(t.type){case $_e:{if(!e[bn(t).type]||!e[bn(t).type][bn(t).id])return e;const i=e[bn(t).type][bn(t).id];return typeof i=="string"?e:n(i,{[bn(t).key]:bn(t).value})}case T_e:{if(!aF(e,bn(t).id,bn(t).type,bn(t).key))return e;const i=e[bn(t).type][bn(t).id];if(typeof i=="string")return e;const o=Array.from(i[bn(t).key]),[s]=o.splice(bn(t).startIndex,1);return o.splice(bn(t).endIndex,0,s),n(i,{[bn(t).key]:o})}case P_e:{const i=Object.keys(bn(t).entities),o={...e};for(const s of i){const a=bn(t).entities[s],l={...e[s]||{}};let u=!1;const c=Object.keys(a||{})||[];if(a&&c){for(const f of c)u=!0,l[f]=e[s][f]?rnt(e[s][f],a[f]):a[f];u&&(o[s]=l)}}return o}case M_e:{if(!aF(e,bn(t).id,bn(t).type,bn(t).key))return e;const i=e[bn(t).type][bn(t).id],o=Array.from(i[bn(t).key]);return o.splice(lF(bn(t).index,o.length+1),0,bn(t).reference),n(i,{[bn(t).key]:o})}case fU:case L_e:{if(!aF(e,bn(t).id,bn(t).type,bn(t).key))return e;const i=e[bn(t).type][bn(t).id],o=Array.from(i[bn(t).key]),s=lF(bn(t).index,o.findIndex(a=>a&&a.id===bn(t).reference.id));return s===-1||((r=o[s])==null?void 0:r.id)!==bn(t).reference.id?e:(t.type===fU?o.splice(s,1,bn(t).reference):o.splice(s,1),n(i,{[bn(t).key]:o}))}case A_e:{const i=e[bn(t).type][bn(t).id];if(!i)return e;const o=Array.from(i.metadata||[]),s=bn(t);return o.splice(lF(t.payload.beforeIndex,o.length+1),0,{label:s.label,value:s.label}),n(i,{metadata:o})}case R_e:{const i=e[bn(t).type][bn(t).id];if(typeof i=="string"||!i)return e;const o=Array.from(i.metadata||[]),[s]=o.splice(bn(t).startIndex,1);return o.splice(bn(t).endIndex,0,s),n(i,{metadata:o})}case hU:case I_e:{const i=e[bn(t).type][bn(t).id],o=Array.from(i.metadata||[]),s=bn(t).atIndex;return typeof s>"u"||s===-1||!o[s]?e:(t.type===hU?o.splice(s,1,{label:bn(t).label,value:bn(t).value}):o.splice(s,1),n(i,{metadata:o}))}default:return e}},ont=(e={},t)=>{switch(t.type){case z_e:case Btt:return{...e,[t.payload.id]:{requestUri:t.payload.id,loadingState:B_e,uriMismatch:!1,resourceUri:t.payload.id}};case V_e:return{...e,[t.payload.requestId]:{...e[t.payload.requestId]||{},uriMismatch:!0,resourceUri:t.payload.actualId},[t.payload.actualId]:{requestUri:t.payload.requestId,loadingState:e[t.payload.requestId].loadingState,uriMismatch:!0,resourceUri:t.payload.actualId}};case H_e:return{...e,[t.payload.id]:{...e[t.payload.id]||{},loadingState:mU,error:t.payload.message}};case U_e:return{...e,[t.payload.id]:{...e[t.payload.id]||{},loadingState:gU,error:void 0}}}return e},snt=(e={},t)=>{const{id:n,updateValue:r,value:i,meta:o,key:s}=t&&t.payload||{};switch(t.type){case W_e:return{...e,[n]:{...e[n]||{},[o]:{...e[n]?e[n][o]||{}:{},[s]:i}}};case K_e:return{...e,[n]:{...e[n]||{},[o]:{...e[n]?e[n][o]||{}:{},[s]:e[n]&&e[n][o]?r(e[n][o][s]):r(void 0)}}};case q_e:return e[n]&&e[n][o]&&e[n][o][s]?{...e,[n]:{...e[n]||{},[o]:{...e[n]?e[n][o]||{}:{},[s]:void 0}}}:e;default:return e}};function Z_e(e={}){const t=Object.keys(e);return function(r={},i){let o=!1;const s={};for(let a=0;a<t.length;a++){const l=t[a];s[l]=e[l](r[l],i),o=o||s[l]!==r[l]}return o?s:r}}function ant(e){return(t,n)=>n&&n.type===GX?n.payload.actions.reduce(e,t):n&&n.type===Vtt?{...t,iiif:{...t.iiif,...n.payload.state}}:e(t,n)}var lnt=Z_e({mapping:nnt,entities:int,requests:ont,meta:snt});function unt(){return{iiif:{entities:G_e(),meta:{},mapping:{},requests:{}}}}function cnt(e={}){const{enableDevtools:t=!1,iiifStoreName:n="iiif",defaultState:r=unt(),customReducers:i={}}=e,o=ant(Z_e({[n]:lnt,...i})),a=!!(typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__)?Jtt:(l,u)=>l;return T2e(tnt(a(Ytt(o,r),{enabled:t})))}function Y_e(e){return{all:e=e||new Map,on:function(t,n){var r=e.get(t);r?r.push(n):e.set(t,[n])},off:function(t,n){var r=e.get(t);r&&(n?r.splice(r.indexOf(n)>>>0,1):e.set(t,[]))},emit:function(t,n){var r=e.get(t);r&&r.slice().map(function(i){i(n)}),(r=e.get("*"))&&r.slice().map(function(i){i(t,n)})}}}var dnt=Object.create,ZX=Object.defineProperty,fnt=Object.getOwnPropertyDescriptor,X_e=Object.getOwnPropertyNames,hnt=Object.getPrototypeOf,pnt=Object.prototype.hasOwnProperty,mnt=(e,t,n)=>t in e?ZX(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Q_e=(e,t)=>function(){return t||(0,e[X_e(e)[0]])((t={exports:{}}).exports,t),t.exports},gnt=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of X_e(t))!pnt.call(e,i)&&i!==n&&ZX(e,i,{get:()=>t[i],enumerable:!(r=fnt(t,i))||r.enumerable});return e},J_e=(e,t,n)=>(n=e!=null?dnt(hnt(e)):{},gnt(ZX(n,"default",{value:e,enumerable:!0}),e)),Cl=(e,t,n)=>(mnt(e,typeof t!="symbol"?t+"":t,n),n),Use={setImmediate:"((fn, ...args) => setTimeout(fn, 0, ...args))"};function Ul(e,t,n,r=!0){t[D2]=t[D2]||[],t[D2].push(e);const i=new Map;Object.defineProperty(t,e,{enumerable:r,get(){if(typeof t[ab][e]>"u")return;const o=t[ab][e];if(!o)return o;const s=n.get(t[ab][e],{parent:this.id?{id:this.id,type:this.type}:void 0});return i.has(s)||(i.clear(),i.set(s,lb(s,n))),i.get(s)},set(o){t[ab][e]!==o&&(this[K1]?n.modifyEntityField({id:this.id,type:this.type},e,eCe(o)):this[ab][e]=o)}})}var ab=Symbol.for("_refs_"),K1=Symbol.for("_reactive_"),D2=Symbol.for("_defined_"),Wse=Symbol.for("_parent_");function vnt(e,t=!1,n){const r={id:"",type:"unknown",[D2]:[],[ab]:{},[Wse]:null,[K1]:null,is(i){return typeof i=="string"?this.id===i:i.id?i.id===this.id:!1},reactive(){if(!this[K1])return this[K1]=this.subscribe(()=>this.refresh(),!0),()=>{this.unreactive()}},refresh(){if(this.id){const i=this.unwrap();for(const o of Object.keys(i||{}))this[D2].includes(o)?this[ab][o]=i[o]:this[o]=i[o]}},unreactive(){this[K1]&&(this[K1](),this[K1]=null)},unwrap(){if(!this.id)throw new Error("Invalid object");const i=this[Wse];return e.get(this.id,{parent:i?{id:i,type:"unknown"}:void 0})},toPresentation3(){return e.toPresentation3(this.unwrap())},toPresentation2(){return e.toPresentation2(this.unwrap())},valueOf(){return this.unwrap()},toJSON(){const i=this;return{...i,items:i.items,annotations:i.annotations,structures:i.structures,seeAlso:i.seeAlso,service:i.service,services:i.services,rendering:i.rendering,partOf:i.partOf,start:i.start,supplementary:i.supplementary,homepage:i.homepage,thumbnail:i.thumbnail,placeholderCanvas:i.placeholderCanvas,accompanyingCanvas:i.accompanyingCanvas,provider:i.provider}},subscribe(i,o=!0){return e.subscribe(()=>this.id?e.get(this.id):null,i,o)}};return Ul("items",r,e),Ul("annotations",r,e),Ul("structures",r,e),Ul("seeAlso",r,e),Ul("rendering",r,e),Ul("partOf",r,e),Ul("start",r,e,!1),Ul("supplementary",r,e),Ul("homepage",r,e),Ul("thumbnail",r,e),Ul("placeholderCanvas",r,e,!1),Ul("accompanyingCanvas",r,e,!1),Ul("provider",r,e),Ul("body",r,e),Ul("logo",r,e),r}function ynt(e){return!!e[D2]}function eCe(e){return Array.isArray(e)?e.map(t=>eCe(t)):!e||!e.type?e:{id:e.id,type:e.type}}function lb(e,t,n=!1,r){if(Array.isArray(e))return e.map(a=>lb(a,t,n));if(!e||!e.type||!e.id)return e;const i=vnt(t,n),o=Object.create(i),s=Object.assign(o,e);return n&&s.reactive(),s}function Kse(e){switch(e){case"Image":case"Video":case"Sound":case"Dataset":case"Text":case"Composite":case"List":case"Independents":case"Audience":return"ContentResource";case"ImageService1":case"ImageService2":case"ImageService3":return"Service"}return e}var fh=class{constructor(e,t){Cl(this,"options"),Cl(this,"store"),Cl(this,"emitter"),Cl(this,"isBatching",!1),Cl(this,"batchQueue",[]),Cl(this,"remoteFetcher"),Cl(this,"staticFetcher"),Cl(this,"defaultFetcher",n=>fetch(n).then(r=>{if(r.status===200)return r.json();{const i=new Error(`${r.status} ${r.statusText}`);throw i.name="HTTPError",i}})),this.options=Object.assign({reducers:{},customFetcher:this.defaultFetcher,enableDevtools:!0},e||{}),this.store=t||cnt({customReducers:this.options.reducers,defaultState:this.options.defaultState,enableDevtools:this.options.enableDevtools}),this.emitter=Y_e(),this.remoteFetcher=Hse(this,this.options.customFetcher),this.staticFetcher=Hse(this,(n,r)=>r)}batch(e){this.isBatching=!0;try{e(this),this.isBatching=!1,this.dispatch(xC({actions:this.batchQueue}))}catch(t){throw this.batchQueue=[],this.isBatching=!1,t}this.batchQueue=[]}async asyncBatch(e){this.isBatching=!0;try{await e(this),this.isBatching=!1,this.dispatch(xC({actions:this.batchQueue}))}catch(t){throw this.batchQueue=[],this.isBatching=!1,t}this.batchQueue=[]}modifyEntityField(e,t,n){this.dispatch(ks.modifyEntityField({id:e.id,type:e.type,key:t,value:n}))}dispatch(e){if(this.isBatching)this.batchQueue.push(e);else{if(e.type===GX){for(const r of e.payload.actions)this.emitter.emit(r.type,{action:r,state:this.store.getState()});this.store.dispatch(e);const n=this.getState();for(const r of e.payload.actions)this.emitter.emit(`after:${r.type}`,{action:r,state:n});return}this.emitter.emit(e.type,{action:e,state:this.store.getState()}),this.store.dispatch(e);const t=this.store.getState();this.emitter.emit(`after:${e.type}`,{action:e,state:t});return}}on(e,t){return this.emitter.on(e,t),()=>{this.emitter.off(e,t)}}serialize(e,t){return ktt(this.getState().iiif,e,t)}toPresentation2(e){return this.serialize(e,Ltt)}toPresentation3(e){return this.serialize(e,Att)}hydrate(e,t,n={}){return this.get(e,t,{...n,skipSelfReturn:!1})}get(e,t,n={}){typeof t!="string"&&(n=t||{},t=void 0);const{skipSelfReturn:r=!0}=n||{};let i=n.parent?typeof n.parent=="string"?n.parent:n.parent.id:void 0;if(Array.isArray(e))return e.map(c=>this.get(c,n));const o=this.getState();if(os(e)&&!n.preserveSpecificResources&&(e=e.source),typeof e=="string"){const c=Kse(t||o.iiif.mapping[e]);if(!c)return r?null:{id:e,type:"unknown"};e={id:e,type:c}}if(e&&e.partOf&&!i&&!n.skipPartOfCheck){const c=Array.isArray(e.partOf)?e.partOf[0]:e.partOf;c&&(typeof c=="string"&&(i=c),typeof c.id=="string"&&(i=c.id))}const s=Kse(t||(e==null?void 0:e.type)),a=e==null?void 0:e.id,l=o.iiif.entities[s];if(!l){const c=o.iiif.requests[a];return c&&c.resourceUri!==a?this.get(c.resourceUri,n):r?null:e}const u=l[e.id];if(u&&u[Mo]){const c=u[Mo].find(f=>i?f[dh]===i:f[dh]===u.id);return KX(u,c)}return l[e.id]||(r?null:e)}select(e){return e(this.getState())}getStore(){return this.store}getState(){return this.store.getState()}deep(e,t){if(typeof e>"u")return this.get(t,{skipSelfReturn:!1});if(typeof e=="function")try{const r=e(this.get(t,{skipSelfReturn:!1})),i=o=>this.deep(o,r);return i.size=Array.isArray(r)?r.length:1,i}catch{const i=o=>this.deep(o,void 0);return i.size=0,i}const n=r=>this.deep(r,e);return n.size=Array.isArray(e)?e.length:1,n}loadManifest(e,t){const n=typeof e=="string"?e:e.id;return this.load(n,t)}loadCollection(e,t){const n=typeof e=="string"?e:e.id;return this.load(n,t)}load(e,t){const n=typeof e=="string"?e:e.id;return t?Promise.resolve(this.staticFetcher(n,t)):Promise.resolve(this.remoteFetcher(n))}loadSync(e,t){const n=typeof e=="string"?e:e.id;return this.staticFetcher(n,t)}loadManifestSync(e,t){const n=typeof e=="string"?e:e.id;return this.loadSync(n,t)}loadCollectionSync(e,t){const n=typeof e=="string"?e:e.id;return this.loadSync(n,t)}areInputsEqual(e,t){return zse(e,t)}subscribe(e,t,n){return typeof n>"u"&&(typeof t>"u"||t===!1||t===!0)&&(n=t,t=e,e=r=>r),this.store.subscribe(e,r=>t(r,this),{equalityFn:zse,fireImmediately:!n})}async ensureLoaded(e){const t=typeof e=="string"?e:e.id;this.requestStatus(t)||await this.load(t)}requestStatus(e){return this.select(t=>t.iiif.requests[e])}getResourceMeta(e,t){const n=this.getState().iiif.meta[e];if(n)return t?n[t]:n}getObject(e,t,n={}){const{reactive:r,...i}=n;return lb(this.get(e,t,i),this,r)}async loadObject(e,t){return lb(await this.load(e,t),this)}async loadManifestObject(e,t){return lb(await this.loadManifest(e,t),this)}async loadCollectionObject(e,t){return lb(await this.loadCollection(e,t),this)}wrapObject(e){return lb(this.get(e,{skipSelfReturn:!1}),this)}isWrapped(e){return ynt(e)}setMetaValue([e,t,n],r){this.dispatch(typeof r=="function"?Vse.setMetaValueDynamic({id:e,meta:t,key:n,updateValue:r}):Vse.setMetaValue({id:e,meta:t,key:n,value:r}))}};function bnt(){return typeof self<"u"?self:typeof window<"u"?window:typeof Use<"u"?Use:{}}function tCe(e){const t=bnt();try{const r=t.IIIF_VAULT;if(r)return r}catch{}const n=new fh(e);try{t.IIIF_VAULT=n}catch{}return n}function wnt(e=IT){return{addEventListener(t,n,r,i){if(t)return e.setMetaValue([t.id,"eventManager",n],o=>{const s=o||[];for(const a of s)if(a.callback===r)return s;return[...s,{callback:r,scope:i}]}),r},removeEventListener(t,n,r){t&&e.setMetaValue([t.id,"eventManager",n],i=>(i||[]).filter(o=>o.callback!==r))},getListenersAsProps(t,n){const r=typeof t=="string"?{id:t}:t;if(!r||!r.id)return{};const i=e.getResourceMeta(r.id,"eventManager"),o={};if(i&&r)for(const s of Object.keys(i))o[s]=a=>{const l=e.get(r);for(const{callback:u,scope:c}of i[s]||[])(!c||n&&c.indexOf(n)!==-1)&&u(a,l)};return o}}}function xnt(e,t,n=[],r=!1,i=[]){if(i.length&&(t=t.filter(s=>i.indexOf(s)===-1)),!t||t.length===0)return;if(t.length===1)return t[0];if(!e)return t.indexOf("none")!==-1?"none":t[0];if(t.indexOf(e)!==-1)return e;const o=e.indexOf("-")!==-1?e.slice(0,e.indexOf("-")):null;if(o&&t.indexOf(o)!==-1)return o;for(const s of n)if(t.indexOf(s)!==-1)return s;if(!r&&e){const a=t.map(l=>l.indexOf("-")!==-1?l.slice(0,l.indexOf("-")):null).indexOf(e);if(a!==-1)return t[a];for(const l of n){const u=l.indexOf("-")!==-1?l.slice(0,l.indexOf("-")):null,c=u?t.indexOf(u):-1;if(c!==-1)return t[c]}}return t.indexOf("none")!==-1?"none":t.indexOf("@none")!==-1?"@none":t[0]}function nCe(e,t,n={}){const{strictFallback:r=!1,defaultText:i="",separator:o=`
`,fallbackLanguages:s=[],closest:a,skipLanguages:l}=n,u=Object.keys(e||{}),c=a?t:xnt(t,u,s,r,l);if(!e)return i;if(typeof e=="string")return e;const f=c?e[c]:void 0;if(f&&c){if(typeof f=="string")return f;if(f.length===1&&f[0]===""){const p=n.skipLanguages||[];return nCe(e,t,{...n,skipLanguages:[...p,c]})}return f.join(o)}return""}function uc(e,t={}){return nCe(e,t.language||(typeof navigator<"u"?navigator.language:"en"),t)}function rCe(e=IT){return{applyStyles(t,n,r){const i=typeof t=="string"?t:t.id;return e.setMetaValue([i,"styles",n],r)},getAppliedStyles(t){const n=typeof t=="string"?t:t.id;return e.getResourceMeta(n,"styles")}}}function Snt(e){try{if(e==="full")return{full:!0};if(e==="square")return{square:!0};let t=e.startsWith("pct:"),n=e.substr(t?4:0).split(",").map(r=>parseFloat(r));return{x:n[0],y:n[1],w:n[2],h:n[3],percent:t}}catch{throw new Error("Expected 'full', 'square' or 'x,y,w,h'. Found "+e)}}function _nt(e){let t={upscaled:!1,max:!1,confined:!1};if(e[0]==="^"&&(t.upscaled=!0,e=e.slice(1)),e==="max"||e==="full")return t.max=!0,t.serialiseAsFull=e==="full",t;if(e[0]==="!"&&(t.confined=!0,e=e.slice(1)),e[0]==="p")return t.percentScale=parseFloat(e.slice(4)),t;let n=e.split(",").map(r=>r.trim());return n.length&&(n[0]!==""&&(t.width=parseInt(n[0],10)),n[1]!==""&&(t.height=parseInt(n[1],10))),t}function Cnt(e){let t={angle:0};if(e[0]==="!"&&(t.mirror=!0,e=e.substr(1)),t.angle=parseFloat(e)%360,Number.isNaN(t.angle))throw new Error(`Invalid rotation ${e}`);return t}function Ent(e,t=""){let n=e.match(/^(([a-zA-Z]+):\/\/([^/]+))?((.*)+)/);if(!n)throw new Error(`Invalid or unknown input ${e}`);let r=n[2],i=n[3],o=n[4];if(o[0]==="/"&&(o=o.substring(1)),t.length>0){if(t[0]==="/"&&(t=t.substring(1)),t!==o.substring(0,t.length))throw new Error(`Path does not start with prefix (path: ${o}, prefix: ${t})`);o=o.substring(t.length)}return{scheme:r,server:i,path:o,prefix:t}}function YX(e,t=""){let{path:n,scheme:r,server:i,prefix:o}=Ent(e,t),s=n.split("/").reverse(),[a,l,u,c,...f]=s,p=f.reverse().filter(Boolean).join("/");if(s.length===1||a==="")return{type:"base",scheme:r,server:i,prefix:o,identifier:p};if(a==="info.json"){let[,...y]=s;return{type:"info",scheme:r,server:i,prefix:o,identifier:y.reverse().filter(Boolean).join("/")}}if(typeof r>"u"||typeof i>"u"||typeof n>"u"||typeof c>"u"||typeof u>"u"||typeof l>"u"||typeof a>"u")throw new Error("Invalid image service URL");let[g="",v=""]=a.split(".");return{type:"image",scheme:r,server:i,prefix:o,identifier:p,originalPath:n,region:Snt(c),size:_nt(u),rotation:Cnt(l),quality:g,format:v}}function knt(e){return FO.indexOf(e)!==-1?cet:VX.indexOf(e)!==-1?uet:aet}function Pnt(e){let t=e?Array.isArray(e.profile)?e.profile:[e.profile]:[],n={extraQualities:[],extraFormats:[],extraFeatures:[]};for(let r of t)if(typeof r=="string"&&(r=knt(r)),!!r){if(r.formats)for(let i of r.formats)n.extraFormats.indexOf(i)===-1&&n.extraFormats.push(i);if(r.qualities)for(let i of r.qualities)n.extraQualities.indexOf(i)===-1&&n.extraQualities.push(i);if(r.supports)for(let i of r.supports)n.extraFeatures.indexOf(i)===-1&&n.extraFeatures.push(i);if(r.maxHeight&&(n.maxHeight=r.maxHeight),r.maxWidth&&(n.maxWidth=r.maxWidth),r.maxArea&&(n.maxArea=r.maxArea),r.extraFormats)for(let i of r.extraFormats)n.extraFormats.indexOf(i)===-1&&n.extraFormats.push(i);if(r.extraQualities)for(let i of r.extraQualities)n.extraQualities.indexOf(i)===-1&&n.extraQualities.push(i);if(r.extraFeatures)for(let i of r.extraFeatures)n.extraFeatures.indexOf(i)===-1&&n.extraFeatures.push(i);r.maxHeight&&(n.maxHeight=r.maxHeight),r.maxWidth&&(n.maxWidth=r.maxWidth),r.maxArea&&(n.maxArea=r.maxArea)}if(e.extraFormats)for(let r of e.extraFormats)n.extraFormats.indexOf(r)===-1&&n.extraFormats.push(r);if(e.extraFeatures)for(let r of e.extraFeatures)n.extraFeatures.indexOf(r)===-1&&n.extraFeatures.push(r);if(e.extraQualities)for(let r of e.extraQualities)n.extraQualities.indexOf(r)===-1&&n.extraQualities.push(r);return n}function qse(e){let t=Array.isArray(e.profile)?e.profile:[e.profile];for(let n of t)if(typeof n=="string"&&a_e.indexOf(n)!==-1)return!0;return!1}function bo(e){if(e["@id"])return e["@id"];if(e.id)return e.id}function i3(e){if(!e||!e.profile||!bo(e))return!1;let t=Array.isArray(e.profile)?e.profile:[e.profile];for(let n of t)if(typeof n=="string"&&s_e.indexOf(n)!==-1)return!0;return!1}function $nt(e){if(!i3(e))return!1;let t=Array.isArray(e.profile)?e.profile:[e.profile];for(let n of t)if(typeof n=="string"){if(VX.indexOf(n)!==-1)return!0}else{let r=[...n.supports||[],...n.extraFeatures||[]];if(r.indexOf("regionByPx")!==-1&&(r.indexOf("sizeByW")!==-1||r.indexOf("sizeByWh")!==-1))return!0}return!1}function Tnt({x:e=0,y:t=0,w:n,h:r,full:i,square:o,percent:s}){if(i)return"full";if(o)return"square";if(typeof n>"u"||typeof r>"u")throw new Error("RegionParameter: invalid region");let a=`${e},${t},${n},${r}`;return s?`pct:${a}`:a}function Mnt({max:e,percentScale:t,upscaled:n,confined:r,width:i,height:o,serialiseAsFull:s,version:a}){let l=[];return n&&l.push("^"),e?(l.push(s?"full":"max"),l.join("")):(r&&l.push("!"),t&&l.push(`pct:${t}`),i&&l.push(`${i}`),l.push(","),o&&a===3&&l.push(`${o}`),l.join(""))}function Lnt(e){return`${e.mirror?"!":""}${(e.angle||0)%360}`}function RT(e,t){let n=e.prefix.startsWith("/")?e.prefix.substring(1):e.prefix,r=`${e.scheme}://${e.server}/${n?`${n}/`:""}${e.identifier}`;if(e.type==="base")return r;if(e.type==="info")return`${r}/info.json`;let{size:i}=e,{region:o,rotation:s,format:a,quality:l}=e;return[r,Tnt(o),Mnt(i),Lnt(s),`${l}.${a}`].filter(Boolean).join("/")}function ag(e){return e.endsWith("info.json")?e:e.endsWith("/")?`${e}info.json`:`${e}/info.json`}function XX(e){let t=YX(ag(e.id));if(t.type!=="info")throw new Error("Invalid service URL");let n=Pnt(e);return{identifier:t.identifier,originalPath:"",server:t.server,prefix:t.prefix,scheme:t.scheme,type:"image",quality:n.extraQualities.indexOf("default")===-1?n.extraQualities[0]:"default",region:{full:!0},size:{max:!0,upscaled:!1,confined:!1},format:"jpg",rotation:{angle:0}}}function Ant(e,t,n){let r=n.length,i=[];for(let o=0;o<r;o++){let s=n[o];if(!s)continue;let a=s.width;i.push(e/a)}return i}function Int(e,t,n){let r=n.length,i=[];for(let o=0;o<r;o++){let s=n[o];s&&i.push({width:Math.floor(e/s),height:Math.floor(t/s)})}return i}function uF(e,t){if(t&&t.profile){let n=t.profile;if(n){let r=Array.isArray(n)?n:[n];if(r.includes(`level${e}`)||r.includes(`http://iiif.io/api/image/2/level${e}.json`)||r.includes(`http://iiif.io/api/image/1/level${e}.json`)||r.includes(`http://iiif.io/api/image/1/profiles/level${e}.json`))return!0;if(e===2){for(let i of r)if(FO.includes(i))return!0}if(e===1){for(let i of r)if(VX.includes(i))return!0}if(e===0){for(let i of r)if(a_e.includes(i))return!0}}}return!1}function xU(e){return i3(e)?uF(0,e)?0:uF(1,e)?1:uF(2,e)?2:null:null}function BO(e){let t=e.service?Array.isArray(e.service)?e.service:[e.service]:[],n=t.length,r=[];for(let i=0;i<n;i++)i3(t[i])&&r.push(t[i]);return r}function Rnt(e){if(e["@type"])return e["@type"];if(e.type)return e.type}function aS(e){const t=e.replace(/(https?:\/\/)?(www.)?/i,"");return t.indexOf("/")!==-1?t.split("/")[0]:t}function Dnt(e,t,n){const r=e>t?e:t,i=n.length,o=[];for(let s=0;s<i;s++){const a=n[s];if(!a||a.scaleFactors.length===0)continue;let l=a.scaleFactors[0];if(!l)continue;let u=r/l;const c=[l];for(;u>=a.width;)l=l*2,c.push(l),u=u/2;o.push({...a,scaleFactors:c})}return o}function cF(e,t,n){const r=XX({"@context":e.version===3?"http://iiif.io/api/image/3/context.json":"http://iiif.io/api/image/2/context.json",id:ag(bo(e)),profile:e.level===null||typeof e.level>"u"?"level0":`level${e.level}`,type:e.version===3?"ImageService3":"ImageService2"});if(r.type!=="image")throw new Error("Invalid service");return r.size.max=!1,r.size.width=t,r.size.height=n,{id:RT(r),type:"fixed",width:t,height:n||e.height/(e.width||1)*t,unsafe:e.width>t}}function Ont(e,t,n){const r=e.width?e.width:e.maxWidth;return n.height<=e.maxHeight&&n.width<=e.maxWidth&&n.height>=e.minHeight&&n.width>=e.minWidth&&(!t||Math.abs(n.width-r)<Math.abs(t.width-r))}function jnt(e,t){const n=[],r=Object.assign({unsafeImageService:!1,atAnyCost:!0,fallback:!0,minHeight:64,minWidth:64,maxHeight:1/0,maxWidth:1/0,returnAllOptions:!1,preferFixedSize:!1,allowUnsafe:!1,explain:!1,height:0,width:0},e),i=(c,f=0)=>r.explain?n.push(new Array(f).fill(0).map(p=>"    ").join("")+c().trim()):void 0,o=[],s=[];let a=null;i(()=>`Using configuration: ${JSON.stringify(r,null,2)}`);const l=(c,f)=>{if(i(()=>"Swapping choice",3),Ont(r,f,c)){if(r.preferFixedSize&&c.unsafe){i(()=>`We found an image that was marked as unsafe, but it was the best size. (${c.id})`,4),s.push(c);return}r.returnAllOptions&&f&&s.push(f),i(()=>`We found a new image that was the best size. (${c.id})`,4),a=c}else r.returnAllOptions&&s.push(c)};i(()=>`The input shows we have ${t.length} list(s) of candidates to choose from.`);const u=t.length;for(let c=0;c<u;c++){const f=t[c]();i(()=>`Candidate group ${c}: ${JSON.stringify(f,null,2)}`,1);const p=f.length;i(()=>`Checking candidate list number ${c} and found ${p} potential ways of creating image(s)`,1);for(let g=0;g<p;g++){const v=f[g];if(i(()=>`-> Checking candidate ${g}`,1),v.type==="unknown"&&r.atAnyCost&&(i(()=>`We've found an unknown image type, adding this to the "last resort" list`,2),o.push(v)),v.type==="fixed"&&(v.unsafe?(i(()=>`We've found an unsafe fixed image type, adding this to the "last resort" list`,2),o.push(v)):(i(()=>"We've found a fixed size image, checking if it matches the request",2),l(v,a))),v.type==="fixed-service")if(r.unsafeImageService){i(()=>"Checking for an image from the tile source, without calculating the right height and width (unsafeImageService)",2);const y=cF(v,r.width,r.height);l(y,a)}else{i(()=>"Checking for an image from the tile source 3",2);const y=cF(v,v.width,v.height);l(y,a)}if(v.type==="variable"&&v.maxWidth){const y=cF({id:v.id,type:"fixed-service",width:v.maxWidth,height:v.maxWidth,level:v.level,version:v.version},v.maxWidth);l(y,a)}}if(a&&!r.returnAllOptions){if(a.unsafe||r.allowUnsafe)continue;i(()=>`We found a match in choice list number ${c}, no searching any more`);break}}return r.atAnyCost&&s.length===0?(i(()=>a?`We found an image! ${a.id} of type ${a.type}`:'We found no images, but "atAnyCost" is set, so returning that'),{best:a||o[0]||null,fallback:o.slice(1),log:n}):r.returnAllOptions?(i(()=>"Returning all options that we have found"),{best:(r.atAnyCost?a||s[0]||o[0]:a||s[0])||null,fallback:[...s,...o],log:n}):(i(()=>"Returning the best image that we found, and a fallback"),{best:a||s[0]||null,fallback:a?s:s.slice(1),log:n})}function iCe(e){return(e["@context"]?Array.isArray(e["@context"])?e["@context"]:[e["@context"]]:[]).indexOf("http://iiif.io/api/image/3/context.json")!==-1}function Nnt(e){return i3(e)?(e&&e.sizes?e.sizes:[]).map(t=>({id:bo(e),type:"fixed-service",height:t.height,width:t.width,level:xU(e),version:iCe(e)?3:2})):[]}function Fnt(e){if(!$nt(e))return[];const t=[],n=Array.isArray(e.profile)?e.profile:[e.profile],r=n.length;for(let i=0;i<r;i++){const o=n[i];if(o&&typeof o!="string"&&(o.maxHeight||o.maxWidth))return[{id:bo(e),type:"variable",minWidth:0,minHeight:0,maxHeight:o.maxHeight||o.maxWidth,maxWidth:o.maxWidth||o.maxHeight,level:xU(e),version:e["@context"]==="http://iiif.io/api/image/3/context.json"?3:2}]}if(e.tiles){const i=e.tiles.length;for(let o=0;o<i;o++){const s=e.tiles[o];s&&(s.height||s.width)&&t.push({id:bo(e),type:"variable",minHeight:0,minWidth:0,maxHeight:s.height||s.width,maxWidth:s.width,level:xU(e),version:iCe(e)?3:2})}}return t}function Gse(e){const t=[],n=e.length;for(let r=0;r<n;r++){const i=e[r];if(!i)continue;const o=Nnt(i);o.length&&t.push(...o);const s=Fnt(i);s.length&&t.push(...s)}return t}function Zse(e){const t=/^.*\/(full)\/(((\d+),(\d+)?)|max)\/(\d+)\/default\.(jpg|png|jpeg)$/,n=e.match(t);if(n&&n[4]&&n[5]){const r=n[1],i=parseInt(n[4],10),o=parseInt(n[5],10),s=n[7];if((r==="max"||r==="full")&&i&&o&&s)return{type:"fixed",id:e,height:o,width:i}}return{type:"unknown",id:e}}function SU(e){if(typeof e=="string")return Zse(e);const t=Rnt(e);if(t!=="Image"&&t!=="sc:Image")return null;const n=e,r=bo(n);return r?r&&n.width&&n.height?{id:r,type:"fixed",width:n.width,height:n.height,unsafe:!0}:Zse(r):null}function Bnt(e,t=!0,n){const r=[],i=SU(e);if(i===null)return r;const o=e;if(r.push(i),t&&o&&o.width&&o.height){const s=[],a=BO(o);for(const l of a){const u={id:bo(l),width:o.width,height:o.height};if(n.canLoadSync(u)){const c=n.loadServiceSync(u);c&&(c.height||(c.height=o.height),c.width||(c.width=o.width),s.push(...Gse([c])))}}if(s.length)return r.push(...s),r}return o.service&&r.push(...Gse(o.service)),r}function znt(e,t){if(e.length!==t.length)return!1;if(e.length===0&&t.length===0)return!0;const n=e.length;let r=!0;for(let o=0;o<n;o++){const s=e[o],a=t[o];if(s.width!==a.width||s.height!==a.height){r=!1;break}}if(r)return!0;let i=0;for(let o=0;o<n;o++)for(let s=0;s<n;s++)if(e[o].width===t[s].width&&e[o].height===t[s].height){i++;break}return i===n}var QX=class{constructor(e={}){Cl(this,"config",{verificationsRequired:1,approximateServices:!1,enableFetching:!0,disableThrottling:!1}),Cl(this,"fetchingCount",0),Cl(this,"imageServices",{}),Cl(this,"knownImageServers",{}),this.config=Object.assign(this.config,e)}setConfig(e){Object.assign(this.config,e)}sample(e,t,n=!0){const r=aS(bo(e)),i=ag(bo(e)),o=this.knownImageServers[r];return this.imageServices[i]=Object.assign(e,{real:!0}),!o&&e.tiles&&!qse(e)?(this.knownImageServers[r]={verifications:0,malformed:!1,root:r,preLoaded:n,sampledId:bo(e),verified:!1,server:null,result:{context:e["@context"]||[],sampledProfile:e.profile,resourceServiceRatio:t&&e.height?t.height/e.height:1,sampledSizes:e.sizes||[],sizeRatios:Ant(e.width,e.height,e.sizes||[]),sampledTiles:e.tiles||[]}},!0):this.verify(e)}preLoad(e,t=!0){this.knownImageServers[e.root]=e,t&&(this.knownImageServers[e.root].malformed=!1,this.knownImageServers[e.root].verifications=this.config.verificationsRequired)}predict(e,t=!1,n=!1){const r=e==null?void 0:e.source,i=aS(bo(e)),o=this.knownImageServers[i],s=ag(bo(e));return this.imageServices[s]?this.imageServices[s]||null:!this.config.approximateServices||!o||!o.result||!(r!=null&&r.height||e.height)||!(r!=null&&r.width||e.width)||!n&&(o.malformed||o.verifications<this.config.verificationsRequired)||e.source&&qse(e.source)?null:(this.imageServices[s]||(this.imageServices[s]={"@context":o.result.context,"@id":bo(e),id:bo(e),protocol:"http://iiif.io/api/image",tiles:(r==null?void 0:r.tiles)||Dnt(e.width,e.height,o.result.sampledTiles),sizes:(r==null?void 0:r.sizes)||Int(Math.round(e.width/o.result.resourceServiceRatio),Math.round(e.height/o.result.resourceServiceRatio),o.result.sizeRatios),profile:(r==null?void 0:r.profile)||o.result.sampledProfile,height:(r==null?void 0:r.height)||e.height,width:(r==null?void 0:r.width)||e.width,real:!1}),this.imageServices[s]||null)}async getThumbnailFromResource(e,t,n=!0,r=[]){const i=e?await this.getImageCandidates(e,n):[];return jnt(t,[()=>r,()=>i])}async getImageCandidates(e,t=!0){const n=e;if(t&&n&&n.height&&n.width){const r=BO(n);for(const i of r){const o={id:bo(i),width:i.width?i.width:n.width,height:i.height?i.height:n.height,source:i};await this.loadService(o)}}return Bnt(e,t,this)}async verify(e){const t=this.predict(e,!1,!0),n=await this.fetchService(bo(e));if(!t)return!1;const r=t.height===n.height&&t.width===n.width&&t["@context"]===n["@context"]&&znt(t.sizes||[],n.sizes||[]);if(r){const i=aS(bo(e)),o=this.knownImageServers[i];o&&(o.verifications+=1,o.verifications>=this.config.verificationsRequired&&(o.verified=!0))}return r}canLoadSync(e){const t=typeof e=="string"?e:bo(e),n=ag(t);if(this.imageServices[n])return!0;const r=this.knownImageServers[aS(t)];return!!(r&&!r.malformed&&r.verifications>=this.config.verificationsRequired)}async markAsMalformed(e){return this.knownImageServers[aS(bo(e))].malformed=!0,this.loadService(e,!0)}async fetchService(e,t=!1){const n=ag(e),r=this.imageServices[n];if(r&&(!t||r.real))return r;if(!this.config.enableFetching)throw new Error("Fetching is not enabled");const i=await this.fetch(n).then(o=>o.json());return!i.id&&i["@id"]&&(i.id=i["@id"]),i.id!==e&&(i.id=e,i["@id"]&&(i["@id"]=e)),this.imageServices[n]=Object.assign(i,{real:!0}),this.imageServices[n]}async fetch(e,t){return fetch(e,t)}async loadService(e,t=!1){if(!this.config.disableThrottling){let i=!0;for(;i;)if(this.fetchingCount>=this.config.verificationsRequired)await new Promise(o=>setTimeout(o,500));else{i=!1;break}}const n=this.knownImageServers[aS(bo(e))];if(n&&!n.malformed&&!t){await n.result;const i=this.loadServiceSync(e);if(i)return i}this.fetchingCount++;const r=await this.fetchService(bo(e),t);return this.fetchingCount--,r.real&&this.sample(r,e),r}loadServiceSync(e){const t=ag(bo(e));return this.imageServices[t]?this.imageServices[t]:this.config.approximateServices?this.predict(e):null}};function Hnt(e={}){const t=e.events||Y_e(),n=e.loader||new QX;return{store:T2e((i,o)=>({loaded:{},loadServiceSync:(s,a,l)=>{const u=s.id||s["@id"],c=o().loaded[u];if(c&&c.status==="done")return c.service;if(c&&c.status==="loading")return null;if(c&&c.status==="error")throw new Error("Failed to load image service");const f={id:bo(s),width:s.width||(a==null?void 0:a.width)||0,height:s.height||(a==null?void 0:a.height)||0,source:s},p=n.loadServiceSync(f);return p?(i(g=>({loaded:{...g.loaded,[u]:{status:"done",service:p,real:!0}}})),t.emit("image-service.loaded",{id:u,service:p})):l&&o().loadService(s,a).then(()=>{}),p},loadService:async(s,a)=>{const l=s.id||s["@id"],u=o().loaded[l];if(u&&u.status==="done")return u.service;if(u&&u.status==="loading")return new Promise((c,f)=>{const p=g=>{g.id===l&&(t.off("image-service.loaded",p),c(g.service||s))};t.on("image-service.loaded",p)});if(u&&u.status==="error"&&!(a!=null&&a.force))throw new Error("Failed to load image service");t.emit("image-service.loading",{id:l});try{const c={id:bo(s),width:s.width||0,height:s.height||0,source:s},f=await n.loadService(c,a==null?void 0:a.force);return i(p=>({loaded:{...p.loaded,[l]:{status:"done",service:f,real:f.real}}})),t.emit("image-service.loaded",{id:l,service:f}),f}catch(c){throw t.emit("image-service.error",{id:l,error:c}),c}}})),events:t}}var Vnt=Hnt(),Unt=new QX;function n1(e=IT,t={}){const n=t.imageServiceLoader||Unt;async function r(i,o,s=!1,a=[],l){const u=()=>n.getThumbnailFromResource(void 0,o,s,a);if(!i)return await n.getThumbnailFromResource(void 0,o,s,a);if(typeof i=="string"){const p=SU(i);return p&&a.push(p),await n.getThumbnailFromResource(void 0,o,s,a)}const c=e.get(i,{skipSelfReturn:!1});if(typeof c=="string")return{best:SU(c),fallback:[],log:[]};if(!c)return await u();switch(await(async p=>{if(p&&p.thumbnail&&p.thumbnail.length){const g=e.get(p.thumbnail[0]),v=await n.getImageCandidates(g,s);v&&v.length&&a.push(...v)}})(c),c.type){case"Annotation":{const p=Array.isArray(c.body)?c.body:[c.body],g=e.get(p[0]);return l&&!g.width&&(g.width=l.width,g.height=l.height),await n.getThumbnailFromResource(g,o,s,a)}case"Canvas":{const p=c;return r(p.items[0],o,s,a,{width:p.width,height:p.height})}case"AnnotationPage":return r(c.items[0],o,s,a,l);case"Choice":{const p=c;return!p.items||p.items[0]?await u():r(p.items[0],o,s,a,l)}case"Collection":{const g=c.items[0];return g?r(g,o,s,a,l):await u()}case"Manifest":{const g=c.items[0];return g?r(g,o,s,a,l):await u()}case"SpecificResource":case"Image":case"Dataset":case"Sound":case"Text":case"TextualBody":case"Video":return l&&!c.width&&(c.width=l.width,c.height=l.height),n.getThumbnailFromResource(c,o,s,a)}return await u()}return{getBestThumbnailAtSize:r}}var Wnt=Q_e({"node_modules/.pnpm/parse-svg-path@0.1.2/node_modules/parse-svg-path/index.js"(e,t){t.exports=i;var n={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},r=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function i(a){var l=[];return a.replace(r,function(u,c,f){var p=c.toLowerCase();for(f=s(f),p=="m"&&f.length>2&&(l.push([c].concat(f.splice(0,2))),p="l",c=c=="m"?"l":"L");;){if(f.length==n[p])return f.unshift(c),l.push(f);if(f.length<n[p])throw new Error("malformed path data");l.push([c].concat(f.splice(0,n[p])))}}),l}var o=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function s(a){var l=a.match(o);return l?l.map(Number):[]}}}),Knt=Q_e({"node_modules/.pnpm/abs-svg-path@0.1.1/node_modules/abs-svg-path/index.js"(e,t){t.exports=n;function n(r){var i=0,o=0,s=0,a=0;return r.map(function(l){l=l.slice();var u=l[0],c=u.toUpperCase();if(u!=c)switch(l[0]=c,u){case"a":l[6]+=s,l[7]+=a;break;case"v":l[1]+=a;break;case"h":l[1]+=s;break;default:for(var f=1;f<l.length;)l[f++]+=s,l[f++]+=a}switch(c){case"Z":s=i,a=o;break;case"H":s=l[1];break;case"V":a=l[1];break;case"M":s=i=l[1],a=o=l[2];break;default:s=l[l.length-2],a=l[l.length-1]}return l})}}}),qnt=function(){function e(t,n){var r=[],i=!0,o=!1,s=void 0;try{for(var a=t[Symbol.iterator](),l;!(i=(l=a.next()).done)&&(r.push(l.value),!(n&&r.length===n));i=!0);}catch(u){o=!0,s=u}finally{try{!i&&a.return&&a.return()}finally{if(o)throw s}}return r}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),aP=Math.PI*2,dF=function(t,n,r,i,o,s,a){var l=t.x,u=t.y;l*=n,u*=r;var c=i*l-o*u,f=o*l+i*u;return{x:c+s,y:f+a}},Gnt=function(t,n){var r=n===1.5707963267948966?.551915024494:n===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(n/4),i=Math.cos(t),o=Math.sin(t),s=Math.cos(t+n),a=Math.sin(t+n);return[{x:i-o*r,y:o+i*r},{x:s+a*r,y:a-s*r},{x:s,y:a}]},Yse=function(t,n,r,i){var o=t*i-n*r<0?-1:1,s=t*r+n*i;return s>1&&(s=1),s<-1&&(s=-1),o*Math.acos(s)},Znt=function(t,n,r,i,o,s,a,l,u,c,f,p){var g=Math.pow(o,2),v=Math.pow(s,2),y=Math.pow(f,2),S=Math.pow(p,2),C=g*v-g*S-v*y;C<0&&(C=0),C/=g*S+v*y,C=Math.sqrt(C)*(a===l?-1:1);var _=C*o/s*p,k=C*-s/o*f,w=c*_-u*k+(t+r)/2,P=u*_+c*k+(n+i)/2,M=(f-_)/o,R=(p-k)/s,D=(-f-_)/o,H=(-p-k)/s,O=Yse(1,0,M,R),z=Yse(M,R,D,H);return l===0&&z>0&&(z-=aP),l===1&&z<0&&(z+=aP),[w,P,O,z]},Ynt=function(t){var n=t.px,r=t.py,i=t.cx,o=t.cy,s=t.rx,a=t.ry,l=t.xAxisRotation,u=l===void 0?0:l,c=t.largeArcFlag,f=c===void 0?0:c,p=t.sweepFlag,g=p===void 0?0:p,v=[];if(s===0||a===0)return[];var y=Math.sin(u*aP/360),S=Math.cos(u*aP/360),C=S*(n-i)/2+y*(r-o)/2,_=-y*(n-i)/2+S*(r-o)/2;if(C===0&&_===0)return[];s=Math.abs(s),a=Math.abs(a);var k=Math.pow(C,2)/Math.pow(s,2)+Math.pow(_,2)/Math.pow(a,2);k>1&&(s*=Math.sqrt(k),a*=Math.sqrt(k));var w=Znt(n,r,i,o,s,a,f,g,y,S,C,_),P=qnt(w,4),M=P[0],R=P[1],D=P[2],H=P[3],O=Math.abs(H)/(aP/4);Math.abs(1-O)<1e-7&&(O=1);var z=Math.max(Math.ceil(O),1);H/=z;for(var G=0;G<z;G++)v.push(Gnt(D,H)),D+=H;return v.map(function(ee){var X=dF(ee[0],s,a,S,y,M,R),se=X.x,B=X.y,q=dF(ee[1],s,a,S,y,M,R),U=q.x,K=q.y,J=dF(ee[2],s,a,S,y,M,R),oe=J.x,he=J.y;return{x1:se,y1:B,x2:U,y2:K,x:oe,y:he}})},Xnt=Ynt,Qnt=J_e(Wnt()),Jnt=J_e(Knt());function ert(e){const t=(0,Qnt.default)(e),n=(0,Jnt.default)(t);let r,i=0,o=0,s=0,a=0,l,u,c=0,f=0;const p=[];for(let g=0;g<n.length;g++){let v=n[g];const y=v[0];switch(y){case"M":i=v[1],o=v[2];break;case"H":v=["L",v[1],o];break;case"V":v=["L",i,v[1]];break;case"S":{let S=c,C=f;(r==="C"||r=="S")&&(S+=S-s,C+=C-a),v=["C",S,C,v[1],v[2],v[3],v[4]]}break;case"T":r==="Q"||r=="T"?(l=c*2-l,u=f*2-u):(l=c,u=f),v=["Q",l,u,v[1],v[2]];break;case"Q":l=v[1],u=v[2];break;case"A":{const S=Xnt({px:c,py:f,cx:v[6],cy:v[7],rx:v[1],ry:v[2],xAxisRotation:v[3],largeArcFlag:v[4],sweepFlag:v[5]});if(!S.length)continue;for(const[C,_]of S.entries())v=["C",_.x1,_.y1,_.x2,_.y2,_.x,_.y],C<S.length-1&&p.push(v);v=v}break;case"Z":v=["L",i,o];break}r=y,c=v[v.length-2],f=v[v.length-1],["C","Q","A"].indexOf(y)>-1?(s=v[v.length-4],a=v[v.length-3]):(s=c,a=f),p.push(v)}return p}function trt(e,t,n,r=1){return new oCe(e,t,n).subdivide(r)}function nrt(e,t,n,r,i=1){return new irt(new Float64Array([e.x,e.y,t.x,t.y,n.x,n.y,r.x,r.y])).subdivide(i)}function rrt(e){return e.x*e.x+e.y*e.y}function lP(e){return e/(1-.67+Math.pow(Math.pow(.67,4)+.25*e*e,.25))}function O2(e){return e*(1-.39+Math.sqrt(.39*.39+.25*e*e))}var oCe=class{constructor(e,t,n){Cl(this,"start"),Cl(this,"control"),Cl(this,"end"),this.start=e,this.control=t,this.end=n}eval(e){const t=1-e;return{x:this.start.x*t*t+2*this.control.x*t*e+this.end.x*e*e,y:this.start.y*t*t+2*this.control.y*t*e+this.end.y*e*e}}mapToBasic(){const{x:e,y:t}=this.start,{x:n,y:r}=this.control,{x:i,y:o}=this.end,s=2*n-e-i,a=2*r-t-o,l=(n-e)*s+(r-t)*a,u=(i-n)*s+(o-r)*a,c=(i-e)*a-(o-t)*s,f=l/c,p=u/c,g=Math.abs(c)/(Math.hypot(s,a)*Math.abs(p-f));return{x0:e,x2:i,scale:g,cross:c}}subdivide(e){const t=this.mapToBasic(),n=lP(t.x0),r=lP(t.x2),i=.5*Math.abs(r-n)*Math.sqrt(t.scale/e),o=Math.ceil(i),s=O2(n),a=O2(r),l=[0];for(let u=1;u<o;u++){const f=(O2(n+(r-n)*u/o)-s)/(a-s);l.push(f)}return l.push(1),l.map(u=>this.eval(u))}},irt=class sCe{constructor(t){Cl(this,"c"),this.c=t}weightsum(t,n,r,i){const o=t*this.c[0]+n*this.c[2]+r*this.c[4]+i*this.c[6],s=t*this.c[1]+n*this.c[3]+r*this.c[5]+i*this.c[7];return{x:o,y:s}}eval(t){const n=1-t,r=n*n*n,i=3*n*n*t,o=3*n*t*t,s=t*t*t;return this.weightsum(r,i,o,s)}deriv(t){const n=1-t,r=-3*n*n,i=3*t*t,o=-6*t*n-r,s=6*t*n-i;return this.weightsum(r,o,s,i)}midpoint_quadbez(){const t=this.weightsum(-.25,.75,.75,-.25);return new oCe({x:this.c[0],y:this.c[1]},t,{x:this.c[6],y:this.c[7]})}subsegment(t,n){const r=new Float64Array(8),i=this.eval(t),o=this.eval(n);r[0]=i.x,r[1]=i.y;const s=(n-t)/3,a=this.deriv(t);r[2]=i.x+s*a.x,r[3]=i.y+s*a.y;const l=this.deriv(n);return r[4]=o.x-s*l.x,r[5]=o.y-s*l.y,r[6]=o.x,r[7]=o.y,new sCe(r)}subdivide(t){const n=.1*t,r=t-n,i=Math.sqrt(r),o=rrt(this.weightsum(1,-3,3,-1)),s=Math.ceil(Math.pow(o/(432*n*n),1/6)),a=[];let l=0;for(let v=0;v<s;v++){const y=v/s,S=(v+1)/s,C=this.subsegment(y,S).midpoint_quadbez(),_=C.mapToBasic(),k=lP(_.x0),w=lP(_.x2),P=Math.sqrt(_.scale);let M=Math.abs(w-k)*P;if(Math.sign(_.x0)!=Math.sign(_.x2)){const R=i/P,D=i*Math.abs(w-k)/lP(R);M=Math.max(M,D)}a.push({quad:C,a0:k,a2:w,val:M}),l+=M}const u=.5*l/i,c=Math.ceil(u),f=[{x:this.c[0],y:this.c[1]}];let p=0,g=0;for(let v=1;v<c;v++){const y=l*v/c;for(;p+a[g].val<y;)p+=a[g].val,g++;const S=a[g].a0,C=a[g].a2,_=O2(S),k=O2(C),w=S+(C-S)*(y-p)/a[g].val,M=(O2(w)-_)/(k-_);f.push(a[g].quad.eval(M))}return f.push({x:this.c[6],y:this.c[7]}),f}},ort=/&?(xywh=)?(pixel:|percent:|pct:)?([0-9]+(?:\.[0-9]+)?),([0-9]+(?:\.[0-9]+)?),([0-9]+(?:\.[0-9]+)?),([0-9]+(?:\.[0-9]+)?)/,Xse=/&?(t=)(npt:)?([0-9]+(\.[0-9]+)?)?(,([0-9]+(\.[0-9]+)?))?/,Qse=/^rgba\((\d+),(\d+),(\d+),([0-9.]+)\)$/;function j2(e,{domParser:t,svgPreprocessor:n,iiifRenderingHints:r}={}){if(Array.isArray(e))return kd(e.reduce((i,o)=>{const{selector:s,selectors:a,iiifRenderingHints:l}=j2(o,{domParser:t,svgPreprocessor:n,iiifRenderingHints:r});return s&&(i.selector||(i.selector=s),i.selectors.push(...a)),l&&(i.iiifRenderingHints=i.iiifRenderingHints||{type:"ImageApiSelector"},Object.assign(i.iiifRenderingHints,l)),i},{selector:null,selectors:[],iiifRenderingHints:r}));if(!e)return kd({selector:null,selectors:[],iiifRenderingHints:r});if(typeof e=="string"){const[i,o]=e.split("#");return o?j2({type:"FragmentSelector",value:o},{svgPreprocessor:n,iiifRenderingHints:r,domParser:t}):kd({selector:null,selectors:[],iiifRenderingHints:r})}if(e.type){if(e.type==="PointSelector"&&(e.t||e.t===0)){const i={type:"TemporalSelector",temporal:{startTime:e.t}};return kd({selector:i,selectors:[i],iiifRenderingHints:r})}if(e.type==="PointSelector"&&e.x&&e.y){const i={type:"PointSelector",spatial:{x:e.x,y:e.y}};return kd({selector:i,selectors:[i],iiifRenderingHints:r})}}if(urt(e)){const i=[];if(e.region){const o=j2({type:"FragmentSelector",value:"xywh="+e.region},{domParser:t,svgPreprocessor:n,iiifRenderingHints:r});i.push(...o.selectors)}return kd({selector:i[0],selectors:i,iiifRenderingHints:r?{...r,...e}:e})}if(e.type==="FragmentSelector"){const i=ort.exec(e.value);if(i){let s={type:"BoxSelector",spatial:{unit:i[2]==="percent:"||i[2]==="pct:"?"percent":"pixel",x:parseFloat(i[3]),y:parseFloat(i[4]),width:parseFloat(i[5]),height:parseFloat(i[6])}};const a=e.value.match(Xse);return a&&(s={type:"TemporalBoxSelector",spatial:s.spatial,temporal:{startTime:a[3]?parseFloat(a[3]):0,endTime:a[6]?parseFloat(a[6]):void 0}}),kd({selector:s,selectors:[s],iiifRenderingHints:r})}const o=e.value.match(Xse);if(o){const s={type:"TemporalSelector",temporal:{startTime:o[3]?parseFloat(o[3]):0,endTime:o[6]?parseFloat(o[6]):void 0}};return kd({selector:s,selectors:[s],iiifRenderingHints:r})}return kd({selector:null,selectors:[],iiifRenderingHints:r})}if(e.type==="SvgSelector"&&"value"in e){t||(typeof window<"u"?t=new window.DOMParser:console.warn("No DOMParser available, cannot parse SVG selector, `points`, `spatial` and `style` will be unavailable and the SVG will not be normalized."));let i=[],o,s,a=(n==null?void 0:n(e.value))??e.value,l;if(t){const c=t.parseFromString(e.value,"image/svg+xml").querySelector("svg");if(!c)return console.warn(`Illegal SVG selector: ${e.value}`),kd({selector:null,selectors:[],iiifRenderingHints:r});const f=aCe(c);f&&(i=f.points,l=f.shapeType,o=[Math.min(...i.map(p=>p[0])),Math.min(...i.map(p=>p[1])),Math.max(...i.map(p=>p[0])),Math.max(...i.map(p=>p[1]))],{style:s,svg:a}=lrt(f.element)??{svg:a})}const u={type:"SvgSelector",svg:a,svgShape:l,style:s,points:i.length?i:void 0,spatial:o?{unit:"pixel",x:o[0],y:o[1],width:o[2]-o[0],height:o[3]-o[1]}:void 0};return kd({selector:u,selectors:[u],iiifRenderingHints:r})}return kd({selector:null,selectors:[],iiifRenderingHints:r})}function srt(e){const t=e.map(r=>r[0]).reduce((r,i)=>(r[i]+=1,r),{C:0,Q:0,L:0,M:0}),n=new Set(e.map(r=>r[0]));if(t.C>0||t.Q>0)return"path";if(t.L>0&&(n.size===1||n.size===2&&n.has("M"))){if(t.L===4)return"rect";const r=e.slice(-1)[0];return e[0][0]==="M"&&r[0]==="L"&&r[1]==e[0][1]&&r[2]===e[0][2]||r[1]===0&&r[2]===0?"polygon":"polyline"}return"path"}function aCe(e){var t;for(const n of Array.from(e.children))switch(n==null?void 0:n.tagName.toLowerCase()){case"g":{const r=aCe(n);if(r)return r}continue;case"path":{const r=n.getAttribute("d");if(!r)continue;const i=ert(r);return{element:n,points:art(i),shapeType:srt(i)}}case"circle":{const r=parseFloat(n.getAttribute("cx")??"0"),i=parseFloat(n.getAttribute("cy")??"0"),o=parseFloat(n.getAttribute("r")??"0");if(!o)continue;const s=[];for(let a=0;a<=360;a+=12){const l=a*Math.PI/180;s.push([r+o*Math.cos(l),i+o*Math.sin(l)])}return{element:n,points:s,shapeType:"circle"}}case"ellipse":{const r=parseFloat(n.getAttribute("cx")??"0"),i=parseFloat(n.getAttribute("cy")??"0"),o=parseFloat(n.getAttribute("rx")??"0"),s=parseFloat(n.getAttribute("ry")??"0");if(!o&&!s)continue;const a=[];for(let l=0;l<=360;l+=12){const u=Math.tan(l/360*Math.PI),c=o*(1-u**2)/(1+u**2),f=s*2*u/(1+u**2);a.push([r+c,i+f])}return{element:n,points:a,shapeType:"ellipse"}}case"line":{const r=parseFloat(n.getAttribute("x0")??"0"),i=parseFloat(n.getAttribute("y0")??"0"),o=parseFloat(n.getAttribute("x1")??"0"),s=parseFloat(n.getAttribute("y1")??"0");if(r===o&&i===s)continue;return{element:n,points:[[r,i],[o,s]],shapeType:"polyline"}}case"polygon":case"polyline":{const r=((t=n.getAttribute("points"))==null?void 0:t.split(" ").map(o=>o.split(",").map(parseFloat)))??[];if(!r.length)continue;let i="polyline";return n.tagName.toLowerCase()==="polygon"&&(r.push(r[0]),i="polygon"),{element:n,points:r,shapeType:i}}case"rect":{const r=parseFloat(n.getAttribute("x")??"0"),i=parseFloat(n.getAttribute("y")??"0"),o=parseFloat(n.getAttribute("width")??"0"),s=parseFloat(n.getAttribute("height")??"0");if(!o||!s)continue;return{element:n,points:[[r,i],[r+o,i],[r+o,i+s],[r,i+s],[r,i]],shapeType:"rect"}}default:continue}return null}function art(e){const t=[];for(let n=0;n<e.length;n++){const r=t[t.length-1]??[0,0],i=e[n];switch(i[0]){case"M":case"L":t.push([i[1],i[2]]);continue;case"C":t.push(...nrt({x:r[0],y:r[1]},{x:i[1],y:i[2]},{x:i[3],y:i[4]},{x:i[5],y:i[6]}).map(o=>[o.x,o.y]).slice(1));continue;case"Q":t.push(...trt({x:r[0],y:r[1]},{x:i[1],y:i[2]},{x:i[3],y:i[4]}).map(o=>[o.x,o.y]).slice(1));continue}}return t}function lrt(e){const t={};if(e.hasAttribute("fill")?(t.fill=e.getAttribute("fill"),e.removeAttribute("fill")):e.style&&e.style.fill&&(t.fill=e.style.fill),t.fill){const r=Qse.exec(t.fill);r&&(t.fillOpacity=parseFloat(r[4]),t.fill=`rgb(${r[1]}, ${r[2]}, ${r[3]})`)}if(e.hasAttribute("fill-opacity")?(t.fillOpacity=parseFloat(e.getAttribute("fill-opacity")),e.removeAttribute("fill-opacity")):e.style&&e.style.fillOpacity&&(t.fillOpacity=parseFloat(e.style.fillOpacity)),e.hasAttribute("stroke")?(t.stroke=e.getAttribute("stroke"),e.removeAttribute("stroke")):e.style&&e.style.stroke&&(t.stroke=e.style.stroke),t.stroke){const r=Qse.exec(t.stroke);r&&(t.strokeOpacity=parseFloat(r[4]),t.stroke=`rgb(${r[1]}, ${r[2]}, ${r[3]})`)}e.hasAttribute("stroke-opacity")?(t.strokeOpacity=parseFloat(e.getAttribute("stroke-opacity")),e.removeAttribute("stroke-opacity")):e.style&&e.style.strokeOpacity&&(t.strokeOpacity=parseFloat(e.style.strokeOpacity)),e.hasAttribute("stroke-width")?(t.strokeWidth=e.getAttribute("stroke-width"),e.removeAttribute("stroke-width")):e.style&&e.style.strokeWidth&&(t.strokeWidth=e.style.strokeWidth),e.hasAttribute("stroke-dasharray")?(t.strokeDasharray=e.getAttribute("stroke-dasharray"),e.removeAttribute("stroke-dasharray")):e.style&&e.style.strokeDasharray&&(t.strokeDasharray=e.style.strokeDasharray);let n=e;for(;n.tagName.toLowerCase()!=="svg";)if(n=n.parentElement,n===null)throw new Error("Could not find root SVG element");return{svg:n.outerHTML,style:Object.keys(t).length>0?t:void 0}}function urt(e){return!!e&&e.type==="iiif:ImageApiSelector"&&e.type==="iiif:ImageApiSelector"}function kd(e){if(e.iiifRenderingHints){const t=e.iiifRenderingHints;if(t.rotation){const n=crt(`${t.rotation}`);if(n)if(e.selectors.length)for(const r of e.selectors)r.rotation=n;else e.selectors.push({type:"RotationSelector",rotation:n})}}else delete e.iiifRenderingHints;return e}function crt(e){let t=parseFloat(e);return t&&e.startsWith("!")&&(t=360-t),t&&(t=t%360),t!==t?0:t||0}function Ju(e,t={}){if(Array.isArray(e))return Ju(e[0]);if(typeof e=="string"){const[n,r]=e.split("#");return r?Ju({type:"SpecificResource",source:{id:n,type:"Unknown"},selector:{type:"FragmentSelector",value:r}}):{type:"SpecificResource",source:{id:n,type:t.typeMap&&t.typeMap[n]||"Unknown"},selector:null,selectors:[]}}if(e.type==="Choice"||e.type==="List"||e.type==="Composite"||e.type==="Independents")return Ju(e.items[0]);if(!e.type&&"source"in e&&(e.type="SpecificResource"),e.type==="SpecificResource"){e.source.type==="Canvas"&&e.source.partOf&&typeof e.source.partOf=="string"&&(e.source.partOf=[{id:e.source.partOf,type:"Manifest"}]);const{selector:n,selectors:r}=e.selector?j2(e.selector,t):{selector:null,selectors:[]};return{type:"SpecificResource",source:e.source,selector:n,selectors:r}}if(e.id){e.type==="Canvas"&&e.partOf&&typeof e.partOf=="string"&&(e.partOf=[{id:e.partOf,type:"Manifest"}]);const[n,r]=e.id.split("#");return r?Ju({type:"SpecificResource",source:{...e,id:n},selector:{type:"FragmentSelector",value:r}}):{type:"SpecificResource",source:{...e,id:n},selector:null,selectors:[]}}return{type:"SpecificResource",source:e,selector:null,selectors:[]}}/** Code to "flatten" quadratic and cubic Bzier curves to polylines.
 *
 * All code in this module is based on JavaScript code by Raph Levien, published on his blog at
 * https://raphlinus.github.io/.
 * I merely changed the structure a bit, removed some unneeded parts and added some comments and type hints.
 *
 * Flattening of quadratic Bzier curves:
 * - Article: https://raphlinus.github.io/graphics/curves/2019/12/23/flatten-quadbez.html
 * - Code: https://github.com/raphlinus/raphlinus.github.io/blob/master/_posts/2019-12-23-flatten-quadbez.md?plain=1#L73-L212
 *
 * Flattening of cubic Bzier curves: https://levien.com/tmp/flatten.html
 *
 * Note that the code in this module has a different license than the rest of the package,
 * due to the inclusion of Apache-licensed third party code.
 *
 * @license
 * Copyright 2022 Johannes Baiter <johannes.baiter@gmail.com>
 * Copyright 2019, 2022 Raph Levien <raph.levien@gmail.com>
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lCe(e){return drt(typeof e=="string"?e:JSON.stringify(e))}function uCe(e,t){if(e=e.trim(),e[0]==="{")return JSON.parse(e);if(e.startsWith("http"))throw new Error("Cannot fetch remote fetch with async=false in parseContentState");return uCe(frt(e))}function drt(e){const t=encodeURIComponent(e);return(typeof btoa>"u"?Buffer.from(t,"utf-8").toString("base64"):btoa(t)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function frt(e){const n=hrt(e).replace(/-/g,"+").replace(/_/g,"/"),r=typeof atob>"u"?Buffer.from(n,"base64").toString("utf-8"):atob(n);return decodeURIComponent(r).trim()}function hrt(e){const t=e.length%4;if(t===1)throw new Error("InvalidLengthError: Input base64url string is the wrong length to determine padding");return e+(t?"====".slice(0,4-t):"")}function prt(e){if(!e)throw new Error("Content state is empty");Array.isArray(e)||(e=[e]);let t="vault://virtual-annotation/"+new Date().getTime();const n=[];for(const r of e){if(typeof r=="string")throw new Error("Content state is a [String] type and cannot be inferred");if(r.type==="Annotation"){if(t=r.id,Array.isArray(r.motivation))for(const o of r.motivation);if(Array.isArray(r.target))for(const o of r.target){const s=Ju(o);n.push(s)}else{const o=Ju(r.target);n.push(o)}continue}const i=Ju(r);n.push(i)}return{id:t,type:"Annotation",motivation:["contentState",...e.motivation||[]],target:n,extensions:{}}}function cCe(e,t){let{selector:n,source:r}=Ju(t);if(r.id!==e.id)return[null,r];let i={type:"BoxSelector",spatial:{x:0,y:0,width:Number(e.width),height:Number(e.height)}};return[n?n.type==="TemporalSelector"?{type:"TemporalBoxSelector",temporal:n.temporal,spatial:i.spatial}:n:null,r]}var mrt={makeChoice:()=>{}},fF={type:"unknown"},Ys=e=>({type:"unknown",reason:e,annotations:{pages:[]}}),grt=(e,t)=>({type:"empty",width:e,height:t,annotations:{pages:[]},image:null,images:[]}),vrt=["model/gltf-binary"];function yrt(e,t){let n=t.items[0],r=n.resource;return r.format?vrt.indexOf(r.format)===-1?Ys(`3D format: ${r.format} is unsupported`):{type:"3d-model",model:r,annotationId:n.annotationId,annotation:n.annotation}:Ys("Unknown format")}function dCe(e,t,n){var i;let r=[];for(let o of t.items){let s=o.resource&&o.resource.type==="SpecificResource"?o.resource.source:o.resource;if(!s.id)return Ys("No resource Identifier");let a;if(s.service){let y=BO(s);y[0]&&(a=n(y[0],e))}let l={type:"BoxSelector",spatial:{x:0,y:0,width:Number(e.width),height:Number(e.height)}},[u,c]=cCe(e,o.target),f=((i=e.id)==null?void 0:i.split("?")[0])||"";if(!(c.id===e.id||decodeURIComponent(c.id||"")===(e.id||"")||c.id===f||decodeURIComponent(c.id||"")===f))continue;o.resource.width&&o.resource.height&&(o.resource.width,o.resource.height);let p=o.resource.type==="SpecificResource"?Ju(o.resource):null;if(o.selector){let y=Ju({type:"SpecificResource",source:o.resource,selector:o.selector});y&&(p=y)}let g=p&&p.selector&&(p.selector.type==="BoxSelector"||p.selector.type==="TemporalBoxSelector")?{type:"BoxSelector",spatial:{x:p.selector.spatial.x,y:p.selector.spatial.y,width:p.selector.spatial.width,height:p.selector.spatial.height}}:void 0;a&&!a.id&&(a.id=a["@id"]);let v={id:s.id,type:"Image",annotationId:o.annotationId,annotation:o.annotation,width:Number(u||g?s.width:e.width),height:Number(u||g?s.height:e.height),service:a,sizes:a&&a.sizes?a.sizes:s.width&&s.height?[{width:s.width,height:s.height}]:[],target:u&&u.type!=="PointSelector"?u:l,selector:g||{type:"BoxSelector",spatial:{x:0,y:0,width:Number(e.width),height:Number(e.height)}}};r.push(v)}return{type:"images",image:r[0],images:r,choice:t.choice}}function fCe(e,t={},n){let r=e.language||n||"none";switch(e.type){case"TextualBody":{typeof e.value<"u"&&(t[r]=[e.value]);break}case"List":case"Composite":case"Choice":e.items&&e.items.forEach(i=>fCe(i,t,r))}return t}function hCe(e,t){let n=[];return t.items.forEach(r=>{if(r.resource){let[i]=cCe(e,r.target);n.push({type:"Text",annotationId:r.annotationId,annotation:r.annotation,text:fCe(r.resource),target:i})}}),{type:"textual-content",items:n}}var brt=/^.*(?:(?:youtu\.be\/|v\/|vi\/|u\/\w\/|embed\/|shorts\/)|(?:(?:watch)?\?vi?=|&vi?=))([^#&?]*).*/;function pCe(e,t,n){var g;let r=t.items.filter(v=>v.type==="video"),i=r[0],o=!1;if(e.duration||(o=!0),r.length>1||!i)return Ys("Only one video source supported");let s=(g=r[0])==null?void 0:g.resource,a=!!(s.service||[]).find(v=>(v.profile||"").includes("youtube.com"));if(!a&&o)return Ys("Video does not have duration");if(!s)return Ys("Unknown video");if((!s.format||s.format==="text/html")&&!a)return Ys("Video does not have format");let l=[],u=n.get(e.annotations||[]);for(let v of u){let y=n.get(v.items||[]);for(let S of y)if((S.motivation?Array.isArray(S.motivation||"")?S.motivation:[S.motivation]:[]).includes("supplementing")){let C=n.get(S.body||[]);for(let _ of C){let k=_;if(k.type==="Choice")for(let w of k.items){let P=n.get(w);P.format==="text/vtt"&&l.push({id:P.id,type:"Text",format:"text/vtt",label:P.label,language:P.language})}else k.format==="text/vtt"&&l.push({id:k.id,type:"Text",format:"text/vtt",label:k.label,language:k.language})}}}let c={annotationId:i.annotationId,annotation:i.annotation,duration:e.duration,url:s.id,type:"Video",target:{type:"TemporalSelector",temporal:{startTime:0,endTime:e.duration}},format:s.format,selector:{type:"TemporalSelector",temporal:{startTime:0,endTime:e.duration}}},f=Ju(i.target);f.selector&&f.selector.type==="TemporalBoxSelector"&&(c.target=f.selector);let{selector:p}=j2(i.selector);if(p===null){let v=c.target.temporal.startTime,y=(c.target.temporal.endTime||e.duration)-v;c.selector={type:"TemporalSelector",temporal:{startTime:0,endTime:y}}}else p.type==="TemporalSelector"&&(c.selector=p);if(a){c.type="VideoYouTube";let v=s.id.match(brt);if(!v[1])return Ys("Video is not known youtube video");c.youTubeId=v[1]}return{type:"media",media:c,annotations:{pages:[]},captions:l}}function wrt(e,t,n,r){var u,c,f,p,g,v,y,S,C,_;let i={type:"complex-timeline",items:[],keyframes:[],duration:e.duration||0},o={type:"complex-choice",items:[]};function s(k){k.choice&&(k.choice.type==="complex-choice"?o.items.push(...k.choice.items):o.items.push(k.choice))}for(let k of t.items){if(k.type==="image"){let w=dCe(e,{choice:null,allChoices:null,types:["image"],items:[k]},n);if(w.type==="images"){s(w),i.items.push(w.image);let P={id:w.image.annotationId,type:"enter",resourceType:"image",time:((c=(u=w.image.target)==null?void 0:u.temporal)==null?void 0:c.startTime)||0};i.keyframes.push(P);let M={id:w.image.annotationId,type:"exit",resourceType:"image",time:((p=(f=w.image.target)==null?void 0:f.temporal)==null?void 0:p.endTime)||e.duration||0};i.keyframes.push(M)}}if(k.type==="textualbody"){let w=hCe(e,{choice:null,allChoices:null,types:["textualbody"],items:[k]});if(w.type==="textual-content"){s(w);let P=w.items[0];i.items.push(P);let M=P.target,R={id:P.annotationId,type:"enter",resourceType:"text",time:((g=M.temporal)==null?void 0:g.startTime)||0};i.keyframes.push(R);let D={id:P.annotationId,type:"exit",resourceType:"text",time:((v=M.temporal)==null?void 0:v.endTime)||e.duration||0};i.keyframes.push(D)}}if(k.type==="video"){let w=pCe(e,{choice:null,allChoices:null,types:["video"],items:[k]},r);if(w.type==="media"){s(w);let P=w.media;i.items.push(P);let M={id:P.annotationId,type:"enter",resourceType:"video",time:((S=(y=P.target)==null?void 0:y.temporal)==null?void 0:S.startTime)||0};i.keyframes.push(M);let R={id:P.annotationId,type:"exit",resourceType:"video",time:((_=(C=P.target)==null?void 0:C.temporal)==null?void 0:_.endTime)||e.duration||0};i.keyframes.push(R)}}}i.keyframes.sort((k,w)=>k.time-w.time);let a=[],l=[];for(let k of i.keyframes){if(k.resourceType==="image"||k.resourceType==="text"){l.push(k);continue}if(k.type==="enter"){a.length===0&&(k.isPrime=!0),a.push(k),l.push(k);continue}if(k.type==="exit"&&(l.push(k),a=a.filter(w=>w.id!==k.id),a.length!==0)){let w=a[0],P={id:w.id,type:"change",isPrime:!0,resourceType:w.resourceType,time:k.time};l.push(P)}}return i.keyframes=l,o.items.length&&(i.choice=o),i}function xrt(e,t){let n=t.items,r=n[0];if(n.length===0||!r)return Ys("No audio");if(!e.duration)return Ys("No duration on canvas");if(n.length>1)return Ys("Only one audio source supported");let i=r.resource;return i?"format"in i?{type:"media",media:{annotationId:r.annotationId,annotation:r.annotation,duration:e.duration,url:i.id,type:"Sound",target:{type:"TemporalSelector",temporal:{startTime:0,endTime:e.duration}},format:i.format,selector:{type:"TemporalSelector",temporal:{startTime:0,endTime:e.duration}}},annotations:{pages:[]}}:Ys("Audio does not have format"):Ys("Unknown audio")}var nM={},mCe={get(e){return e},setMetaValue([e,t,n],r){let i=mCe.getResourceMeta(e,t),o=i?i[n]:void 0,s=typeof r=="function"?r(o):r;nM[e]={...nM[e]||{},[t]:{...(nM[e]||{})[t]||{},[n]:s}}},getResourceMeta:(e,t)=>{let n=nM[e];if(n)return t?n[t]:n},async load(e){let t=typeof e=="string"?e:e.id;return fetch(t).then(n=>n.json())},requestStatus(e){}};function Srt({canvas:e,paintables:t,supports:n,loadImageService:r,vault:i=mCe}){if(!e)return fF;if(t.types.length===0)return n.indexOf("empty")!==-1?grt(e.width,e.height):fF;if(t.types.length!==1)if(t.types.length===2&&t.types.indexOf("text")!==-1)t.types=t.types.filter(s=>s!=="text");else return n.indexOf("complex-timeline")===-1?Ys("Complex timeline not supported"):wrt(e,t,r,i);let o=t.types[0];return o==="image"?n.indexOf("images")===-1?Ys("Image not supported"):dCe(e,t,r):o==="Model"||o==="model"?n.indexOf("3d-model")===-1?Ys("3D not supported"):yrt(e,t):o==="textualbody"?n.indexOf("textual-content")===-1?Ys("Textual content not supported"):hCe(e,t):o==="sound"||o==="audio"?n.indexOf("media")===-1?Ys("Media not supported"):xrt(e,t):o==="video"?n.indexOf("media")===-1?Ys("Media not supported"):pCe(e,t,i):fF}const _rt="modulepreload",Crt=function(e,t){return new URL(e,t).href},Jse={},Il=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){const s=document.getElementsByTagName("link"),a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(n.map(u=>{if(u=Crt(u,r),u in Jse)return;Jse[u]=!0;const c=u.endsWith(".css"),f=c?'[rel="stylesheet"]':"";if(!!r)for(let v=s.length-1;v>=0;v--){const y=s[v];if(y.href===u&&(!c||y.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${f}`))return;const g=document.createElement("link");if(g.rel=c?"stylesheet":_rt,c||(g.as="script"),g.crossOrigin="",g.href=u,l&&g.setAttribute("nonce",l),document.head.appendChild(g),c)return new Promise((v,y)=>{g.addEventListener("load",v),g.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${u}`)))})}))}function o(s){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s}return i.then(s=>{for(const a of s||[])a.status==="rejected"&&o(a.reason);return t().catch(o)})},w4=(e,t,n)=>{const r=e.length,i=n||cn(r);for(let o=0;o<r;o++)i[o]=o%5===0?e[o+1]<t[3]&&e[o+3]>t[1]&&e[o+2]<t[4]&&e[o+4]>t[2]?1:0:e[o];return i};function cn(e,t,n){return new Float32Array(e,t,n)}const Ert=(e,t,n)=>{const r=e[1]<=t[3]&&e[3]>=t[1]&&e[2]<=t[4]&&e[4]>=t[2],i=n||cn(5);return r?(i[0]=1,i[1]=Math.max(e[1],t[1]),i[2]=Math.max(e[2],t[2]),i[3]=Math.min(e[3],t[3]),i[4]=Math.min(e[4],t[4]),i):(i[0]=0,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i)},krt=e=>e.length/5,xg=(e,t,n)=>{const r=n||cn(9);return r[0]=e[0]*t[0]+e[1]*t[3]+e[2]*t[6],r[1]=e[0]*t[1]+e[1]*t[4]+e[2]*t[7],r[2]=e[0]*t[2]+e[1]*t[5]+e[2]*t[8],r[3]=e[3]*t[0]+e[4]*t[3]+e[5]*t[6],r[4]=e[3]*t[1]+e[4]*t[4]+e[5]*t[7],r[5]=e[3]*t[2]+e[4]*t[5]+e[5]*t[8],r[6]=e[6]*t[0]+e[7]*t[3]+e[8]*t[6],r[7]=e[6]*t[1]+e[7]*t[4]+e[8]*t[7],r[8]=e[6]*t[2]+e[7]*t[5]+e[8]*t[8],r};class Zr{constructor(t){this.index=0,this.length=t,this.points=cn(this.length)}static grid(t=1,n=1){return new Zr(5*t*n)}static point(t,n){const r=cn(5);return r[0]=1,r[1]=t,r[2]=n,r[3]=t,r[4]=n,r}static positionPair(t){const n=cn(5);return n[0]=1,n[1]=t.x1,n[2]=t.y1,n[3]=t.x2,n[4]=t.y2,n}static projection(t){return Zr.singleBox(t.width,t.height,t.x,t.y)}static singleBox(t,n,r=0,i=0){const o=cn(5);return o[0]=1,o[1]=r,o[2]=i,o[3]=t+r,o[4]=n+i,o}row(t){return t(this)}addPoints(t,n,r,i){return this.points[this.index]=1,this.points[1+this.index]=t,this.points[2+this.index]=n,this.points[3+this.index]=r,this.points[4+this.index]=i,this.index+=5,this}addBox(t,n,r,i){return this.addPoints(t,n,t+r,n+i),this}build(){return this.points}}const _p=(e,t)=>{const n=e.length;for(let r=0;r<n;r++)e[r]=r%5===0?t[6]*e[r+1]+t[7]*e[r+2]+t[8]*e[r]:r%5%2===1?t[0]*e[r]+t[1]*e[r+1]+t[2]:t[3]*e[r-1]+t[4]*e[r]+t[5];return e},I0=e=>{const t=cn(9);return t[0]=e,t[4]=e,t[8]=1,t},nu=(e,t)=>{const n=cn(9);return n[0]=1,n[2]=e,n[4]=1,n[5]=t,n[8]=1,n},x4=(e,t,n)=>xg(nu((1-e)*t,(1-e)*n),I0(e)),Sg=(e,t,n)=>{const r=e.length,i=n&&n.length>=r?n.slice(0,r):cn(r);for(let o=0;o<r;o++)i[o]=o%5===0?t[6]*e[o+1]+t[7]*e[o+2]+t[8]*e[o]:o%5%2===1?t[0]*e[o]+t[1]*e[o+1]+t[2]:t[3]*e[o-1]+t[4]*e[o]+t[5];return i},EE=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,Prt=typeof AbortController=="function",HR=Prt?AbortController:class{constructor(){this.signal=new gCe}abort(t=new Error("This operation was aborted")){this.signal.reason=this.signal.reason||t,this.signal.aborted=!0,this.signal.dispatchEvent({type:"abort",target:this.signal})}},$rt=typeof AbortSignal=="function",Trt=typeof HR.AbortSignal=="function",gCe=$rt?AbortSignal:Trt?HR.AbortController:class{constructor(){this.reason=void 0,this.aborted=!1,this._listeners=[]}dispatchEvent(t){t.type==="abort"&&(this.aborted=!0,this.onabort(t),this._listeners.forEach(n=>n(t),this))}onabort(){}addEventListener(t,n){t==="abort"&&this._listeners.push(n)}removeEventListener(t,n){t==="abort"&&(this._listeners=this._listeners.filter(r=>r!==n))}},JX=new Set,hF=(e,t)=>{const n=`LRU_CACHE_OPTION_${e}`;zO(n)&&eQ(n,`${e} option`,`options.${t}`,tx)},pF=(e,t)=>{const n=`LRU_CACHE_METHOD_${e}`;if(zO(n)){const{prototype:r}=tx,{get:i}=Object.getOwnPropertyDescriptor(r,e);eQ(n,`${e} method`,`cache.${t}()`,i)}},Mrt=(e,t)=>{const n=`LRU_CACHE_PROPERTY_${e}`;if(zO(n)){const{prototype:r}=tx,{get:i}=Object.getOwnPropertyDescriptor(r,e);eQ(n,`${e} property`,`cache.${t}`,i)}},vCe=(...e)=>{typeof process=="object"&&process&&typeof process.emitWarning=="function"?process.emitWarning(...e):console.error(...e)},zO=e=>!JX.has(e),eQ=(e,t,n,r)=>{JX.add(e);const i=`The ${t} is deprecated. Please use ${n} instead.`;vCe(i,"DeprecationWarning",e,r)},Kv=e=>e&&e===Math.floor(e)&&e>0&&isFinite(e),yCe=e=>Kv(e)?e<=Math.pow(2,8)?Uint8Array:e<=Math.pow(2,16)?Uint16Array:e<=Math.pow(2,32)?Uint32Array:e<=Number.MAX_SAFE_INTEGER?hA:null:null;class hA extends Array{constructor(t){super(t),this.fill(0)}}let Lrt=class{constructor(t){if(t===0)return[];const n=yCe(t);this.heap=new n(t),this.length=0}push(t){this.heap[this.length++]=t}pop(){return this.heap[--this.length]}};class tx{constructor(t={}){const{max:n=0,ttl:r,ttlResolution:i=1,ttlAutopurge:o,updateAgeOnGet:s,updateAgeOnHas:a,allowStale:l,dispose:u,disposeAfter:c,noDisposeOnSet:f,noUpdateTTL:p,maxSize:g=0,maxEntrySize:v=0,sizeCalculation:y,fetchMethod:S,fetchContext:C,noDeleteOnFetchRejection:_,noDeleteOnStaleGet:k,allowStaleOnFetchRejection:w,allowStaleOnFetchAbort:P,ignoreFetchAbort:M}=t,{length:R,maxAge:D,stale:H}=t instanceof tx?{}:t;if(n!==0&&!Kv(n))throw new TypeError("max option must be a nonnegative integer");const O=n?yCe(n):Array;if(!O)throw new Error("invalid max value: "+n);if(this.max=n,this.maxSize=g,this.maxEntrySize=v||this.maxSize,this.sizeCalculation=y||R,this.sizeCalculation){if(!this.maxSize&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(this.fetchMethod=S||null,this.fetchMethod&&typeof this.fetchMethod!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.fetchContext=C,!this.fetchMethod&&C!==void 0)throw new TypeError("cannot set fetchContext without fetchMethod");if(this.keyMap=new Map,this.keyList=new Array(n).fill(null),this.valList=new Array(n).fill(null),this.next=new O(n),this.prev=new O(n),this.head=0,this.tail=0,this.free=new Lrt(n),this.initialFill=1,this.size=0,typeof u=="function"&&(this.dispose=u),typeof c=="function"?(this.disposeAfter=c,this.disposed=[]):(this.disposeAfter=null,this.disposed=null),this.noDisposeOnSet=!!f,this.noUpdateTTL=!!p,this.noDeleteOnFetchRejection=!!_,this.allowStaleOnFetchRejection=!!w,this.allowStaleOnFetchAbort=!!P,this.ignoreFetchAbort=!!M,this.maxEntrySize!==0){if(this.maxSize!==0&&!Kv(this.maxSize))throw new TypeError("maxSize must be a positive integer if specified");if(!Kv(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.initializeSizeTracking()}if(this.allowStale=!!l||!!H,this.noDeleteOnStaleGet=!!k,this.updateAgeOnGet=!!s,this.updateAgeOnHas=!!a,this.ttlResolution=Kv(i)||i===0?i:1,this.ttlAutopurge=!!o,this.ttl=r||D||0,this.ttl){if(!Kv(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.initializeTTLTracking()}if(this.max===0&&this.ttl===0&&this.maxSize===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.max&&!this.maxSize){const z="LRU_CACHE_UNBOUNDED";zO(z)&&(JX.add(z),vCe("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",z,tx))}H&&hF("stale","allowStale"),D&&hF("maxAge","ttl"),R&&hF("length","sizeCalculation")}getRemainingTTL(t){return this.has(t,{updateAgeOnHas:!1})?1/0:0}initializeTTLTracking(){this.ttls=new hA(this.max),this.starts=new hA(this.max),this.setItemTTL=(r,i,o=EE.now())=>{if(this.starts[r]=i!==0?o:0,this.ttls[r]=i,i!==0&&this.ttlAutopurge){const s=setTimeout(()=>{this.isStale(r)&&this.delete(this.keyList[r])},i+1);s.unref&&s.unref()}},this.updateItemAge=r=>{this.starts[r]=this.ttls[r]!==0?EE.now():0},this.statusTTL=(r,i)=>{r&&(r.ttl=this.ttls[i],r.start=this.starts[i],r.now=t||n(),r.remainingTTL=r.now+r.ttl-r.start)};let t=0;const n=()=>{const r=EE.now();if(this.ttlResolution>0){t=r;const i=setTimeout(()=>t=0,this.ttlResolution);i.unref&&i.unref()}return r};this.getRemainingTTL=r=>{const i=this.keyMap.get(r);return i===void 0?0:this.ttls[i]===0||this.starts[i]===0?1/0:this.starts[i]+this.ttls[i]-(t||n())},this.isStale=r=>this.ttls[r]!==0&&this.starts[r]!==0&&(t||n())-this.starts[r]>this.ttls[r]}updateItemAge(t){}statusTTL(t,n){}setItemTTL(t,n,r){}isStale(t){return!1}initializeSizeTracking(){this.calculatedSize=0,this.sizes=new hA(this.max),this.removeItemSize=t=>{this.calculatedSize-=this.sizes[t],this.sizes[t]=0},this.requireSize=(t,n,r,i)=>{if(this.isBackgroundFetch(n))return 0;if(!Kv(r))if(i){if(typeof i!="function")throw new TypeError("sizeCalculation must be a function");if(r=i(n,t),!Kv(r))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return r},this.addItemSize=(t,n,r)=>{if(this.sizes[t]=n,this.maxSize){const i=this.maxSize-this.sizes[t];for(;this.calculatedSize>i;)this.evict(!0)}this.calculatedSize+=this.sizes[t],r&&(r.entrySize=n,r.totalCalculatedSize=this.calculatedSize)}}removeItemSize(t){}addItemSize(t,n){}requireSize(t,n,r,i){if(r||i)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache")}*indexes({allowStale:t=this.allowStale}={}){if(this.size)for(let n=this.tail;!(!this.isValidIndex(n)||((t||!this.isStale(n))&&(yield n),n===this.head));)n=this.prev[n]}*rindexes({allowStale:t=this.allowStale}={}){if(this.size)for(let n=this.head;!(!this.isValidIndex(n)||((t||!this.isStale(n))&&(yield n),n===this.tail));)n=this.next[n]}isValidIndex(t){return t!==void 0&&this.keyMap.get(this.keyList[t])===t}*entries(){for(const t of this.indexes())this.valList[t]!==void 0&&this.keyList[t]!==void 0&&!this.isBackgroundFetch(this.valList[t])&&(yield[this.keyList[t],this.valList[t]])}*rentries(){for(const t of this.rindexes())this.valList[t]!==void 0&&this.keyList[t]!==void 0&&!this.isBackgroundFetch(this.valList[t])&&(yield[this.keyList[t],this.valList[t]])}*keys(){for(const t of this.indexes())this.keyList[t]!==void 0&&!this.isBackgroundFetch(this.valList[t])&&(yield this.keyList[t])}*rkeys(){for(const t of this.rindexes())this.keyList[t]!==void 0&&!this.isBackgroundFetch(this.valList[t])&&(yield this.keyList[t])}*values(){for(const t of this.indexes())this.valList[t]!==void 0&&!this.isBackgroundFetch(this.valList[t])&&(yield this.valList[t])}*rvalues(){for(const t of this.rindexes())this.valList[t]!==void 0&&!this.isBackgroundFetch(this.valList[t])&&(yield this.valList[t])}[Symbol.iterator](){return this.entries()}find(t,n){for(const r of this.indexes()){const i=this.valList[r],o=this.isBackgroundFetch(i)?i.__staleWhileFetching:i;if(o!==void 0&&t(o,this.keyList[r],this))return this.get(this.keyList[r],n)}}forEach(t,n=this){for(const r of this.indexes()){const i=this.valList[r],o=this.isBackgroundFetch(i)?i.__staleWhileFetching:i;o!==void 0&&t.call(n,o,this.keyList[r],this)}}rforEach(t,n=this){for(const r of this.rindexes()){const i=this.valList[r],o=this.isBackgroundFetch(i)?i.__staleWhileFetching:i;o!==void 0&&t.call(n,o,this.keyList[r],this)}}get prune(){return pF("prune","purgeStale"),this.purgeStale}purgeStale(){let t=!1;for(const n of this.rindexes({allowStale:!0}))this.isStale(n)&&(this.delete(this.keyList[n]),t=!0);return t}dump(){const t=[];for(const n of this.indexes({allowStale:!0})){const r=this.keyList[n],i=this.valList[n],o=this.isBackgroundFetch(i)?i.__staleWhileFetching:i;if(o===void 0)continue;const s={value:o};if(this.ttls){s.ttl=this.ttls[n];const a=EE.now()-this.starts[n];s.start=Math.floor(Date.now()-a)}this.sizes&&(s.size=this.sizes[n]),t.unshift([r,s])}return t}load(t){this.clear();for(const[n,r]of t){if(r.start){const i=Date.now()-r.start;r.start=EE.now()-i}this.set(n,r.value,r)}}dispose(t,n,r){}set(t,n,{ttl:r=this.ttl,start:i,noDisposeOnSet:o=this.noDisposeOnSet,size:s=0,sizeCalculation:a=this.sizeCalculation,noUpdateTTL:l=this.noUpdateTTL,status:u}={}){if(s=this.requireSize(t,n,s,a),this.maxEntrySize&&s>this.maxEntrySize)return u&&(u.set="miss",u.maxEntrySizeExceeded=!0),this.delete(t),this;let c=this.size===0?void 0:this.keyMap.get(t);if(c===void 0)c=this.newIndex(),this.keyList[c]=t,this.valList[c]=n,this.keyMap.set(t,c),this.next[this.tail]=c,this.prev[c]=this.tail,this.tail=c,this.size++,this.addItemSize(c,s,u),u&&(u.set="add"),l=!1;else{this.moveToTail(c);const f=this.valList[c];if(n!==f){if(this.isBackgroundFetch(f)?f.__abortController.abort(new Error("replaced")):o||(this.dispose(f,t,"set"),this.disposeAfter&&this.disposed.push([f,t,"set"])),this.removeItemSize(c),this.valList[c]=n,this.addItemSize(c,s,u),u){u.set="replace";const p=f&&this.isBackgroundFetch(f)?f.__staleWhileFetching:f;p!==void 0&&(u.oldValue=p)}}else u&&(u.set="update")}if(r!==0&&this.ttl===0&&!this.ttls&&this.initializeTTLTracking(),l||this.setItemTTL(c,r,i),this.statusTTL(u,c),this.disposeAfter)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift());return this}newIndex(){return this.size===0?this.tail:this.size===this.max&&this.max!==0?this.evict(!1):this.free.length!==0?this.free.pop():this.initialFill++}pop(){if(this.size){const t=this.valList[this.head];return this.evict(!0),t}}evict(t){const n=this.head,r=this.keyList[n],i=this.valList[n];return this.isBackgroundFetch(i)?i.__abortController.abort(new Error("evicted")):(this.dispose(i,r,"evict"),this.disposeAfter&&this.disposed.push([i,r,"evict"])),this.removeItemSize(n),t&&(this.keyList[n]=null,this.valList[n]=null,this.free.push(n)),this.head=this.next[n],this.keyMap.delete(r),this.size--,n}has(t,{updateAgeOnHas:n=this.updateAgeOnHas,status:r}={}){const i=this.keyMap.get(t);if(i!==void 0)if(this.isStale(i))r&&(r.has="stale",this.statusTTL(r,i));else return n&&this.updateItemAge(i),r&&(r.has="hit"),this.statusTTL(r,i),!0;else r&&(r.has="miss");return!1}peek(t,{allowStale:n=this.allowStale}={}){const r=this.keyMap.get(t);if(r!==void 0&&(n||!this.isStale(r))){const i=this.valList[r];return this.isBackgroundFetch(i)?i.__staleWhileFetching:i}}backgroundFetch(t,n,r,i){const o=n===void 0?void 0:this.valList[n];if(this.isBackgroundFetch(o))return o;const s=new HR;r.signal&&r.signal.addEventListener("abort",()=>s.abort(r.signal.reason));const a={signal:s.signal,options:r,context:i},l=(g,v=!1)=>{const{aborted:y}=s.signal,S=r.ignoreFetchAbort&&g!==void 0;return r.status&&(y&&!v?(r.status.fetchAborted=!0,r.status.fetchError=s.signal.reason,S&&(r.status.fetchAbortIgnored=!0)):r.status.fetchResolved=!0),y&&!S&&!v?c(s.signal.reason):(this.valList[n]===p&&(g===void 0?p.__staleWhileFetching?this.valList[n]=p.__staleWhileFetching:this.delete(t):(r.status&&(r.status.fetchUpdated=!0),this.set(t,g,a.options))),g)},u=g=>(r.status&&(r.status.fetchRejected=!0,r.status.fetchError=g),c(g)),c=g=>{const{aborted:v}=s.signal,y=v&&r.allowStaleOnFetchAbort,S=y||r.allowStaleOnFetchRejection,C=S||r.noDeleteOnFetchRejection;if(this.valList[n]===p&&(!C||p.__staleWhileFetching===void 0?this.delete(t):y||(this.valList[n]=p.__staleWhileFetching)),S)return r.status&&p.__staleWhileFetching!==void 0&&(r.status.returnedStale=!0),p.__staleWhileFetching;if(p.__returned===p)throw g},f=(g,v)=>{this.fetchMethod(t,o,a).then(y=>g(y),v),s.signal.addEventListener("abort",()=>{(!r.ignoreFetchAbort||r.allowStaleOnFetchAbort)&&(g(),r.allowStaleOnFetchAbort&&(g=y=>l(y,!0)))})};r.status&&(r.status.fetchDispatched=!0);const p=new Promise(f).then(l,u);return p.__abortController=s,p.__staleWhileFetching=o,p.__returned=null,n===void 0?(this.set(t,p,{...a.options,status:void 0}),n=this.keyMap.get(t)):this.valList[n]=p,p}isBackgroundFetch(t){return t&&typeof t=="object"&&typeof t.then=="function"&&Object.prototype.hasOwnProperty.call(t,"__staleWhileFetching")&&Object.prototype.hasOwnProperty.call(t,"__returned")&&(t.__returned===t||t.__returned===null)}async fetch(t,{allowStale:n=this.allowStale,updateAgeOnGet:r=this.updateAgeOnGet,noDeleteOnStaleGet:i=this.noDeleteOnStaleGet,ttl:o=this.ttl,noDisposeOnSet:s=this.noDisposeOnSet,size:a=0,sizeCalculation:l=this.sizeCalculation,noUpdateTTL:u=this.noUpdateTTL,noDeleteOnFetchRejection:c=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:f=this.allowStaleOnFetchRejection,ignoreFetchAbort:p=this.ignoreFetchAbort,allowStaleOnFetchAbort:g=this.allowStaleOnFetchAbort,fetchContext:v=this.fetchContext,forceRefresh:y=!1,status:S,signal:C}={}){if(!this.fetchMethod)return S&&(S.fetch="get"),this.get(t,{allowStale:n,updateAgeOnGet:r,noDeleteOnStaleGet:i,status:S});const _={allowStale:n,updateAgeOnGet:r,noDeleteOnStaleGet:i,ttl:o,noDisposeOnSet:s,size:a,sizeCalculation:l,noUpdateTTL:u,noDeleteOnFetchRejection:c,allowStaleOnFetchRejection:f,allowStaleOnFetchAbort:g,ignoreFetchAbort:p,status:S,signal:C};let k=this.keyMap.get(t);if(k===void 0){S&&(S.fetch="miss");const w=this.backgroundFetch(t,k,_,v);return w.__returned=w}else{const w=this.valList[k];if(this.isBackgroundFetch(w)){const H=n&&w.__staleWhileFetching!==void 0;return S&&(S.fetch="inflight",H&&(S.returnedStale=!0)),H?w.__staleWhileFetching:w.__returned=w}const P=this.isStale(k);if(!y&&!P)return S&&(S.fetch="hit"),this.moveToTail(k),r&&this.updateItemAge(k),this.statusTTL(S,k),w;const M=this.backgroundFetch(t,k,_,v),R=M.__staleWhileFetching!==void 0,D=R&&n;return S&&(S.fetch=R&&P?"stale":"refresh",D&&P&&(S.returnedStale=!0)),D?M.__staleWhileFetching:M.__returned=M}}get(t,{allowStale:n=this.allowStale,updateAgeOnGet:r=this.updateAgeOnGet,noDeleteOnStaleGet:i=this.noDeleteOnStaleGet,status:o}={}){const s=this.keyMap.get(t);if(s!==void 0){const a=this.valList[s],l=this.isBackgroundFetch(a);return this.statusTTL(o,s),this.isStale(s)?(o&&(o.get="stale"),l?(o&&(o.returnedStale=n&&a.__staleWhileFetching!==void 0),n?a.__staleWhileFetching:void 0):(i||this.delete(t),o&&(o.returnedStale=n),n?a:void 0)):(o&&(o.get="hit"),l?a.__staleWhileFetching:(this.moveToTail(s),r&&this.updateItemAge(s),a))}else o&&(o.get="miss")}connect(t,n){this.prev[n]=t,this.next[t]=n}moveToTail(t){t!==this.tail&&(t===this.head?this.head=this.next[t]:this.connect(this.prev[t],this.next[t]),this.connect(this.tail,t),this.tail=t)}get del(){return pF("del","delete"),this.delete}delete(t){let n=!1;if(this.size!==0){const r=this.keyMap.get(t);if(r!==void 0)if(n=!0,this.size===1)this.clear();else{this.removeItemSize(r);const i=this.valList[r];this.isBackgroundFetch(i)?i.__abortController.abort(new Error("deleted")):(this.dispose(i,t,"delete"),this.disposeAfter&&this.disposed.push([i,t,"delete"])),this.keyMap.delete(t),this.keyList[r]=null,this.valList[r]=null,r===this.tail?this.tail=this.prev[r]:r===this.head?this.head=this.next[r]:(this.next[this.prev[r]]=this.next[r],this.prev[this.next[r]]=this.prev[r]),this.size--,this.free.push(r)}}if(this.disposed)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift());return n}clear(){for(const t of this.rindexes({allowStale:!0})){const n=this.valList[t];if(this.isBackgroundFetch(n))n.__abortController.abort(new Error("deleted"));else{const r=this.keyList[t];this.dispose(n,r,"delete"),this.disposeAfter&&this.disposed.push([n,r,"delete"])}}if(this.keyMap.clear(),this.valList.fill(null),this.keyList.fill(null),this.ttls&&(this.ttls.fill(0),this.starts.fill(0)),this.sizes&&this.sizes.fill(0),this.head=0,this.tail=0,this.initialFill=1,this.free.length=0,this.calculatedSize=0,this.size=0,this.disposed)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift())}get reset(){return pF("reset","clear"),this.clear}get length(){return Mrt("length","size"),this.size}static get AbortController(){return HR}static get AbortSignal(){return gCe}}var eae=!1,ub,_U,CU,pA,mA,bCe,gA,EU,kU,PU,wCe,$U,TU,xCe,SCe;function Iu(){if(!eae){eae=!0;var e=navigator.userAgent,t=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(e),n=/(Mac OS X)|(Windows)|(Linux)/.exec(e);if($U=/\b(iPhone|iP[ao]d)/.exec(e),TU=/\b(iP[ao]d)/.exec(e),PU=/Android/i.exec(e),xCe=/FBAN\/\w+;/i.exec(e),SCe=/Mobile/i.exec(e),wCe=!!/Win64/.exec(e),t){ub=t[1]?parseFloat(t[1]):t[5]?parseFloat(t[5]):NaN,ub&&document&&document.documentMode&&(ub=document.documentMode);var r=/(?:Trident\/(\d+.\d+))/.exec(e);bCe=r?parseFloat(r[1])+4:ub,_U=t[2]?parseFloat(t[2]):NaN,CU=t[3]?parseFloat(t[3]):NaN,pA=t[4]?parseFloat(t[4]):NaN,pA?(t=/(?:Chrome\/(\d+\.\d+))/.exec(e),mA=t&&t[1]?parseFloat(t[1]):NaN):mA=NaN}else ub=_U=CU=mA=pA=NaN;if(n){if(n[1]){var i=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(e);gA=i?parseFloat(i[1].replace("_",".")):!0}else gA=!1;EU=!!n[2],kU=!!n[3]}else gA=EU=kU=!1}}var MU={ie:function(){return Iu()||ub},ieCompatibilityMode:function(){return Iu()||bCe>ub},ie64:function(){return MU.ie()&&wCe},firefox:function(){return Iu()||_U},opera:function(){return Iu()||CU},webkit:function(){return Iu()||pA},safari:function(){return MU.webkit()},chrome:function(){return Iu()||mA},windows:function(){return Iu()||EU},osx:function(){return Iu()||gA},linux:function(){return Iu()||kU},iphone:function(){return Iu()||$U},mobile:function(){return Iu()||$U||TU||PU||SCe},nativeApp:function(){return Iu()||xCe},android:function(){return Iu()||PU},ipad:function(){return Iu()||TU}},Art=MU,rM=!!(typeof window<"u"&&window.document&&window.document.createElement),Irt={canUseDOM:rM,canUseWorkers:typeof Worker<"u",canUseEventListeners:rM&&!!(window.addEventListener||window.attachEvent),canUseViewport:rM&&!!window.screen,isInWorker:!rM},Rrt=Irt,_Ce=Rrt,CCe;_Ce.canUseDOM&&(CCe=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function Drt(e,t){if(!_Ce.canUseDOM||t&&!("addEventListener"in document))return!1;var n="on"+e,r=n in document;if(!r){var i=document.createElement("div");i.setAttribute(n,"return;"),r=typeof i[n]=="function"}return!r&&CCe&&e==="wheel"&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}var Ort=Drt,jrt=Art,Nrt=Ort,tae=10,nae=40,rae=800;function ECe(e){var t=0,n=0,r=0,i=0;return"detail"in e&&(n=e.detail),"wheelDelta"in e&&(n=-e.wheelDelta/120),"wheelDeltaY"in e&&(n=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=n,n=0),r=t*tae,i=n*tae,"deltaY"in e&&(i=e.deltaY),"deltaX"in e&&(r=e.deltaX),(r||i)&&e.deltaMode&&(e.deltaMode==1?(r*=nae,i*=nae):(r*=rae,i*=rae)),r&&!t&&(t=r<1?-1:1),i&&!n&&(n=i<1?-1:1),{spinX:t,spinY:n,pixelX:r,pixelY:i}}ECe.getEventType=function(){return jrt.firefox()?"DOMMouseScroll":Nrt("wheel")?"wheel":"mousewheel"};var Frt=ECe,Brt=Frt;const zrt=Dl(Brt);function iae(e,t){let n;return(...r)=>{window.clearTimeout(n),n=window.setTimeout(()=>e(...r),t)}}function kCe({debounce:e,scroll:t,polyfill:n,offsetSize:r}={debounce:0,scroll:!1,offsetSize:!1}){const i=n||(typeof window>"u"?class{}:window.ResizeObserver);if(!i)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[o,s]=h.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),a=h.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o,orientationHandler:null}),l=e?typeof e=="number"?e:e.scroll:null,u=e?typeof e=="number"?e:e.resize:null,c=h.useRef(!1);h.useEffect(()=>(c.current=!0,()=>void(c.current=!1)));const[f,p,g]=h.useMemo(()=>{const C=()=>{if(!a.current.element)return;const{left:_,top:k,width:w,height:P,bottom:M,right:R,x:D,y:H}=a.current.element.getBoundingClientRect(),O={left:_,top:k,width:w,height:P,bottom:M,right:R,x:D,y:H};a.current.element instanceof HTMLElement&&r&&(O.height=a.current.element.offsetHeight,O.width=a.current.element.offsetWidth),Object.freeze(O),c.current&&!Wrt(a.current.lastBounds,O)&&s(a.current.lastBounds=O)};return[C,u?iae(C,u):C,l?iae(C,l):C]},[s,r,l,u]);function v(){a.current.scrollContainers&&(a.current.scrollContainers.forEach(C=>C.removeEventListener("scroll",g,!0)),a.current.scrollContainers=null),a.current.resizeObserver&&(a.current.resizeObserver.disconnect(),a.current.resizeObserver=null),a.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",a.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",a.current.orientationHandler))}function y(){a.current.element&&(a.current.resizeObserver=new i(g),a.current.resizeObserver.observe(a.current.element),t&&a.current.scrollContainers&&a.current.scrollContainers.forEach(C=>C.addEventListener("scroll",g,{capture:!0,passive:!0})),a.current.orientationHandler=()=>{g()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",a.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",a.current.orientationHandler))}const S=C=>{!C||C===a.current.element||(v(),a.current.element=C,a.current.scrollContainers=PCe(C),y())};return Vrt(g,!!t),Hrt(p),h.useEffect(()=>{v(),y()},[t,g,p]),h.useEffect(()=>v,[]),[S,o,f]}function Hrt(e){h.useEffect(()=>{const t=e;return window.addEventListener("resize",t),()=>void window.removeEventListener("resize",t)},[e])}function Vrt(e,t){h.useEffect(()=>{if(t){const n=e;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[e,t])}function PCe(e){const t=[];if(!e||e===document.body)return t;const{overflow:n,overflowX:r,overflowY:i}=window.getComputedStyle(e);return[n,r,i].some(o=>o==="auto"||o==="scroll")&&t.push(e),[...t,...PCe(e.parentElement)]}const Urt=["x","y","top","bottom","left","right","width","height"],Wrt=(e,t)=>Urt.every(n=>e[n]===t[n]);var $Ce={exports:{}},mF={exports:{}},gF={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oae;function Krt(){return oae||(oae=1,function(e){function t(U,K){var J=U.length;U.push(K);e:for(;0<J;){var oe=J-1>>>1,he=U[oe];if(0<i(he,K))U[oe]=K,U[J]=he,J=oe;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var K=U[0],J=U.pop();if(J!==K){U[0]=J;e:for(var oe=0,he=U.length,me=he>>>1;oe<me;){var re=2*(oe+1)-1,ue=U[re],ce=re+1,we=U[ce];if(0>i(ue,J))ce<he&&0>i(we,ue)?(U[oe]=we,U[ce]=J,oe=ce):(U[oe]=ue,U[re]=J,oe=re);else if(ce<he&&0>i(we,J))U[oe]=we,U[ce]=J,oe=ce;else break e}}return K}function i(U,K){var J=U.sortIndex-K.sortIndex;return J!==0?J:U.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,f=null,p=3,g=!1,v=!1,y=!1,S=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(U){for(var K=n(u);K!==null;){if(K.callback===null)r(u);else if(K.startTime<=U)r(u),K.sortIndex=K.expirationTime,t(l,K);else break;K=n(u)}}function w(U){if(y=!1,k(U),!v)if(n(l)!==null)v=!0,B(P);else{var K=n(u);K!==null&&q(w,K.startTime-U)}}function P(U,K){v=!1,y&&(y=!1,C(D),D=-1),g=!0;var J=p;try{for(k(K),f=n(l);f!==null&&(!(f.expirationTime>K)||U&&!z());){var oe=f.callback;if(typeof oe=="function"){f.callback=null,p=f.priorityLevel;var he=oe(f.expirationTime<=K);K=e.unstable_now(),typeof he=="function"?f.callback=he:f===n(l)&&r(l),k(K)}else r(l);f=n(l)}if(f!==null)var me=!0;else{var re=n(u);re!==null&&q(w,re.startTime-K),me=!1}return me}finally{f=null,p=J,g=!1}}var M=!1,R=null,D=-1,H=5,O=-1;function z(){return!(e.unstable_now()-O<H)}function G(){if(R!==null){var U=e.unstable_now();O=U;var K=!0;try{K=R(!0,U)}finally{K?ee():(M=!1,R=null)}}else M=!1}var ee;if(typeof _=="function")ee=function(){_(G)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,se=X.port2;X.port1.onmessage=G,ee=function(){se.postMessage(null)}}else ee=function(){S(G,0)};function B(U){R=U,M||(M=!0,ee())}function q(U,K){D=S(function(){U(e.unstable_now())},K)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(U){U.callback=null},e.unstable_continueExecution=function(){v||g||(v=!0,B(P))},e.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<U?Math.floor(1e3/U):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(U){switch(p){case 1:case 2:case 3:var K=3;break;default:K=p}var J=p;p=K;try{return U()}finally{p=J}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(U,K){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var J=p;p=U;try{return K()}finally{p=J}},e.unstable_scheduleCallback=function(U,K,J){var oe=e.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?oe+J:oe):J=oe,U){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=J+he,U={id:c++,callback:K,priorityLevel:U,startTime:J,expirationTime:he,sortIndex:-1},J>oe?(U.sortIndex=J,t(u,U),n(l)===null&&U===n(u)&&(y?(C(D),D=-1):y=!0,q(w,J-oe))):(U.sortIndex=he,t(l,U),v||g||(v=!0,B(P))),U},e.unstable_shouldYield=z,e.unstable_wrapCallback=function(U){var K=p;return function(){var J=p;p=K;try{return U.apply(this,arguments)}finally{p=J}}}}(gF)),gF}var sae;function qrt(){return sae||(sae=1,mF.exports=Krt()),mF.exports}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Grt=function(t){var n={},r=h,i=qrt(),o=Object.assign;function s(b){for(var x="https://reactjs.org/docs/error-decoder.html?invariant="+b,I=1;I<arguments.length;I++)x+="&args[]="+encodeURIComponent(arguments[I]);return"Minified React error #"+b+"; visit "+x+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),u=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),g=Symbol.for("react.provider"),v=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),w=Symbol.for("react.offscreen"),P=Symbol.iterator;function M(b){return b===null||typeof b!="object"?null:(b=P&&b[P]||b["@@iterator"],typeof b=="function"?b:null)}function R(b){if(b==null)return null;if(typeof b=="function")return b.displayName||b.name||null;if(typeof b=="string")return b;switch(b){case c:return"Fragment";case u:return"Portal";case p:return"Profiler";case f:return"StrictMode";case S:return"Suspense";case C:return"SuspenseList"}if(typeof b=="object")switch(b.$$typeof){case v:return(b.displayName||"Context")+".Consumer";case g:return(b._context.displayName||"Context")+".Provider";case y:var x=b.render;return b=b.displayName,b||(b=x.displayName||x.name||"",b=b!==""?"ForwardRef("+b+")":"ForwardRef"),b;case _:return x=b.displayName||null,x!==null?x:R(b.type)||"Memo";case k:x=b._payload,b=b._init;try{return R(b(x))}catch{}}return null}function D(b){var x=b.type;switch(b.tag){case 24:return"Cache";case 9:return(x.displayName||"Context")+".Consumer";case 10:return(x._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return b=x.render,b=b.displayName||b.name||"",x.displayName||(b!==""?"ForwardRef("+b+")":"ForwardRef");case 7:return"Fragment";case 5:return x;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return R(x);case 8:return x===f?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof x=="function")return x.displayName||x.name||null;if(typeof x=="string")return x}return null}function H(b){var x=b,I=b;if(b.alternate)for(;x.return;)x=x.return;else{b=x;do x=b,x.flags&4098&&(I=x.return),b=x.return;while(b)}return x.tag===3?I:null}function O(b){if(H(b)!==b)throw Error(s(188))}function z(b){var x=b.alternate;if(!x){if(x=H(b),x===null)throw Error(s(188));return x!==b?null:b}for(var I=b,F=x;;){var W=I.return;if(W===null)break;var Q=W.alternate;if(Q===null){if(F=W.return,F!==null){I=F;continue}break}if(W.child===Q.child){for(Q=W.child;Q;){if(Q===I)return O(W),b;if(Q===F)return O(W),x;Q=Q.sibling}throw Error(s(188))}if(I.return!==F.return)I=W,F=Q;else{for(var fe=!1,De=W.child;De;){if(De===I){fe=!0,I=W,F=Q;break}if(De===F){fe=!0,F=W,I=Q;break}De=De.sibling}if(!fe){for(De=Q.child;De;){if(De===I){fe=!0,I=Q,F=W;break}if(De===F){fe=!0,F=Q,I=W;break}De=De.sibling}if(!fe)throw Error(s(189))}}if(I.alternate!==F)throw Error(s(190))}if(I.tag!==3)throw Error(s(188));return I.stateNode.current===I?b:x}function G(b){return b=z(b),b!==null?ee(b):null}function ee(b){if(b.tag===5||b.tag===6)return b;for(b=b.child;b!==null;){var x=ee(b);if(x!==null)return x;b=b.sibling}return null}function X(b){if(b.tag===5||b.tag===6)return b;for(b=b.child;b!==null;){if(b.tag!==4){var x=X(b);if(x!==null)return x}b=b.sibling}return null}var se=Array.isArray,B=t.getPublicInstance,q=t.getRootHostContext,U=t.getChildHostContext,K=t.prepareForCommit,J=t.resetAfterCommit,oe=t.createInstance,he=t.appendInitialChild,me=t.finalizeInitialChildren,re=t.prepareUpdate,ue=t.shouldSetTextContent,ce=t.createTextInstance,we=t.scheduleTimeout,Me=t.cancelTimeout,Be=t.noTimeout,ge=t.isPrimaryRenderer,ye=t.supportsMutation,_e=t.supportsPersistence,$e=t.supportsHydration,He=t.getInstanceFromNode,Ve=t.preparePortalMount,ot=t.getCurrentEventPriority,kt=t.detachDeletedInstance,gt=t.supportsMicrotasks,rn=t.scheduleMicrotask,Yt=t.supportsTestSelectors,Bt=t.findFiberRoot,dn=t.getBoundingRect,Ft=t.getTextContent,Xt=t.isHiddenSubtree,Qe=t.matchAccessibilityRole,Ce=t.setFocusIfFocusable,ze=t.setupIntersectionObserver,Ne=t.appendChild,ct=t.appendChildToContainer,Ct=t.commitTextUpdate,Et=t.commitMount,Ie=t.commitUpdate,Ae=t.insertBefore,dt=t.insertInContainerBefore,it=t.removeChild,ut=t.removeChildFromContainer,vt=t.resetTextContent,Mn=t.hideInstance,Kn=t.hideTextInstance,Qt=t.unhideInstance,on=t.unhideTextInstance,$t=t.clearContainer,Wt=t.cloneInstance,Kt=t.createContainerChildSet,sr=t.appendChildToContainerChildSet,Jt=t.finalizeContainerChildren,zn=t.replaceContainerChildren,Ln=t.cloneHiddenInstance,Ot=t.cloneHiddenTextInstance,_t=t.canHydrateInstance,Fr=t.canHydrateTextInstance,Hn=t.canHydrateSuspenseInstance,Bn=t.isSuspenseInstancePending,ar=t.isSuspenseInstanceFallback,mt=t.getSuspenseInstanceFallbackErrorDetails,hr=t.registerSuspenseInstanceRetry,Ii=t.getNextHydratableSibling,Rr=t.getFirstHydratableChild,Fs=t.getFirstHydratableChildWithinContainer,Bs=t.getFirstHydratableChildWithinSuspenseInstance,at=t.hydrateInstance,lt=t.hydrateTextInstance,bt=t.hydrateSuspenseInstance,Ue=t.getNextHydratableInstanceAfterSuspenseInstance,ke=t.commitHydratedContainer,rt=t.commitHydratedSuspenseInstance,nt=t.clearSuspenseBoundary,Rn=t.clearSuspenseBoundaryFromContainer,qn=t.shouldDeleteUnhydratedTailInstances,lr=t.didNotMatchHydratedContainerTextInstance,Pr=t.didNotMatchHydratedTextInstance,Br;function $i(b){if(Br===void 0)try{throw Error()}catch(I){var x=I.stack.trim().match(/\n( *(at )?)/);Br=x&&x[1]||""}return`
`+Br+b}var tr=!1;function di(b,x){if(!b||tr)return"";tr=!0;var I=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(x)if(x=function(){throw Error()},Object.defineProperty(x.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(x,[])}catch(pt){var F=pt}Reflect.construct(b,[],x)}else{try{x.call()}catch(pt){F=pt}b.call(x.prototype)}else{try{throw Error()}catch(pt){F=pt}b()}}catch(pt){if(pt&&F&&typeof pt.stack=="string"){for(var W=pt.stack.split(`
`),Q=F.stack.split(`
`),fe=W.length-1,De=Q.length-1;1<=fe&&0<=De&&W[fe]!==Q[De];)De--;for(;1<=fe&&0<=De;fe--,De--)if(W[fe]!==Q[De]){if(fe!==1||De!==1)do if(fe--,De--,0>De||W[fe]!==Q[De]){var Ye=`
`+W[fe].replace(" at new "," at ");return b.displayName&&Ye.includes("<anonymous>")&&(Ye=Ye.replace("<anonymous>",b.displayName)),Ye}while(1<=fe&&0<=De);break}}}finally{tr=!1,Error.prepareStackTrace=I}return(b=b?b.displayName||b.name:"")?$i(b):""}var il=Object.prototype.hasOwnProperty,ol=[],Eo=-1;function zs(b){return{current:b}}function br(b){0>Eo||(b.current=ol[Eo],ol[Eo]=null,Eo--)}function Nt(b,x){Eo++,ol[Eo]=b.current,b.current=x}var $r={},so=zs($r),ao=zs(!1),ia=$r;function Pa(b,x){var I=b.type.contextTypes;if(!I)return $r;var F=b.stateNode;if(F&&F.__reactInternalMemoizedUnmaskedChildContext===x)return F.__reactInternalMemoizedMaskedChildContext;var W={},Q;for(Q in I)W[Q]=x[Q];return F&&(b=b.stateNode,b.__reactInternalMemoizedUnmaskedChildContext=x,b.__reactInternalMemoizedMaskedChildContext=W),W}function en(b){return b=b.childContextTypes,b!=null}function fi(){br(ao),br(so)}function wf(b,x,I){if(so.current!==$r)throw Error(s(168));Nt(so,x),Nt(ao,I)}function Nl(b,x,I){var F=b.stateNode;if(x=x.childContextTypes,typeof F.getChildContext!="function")return I;F=F.getChildContext();for(var W in F)if(!(W in x))throw Error(s(108,D(b)||"Unknown",W));return o({},I,F)}function ko(b){return b=(b=b.stateNode)&&b.__reactInternalMemoizedMergedChildContext||$r,ia=so.current,Nt(so,b),Nt(ao,ao.current),!0}function um(b,x,I){var F=b.stateNode;if(!F)throw Error(s(169));I?(b=Nl(b,x,ia),F.__reactInternalMemoizedMergedChildContext=b,br(ao),br(so),Nt(so,b)):br(ao),Nt(ao,I)}var ws=Math.clz32?Math.clz32:yc,xu=Math.log,qi=Math.LN2;function yc(b){return b>>>=0,b===0?32:31-(xu(b)/qi|0)|0}var Su=64,wr=4194304;function _u(b){switch(b&-b){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return b&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return b&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return b}}function Fl(b,x){var I=b.pendingLanes;if(I===0)return 0;var F=0,W=b.suspendedLanes,Q=b.pingedLanes,fe=I&268435455;if(fe!==0){var De=fe&~W;De!==0?F=_u(De):(Q&=fe,Q!==0&&(F=_u(Q)))}else fe=I&~W,fe!==0?F=_u(fe):Q!==0&&(F=_u(Q));if(F===0)return 0;if(x!==0&&x!==F&&!(x&W)&&(W=F&-F,Q=x&-x,W>=Q||W===16&&(Q&4194240)!==0))return x;if(F&4&&(F|=I&16),x=b.entangledLanes,x!==0)for(b=b.entanglements,x&=F;0<x;)I=31-ws(x),W=1<<I,F|=b[I],x&=~W;return F}function jo(b,x){switch(b){case 1:case 2:case 4:return x+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return x+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function oa(b,x){for(var I=b.suspendedLanes,F=b.pingedLanes,W=b.expirationTimes,Q=b.pendingLanes;0<Q;){var fe=31-ws(Q),De=1<<fe,Ye=W[fe];Ye===-1?(!(De&I)||De&F)&&(W[fe]=jo(De,x)):Ye<=x&&(b.expiredLanes|=De),Q&=~De}}function sl(b){return b=b.pendingLanes&-1073741825,b!==0?b:b&1073741824?1073741824:0}function xf(){var b=Su;return Su<<=1,!(Su&4194240)&&(Su=64),b}function Bl(b){for(var x=[],I=0;31>I;I++)x.push(b);return x}function sa(b,x,I){b.pendingLanes|=x,x!==536870912&&(b.suspendedLanes=0,b.pingedLanes=0),b=b.eventTimes,x=31-ws(x),b[x]=I}function md(b,x){var I=b.pendingLanes&~x;b.pendingLanes=x,b.suspendedLanes=0,b.pingedLanes=0,b.expiredLanes&=x,b.mutableReadLanes&=x,b.entangledLanes&=x,x=b.entanglements;var F=b.eventTimes;for(b=b.expirationTimes;0<I;){var W=31-ws(I),Q=1<<W;x[W]=0,F[W]=-1,b[W]=-1,I&=~Q}}function bc(b,x){var I=b.entangledLanes|=x;for(b=b.entanglements;I;){var F=31-ws(I),W=1<<F;W&x|b[F]&x&&(b[F]|=x),I&=~W}}var nr=0;function fn(b){return b&=-b,1<b?4<b?b&268435455?16:536870912:4:1}var xs=i.unstable_scheduleCallback,rr=i.unstable_cancelCallback,gd=i.unstable_shouldYield,Hs=i.unstable_requestPaint,An=i.unstable_now,vd=i.unstable_ImmediatePriority,al=i.unstable_UserBlockingPriority,yd=i.unstable_NormalPriority,zl=i.unstable_IdlePriority,Bi=null,Qr=null;function Cu(b){if(Qr&&typeof Qr.onCommitFiberRoot=="function")try{Qr.onCommitFiberRoot(Bi,b,void 0,(b.current.flags&128)===128)}catch{}}function wc(b,x){return b===x&&(b!==0||1/b===1/x)||b!==b&&x!==x}var ve=typeof Object.is=="function"?Object.is:wc,Te=null,We=!1,Tt=!1;function Yn(b){Te===null?Te=[b]:Te.push(b)}function zt(b){We=!0,Yn(b)}function xr(){if(!Tt&&Te!==null){Tt=!0;var b=0,x=nr;try{var I=Te;for(nr=1;b<I.length;b++){var F=I[b];do F=F(!0);while(F!==null)}Te=null,We=!1}catch(W){throw Te!==null&&(Te=Te.slice(b+1)),xs(vd,xr),W}finally{nr=x,Tt=!1}}return null}var hn=[],Sr=0,Go=null,Zo=0,lo=[],Ss=0,ll=null,as=1,ul="";function Eu(b,x){hn[Sr++]=Zo,hn[Sr++]=Go,Go=b,Zo=x}function gv(b,x,I){lo[Ss++]=as,lo[Ss++]=ul,lo[Ss++]=ll,ll=b;var F=as;b=ul;var W=32-ws(F)-1;F&=~(1<<W),I+=1;var Q=32-ws(x)+W;if(30<Q){var fe=W-W%5;Q=(F&(1<<fe)-1).toString(32),F>>=fe,W-=fe,as=1<<32-ws(x)+W|I<<W|F,ul=Q+b}else as=1<<Q|I<<W|F,ul=b}function ir(b){b.return!==null&&(Eu(b,1),gv(b,1,0))}function vv(b){for(;b===Go;)Go=hn[--Sr],hn[Sr]=null,Zo=hn[--Sr],hn[Sr]=null;for(;b===ll;)ll=lo[--Ss],lo[Ss]=null,ul=lo[--Ss],lo[Ss]=null,as=lo[--Ss],lo[Ss]=null}var Vs=null,Po=null,Tr=!1,bd=!1,aa=null;function S1(b,x){var I=Ed(5,null,null,0);I.elementType="DELETED",I.stateNode=x,I.return=b,x=b.deletions,x===null?(b.deletions=[I],b.flags|=16):x.push(I)}function Us(b,x){switch(b.tag){case 5:return x=_t(x,b.type,b.pendingProps),x!==null?(b.stateNode=x,Vs=b,Po=Rr(x),!0):!1;case 6:return x=Fr(x,b.pendingProps),x!==null?(b.stateNode=x,Vs=b,Po=null,!0):!1;case 13:if(x=Hn(x),x!==null){var I=ll!==null?{id:as,overflow:ul}:null;return b.memoizedState={dehydrated:x,treeContext:I,retryLane:1073741824},I=Ed(18,null,null,0),I.stateNode=x,I.return=b,b.child=I,Vs=b,Po=null,!0}return!1;default:return!1}}function $o(b){return(b.mode&1)!==0&&(b.flags&128)===0}function Eh(b){if(Tr){var x=Po;if(x){var I=x;if(!Us(b,x)){if($o(b))throw Error(s(418));x=Ii(I);var F=Vs;x&&Us(b,x)?S1(F,I):(b.flags=b.flags&-4097|2,Tr=!1,Vs=b)}}else{if($o(b))throw Error(s(418));b.flags=b.flags&-4097|2,Tr=!1,Vs=b}}}function _1(b){for(b=b.return;b!==null&&b.tag!==5&&b.tag!==3&&b.tag!==13;)b=b.return;Vs=b}function kh(b){if(!$e||b!==Vs)return!1;if(!Tr)return _1(b),Tr=!0,!1;if(b.tag!==3&&(b.tag!==5||qn(b.type)&&!ue(b.type,b.memoizedProps))){var x=Po;if(x){if($o(b))throw Hx(),Error(s(418));for(;x;)S1(b,x),x=Ii(x)}}if(_1(b),b.tag===13){if(!$e)throw Error(s(316));if(b=b.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(s(317));Po=Ue(b)}else Po=Vs?Ii(b.stateNode):null;return!0}function Hx(){for(var b=Po;b;)b=Ii(b)}function Kr(){$e&&(Po=Vs=null,bd=Tr=!1)}function Ph(b){aa===null?aa=[b]:aa.push(b)}var cm=a.ReactCurrentBatchConfig;function Gi(b,x){if(ve(b,x))return!0;if(typeof b!="object"||b===null||typeof x!="object"||x===null)return!1;var I=Object.keys(b),F=Object.keys(x);if(I.length!==F.length)return!1;for(F=0;F<I.length;F++){var W=I[F];if(!il.call(x,W)||!ve(b[W],x[W]))return!1}return!0}function C1(b){switch(b.tag){case 5:return $i(b.type);case 16:return $i("Lazy");case 13:return $i("Suspense");case 19:return $i("SuspenseList");case 0:case 2:case 15:return b=di(b.type,!1),b;case 11:return b=di(b.type.render,!1),b;case 1:return b=di(b.type,!0),b;default:return""}}function ku(b,x,I){if(b=I.ref,b!==null&&typeof b!="function"&&typeof b!="object"){if(I._owner){if(I=I._owner,I){if(I.tag!==1)throw Error(s(309));var F=I.stateNode}if(!F)throw Error(s(147,b));var W=F,Q=""+b;return x!==null&&x.ref!==null&&typeof x.ref=="function"&&x.ref._stringRef===Q?x.ref:(x=function(fe){var De=W.refs;fe===null?delete De[Q]:De[Q]=fe},x._stringRef=Q,x)}if(typeof b!="string")throw Error(s(284));if(!I._owner)throw Error(s(290,b))}return b}function _s(b,x){throw b=Object.prototype.toString.call(x),Error(s(31,b==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":b))}function dm(b){var x=b._init;return x(b._payload)}function cl(b){function x(qe,Oe){if(b){var Je=qe.deletions;Je===null?(qe.deletions=[Oe],qe.flags|=16):Je.push(Oe)}}function I(qe,Oe){if(!b)return null;for(;Oe!==null;)x(qe,Oe),Oe=Oe.sibling;return null}function F(qe,Oe){for(qe=new Map;Oe!==null;)Oe.key!==null?qe.set(Oe.key,Oe):qe.set(Oe.index,Oe),Oe=Oe.sibling;return qe}function W(qe,Oe){return qe=Pv(qe,Oe),qe.index=0,qe.sibling=null,qe}function Q(qe,Oe,Je){return qe.index=Je,b?(Je=qe.alternate,Je!==null?(Je=Je.index,Je<Oe?(qe.flags|=2,Oe):Je):(qe.flags|=2,Oe)):(qe.flags|=1048576,Oe)}function fe(qe){return b&&qe.alternate===null&&(qe.flags|=2),qe}function De(qe,Oe,Je,Rt){return Oe===null||Oe.tag!==6?(Oe=tN(Je,qe.mode,Rt),Oe.return=qe,Oe):(Oe=W(Oe,Je),Oe.return=qe,Oe)}function Ye(qe,Oe,Je,Rt){var xn=Je.type;return xn===c?qt(qe,Oe,Je.props.children,Rt,Je.key):Oe!==null&&(Oe.elementType===xn||typeof xn=="object"&&xn!==null&&xn.$$typeof===k&&dm(xn)===Oe.type)?(Rt=W(Oe,Je.props),Rt.ref=ku(qe,Oe,Je),Rt.return=qe,Rt):(Rt=x6(Je.type,Je.key,Je.props,null,qe.mode,Rt),Rt.ref=ku(qe,Oe,Je),Rt.return=qe,Rt)}function pt(qe,Oe,Je,Rt){return Oe===null||Oe.tag!==4||Oe.stateNode.containerInfo!==Je.containerInfo||Oe.stateNode.implementation!==Je.implementation?(Oe=nN(Je,qe.mode,Rt),Oe.return=qe,Oe):(Oe=W(Oe,Je.children||[]),Oe.return=qe,Oe)}function qt(qe,Oe,Je,Rt,xn){return Oe===null||Oe.tag!==7?(Oe=I1(Je,qe.mode,Rt,xn),Oe.return=qe,Oe):(Oe=W(Oe,Je),Oe.return=qe,Oe)}function Xn(qe,Oe,Je){if(typeof Oe=="string"&&Oe!==""||typeof Oe=="number")return Oe=tN(""+Oe,qe.mode,Je),Oe.return=qe,Oe;if(typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case l:return Je=x6(Oe.type,Oe.key,Oe.props,null,qe.mode,Je),Je.ref=ku(qe,null,Oe),Je.return=qe,Je;case u:return Oe=nN(Oe,qe.mode,Je),Oe.return=qe,Oe;case k:var Rt=Oe._init;return Xn(qe,Rt(Oe._payload),Je)}if(se(Oe)||M(Oe))return Oe=I1(Oe,qe.mode,Je,null),Oe.return=qe,Oe;_s(qe,Oe)}return null}function It(qe,Oe,Je,Rt){var xn=Oe!==null?Oe.key:null;if(typeof Je=="string"&&Je!==""||typeof Je=="number")return xn!==null?null:De(qe,Oe,""+Je,Rt);if(typeof Je=="object"&&Je!==null){switch(Je.$$typeof){case l:return Je.key===xn?Ye(qe,Oe,Je,Rt):null;case u:return Je.key===xn?pt(qe,Oe,Je,Rt):null;case k:return xn=Je._init,It(qe,Oe,xn(Je._payload),Rt)}if(se(Je)||M(Je))return xn!==null?null:qt(qe,Oe,Je,Rt,null);_s(qe,Je)}return null}function co(qe,Oe,Je,Rt,xn){if(typeof Rt=="string"&&Rt!==""||typeof Rt=="number")return qe=qe.get(Je)||null,De(Oe,qe,""+Rt,xn);if(typeof Rt=="object"&&Rt!==null){switch(Rt.$$typeof){case l:return qe=qe.get(Rt.key===null?Je:Rt.key)||null,Ye(Oe,qe,Rt,xn);case u:return qe=qe.get(Rt.key===null?Je:Rt.key)||null,pt(Oe,qe,Rt,xn);case k:var mr=Rt._init;return co(qe,Oe,Je,mr(Rt._payload),xn)}if(se(Rt)||M(Rt))return qe=qe.get(Je)||null,qt(Oe,qe,Rt,xn,null);_s(Oe,Rt)}return null}function Vi(qe,Oe,Je,Rt){for(var xn=null,mr=null,Qn=Oe,oi=Oe=0,ca=null;Qn!==null&&oi<Je.length;oi++){Qn.index>oi?(ca=Qn,Qn=null):ca=Qn.sibling;var si=It(qe,Qn,Je[oi],Rt);if(si===null){Qn===null&&(Qn=ca);break}b&&Qn&&si.alternate===null&&x(qe,Qn),Oe=Q(si,Oe,oi),mr===null?xn=si:mr.sibling=si,mr=si,Qn=ca}if(oi===Je.length)return I(qe,Qn),Tr&&Eu(qe,oi),xn;if(Qn===null){for(;oi<Je.length;oi++)Qn=Xn(qe,Je[oi],Rt),Qn!==null&&(Oe=Q(Qn,Oe,oi),mr===null?xn=Qn:mr.sibling=Qn,mr=Qn);return Tr&&Eu(qe,oi),xn}for(Qn=F(qe,Qn);oi<Je.length;oi++)ca=co(Qn,qe,oi,Je[oi],Rt),ca!==null&&(b&&ca.alternate!==null&&Qn.delete(ca.key===null?oi:ca.key),Oe=Q(ca,Oe,oi),mr===null?xn=ca:mr.sibling=ca,mr=ca);return b&&Qn.forEach(function($v){return x(qe,$v)}),Tr&&Eu(qe,oi),xn}function Au(qe,Oe,Je,Rt){var xn=M(Je);if(typeof xn!="function")throw Error(s(150));if(Je=xn.call(Je),Je==null)throw Error(s(151));for(var mr=xn=null,Qn=Oe,oi=Oe=0,ca=null,si=Je.next();Qn!==null&&!si.done;oi++,si=Je.next()){Qn.index>oi?(ca=Qn,Qn=null):ca=Qn.sibling;var $v=It(qe,Qn,si.value,Rt);if($v===null){Qn===null&&(Qn=ca);break}b&&Qn&&$v.alternate===null&&x(qe,Qn),Oe=Q($v,Oe,oi),mr===null?xn=$v:mr.sibling=$v,mr=$v,Qn=ca}if(si.done)return I(qe,Qn),Tr&&Eu(qe,oi),xn;if(Qn===null){for(;!si.done;oi++,si=Je.next())si=Xn(qe,si.value,Rt),si!==null&&(Oe=Q(si,Oe,oi),mr===null?xn=si:mr.sibling=si,mr=si);return Tr&&Eu(qe,oi),xn}for(Qn=F(qe,Qn);!si.done;oi++,si=Je.next())si=co(Qn,qe,oi,si.value,Rt),si!==null&&(b&&si.alternate!==null&&Qn.delete(si.key===null?oi:si.key),Oe=Q(si,Oe,oi),mr===null?xn=si:mr.sibling=si,mr=si);return b&&Qn.forEach(function(ZVe){return x(qe,ZVe)}),Tr&&Eu(qe,oi),xn}function gm(qe,Oe,Je,Rt){if(typeof Je=="object"&&Je!==null&&Je.type===c&&Je.key===null&&(Je=Je.props.children),typeof Je=="object"&&Je!==null){switch(Je.$$typeof){case l:e:{for(var xn=Je.key,mr=Oe;mr!==null;){if(mr.key===xn){if(xn=Je.type,xn===c){if(mr.tag===7){I(qe,mr.sibling),Oe=W(mr,Je.props.children),Oe.return=qe,qe=Oe;break e}}else if(mr.elementType===xn||typeof xn=="object"&&xn!==null&&xn.$$typeof===k&&dm(xn)===mr.type){I(qe,mr.sibling),Oe=W(mr,Je.props),Oe.ref=ku(qe,mr,Je),Oe.return=qe,qe=Oe;break e}I(qe,mr);break}else x(qe,mr);mr=mr.sibling}Je.type===c?(Oe=I1(Je.props.children,qe.mode,Rt,Je.key),Oe.return=qe,qe=Oe):(Rt=x6(Je.type,Je.key,Je.props,null,qe.mode,Rt),Rt.ref=ku(qe,Oe,Je),Rt.return=qe,qe=Rt)}return fe(qe);case u:e:{for(mr=Je.key;Oe!==null;){if(Oe.key===mr)if(Oe.tag===4&&Oe.stateNode.containerInfo===Je.containerInfo&&Oe.stateNode.implementation===Je.implementation){I(qe,Oe.sibling),Oe=W(Oe,Je.children||[]),Oe.return=qe,qe=Oe;break e}else{I(qe,Oe);break}else x(qe,Oe);Oe=Oe.sibling}Oe=nN(Je,qe.mode,Rt),Oe.return=qe,qe=Oe}return fe(qe);case k:return mr=Je._init,gm(qe,Oe,mr(Je._payload),Rt)}if(se(Je))return Vi(qe,Oe,Je,Rt);if(M(Je))return Au(qe,Oe,Je,Rt);_s(qe,Je)}return typeof Je=="string"&&Je!==""||typeof Je=="number"?(Je=""+Je,Oe!==null&&Oe.tag===6?(I(qe,Oe.sibling),Oe=W(Oe,Je),Oe.return=qe,qe=Oe):(I(qe,Oe),Oe=tN(Je,qe.mode,Rt),Oe.return=qe,qe=Oe),fe(qe)):I(qe,Oe)}return gm}var Sf=cl(!0),_f=cl(!1),Cf=zs(null),fm=null,wd=null,zi=null;function yv(){zi=wd=fm=null}function $a(b,x,I){ge?(Nt(Cf,x._currentValue),x._currentValue=I):(Nt(Cf,x._currentValue2),x._currentValue2=I)}function Ta(b){var x=Cf.current;br(Cf),ge?b._currentValue=x:b._currentValue2=x}function Ef(b,x,I){for(;b!==null;){var F=b.alternate;if((b.childLanes&x)!==x?(b.childLanes|=x,F!==null&&(F.childLanes|=x)):F!==null&&(F.childLanes&x)!==x&&(F.childLanes|=x),b===I)break;b=b.return}}function Ws(b,x){fm=b,zi=wd=null,b=b.dependencies,b!==null&&b.firstContext!==null&&(b.lanes&x&&(Ia=!0),b.firstContext=null)}function la(b){var x=ge?b._currentValue:b._currentValue2;if(zi!==b)if(b={context:b,memoizedValue:x,next:null},wd===null){if(fm===null)throw Error(s(308));wd=b,fm.dependencies={lanes:0,firstContext:b}}else wd=wd.next=b;return x}var uo=null;function Yo(b){uo===null?uo=[b]:uo.push(b)}function xc(b,x,I,F){var W=x.interleaved;return W===null?(I.next=I,Yo(x)):(I.next=W.next,W.next=I),x.interleaved=I,Hl(b,F)}function Hl(b,x){b.lanes|=x;var I=b.alternate;for(I!==null&&(I.lanes|=x),I=b,b=b.return;b!==null;)b.childLanes|=x,I=b.alternate,I!==null&&(I.childLanes|=x),I=b,b=b.return;return I.tag===3?I.stateNode:null}var Vl=!1;function $h(b){b.updateQueue={baseState:b.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pu(b,x){b=b.updateQueue,x.updateQueue===b&&(x.updateQueue={baseState:b.baseState,firstBaseUpdate:b.firstBaseUpdate,lastBaseUpdate:b.lastBaseUpdate,shared:b.shared,effects:b.effects})}function Ma(b,x){return{eventTime:b,lane:x,tag:0,payload:null,callback:null,next:null}}function xd(b,x,I){var F=b.updateQueue;if(F===null)return null;if(F=F.shared,Mr&2){var W=F.pending;return W===null?x.next=x:(x.next=W.next,W.next=x),F.pending=x,Hl(b,I)}return W=F.interleaved,W===null?(x.next=x,Yo(F)):(x.next=W.next,W.next=x),F.interleaved=x,Hl(b,I)}function kf(b,x,I){if(x=x.updateQueue,x!==null&&(x=x.shared,(I&4194240)!==0)){var F=x.lanes;F&=b.pendingLanes,I|=F,x.lanes=I,bc(b,I)}}function Vx(b,x){var I=b.updateQueue,F=b.alternate;if(F!==null&&(F=F.updateQueue,I===F)){var W=null,Q=null;if(I=I.firstBaseUpdate,I!==null){do{var fe={eventTime:I.eventTime,lane:I.lane,tag:I.tag,payload:I.payload,callback:I.callback,next:null};Q===null?W=Q=fe:Q=Q.next=fe,I=I.next}while(I!==null);Q===null?W=Q=x:Q=Q.next=x}else W=Q=x;I={baseState:F.baseState,firstBaseUpdate:W,lastBaseUpdate:Q,shared:F.shared,effects:F.effects},b.updateQueue=I;return}b=I.lastBaseUpdate,b===null?I.firstBaseUpdate=x:b.next=x,I.lastBaseUpdate=x}function dl(b,x,I,F){var W=b.updateQueue;Vl=!1;var Q=W.firstBaseUpdate,fe=W.lastBaseUpdate,De=W.shared.pending;if(De!==null){W.shared.pending=null;var Ye=De,pt=Ye.next;Ye.next=null,fe===null?Q=pt:fe.next=pt,fe=Ye;var qt=b.alternate;qt!==null&&(qt=qt.updateQueue,De=qt.lastBaseUpdate,De!==fe&&(De===null?qt.firstBaseUpdate=pt:De.next=pt,qt.lastBaseUpdate=Ye))}if(Q!==null){var Xn=W.baseState;fe=0,qt=pt=Ye=null,De=Q;do{var It=De.lane,co=De.eventTime;if((F&It)===It){qt!==null&&(qt=qt.next={eventTime:co,lane:0,tag:De.tag,payload:De.payload,callback:De.callback,next:null});e:{var Vi=b,Au=De;switch(It=x,co=I,Au.tag){case 1:if(Vi=Au.payload,typeof Vi=="function"){Xn=Vi.call(co,Xn,It);break e}Xn=Vi;break e;case 3:Vi.flags=Vi.flags&-65537|128;case 0:if(Vi=Au.payload,It=typeof Vi=="function"?Vi.call(co,Xn,It):Vi,It==null)break e;Xn=o({},Xn,It);break e;case 2:Vl=!0}}De.callback!==null&&De.lane!==0&&(b.flags|=64,It=W.effects,It===null?W.effects=[De]:It.push(De))}else co={eventTime:co,lane:It,tag:De.tag,payload:De.payload,callback:De.callback,next:null},qt===null?(pt=qt=co,Ye=Xn):qt=qt.next=co,fe|=It;if(De=De.next,De===null){if(De=W.shared.pending,De===null)break;It=De,De=It.next,It.next=null,W.lastBaseUpdate=It,W.shared.pending=null}}while(!0);if(qt===null&&(Ye=Xn),W.baseState=Ye,W.firstBaseUpdate=pt,W.lastBaseUpdate=qt,x=W.shared.interleaved,x!==null){W=x;do fe|=W.lane,W=W.next;while(W!==x)}else Q===null&&(W.shared.lanes=0);T1|=fe,b.lanes=fe,b.memoizedState=Xn}}function E1(b,x,I){if(b=x.effects,x.effects=null,b!==null)for(x=0;x<b.length;x++){var F=b[x],W=F.callback;if(W!==null){if(F.callback=null,F=I,typeof W!="function")throw Error(s(191,W));W.call(F)}}}var $u={},$=zs($u),j=zs($u),Z=zs($u);function te(b){if(b===$u)throw Error(s(174));return b}function ie(b,x){Nt(Z,x),Nt(j,b),Nt($,$u),b=q(x),br($),Nt($,b)}function pe(){br($),br(j),br(Z)}function xe(b){var x=te(Z.current),I=te($.current);x=U(I,b.type,x),I!==x&&(Nt(j,b),Nt($,x))}function Le(b){j.current===b&&(br($),br(j))}var je=zs(0);function Ze(b){for(var x=b;x!==null;){if(x.tag===13){var I=x.memoizedState;if(I!==null&&(I=I.dehydrated,I===null||Bn(I)||ar(I)))return x}else if(x.tag===19&&x.memoizedProps.revealOrder!==void 0){if(x.flags&128)return x}else if(x.child!==null){x.child.return=x,x=x.child;continue}if(x===b)break;for(;x.sibling===null;){if(x.return===null||x.return===b)return null;x=x.return}x.sibling.return=x.return,x=x.sibling}return null}var tt=[];function xt(){for(var b=0;b<tt.length;b++){var x=tt[b];ge?x._workInProgressVersionPrimary=null:x._workInProgressVersionSecondary=null}tt.length=0}var At=a.ReactCurrentDispatcher,yn=a.ReactCurrentBatchConfig,Nn=0,kn=null,Jr=null,ii=null,Pf=!1,fl=!1,Th=0,$j=0;function ls(){throw Error(s(321))}function W3(b,x){if(x===null)return!1;for(var I=0;I<x.length&&I<b.length;I++)if(!ve(b[I],x[I]))return!1;return!0}function Ux(b,x,I,F,W,Q){if(Nn=Q,kn=x,x.memoizedState=null,x.updateQueue=null,x.lanes=0,At.current=b===null||b.memoizedState===null?Mt:Pn,b=I(F,W),fl){Q=0;do{if(fl=!1,Th=0,25<=Q)throw Error(s(301));Q+=1,ii=Jr=null,x.updateQueue=null,At.current=pr,b=I(F,W)}while(fl)}if(At.current=st,x=Jr!==null&&Jr.next!==null,Nn=0,ii=Jr=kn=null,Pf=!1,x)throw Error(s(300));return b}function K3(){var b=Th!==0;return Th=0,b}function hl(){var b={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ii===null?kn.memoizedState=ii=b:ii=ii.next=b,ii}function Tu(){if(Jr===null){var b=kn.alternate;b=b!==null?b.memoizedState:null}else b=Jr.next;var x=ii===null?kn.memoizedState:ii.next;if(x!==null)ii=x,Jr=b;else{if(b===null)throw Error(s(310));Jr=b,b={memoizedState:Jr.memoizedState,baseState:Jr.baseState,baseQueue:Jr.baseQueue,queue:Jr.queue,next:null},ii===null?kn.memoizedState=ii=b:ii=ii.next=b}return ii}function Sd(b,x){return typeof x=="function"?x(b):x}function Wx(b){var x=Tu(),I=x.queue;if(I===null)throw Error(s(311));I.lastRenderedReducer=b;var F=Jr,W=F.baseQueue,Q=I.pending;if(Q!==null){if(W!==null){var fe=W.next;W.next=Q.next,Q.next=fe}F.baseQueue=W=Q,I.pending=null}if(W!==null){Q=W.next,F=F.baseState;var De=fe=null,Ye=null,pt=Q;do{var qt=pt.lane;if((Nn&qt)===qt)Ye!==null&&(Ye=Ye.next={lane:0,action:pt.action,hasEagerState:pt.hasEagerState,eagerState:pt.eagerState,next:null}),F=pt.hasEagerState?pt.eagerState:b(F,pt.action);else{var Xn={lane:qt,action:pt.action,hasEagerState:pt.hasEagerState,eagerState:pt.eagerState,next:null};Ye===null?(De=Ye=Xn,fe=F):Ye=Ye.next=Xn,kn.lanes|=qt,T1|=qt}pt=pt.next}while(pt!==null&&pt!==Q);Ye===null?fe=F:Ye.next=De,ve(F,x.memoizedState)||(Ia=!0),x.memoizedState=F,x.baseState=fe,x.baseQueue=Ye,I.lastRenderedState=F}if(b=I.interleaved,b!==null){W=b;do Q=W.lane,kn.lanes|=Q,T1|=Q,W=W.next;while(W!==b)}else W===null&&(I.lanes=0);return[x.memoizedState,I.dispatch]}function Kx(b){var x=Tu(),I=x.queue;if(I===null)throw Error(s(311));I.lastRenderedReducer=b;var F=I.dispatch,W=I.pending,Q=x.memoizedState;if(W!==null){I.pending=null;var fe=W=W.next;do Q=b(Q,fe.action),fe=fe.next;while(fe!==W);ve(Q,x.memoizedState)||(Ia=!0),x.memoizedState=Q,x.baseQueue===null&&(x.baseState=Q),I.lastRenderedState=Q}return[Q,F]}function q5(){}function _d(b,x){var I=kn,F=Tu(),W=x(),Q=!ve(F.memoizedState,W);if(Q&&(F.memoizedState=W,Ia=!0),F=F.queue,Gx(bv.bind(null,I,F,b),[b]),F.getSnapshot!==x||Q||ii!==null&&ii.memoizedState.tag&1){if(I.flags|=2048,xv(9,G3.bind(null,I,F,W,x),void 0,null),ua===null)throw Error(s(349));Nn&30||q3(I,x,W)}return W}function q3(b,x,I){b.flags|=16384,b={getSnapshot:x,value:I},x=kn.updateQueue,x===null?(x={lastEffect:null,stores:null},kn.updateQueue=x,x.stores=[b]):(I=x.stores,I===null?x.stores=[b]:I.push(b))}function G3(b,x,I,F){x.value=I,x.getSnapshot=F,G5(x)&&k1(b)}function bv(b,x,I){return I(function(){G5(x)&&k1(b)})}function G5(b){var x=b.getSnapshot;b=b.value;try{var I=x();return!ve(b,I)}catch{return!0}}function k1(b){var x=Hl(b,1);x!==null&&Cd(x,b,1,-1)}function wv(b){var x=hl();return typeof b=="function"&&(b=b()),x.memoizedState=x.baseState=b,b={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Sd,lastRenderedState:b},x.queue=b,b=b.dispatch=ae.bind(null,kn,b),[x.memoizedState,b]}function xv(b,x,I,F){return b={tag:b,create:x,destroy:I,deps:F,next:null},x=kn.updateQueue,x===null?(x={lastEffect:null,stores:null},kn.updateQueue=x,x.lastEffect=b.next=b):(I=x.lastEffect,I===null?x.lastEffect=b.next=b:(F=I.next,I.next=b,b.next=F,x.lastEffect=b)),b}function Z3(){return Tu().memoizedState}function qx(b,x,I,F){var W=hl();kn.flags|=b,W.memoizedState=xv(1|x,I,void 0,F===void 0?null:F)}function P1(b,x,I,F){var W=Tu();F=F===void 0?null:F;var Q=void 0;if(Jr!==null){var fe=Jr.memoizedState;if(Q=fe.destroy,F!==null&&W3(F,fe.deps)){W.memoizedState=xv(x,I,Q,F);return}}kn.flags|=b,W.memoizedState=xv(1|x,I,Q,F)}function Y3(b,x){return qx(8390656,8,b,x)}function Gx(b,x){return P1(2048,8,b,x)}function X3(b,x){return P1(4,2,b,x)}function Q3(b,x){return P1(4,4,b,x)}function Z5(b,x){if(typeof x=="function")return b=b(),x(b),function(){x(null)};if(x!=null)return b=b(),x.current=b,function(){x.current=null}}function J3(b,x,I){return I=I!=null?I.concat([b]):null,P1(4,4,Z5.bind(null,x,b),I)}function Zx(){}function Y5(b,x){var I=Tu();x=x===void 0?null:x;var F=I.memoizedState;return F!==null&&x!==null&&W3(x,F[1])?F[0]:(I.memoizedState=[b,x],b)}function m(b,x){var I=Tu();x=x===void 0?null:x;var F=I.memoizedState;return F!==null&&x!==null&&W3(x,F[1])?F[0]:(b=b(),I.memoizedState=[b,x],b)}function E(b,x,I){return Nn&21?(ve(I,x)||(I=xf(),kn.lanes|=I,T1|=I,b.baseState=!0),x):(b.baseState&&(b.baseState=!1,Ia=!0),b.memoizedState=I)}function A(b,x){var I=nr;nr=I!==0&&4>I?I:4,b(!0);var F=yn.transition;yn.transition={};try{b(!1),x()}finally{nr=I,yn.transition=F}}function V(){return Tu().memoizedState}function Y(b,x,I){var F=Ev(b);if(I={lane:F,action:I,hasEagerState:!1,eagerState:null,next:null},Ee(b))Fe(x,I);else if(I=xc(b,x,I,F),I!==null){var W=gl();Cd(I,b,F,W),Ke(I,x,F)}}function ae(b,x,I){var F=Ev(b),W={lane:F,action:I,hasEagerState:!1,eagerState:null,next:null};if(Ee(b))Fe(x,W);else{var Q=b.alternate;if(b.lanes===0&&(Q===null||Q.lanes===0)&&(Q=x.lastRenderedReducer,Q!==null))try{var fe=x.lastRenderedState,De=Q(fe,I);if(W.hasEagerState=!0,W.eagerState=De,ve(De,fe)){var Ye=x.interleaved;Ye===null?(W.next=W,Yo(x)):(W.next=Ye.next,Ye.next=W),x.interleaved=W;return}}catch{}finally{}I=xc(b,x,W,F),I!==null&&(W=gl(),Cd(I,b,F,W),Ke(I,x,F))}}function Ee(b){var x=b.alternate;return b===kn||x!==null&&x===kn}function Fe(b,x){fl=Pf=!0;var I=b.pending;I===null?x.next=x:(x.next=I.next,I.next=x),b.pending=x}function Ke(b,x,I){if(I&4194240){var F=x.lanes;F&=b.pendingLanes,I|=F,x.lanes=I,bc(b,I)}}var st={readContext:la,useCallback:ls,useContext:ls,useEffect:ls,useImperativeHandle:ls,useInsertionEffect:ls,useLayoutEffect:ls,useMemo:ls,useReducer:ls,useRef:ls,useState:ls,useDebugValue:ls,useDeferredValue:ls,useTransition:ls,useMutableSource:ls,useSyncExternalStore:ls,useId:ls,unstable_isNewReconciler:!1},Mt={readContext:la,useCallback:function(b,x){return hl().memoizedState=[b,x===void 0?null:x],b},useContext:la,useEffect:Y3,useImperativeHandle:function(b,x,I){return I=I!=null?I.concat([b]):null,qx(4194308,4,Z5.bind(null,x,b),I)},useLayoutEffect:function(b,x){return qx(4194308,4,b,x)},useInsertionEffect:function(b,x){return qx(4,2,b,x)},useMemo:function(b,x){var I=hl();return x=x===void 0?null:x,b=b(),I.memoizedState=[b,x],b},useReducer:function(b,x,I){var F=hl();return x=I!==void 0?I(x):x,F.memoizedState=F.baseState=x,b={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:b,lastRenderedState:x},F.queue=b,b=b.dispatch=Y.bind(null,kn,b),[F.memoizedState,b]},useRef:function(b){var x=hl();return b={current:b},x.memoizedState=b},useState:wv,useDebugValue:Zx,useDeferredValue:function(b){return hl().memoizedState=b},useTransition:function(){var b=wv(!1),x=b[0];return b=A.bind(null,b[1]),hl().memoizedState=b,[x,b]},useMutableSource:function(){},useSyncExternalStore:function(b,x,I){var F=kn,W=hl();if(Tr){if(I===void 0)throw Error(s(407));I=I()}else{if(I=x(),ua===null)throw Error(s(349));Nn&30||q3(F,x,I)}W.memoizedState=I;var Q={value:I,getSnapshot:x};return W.queue=Q,Y3(bv.bind(null,F,Q,b),[b]),F.flags|=2048,xv(9,G3.bind(null,F,Q,I,x),void 0,null),I},useId:function(){var b=hl(),x=ua.identifierPrefix;if(Tr){var I=ul,F=as;I=(F&~(1<<32-ws(F)-1)).toString(32)+I,x=":"+x+"R"+I,I=Th++,0<I&&(x+="H"+I.toString(32)),x+=":"}else I=$j++,x=":"+x+"r"+I.toString(32)+":";return b.memoizedState=x},unstable_isNewReconciler:!1},Pn={readContext:la,useCallback:Y5,useContext:la,useEffect:Gx,useImperativeHandle:J3,useInsertionEffect:X3,useLayoutEffect:Q3,useMemo:m,useReducer:Wx,useRef:Z3,useState:function(){return Wx(Sd)},useDebugValue:Zx,useDeferredValue:function(b){var x=Tu();return E(x,Jr.memoizedState,b)},useTransition:function(){var b=Wx(Sd)[0],x=Tu().memoizedState;return[b,x]},useMutableSource:q5,useSyncExternalStore:_d,useId:V,unstable_isNewReconciler:!1},pr={readContext:la,useCallback:Y5,useContext:la,useEffect:Gx,useImperativeHandle:J3,useInsertionEffect:X3,useLayoutEffect:Q3,useMemo:m,useReducer:Kx,useRef:Z3,useState:function(){return Kx(Sd)},useDebugValue:Zx,useDeferredValue:function(b){var x=Tu();return Jr===null?x.memoizedState=b:E(x,Jr.memoizedState,b)},useTransition:function(){var b=Kx(Sd)[0],x=Tu().memoizedState;return[b,x]},useMutableSource:q5,useSyncExternalStore:_d,useId:V,unstable_isNewReconciler:!1};function Hi(b,x){if(b&&b.defaultProps){x=o({},x),b=b.defaultProps;for(var I in b)x[I]===void 0&&(x[I]=b[I]);return x}return x}function Xo(b,x,I,F){x=b.memoizedState,I=I(F,x),I=I==null?x:o({},x,I),b.memoizedState=I,b.lanes===0&&(b.updateQueue.baseState=I)}var La={isMounted:function(b){return(b=b._reactInternals)?H(b)===b:!1},enqueueSetState:function(b,x,I){b=b._reactInternals;var F=gl(),W=Ev(b),Q=Ma(F,W);Q.payload=x,I!=null&&(Q.callback=I),x=xd(b,Q,W),x!==null&&(Cd(x,b,W,F),kf(x,b,W))},enqueueReplaceState:function(b,x,I){b=b._reactInternals;var F=gl(),W=Ev(b),Q=Ma(F,W);Q.tag=1,Q.payload=x,I!=null&&(Q.callback=I),x=xd(b,Q,W),x!==null&&(Cd(x,b,W,F),kf(x,b,W))},enqueueForceUpdate:function(b,x){b=b._reactInternals;var I=gl(),F=Ev(b),W=Ma(I,F);W.tag=2,x!=null&&(W.callback=x),x=xd(b,W,F),x!==null&&(Cd(x,b,F,I),kf(x,b,F))}};function Aa(b,x,I,F,W,Q,fe){return b=b.stateNode,typeof b.shouldComponentUpdate=="function"?b.shouldComponentUpdate(F,Q,fe):x.prototype&&x.prototype.isPureReactComponent?!Gi(I,F)||!Gi(W,Q):!0}function hm(b,x,I){var F=!1,W=$r,Q=x.contextType;return typeof Q=="object"&&Q!==null?Q=la(Q):(W=en(x)?ia:so.current,F=x.contextTypes,Q=(F=F!=null)?Pa(b,W):$r),x=new x(I,Q),b.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=La,b.stateNode=x,x._reactInternals=b,F&&(b=b.stateNode,b.__reactInternalMemoizedUnmaskedChildContext=W,b.__reactInternalMemoizedMaskedChildContext=Q),x}function X5(b,x,I,F){b=x.state,typeof x.componentWillReceiveProps=="function"&&x.componentWillReceiveProps(I,F),typeof x.UNSAFE_componentWillReceiveProps=="function"&&x.UNSAFE_componentWillReceiveProps(I,F),x.state!==b&&La.enqueueReplaceState(x,x.state,null)}function eE(b,x,I,F){var W=b.stateNode;W.props=I,W.state=b.memoizedState,W.refs={},$h(b);var Q=x.contextType;typeof Q=="object"&&Q!==null?W.context=la(Q):(Q=en(x)?ia:so.current,W.context=Pa(b,Q)),W.state=b.memoizedState,Q=x.getDerivedStateFromProps,typeof Q=="function"&&(Xo(b,x,Q,I),W.state=b.memoizedState),typeof x.getDerivedStateFromProps=="function"||typeof W.getSnapshotBeforeUpdate=="function"||typeof W.UNSAFE_componentWillMount!="function"&&typeof W.componentWillMount!="function"||(x=W.state,typeof W.componentWillMount=="function"&&W.componentWillMount(),typeof W.UNSAFE_componentWillMount=="function"&&W.UNSAFE_componentWillMount(),x!==W.state&&La.enqueueReplaceState(W,W.state,null),dl(b,I,W,F),W.state=b.memoizedState),typeof W.componentDidMount=="function"&&(b.flags|=4194308)}function Sv(b,x){try{var I="",F=x;do I+=C1(F),F=F.return;while(F);var W=I}catch(Q){W=`
Error generating stack: `+Q.message+`
`+Q.stack}return{value:b,source:x,stack:W,digest:null}}function Yx(b,x,I){return{value:b,source:null,stack:I??null,digest:x??null}}function tE(b,x){try{console.error(x.value)}catch(I){setTimeout(function(){throw I})}}var Q5=typeof WeakMap=="function"?WeakMap:Map;function No(b,x,I){I=Ma(-1,I),I.tag=3,I.payload={element:null};var F=x.value;return I.callback=function(){m6||(m6=!0,Gj=F),tE(b,x)},I}function $1(b,x,I){I=Ma(-1,I),I.tag=3;var F=b.type.getDerivedStateFromError;if(typeof F=="function"){var W=x.value;I.payload=function(){return F(W)},I.callback=function(){tE(b,x)}}var Q=b.stateNode;return Q!==null&&typeof Q.componentDidCatch=="function"&&(I.callback=function(){tE(b,x),typeof F!="function"&&(_v===null?_v=new Set([this]):_v.add(this));var fe=x.stack;this.componentDidCatch(x.value,{componentStack:fe!==null?fe:""})}),I}function J5(b,x,I){var F=b.pingCache;if(F===null){F=b.pingCache=new Q5;var W=new Set;F.set(x,W)}else W=F.get(x),W===void 0&&(W=new Set,F.set(x,W));W.has(I)||(W.add(I),b=zVe.bind(null,b,x,I),x.then(b,b))}function e6(b){do{var x;if((x=b.tag===13)&&(x=b.memoizedState,x=x!==null?x.dehydrated!==null:!0),x)return b;b=b.return}while(b!==null);return null}function t6(b,x,I,F,W){return b.mode&1?(b.flags|=65536,b.lanes=W,b):(b===x?b.flags|=65536:(b.flags|=128,I.flags|=131072,I.flags&=-52805,I.tag===1&&(I.alternate===null?I.tag=17:(x=Ma(-1,1),x.tag=2,xd(I,x,1))),I.lanes|=1),b)}var nE=a.ReactCurrentOwner,Ia=!1;function Ra(b,x,I,F){x.child=b===null?_f(x,null,I,F):Sf(x,b.child,I,F)}function dre(b,x,I,F,W){I=I.render;var Q=x.ref;return Ws(x,W),F=Ux(b,x,I,F,Q,W),I=K3(),b!==null&&!Ia?(x.updateQueue=b.updateQueue,x.flags&=-2053,b.lanes&=~W,pm(b,x,W)):(Tr&&I&&ir(x),x.flags|=1,Ra(b,x,F,W),x.child)}function fre(b,x,I,F,W){if(b===null){var Q=I.type;return typeof Q=="function"&&!eN(Q)&&Q.defaultProps===void 0&&I.compare===null&&I.defaultProps===void 0?(x.tag=15,x.type=Q,hre(b,x,Q,F,W)):(b=x6(I.type,null,F,x,x.mode,W),b.ref=x.ref,b.return=x,x.child=b)}if(Q=b.child,!(b.lanes&W)){var fe=Q.memoizedProps;if(I=I.compare,I=I!==null?I:Gi,I(fe,F)&&b.ref===x.ref)return pm(b,x,W)}return x.flags|=1,b=Pv(Q,F),b.ref=x.ref,b.return=x,x.child=b}function hre(b,x,I,F,W){if(b!==null){var Q=b.memoizedProps;if(Gi(Q,F)&&b.ref===x.ref)if(Ia=!1,x.pendingProps=F=Q,(b.lanes&W)!==0)b.flags&131072&&(Ia=!0);else return x.lanes=b.lanes,pm(b,x,W)}return Tj(b,x,I,F,W)}function pre(b,x,I){var F=x.pendingProps,W=F.children,Q=b!==null?b.memoizedState:null;if(F.mode==="hidden")if(!(x.mode&1))x.memoizedState={baseLanes:0,cachePool:null,transitions:null},Nt(Qx,Sc),Sc|=I;else{if(!(I&1073741824))return b=Q!==null?Q.baseLanes|I:I,x.lanes=x.childLanes=1073741824,x.memoizedState={baseLanes:b,cachePool:null,transitions:null},x.updateQueue=null,Nt(Qx,Sc),Sc|=b,null;x.memoizedState={baseLanes:0,cachePool:null,transitions:null},F=Q!==null?Q.baseLanes:I,Nt(Qx,Sc),Sc|=F}else Q!==null?(F=Q.baseLanes|I,x.memoizedState=null):F=I,Nt(Qx,Sc),Sc|=F;return Ra(b,x,W,I),x.child}function mre(b,x){var I=x.ref;(b===null&&I!==null||b!==null&&b.ref!==I)&&(x.flags|=512,x.flags|=2097152)}function Tj(b,x,I,F,W){var Q=en(I)?ia:so.current;return Q=Pa(x,Q),Ws(x,W),I=Ux(b,x,I,F,Q,W),F=K3(),b!==null&&!Ia?(x.updateQueue=b.updateQueue,x.flags&=-2053,b.lanes&=~W,pm(b,x,W)):(Tr&&F&&ir(x),x.flags|=1,Ra(b,x,I,W),x.child)}function gre(b,x,I,F,W){if(en(I)){var Q=!0;ko(x)}else Q=!1;if(Ws(x,W),x.stateNode===null)r6(b,x),hm(x,I,F),eE(x,I,F,W),F=!0;else if(b===null){var fe=x.stateNode,De=x.memoizedProps;fe.props=De;var Ye=fe.context,pt=I.contextType;typeof pt=="object"&&pt!==null?pt=la(pt):(pt=en(I)?ia:so.current,pt=Pa(x,pt));var qt=I.getDerivedStateFromProps,Xn=typeof qt=="function"||typeof fe.getSnapshotBeforeUpdate=="function";Xn||typeof fe.UNSAFE_componentWillReceiveProps!="function"&&typeof fe.componentWillReceiveProps!="function"||(De!==F||Ye!==pt)&&X5(x,fe,F,pt),Vl=!1;var It=x.memoizedState;fe.state=It,dl(x,F,fe,W),Ye=x.memoizedState,De!==F||It!==Ye||ao.current||Vl?(typeof qt=="function"&&(Xo(x,I,qt,F),Ye=x.memoizedState),(De=Vl||Aa(x,I,De,F,It,Ye,pt))?(Xn||typeof fe.UNSAFE_componentWillMount!="function"&&typeof fe.componentWillMount!="function"||(typeof fe.componentWillMount=="function"&&fe.componentWillMount(),typeof fe.UNSAFE_componentWillMount=="function"&&fe.UNSAFE_componentWillMount()),typeof fe.componentDidMount=="function"&&(x.flags|=4194308)):(typeof fe.componentDidMount=="function"&&(x.flags|=4194308),x.memoizedProps=F,x.memoizedState=Ye),fe.props=F,fe.state=Ye,fe.context=pt,F=De):(typeof fe.componentDidMount=="function"&&(x.flags|=4194308),F=!1)}else{fe=x.stateNode,Pu(b,x),De=x.memoizedProps,pt=x.type===x.elementType?De:Hi(x.type,De),fe.props=pt,Xn=x.pendingProps,It=fe.context,Ye=I.contextType,typeof Ye=="object"&&Ye!==null?Ye=la(Ye):(Ye=en(I)?ia:so.current,Ye=Pa(x,Ye));var co=I.getDerivedStateFromProps;(qt=typeof co=="function"||typeof fe.getSnapshotBeforeUpdate=="function")||typeof fe.UNSAFE_componentWillReceiveProps!="function"&&typeof fe.componentWillReceiveProps!="function"||(De!==Xn||It!==Ye)&&X5(x,fe,F,Ye),Vl=!1,It=x.memoizedState,fe.state=It,dl(x,F,fe,W);var Vi=x.memoizedState;De!==Xn||It!==Vi||ao.current||Vl?(typeof co=="function"&&(Xo(x,I,co,F),Vi=x.memoizedState),(pt=Vl||Aa(x,I,pt,F,It,Vi,Ye)||!1)?(qt||typeof fe.UNSAFE_componentWillUpdate!="function"&&typeof fe.componentWillUpdate!="function"||(typeof fe.componentWillUpdate=="function"&&fe.componentWillUpdate(F,Vi,Ye),typeof fe.UNSAFE_componentWillUpdate=="function"&&fe.UNSAFE_componentWillUpdate(F,Vi,Ye)),typeof fe.componentDidUpdate=="function"&&(x.flags|=4),typeof fe.getSnapshotBeforeUpdate=="function"&&(x.flags|=1024)):(typeof fe.componentDidUpdate!="function"||De===b.memoizedProps&&It===b.memoizedState||(x.flags|=4),typeof fe.getSnapshotBeforeUpdate!="function"||De===b.memoizedProps&&It===b.memoizedState||(x.flags|=1024),x.memoizedProps=F,x.memoizedState=Vi),fe.props=F,fe.state=Vi,fe.context=Ye,F=pt):(typeof fe.componentDidUpdate!="function"||De===b.memoizedProps&&It===b.memoizedState||(x.flags|=4),typeof fe.getSnapshotBeforeUpdate!="function"||De===b.memoizedProps&&It===b.memoizedState||(x.flags|=1024),F=!1)}return Mj(b,x,I,F,Q,W)}function Mj(b,x,I,F,W,Q){mre(b,x);var fe=(x.flags&128)!==0;if(!F&&!fe)return W&&um(x,I,!1),pm(b,x,Q);F=x.stateNode,nE.current=x;var De=fe&&typeof I.getDerivedStateFromError!="function"?null:F.render();return x.flags|=1,b!==null&&fe?(x.child=Sf(x,b.child,null,Q),x.child=Sf(x,null,De,Q)):Ra(b,x,De,Q),x.memoizedState=F.state,W&&um(x,I,!0),x.child}function vre(b){var x=b.stateNode;x.pendingContext?wf(b,x.pendingContext,x.pendingContext!==x.context):x.context&&wf(b,x.context,!1),ie(b,x.containerInfo)}function yre(b,x,I,F,W){return Kr(),Ph(W),x.flags|=256,Ra(b,x,I,F),x.child}var Lj={dehydrated:null,treeContext:null,retryLane:0};function Aj(b){return{baseLanes:b,cachePool:null,transitions:null}}function bre(b,x,I){var F=x.pendingProps,W=je.current,Q=!1,fe=(x.flags&128)!==0,De;if((De=fe)||(De=b!==null&&b.memoizedState===null?!1:(W&2)!==0),De?(Q=!0,x.flags&=-129):(b===null||b.memoizedState!==null)&&(W|=1),Nt(je,W&1),b===null)return Eh(x),b=x.memoizedState,b!==null&&(b=b.dehydrated,b!==null)?(x.mode&1?ar(b)?x.lanes=8:x.lanes=1073741824:x.lanes=1,null):(fe=F.children,b=F.fallback,Q?(F=x.mode,Q=x.child,fe={mode:"hidden",children:fe},!(F&1)&&Q!==null?(Q.childLanes=0,Q.pendingProps=fe):Q=S6(fe,F,0,null),b=I1(b,F,I,null),Q.return=x,b.return=x,Q.sibling=b,x.child=Q,x.child.memoizedState=Aj(I),x.memoizedState=Lj,b):Ij(x,fe));if(W=b.memoizedState,W!==null&&(De=W.dehydrated,De!==null))return TVe(b,x,fe,F,De,W,I);if(Q){Q=F.fallback,fe=x.mode,W=b.child,De=W.sibling;var Ye={mode:"hidden",children:F.children};return!(fe&1)&&x.child!==W?(F=x.child,F.childLanes=0,F.pendingProps=Ye,x.deletions=null):(F=Pv(W,Ye),F.subtreeFlags=W.subtreeFlags&14680064),De!==null?Q=Pv(De,Q):(Q=I1(Q,fe,I,null),Q.flags|=2),Q.return=x,F.return=x,F.sibling=Q,x.child=F,F=Q,Q=x.child,fe=b.child.memoizedState,fe=fe===null?Aj(I):{baseLanes:fe.baseLanes|I,cachePool:null,transitions:fe.transitions},Q.memoizedState=fe,Q.childLanes=b.childLanes&~I,x.memoizedState=Lj,F}return Q=b.child,b=Q.sibling,F=Pv(Q,{mode:"visible",children:F.children}),!(x.mode&1)&&(F.lanes=I),F.return=x,F.sibling=null,b!==null&&(I=x.deletions,I===null?(x.deletions=[b],x.flags|=16):I.push(b)),x.child=F,x.memoizedState=null,F}function Ij(b,x){return x=S6({mode:"visible",children:x},b.mode,0,null),x.return=b,b.child=x}function n6(b,x,I,F){return F!==null&&Ph(F),Sf(x,b.child,null,I),b=Ij(x,x.pendingProps.children),b.flags|=2,x.memoizedState=null,b}function TVe(b,x,I,F,W,Q,fe){if(I)return x.flags&256?(x.flags&=-257,F=Yx(Error(s(422))),n6(b,x,fe,F)):x.memoizedState!==null?(x.child=b.child,x.flags|=128,null):(Q=F.fallback,W=x.mode,F=S6({mode:"visible",children:F.children},W,0,null),Q=I1(Q,W,fe,null),Q.flags|=2,F.return=x,Q.return=x,F.sibling=Q,x.child=F,x.mode&1&&Sf(x,b.child,null,fe),x.child.memoizedState=Aj(fe),x.memoizedState=Lj,Q);if(!(x.mode&1))return n6(b,x,fe,null);if(ar(W))return F=mt(W).digest,Q=Error(s(419)),F=Yx(Q,F,void 0),n6(b,x,fe,F);if(I=(fe&b.childLanes)!==0,Ia||I){if(F=ua,F!==null){switch(fe&-fe){case 4:W=2;break;case 16:W=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:W=32;break;case 536870912:W=268435456;break;default:W=0}W=W&(F.suspendedLanes|fe)?0:W,W!==0&&W!==Q.retryLane&&(Q.retryLane=W,Hl(b,W),Cd(F,b,W,-1))}return Jj(),F=Yx(Error(s(421))),n6(b,x,fe,F)}return Bn(W)?(x.flags|=128,x.child=b.child,x=HVe.bind(null,b),hr(W,x),null):(b=Q.treeContext,$e&&(Po=Bs(W),Vs=x,Tr=!0,aa=null,bd=!1,b!==null&&(lo[Ss++]=as,lo[Ss++]=ul,lo[Ss++]=ll,as=b.id,ul=b.overflow,ll=x)),x=Ij(x,F.children),x.flags|=4096,x)}function wre(b,x,I){b.lanes|=x;var F=b.alternate;F!==null&&(F.lanes|=x),Ef(b.return,x,I)}function Rj(b,x,I,F,W){var Q=b.memoizedState;Q===null?b.memoizedState={isBackwards:x,rendering:null,renderingStartTime:0,last:F,tail:I,tailMode:W}:(Q.isBackwards=x,Q.rendering=null,Q.renderingStartTime=0,Q.last=F,Q.tail=I,Q.tailMode=W)}function xre(b,x,I){var F=x.pendingProps,W=F.revealOrder,Q=F.tail;if(Ra(b,x,F.children,I),F=je.current,F&2)F=F&1|2,x.flags|=128;else{if(b!==null&&b.flags&128)e:for(b=x.child;b!==null;){if(b.tag===13)b.memoizedState!==null&&wre(b,I,x);else if(b.tag===19)wre(b,I,x);else if(b.child!==null){b.child.return=b,b=b.child;continue}if(b===x)break e;for(;b.sibling===null;){if(b.return===null||b.return===x)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}F&=1}if(Nt(je,F),!(x.mode&1))x.memoizedState=null;else switch(W){case"forwards":for(I=x.child,W=null;I!==null;)b=I.alternate,b!==null&&Ze(b)===null&&(W=I),I=I.sibling;I=W,I===null?(W=x.child,x.child=null):(W=I.sibling,I.sibling=null),Rj(x,!1,W,I,Q);break;case"backwards":for(I=null,W=x.child,x.child=null;W!==null;){if(b=W.alternate,b!==null&&Ze(b)===null){x.child=W;break}b=W.sibling,W.sibling=I,I=W,W=b}Rj(x,!0,I,null,Q);break;case"together":Rj(x,!1,null,null,void 0);break;default:x.memoizedState=null}return x.child}function r6(b,x){!(x.mode&1)&&b!==null&&(b.alternate=null,x.alternate=null,x.flags|=2)}function pm(b,x,I){if(b!==null&&(x.dependencies=b.dependencies),T1|=x.lanes,!(I&x.childLanes))return null;if(b!==null&&x.child!==b.child)throw Error(s(153));if(x.child!==null){for(b=x.child,I=Pv(b,b.pendingProps),x.child=I,I.return=x;b.sibling!==null;)b=b.sibling,I=I.sibling=Pv(b,b.pendingProps),I.return=x;I.sibling=null}return x.child}function MVe(b,x,I){switch(x.tag){case 3:vre(x),Kr();break;case 5:xe(x);break;case 1:en(x.type)&&ko(x);break;case 4:ie(x,x.stateNode.containerInfo);break;case 10:$a(x,x.type._context,x.memoizedProps.value);break;case 13:var F=x.memoizedState;if(F!==null)return F.dehydrated!==null?(Nt(je,je.current&1),x.flags|=128,null):I&x.child.childLanes?bre(b,x,I):(Nt(je,je.current&1),b=pm(b,x,I),b!==null?b.sibling:null);Nt(je,je.current&1);break;case 19:if(F=(I&x.childLanes)!==0,b.flags&128){if(F)return xre(b,x,I);x.flags|=128}var W=x.memoizedState;if(W!==null&&(W.rendering=null,W.tail=null,W.lastEffect=null),Nt(je,je.current),F)break;return null;case 22:case 23:return x.lanes=0,pre(b,x,I)}return pm(b,x,I)}function Mh(b){b.flags|=4}function Sre(b,x){if(b!==null&&b.child===x.child)return!0;if(x.flags&16)return!1;for(b=x.child;b!==null;){if(b.flags&12854||b.subtreeFlags&12854)return!1;b=b.sibling}return!0}var rE,iE,i6,o6;if(ye)rE=function(b,x){for(var I=x.child;I!==null;){if(I.tag===5||I.tag===6)he(b,I.stateNode);else if(I.tag!==4&&I.child!==null){I.child.return=I,I=I.child;continue}if(I===x)break;for(;I.sibling===null;){if(I.return===null||I.return===x)return;I=I.return}I.sibling.return=I.return,I=I.sibling}},iE=function(){},i6=function(b,x,I,F,W){if(b=b.memoizedProps,b!==F){var Q=x.stateNode,fe=te($.current);I=re(Q,I,b,F,W,fe),(x.updateQueue=I)&&Mh(x)}},o6=function(b,x,I,F){I!==F&&Mh(x)};else if(_e){rE=function(b,x,I,F){for(var W=x.child;W!==null;){if(W.tag===5){var Q=W.stateNode;I&&F&&(Q=Ln(Q,W.type,W.memoizedProps,W)),he(b,Q)}else if(W.tag===6)Q=W.stateNode,I&&F&&(Q=Ot(Q,W.memoizedProps,W)),he(b,Q);else if(W.tag!==4){if(W.tag===22&&W.memoizedState!==null)Q=W.child,Q!==null&&(Q.return=W),rE(b,W,!0,!0);else if(W.child!==null){W.child.return=W,W=W.child;continue}}if(W===x)break;for(;W.sibling===null;){if(W.return===null||W.return===x)return;W=W.return}W.sibling.return=W.return,W=W.sibling}};var _re=function(b,x,I,F){for(var W=x.child;W!==null;){if(W.tag===5){var Q=W.stateNode;I&&F&&(Q=Ln(Q,W.type,W.memoizedProps,W)),sr(b,Q)}else if(W.tag===6)Q=W.stateNode,I&&F&&(Q=Ot(Q,W.memoizedProps,W)),sr(b,Q);else if(W.tag!==4){if(W.tag===22&&W.memoizedState!==null)Q=W.child,Q!==null&&(Q.return=W),_re(b,W,!0,!0);else if(W.child!==null){W.child.return=W,W=W.child;continue}}if(W===x)break;for(;W.sibling===null;){if(W.return===null||W.return===x)return;W=W.return}W.sibling.return=W.return,W=W.sibling}};iE=function(b,x){var I=x.stateNode;if(!Sre(b,x)){b=I.containerInfo;var F=Kt(b);_re(F,x,!1,!1),I.pendingChildren=F,Mh(x),Jt(b,F)}},i6=function(b,x,I,F,W){var Q=b.stateNode,fe=b.memoizedProps;if((b=Sre(b,x))&&fe===F)x.stateNode=Q;else{var De=x.stateNode,Ye=te($.current),pt=null;fe!==F&&(pt=re(De,I,fe,F,W,Ye)),b&&pt===null?x.stateNode=Q:(Q=Wt(Q,pt,I,fe,F,x,b,De),me(Q,I,F,W,Ye)&&Mh(x),x.stateNode=Q,b?Mh(x):rE(Q,x,!1,!1))}},o6=function(b,x,I,F){I!==F?(b=te(Z.current),I=te($.current),x.stateNode=ce(F,b,I,x),Mh(x)):x.stateNode=b.stateNode}}else iE=function(){},i6=function(){},o6=function(){};function oE(b,x){if(!Tr)switch(b.tailMode){case"hidden":x=b.tail;for(var I=null;x!==null;)x.alternate!==null&&(I=x),x=x.sibling;I===null?b.tail=null:I.sibling=null;break;case"collapsed":I=b.tail;for(var F=null;I!==null;)I.alternate!==null&&(F=I),I=I.sibling;F===null?x||b.tail===null?b.tail=null:b.tail.sibling=null:F.sibling=null}}function pl(b){var x=b.alternate!==null&&b.alternate.child===b.child,I=0,F=0;if(x)for(var W=b.child;W!==null;)I|=W.lanes|W.childLanes,F|=W.subtreeFlags&14680064,F|=W.flags&14680064,W.return=b,W=W.sibling;else for(W=b.child;W!==null;)I|=W.lanes|W.childLanes,F|=W.subtreeFlags,F|=W.flags,W.return=b,W=W.sibling;return b.subtreeFlags|=F,b.childLanes=I,x}function LVe(b,x,I){var F=x.pendingProps;switch(vv(x),x.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pl(x),null;case 1:return en(x.type)&&fi(),pl(x),null;case 3:return I=x.stateNode,pe(),br(ao),br(so),xt(),I.pendingContext&&(I.context=I.pendingContext,I.pendingContext=null),(b===null||b.child===null)&&(kh(x)?Mh(x):b===null||b.memoizedState.isDehydrated&&!(x.flags&256)||(x.flags|=1024,aa!==null&&(Xj(aa),aa=null))),iE(b,x),pl(x),null;case 5:Le(x),I=te(Z.current);var W=x.type;if(b!==null&&x.stateNode!=null)i6(b,x,W,F,I),b.ref!==x.ref&&(x.flags|=512,x.flags|=2097152);else{if(!F){if(x.stateNode===null)throw Error(s(166));return pl(x),null}if(b=te($.current),kh(x)){if(!$e)throw Error(s(175));b=at(x.stateNode,x.type,x.memoizedProps,I,b,x,!bd),x.updateQueue=b,b!==null&&Mh(x)}else{var Q=oe(W,F,I,b,x);rE(Q,x,!1,!1),x.stateNode=Q,me(Q,W,F,I,b)&&Mh(x)}x.ref!==null&&(x.flags|=512,x.flags|=2097152)}return pl(x),null;case 6:if(b&&x.stateNode!=null)o6(b,x,b.memoizedProps,F);else{if(typeof F!="string"&&x.stateNode===null)throw Error(s(166));if(b=te(Z.current),I=te($.current),kh(x)){if(!$e)throw Error(s(176));if(b=x.stateNode,I=x.memoizedProps,(F=lt(b,I,x,!bd))&&(W=Vs,W!==null))switch(W.tag){case 3:lr(W.stateNode.containerInfo,b,I,(W.mode&1)!==0);break;case 5:Pr(W.type,W.memoizedProps,W.stateNode,b,I,(W.mode&1)!==0)}F&&Mh(x)}else x.stateNode=ce(F,b,I,x)}return pl(x),null;case 13:if(br(je),F=x.memoizedState,b===null||b.memoizedState!==null&&b.memoizedState.dehydrated!==null){if(Tr&&Po!==null&&x.mode&1&&!(x.flags&128))Hx(),Kr(),x.flags|=98560,W=!1;else if(W=kh(x),F!==null&&F.dehydrated!==null){if(b===null){if(!W)throw Error(s(318));if(!$e)throw Error(s(344));if(W=x.memoizedState,W=W!==null?W.dehydrated:null,!W)throw Error(s(317));bt(W,x)}else Kr(),!(x.flags&128)&&(x.memoizedState=null),x.flags|=4;pl(x),W=!1}else aa!==null&&(Xj(aa),aa=null),W=!0;if(!W)return x.flags&65536?x:null}return x.flags&128?(x.lanes=I,x):(I=F!==null,I!==(b!==null&&b.memoizedState!==null)&&I&&(x.child.flags|=8192,x.mode&1&&(b===null||je.current&1?Ks===0&&(Ks=3):Jj())),x.updateQueue!==null&&(x.flags|=4),pl(x),null);case 4:return pe(),iE(b,x),b===null&&Ve(x.stateNode.containerInfo),pl(x),null;case 10:return Ta(x.type._context),pl(x),null;case 17:return en(x.type)&&fi(),pl(x),null;case 19:if(br(je),W=x.memoizedState,W===null)return pl(x),null;if(F=(x.flags&128)!==0,Q=W.rendering,Q===null)if(F)oE(W,!1);else{if(Ks!==0||b!==null&&b.flags&128)for(b=x.child;b!==null;){if(Q=Ze(b),Q!==null){for(x.flags|=128,oE(W,!1),b=Q.updateQueue,b!==null&&(x.updateQueue=b,x.flags|=4),x.subtreeFlags=0,b=I,I=x.child;I!==null;)F=I,W=b,F.flags&=14680066,Q=F.alternate,Q===null?(F.childLanes=0,F.lanes=W,F.child=null,F.subtreeFlags=0,F.memoizedProps=null,F.memoizedState=null,F.updateQueue=null,F.dependencies=null,F.stateNode=null):(F.childLanes=Q.childLanes,F.lanes=Q.lanes,F.child=Q.child,F.subtreeFlags=0,F.deletions=null,F.memoizedProps=Q.memoizedProps,F.memoizedState=Q.memoizedState,F.updateQueue=Q.updateQueue,F.type=Q.type,W=Q.dependencies,F.dependencies=W===null?null:{lanes:W.lanes,firstContext:W.firstContext}),I=I.sibling;return Nt(je,je.current&1|2),x.child}b=b.sibling}W.tail!==null&&An()>qj&&(x.flags|=128,F=!0,oE(W,!1),x.lanes=4194304)}else{if(!F)if(b=Ze(Q),b!==null){if(x.flags|=128,F=!0,b=b.updateQueue,b!==null&&(x.updateQueue=b,x.flags|=4),oE(W,!0),W.tail===null&&W.tailMode==="hidden"&&!Q.alternate&&!Tr)return pl(x),null}else 2*An()-W.renderingStartTime>qj&&I!==1073741824&&(x.flags|=128,F=!0,oE(W,!1),x.lanes=4194304);W.isBackwards?(Q.sibling=x.child,x.child=Q):(b=W.last,b!==null?b.sibling=Q:x.child=Q,W.last=Q)}return W.tail!==null?(x=W.tail,W.rendering=x,W.tail=x.sibling,W.renderingStartTime=An(),x.sibling=null,b=je.current,Nt(je,F?b&1|2:b&1),x):(pl(x),null);case 22:case 23:return Qj(),I=x.memoizedState!==null,b!==null&&b.memoizedState!==null!==I&&(x.flags|=8192),I&&x.mode&1?Sc&1073741824&&(pl(x),ye&&x.subtreeFlags&6&&(x.flags|=8192)):pl(x),null;case 24:return null;case 25:return null}throw Error(s(156,x.tag))}function AVe(b,x){switch(vv(x),x.tag){case 1:return en(x.type)&&fi(),b=x.flags,b&65536?(x.flags=b&-65537|128,x):null;case 3:return pe(),br(ao),br(so),xt(),b=x.flags,b&65536&&!(b&128)?(x.flags=b&-65537|128,x):null;case 5:return Le(x),null;case 13:if(br(je),b=x.memoizedState,b!==null&&b.dehydrated!==null){if(x.alternate===null)throw Error(s(340));Kr()}return b=x.flags,b&65536?(x.flags=b&-65537|128,x):null;case 19:return br(je),null;case 4:return pe(),null;case 10:return Ta(x.type._context),null;case 22:case 23:return Qj(),null;case 24:return null;default:return null}}var s6=!1,ml=!1,IVe=typeof WeakSet=="function"?WeakSet:Set,Ht=null;function Xx(b,x){var I=b.ref;if(I!==null)if(typeof I=="function")try{I(null)}catch(F){To(b,x,F)}else I.current=null}function Dj(b,x,I){try{I()}catch(F){To(b,x,F)}}var Cre=!1;function RVe(b,x){for(K(b.containerInfo),Ht=x;Ht!==null;)if(b=Ht,x=b.child,(b.subtreeFlags&1028)!==0&&x!==null)x.return=b,Ht=x;else for(;Ht!==null;){b=Ht;try{var I=b.alternate;if(b.flags&1024)switch(b.tag){case 0:case 11:case 15:break;case 1:if(I!==null){var F=I.memoizedProps,W=I.memoizedState,Q=b.stateNode,fe=Q.getSnapshotBeforeUpdate(b.elementType===b.type?F:Hi(b.type,F),W);Q.__reactInternalSnapshotBeforeUpdate=fe}break;case 3:ye&&$t(b.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(De){To(b,b.return,De)}if(x=b.sibling,x!==null){x.return=b.return,Ht=x;break}Ht=b.return}return I=Cre,Cre=!1,I}function sE(b,x,I){var F=x.updateQueue;if(F=F!==null?F.lastEffect:null,F!==null){var W=F=F.next;do{if((W.tag&b)===b){var Q=W.destroy;W.destroy=void 0,Q!==void 0&&Dj(x,I,Q)}W=W.next}while(W!==F)}}function a6(b,x){if(x=x.updateQueue,x=x!==null?x.lastEffect:null,x!==null){var I=x=x.next;do{if((I.tag&b)===b){var F=I.create;I.destroy=F()}I=I.next}while(I!==x)}}function Oj(b){var x=b.ref;if(x!==null){var I=b.stateNode;switch(b.tag){case 5:b=B(I);break;default:b=I}typeof x=="function"?x(b):x.current=b}}function Ere(b){var x=b.alternate;x!==null&&(b.alternate=null,Ere(x)),b.child=null,b.deletions=null,b.sibling=null,b.tag===5&&(x=b.stateNode,x!==null&&kt(x)),b.stateNode=null,b.return=null,b.dependencies=null,b.memoizedProps=null,b.memoizedState=null,b.pendingProps=null,b.stateNode=null,b.updateQueue=null}function kre(b){return b.tag===5||b.tag===3||b.tag===4}function Pre(b){e:for(;;){for(;b.sibling===null;){if(b.return===null||kre(b.return))return null;b=b.return}for(b.sibling.return=b.return,b=b.sibling;b.tag!==5&&b.tag!==6&&b.tag!==18;){if(b.flags&2||b.child===null||b.tag===4)continue e;b.child.return=b,b=b.child}if(!(b.flags&2))return b.stateNode}}function jj(b,x,I){var F=b.tag;if(F===5||F===6)b=b.stateNode,x?dt(I,b,x):ct(I,b);else if(F!==4&&(b=b.child,b!==null))for(jj(b,x,I),b=b.sibling;b!==null;)jj(b,x,I),b=b.sibling}function Nj(b,x,I){var F=b.tag;if(F===5||F===6)b=b.stateNode,x?Ae(I,b,x):Ne(I,b);else if(F!==4&&(b=b.child,b!==null))for(Nj(b,x,I),b=b.sibling;b!==null;)Nj(b,x,I),b=b.sibling}var Da=null,$f=!1;function Lh(b,x,I){for(I=I.child;I!==null;)Fj(b,x,I),I=I.sibling}function Fj(b,x,I){if(Qr&&typeof Qr.onCommitFiberUnmount=="function")try{Qr.onCommitFiberUnmount(Bi,I)}catch{}switch(I.tag){case 5:ml||Xx(I,x);case 6:if(ye){var F=Da,W=$f;Da=null,Lh(b,x,I),Da=F,$f=W,Da!==null&&($f?ut(Da,I.stateNode):it(Da,I.stateNode))}else Lh(b,x,I);break;case 18:ye&&Da!==null&&($f?Rn(Da,I.stateNode):nt(Da,I.stateNode));break;case 4:ye?(F=Da,W=$f,Da=I.stateNode.containerInfo,$f=!0,Lh(b,x,I),Da=F,$f=W):(_e&&(F=I.stateNode.containerInfo,W=Kt(F),zn(F,W)),Lh(b,x,I));break;case 0:case 11:case 14:case 15:if(!ml&&(F=I.updateQueue,F!==null&&(F=F.lastEffect,F!==null))){W=F=F.next;do{var Q=W,fe=Q.destroy;Q=Q.tag,fe!==void 0&&(Q&2||Q&4)&&Dj(I,x,fe),W=W.next}while(W!==F)}Lh(b,x,I);break;case 1:if(!ml&&(Xx(I,x),F=I.stateNode,typeof F.componentWillUnmount=="function"))try{F.props=I.memoizedProps,F.state=I.memoizedState,F.componentWillUnmount()}catch(De){To(I,x,De)}Lh(b,x,I);break;case 21:Lh(b,x,I);break;case 22:I.mode&1?(ml=(F=ml)||I.memoizedState!==null,Lh(b,x,I),ml=F):Lh(b,x,I);break;default:Lh(b,x,I)}}function $re(b){var x=b.updateQueue;if(x!==null){b.updateQueue=null;var I=b.stateNode;I===null&&(I=b.stateNode=new IVe),x.forEach(function(F){var W=VVe.bind(null,b,F);I.has(F)||(I.add(F),F.then(W,W))})}}function Tf(b,x){var I=x.deletions;if(I!==null)for(var F=0;F<I.length;F++){var W=I[F];try{var Q=b,fe=x;if(ye){var De=fe;e:for(;De!==null;){switch(De.tag){case 5:Da=De.stateNode,$f=!1;break e;case 3:Da=De.stateNode.containerInfo,$f=!0;break e;case 4:Da=De.stateNode.containerInfo,$f=!0;break e}De=De.return}if(Da===null)throw Error(s(160));Fj(Q,fe,W),Da=null,$f=!1}else Fj(Q,fe,W);var Ye=W.alternate;Ye!==null&&(Ye.return=null),W.return=null}catch(pt){To(W,x,pt)}}if(x.subtreeFlags&12854)for(x=x.child;x!==null;)Tre(x,b),x=x.sibling}function Tre(b,x){var I=b.alternate,F=b.flags;switch(b.tag){case 0:case 11:case 14:case 15:if(Tf(x,b),Ah(b),F&4){try{sE(3,b,b.return),a6(3,b)}catch(It){To(b,b.return,It)}try{sE(5,b,b.return)}catch(It){To(b,b.return,It)}}break;case 1:Tf(x,b),Ah(b),F&512&&I!==null&&Xx(I,I.return);break;case 5:if(Tf(x,b),Ah(b),F&512&&I!==null&&Xx(I,I.return),ye){if(b.flags&32){var W=b.stateNode;try{vt(W)}catch(It){To(b,b.return,It)}}if(F&4&&(W=b.stateNode,W!=null)){var Q=b.memoizedProps;if(I=I!==null?I.memoizedProps:Q,F=b.type,x=b.updateQueue,b.updateQueue=null,x!==null)try{Ie(W,x,F,I,Q,b)}catch(It){To(b,b.return,It)}}}break;case 6:if(Tf(x,b),Ah(b),F&4&&ye){if(b.stateNode===null)throw Error(s(162));W=b.stateNode,Q=b.memoizedProps,I=I!==null?I.memoizedProps:Q;try{Ct(W,I,Q)}catch(It){To(b,b.return,It)}}break;case 3:if(Tf(x,b),Ah(b),F&4){if(ye&&$e&&I!==null&&I.memoizedState.isDehydrated)try{ke(x.containerInfo)}catch(It){To(b,b.return,It)}if(_e){W=x.containerInfo,Q=x.pendingChildren;try{zn(W,Q)}catch(It){To(b,b.return,It)}}}break;case 4:if(Tf(x,b),Ah(b),F&4&&_e){Q=b.stateNode,W=Q.containerInfo,Q=Q.pendingChildren;try{zn(W,Q)}catch(It){To(b,b.return,It)}}break;case 13:Tf(x,b),Ah(b),W=b.child,W.flags&8192&&(Q=W.memoizedState!==null,W.stateNode.isHidden=Q,!Q||W.alternate!==null&&W.alternate.memoizedState!==null||(Kj=An())),F&4&&$re(b);break;case 22:var fe=I!==null&&I.memoizedState!==null;if(b.mode&1?(ml=(I=ml)||fe,Tf(x,b),ml=I):Tf(x,b),Ah(b),F&8192){if(I=b.memoizedState!==null,(b.stateNode.isHidden=I)&&!fe&&b.mode&1)for(Ht=b,F=b.child;F!==null;){for(x=Ht=F;Ht!==null;){fe=Ht;var De=fe.child;switch(fe.tag){case 0:case 11:case 14:case 15:sE(4,fe,fe.return);break;case 1:Xx(fe,fe.return);var Ye=fe.stateNode;if(typeof Ye.componentWillUnmount=="function"){var pt=fe,qt=fe.return;try{var Xn=pt;Ye.props=Xn.memoizedProps,Ye.state=Xn.memoizedState,Ye.componentWillUnmount()}catch(It){To(pt,qt,It)}}break;case 5:Xx(fe,fe.return);break;case 22:if(fe.memoizedState!==null){Are(x);continue}}De!==null?(De.return=fe,Ht=De):Are(x)}F=F.sibling}if(ye){e:if(F=null,ye)for(x=b;;){if(x.tag===5){if(F===null){F=x;try{W=x.stateNode,I?Mn(W):Qt(x.stateNode,x.memoizedProps)}catch(It){To(b,b.return,It)}}}else if(x.tag===6){if(F===null)try{Q=x.stateNode,I?Kn(Q):on(Q,x.memoizedProps)}catch(It){To(b,b.return,It)}}else if((x.tag!==22&&x.tag!==23||x.memoizedState===null||x===b)&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===b)break e;for(;x.sibling===null;){if(x.return===null||x.return===b)break e;F===x&&(F=null),x=x.return}F===x&&(F=null),x.sibling.return=x.return,x=x.sibling}}}break;case 19:Tf(x,b),Ah(b),F&4&&$re(b);break;case 21:break;default:Tf(x,b),Ah(b)}}function Ah(b){var x=b.flags;if(x&2){try{if(ye){e:{for(var I=b.return;I!==null;){if(kre(I)){var F=I;break e}I=I.return}throw Error(s(160))}switch(F.tag){case 5:var W=F.stateNode;F.flags&32&&(vt(W),F.flags&=-33);var Q=Pre(b);Nj(b,Q,W);break;case 3:case 4:var fe=F.stateNode.containerInfo,De=Pre(b);jj(b,De,fe);break;default:throw Error(s(161))}}}catch(Ye){To(b,b.return,Ye)}b.flags&=-3}x&4096&&(b.flags&=-4097)}function DVe(b,x,I){Ht=b,Mre(b)}function Mre(b,x,I){for(var F=(b.mode&1)!==0;Ht!==null;){var W=Ht,Q=W.child;if(W.tag===22&&F){var fe=W.memoizedState!==null||s6;if(!fe){var De=W.alternate,Ye=De!==null&&De.memoizedState!==null||ml;De=s6;var pt=ml;if(s6=fe,(ml=Ye)&&!pt)for(Ht=W;Ht!==null;)fe=Ht,Ye=fe.child,fe.tag===22&&fe.memoizedState!==null?Ire(W):Ye!==null?(Ye.return=fe,Ht=Ye):Ire(W);for(;Q!==null;)Ht=Q,Mre(Q),Q=Q.sibling;Ht=W,s6=De,ml=pt}Lre(b)}else W.subtreeFlags&8772&&Q!==null?(Q.return=W,Ht=Q):Lre(b)}}function Lre(b){for(;Ht!==null;){var x=Ht;if(x.flags&8772){var I=x.alternate;try{if(x.flags&8772)switch(x.tag){case 0:case 11:case 15:ml||a6(5,x);break;case 1:var F=x.stateNode;if(x.flags&4&&!ml)if(I===null)F.componentDidMount();else{var W=x.elementType===x.type?I.memoizedProps:Hi(x.type,I.memoizedProps);F.componentDidUpdate(W,I.memoizedState,F.__reactInternalSnapshotBeforeUpdate)}var Q=x.updateQueue;Q!==null&&E1(x,Q,F);break;case 3:var fe=x.updateQueue;if(fe!==null){if(I=null,x.child!==null)switch(x.child.tag){case 5:I=B(x.child.stateNode);break;case 1:I=x.child.stateNode}E1(x,fe,I)}break;case 5:var De=x.stateNode;I===null&&x.flags&4&&Et(De,x.type,x.memoizedProps,x);break;case 6:break;case 4:break;case 12:break;case 13:if($e&&x.memoizedState===null){var Ye=x.alternate;if(Ye!==null){var pt=Ye.memoizedState;if(pt!==null){var qt=pt.dehydrated;qt!==null&&rt(qt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}ml||x.flags&512&&Oj(x)}catch(Xn){To(x,x.return,Xn)}}if(x===b){Ht=null;break}if(I=x.sibling,I!==null){I.return=x.return,Ht=I;break}Ht=x.return}}function Are(b){for(;Ht!==null;){var x=Ht;if(x===b){Ht=null;break}var I=x.sibling;if(I!==null){I.return=x.return,Ht=I;break}Ht=x.return}}function Ire(b){for(;Ht!==null;){var x=Ht;try{switch(x.tag){case 0:case 11:case 15:var I=x.return;try{a6(4,x)}catch(Ye){To(x,I,Ye)}break;case 1:var F=x.stateNode;if(typeof F.componentDidMount=="function"){var W=x.return;try{F.componentDidMount()}catch(Ye){To(x,W,Ye)}}var Q=x.return;try{Oj(x)}catch(Ye){To(x,Q,Ye)}break;case 5:var fe=x.return;try{Oj(x)}catch(Ye){To(x,fe,Ye)}}}catch(Ye){To(x,x.return,Ye)}if(x===b){Ht=null;break}var De=x.sibling;if(De!==null){De.return=x.return,Ht=De;break}Ht=x.return}}var l6=0,u6=1,c6=2,d6=3,f6=4;if(typeof Symbol=="function"&&Symbol.for){var aE=Symbol.for;l6=aE("selector.component"),u6=aE("selector.has_pseudo_class"),c6=aE("selector.role"),d6=aE("selector.test_id"),f6=aE("selector.text")}function Bj(b){var x=He(b);if(x!=null){if(typeof x.memoizedProps["data-testname"]!="string")throw Error(s(364));return x}if(b=Bt(b),b===null)throw Error(s(362));return b.stateNode.current}function zj(b,x){switch(x.$$typeof){case l6:if(b.type===x.value)return!0;break;case u6:e:{x=x.value,b=[b,0];for(var I=0;I<b.length;){var F=b[I++],W=b[I++],Q=x[W];if(F.tag!==5||!Xt(F)){for(;Q!=null&&zj(F,Q);)W++,Q=x[W];if(W===x.length){x=!0;break e}else for(F=F.child;F!==null;)b.push(F,W),F=F.sibling}}x=!1}return x;case c6:if(b.tag===5&&Qe(b.stateNode,x.value))return!0;break;case f6:if((b.tag===5||b.tag===6)&&(b=Ft(b),b!==null&&0<=b.indexOf(x.value)))return!0;break;case d6:if(b.tag===5&&(b=b.memoizedProps["data-testname"],typeof b=="string"&&b.toLowerCase()===x.value.toLowerCase()))return!0;break;default:throw Error(s(365))}return!1}function Hj(b){switch(b.$$typeof){case l6:return"<"+(R(b.value)||"Unknown")+">";case u6:return":has("+(Hj(b)||"")+")";case c6:return'[role="'+b.value+'"]';case f6:return'"'+b.value+'"';case d6:return'[data-testname="'+b.value+'"]';default:throw Error(s(365))}}function Rre(b,x){var I=[];b=[b,0];for(var F=0;F<b.length;){var W=b[F++],Q=b[F++],fe=x[Q];if(W.tag!==5||!Xt(W)){for(;fe!=null&&zj(W,fe);)Q++,fe=x[Q];if(Q===x.length)I.push(W);else for(W=W.child;W!==null;)b.push(W,Q),W=W.sibling}}return I}function Vj(b,x){if(!Yt)throw Error(s(363));b=Bj(b),b=Rre(b,x),x=[],b=Array.from(b);for(var I=0;I<b.length;){var F=b[I++];if(F.tag===5)Xt(F)||x.push(F.stateNode);else for(F=F.child;F!==null;)b.push(F),F=F.sibling}return x}var OVe=Math.ceil,h6=a.ReactCurrentDispatcher,Uj=a.ReactCurrentOwner,us=a.ReactCurrentBatchConfig,Mr=0,ua=null,Cs=null,Oa=0,Sc=0,Qx=zs(0),Ks=0,lE=null,T1=0,p6=0,Wj=0,uE=null,Mu=null,Kj=0,qj=1/0,mm=null;function Jx(){qj=An()+500}var m6=!1,Gj=null,_v=null,g6=!1,Cv=null,v6=0,cE=0,Zj=null,y6=-1,b6=0;function gl(){return Mr&6?An():y6!==-1?y6:y6=An()}function Ev(b){return b.mode&1?Mr&2&&Oa!==0?Oa&-Oa:cm.transition!==null?(b6===0&&(b6=xf()),b6):(b=nr,b!==0?b:ot()):1}function Cd(b,x,I,F){if(50<cE)throw cE=0,Zj=null,Error(s(185));sa(b,I,F),(!(Mr&2)||b!==ua)&&(b===ua&&(!(Mr&2)&&(p6|=I),Ks===4&&kv(b,Oa)),Lu(b,F),I===1&&Mr===0&&!(x.mode&1)&&(Jx(),We&&xr()))}function Lu(b,x){var I=b.callbackNode;oa(b,x);var F=Fl(b,b===ua?Oa:0);if(F===0)I!==null&&rr(I),b.callbackNode=null,b.callbackPriority=0;else if(x=F&-F,b.callbackPriority!==x){if(I!=null&&rr(I),x===1)b.tag===0?zt(Ore.bind(null,b)):Yn(Ore.bind(null,b)),gt?rn(function(){!(Mr&6)&&xr()}):xs(vd,xr),I=null;else{switch(fn(F)){case 1:I=vd;break;case 4:I=al;break;case 16:I=yd;break;case 536870912:I=zl;break;default:I=yd}I=Wre(I,Dre.bind(null,b))}b.callbackPriority=x,b.callbackNode=I}}function Dre(b,x){if(y6=-1,b6=0,Mr&6)throw Error(s(327));var I=b.callbackNode;if(A1()&&b.callbackNode!==I)return null;var F=Fl(b,b===ua?Oa:0);if(F===0)return null;if(F&30||F&b.expiredLanes||x)x=w6(b,F);else{x=F;var W=Mr;Mr|=2;var Q=Fre();(ua!==b||Oa!==x)&&(mm=null,Jx(),M1(b,x));do try{FVe();break}catch(De){Nre(b,De)}while(!0);yv(),h6.current=Q,Mr=W,Cs!==null?x=0:(ua=null,Oa=0,x=Ks)}if(x!==0){if(x===2&&(W=sl(b),W!==0&&(F=W,x=Yj(b,W))),x===1)throw I=lE,M1(b,0),kv(b,F),Lu(b,An()),I;if(x===6)kv(b,F);else{if(W=b.current.alternate,!(F&30)&&!jVe(W)&&(x=w6(b,F),x===2&&(Q=sl(b),Q!==0&&(F=Q,x=Yj(b,Q))),x===1))throw I=lE,M1(b,0),kv(b,F),Lu(b,An()),I;switch(b.finishedWork=W,b.finishedLanes=F,x){case 0:case 1:throw Error(s(345));case 2:L1(b,Mu,mm);break;case 3:if(kv(b,F),(F&130023424)===F&&(x=Kj+500-An(),10<x)){if(Fl(b,0)!==0)break;if(W=b.suspendedLanes,(W&F)!==F){gl(),b.pingedLanes|=b.suspendedLanes&W;break}b.timeoutHandle=we(L1.bind(null,b,Mu,mm),x);break}L1(b,Mu,mm);break;case 4:if(kv(b,F),(F&4194240)===F)break;for(x=b.eventTimes,W=-1;0<F;){var fe=31-ws(F);Q=1<<fe,fe=x[fe],fe>W&&(W=fe),F&=~Q}if(F=W,F=An()-F,F=(120>F?120:480>F?480:1080>F?1080:1920>F?1920:3e3>F?3e3:4320>F?4320:1960*OVe(F/1960))-F,10<F){b.timeoutHandle=we(L1.bind(null,b,Mu,mm),F);break}L1(b,Mu,mm);break;case 5:L1(b,Mu,mm);break;default:throw Error(s(329))}}}return Lu(b,An()),b.callbackNode===I?Dre.bind(null,b):null}function Yj(b,x){var I=uE;return b.current.memoizedState.isDehydrated&&(M1(b,x).flags|=256),b=w6(b,x),b!==2&&(x=Mu,Mu=I,x!==null&&Xj(x)),b}function Xj(b){Mu===null?Mu=b:Mu.push.apply(Mu,b)}function jVe(b){for(var x=b;;){if(x.flags&16384){var I=x.updateQueue;if(I!==null&&(I=I.stores,I!==null))for(var F=0;F<I.length;F++){var W=I[F],Q=W.getSnapshot;W=W.value;try{if(!ve(Q(),W))return!1}catch{return!1}}}if(I=x.child,x.subtreeFlags&16384&&I!==null)I.return=x,x=I;else{if(x===b)break;for(;x.sibling===null;){if(x.return===null||x.return===b)return!0;x=x.return}x.sibling.return=x.return,x=x.sibling}}return!0}function kv(b,x){for(x&=~Wj,x&=~p6,b.suspendedLanes|=x,b.pingedLanes&=~x,b=b.expirationTimes;0<x;){var I=31-ws(x),F=1<<I;b[I]=-1,x&=~F}}function Ore(b){if(Mr&6)throw Error(s(327));A1();var x=Fl(b,0);if(!(x&1))return Lu(b,An()),null;var I=w6(b,x);if(b.tag!==0&&I===2){var F=sl(b);F!==0&&(x=F,I=Yj(b,F))}if(I===1)throw I=lE,M1(b,0),kv(b,x),Lu(b,An()),I;if(I===6)throw Error(s(345));return b.finishedWork=b.current.alternate,b.finishedLanes=x,L1(b,Mu,mm),Lu(b,An()),null}function jre(b){Cv!==null&&Cv.tag===0&&!(Mr&6)&&A1();var x=Mr;Mr|=1;var I=us.transition,F=nr;try{if(us.transition=null,nr=1,b)return b()}finally{nr=F,us.transition=I,Mr=x,!(Mr&6)&&xr()}}function Qj(){Sc=Qx.current,br(Qx)}function M1(b,x){b.finishedWork=null,b.finishedLanes=0;var I=b.timeoutHandle;if(I!==Be&&(b.timeoutHandle=Be,Me(I)),Cs!==null)for(I=Cs.return;I!==null;){var F=I;switch(vv(F),F.tag){case 1:F=F.type.childContextTypes,F!=null&&fi();break;case 3:pe(),br(ao),br(so),xt();break;case 5:Le(F);break;case 4:pe();break;case 13:br(je);break;case 19:br(je);break;case 10:Ta(F.type._context);break;case 22:case 23:Qj()}I=I.return}if(ua=b,Cs=b=Pv(b.current,null),Oa=Sc=x,Ks=0,lE=null,Wj=p6=T1=0,Mu=uE=null,uo!==null){for(x=0;x<uo.length;x++)if(I=uo[x],F=I.interleaved,F!==null){I.interleaved=null;var W=F.next,Q=I.pending;if(Q!==null){var fe=Q.next;Q.next=W,F.next=fe}I.pending=F}uo=null}return b}function Nre(b,x){do{var I=Cs;try{if(yv(),At.current=st,Pf){for(var F=kn.memoizedState;F!==null;){var W=F.queue;W!==null&&(W.pending=null),F=F.next}Pf=!1}if(Nn=0,ii=Jr=kn=null,fl=!1,Th=0,Uj.current=null,I===null||I.return===null){Ks=1,lE=x,Cs=null;break}e:{var Q=b,fe=I.return,De=I,Ye=x;if(x=Oa,De.flags|=32768,Ye!==null&&typeof Ye=="object"&&typeof Ye.then=="function"){var pt=Ye,qt=De,Xn=qt.tag;if(!(qt.mode&1)&&(Xn===0||Xn===11||Xn===15)){var It=qt.alternate;It?(qt.updateQueue=It.updateQueue,qt.memoizedState=It.memoizedState,qt.lanes=It.lanes):(qt.updateQueue=null,qt.memoizedState=null)}var co=e6(fe);if(co!==null){co.flags&=-257,t6(co,fe,De,Q,x),co.mode&1&&J5(Q,pt,x),x=co,Ye=pt;var Vi=x.updateQueue;if(Vi===null){var Au=new Set;Au.add(Ye),x.updateQueue=Au}else Vi.add(Ye);break e}else{if(!(x&1)){J5(Q,pt,x),Jj();break e}Ye=Error(s(426))}}else if(Tr&&De.mode&1){var gm=e6(fe);if(gm!==null){!(gm.flags&65536)&&(gm.flags|=256),t6(gm,fe,De,Q,x),Ph(Sv(Ye,De));break e}}Q=Ye=Sv(Ye,De),Ks!==4&&(Ks=2),uE===null?uE=[Q]:uE.push(Q),Q=fe;do{switch(Q.tag){case 3:Q.flags|=65536,x&=-x,Q.lanes|=x;var qe=No(Q,Ye,x);Vx(Q,qe);break e;case 1:De=Ye;var Oe=Q.type,Je=Q.stateNode;if(!(Q.flags&128)&&(typeof Oe.getDerivedStateFromError=="function"||Je!==null&&typeof Je.componentDidCatch=="function"&&(_v===null||!_v.has(Je)))){Q.flags|=65536,x&=-x,Q.lanes|=x;var Rt=$1(Q,De,x);Vx(Q,Rt);break e}}Q=Q.return}while(Q!==null)}zre(I)}catch(xn){x=xn,Cs===I&&I!==null&&(Cs=I=I.return);continue}break}while(!0)}function Fre(){var b=h6.current;return h6.current=st,b===null?st:b}function Jj(){(Ks===0||Ks===3||Ks===2)&&(Ks=4),ua===null||!(T1&268435455)&&!(p6&268435455)||kv(ua,Oa)}function w6(b,x){var I=Mr;Mr|=2;var F=Fre();(ua!==b||Oa!==x)&&(mm=null,M1(b,x));do try{NVe();break}catch(W){Nre(b,W)}while(!0);if(yv(),Mr=I,h6.current=F,Cs!==null)throw Error(s(261));return ua=null,Oa=0,Ks}function NVe(){for(;Cs!==null;)Bre(Cs)}function FVe(){for(;Cs!==null&&!gd();)Bre(Cs)}function Bre(b){var x=Ure(b.alternate,b,Sc);b.memoizedProps=b.pendingProps,x===null?zre(b):Cs=x,Uj.current=null}function zre(b){var x=b;do{var I=x.alternate;if(b=x.return,x.flags&32768){if(I=AVe(I,x),I!==null){I.flags&=32767,Cs=I;return}if(b!==null)b.flags|=32768,b.subtreeFlags=0,b.deletions=null;else{Ks=6,Cs=null;return}}else if(I=LVe(I,x,Sc),I!==null){Cs=I;return}if(x=x.sibling,x!==null){Cs=x;return}Cs=x=b}while(x!==null);Ks===0&&(Ks=5)}function L1(b,x,I){var F=nr,W=us.transition;try{us.transition=null,nr=1,BVe(b,x,I,F)}finally{us.transition=W,nr=F}return null}function BVe(b,x,I,F){do A1();while(Cv!==null);if(Mr&6)throw Error(s(327));I=b.finishedWork;var W=b.finishedLanes;if(I===null)return null;if(b.finishedWork=null,b.finishedLanes=0,I===b.current)throw Error(s(177));b.callbackNode=null,b.callbackPriority=0;var Q=I.lanes|I.childLanes;if(md(b,Q),b===ua&&(Cs=ua=null,Oa=0),!(I.subtreeFlags&2064)&&!(I.flags&2064)||g6||(g6=!0,Wre(yd,function(){return A1(),null})),Q=(I.flags&15990)!==0,I.subtreeFlags&15990||Q){Q=us.transition,us.transition=null;var fe=nr;nr=1;var De=Mr;Mr|=4,Uj.current=null,RVe(b,I),Tre(I,b),J(b.containerInfo),b.current=I,DVe(I),Hs(),Mr=De,nr=fe,us.transition=Q}else b.current=I;if(g6&&(g6=!1,Cv=b,v6=W),Q=b.pendingLanes,Q===0&&(_v=null),Cu(I.stateNode),Lu(b,An()),x!==null)for(F=b.onRecoverableError,I=0;I<x.length;I++)W=x[I],F(W.value,{componentStack:W.stack,digest:W.digest});if(m6)throw m6=!1,b=Gj,Gj=null,b;return v6&1&&b.tag!==0&&A1(),Q=b.pendingLanes,Q&1?b===Zj?cE++:(cE=0,Zj=b):cE=0,xr(),null}function A1(){if(Cv!==null){var b=fn(v6),x=us.transition,I=nr;try{if(us.transition=null,nr=16>b?16:b,Cv===null)var F=!1;else{if(b=Cv,Cv=null,v6=0,Mr&6)throw Error(s(331));var W=Mr;for(Mr|=4,Ht=b.current;Ht!==null;){var Q=Ht,fe=Q.child;if(Ht.flags&16){var De=Q.deletions;if(De!==null){for(var Ye=0;Ye<De.length;Ye++){var pt=De[Ye];for(Ht=pt;Ht!==null;){var qt=Ht;switch(qt.tag){case 0:case 11:case 15:sE(8,qt,Q)}var Xn=qt.child;if(Xn!==null)Xn.return=qt,Ht=Xn;else for(;Ht!==null;){qt=Ht;var It=qt.sibling,co=qt.return;if(Ere(qt),qt===pt){Ht=null;break}if(It!==null){It.return=co,Ht=It;break}Ht=co}}}var Vi=Q.alternate;if(Vi!==null){var Au=Vi.child;if(Au!==null){Vi.child=null;do{var gm=Au.sibling;Au.sibling=null,Au=gm}while(Au!==null)}}Ht=Q}}if(Q.subtreeFlags&2064&&fe!==null)fe.return=Q,Ht=fe;else e:for(;Ht!==null;){if(Q=Ht,Q.flags&2048)switch(Q.tag){case 0:case 11:case 15:sE(9,Q,Q.return)}var qe=Q.sibling;if(qe!==null){qe.return=Q.return,Ht=qe;break e}Ht=Q.return}}var Oe=b.current;for(Ht=Oe;Ht!==null;){fe=Ht;var Je=fe.child;if(fe.subtreeFlags&2064&&Je!==null)Je.return=fe,Ht=Je;else e:for(fe=Oe;Ht!==null;){if(De=Ht,De.flags&2048)try{switch(De.tag){case 0:case 11:case 15:a6(9,De)}}catch(xn){To(De,De.return,xn)}if(De===fe){Ht=null;break e}var Rt=De.sibling;if(Rt!==null){Rt.return=De.return,Ht=Rt;break e}Ht=De.return}}if(Mr=W,xr(),Qr&&typeof Qr.onPostCommitFiberRoot=="function")try{Qr.onPostCommitFiberRoot(Bi,b)}catch{}F=!0}return F}finally{nr=I,us.transition=x}}return!1}function Hre(b,x,I){x=Sv(I,x),x=No(b,x,1),b=xd(b,x,1),x=gl(),b!==null&&(sa(b,1,x),Lu(b,x))}function To(b,x,I){if(b.tag===3)Hre(b,b,I);else for(;x!==null;){if(x.tag===3){Hre(x,b,I);break}else if(x.tag===1){var F=x.stateNode;if(typeof x.type.getDerivedStateFromError=="function"||typeof F.componentDidCatch=="function"&&(_v===null||!_v.has(F))){b=Sv(I,b),b=$1(x,b,1),x=xd(x,b,1),b=gl(),x!==null&&(sa(x,1,b),Lu(x,b));break}}x=x.return}}function zVe(b,x,I){var F=b.pingCache;F!==null&&F.delete(x),x=gl(),b.pingedLanes|=b.suspendedLanes&I,ua===b&&(Oa&I)===I&&(Ks===4||Ks===3&&(Oa&130023424)===Oa&&500>An()-Kj?M1(b,0):Wj|=I),Lu(b,x)}function Vre(b,x){x===0&&(b.mode&1?(x=wr,wr<<=1,!(wr&130023424)&&(wr=4194304)):x=1);var I=gl();b=Hl(b,x),b!==null&&(sa(b,x,I),Lu(b,I))}function HVe(b){var x=b.memoizedState,I=0;x!==null&&(I=x.retryLane),Vre(b,I)}function VVe(b,x){var I=0;switch(b.tag){case 13:var F=b.stateNode,W=b.memoizedState;W!==null&&(I=W.retryLane);break;case 19:F=b.stateNode;break;default:throw Error(s(314))}F!==null&&F.delete(x),Vre(b,I)}var Ure;Ure=function(b,x,I){if(b!==null)if(b.memoizedProps!==x.pendingProps||ao.current)Ia=!0;else{if(!(b.lanes&I)&&!(x.flags&128))return Ia=!1,MVe(b,x,I);Ia=!!(b.flags&131072)}else Ia=!1,Tr&&x.flags&1048576&&gv(x,Zo,x.index);switch(x.lanes=0,x.tag){case 2:var F=x.type;r6(b,x),b=x.pendingProps;var W=Pa(x,so.current);Ws(x,I),W=Ux(null,x,F,b,W,I);var Q=K3();return x.flags|=1,typeof W=="object"&&W!==null&&typeof W.render=="function"&&W.$$typeof===void 0?(x.tag=1,x.memoizedState=null,x.updateQueue=null,en(F)?(Q=!0,ko(x)):Q=!1,x.memoizedState=W.state!==null&&W.state!==void 0?W.state:null,$h(x),W.updater=La,x.stateNode=W,W._reactInternals=x,eE(x,F,b,I),x=Mj(null,x,F,!0,Q,I)):(x.tag=0,Tr&&Q&&ir(x),Ra(null,x,W,I),x=x.child),x;case 16:F=x.elementType;e:{switch(r6(b,x),b=x.pendingProps,W=F._init,F=W(F._payload),x.type=F,W=x.tag=WVe(F),b=Hi(F,b),W){case 0:x=Tj(null,x,F,b,I);break e;case 1:x=gre(null,x,F,b,I);break e;case 11:x=dre(null,x,F,b,I);break e;case 14:x=fre(null,x,F,Hi(F.type,b),I);break e}throw Error(s(306,F,""))}return x;case 0:return F=x.type,W=x.pendingProps,W=x.elementType===F?W:Hi(F,W),Tj(b,x,F,W,I);case 1:return F=x.type,W=x.pendingProps,W=x.elementType===F?W:Hi(F,W),gre(b,x,F,W,I);case 3:e:{if(vre(x),b===null)throw Error(s(387));F=x.pendingProps,Q=x.memoizedState,W=Q.element,Pu(b,x),dl(x,F,null,I);var fe=x.memoizedState;if(F=fe.element,$e&&Q.isDehydrated)if(Q={element:F,isDehydrated:!1,cache:fe.cache,pendingSuspenseBoundaries:fe.pendingSuspenseBoundaries,transitions:fe.transitions},x.updateQueue.baseState=Q,x.memoizedState=Q,x.flags&256){W=Sv(Error(s(423)),x),x=yre(b,x,F,I,W);break e}else if(F!==W){W=Sv(Error(s(424)),x),x=yre(b,x,F,I,W);break e}else for($e&&(Po=Fs(x.stateNode.containerInfo),Vs=x,Tr=!0,aa=null,bd=!1),I=_f(x,null,F,I),x.child=I;I;)I.flags=I.flags&-3|4096,I=I.sibling;else{if(Kr(),F===W){x=pm(b,x,I);break e}Ra(b,x,F,I)}x=x.child}return x;case 5:return xe(x),b===null&&Eh(x),F=x.type,W=x.pendingProps,Q=b!==null?b.memoizedProps:null,fe=W.children,ue(F,W)?fe=null:Q!==null&&ue(F,Q)&&(x.flags|=32),mre(b,x),Ra(b,x,fe,I),x.child;case 6:return b===null&&Eh(x),null;case 13:return bre(b,x,I);case 4:return ie(x,x.stateNode.containerInfo),F=x.pendingProps,b===null?x.child=Sf(x,null,F,I):Ra(b,x,F,I),x.child;case 11:return F=x.type,W=x.pendingProps,W=x.elementType===F?W:Hi(F,W),dre(b,x,F,W,I);case 7:return Ra(b,x,x.pendingProps,I),x.child;case 8:return Ra(b,x,x.pendingProps.children,I),x.child;case 12:return Ra(b,x,x.pendingProps.children,I),x.child;case 10:e:{if(F=x.type._context,W=x.pendingProps,Q=x.memoizedProps,fe=W.value,$a(x,F,fe),Q!==null)if(ve(Q.value,fe)){if(Q.children===W.children&&!ao.current){x=pm(b,x,I);break e}}else for(Q=x.child,Q!==null&&(Q.return=x);Q!==null;){var De=Q.dependencies;if(De!==null){fe=Q.child;for(var Ye=De.firstContext;Ye!==null;){if(Ye.context===F){if(Q.tag===1){Ye=Ma(-1,I&-I),Ye.tag=2;var pt=Q.updateQueue;if(pt!==null){pt=pt.shared;var qt=pt.pending;qt===null?Ye.next=Ye:(Ye.next=qt.next,qt.next=Ye),pt.pending=Ye}}Q.lanes|=I,Ye=Q.alternate,Ye!==null&&(Ye.lanes|=I),Ef(Q.return,I,x),De.lanes|=I;break}Ye=Ye.next}}else if(Q.tag===10)fe=Q.type===x.type?null:Q.child;else if(Q.tag===18){if(fe=Q.return,fe===null)throw Error(s(341));fe.lanes|=I,De=fe.alternate,De!==null&&(De.lanes|=I),Ef(fe,I,x),fe=Q.sibling}else fe=Q.child;if(fe!==null)fe.return=Q;else for(fe=Q;fe!==null;){if(fe===x){fe=null;break}if(Q=fe.sibling,Q!==null){Q.return=fe.return,fe=Q;break}fe=fe.return}Q=fe}Ra(b,x,W.children,I),x=x.child}return x;case 9:return W=x.type,F=x.pendingProps.children,Ws(x,I),W=la(W),F=F(W),x.flags|=1,Ra(b,x,F,I),x.child;case 14:return F=x.type,W=Hi(F,x.pendingProps),W=Hi(F.type,W),fre(b,x,F,W,I);case 15:return hre(b,x,x.type,x.pendingProps,I);case 17:return F=x.type,W=x.pendingProps,W=x.elementType===F?W:Hi(F,W),r6(b,x),x.tag=1,en(F)?(b=!0,ko(x)):b=!1,Ws(x,I),hm(x,F,W),eE(x,F,W,I),Mj(null,x,F,!0,b,I);case 19:return xre(b,x,I);case 22:return pre(b,x,I)}throw Error(s(156,x.tag))};function Wre(b,x){return xs(b,x)}function UVe(b,x,I,F){this.tag=b,this.key=I,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=x,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=F,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ed(b,x,I,F){return new UVe(b,x,I,F)}function eN(b){return b=b.prototype,!(!b||!b.isReactComponent)}function WVe(b){if(typeof b=="function")return eN(b)?1:0;if(b!=null){if(b=b.$$typeof,b===y)return 11;if(b===_)return 14}return 2}function Pv(b,x){var I=b.alternate;return I===null?(I=Ed(b.tag,x,b.key,b.mode),I.elementType=b.elementType,I.type=b.type,I.stateNode=b.stateNode,I.alternate=b,b.alternate=I):(I.pendingProps=x,I.type=b.type,I.flags=0,I.subtreeFlags=0,I.deletions=null),I.flags=b.flags&14680064,I.childLanes=b.childLanes,I.lanes=b.lanes,I.child=b.child,I.memoizedProps=b.memoizedProps,I.memoizedState=b.memoizedState,I.updateQueue=b.updateQueue,x=b.dependencies,I.dependencies=x===null?null:{lanes:x.lanes,firstContext:x.firstContext},I.sibling=b.sibling,I.index=b.index,I.ref=b.ref,I}function x6(b,x,I,F,W,Q){var fe=2;if(F=b,typeof b=="function")eN(b)&&(fe=1);else if(typeof b=="string")fe=5;else e:switch(b){case c:return I1(I.children,W,Q,x);case f:fe=8,W|=8;break;case p:return b=Ed(12,I,x,W|2),b.elementType=p,b.lanes=Q,b;case S:return b=Ed(13,I,x,W),b.elementType=S,b.lanes=Q,b;case C:return b=Ed(19,I,x,W),b.elementType=C,b.lanes=Q,b;case w:return S6(I,W,Q,x);default:if(typeof b=="object"&&b!==null)switch(b.$$typeof){case g:fe=10;break e;case v:fe=9;break e;case y:fe=11;break e;case _:fe=14;break e;case k:fe=16,F=null;break e}throw Error(s(130,b==null?b:typeof b,""))}return x=Ed(fe,I,x,W),x.elementType=b,x.type=F,x.lanes=Q,x}function I1(b,x,I,F){return b=Ed(7,b,F,x),b.lanes=I,b}function S6(b,x,I,F){return b=Ed(22,b,F,x),b.elementType=w,b.lanes=I,b.stateNode={isHidden:!1},b}function tN(b,x,I){return b=Ed(6,b,null,x),b.lanes=I,b}function nN(b,x,I){return x=Ed(4,b.children!==null?b.children:[],b.key,x),x.lanes=I,x.stateNode={containerInfo:b.containerInfo,pendingChildren:null,implementation:b.implementation},x}function KVe(b,x,I,F,W){this.tag=x,this.containerInfo=b,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Be,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Bl(0),this.expirationTimes=Bl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bl(0),this.identifierPrefix=F,this.onRecoverableError=W,$e&&(this.mutableSourceEagerHydrationData=null)}function Kre(b,x,I,F,W,Q,fe,De,Ye){return b=new KVe(b,x,I,De,Ye),x===1?(x=1,Q===!0&&(x|=8)):x=0,Q=Ed(3,null,null,x),b.current=Q,Q.stateNode=b,Q.memoizedState={element:F,isDehydrated:I,cache:null,transitions:null,pendingSuspenseBoundaries:null},$h(Q),b}function qre(b){if(!b)return $r;b=b._reactInternals;e:{if(H(b)!==b||b.tag!==1)throw Error(s(170));var x=b;do{switch(x.tag){case 3:x=x.stateNode.context;break e;case 1:if(en(x.type)){x=x.stateNode.__reactInternalMemoizedMergedChildContext;break e}}x=x.return}while(x!==null);throw Error(s(171))}if(b.tag===1){var I=b.type;if(en(I))return Nl(b,I,x)}return x}function Gre(b){var x=b._reactInternals;if(x===void 0)throw typeof b.render=="function"?Error(s(188)):(b=Object.keys(b).join(","),Error(s(268,b)));return b=G(x),b===null?null:b.stateNode}function Zre(b,x){if(b=b.memoizedState,b!==null&&b.dehydrated!==null){var I=b.retryLane;b.retryLane=I!==0&&I<x?I:x}}function _6(b,x){Zre(b,x),(b=b.alternate)&&Zre(b,x)}function qVe(b){return b=G(b),b===null?null:b.stateNode}function GVe(){return null}return n.attemptContinuousHydration=function(b){if(b.tag===13){var x=Hl(b,134217728);if(x!==null){var I=gl();Cd(x,b,134217728,I)}_6(b,134217728)}},n.attemptDiscreteHydration=function(b){if(b.tag===13){var x=Hl(b,1);if(x!==null){var I=gl();Cd(x,b,1,I)}_6(b,1)}},n.attemptHydrationAtCurrentPriority=function(b){if(b.tag===13){var x=Ev(b),I=Hl(b,x);if(I!==null){var F=gl();Cd(I,b,x,F)}_6(b,x)}},n.attemptSynchronousHydration=function(b){switch(b.tag){case 3:var x=b.stateNode;if(x.current.memoizedState.isDehydrated){var I=_u(x.pendingLanes);I!==0&&(bc(x,I|1),Lu(x,An()),!(Mr&6)&&(Jx(),xr()))}break;case 13:jre(function(){var F=Hl(b,1);if(F!==null){var W=gl();Cd(F,b,1,W)}}),_6(b,1)}},n.batchedUpdates=function(b,x){var I=Mr;Mr|=1;try{return b(x)}finally{Mr=I,Mr===0&&(Jx(),We&&xr())}},n.createComponentSelector=function(b){return{$$typeof:l6,value:b}},n.createContainer=function(b,x,I,F,W,Q,fe){return Kre(b,x,!1,null,I,F,W,Q,fe)},n.createHasPseudoClassSelector=function(b){return{$$typeof:u6,value:b}},n.createHydrationContainer=function(b,x,I,F,W,Q,fe,De,Ye){return b=Kre(I,F,!0,b,W,Q,fe,De,Ye),b.context=qre(null),I=b.current,F=gl(),W=Ev(I),Q=Ma(F,W),Q.callback=x??null,xd(I,Q,W),b.current.lanes=W,sa(b,W,F),Lu(b,F),b},n.createPortal=function(b,x,I){var F=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:F==null?null:""+F,children:b,containerInfo:x,implementation:I}},n.createRoleSelector=function(b){return{$$typeof:c6,value:b}},n.createTestNameSelector=function(b){return{$$typeof:d6,value:b}},n.createTextSelector=function(b){return{$$typeof:f6,value:b}},n.deferredUpdates=function(b){var x=nr,I=us.transition;try{return us.transition=null,nr=16,b()}finally{nr=x,us.transition=I}},n.discreteUpdates=function(b,x,I,F,W){var Q=nr,fe=us.transition;try{return us.transition=null,nr=1,b(x,I,F,W)}finally{nr=Q,us.transition=fe,Mr===0&&Jx()}},n.findAllNodes=Vj,n.findBoundingRects=function(b,x){if(!Yt)throw Error(s(363));x=Vj(b,x),b=[];for(var I=0;I<x.length;I++)b.push(dn(x[I]));for(x=b.length-1;0<x;x--){I=b[x];for(var F=I.x,W=F+I.width,Q=I.y,fe=Q+I.height,De=x-1;0<=De;De--)if(x!==De){var Ye=b[De],pt=Ye.x,qt=pt+Ye.width,Xn=Ye.y,It=Xn+Ye.height;if(F>=pt&&Q>=Xn&&W<=qt&&fe<=It){b.splice(x,1);break}else if(F!==pt||I.width!==Ye.width||It<Q||Xn>fe){if(!(Q!==Xn||I.height!==Ye.height||qt<F||pt>W)){pt>F&&(Ye.width+=pt-F,Ye.x=F),qt<W&&(Ye.width=W-pt),b.splice(x,1);break}}else{Xn>Q&&(Ye.height+=Xn-Q,Ye.y=Q),It<fe&&(Ye.height=fe-Xn),b.splice(x,1);break}}}return b},n.findHostInstance=Gre,n.findHostInstanceWithNoPortals=function(b){return b=z(b),b=b!==null?X(b):null,b===null?null:b.stateNode},n.findHostInstanceWithWarning=function(b){return Gre(b)},n.flushControlled=function(b){var x=Mr;Mr|=1;var I=us.transition,F=nr;try{us.transition=null,nr=1,b()}finally{nr=F,us.transition=I,Mr=x,Mr===0&&(Jx(),xr())}},n.flushPassiveEffects=A1,n.flushSync=jre,n.focusWithin=function(b,x){if(!Yt)throw Error(s(363));for(b=Bj(b),x=Rre(b,x),x=Array.from(x),b=0;b<x.length;){var I=x[b++];if(!Xt(I)){if(I.tag===5&&Ce(I.stateNode))return!0;for(I=I.child;I!==null;)x.push(I),I=I.sibling}}return!1},n.getCurrentUpdatePriority=function(){return nr},n.getFindAllNodesFailureDescription=function(b,x){if(!Yt)throw Error(s(363));var I=0,F=[];b=[Bj(b),0];for(var W=0;W<b.length;){var Q=b[W++],fe=b[W++],De=x[fe];if((Q.tag!==5||!Xt(Q))&&(zj(Q,De)&&(F.push(Hj(De)),fe++,fe>I&&(I=fe)),fe<x.length))for(Q=Q.child;Q!==null;)b.push(Q,fe),Q=Q.sibling}if(I<x.length){for(b=[];I<x.length;I++)b.push(Hj(x[I]));return`findAllNodes was able to match part of the selector:
  `+(F.join(" > ")+`

No matching component was found for:
  `)+b.join(" > ")}return null},n.getPublicRootInstance=function(b){if(b=b.current,!b.child)return null;switch(b.child.tag){case 5:return B(b.child.stateNode);default:return b.child.stateNode}},n.injectIntoDevTools=function(b){if(b={bundleType:b.bundleType,version:b.version,rendererPackageName:b.rendererPackageName,rendererConfig:b.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:qVe,findFiberByHostInstance:b.findFiberByHostInstance||GVe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")b=!1;else{var x=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(x.isDisabled||!x.supportsFiber)b=!0;else{try{Bi=x.inject(b),Qr=x}catch{}b=!!x.checkDCE}}return b},n.isAlreadyRendering=function(){return!1},n.observeVisibleRects=function(b,x,I,F){if(!Yt)throw Error(s(363));b=Vj(b,x);var W=ze(b,I,F).disconnect;return{disconnect:function(){W()}}},n.registerMutableSourceForHydration=function(b,x){var I=x._getVersion;I=I(x._source),b.mutableSourceEagerHydrationData==null?b.mutableSourceEagerHydrationData=[x,I]:b.mutableSourceEagerHydrationData.push(x,I)},n.runWithPriority=function(b,x){var I=nr;try{return nr=b,x()}finally{nr=I}},n.shouldError=function(){return null},n.shouldSuspend=function(){return!1},n.updateContainer=function(b,x,I,F){var W=x.current,Q=gl(),fe=Ev(W);return I=qre(I),x.context===null?x.context=I:x.pendingContext=I,x=Ma(Q,fe),x.payload={element:b},F=F===void 0?null:F,F!==null&&(x.callback=F),b=xd(W,x,fe),b!==null&&(Cd(b,W,fe,Q),kf(b,W,fe)),fe},n};$Ce.exports=Grt;var Zrt=$Ce.exports;const Yrt=Dl(Zrt);var Xrt=Object.defineProperty,Qrt=(e,t,n)=>t in e?Xrt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,iM=(e,t,n)=>(Qrt(e,typeof t!="symbol"?t+"":t,n),n);function cb(e){return e.endsWith("info.json")?e:e.endsWith("/")?`${e}info.json`:`${e}/info.json`}var Jrt="http://library.stanford.edu/iiif/image-api/compliance.html#level0",TCe="http://library.stanford.edu/iiif/image-api/compliance.html#level1",MCe="http://library.stanford.edu/iiif/image-api/compliance.html#level2",eit="http://library.stanford.edu/iiif/image-api/conformance.html#level0",LCe="http://library.stanford.edu/iiif/image-api/conformance.html#level1",ACe="http://library.stanford.edu/iiif/image-api/conformance.html#level2",tit="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0",ICe="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level1",RCe="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level2",nit="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level0",DCe="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level1",OCe="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level2",rit="http://iiif.io/api/image/1/level0.json",iit="http://iiif.io/api/image/1/profiles/level0.json",jCe="http://iiif.io/api/image/1/level1.json",NCe="http://iiif.io/api/image/1/profiles/level1.json",FCe="http://iiif.io/api/image/1/level2.json",BCe="http://iiif.io/api/image/1/profiles/level2.json",oit="http://iiif.io/api/image/2/level0.json",sit="http://iiif.io/api/image/2/profiles/level0.json",zCe="http://iiif.io/api/image/2/level1.json",HCe="http://iiif.io/api/image/2/profiles/level1.json",VCe="http://iiif.io/api/image/2/level2.json",UCe="http://iiif.io/api/image/2/profiles/level2.json",ait="level0",WCe="level1",KCe="level2",lit="http://iiif.io/api/image/2/level0",qCe="http://iiif.io/api/image/2/level1",GCe="http://iiif.io/api/image/2/level2",uit="https://iiif.io/api/image/1.1/compliance/#level0",ZCe="https://iiif.io/api/image/1.1/compliance/#level1",YCe="https://iiif.io/api/image/1.1/compliance/#level2",XCe=[GCe,MCe,ACe,RCe,OCe,FCe,BCe,VCe,UCe,KCe,YCe],QCe=[...XCe,qCe,TCe,LCe,ICe,DCe,jCe,NCe,zCe,HCe,WCe,ZCe],cit=[lit,qCe,GCe,Jrt,TCe,MCe,eit,LCe,ACe,tit,ICe,RCe,nit,DCe,OCe,rit,iit,jCe,NCe,FCe,BCe,oit,sit,zCe,HCe,VCe,UCe,ait,WCe,KCe,uit,ZCe,YCe],dit={extraFormats:["jpg"],extraQualities:["default"],extraFeatures:["sizeByWhListed"]},fit={extraFormats:["jpg"],extraQualities:["default"],extraFeatures:["baseUriRedirect","cors","jsonldMediaType","regionByPx","regionSquare","sizeByWhListed","sizeByH","sizeByW","sizeByWh"]},hit={extraFormats:["jpg","png"],extraQualities:["default"],extraFeatures:["baseUriRedirect","cors","jsonldMediaType","regionByPct","regionByPx","regionSquare","rotationBy90s","sizeByWhListed","sizeByConfinedWh","sizeByH","sizeByPct","sizeByW","sizeByWh"]};function pit(e){return XCe.indexOf(e)!==-1?hit:QCe.indexOf(e)!==-1?fit:dit}function mit(e){let t=e?Array.isArray(e.profile)?e.profile:[e.profile]:[],n={extraQualities:[],extraFormats:[],extraFeatures:[]};for(let r of t)if(typeof r=="string"&&(r=pit(r)),!!r){if(r.formats)for(let i of r.formats)n.extraFormats.indexOf(i)===-1&&n.extraFormats.push(i);if(r.qualities)for(let i of r.qualities)n.extraQualities.indexOf(i)===-1&&n.extraQualities.push(i);if(r.supports)for(let i of r.supports)n.extraFeatures.indexOf(i)===-1&&n.extraFeatures.push(i);if(r.maxHeight&&(n.maxHeight=r.maxHeight),r.maxWidth&&(n.maxWidth=r.maxWidth),r.maxArea&&(n.maxArea=r.maxArea),r.extraFormats)for(let i of r.extraFormats)n.extraFormats.indexOf(i)===-1&&n.extraFormats.push(i);if(r.extraQualities)for(let i of r.extraQualities)n.extraQualities.indexOf(i)===-1&&n.extraQualities.push(i);if(r.extraFeatures)for(let i of r.extraFeatures)n.extraFeatures.indexOf(i)===-1&&n.extraFeatures.push(i);r.maxHeight&&(n.maxHeight=r.maxHeight),r.maxWidth&&(n.maxWidth=r.maxWidth),r.maxArea&&(n.maxArea=r.maxArea)}if(e.extraFormats)for(let r of e.extraFormats)n.extraFormats.indexOf(r)===-1&&n.extraFormats.push(r);if(e.extraFeatures)for(let r of e.extraFeatures)n.extraFeatures.indexOf(r)===-1&&n.extraFeatures.push(r);if(e.extraQualities)for(let r of e.extraQualities)n.extraQualities.indexOf(r)===-1&&n.extraQualities.push(r);return n}function git(e){try{if(e==="full")return{full:!0};if(e==="square")return{square:!0};let t=e.startsWith("pct:"),n=e.substr(t?4:0).split(",").map(r=>parseFloat(r));return{x:n[0],y:n[1],w:n[2],h:n[3],percent:t}}catch{throw new Error("Expected 'full', 'square' or 'x,y,w,h'. Found "+e)}}function vit(e){let t={upscaled:!1,max:!1,confined:!1};if(e[0]==="^"&&(t.upscaled=!0,e=e.slice(1)),e==="max"||e==="full")return t.max=!0,t.serialiseAsFull=e==="full",t;if(e[0]==="!"&&(t.confined=!0,e=e.slice(1)),e[0]==="p")return t.percentScale=parseFloat(e.slice(4)),t;let n=e.split(",").map(r=>r.trim());return n.length&&typeof n[0]<"u"&&(n[0]!==""&&(t.width=parseInt(n[0],10)),typeof n[1]<"u"&&n[1]!==""?(t.height=parseInt(n[1],10),t.version=2):t.version=3),t}function yit(e){let t={angle:0};if(e[0]==="!"&&(t.mirror=!0,e=e.substr(1)),t.angle=parseFloat(e)%360,Number.isNaN(t.angle))throw new Error(`Invalid rotation ${e}`);return t}function bit(e,t=""){let n=e.match(/^(([a-zA-Z]+):\/\/([^/]+))?((.*)+)/);if(!n)throw new Error(`Invalid or unknown input ${e}`);let r=n[2],i=n[3],o=n[4];if(o[0]==="/"&&(o=o.substring(1)),t.length>0){if(t[0]==="/"&&(t=t.substring(1)),t!==o.substring(0,t.length))throw new Error(`Path does not start with prefix (path: ${o}, prefix: ${t})`);o=o.substring(t.length)}return{scheme:r,server:i,path:o,prefix:t}}function JCe(e,t=""){let{path:n,scheme:r,server:i,prefix:o}=bit(e,t),s=(n||"").split("/").reverse(),[a,l,u,c,...f]=s,p=f.reverse().filter(Boolean).join("/");if(s.length===1||a==="")return{type:"base",scheme:r,server:i,prefix:o,identifier:p};if(a==="info.json"){let[,...v]=s;return{type:"info",scheme:r,server:i,prefix:o,identifier:v.reverse().filter(Boolean).join("/")}}let g=(a||"").split(".");if(typeof g[1]>"u"||typeof g[0]>"u"||typeof c>"u"||typeof u>"u"||typeof l>"u")throw new Error("Invalid image request");return{type:"image",scheme:r,server:i,prefix:o,identifier:p,originalPath:n,region:git(c),size:vit(u),rotation:yit(l),quality:g[0],format:g[1]}}function wit(e){let t=JCe(cb(e.id));if(t.type!=="info")throw new Error("Invalid service URL");let n=mit(e);return{identifier:t.identifier,originalPath:"",server:t.server,prefix:t.prefix,scheme:t.scheme,type:"image",quality:n.extraQualities.indexOf("default")===-1?n.extraQualities[0]:"default",region:{full:!0},size:{max:!0,upscaled:!1,confined:!1},format:"jpg",rotation:{angle:0}}}function xit(e,t,n){let r=n.length,i=[];for(let o=0;o<r;o++){let s=n[o];if(s){let a=s.width;i.push(e/a)}}return i}function Sit(e,t,n){let r=n.length,i=[];for(let o=0;o<r;o++){let s=n[o];s&&i.push({width:Math.floor(e/s),height:Math.floor(t/s)})}return i}function ts(e){if(e["@id"])return e["@id"];if(e.id)return e.id}function o3(e){if(!e||!e.profile||!ts(e))return!1;let t=Array.isArray(e.profile)?e.profile:[e.profile];for(let n of t)if(typeof n=="string"&&cit.indexOf(n)!==-1)return!0;return!1}function _it(e){if(!o3(e))return!1;let t=Array.isArray(e.profile)?e.profile:[e.profile];for(let n of t)if(typeof n=="string"){if(QCe.indexOf(n)!==-1)return!0}else{let r=[...n.supports||[],...n.extraFeatures||[]];if(r.indexOf("regionByPx")!==-1&&(r.indexOf("sizeByW")!==-1||r.indexOf("sizeByWh")!==-1))return!0}return!1}function vA(e,t){if(t&&t.profile){let n=t.profile;if(n){let r=Array.isArray(n)?n:[n];return r.includes(`level${e}`)||r.includes(`http://iiif.io/api/image/2/level${e}.json`)||r.includes(`http://iiif.io/api/image/1/level${e}.json`)||r.includes(`http://iiif.io/api/image/1/profiles/level${e}.json`)}}return!1}function LU(e){return o3(e)?vA(0,e)?0:vA(1,e)?1:vA(2,e)?2:null:null}function e3e(e){return(e["@context"]?Array.isArray(e["@context"])?e["@context"]:[e["@context"]]:[]).indexOf("http://iiif.io/api/image/3/context.json")!==-1}function Cit(e){if(!_it(e))return[];let t=[],n=Array.isArray(e.profile)?e.profile:[e.profile],r=n.length;for(let i=0;i<r;i++){let o=n[i];if(o&&typeof o!="string"&&(o.maxHeight||o.maxWidth))return[{id:ts(e),type:"variable",minWidth:0,minHeight:0,maxHeight:o.maxHeight||o.maxWidth,maxWidth:o.maxWidth||o.maxHeight,level:LU(e),version:e["@context"]==="http://iiif.io/api/image/3/context.json"?3:2}]}if(e.tiles){let i=e.tiles.length;for(let o=0;o<i;o++){let s=e.tiles[o];s&&(s.height||s.width)&&t.push({id:ts(e),type:"variable",minHeight:0,minWidth:0,maxHeight:s.height||s.width,maxWidth:s.width,level:LU(e),version:e3e(e)?3:2})}}return t}function aae(e){let t=/^.*\/(full)\/(((\d+),(\d+)?)|max)\/(\d+)\/default\.(jpg|png|jpeg)$/,n=e.match(t);if(n&&n[4]&&n[5]){let r=n[1],i=parseInt(n[4],10),o=parseInt(n[5],10),s=n[7];if((r==="max"||r==="full")&&i&&o&&s)return{type:"fixed",id:e,height:o,width:i}}return{type:"unknown",id:e}}function Eit(e){if(e["@type"])return e["@type"];if(e.type)return e.type}function kit(e){if(typeof e=="string")return aae(e);let t=Eit(e);if(t!=="Image"&&t!=="sc:Image")return null;let n=e,r=ts(n);return r?r&&n.width&&n.height?{id:r,type:"fixed",width:n.width,height:n.height,unsafe:!0}:aae(r):null}function Pit(e){return o3(e)?(e&&e.sizes?e.sizes:[]).map(t=>({id:ts(e),type:"fixed-service",height:t.height,width:t.width,level:LU(e),version:e3e(e)?3:2})):[]}function lae(e){let t=[],n=e.length;for(let r=0;r<n;r++){let i=e[r];if(!i)continue;let o=Pit(i);o.length&&t.push(...o);let s=Cit(i);s.length&&t.push(...s)}return t}function t3e(e){let t=e.service?Array.isArray(e.service)?e.service:[e.service]:[],n=t.length,r=[];for(let i=0;i<n;i++)o3(t[i])&&r.push(t[i]);return r}function $it(e,t=!0,n){let r=[],i=kit(e);if(i===null)return r;let o=e;if(r.push(i),t&&o&&o.width&&o.height){let s=[],a=t3e(o);for(let l of a){let u={id:ts(l),width:o.width,height:o.height};if(n.canLoadSync(u)){let c=n.loadServiceSync(u);c&&(c.height||(c.height=o.height),c.width||(c.width=o.width),s.push(...lae([c])))}}if(s.length)return r.push(...s),r}return o.service&&r.push(...lae(o.service)),r}function Tit({x:e=0,y:t=0,w:n,h:r,full:i,square:o,percent:s}){if(i)return"full";if(o)return"square";if(typeof n>"u"||typeof r>"u")throw new Error("RegionParameter: invalid region");let a=`${e},${t},${n},${r}`;return s?`pct:${a}`:a}function Mit({max:e,percentScale:t,upscaled:n,confined:r,width:i,height:o,serialiseAsFull:s,version:a}){let l=[];return n&&l.push("^"),e?(l.push(s?"full":"max"),l.join("")):(r&&l.push("!"),t&&l.push(`pct:${t}`),i&&l.push(`${i}`),l.push(","),o&&a===3&&l.push(`${o}`),l.join(""))}function Lit(e){return`${e.mirror?"!":""}${(e.angle||0)%360}`}function Ait(e,t){let n=e.prefix.startsWith("/")?e.prefix.substr(1):e.prefix,r=`${e.scheme}://${e.server}/${n?`${n}/`:""}${e.identifier}`;if(e.type==="base")return r;if(e.type==="info")return`${r}/info.json`;let{size:i}=e,{region:o,rotation:s,format:a,quality:l}=e;return[r,Tit(o),Mit(i),Lit(s),`${l}.${a}`].filter(Boolean).join("/")}function vF(e,t,n){let r=wit({"@context":e.version===3?"http://iiif.io/api/image/3/context.json":"http://iiif.io/api/image/2/context.json",id:cb(ts(e)),profile:e.level===null||typeof e.level>"u"?"level0":`level${e.level}`,type:e.version===3?"ImageService3":"ImageService2"});if(r.type!=="image")throw new Error("Invalid service");return r.size.max=!1,r.size.width=t,r.size.height=n,{id:Ait(r),type:"fixed",width:t,height:n||e.height/(e.width||1)*t,unsafe:e.width>t}}function lS(e){let t=e.replace(/(https?:\/\/)?(www.)?/i,"");return t.indexOf("/")!==-1?t.split("/")[0]:t}function Iit(e,t,n){let r=e.width?e.width:e.maxWidth;return n.height<=e.maxHeight&&n.width<=e.maxWidth&&n.height>=e.minHeight&&n.width>=e.minWidth&&(!t||Math.abs(n.width-r)<Math.abs(t.width-r))}function Rit(e,t){let n=[],r=Object.assign({unsafeImageService:!1,atAnyCost:!0,fallback:!0,minHeight:64,minWidth:64,maxHeight:1/0,maxWidth:1/0,returnAllOptions:!1,preferFixedSize:!1,allowUnsafe:!1,explain:!1,height:0,width:0},e),i=(c,f=0)=>r.explain?n.push(new Array(f).fill(0).map(p=>"    ").join("")+c().trim()):void 0,o=[],s=[],a=null;i(()=>`Using configuration: ${JSON.stringify(r,null,2)}`);let l=(c,f)=>{if(i(()=>"Swapping choice",3),Iit(r,f,c)){if(r.preferFixedSize&&c.unsafe){i(()=>`We found an image that was marked as unsafe, but it was the best size. (${c.id})`,4),s.push(c);return}r.returnAllOptions&&f&&s.push(f),i(()=>`We found a new image that was the best size. (${c.id})`,4),a=c}else r.returnAllOptions&&s.push(c)};i(()=>`The input shows we have ${t.length} list(s) of candidates to choose from.`);let u=t.length;for(let c=0;c<u;c++){let f=t[c]();i(()=>`Candidate group ${c}: ${JSON.stringify(f,null,2)}`,1);let p=f.length;i(()=>`Checking candidate list number ${c} and found ${p} potential ways of creating image(s)`,1);for(let g=0;g<p;g++){let v=f[g];if(i(()=>`-> Checking candidate ${g}`,1),v.type==="unknown"&&r.atAnyCost&&(i(()=>`We've found an unknown image type, adding this to the "last resort" list`,2),o.push(v)),v.type==="fixed"&&(v.unsafe?(i(()=>`We've found an unsafe fixed image type, adding this to the "last resort" list`,2),o.push(v)):(i(()=>"We've found a fixed size image, checking if it matches the request",2),l(v,a))),v.type==="fixed-service")if(r.unsafeImageService){i(()=>"Checking for an image from the tile source, without calculating the right height and width (unsafeImageService)",2);let y=vF(v,r.width,r.height);l(y,a)}else{i(()=>"Checking for an image from the tile source 3",2);let y=vF(v,v.width,v.height);l(y,a)}if(v.type==="variable"&&v.maxWidth){let y=vF({id:v.id,type:"fixed-service",width:v.maxWidth,height:v.maxWidth,level:v.level,version:v.version},v.maxWidth);l(y,a)}}if(a&&!r.returnAllOptions){if(a.unsafe||r.allowUnsafe)continue;i(()=>`We found a match in choice list number ${c}, no searching any more`);break}}return r.atAnyCost&&s.length===0?(i(()=>a?`We found an image! ${a.id} of type ${a.type}`:'We found no images, but "atAnyCost" is set, so returning that'),{best:a||o[0]||null,fallback:o.slice(1),log:n}):r.returnAllOptions?(i(()=>"Returning all options that we have found"),{best:(r.atAnyCost?a||s[0]||o[0]:a||s[0])||null,fallback:[...s,...o],log:n}):(i(()=>"Returning the best image that we found, and a fallback"),{best:a||s[0]||null,fallback:a?s:s.slice(1),log:n})}function Dit(e,t,n){let r=e>t?e:t,i=n.length,o=[];for(let s=0;s<i;s++){let a=n[s];if(!a||a.scaleFactors.length===0)continue;let l=a.scaleFactors[0];if(!l)continue;let u=r/l,c=[l];for(;u>=a.width;)l=l*2,c.push(l),u=u/2;o.push({...a,scaleFactors:c})}return o}function Oit(e,t){if(e.length!==t.length)return!1;if(e.length===0&&t.length===0)return!0;let n=e.length,r=!0;for(let o=0;o<n;o++){let s=e[o],a=t[o];if(s.width!==a.width||s.height!==a.height){r=!1;break}}if(r)return!0;let i=0;for(let o=0;o<n;o++)for(let s=0;s<n;s++)if(e[o].width===t[s].width&&e[o].height===t[s].height){i++;break}return i===n}function uae(e){return vA(0,e)}var n3e=class{constructor(t={}){iM(this,"config",{verificationsRequired:1,approximateServices:!1,enableFetching:!0,disableThrottling:!1}),iM(this,"fetchingCount",0),iM(this,"imageServices",{}),iM(this,"knownImageServers",{}),this.config=Object.assign(this.config,t)}setConfig(t){Object.assign(this.config,t)}sample(t,n,r=!0){let i=lS(ts(t)),o=cb(ts(t)),s=this.knownImageServers[i];return this.imageServices[o]=Object.assign(t,{real:!0}),!s&&t.tiles&&!uae(t)?(this.knownImageServers[i]={verifications:0,malformed:!1,root:i,preLoaded:r,sampledId:ts(t),verified:!1,server:null,result:{context:t["@context"]||[],sampledProfile:t.profile,resourceServiceRatio:n&&t.height?n.height/t.height:1,sampledSizes:t.sizes||[],sizeRatios:xit(t.width,t.height,t.sizes||[]),sampledTiles:t.tiles||[]}},!0):this.verify(t)}preLoad(t,n=!0){this.knownImageServers[t.root]=t,n&&(this.knownImageServers[t.root].malformed=!1,this.knownImageServers[t.root].verifications=this.config.verificationsRequired)}predict(t,n=!1,r=!1){let i=t==null?void 0:t.source,o=lS(ts(t)),s=this.knownImageServers[o],a=cb(ts(t));return this.imageServices[a]?this.imageServices[a]||null:!this.config.approximateServices||!s||!s.result||!(i!=null&&i.height||t.height)||!(i!=null&&i.width||t.width)||!r&&(s.malformed||s.verifications<this.config.verificationsRequired)||uae(t.source)?null:(this.imageServices[a]||(this.imageServices[a]={"@context":s.result.context,"@id":ts(t),id:ts(t),protocol:"http://iiif.io/api/image",tiles:(i==null?void 0:i.tiles)||Dit(t.width,t.height,s.result.sampledTiles),sizes:(i==null?void 0:i.sizes)||Sit(Math.round(t.width/s.result.resourceServiceRatio),Math.round(t.height/s.result.resourceServiceRatio),s.result.sizeRatios),profile:(i==null?void 0:i.profile)||s.result.sampledProfile,height:(i==null?void 0:i.height)||t.height,width:(i==null?void 0:i.width)||t.width,real:!1}),this.imageServices[a]||null)}async getThumbnailFromResource(t,n,r=!0,i=[]){let o=t?await this.getImageCandidates(t,r):[];return Rit(n,[()=>i,()=>o])}async getImageCandidates(t,n=!0){let r=t;if(n&&r&&r.height&&r.width){let i=t3e(r);for(let o of i){let s={id:ts(o),width:o.width?o.width:r.width,height:o.height?o.height:r.height,source:o};await this.loadService(s)}}return $it(t,n,this)}async verify(t){let n=this.predict(t,!1,!0),r=await this.fetchService(ts(t));if(!n)return!1;let i=n.height===r.height&&n.width===r.width&&n["@context"]===r["@context"]&&Oit(n.sizes||[],r.sizes||[]);if(i){let o=lS(ts(t)),s=this.knownImageServers[o];s&&(s.verifications+=1,s.verifications>=this.config.verificationsRequired&&(s.verified=!0))}return i}canLoadSync(t){let n=typeof t=="string"?t:ts(t),r=cb(n);if(this.imageServices[r])return!0;let i=this.knownImageServers[lS(n)];return!!(i&&!i.malformed&&i.verifications>=this.config.verificationsRequired)}async markAsMalformed(t){return this.knownImageServers[lS(ts(t))].malformed=!0,this.loadService(t,!0)}async fetchService(t,n=!1){let r=cb(t),i=this.imageServices[r];if(i&&(!n||i.real))return i;if(!this.config.enableFetching)throw new Error("Fetching is not enabled");let o=await this.fetch(r).then(s=>s.json());return!o.id&&o["@id"]&&(o.id=o["@id"]),o.id!==t&&(o.id=t,o["@id"]&&(o["@id"]=t)),this.imageServices[r]=Object.assign(o,{real:!0}),this.imageServices[r]}async fetch(t,n){return fetch(t,n)}async loadService(t,n=!1){if(!this.config.disableThrottling){let o=!0;for(;o;)if(this.fetchingCount>=this.config.verificationsRequired)await new Promise(s=>setTimeout(s,500));else{o=!1;break}}let r=this.knownImageServers[lS(ts(t))];if(r&&!r.malformed&&!n){await r.result;let o=this.loadServiceSync(t);if(o)return o}this.fetchingCount++;let i=await this.fetchService(ts(t),n);return this.fetchingCount--,i.real&&this.sample(i,t),i}loadServiceSync(t){let n=cb(ts(t));return this.imageServices[n]?this.imageServices[n]:this.config.approximateServices?this.predict(t):null}};new n3e;var jit=Object.defineProperty,Nit=(e,t,n)=>t in e?jit(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,be=(e,t,n)=>(Nit(e,typeof t!="symbol"?t+"":t,n),n),HO=["onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onTouchCancel","onTouchEnd","onTouchMove","onTouchStart","onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut","onScroll","onWheel","onClick","onDragStart","onDragEnd","onDragEnter","onDragExit","onDrag","onDragOver"];function Fit(){return HO.reduce((e,t)=>(e[t]=[],e),{})}var SC=HO.reduce((e,t)=>(e[t.slice(2).toLowerCase()]=t,e[t]=t,e),{}),Bit="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",VO=(e=21)=>{let t="",n=crypto.getRandomValues(new Uint8Array(e));for(;e--;)t+=Bit[n[e]&63];return t},Qp=class{constructor(){be(this,"__id"),be(this,"__revision",0),be(this,"__host"),be(this,"__onCreate"),be(this,"__parent"),be(this,"__owner",{value:void 0}),be(this,"__state",{}),be(this,"eventHandlers"),be(this,"scale",1),be(this,"layers",[]),be(this,"time",[]),be(this,"_crop"),be(this,"cropData"),be(this,"id"),be(this,"addEventListener",(t,n,r)=>{let i=SC[t];if(!this.eventHandlers[i])throw new Error(`Unknown event ${i}`);this.eventHandlers[i].indexOf(n)===-1&&this.eventHandlers[i].push(n)}),be(this,"removeEventListener",(t,n)=>{let r=SC[t];if(!this.eventHandlers[r]){console.warn(`Unknown event ${r}`);return}this.eventHandlers[r].indexOf(n)!==-1&&(this.eventHandlers[r]=this.eventHandlers[r].filter(i=>i!==n))}),this.id=this.__id=VO(),this.eventHandlers=Fit()}get crop(){return this._crop}set crop(t){this._crop=t}getObjectsAt(t){return[]}getAllPointsAt(t,n,r){return[]}getScheduledUpdates(t,n){return[]}dispatchEvent(t,n){let r=this.eventHandlers[t],i=r?r.length:0,o=!1;if(i)for(let s=0;s<i;s++)try{r[s](n),o=!0}catch(a){console.error(t,a)}return o}get x(){return this.points[1]}get y(){return this.points[2]}get width(){return this.points[3]-this.points[1]}get height(){return this.points[4]-this.points[2]}translate(t,n){_p(this.points,nu(t,n))}atScale(t){_p(this.points,x4(t,this.x,this.y)),this.scale*=t}transform(t){_p(this.points,t)}applyProps(t){this.__revision++}appendChild(t){}removeChild(t){}insertBefore(t,n){}hideInstance(){}},R0=class AU extends Qp{constructor(t){if(super(),be(this,"type","spacial-content"),be(this,"id"),be(this,"uri"),be(this,"display"),be(this,"points"),be(this,"priority"),be(this,"style",{opacity:1}),!t)this.id="",this.uri="",this.display={x:0,y:0,scale:1,width:0,height:0,points:cn(5)},this.points=cn(5);else{let n=t.scale||1;this.id=t.id||t.uri,this.uri=t.uri,this.points=Zr.singleBox(t.width,t.height,t.x,t.y),this.display={x:0,y:0,scale:n,width:t.width/n,height:t.height/n,points:Zr.singleBox(t.width/n,t.height/n),rotation:t==null?void 0:t.rotation}}}applyProps(t){let n=t.display?t.display.width:t.target.width,r=t.target.width/n;if(this.id=t.id||t.uri,this.uri=t.uri,this.points.set(Zr.singleBox(t.target.width,t.target.height,t.target.x,t.target.y)),t.style&&typeof t.style.opacity<"u"&&(this.style.opacity=t.style.opacity),t.crop){this.cropData=t.crop;let i=Zr.singleBox(t.crop.width,t.crop.height,t.crop.x,t.crop.y);_p(i,nu(-t.crop.x,-t.crop.y)),this.crop?this.crop.set(i):this.crop=cn(i)}t.display?(this.display.scale=r,this.display.width=t.display.width,this.display.height=t.display.height,this.display.rotation=t.display.rotation,this.display.points=Zr.singleBox(t.display.width,t.display.height)):(this.display.scale=r,this.display.width=t.target.width/r,this.display.height=t.target.height/r,this.display.points=Zr.singleBox(t.target.width/r,t.target.height/r))}getAllPointsAt(t,n,r){return[[this,this.crop||this.points,n]]}static fromSvg(t,n,r,i){return AU.fromImage("data:image/svg+xml;base64,"+btoa(t),n,r,i)}static fromImage(t,n,r,i){let o=new AU;return o.applyProps({uri:t,id:i,display:r,target:n}),o}getImageUrl(){return this.uri}},IU=class extends Qp{constructor(t){if(super(),be(this,"type","spacial-content"),be(this,"id"),be(this,"uri"),be(this,"display"),be(this,"points"),be(this,"getTexture"),this.getTexture=()=>({source:void 0,hash:-1}),!t)this.id="",this.uri="",this.display={x:0,y:0,scale:1,width:0,height:0,points:cn(5)},this.points=cn(5);else{let n=t.scale||1;this.id=t.id||t.uri,this.uri=t.uri,this.points=Zr.singleBox(t.width,t.height),this.display={x:0,y:0,scale:n,width:t.width/n,height:t.height/n,points:n!==1?Zr.singleBox(t.width/n,t.height/n):this.points}}}applyProps(t){let n=t.display?t.display.width:t.target.width,r=t.target.width/n;this.id=t.id,this.points.set(Zr.singleBox(t.target.width,t.target.height)),this.display.scale=r,this.display.width=t.target.width/r,this.display.height=t.target.height/r,this.getTexture=t.getTexture,this.display.points=r!==1?Zr.singleBox(t.target.width/r,t.target.height/r):this.points}getAllPointsAt(t,n,r){return[[this,this.points,n]]}};function zit(e,t,n=1){let r=t.length;if(r===0)throw new Error("No resources passed in.");let i=0,o=1/0;for(let s=0;s<r&&!(!t[s]||!t[s].display);s++){let a=RU(t[s].display.scale,e/(n||1));a<o&&(o=a,i=s)}return i}function RU(e,t){return Math.abs(e-t)}function VR(e,t){let n=RU(e.x,t.x),r=RU(e.y,t.y);return Math.sqrt(Math.pow(n,2)+Math.pow(r,2))}function Hit(e){let t=e.length;return e.indexOf("/info.json")===t-10?e.slice(0,-10):e}function oM(e,t,n){return Math.min(Math.max(e,t),n)}var S4=class r3e extends Qp{constructor(t){super(),be(this,"id"),be(this,"type","spacial-content"),be(this,"display"),be(this,"tileWidth"),be(this,"style",{opacity:1}),be(this,"points"),be(this,"service"),be(this,"format","jpg"),be(this,"crop2"),be(this,"tileUrl"),this.tileUrl=Hit(t.url),this.id=t.id||`${this.tileUrl}--${t.scaleFactor}`,this.points=t.displayPoints?t.displayPoints:Sg(t.points,I0(t.scaleFactor)),this.tileWidth=t.tileWidth,this.display={x:0,y:0,width:t.width/t.scaleFactor,height:t.height/t.scaleFactor,points:t.points,scale:t.scaleFactor},t.format&&(this.format=t.format)}applyProps(t){if(t.style&&typeof t.style.opacity<"u"&&(this.style.opacity=t.style.opacity),t.service!==this.service&&(this.service=t.service),t.format?this.format=t.format:this.format="jpg",t.crop){this.cropData=t.crop;let n=cn([...this.points]),r=n.length/5,i=t.crop.x||0,o=t.crop.y||0,s=t.crop.x+t.crop.width,a=t.crop.y+t.crop.height;for(let l=0;l<r;l++){let u=l*5;n[u+1]<s&&n[u+3]>i&&n[u+2]<a&&n[u+4]>o?(n[u+1]=oM(n[u+1],i,s),n[u+3]=oM(n[u+3],i,s),n[u+2]=oM(n[u+2],o,a),n[u+4]=oM(n[u+4],o,a)):n[u]=0}_p(n,nu(-t.crop.x,-t.crop.y)),this.crop?this.crop.set(n):this.crop=n}}static fromTile(t,n,r,i,o,s,a){r.height=r.height?r.height:r.width;let l=a?Math.floor(n.width/i):Math.ceil(n.width/i),u=a?Math.floor(n.height/i):Math.ceil(n.height/i),c=Math.ceil(l/r.width),f=Math.ceil(u/r.height),p=Zr.grid(c,f),g=Zr.grid(c,f);for(let y=0;y<f;y++)for(let S=0;S<c;S++){let C=S*r.width,_=y*r.height;g.addPoints(C*i,_*i,S===c-1?n.width:(C+r.width)*i,y===f-1?n.height:(_+r.height)*i),p.addPoints(C,_,S===c-1?l:C+r.width,y===f-1?u:_+r.height)}let v=new r3e({url:t,scaleFactor:i,points:p.build(),displayPoints:g.build(),width:n.width,height:n.height,tileWidth:r.width,format:s});return v.applyProps({service:o}),v}getImageUrl(t){let n=this.points.slice(t*5,t*5+5),r=n[3]-n[1],i=n[4]-n[2],o=Math.ceil(r/this.display.scale);return`${this.tileUrl}/${n[1]},${n[2]},${r},${i}/${o>this.tileWidth?this.tileWidth:o},/0/default.${this.format||"jpg"}`}getAllPointsAt(t,n,r){let i=w4(this.crop||this.points,t);return[[this,i,n]]}transform(t){_p(this.points,t)}getScheduledUpdates(t,n){return[]}},Vit=class extends Qp{constructor(){super(...arguments),be(this,"type","spacial-content")}getAllPointsAt(t,n,r){return[[this,this.points,n]]}},Uit=class extends Vit{constructor(t){super(),be(this,"id"),be(this,"display"),be(this,"points"),be(this,"images",[]),be(this,"allImages",[]),be(this,"scaleFactors",[]),be(this,"aggregateBuffer",cn(9)),be(this,"lazyLoader"),be(this,"isFullyLoaded",!1),be(this,"maxScaleFactor",0),be(this,"renderOptions"),be(this,"_scheduleSortByScales",!1),be(this,"_sortByScales",()=>{this._scheduleSortByScales=!1,this.allImages.sort((r,i)=>i.display.width-r.display.width),this.images=[];let n=.1;for(let r of this.allImages)if(!(r.display.width<this.renderOptions.minSize&&r.display.height<this.renderOptions.minSize&&!r.priority||r instanceof R0&&(r.display.width>this.renderOptions.maxImageSize||r.display.height>this.renderOptions.maxImageSize)&&!r.priority)){if(Math.abs(r.display.scale-n)<.25||r.priority){let i=this.images.pop();i&&(i instanceof R0||i.priority)?(r.priority&&this.images.push(r),this.images.push(i)):r&&this.images.push(r)}else r&&this.images.push(r);n=r.display.scale}this.images.length===0&&(this.images=[...this.allImages]),this.scaleFactors=this.images.map(r=>r.display.scale),this.maxScaleFactor=Math.max(...this.scaleFactors)}),be(this,"loadFullResource",async()=>{if(!this.isFullyLoaded&&this.lazyLoader){this.isFullyLoaded=!0;let n=await this.lazyLoader();this.addImages(n)}}),be(this,"fallback",[this.loadFullResource]),this.id=t.id,this.points=Zr.singleBox(t.width,t.height),this.lazyLoader=t.loadFullImages,t.loadFullImages||(this.isFullyLoaded=!0),this.display={x:0,y:0,points:Zr.singleBox(t.width,t.height),height:t.height,width:t.width,scale:1},this.renderOptions={renderSmallestFallback:!0,renderLayers:3,minSize:255,maxImageSize:2048,quality:1.5,...t.renderOptions||{}},this.addImages(t.images)}applyProps(t){typeof t.renderSmallestFallback<"u"&&t.renderSmallestFallback!==this.renderOptions.renderSmallestFallback&&(this.renderOptions.renderSmallestFallback=t.renderSmallestFallback),typeof t.renderLayers<"u"&&t.renderLayers!==this.renderOptions.renderLayers&&(this.renderOptions.renderLayers=t.renderLayers),typeof t.minSize<"u"&&t.minSize!==this.renderOptions.minSize&&(this.renderOptions.minSize=t.minSize),typeof t.maxImageSize<"u"&&t.maxImageSize!==this.renderOptions.maxImageSize&&(this.renderOptions.maxImageSize=t.maxImageSize),typeof t.quality<"u"&&t.quality!==this.renderOptions.quality&&(this.renderOptions.quality=t.quality)}appendChild(t){this.addImages([t])}removeChild(t){this.images.indexOf(t)!==-1&&(this.images=this.images.filter(n=>n!==t),this.sortByScales())}insertBefore(t,n){this.addImages([t])}hideInstance(){}addImages(t){for(let n of t)n.__parent=this,n.__owner=this.__owner;this.allImages.push(...t.filter(Boolean)),this.sortByScales()}sortByScales(){this._scheduleSortByScales=!0}getScheduledUpdates(t,n){return this._scheduleSortByScales?[this._sortByScales]:this.isFullyLoaded?[]:n>1/this.maxScaleFactor?this.fallback:[]}getAllPointsAt(t,n,r){if(this.images.length===0)return[];let i=zit(1/(r||1)/(window.devicePixelRatio||1),this.images,this.renderOptions.quality),o=this.images.length,s=n?xg(n,nu(this.x,this.y)):nu(this.x,this.y);if(i!==this.images.length-1&&this.images[i+1]){let a=[];for(let c=o-1;c>=i;c--)a.push(c);let l=a[0];this.renderOptions.renderLayers&&(a=a.slice(-Math.min(a.length,this.renderOptions.renderLayers))),this.renderOptions.renderSmallestFallback&&a.indexOf(l)===-1&&a.unshift(l);let u=[];for(let c=0;c<a.length;c++)u.push(...this.images[a[c]].getAllPointsAt(t,s,r));return u}return this.images[i].getAllPointsAt(t,s,r)}};function sM(e,t,n,r,i){let o=Math.PI/180*i,s=Math.cos(o),a=Math.sin(o),l=s*(n-e)+a*(r-t)+e,u=s*(r-t)-a*(n-e)+t;return[l,u]}var tQ=class i3e extends Qp{constructor(t,n){super(),be(this,"id"),be(this,"type","world-object"),be(this,"scale"),be(this,"layers"),be(this,"points"),be(this,"worldPoints"),be(this,"intersectionBuffer",cn(5)),be(this,"aggregateBuffer",cn(9)),be(this,"invertedBuffer",cn(9)),be(this,"rotation",0),be(this,"filteredPointsBuffer"),be(this,"_updatedList",[]),be(this,"geometry");let{x:r=0,y:i=0}=n||{};t?(this.id=t.id||"",this.scale=1,this.layers=t.layers,this.points=cn([1,r,i,r+t.width,i+t.height]),this.worldPoints=cn([1,r,i,r+t.width,i+t.height]),this.filteredPointsBuffer=cn(t.layers.length*5)):(this.id="",this.scale=1,this.layers=[],this.points=cn(5),this.worldPoints=cn(5),this.filteredPointsBuffer=cn(5))}static createWithProps(t){let n=new i3e;return n.applyProps(t),n}applyProps(t){let n=t.x||0,r=t.y||0;this.id=t.id;let i=typeof t.scale<"u"?t.scale:this.scale;this.points[0]=1,this.points[1]=n,this.points[2]=r,this.points[3]=n+t.width,this.points[4]=r+t.height,this.rotation=t.rotation||0,this.worldPoints[3]=this.worldPoints[1]+t.width,this.worldPoints[4]=this.worldPoints[2]+t.height,t.scale&&t.scale!==1&&this.atScale(i),this.scale=i}appendChild(t){t.points[0]===0&&t.points.set(this.points),t.__owner.value=this,this.addLayers([t])}removeChild(t){this.layers=this.layers.filter(n=>n!==t),this.filteredPointsBuffer=cn(this.layers.length*5)}insertBefore(t,n){let r=this.layers.indexOf(n);if(r===-1||this.layers.indexOf(t)!==-1)return;let i=this.layers.slice(0,r),o=this.layers.slice(r);this.layers=[...i,t,...o]}hideInstance(){console.warn("hideInstance: not yet implemented")}getObjectsAt(t,n){if(this.rotation&&(t=this.applyRotation(t)),w4(this.points,t,this.filteredPointsBuffer)[0]===0)return[];let r=this.layers.length,i=[];for(let o=0;o<r;o++){let s=this.layers[o];if(n&&s.isShape){let a=Sg(s.points,nu(this.x,this.y));if(!s.intersects([t[1]-a[1],t[2]-a[2]]))continue}if(w4(Sg(s.points,nu(this.x,this.y)),t,this.filteredPointsBuffer)[0]!==0&&i.push(s),n){let a=s;i.push(...a.getObjectsAt(t,n))}}return i}applyRotation(t){if(this.rotation){let n={x:t[1],y:t[2]},r={x:t[1],y:t[4]},i={x:t[3],y:t[2]},o={x:t[3],y:t[4]},s=this.points[1]+(this.points[3]-this.points[1])/2,a=this.points[2]+(this.points[4]-this.points[2])/2,[l,u]=sM(s,a,n.x,n.y,this.rotation),[c,f]=sM(s,a,r.x,r.y,this.rotation),[p,g]=sM(s,a,i.x,i.y,this.rotation),[v,y]=sM(s,a,o.x,o.y,this.rotation),S=Math.min(l,c,p,v),C=Math.max(l,c,p,v),_=Math.min(u,f,g,y),k=Math.max(u,f,g,y);return cn([t[0],S,_,C,k])}return t}getAllPointsAt(t,n,r){let i=xg(nu(this.x,this.y),I0(this.scale),this.aggregateBuffer);this.rotation&&(t=this.applyRotation(t));let o=Ert(t,this.points,this.intersectionBuffer),s=this.layers.length,a=[],l=Sg(o,xg(I0(1/this.scale),nu(-this.x,-this.y),this.invertedBuffer)),u=n?xg(n,i,this.aggregateBuffer):i,c=r*this.scale;for(let f=0;f<s;f++)a.push(...this.layers[f].getAllPointsAt(l,u,c));return a}addLayers(t){let n=[];for(let r of t)this.layers.indexOf(r)===-1&&(n.push(r),r.points.length===5&&(r.points[1]<this.worldPoints[1]/this.scale||r.points[2]<this.worldPoints[2]/this.scale||r.points[3]>this.worldPoints[3]/this.scale||r.points[4]>this.worldPoints[4]/this.scale)&&(r.crop=r.crop||cn([1,Math.max(this.worldPoints[1]/this.scale,r.points[1]),Math.max(this.worldPoints[2]/this.scale,r.points[2]),Math.min(this.worldPoints[3]/this.scale,r.points[3]),Math.min(this.worldPoints[4]/this.scale,r.points[4])])));this.layers=this.layers.concat(n),this.filteredPointsBuffer=cn(this.layers.length*5)}getScheduledUpdates(t,n){let r=this.layers.length;this._updatedList=[];let i=n*this.scale;for(let o=0;o<r;o++){let s=this.layers[o].getScheduledUpdates(t,i);s&&this._updatedList.push(...s)}return this._updatedList}},UO=class o3e extends Qp{constructor(t=0,n=0,r=100,i="left-to-right"){super(),be(this,"id","world"),be(this,"_width"),be(this,"_height"),be(this,"aspectRatio"),be(this,"viewingDirection"),be(this,"aggregateBuffer",cn(9)),be(this,"isDirty",!1),be(this,"zones",[]),be(this,"filteredPointsBuffer"),be(this,"selectedZone"),be(this,"triggerQueue",[]),be(this,"activatedEvents",[]),be(this,"_updatedList",[]),be(this,"translationBuffer",cn(9)),be(this,"needsRecalculate",!0),be(this,"emptyPaintables",[]),be(this,"renderOrder",[]),be(this,"points"),be(this,"objects",[]),be(this,"subscriptions",[]),be(this,"_propagateEventTargets",[]),be(this,"_alreadyFlushed",[]),this._width=t,this._height=n,this.aspectRatio=Number.isNaN(t/n)?1:t/n,this.viewingDirection=i,this.points=cn(r*5),this.filteredPointsBuffer=cn(r*5)}get x(){return 0}get y(){return 0}get width(){return this._width}get height(){return this._height}static withProps(t){let n=new o3e;return n.applyProps(t),n}applyProps(t){typeof t.width<"u"&&typeof t.height<"u"&&(t.width!==this._width||t.height!==this._height)&&this.resize(t.width,t.height),t.viewingDirection!==this.viewingDirection&&(this.viewingDirection=t.viewingDirection,this.triggerRepaint())}propagateTouchEvent(t,n,r){let i=[];for(let o of r)if(o.x&&o.y){let s=Zr.singleBox(1,1,o.x,o.y);i.push(this.getObjectsAt(s,!0).reverse())}return i.map(o=>this.propagateEvent(t,n,o,{bubbles:!0,cancelable:!0}))}propagatePointerEvent(t,n,r,i,o={}){let s=Zr.singleBox(1,1,r,i),a=this.getObjectsAt(s,!0).reverse();return this.propagateEvent(t,n,a,o)}propagateEvent(t,n,r,{bubbles:i=!1,cancelable:o=!1}={}){n.atlasTarget=this,this._propagateEventTargets.length=1,this._propagateEventTargets[0]=this;let s=!1;n.stopPropagation=()=>{s=!0};let a=r.length;for(let c=a-1;c>=0;c--){this._propagateEventTargets.unshift(r[c][0]);let f=r[c][1].length;if(f)for(let p=0;p<f;p++)this._propagateEventTargets.unshift(r[c][1][p])}let l=this._propagateEventTargets.length,u=!1;for(let c=0;c<l&&(n.atlasTarget=this._propagateEventTargets[c],n.atlasWorld=this,u=this._propagateEventTargets[c].dispatchEvent(t,n)||u,!s);c++);return u&&this.triggerRepaint(),this._propagateEventTargets}appendChild(t){let n=this.appendWorldObject(t);this.renderOrder.push(n/5)}removeChild(t){let n=this.objects.indexOf(t);if(n===-1){for(let r of this.objects)if(r&&r.id===t.id){this.removeChild(r);return}return}this.objects[n]=null,this.renderOrder=this.renderOrder.filter(r=>r!==n),this.points[n*5]=0,this.triggerRepaint(),this.needsRecalculate=!0}insertBefore(t,n){let r=this.objects.indexOf(n);if(r===-1)return;let i=this.appendWorldObject(t);this.renderOrder.splice(r-1,0,i/5)}hideInstance(){}asWorldObject(){return null}addZone(t){this.zones.push(t)}selectZone(t){if(typeof t=="string"){let n=this.zones.length;for(let r=0;r<n;r++)if(this.zones[r].id===t){this.selectedZone=r,this.trigger("zone-changed");return}}else this.zones[t]&&(this.selectedZone=t,this.trigger("zone-changed"))}deselectZone(){this.selectedZone=void 0}getActiveZone(){if(this.selectedZone)return this.zones[this.selectedZone]}hasActiveZone(){return typeof this.selectedZone<"u"}checkResizeInternalBuffer(){if(krt(this.points)===this.objects.length){let t=this.points,n=cn(this.points.length*2);n.set(t,0),this.points=n}}appendWorldObject(t){this.checkResizeInternalBuffer();let n=this.objects.length*5,r=t.points;return t.points=this.points.subarray(this.objects.length*5,this.objects.length*5+5),t.points[1]=r[1],t.points[2]=r[2],t.points[3]=r[3],t.points[4]=r[4],this.objects.push(t),this.filteredPointsBuffer=cn(this.objects.length*5),this.needsRecalculate=!0,this.triggerRepaint(),n}recalculateWorldSize(){let t=!1;if(this.needsRecalculate){let n=new Int32Array(this.objects.length),r=new Int32Array(this.objects.length),i=this.renderOrder.length;for(let a=0;a<i;a++){let l=this.renderOrder[a];this.objects[l]&&(n[a]=this.points[l*5+3],r[a]=this.points[l*5+4])}let o=Math.max(...n);o!==this._width&&(this._width=o,t=!0);let s=Math.max(...r);s!==this._height&&(this._height=s,t=!0),t&&this.trigger("recalculate-world-size",{width:o,height:s}),this.needsRecalculate=!1}return t}addObjectAt(t,n){n.width&&!n.height?n.height=n.width/t.width*t.height:n.height&&!n.width&&(n.width=n.height/t.height*t.width),(!n||!n.width||!n.height)&&(n.width=t.width,n.height=t.height);let{width:r,x:i,y:o}=n,s=r/t.width;this.checkResizeInternalBuffer(),this.points.set(Zr.singleBox(t.width,t.height,0,0),this.objects.length*5);let a=new tQ(t);return a.points=this.points.subarray(this.objects.length*5,this.objects.length*5+5),this.objects.push(a),this.scaleWorldObject(this.objects.length-1,s),this.translateWorldObject(this.objects.length-1,i,o),this.filteredPointsBuffer=cn(this.points.length*2),this.triggerRepaint(),this.needsRecalculate=!0,a}scaleWorldObject(t,n){_p(this.points.subarray(t*5,t*5+5),x4(n,this.points[t*5+1],this.points[t*5+2]));let r=this.objects[t];r&&(r.atScale(n),this.triggerRepaint())}translateWorldObject(t,n,r){_p(this.points.subarray(t*5,t*5+5),nu(n,r));let i=this.objects[t];i&&(i.translate(n,r),this.triggerRepaint())}resize(t,n){return this._width=t,this._height=n,this.aspectRatio=t/n,this.triggerRepaint(),this}getObjects(){return this.objects}getPoints(){return this.points}getPointsFromViewer(t,n){let r=Zr.singleBox(t.width,t.height,t.x,t.y);return this.getPointsAt(r,n,t.scale)}addLayoutSubscriber(t){return this.subscriptions.push(t),()=>{this.subscriptions.splice(this.subscriptions.indexOf(t),1)}}getScheduledUpdates(t,n){let r=w4(this.points,t,this.filteredPointsBuffer),i=this.objects.length;this._updatedList=[];for(let o=0;o<i;o++)if(r[o*5]!==0){if(!this.objects[o])continue;this._updatedList.push(...this.objects[o].getScheduledUpdates(t,n))}return this._updatedList}getObjectsAt(t,n=!1){let r=this.getActiveZone(),i=w4(this.points,t,this.filteredPointsBuffer),o=this.renderOrder.length,s=[];for(let a=0;a<o;a++){let l=this.renderOrder[a];if(i[l*5]!==0){let u=this.objects[l];if(!u||r&&r.objects.indexOf(u)===-1)continue;if(u.type!=="world-object"){s.push([u,[u]]);continue}n?s.push([u,u.getObjectsAt(t,n)]):s.push([u,this.emptyPaintables])}}return s}getPointsAt(t,n,r=1){let i=this.getObjectsAt(t),o=xg(I0(r),nu(-t[1],-t[2]),this.translationBuffer),s=n?xg(n,o,this.aggregateBuffer):o,a=i.length,l=[];for(let u=0;u<a;u++)i[u]&&l.push(...i[u][0].getAllPointsAt(t,s,r));return l}flushSubscriptions(){if(this.triggerQueue.length){this._alreadyFlushed=[];let t=this.triggerQueue.length;for(let n=0;n<t;n++){if(this._alreadyFlushed.indexOf(this.triggerQueue[n][0])!==-1)continue;typeof this.triggerQueue[n][1]>"u"&&this._alreadyFlushed.push(this.triggerQueue[n][0]);let r=this.subscriptions.length;for(let i=0;i<r;i++)this.subscriptions[i].apply(null,this.triggerQueue[n])}this.triggerQueue=[]}}trigger(t,n){this.triggerQueue.push([t,n])}triggerEventActivation(){this.trigger("event-activation")}triggerRepaint(){this.trigger("repaint")}gotoRegion(t){this.trigger("goto-region",t)}goHome(t=!1){this.trigger("go-home",{immediate:t})}zoomTo(t,n,r){this.trigger("zoom-to",{point:n,factor:t,stream:r})}zoomIn(t){this.trigger("zoom-to",{point:t,factor:.5})}zoomOut(t){this.trigger("zoom-to",{point:t,factor:2})}constraintBounds(t){this.trigger("constrain-bounds",{immediate:t})}},aM=/([0-9]+(px|em)\s+)+(solid)\s+(.*)/g,lM={},Wit=["backgroundColor","opacity","boxShadow","borderColor","borderWidth","borderStyle","outlineColor","outlineWidth","outlineOffset","outlineStyle"],uP=class extends Qp{constructor(){super(),be(this,"id"),be(this,"type","spacial-content"),be(this,"points"),be(this,"hoverEvents",!1),be(this,"activeEvents",!1),be(this,"display",{x:0,y:0,scale:1,width:-1,height:-1,points:cn(5)}),be(this,"_parsed",{border:{id:null,match:[]},outline:{id:null,match:[]}}),be(this,"hovering"),be(this,"pressing"),be(this,"props",{}),be(this,"addHover",()=>{this.hovering=!0,this.__revision++}),be(this,"removeHover",()=>{this.hovering=!1,this.pressing=!1,this.__revision++}),be(this,"addPress",()=>{this.pressing=!0,this.__revision++}),be(this,"removePress",()=>{this.pressing=!1,this.__revision++}),this.id=VO(12),this.points=cn(5)}getAllPointsAt(t,n){return[[this,this.points,n]]}applyProps(t={}){let n=!1;if(t.interactive!==this.props.interactive&&(n=!0,this.props.interactive=t.interactive),t.style){let r=t.border||t.style.border;if(r!==this._parsed.border.id)if(!r)this._parsed.border.id=null,this._parsed.border.match=[];else{let i=lM[r]||aM.exec(r)||aM.exec(r);i&&(this._parsed.border.id=r,this._parsed.border.match=lM[r]=i)}if(this._parsed.border.id&&(t.style.borderWidth=this._parsed.border.match[1],t.style.borderStyle="solid",t.style.borderColor=this._parsed.border.match[4]),t.style.outline!==this._parsed.outline.id)if(!t.style.outline)this._parsed.outline.id=null,this._parsed.outline.match=[];else{let i=lM[t.style.outline]||aM.exec(t.style.outline)||aM.exec(t.style.outline);i&&(this._parsed.outline.id=t.style.outline,this._parsed.outline.match=lM[t.style.outline]=i)}this._parsed.outline.id&&(t.style.outlineWidth=this._parsed.outline.match[1],t.style.outlineStyle="solid",t.style.outlineColor=this._parsed.outline.match[4]),this.props.style=t.style,t.backgroundColor&&!this.props.style.backgroundColor&&(this.props.style.backgroundColor=t.backgroundColor,n=!0),t.style.background&&!this.props.style.backgroundColor&&(this.props.style.backgroundColor=t.style.background,n=!0);for(let i of Wit)if(this.props.style[i]!==t.style[i]){n=!0;break}t.style[":hover"]!==this.props.hoverStyles&&(this.props.hoverStyles=t.style[":hover"],this.hoverEvents||(this.hoverEvents=!0,this.addEventListener("pointerenter",this.addHover),this.addEventListener("pointerleave",this.removeHover)),n=!0),t.style[":active"]!==this.props.pressStyles&&(this.props.pressStyles=t.style[":active"],this.activeEvents||(this.activeEvents=!0,this.addEventListener("mousedown",this.addPress),this.addEventListener("mouseup",this.removePress)),n=!0)}t.href!==this.props.href&&(this.props.href=t.href,n=!0),t.hrefTarget!==this.props.hrefTarget&&(this.props.hrefTarget=t.hrefTarget,n=!0),t.title!==this.props.title&&(this.props.title=t.title,n=!0),t.className!==this.props.className&&(this.props.className=t.className,t.className&&!this.hoverEvents&&(this.hoverEvents=!0,this.addEventListener("pointerenter",this.addHover),this.addEventListener("pointerleave",this.removeHover)),t.className&&!this.activeEvents&&(this.activeEvents=!0,this.addEventListener("mousedown",this.addPress),this.addEventListener("mouseup",this.removePress)),n=!0),t.relativeSize!==this.props.relativeSize&&(this.props.relativeSize=t.relativeSize,n=!0),t.relativeStyle!==this.props.relativeStyle&&(this.props.relativeStyle=t.relativeStyle,n=!0),t.html!==this.props.html&&(this.props.html=t.html,n=!0),t.target&&(t.target.width!==this.display.width||t.target.height!==this.display.height||t.target.x!==this.points[1]||t.target.y!==this.points[2])&&(n=!0,this.points=Zr.singleBox(t.target.width,t.target.height,t.target.x,t.target.y),this.display.points=Zr.singleBox(t.target.width,t.target.height,t.target.x,t.target.y),this.display.width=t.target.width,this.display.height=t.target.height),n&&this.__revision++}},yA=class extends Qp{constructor(){super(),be(this,"type","spacial-content"),be(this,"id"),be(this,"points"),be(this,"color","#000"),be(this,"backgroundColor"),be(this,"hovering"),be(this,"pressing"),be(this,"text",""),be(this,"display",{x:0,y:0,scale:1,width:100,height:100,points:cn(5)}),be(this,"className"),be(this,"html"),be(this,"interactive",!1),be(this,"props",{font:"18px Arial, sans-serif",lineHeight:1,textAlign:"left",verticalAlign:"top",paddingX:0,paddingY:0,fitParent:!1,lineBreak:"auto",strokeText:!1,sizeToFill:!1,maxFontSizeToFill:void 0,allowNewLine:!0,justifyLines:!1,renderHDPI:!1,textDecoration:"none",interactive:!1,relativeSize:!1}),this.id="",this.points=cn(5)}getAllPointsAt(t,n){return[[this,this.points,n]]}applyProps({id:t,target:n,text:r,color:i,backgroundColor:o,fontSize:s=18,interactive:a,fontFamily:l="Arial, sans-serif",...u}){u.font=`${s}px ${l}`,this.interactive=a||!1,typeof r<"u"&&(this.text=r||""),i&&(this.color=i),o&&(this.backgroundColor=o),t&&(this.id=t),n&&(this.points=Zr.singleBox(n.width,n.height,n.x,n.y),this.display.points=this.points,this.display.width=n.width,this.display.height=n.height),this.props={...this.props,...u},this.__revision++}},Fo=Math.pow,uM=Math.sqrt,kE=Math.sin,cae=Math.cos,cP=Math.PI,UR=1.70158,cM=UR*1.525,dae=UR+1,fae=2*cP/3,hae=2*cP/4.5,dM=function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},sy={linear:e=>e,easeInQuad:function(e){return e*e},easeOutQuad:function(e){return 1-(1-e)*(1-e)},easeInOutQuad:function(e){return e<.5?2*e*e:1-Fo(-2*e+2,2)/2},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return 1-Fo(1-e,3)},easeInOutCubic:function(e){return e<.5?4*e*e*e:1-Fo(-2*e+2,3)/2},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1-Fo(1-e,4)},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-Fo(-2*e+2,4)/2},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1-Fo(1-e,5)},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1-Fo(-2*e+2,5)/2},easeInSine:function(e){return 1-cae(e*cP/2)},easeOutSine:function(e){return kE(e*cP/2)},easeInOutSine:function(e){return-(cae(cP*e)-1)/2},easeInExpo:function(e){return e===0?0:Fo(2,10*e-10)},easeOutExpo:function(e){return e===1?1:1-Fo(2,-10*e)},easeInOutExpo:function(e){return e===0?0:e===1?1:e<.5?Fo(2,20*e-10)/2:(2-Fo(2,-20*e+10))/2},easeInCirc:function(e){return 1-uM(1-Fo(e,2))},easeOutCirc:function(e){return uM(1-Fo(e-1,2))},easeInOutCirc:function(e){return e<.5?(1-uM(1-Fo(2*e,2)))/2:(uM(1-Fo(-2*e+2,2))+1)/2},easeInBack:function(e){return dae*e*e*e-UR*e*e},easeOutBack:function(e){return 1+dae*Fo(e-1,3)+UR*Fo(e-1,2)},easeInOutBack:function(e){return e<.5?Fo(2*e,2)*((cM+1)*2*e-cM)/2:(Fo(2*e-2,2)*((cM+1)*(e*2-2)+cM)+2)/2},easeInElastic:function(e){return e===0?0:e===1?1:-Fo(2,10*e-10)*kE((e*10-10.75)*fae)},easeOutElastic:function(e){return e===0?0:e===1?1:Fo(2,-10*e)*kE((e*10-.75)*fae)+1},easeInOutElastic:function(e){return e===0?0:e===1?1:e<.5?-(Fo(2,20*e-10)*kE((20*e-11.125)*hae))/2:Fo(2,-20*e+10)*kE((20*e-11.125)*hae)/2+1},easeInBounce:function(e){return 1-dM(1-e)},easeOutBounce:dM,easeInOutBounce:function(e){return e<.5?(1-dM(1-2*e))/2:(1+dM(2*e-1))/2}},Kit=class{constructor(t){be(this,"runtime"),be(this,"pendingTransition"),this.runtime=t,this.pendingTransition={from:cn(5),to:cn(5),elapsed_time:0,done:!0,total_time:0,timingFunction:sy.easeInOutQuad,constrain:!1}}hasPending(){return!this.pendingTransition.done}getPendingTransition(){return this.pendingTransition}getPendingFrom(){return this.pendingTransition.from}customTransition(t){t(this.pendingTransition)}stopTransition(){this.pendingTransition.from=cn(this.runtime.target),this.pendingTransition.to=cn(this.runtime.target),this.pendingTransition.done=!0,this.pendingTransition.elapsed_time=0,this.pendingTransition.total_time=0}runTransition(t,n){if(!this.pendingTransition.done){let r=this.pendingTransition,i=r.total_time===0?0:(r.elapsed_time+n)/r.total_time,o=r.total_time===0?1:i===0?0:r.timingFunction(i);t[1]=r.from[1]+(r.to[1]-r.from[1])*o,t[2]=r.from[2]+(r.to[2]-r.from[2])*o,t[3]=r.from[3]+(r.to[3]-r.from[3])*o,t[4]=r.from[4]+(r.to[4]-r.from[4])*o,this.pendingTransition.elapsed_time+=n,this.pendingTransition.elapsed_time>=this.pendingTransition.total_time&&(this.pendingTransition.done=!0,this.pendingTransition.constrain&&this.constrainBounds({transition:{duration:this.pendingTransition.total_time===0?0:500,easing:sy.easeOutExpo}}))}}zoomTo(t,{origin:n,stream:r=!1,transition:i}={}){let o=this.runtime.getZoomedPosition(t,{origin:n}),s=Math.abs(1-t);this.applyTransition(o,i,{duration:2e3*s,easing:sy.easeOutExpo,constrain:!0},{stream:!1})}constrainBounds({transition:t,panPadding:n=0}={}){let[r,i]=this.runtime.constrainBounds(this.runtime.target,{panPadding:n});r&&(this.applyTransition(i,t,{duration:500,easing:sy.easeOutQuart,constrain:!1}),this.runtime.updateNextFrame())}applyTransition(t,n,r,{stream:i}={}){this.pendingTransition.from=cn(this.runtime.target),this.pendingTransition.to=t,i||(this.pendingTransition.elapsed_time=0),this.pendingTransition.done=!1,this.pendingTransition.total_time=typeof(n==null?void 0:n.duration)<"u"?n.duration:typeof(r==null?void 0:r.duration)<"u"?r.duration:1e3,this.pendingTransition.constrain=typeof(n==null?void 0:n.constrain)<"u"?n.constrain:typeof(r==null?void 0:r.constrain)<"u"?r.constrain:!1,this.pendingTransition.timingFunction=(n==null?void 0:n.easing)||(r==null?void 0:r.easing)||sy.easeInOutSine}goToRegion(t,{transition:n}={}){let r=this.runtime.clampRegion(t);this.applyTransition(Zr.singleBox(r.width,r.height,r.x,r.y),n,{duration:1e3,easing:sy.easeOutExpo,constrain:!0}),this.runtime.updateNextFrame()}},WO=class{constructor(t,n,r,i=[],o){be(this,"id",VO()),be(this,"ready",!1),be(this,"renderer"),be(this,"world"),be(this,"target"),be(this,"homePosition"),be(this,"manualHomePosition"),be(this,"manualFocalPosition"),be(this,"focalPosition"),be(this,"transitionManager"),be(this,"aggregate"),be(this,"transformBuffer",cn(500)),be(this,"lastTarget",cn(5)),be(this,"zoomBuffer",cn(5)),be(this,"logNextRender",!1),be(this,"pendingUpdate",!0),be(this,"isCommitting",!1),be(this,"firstRender",!0),be(this,"lastTime"),be(this,"stopId"),be(this,"mode","explore"),be(this,"controllers",[]),be(this,"controllersRunning",!1),be(this,"controllerStopFunctions",[]),be(this,"maxScaleFactor",1),be(this,"_viewerToWorld",{x:0,y:0}),be(this,"_lastGoodScale",1),be(this,"hooks",{useFrame:[],useBeforeFrame:[],useAfterPaint:[],useAfterFrame:[]}),be(this,"fpsLimit"),be(this,"options"),be(this,"hookOptions",{filters:{grayscale:0,contrast:0,brightness:0,saturate:0,sepia:0,invert:0,hueRotate:0,blur:0}}),be(this,"_viewport",{x:0,y:0,width:0,height:0}),be(this,"setViewport",s=>{let a=Math.round(typeof s.x>"u"?this.target[1]:s.x),l=Math.round(typeof s.y>"u"?this.target[2]:s.y);s.width?this.target[3]=a+s.width:this.target[3]=this.target[3]-this.target[1]+a,s.height?this.target[4]=l+s.height:this.target[4]=this.target[4]-this.target[2]+l,Math.abs(this.target[1]-a)>.01&&(this.target[1]=a),Math.abs(this.target[2]-l)>.01&&(this.target[2]=l),this.pendingUpdate=!0}),be(this,"render",s=>{let a=s-this.lastTime;if(this.isCommitting||this.fpsLimit&&a<1e3/this.fpsLimit){this.stopId=window.requestAnimationFrame(this.render);return}this.lastTime=s,this.world.flushSubscriptions(),this.stopId=window.requestAnimationFrame(this.render),this.hook("useFrame",a);let l=this.pendingUpdate,u=this.renderer.pendingUpdate();if(this.transitionManager.hasPending()&&(this.transitionManager.runTransition(this.target,a),this.pendingUpdate=!0,this.updateControllerPosition()),!this.firstRender&&!l&&!u&&this.target[0]===this.lastTarget[0]&&this.target[1]===this.lastTarget[1]&&this.target[2]===this.lastTarget[2]&&this.target[3]===this.lastTarget[3]&&this.target[4]===this.lastTarget[4])return;this.hook("useBeforeFrame",a),this.renderer.beforeFrame(this.world,a,this.target,this.hookOptions);let c=this.getScaleFactor(),f=this.renderer.getPointsAt(this.world,this.target,this.aggregate,c),p=f.length;for(let y=0;y<p;y++){let S=f[y][0],C=f[y][1],_=f[y][2],k=_?Sg(C,_,this.transformBuffer):C;this.renderer.prepareLayer(S,S.__parent&&_?Sg(S.__parent.crop||S.__parent.points,_):k);let w=k.length/5;for(let P=0;P<w;P++){let M=P*5;k[M]!==0&&(this.renderer.paint(S,P,k[M+1],k[M+2],k[M+3]-k[M+1],k[M+4]-k[M+2]),this.hook("useAfterPaint",S))}this.renderer.finishLayer(S,C)}this.renderer.afterFrame(this.world,a,this.target,this.hookOptions),this.hook("useAfterFrame",a),this.lastTarget[0]=this.target[0],this.lastTarget[1]=this.target[1],this.lastTarget[2]=this.target[2],this.lastTarget[3]=this.target[3],this.lastTarget[4]=this.target[4],this.firstRender=!1,this.pendingUpdate=!1,this.logNextRender=!1,this.renderer.isReady()&&(this.ready=!0,this.world.trigger("ready")),this.world.flushSubscriptions();let g=this.world.getScheduledUpdates(this.target,c),v=g.length;if(v>0)for(let y=0;y<v;y++){let S=g[v-y-1]();S?S.then(()=>{this.pendingUpdate=!0}):this.pendingUpdate=!0}}),this.renderer=t,this.world=n,this.options={maxOverZoom:1,maxUnderZoom:1,visibilityRatio:1.5,...o||{}},this.target=Zr.projection(r),this.manualHomePosition=!1,this.pendingUpdate=!0,this.homePosition=Zr.projection(this.world),this.manualFocalPosition=!1,this.focalPosition=this.target,this.updateFocalPosition(),this.transitionManager=new Kit(this),this.aggregate=I0(1),this.world.addLayoutSubscriber(s=>{s==="repaint"&&(this.pendingUpdate=!0),s==="recalculate-world-size"&&(this.manualHomePosition||(this.setHomePosition(),this.goHome()),this.updateFocalPosition())}),this.lastTime=performance.now(),this.controllers=i,this.render(this.lastTime),this.startControllers()}get x(){return this.target[1]}set x(t){this.target[1]=t}get y(){return this.target[2]}set y(t){this.target[2]=t}get x2(){return this.target[3]}set x2(t){this.target[3]=t}get y2(){return this.target[4]}set y2(t){this.target[4]=t}get width(){return this.target[3]-this.target[1]}set width(t){this.target[3]=this.target[1]+t}get height(){return this.target[4]-this.target[2]}set height(t){this.target[4]=this.target[2]=t}setHomePosition(t){this.homePosition.set(Zr.projection(t||this.world)),this.pendingUpdate=!0}startControllers(){if(!this.controllersRunning){for(let t of this.controllers)this.controllerStopFunctions.push(t.start(this));this.controllersRunning=!0}}stopControllers(){if(this.controllersRunning){for(let t of this.controllerStopFunctions)t();this.controllersRunning=!1,this.controllerStopFunctions=[]}}updateControllerPosition(){for(let t of this.controllers)t.updatePosition(this.x,this.y,this.width,this.height)}triggerResize(){this.renderer.triggerResize&&this.renderer.triggerResize(),this.pendingUpdate=!0}addController(t){this.controllers.push(t),this.controllersRunning&&t.start(this),this.pendingUpdate=!0}cover(){return this.goHome({cover:!0})}getRendererScreenPosition(){return this.renderer.getRendererScreenPosition()}updateRendererScreenPosition(){this.pendingUpdate=!0,this.renderer.resize()}setOptions(t){this.options={...this.options,...t}}goHome(t={}){if(this.world.width<=0||this.world.height<=0)return;let n=this.getScaleFactor(),r=t.position?{x:t.position[1],y:t.position[2],width:t.position[3]-t.position[1],height:t.position[4]-t.position[2]}:{x:this.homePosition[1],y:this.homePosition[2],width:this.homePosition[3]-this.homePosition[1],height:this.homePosition[4]-this.homePosition[2]},i=this.width*n,o=this.height*n,s=r.width/i,a=r.height/o,l=i/o;if(t.cover?s>a:s<a){let u=l*r.height,c=(u-r.width)/2;this.target[1]=Math.round(-c+r.x),this.target[2]=Math.round(r.y),this.target[3]=Math.round(u-c+r.x),this.target[4]=Math.round(r.height+r.y)}else{let u=r.width/l,c=(u-r.height)/2;this.target[1]=Math.round(r.x),this.target[2]=Math.round(r.y-c),this.target[3]=Math.round(r.x+r.width),this.target[4]=Math.round(r.y+u-c)}this.constrainBounds(this.target),this.updateControllerPosition()}resize(t,n,r,i){this.updateFocalPosition(t-n,r-i);let o=n/t,s=i/r;this.target[3]=this.target[1]+(this.target[3]-this.target[1])*o,this.target[4]=this.target[2]+(this.target[4]-this.target[2])*s,this.goHome({position:this.focalPosition}),this.renderer.resize(n,i),this.pendingUpdate=!0}updateFocalPosition(t,n){if(!this.manualFocalPosition){let r=this.width,i=this.height,o=Math.min(r,i),s=0,a=0,l=this.x+s,u=this.y+a;if(r<i){let c=this.height-this.width;this.focalPosition=Zr.projection({x:l,y:u+c/2,width:o-s*2,height:o-a*2}),this.pendingUpdate=!0}else{let c=this.width-this.height;this.focalPosition=Zr.projection({x:l+c/2,y:u,width:o-s*2,height:o-a*2}),this.pendingUpdate=!0}}}getViewport(){return this._viewport.x=this.target[1],this._viewport.y=this.target[2],this._viewport.width=this.target[3]-this.target[1],this._viewport.height=this.target[4]-this.target[2],this._viewport}constrainBounds(t,{panPadding:n=0,ref:r=!1}={}){let{minX:i,maxX:o,minY:s,maxY:a}=this.getBounds({target:t,padding:n}),l=!1,u=r?t:cn(t),c=Math.round(t[3]-t[1]),f=Math.round(t[4]-t[2]);return i>t[1]&&(l=!0,u[1]=i,u[3]=i+c),s>t[2]&&(l=!0,u[2]=s,u[4]=s+f),o<t[1]&&(l=!0,u[1]=o,u[3]=o+c),a<t[2]&&(l=!0,u[2]=a,u[4]=a+f),[l,u]}getBounds(t){let n=t.target||this.target,r=t.padding,i=this.options.visibilityRatio,o=Math.abs(1-i);if(this.world.hasActiveZone()){let _=this.world.getActiveZone();if(_){let k=n[3]-n[1]<_.points[3]-_.points[1],w=n[4]-n[2]<_.points[4]-_.points[2];return{minX:k?_.points[1]-r:_.points[1]+(_.points[3]-_.points[1])/2-(n[3]-n[1])/2,maxX:w?_.points[2]-r:_.points[2]+(_.points[4]-_.points[2])/2-(n[4]-n[2])/2,minY:k?_.points[3]+r:_.points[1]+(_.points[3]-_.points[1])/2-(n[3]-n[1])/2,maxY:w?_.points[4]+r:_.points[2]+(_.points[4]-_.points[2])/2-(n[4]-n[2])/2}}}let s=n[3]-n[1],a=this.world.width,l=-s*o,u=a-s-l,c=n[4]-n[2],f=this.world.height,p=-c*o,g=f-c-p,v=Math.round(Math.max(l,u)),y=Math.round(Math.min(l,u)),S=Math.round(Math.max(p,g)),C=Math.round(Math.min(p,g));return{minX:y,maxX:v,minY:C,maxY:S}}getScaleFactor(t=!1){let n=this.renderer.getScale(this.target[3]-this.target[1],this.target[4]-this.target[2],t);return n===0?this._lastGoodScale:(this._lastGoodScale=n,n)}getZoomedPosition(t,{origin:n,fromPos:r}){var S;let i=r?{width:r[3]-r[1],height:r[4]-r[2]}:void 0,o=i?this.renderer.getScale(i.width,i.height):this.getScaleFactor(),s=i?i.width:this.width,a=i?i.height:this.height,l=(S=this.getRendererScreenPosition())==null?void 0:S.width,u=this.world.width,c=l?l/u:1,f=this.options.maxUnderZoom,p=Math.max(c||1,this.options.maxOverZoom),g=1/t,v=o*g;if(g<1){let C=s*o,_=a*o,k=this.world.width/C,w=this.world.height/_;if(k>w){let P=this.world.width*v,M=~~(s*o)*f;P<M&&(t=this.world.width*o/(s*o*f))}else{let P=this.world.height*v,M=~~(a*o)*f;P<M&&(t=this.world.height*o/(a*o*f))}}else v>p&&(t=o/p);let y=Sg(this.target,x4(t,n?n.x:this.target[1]+(this.target[3]-this.target[1])/2,n?n.y:this.target[2]+(this.target[4]-this.target[2])/2),this.zoomBuffer);return this.constrainBounds(y,{ref:!0,panPadding:100}),y}clampRegion({x:t,y:n,width:r,height:i,padding:o=0}){let s=this.width,a=this.height,l=r/s<i/a,u=t-o,c=n-o,f=r+o*2,p=i+o*2;if(l){let v=p/a*s;return{x:u-(v-f)/2,y:c,width:v,height:p}}let g=f/s*a;return{x:u,y:c-(g-p)/2,width:f,height:g}}viewerToWorld(t,n){let r=this.getScaleFactor();return this._viewerToWorld.x=this.target[1]+t/r,this._viewerToWorld.y=this.target[2]+n/r,this._viewerToWorld}worldToViewer(t,n,r,i){let o=Zr.singleBox(r,i,t,n);return _p(o,xg(I0(this.getScaleFactor()),nu(-this.target[1],-this.target[2]))),{x:o[1],y:o[2],width:o[3]-o[1],height:o[4]-o[2],strand:o}}setScale(t,n){_p(this.target,x4(t,n?n.x:this.target[1]+(this.target[3]-this.target[1])/2,n?n.y:this.target[2]+(this.target[4]-this.target[2])/2)),this.pendingUpdate=!0}syncTo(t){let n=this.target;return this.target=t.target,this.pendingUpdate=!0,()=>{this.target=n}}stop(){return typeof this.stopId<"u"&&(window.cancelAnimationFrame(this.stopId),this.stopId=void 0),()=>{this.render(performance.now())}}reset(){this.renderer.reset()}selectZone(t){this.world.selectZone(t),this.pendingUpdate=!0}deselectZone(){this.world.deselectZone(),this.pendingUpdate=!0}hook(t,n){let r=this.hooks[t].length;if(r!==0)for(let i=0;i<r;i++)this.hooks[t][i](n)}registerHook(t,n){return this.hooks[t].push(n),()=>{this.hooks[t]=this.hooks[t].filter(r=>r!==n)}}updateNextFrame(){this.pendingUpdate=!0}},fM=/([0-9]+(px|em)\s+)+(solid)\s+(.*)/g,hM={},qit=["backgroundColor","opacity","boxShadow","borderColor","borderWidth","borderStyle","outlineColor","outlineWidth","outlineOffset","outlineStyle"],s3e=class extends Qp{constructor(){super(),be(this,"id"),be(this,"type","spacial-content"),be(this,"isShape",!0),be(this,"points"),be(this,"hoverEvents",!1),be(this,"activeEvents",!1),be(this,"display",{x:0,y:0,scale:1,width:-1,height:-1,points:cn(5)}),be(this,"boundingBox",null),be(this,"_parsed",{border:{id:null,match:[]},outline:{id:null,match:[]}}),be(this,"hovering"),be(this,"pressing"),be(this,"props",{}),be(this,"shape",{type:"none"}),be(this,"addHover",()=>{this.hovering=!0,this.__revision++}),be(this,"removeHover",()=>{this.hovering=!1,this.pressing=!1,this.__revision++}),be(this,"addPress",()=>{this.pressing=!0,this.__revision++}),be(this,"removePress",()=>{this.pressing=!1,this.__revision++}),this.id=VO(12),this.points=cn(5),this.shape={type:"none"}}updateBoundingBox(){if(this.shape.type==="none")return;let t=this.shape.points;if(this.shape.points.length>2){let n=Math.min(...t.map(s=>s[0])),r=Math.min(...t.map(s=>s[1])),i=Math.max(0,...t.map(s=>s[0])),o=Math.max(0,...t.map(s=>s[1]));this.boundingBox={x:n,y:r,width:i-n,height:o-r};return}this.boundingBox=null}intersects(t){if(!t||this.shape.type==="none")return!1;let[n,r]=t,i=this.shape.points,o=this.boundingBox;if(o||(this.updateBoundingBox(),o=this.boundingBox),!o||n<o.x||n>o.x+o.width||r<o.y||r>o.height+o.y)return!1;let s=!1;for(let a=0,l=i.length-1;a<i.length;l=a++)i[a][1]>r!=i[l][1]>r&&n<(i[l][0]-i[a][0])*(r-i[a][1])/(i[l][1]-i[a][1])+i[a][0]&&(s=!s);return s}getAllPointsAt(t,n){return t[3]-t[1]===1&&t[4]-t[2]===1?this.intersects([t[1],t[2]])?[[this,this.points,n]]:[]:[[this,this.points,n]]}applyProps(t={}){let n=!1;if(t.points)if(this.shape.type!=="polygon"||this.shape.points.length!==t.points.length)this.shape={type:"polygon",points:t.points,open:t.open},this.updateBoundingBox();else{let r=!1,i=t.points.length;for(let o=0;o<i;o++)if(t.points[o][0]!==this.shape.points[o][0]||t.points[o][1]!==this.shape.points[o][1]){r=!0;break}r&&(this.shape={type:"polygon",points:t.points,open:t.open},this.updateBoundingBox())}if(t.interactive!==this.props.interactive&&(n=!0,this.props.interactive=t.interactive),(t.open||t.open===!1)&&(n=!0,this.shape.open=t.open),t.style){let r=t.border||t.style.border;if(r!==this._parsed.border.id)if(!r)this._parsed.border.id=null,this._parsed.border.match=[];else{let i=hM[r]||fM.exec(r)||fM.exec(r);i&&(this._parsed.border.id=r,this._parsed.border.match=hM[r]=i)}if(this._parsed.border.id&&(t.style.borderWidth=this._parsed.border.match[1],t.style.borderStyle="solid",t.style.borderColor=this._parsed.border.match[4]),t.style.outline!==this._parsed.outline.id)if(!t.style.outline)this._parsed.outline.id=null,this._parsed.outline.match=[];else{let i=hM[t.style.outline]||fM.exec(t.style.outline)||fM.exec(t.style.outline);i&&(this._parsed.outline.id=t.style.outline,this._parsed.outline.match=hM[t.style.outline]=i)}this._parsed.outline.id&&(t.style.outlineWidth=this._parsed.outline.match[1],t.style.outlineStyle="solid",t.style.outlineColor=this._parsed.outline.match[4]),this.props.style=t.style,t.backgroundColor&&!this.props.style.backgroundColor&&(this.props.style.backgroundColor=t.backgroundColor,n=!0),t.style.background&&!this.props.style.backgroundColor&&(this.props.style.backgroundColor=t.style.background,n=!0);for(let i of qit)if(this.props.style[i]!==t.style[i]){n=!0;break}t.style[":hover"]!==this.props.hoverStyles&&(this.props.hoverStyles=t.style[":hover"],this.hoverEvents||(this.hoverEvents=!0,this.addEventListener("pointerenter",this.addHover),this.addEventListener("pointerleave",this.removeHover)),n=!0),t.style[":active"]!==this.props.pressStyles&&(this.props.pressStyles=t.style[":active"],this.activeEvents||(this.activeEvents=!0,this.addEventListener("mousedown",this.addPress),this.addEventListener("mouseup",this.removePress)),n=!0)}t.href!==this.props.href&&(this.props.href=t.href,n=!0),t.hrefTarget!==this.props.hrefTarget&&(this.props.hrefTarget=t.hrefTarget,n=!0),t.title!==this.props.title&&(this.props.title=t.title,n=!0),t.className!==this.props.className&&(this.props.className=t.className,t.className&&!this.hoverEvents&&(this.hoverEvents=!0,this.addEventListener("pointerenter",this.addHover),this.addEventListener("pointerleave",this.removeHover)),t.className&&!this.activeEvents&&(this.activeEvents=!0,this.addEventListener("mousedown",this.addPress),this.addEventListener("mouseup",this.removePress)),n=!0),t.relativeSize!==this.props.relativeSize&&(this.props.relativeSize=t.relativeSize,n=!0),t.relativeStyle!==this.props.relativeStyle&&(this.props.relativeStyle=t.relativeStyle,n=!0),t.html!==this.props.html&&(this.props.html=t.html,n=!0),t.target&&(t.target.width!==this.display.width||t.target.height!==this.display.height||t.target.x!==this.points[1]||t.target.y!==this.points[2])&&(n=!0,this.points=Zr.singleBox(t.target.width,t.target.height,t.target.x,t.target.y),this.display.points=Zr.singleBox(t.target.width,t.target.height,t.target.x,t.target.y),this.display.width=t.target.width,this.display.height=t.target.height),n&&this.__revision++}},pae=/(-?[0-9]+(px|em)\s+|0\s+)(-?[0-9]+(px|em)\s+|0\s+)(-?[0-9]+(px|em)\s+|0\s+)?(-?[0-9]+(px|em)\s+|0\s+)?(.*)/g,mae={},Git=typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes("firefox"),pM={},Zit=class{constructor(t,n){be(this,"canvas"),be(this,"ctx"),be(this,"options"),be(this,"imagesPending",0),be(this,"imagesLoaded",0),be(this,"imageIdsLoaded",[]),be(this,"frameIsRendering",!1),be(this,"pendingDrawCall",!1),be(this,"firstMeaningfulPaint",!1),be(this,"parallelTasks",8),be(this,"frameTasks",0),be(this,"loadingQueueOrdered",!0),be(this,"loadingQueue",[]),be(this,"currentTask",Promise.resolve()),be(this,"tasksRunning",0),be(this,"stats"),be(this,"averageJobTime",64),be(this,"lastKnownScale",1),be(this,"visible",[]),be(this,"previousVisible",[]),be(this,"rendererPosition"),be(this,"dpi"),be(this,"drawCalls",[]),be(this,"lastPaintedObject"),be(this,"hostCache"),be(this,"invalidated",[]),be(this,"_worker",()=>{if(this.loadingQueue.length){let r=this.loadingQueue.pop();r&&(this.tasksRunning++,this.frameTasks++,this.currentTask=r.task().then(()=>{this.tasksRunning--}).catch(()=>{this.tasksRunning--}))}}),be(this,"_scheduled",0),be(this,"_doWork",()=>{this.loadingQueue.length===0&&this.tasksRunning===0&&this._scheduled&&(clearInterval(this._scheduled),this._scheduled=0);let r=this.parallelTasks||1;!this.firstMeaningfulPaint&&this.loadingQueue.length&&(r=this.loadingQueue.length);for(let i=0;i<=r;i++)this._worker()}),this.canvas=t,this.rendererPosition=t.getBoundingClientRect(),this.ctx=t.getContext("2d",{alpha:!0}),this.ctx.imageSmoothingEnabled=!0,this.options=n||{},this.canvas.style.transition="opacity .3s",this.dpi=(n==null?void 0:n.dpi)||1,this.hostCache=n!=null&&n.lruCache?new tx({maxSize:1024*512*512,dispose:(r,i,o)=>{this.invalidated.push(i),r.width=0,r.height=0},sizeCalculation:(r,i)=>r.width*r.height}):{store:{},get(r){return this.store[r]},set(r,i){this.store[r]=i}}}getCanvasDims(){return{width:this.canvas.width/this.dpi,height:this.canvas.height/this.dpi}}resize(){this.rendererPosition=this.canvas.getBoundingClientRect()}isReady(){return this.firstMeaningfulPaint}afterFrame(t){if(this.clearTransform(),this.lastPaintedObject=void 0,this.frameIsRendering=!1,this.imagesPending=Math.max(0,this.imagesPending-this.imagesLoaded),this.imagesLoaded=0,this.loadingQueueOrdered||(this.loadingQueue=this.loadingQueue.sort((n,r)=>n.network&&n.scale===r.scale?r.distance-n.distance:n.scale<r.scale?-1:1),this.loadingQueueOrdered=!0),this.previousVisible=this.visible,this.pendingDrawCall=!!this.drawCalls.length,this.pendingDrawCall)for(let n=0;n<this.drawCalls.length;n++){let r=this.drawCalls.shift();r&&r()}this.doOffscreenWork(),this.options.debug&&this.stats&&this.stats.end()}doOffscreenWork(){this.frameTasks=0,this.loadingQueue.length&&(this._worker(),this.loadingQueue.length&&(this._scheduled||(this._scheduled=setInterval(this._doWork,0))))}getScale(t,n,r){if(Number.isNaN(t)||Number.isNaN(n))return this.lastKnownScale;let i=this.getCanvasDims(),o=i.width/t,s=i.height/n,a=(o<s?s:o)*(r&&this.dpi||1);return Number.isNaN(a)||(this.lastKnownScale=a),this.lastKnownScale}beforeFrame(t,n,r,i){this.options.debug&&this.stats&&this.stats.begin(),this.frameIsRendering=!0,this.visible=[],this.options.beforeFrame&&this.options.beforeFrame(n);let o=this.getCanvasDims();if(this.ctx.globalAlpha=1,this.ctx.fillStyle=this.canvas.dataset.background??"rgb(0, 0, 0)",this.ctx.fillRect(0,0,o.width,o.height),i.enableFilters&&(i.filters.brightness||i.filters.contrast||i.filters.grayscale||i.filters.invert||i.filters.sepia||i.filters.saturate||i.filters.hueRotate||i.filters.blur)){let s="";i.filters.brightness&&(s+=`brightness(${~~(100+i.filters.brightness*100)}%) `),i.filters.contrast&&(s+=`contrast(${~~(100+i.filters.contrast*100)}%) `),i.filters.grayscale&&(s+=`grayscale(${~~(i.filters.grayscale*100)}%) `),i.filters.invert&&(s+=`invert(${~~(i.filters.invert*100)}%) `),i.filters.sepia&&(s+=`sepia(${~~(i.filters.sepia*100)}%) `),i.filters.saturate&&(s+=`saturate(${~~(100+i.filters.saturate*100)}%) `),i.filters.hueRotate&&(s+=`hue-rotate(${i.filters.hueRotate}deg) `),i.filters.blur&&(s+=`blur(${i.filters.blur}px) `),this.ctx.filter=s}else this.ctx.filter="none"}applyTransform(t,n,r,i,o){let s=t.__owner.value;if(s&&s.rotation){this.ctx.save();let a=n+i/2,l=r+o/2;this.ctx.translate(a,l),this.ctx.rotate(s.rotation*Math.PI/180),this.ctx.translate(-a,-l),this.lastPaintedObject=s}}clearTransform(){this.lastPaintedObject&&(this.lastPaintedObject.rotation&&this.ctx.restore(),this.lastPaintedObject=void 0)}paint(t,n,r,i,o,s){let a=this.ctx.globalAlpha;if(t instanceof R0||t instanceof S4){if(t.display.rotation){this.ctx.save();let c=r+o/2,f=i+s/2;t.crop&&(c-=t.crop[n*5+1],f-=t.crop[n*5+2]),this.ctx.translate(c,f),this.ctx.rotate(t.display.rotation*Math.PI/180),this.ctx.translate(-c,-f)}if(this.visible.push(t),typeof t.style&&t.style.opacity!=="undefined"){if(!t.style.opacity)return;this.ctx.globalAlpha=t.style.opacity}try{let c=t.__host.canvas,f=this.getCanvasDims();if((c.indices.indexOf(n)===-1||this.invalidated.indexOf(c.canvases[n])!==-1)&&this.schedulePaintToCanvas(c,t,n,VR({x:r+o/2,y:i+o/2},{x:f.width/2,y:f.height/2})),!this.firstMeaningfulPaint)return;let p=this.hostCache.get(c.canvases[n]);if(p)if(t.crop&&t.cropData){if(t.crop[n*5]){let g=[t.crop[n*5+1]/t.display.scale-t.display.points[n*5+1],t.crop[n*5+2]/t.display.scale-t.display.points[n*5+2],1+(t.crop[n*5+3]-t.crop[n*5+1])/t.display.scale,1+(t.crop[n*5+4]-t.crop[n*5+2])/t.display.scale];g[0]+=t.cropData.x/t.display.scale,g[1]+=t.cropData.y/t.display.scale;let v=t.x*this.lastKnownScale,y=t.y*this.lastKnownScale,S=[r+v,i+y,o,s];S[0]+=v,S[1]+=y,this.ctx.drawImage(p,g[0],g[1],g[2],g[3],S[0],S[1],S[2]+1,S[3]+1)}}else Git?this.ctx.drawImage(p,0,0,t.display.points[n*5+3]-t.display.points[n*5+1],t.display.points[n*5+4]-t.display.points[n*5+2],r,i,o+1,s+1):this.ctx.drawImage(p,0,0,t.display.points[n*5+3]-t.display.points[n*5+1],t.display.points[n*5+4]-t.display.points[n*5+2],r,i,o+Number.MIN_VALUE+.5,s+Number.MIN_VALUE+.5)}catch{}t.display.rotation&&this.ctx.restore()}let l=t instanceof uP&&this.options.box,u=t instanceof s3e&&this.options.polygon;if((l||u)&&!t.props.className&&!t.props.html&&!t.props.href){if(this.visible.push(t),t.props.style){let c=Object.assign({},t.props.style||{},t.hovering?t.props.hoverStyles:{},t.pressing?t.props.pressStyles:{}),f=t.props.relativeStyle?1:o/t.width;typeof c.opacity<"u"&&(this.ctx.globalAlpha=c.opacity);let p=0;typeof c.borderWidth<"u"&&(p=parseInt(c.borderWidth,10)*f);let g=0;typeof c.outlineWidth<"u"&&(g=parseInt(c.outlineWidth,10)*f);let v=0;if(typeof c.outlineOffset<"u"&&(v=parseInt(c.outlineOffset,10)*f),c.borderColor&&(this.ctx.strokeStyle=c.borderColor),c.boxShadow){let y=c.boxShadow.split(/,(?![^(]*\))/);for(let S of y){let C=mae[S]||pae.exec(S)||pae.exec(S);mae[S]=C,C&&(this.ctx.save(),this.ctx.shadowOffsetX=parseInt(C[1])*this.dpi*f,this.ctx.shadowOffsetY=parseInt(C[3])*this.dpi*f,this.ctx.shadowBlur=parseInt(C[5])*this.dpi*f,this.ctx.shadowColor=C[9],this.ctx.fillStyle="rgba(0,0,0,1)",this.ctx.fillRect(r+p,i+p,o,s),this.ctx.restore())}}if(this.ctx.fillStyle=c.backgroundColor||"transparent",this.ctx.lineWidth=p,u){let y=t.shape,S=y.points||[],C=S.length;this.ctx.beginPath();for(let _=0;_<C;_++)this.ctx.lineTo(r+S[_][0]*this.lastKnownScale,i+S[_][1]*this.lastKnownScale);y.open||this.ctx.closePath(),p&&this.ctx.stroke(),y.open||this.ctx.fill()}else p&&this.ctx.strokeRect(r+p/2,i+p/2,o+p,s+p),this.ctx.fillRect(r+p,i+p,o,s);g&&(c.outlineColor&&(this.ctx.strokeStyle=c.outlineColor),this.ctx.lineWidth=g,this.ctx.strokeRect(r-g/2-v,i-g/2-v,o+p*2+g+v*2,s+p*2+g+v*2))}this.ctx.globalAlpha=a}}loadImage(t,n,r,i=!1){if(pM[t]&&pM[t].naturalWidth>0){n(pM[t]);return}try{let o=!1;i||setTimeout(()=>{o||this.loadImage(t,n,r,!0)},3e3);let s=document.createElement("img");s.decoding="auto",s.onload=function(){o=!0,n(s),pM[t]=s,s.onload=null},this.options.crossOrigin&&(s.crossOrigin="anonymous"),s.src=t,s.complete&&s.onload({}),s.width}catch(o){console.log("image error",o),r(o)}}schedulePaintToCanvas(t,n,r,i){this.imagesPending++,t.indices.push(r);let o=`${n.id}--${n.display.scale}-${r}`,s=this.invalidated.indexOf(o);s!==-1&&this.invalidated.splice(s,1),t.canvases[r]=o,n.__host.canvas.loading=!0,this.loadingQueueOrdered=!1,this.loadingQueue.push({id:o,scale:n.display.scale,network:!0,distance:i,task:()=>new Promise(a=>{if(this.visible.indexOf(n)===-1){this.imagesPending--,t.indices.splice(t.indices.indexOf(r),1),a();return}let l=n.getImageUrl(r);this.loadImage(l,u=>{this.loadingQueue.push({id:o,scale:n.display.scale,distance:i,task:()=>new Promise(c=>{this.imageIdsLoaded.includes(o)||(this.imagesLoaded++,this.imageIdsLoaded.push(o)),t.loaded.push(r),t.loaded.length===t.indices.length&&(t.loading=!1);let f=n.display.points.slice(r*5,r*5+5),p=document.createElement("canvas"),g=p.getContext("2d");p.width=f[3]-f[1],p.height=f[4]-f[2],this.hostCache.set(t.canvases[r],p),this.drawCalls.push(()=>{g.drawImage(u,0,0,f[3]-f[1],f[4]-f[2]),c()})})}),a()},u=>{this.imagesPending--,t.indices.splice(t.indices.indexOf(r),1),a()})})})}afterPaintLayer(t,n){}prepareLayer(t,n){t.__owner.value&&(t.cropData?(this.lastKnownScale*(1/t.display.scale),this.applyTransform(t,n[1],n[2],n[3]-n[1],n[4]-n[2])):this.applyTransform(t,n[1],n[2],n[3]-n[1],n[4]-n[2])),(!t.__host||!t.__host.canvas)&&(t instanceof R0||t instanceof S4)&&this.createImageHost(t)}finishLayer(){this.lastPaintedObject&&this.clearTransform()}createImageHost(t){t.__host=t.__host?t.__host:{},t.__host.canvas={canvas:void 0,canvases:[],indices:[],loaded:[],loading:!1}}getPointsAt(t,n,r,i){return t.getPointsAt(n,r,i)}getViewportBounds(t,n,r){let i=t.getActiveZone();if(i){let o=n[3]-n[1]<i.points[3]-i.points[1],s=n[4]-n[2]<i.points[4]-i.points[2];return{x1:o?i.points[1]-r:i.points[1]+(i.points[3]-i.points[1])/2-(n[3]-n[1])/2,y1:s?i.points[2]-r:i.points[2]+(i.points[4]-i.points[2])/2-(n[4]-n[2])/2,x2:o?i.points[3]+r:i.points[1]+(i.points[3]-i.points[1])/2-(n[3]-n[1])/2,y2:s?i.points[4]+r:i.points[2]+(i.points[4]-i.points[2])/2-(n[4]-n[2])/2}}return null}pendingUpdate(){let t=!this.pendingDrawCall&&this.drawCalls.length===0&&this.imagesPending===0&&this.loadingQueue.length===0&&this.tasksRunning===0;return!t&&this.visible.length===0&&setTimeout(()=>{this.canvas.style.opacity="1",this.firstMeaningfulPaint=!0},500),!this.firstMeaningfulPaint&&t&&this.visible.length?(this.canvas.style.opacity="1",this.firstMeaningfulPaint=t,!0):this.options.debug?!0:!t}getRendererScreenPosition(){return this.rendererPosition}reset(){this.loadingQueue=[],this.drawCalls=[]}},a3e=class{constructor(t){be(this,"renderers",[]),be(this,"length");for(let n of t)n&&this.renderers.push(n);this.length=this.renderers.length}afterFrame(t,n,r,i){for(let o=0;o<this.length;o++)this.renderers[o].afterFrame(t,n,r,i)}afterPaintLayer(t,n){for(let r=0;r<this.length;r++)this.renderers[r].afterPaintLayer(t,n)}beforeFrame(t,n,r,i){for(let o=0;o<this.length;o++)this.renderers[o].beforeFrame(t,n,r,i)}triggerResize(){for(let t=0;t<this.length;t++){let n=this.renderers[t];n.triggerResize&&n.triggerResize()}}getPointsAt(t,n,r,i){return this.renderers[0].getPointsAt(t,n,r,i)}getScale(t,n){return this.renderers[0].getScale(t,n)}getViewportBounds(t,n,r){return this.renderers[0].getViewportBounds(t,n,r)}getRendererScreenPosition(){return this.renderers[0].getRendererScreenPosition()}isReady(){for(let t=0;t<this.length;t++)if(!this.renderers[t].isReady())return!1;return!0}paint(t,n,r,i,o,s){for(let a=0;a<this.length;a++)this.renderers[a].paint(t,n,r,i,o,s)}pendingUpdate(){for(let t=0;t<this.length;t++)if(this.renderers[t].pendingUpdate())return!0;return!1}prepareLayer(t,n){for(let r=0;r<this.length;r++)this.renderers[r].prepareLayer(t,n)}finishLayer(t,n){for(let r=0;r<this.length;r++)this.renderers[r].finishLayer(t,n)}resize(t,n){for(let r=0;r<this.length;r++)this.renderers[r].resize(t,n)}reset(){for(let t=0;t<this.length;t++)this.renderers[t].reset()}},Yit=class{constructor(t){be(this,"canvas"),be(this,"context"),be(this,"heightRatio",1),be(this,"widthRatio",1),be(this,"target",new Float32Array(5)),be(this,"initialWidth"),be(this,"initialHeight"),be(this,"bounds"),be(this,"aggregate"),be(this,"delta",0),be(this,"renderNextFrame",!0),this.canvas=t,this.initialWidth=t.width,this.initialHeight=t.height,this.context=t.getContext("2d"),this.context.globalAlpha=.5,this.aggregate=I0(1)}isReady(){return!0}resize(){this.initialWidth=this.canvas.width,this.initialHeight=this.canvas.height,this.renderNextFrame=!0}afterFrame(t,n,r){if(this.renderNextFrame){this.context.clearRect(0,0,this.canvas.width,this.canvas.height);let i=this.initialWidth/t.width,o=this.initialHeight/t.height,s=this.widthRatio>this.heightRatio?i:o;if(this.target=r,this.bounds){let a=t.getPointsAt(this.bounds,this.aggregate,s);for(let[l,u]of a)if(l instanceof R0&&l.__host.canvas){let c=u.length/5;for(let f=0;f<c;f++)l.__host.canvas.canvases[f]&&(u[f+1]*s,u[f+2]*s,(u[f+3]-u[f+1])*s,(u[f+4]-u[f+2])*s)}}t.getPoints().forEach((a,l,u)=>{if(l%5===0&&a){let c={x1:u[l+1]*s,y1:u[l+2]*s,x2:u[l+3]*s,y2:u[l+4]*s,width:(u[l+3]-u[l+1])*s,height:(u[l+4]-u[l+2])*s};this.context.strokeStyle="red",this.context.strokeRect(c.x1,c.y1,c.width,c.height)}}),r&&(this.context.strokeStyle="red",this.context.lineWidth=window.devicePixelRatio||1,this.context.strokeRect(r[1]*s,r[2]*s,(r[3]-r[1])*s,(r[4]-r[2])*s))}}getActiveZone(t){return null}getPointsAt(t,n,r,i){return t.getPointsAt(n,r,i)}getScale(t,n){return 1}beforeFrame(t,n){this.bounds=Zr.singleBox(t.width,t.height)}drawImage(){}afterPaintLayer(t,n){}paint(t,n,r,i,o,s){this.renderNextFrame=!0}prepareLayer(t){}pendingUpdate(){return!1}hasActiveZone(){return!1}getViewportBounds(t,n,r){return null}getRendererScreenPosition(){return this.canvas.getBoundingClientRect()}finishLayer(){}reset(){}};function Xit(e){return{x:e[1],y:e[2],width:e[3]-e[1],height:e[4]-e[2]}}var gae="pan",vae="scroll",Qit="gesture",Jit={zoomOutFactor:.8,zoomInFactor:1.25,maxZoomFactor:1,minZoomFactor:.05,zoomDuration:300,zoomWheelConstant:20,zoomClamp:.6,panBounceStiffness:120,panBounceDamping:15,panTimeConstant:240,panPower:.1,nudgeDistance:100,panPadding:0,devicePixelRatio:1,enableWheel:!0,enableClickToZoom:!0,ignoreSingleFingerTouch:!1,enablePanOnWait:!1,requireMetaKeyForWheelZoom:!1,panOnWaitDelay:40,onPanInSketchMode:()=>{},parentElement:null},l3e=(e={})=>({start:function(t){let{zoomWheelConstant:n,enableWheel:r,enableClickToZoom:i,ignoreSingleFingerTouch:o,enablePanOnWait:s,panOnWaitDelay:a,parentElement:l,requireMetaKeyForWheelZoom:u}={...Jit,...e},c={pointerStart:{x:0,y:0},isPressing:!1,mousemoveBuffer:cn(5),multiTouch:{distance:0}};t.world.activatedEvents.push("onMouseUp","onMouseDown","onMouseMove","onTouchStart","onTouchEnd","onTouchMove");function f(){y=0,C="",k(),k(void 0,"notice"),S=0}function p(){t.world.constraintBounds(),f()}function g(O){if(O.which>1){c.isPressing=!1;return}t.mode==="explore"&&(O.preventDefault(),c.pointerStart.x=O.atlas.x,c.pointerStart.y=O.atlas.y,t.transitionManager.stopTransition(),c.isPressing=!0)}function v(){f(),c.isPressing&&(t.mode==="explore"&&t.world.constraintBounds(),c.isPressing=!1)}let y=0,S=0,C="";function _(O){if(t.mode==="explore"){if(O.atlasTouches.length===1&&(S=performance.now(),o==!1&&O.preventDefault(),c.pointerStart.x=O.atlasTouches[0].x,c.pointerStart.y=O.atlasTouches[0].y),O.atlasTouches.length===2){C=Qit,O.preventDefault();let z=O.atlasTouches[0].x,G=O.atlasTouches[1].x;c.pointerStart.x=(z+G)/2;let ee=O.atlasTouches[0].y,X=O.atlasTouches[1].y;c.pointerStart.y=(ee+X)/2,y=VR({x:O.touches[0].clientX,y:O.touches[0].clientY},{x:O.touches[1].clientX,y:O.touches[1].clientY})}t.transitionManager.stopTransition(),c.isPressing=!0}}function k(O,z="intent"){l&&(l.dataset[z]=O)}function w(O){let z=null,G=null,ee=0;if(c.isPressing&&O.touches.length===2){let X=O.touches[0].clientX,se=O.touches[1].clientX;z=(X+se)/2;let B=O.touches[0].clientY,q=O.touches[1].clientY;G=(B+q)/2,ee=VR({x:O.touches[0].clientX,y:O.touches[0].clientY},{x:O.touches[1].clientX,y:O.touches[1].clientY})}if(k(C),c.isPressing&&O.touches.length===1){if(s&&(performance.now()-S<a&&C==""&&(C=vae),C==""&&(C=gae)),k(C),C==""&&o==!0||C==vae){k("require-two-finger","notice");return}let X=O.touches[0];z=X.clientX,G=X.clientY}if(z!==null&&G!==null){let X=t.getRendererScreenPosition();if(X){let{x:se,y:B}=t.viewerToWorld(z-X.x,G-X.y),q=ee&&y?ee/y:1;t.transitionManager.customTransition(U=>{U.from=cn(t.target),U.to=Sg(U.from,xg(nu(c.pointerStart.x-se,c.pointerStart.y-B),x4(1/q,se,B)),c.mousemoveBuffer),U.elapsed_time=0,U.total_time=0,U.timingFunction=sy.easeInOutExpo,U.done=!1})}y=ee}C==gae&&O.preventDefault()}function P(O){if(c.isPressing){let z=t.getRendererScreenPosition();if(z){let{x:G,y:ee}=t.viewerToWorld(O.clientX-z.x,O.clientY-z.y);t.transitionManager.customTransition(X=>{X.from=cn(t.target),X.to=Sg(X.from,nu(c.pointerStart.x-G,c.pointerStart.y-ee),c.mousemoveBuffer),X.elapsed_time=0,X.total_time=0,X.timingFunction=sy.easeInOutExpo,X.done=!1})}}}function M(O){t.mode==="explore"&&t.world.zoomIn(O.atlas)}function R(O){let z=1+zrt(O).spinY/n;t.world.zoomTo(z,O.atlas,!0)}function D(O){return u&&O.metaKey==!1?(k("meta-required","notice"),O.stopPropagation(),!1):!0}t.world.addEventListener("mouseup",p),t.world.addEventListener("touchend",p),t.world.addEventListener("touchstart",_),t.world.addEventListener("mousedown",g),window.addEventListener("touchend",v),window.addEventListener("mouseup",v),window.addEventListener("mousemove",P),l&&l.addEventListener("touchmove",w),i&&(t.world.activatedEvents.push("onClick"),t.world.addEventListener("click",M)),r&&(t.world.activatedEvents.push("onWheel"),u&&(l==null||l.addEventListener("wheel",D,{passive:!0,capture:!0})),t.world.addEventListener("wheel",R));let H=t.world.addLayoutSubscriber((O,z)=>{if(O==="zone-changed"&&t.transitionManager.constrainBounds({transition:{duration:0}}),O==="zoom-to"&&z&&t.transitionManager.zoomTo(z.factor,{origin:z.point,stream:z.stream}),O==="go-home"){let G=z.immediate?{duration:0}:void 0;t.transitionManager.goToRegion(Xit(t.homePosition),{transition:G})}if(O==="goto-region"&&z){let G=z.immediate?{duration:0}:{};t.transitionManager.goToRegion(z,{transition:G})}O==="constrain-bounds"&&t.transitionManager.constrainBounds({transition:z!=null&&z.immediate?{duration:0}:void 0})});return()=>{t.world.removeEventListener("mouseup",p),t.world.removeEventListener("touchend",p),t.world.removeEventListener("touchstart",_),t.world.removeEventListener("mousedown",g),window.removeEventListener("touchend",v),window.removeEventListener("mouseup",v),t.world.removeEventListener("mousemove",P),l&&(l.removeEventListener("touchmove",P),l.removeEventListener("wheel",D,{passive:!0,capture:!0})),i&&t.world.removeEventListener("click",M),r&&t.world.removeEventListener("wheel",R),H()}},updatePosition(){}}),r1=ne.createContext("explore");r1.displayName="Mode";var u3e=()=>h.useContext(r1);function eot(e){return d.jsx(r1.Provider,{value:e.mode,children:e.children})}var KO=ne.createContext(null);KO.displayName="Atlas";var qO=ne.createContext(null);qO.displayName="Bounds";var WR,tot=typeof performance=="object"&&typeof performance.now=="function";if(tot){let e=performance;WR=()=>e.now()}else{let e=Date,t=e.now();WR=()=>e.now()-t}var not=16;function yae(e,t){e&&e.appendChild&&t&&e.appendChild(t)}function c3e(e,t){e&&e.removeChild&&t&&e.removeChild(t)}function rot(e,t){return c3e(e.world,t)}function iot(e,t,n){return d3e(e.world,t,n)}function d3e(e,t,n){e&&e instanceof WO&&(e=e.world),e&&e.insertBefore&&e.insertBefore(t,n)}function f3e(e,t,n){if(n&&(e.applyProps&&e.applyProps(n),e instanceof Qp))for(let r of HO){let i=r.slice(2).toLowerCase();n[r]!==t[r]&&(t[r]&&e.removeEventListener(i,t[r]),e.addEventListener(i,n[r]))}}function h3e(e,t){let n=Object.keys(t),r=!1;for(let i of n)if(HO.indexOf(i)!==-1){let o=SC[i];if(o){if(e.activatedEvents.indexOf(o)!==-1)continue;r=!0,e.activatedEvents.push(o)}}r&&e.triggerEventActivation()}var KR=new Map,bae={};function oot(e,{args:t=[],...n},r,i,o){if(!(r instanceof WO)&&o){let l=u=>u.return?l(u.return):u.stateNode&&u.stateNode.containerInfo;r=l(o)}let s,a=r.world;switch(e){case"world":s=UO.withProps({width:n.width,height:n.height,viewingDirection:"left-to-right"}),s.activatedEvents=a.activatedEvents,s.eventHandlers=a.eventHandlers,s.subscriptions=a.subscriptions,s.triggerEventActivation(),a=s;break;case"box":s=new uP;break;case"shape":s=new s3e;break;case"worldObject":case"world-object":s=new tQ;break;case"worldImage":case"world-image":s=new R0;break;case"texture":s=new IU;break;case"compositeImage":case"composite-image":s=new Uit({id:n.id,width:n.width,height:n.height,images:[],renderOptions:n.renderOptions});break;case"tiledImage":case"tiled-image":s=S4.fromTile(n.uri,n.display,n.tile,n.scaleFactor,void 0,n.format);break;case"paragraph":s=new yA,s.text=n.children;break;default:return}return h3e(a,n),f3e(s,{},n),s}function sot(e,t){if(t instanceof UO)e.world=t;else if(t instanceof tQ)e.world.appendChild(t);else if(t)throw new Error("Invalid root")}var dP=Yrt({unstable_now:WR,now:WR,createInstance:oot,removeChild:c3e,appendChild:yae,appendInitialChild:yae,insertBefore:d3e,warnsIfNotActing:!0,supportsMutation:!0,isPrimaryRenderer:!1,scheduleTimeout:typeof setTimeout<"u"?setTimeout:void 0,cancelTimeout:typeof clearTimeout<"u"?clearTimeout:void 0,setTimeout:typeof setTimeout<"u"?setTimeout:void 0,clearTimeout:typeof clearTimeout<"u"?clearTimeout:void 0,noTimeout:-1,appendChildToContainer:sot,removeChildFromContainer:rot,createTextInstance(){},insertInContainerBefore:iot,prepareUpdate(e,t,n,r,i){return h3e(i.world,r),r},commitUpdate(e,t,n,r,i,o){e.applyProps&&t&&f3e(e,r,t)},finalizeInitialChildren(e){return e==null?void 0:e.__handlers},getChildHostContext(){return bae},getRootHostContext(){return bae},prepareForCommit(e){return e.isCommitting=!0,null},preparePortalMount(){},hideInstance(e){e&&e.points&&(e.points[0]=0)},unhideInstance(e,t){e&&e.points&&(e.points[0]=1)},getPublicInstance(e){return e},hideTextInstance(){throw new Error("Text is not allowed in the react-three-fibre tree. You may have extraneous whitespace between components.")},resetAfterCommit(e){e.isCommitting=!1,e.pendingUpdate=!0,e.world&&e.world.needsRecalculate&&(e.world.recalculateWorldSize(),e.world.triggerRepaint())},shouldSetTextContent(){return!1},clearContainer(){return!1},supportsHydration:!1,supportsPersistence:!1,detachDeletedInstance(e){},afterActiveInstanceBlur(){},beforeActiveInstanceBlur(){},getCurrentEventPriority(){return console.log("getCurrentEventPriority"),not},getInstanceFromNode(e){throw console.log("getInstanceFromNode",e),new Error("Not implemented")},getInstanceFromScope(e){throw console.log("getInstanceFromScope",e),new Error("Not implemented")},prepareScopeUpdate(e,t){throw console.log("prepareScopeUpdate",e,t),new Error("Not implemented")},logRecoverableError(){},requestPostPaintCallback(){}});dP.injectIntoDevTools({bundleType:0,version:h.version,rendererPackageName:"@atlas-viewer/atlas"});function nQ(e,t){let n=KR.get(e);n&&dP.updateContainer(null,n,null,()=>{KR.delete(e),t&&t(e)})}var wae={render(e,t){let n=KR.get(t);if(n)dP.updateContainer(e,n,null);else{let r=dP.createContainer(t,0,null,!1,null,"",()=>{},null);dP.updateContainer(e,r,null),KR.set(t,r)}},unmountComponentAtNode(e,t){nQ(e,t)}},Kve,qve,fP=typeof window<"u"&&((Kve=window.document)!=null&&Kve.createElement||((qve=window.navigator)==null?void 0:qve.product)==="ReactNative")?h.useLayoutEffect:h.useEffect,aot=ne.memo(({children:e,setIsReady:t,onCreated:n,bounds:r,preset:i,mode:o="explore"})=>{let s=h.useCallback(function(a){let l=h.useRef(!1),u=()=>{t(!0)};return h.useEffect(()=>{if(i&&!l.current){i.runtime.goHome();let c=n&&n(i);return void(c&&c.then?c.then(u):u())}return()=>{}},[]),h.useEffect(()=>{l.current=!0},[]),a.children},[i]);return fP(()=>{if(i){let a=i.runtime;o!==a.mode&&(a.mode=o),wae.render(d.jsx(ne.StrictMode,{children:d.jsx(s,{children:d.jsx(qO.Provider,{value:r,children:d.jsx(r1.Provider,{value:o,children:d.jsx(KO.Provider,{value:i,children:e})})})})}),a)}},[i,o,e]),fP(()=>{if(i){let a=i.runtime;return()=>{wae.unmountComponentAtNode(a)}}return()=>{}},[i]),null}),lot=class{constructor(t,n){be(this,"canvas"),be(this,"gl"),be(this,"program"),be(this,"fragmentShader"),be(this,"vertexShader"),be(this,"rectBuffer"),be(this,"fragmentShaderSource",`
    precision mediump float;

    uniform sampler2D u_image;
    varying vec2 v_texCoord;

    void main() {
        gl_FragColor = texture2D(u_image, v_texCoord);
    }
  `),be(this,"vertexShaderSource",`
    attribute vec2 a_position;
    uniform vec2 u_resolution;
    varying vec4 v_color;
    uniform sampler2D u_texture;

    attribute vec2 a_texCoord;
    varying vec2 v_texCoord;

    void main() {

        // convert the position from pixels to 0.0 to 1.0
        vec2 zeroToOne = a_position / u_resolution;

        // convert from 0->1 to 0->2
        vec2 zeroToTwo = zeroToOne * 2.0;

        // convert from 0->2 to -1->+1 (clip space)
        vec2 clipSpace = zeroToTwo - 1.0;

        gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);
        
        v_texCoord = a_texCoord;
    }
  `),be(this,"attributes"),be(this,"uniforms"),be(this,"buffers"),be(this,"rendererPosition"),be(this,"dpi"),be(this,"lastResize",0),be(this,"lastKnownScale",1),this.canvas=t,this.rendererPosition=t.getBoundingClientRect(),this.gl=t.getContext("webgl2"),this.fragmentShader=this.createShader(this.gl.FRAGMENT_SHADER,this.fragmentShaderSource),this.vertexShader=this.createShader(this.gl.VERTEX_SHADER,this.vertexShaderSource),this.program=this.createProgram(this.vertexShader,this.fragmentShader),this.dpi=(n==null?void 0:n.dpi)||1,this.attributes={position:this.gl.getAttribLocation(this.program,"a_position"),texCoord:this.gl.getAttribLocation(this.program,"a_texCoord")},this.uniforms={resolution:this.gl.getUniformLocation(this.program,"u_resolution"),texture:this.gl.getUniformLocation(this.program,"u_texture")},this.buffers={position:this.createArrayBuffer(),texCoord:this.createArrayBuffer(new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]))},this.rectBuffer=new Float32Array(12),this.resize(),this.gl.viewport(0,0,this.gl.canvas.width,this.gl.canvas.height),this.gl.clearColor(0,0,0,0),this.gl.clear(this.gl.COLOR_BUFFER_BIT),this.gl.useProgram(this.program),this.gl.enableVertexAttribArray(this.attributes.position)}resize(){this.resizeCanvasToDisplaySize(),this.gl.viewport(0,0,this.gl.canvas.width,this.gl.canvas.height),this.rendererPosition=this.canvas.getBoundingClientRect()}isReady(){return!0}beforeFrame(t,n,r){this.gl.clearColor(0,0,0,0),this.gl.clear(this.gl.COLOR_BUFFER_BIT),this.gl.vertexAttribPointer(this.attributes.position,2,this.gl.FLOAT,!1,0,0),this.gl.uniform2f(this.uniforms.resolution,this.gl.canvas.width,this.gl.canvas.height),this.lastResize>1e3&&(this.lastResize=0,this.resizeCanvasToDisplaySize()),this.lastResize+=n}prepareLayer(t){(!t.__host||!t.__host.webgl)&&((t instanceof R0||t instanceof S4)&&this.createImageHost(t),t instanceof IU&&this.createTextureHost(t))}createTextureHost(t){t.__host=t.__host?t.__host:{};let n=this.gl,r=this.gl.createTexture();n.bindTexture(n.TEXTURE_2D,r),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,!1);let i;if(t instanceof IU){let o=t.getTexture();o.source&&n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,o.source),i=o}n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),t.__host.webgl={height:t.height,width:t.width,texture:r,lastImage:i}}createImageHost(t){let n=[...new Array(t.points.length/5)];t.__host=t.__host?t.__host:{},t.__host.webgl={height:t.height,width:t.width,textures:n,loading:[],loaded:[],lastLevelRendered:-1,onLoad:(r,i)=>{let o=this.gl,s=this.gl.createTexture();o.bindTexture(o.TEXTURE_2D,s),o.pixelStorei(o.UNPACK_FLIP_Y_WEBGL,!1),o.texImage2D(o.TEXTURE_2D,0,o.RGBA,o.RGBA,o.UNSIGNED_BYTE,i),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MAG_FILTER,o.LINEAR),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,o.LINEAR),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,o.CLAMP_TO_EDGE),o.bindTexture(o.TEXTURE_2D,null),t.__host.webgl.textures[r]=s,t.__host.webgl.loaded.push(r)}}}paint(t,n,r,i,o,s){if(t.type==="spacial-content"&&t.__host&&t.__host.webgl){if(t.getTexture){let l=t==null?void 0:t.getTexture();if(l&&t.__host.webgl.lastImage!==l.hash&&l.source&&!t.__host.webgl.error)try{let u=this.gl.RGBA,c=this.gl.RGBA,f=this.gl.UNSIGNED_BYTE;this.gl.bindTexture(this.gl.TEXTURE_2D,t.__host.webgl.texture),this.gl.texImage2D(this.gl.TEXTURE_2D,0,u,c,f,l.source),t.__host.webgl.lastImage=l.hash}catch(u){t.__host.webgl.error=u}}if(t.__host.webgl.loading&&t.__host.webgl.loading.indexOf(n)===-1&&t.getImageUrl){t.__host.webgl.loading.push(n);let l=document.createElement("img");l.decoding="async",l.crossOrigin="anonymous",l.src=t.getImageUrl(n),l.onload=()=>(l.onload=null,t.__host.webgl.onLoad(n,l))}let a=t.__host.webgl.texture?t.__host.webgl.texture:t.__host.webgl.textures[n];a&&(this.gl.enableVertexAttribArray(this.attributes.texCoord),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.buffers.texCoord),this.gl.enableVertexAttribArray(this.attributes.texCoord),this.gl.vertexAttribPointer(this.attributes.texCoord,2,this.gl.FLOAT,!1,0,0),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.buffers.position),this.gl.enableVertexAttribArray(this.attributes.position),this.gl.vertexAttribPointer(this.attributes.position,2,this.gl.FLOAT,!1,0,0),this.gl.bindTexture(this.gl.TEXTURE_2D,a),this.gl.uniform1i(this.uniforms.texture,0),this.setRectangle(r,i,o,s),this.gl.drawArrays(this.gl.TRIANGLES,0,6))}}afterPaintLayer(t,n){}pendingUpdate(){return!0}getPointsAt(t,n,r,i){return t.getPointsAt(n,r,i)}afterFrame(){}getScale(t,n,r){if(Number.isNaN(t)||Number.isNaN(n))return this.lastKnownScale;let i=this.getCanvasDims(),o=i.width/t,s=i.height/n,a=(o<s?s:o)*(r&&this.dpi||1);return Number.isNaN(a)||(this.lastKnownScale=a),this.lastKnownScale}getCanvasDims(){return{width:this.canvas.width/this.dpi,height:this.canvas.height/this.dpi}}getViewportBounds(t,n,r){return null}createShader(t,n){let r=this.gl.createShader(t);if(r){if(this.gl.shaderSource(r,n),this.gl.compileShader(r),this.gl.getShaderParameter(r,this.gl.COMPILE_STATUS))return r;let i=this.gl.getShaderInfoLog(r);if(this.gl.deleteShader(r),i)throw new Error(i)}throw new Error("Invalid shader")}createProgram(t,n){let r=this.gl.createProgram();if(r){if(this.gl.attachShader(r,t),this.gl.attachShader(r,n),this.gl.linkProgram(r),this.gl.getProgramParameter(r,this.gl.LINK_STATUS))return r;let i=this.gl.getProgramInfoLog(r);if(this.gl.deleteProgram(r),i)throw new Error(i)}throw new Error("Invalid program")}resizeCanvasToDisplaySize(){let t=this.gl.canvas,n=t.clientWidth,r=t.clientHeight,i=t.width!==n||t.height!==r;return i&&(t.width=n,t.height=r),i}createArrayBuffer(t){let n=this.gl.createBuffer();if(this.gl.bindBuffer(this.gl.ARRAY_BUFFER,n),t&&this.gl.bufferData(this.gl.ARRAY_BUFFER,t,this.gl.STATIC_DRAW),!n)throw new Error("Cannot create buffer");return n}setRectangle(t,n,r,i){this.gl.bufferData(this.gl.ARRAY_BUFFER,this.getRectangle(t,n,r,i),this.gl.STATIC_DRAW)}getRectangle(t,n,r,i){let o=t,s=t+r,a=n,l=n+i;return this.rectBuffer.set([o,a,s,a,o,l,o,l,s,a,s,l]),this.rectBuffer}getRendererScreenPosition(){return this.rendererPosition}finishLayer(){}reset(){}};function DU(e,t){let n=t?e:JSON.stringify(e),r=5381,i=n.length;for(;i;)r=r*33^n.charCodeAt(--i);let o=(r>>>0).toString(16);return o.length%2?"0"+o:o}var p3e=class{constructor(t){be(this,"$element"),be(this,"stylesheetClasses"),be(this,"activeStylesheetClasses"),be(this,"sheetsDidUpdate"),be(this,"sheetPrefix"),be(this,"stylesheetEntries"),this.sheetPrefix=(t==null?void 0:t.sheetPrefix)||"a-",this.$element=document.createElement("style"),this.stylesheetClasses=[],this.activeStylesheetClasses=[],this.sheetsDidUpdate=!1,this.stylesheetEntries={}}getElement(){return this.$element}addStylesheet(t){let n=t.replace(/\s\s+/g," ").replace(/: /g,":").replace(/; /g,";").trim(),r=this.sheetPrefix+DU(n,!0);return this.stylesheetClasses.indexOf(r)!==-1||(this.stylesheetClasses.push(r),this.activeStylesheetClasses.push(r),this.stylesheetEntries[r]=n,this.sheetsDidUpdate=!0),r}removeStylesheet(t){let n=this.sheetPrefix+DU(t,!0);this.stylesheetClasses.indexOf(n)&&(this.stylesheetClasses=this.stylesheetClasses.filter(r=>r!==n)),this.sheetsDidUpdate=!0}clearClasses(){this.activeStylesheetClasses=[]}didUpdateActive(){if(this.activeStylesheetClasses.length){for(let t of this.activeStylesheetClasses)if(this.stylesheetClasses.indexOf(t)===-1)return!0;for(let t of this.stylesheetClasses)if(this.activeStylesheetClasses.indexOf(t)===-1)return!0}return!1}updateSheet(){(this.sheetsDidUpdate||this.didUpdateActive())&&(this.$element.innerText=this.activeStylesheetClasses.map(t=>`.${t}{${this.stylesheetEntries[t]}}`).join(""),this.sheetsDidUpdate=!1,this.stylesheetClasses=[...this.activeStylesheetClasses])}},m3e=class{constructor(t,n){be(this,"htmlContainer"),be(this,"visible",[]),be(this,"previousVisible",[]),be(this,"htmlIds",[]),be(this,"firstMeaningfulPaint",!1),be(this,"rendererPosition"),be(this,"stylesheet"),be(this,"options"),be(this,"paintTx",1),be(this,"zIndex",0),be(this,"classes"),this.htmlContainer=t,this.htmlContainer.innerHTML="",this.rendererPosition=this.htmlContainer.getBoundingClientRect(),this.options={triggerResize:()=>{},box:!1,text:!1,sheetPrefix:"",inlineStyles:!1,background:"",...n||{}},this.stylesheet=new p3e({sheetPrefix:this.options.sheetPrefix}),this.options.inlineStyles||this.htmlContainer.appendChild(this.stylesheet.getElement()),this.options.background&&this.htmlContainer.classList.add(this.stylesheet.addStylesheet(`
        background: ${this.options.background};
      `)),this.classes={hostClassName:this.stylesheet.addStylesheet(`
        position: absolute;
        transform-origin: 0px 0px;
      `),interactive:this.stylesheet.addStylesheet("pointer-events: all"),nonInteractive:this.stylesheet.addStylesheet("pointer-events: none")},this.stylesheet.updateSheet()}createHtmlHost(t){if(this.htmlContainer&&(this.options.box||t.props.className||t.props.html||t.props.href)){let n=document.createElement(t.props.href?"a":"div");if(t.props.href){n.style.display="block",n.href=t.props.href;let r=t.props.hrefTarget||"_blank";n.target=r,r!=="_self"&&(n.rel="noopener noreferrer")}n.title=t.props.title||"",this.options.inlineStyles?(n.style.display="block",n.style.position="absolute",n.style.overflow="hidden",n.style.transformOrigin="0px 0px"):n.classList.add(this.classes.hostClassName),t.__host={element:n,revision:null,relative:!1},this.updateHtmlHost(t,t.width,t.height),t.__onCreate&&t.__onCreate()}}triggerResize(){this.options.triggerResize()}updateHtmlHost(t,n,r){if(t.__revision!==t.__host.revision){let i=t.__host.element,o=[this.classes.hostClassName];if(t.props.interactive?this.options.inlineStyles?i.style.pointerEvents="all":o.push(this.classes.interactive):this.options.inlineStyles?i.style.pointerEvents="none":o.push(this.classes.nonInteractive),t.props.href){i.style.display="block",i.href=t.props.href;let a=t.props.hrefTarget||"_blank";i.target=a,a!=="_self"?i.rel="noopener noreferrer":i.rel=""}else i.href&&i.removeAttribute("href");if(t.props.title&&(i.title=t.props.title||""),t.props.className&&(o.push(t.props.className),t.hovering&&o.push(`${t.props.className}--hover`),t.pressing&&o.push(`${t.props.className}--active`)),t.props.relativeStyle?(i.style.width=`${n||t.width}px`,i.style.height=`${r||t.height}px`):(i.style.width=`${t.width}px`,i.style.height=`${t.height}px`),t.props.style){Object.assign(i.style,t.props.style||{},t.hovering?t.props.hoverStyles||{}:{},t.pressing?t.props.pressStyles||{}:{});return}if(this.options.text&&t instanceof yA){t.text&&(i.innerText=t.text),t.backgroundColor&&(i.style.backgroundColor=t.backgroundColor),t.color&&(i.style.color=t.color),t.props.font&&(i.style.font=t.props.font),t.props.textAlign&&(i.style.textAlign=t.props.textAlign),t.__host.revision=t.__revision;let a=o.join(" ");i.className=a,i.part=a}t instanceof uP&&(this.options.box||t.props.className||t.props.html)&&(t.props.backgroundColor&&(i.style.backgroundColor=t.props.backgroundColor),t.props.border!==i.style.border&&(i.style.border=t.props.border));let s=o.join(" ");i.className=s,i.part=s}}afterFrame(t,n,r){this.stylesheet.updateSheet();for(let i of this.previousVisible)this.visible.indexOf(i)===-1&&this.htmlContainer&&i.__id&&this.htmlIds.indexOf(i.__id)!==-1&&this.htmlContainer.removeChild(i.__host.element);this.previousVisible=this.visible}afterPaintLayer(t,n){}beforeFrame(t,n,r){this.stylesheet.clearClasses(),this.paintTx++,this.zIndex=0,this.visible=[]}getPointsAt(t,n,r,i){return t.getPointsAt(n,r,i)}getScale(t,n){let r=this.rendererPosition.width/t,i=this.rendererPosition.height/n;return r<i?i:r}getViewportBounds(t,n,r){return null}isReady(){return!1}paint(t,n,r,i,o,s){if(this.zIndex++,(this.options.text&&t instanceof yA||t instanceof uP&&(this.options.box||t.props.className||t.props.html))&&t.__host.tx!==this.paintTx&&(this.visible.push(t),t.__host.tx=this.paintTx,this.htmlContainer)){this.updateHtmlHost(t,o,s);let a=o/t.width,l=t.__host.element;l.style.zIndex=`${this.zIndex}`,t.props.relativeStyle?l.style.transform=`translate(${Math.round(r)}px, ${Math.round(i)}px)`:l.style.transform=`translate(${Math.round(r)}px, ${Math.round(i)}px) scale(${a})`,this.previousVisible.indexOf(t)===-1&&this.htmlContainer.appendChild(l),this.htmlIds.indexOf(t.__id)===-1&&this.htmlIds.push(t.__id)}}pendingUpdate(){return!1}prepareLayer(t){t.__host||(t instanceof yA||t instanceof uP)&&this.createHtmlHost(t)}resize(t,n){typeof t<"u"&&typeof n<"u"&&(this.htmlContainer.style.width=`${t}px`,this.htmlContainer.style.height=`${n}px`),this.rendererPosition=this.htmlContainer.getBoundingClientRect()}getRendererScreenPosition(){return this.rendererPosition}finishLayer(){}reset(){}},g3e=class bA{constructor(t,n,r){be(this,"element"),be(this,"runtime"),be(this,"unsubscribe"),be(this,"activatedEvents",[]),be(this,"eventHandlers",[]),be(this,"bounds"),be(this,"listening"),be(this,"pointerMoveEvent"),be(this,"pointerEventState",{isClicking:!1,isDragging:!1,isPressed:!1,mousedOver:[],itemsBeingDragged:[],mouseDownStart:{x:0,y:0},lastTouches:[]}),be(this,"options"),be(this,"_realPointerMove",o=>{this.pointerMoveEvent=o}),be(this,"onWheelEvent",o=>{o.preventDefault(),this.onPointerEvent(o)}),be(this,"onTouchEvent",o=>{let s=SC[o.type],a=[],l=o.touches.length;for(let u=0;u<l;u++){let c=o.touches.item(u);if(!c)continue;let{x:f,y:p}=this.runtime.viewerToWorld(c.clientX-this.bounds.left,c.clientY-this.bounds.top),g={id:c.identifier,x:f,y:p};a.push(g)}a.length&&this.assignToEvent(o,a[0].x,a[0].y),s!=="onTouchEnd"?(this.pointerEventState.lastTouches=a,o.atlasTouches=a,this.runtime.world.propagateTouchEvent(s,o,a)):(o.atlasTouches=[],this.runtime.world.propagateTouchEvent(s,o,this.pointerEventState.lastTouches),this.pointerEventState.lastTouches=[])}),be(this,"onPointerEvent",o=>{let s=SC[o.type];if(s&&this.runtime.world.activatedEvents.indexOf(s)!==-1){let{x:a,y:l}=this.runtime.viewerToWorld(o.clientX-this.bounds.left,o.clientY-this.bounds.top);this.assignToEvent(o,a,l),this.runtime.world.propagatePointerEvent(s,o,a,l)}}),be(this,"onPointerDown",o=>{this.pointerEventState.isPressed=!0,this.pointerEventState.isClicking=!0,this.pointerEventState.mouseDownStart.x=o.clientX,this.pointerEventState.mouseDownStart.y=o.clientY,setTimeout(()=>{this.runtime&&(this.pointerEventState.isClicking=!1)},250),setTimeout(()=>{if(this.runtime&&this.pointerEventState.isPressed&&!this.pointerEventState.isDragging){let s=this.runtime.viewerToWorld(this.pointerEventState.mouseDownStart.x-this.bounds.left,this.pointerEventState.mouseDownStart.y-this.bounds.top);this.pointerEventState.isDragging=!0,this.pointerEventState.itemsBeingDragged=this.runtime.world.propagatePointerEvent("onDragStart",o,s.x,s.y)}},800),this.onPointerEvent(o)}),be(this,"onPointerUp",o=>{if(this.pointerEventState.isClicking){let{x:s,y:a}=this.runtime.viewerToWorld(o.clientX-this.bounds.left,o.clientY-this.bounds.top);this.assignToEvent(o,s,a),this.runtime.world.propagatePointerEvent("onClick",o,s,a)}if(this.pointerEventState.isDragging){for(let s of this.pointerEventState.itemsBeingDragged)s.dispatchEvent("onDragEnd",o);this.pointerEventState.isDragging=!1}this.pointerEventState.isClicking=!1,this.pointerEventState.isPressed=!1,this.pointerEventState.itemsBeingDragged=[],this.onPointerEvent(o)}),be(this,"onPointerMove",o=>{this.pointerMoveEvent=void 0;let{x:s,y:a}=this.runtime.viewerToWorld(o.clientX-this.bounds.left,o.clientY-this.bounds.top);if(Number.isNaN(s)||Number.isNaN(a))return;this.assignToEvent(o,s,a),this.runtime.world.propagatePointerEvent("onPointerMove",o,s,a);let l=this.runtime.world.propagatePointerEvent("onMouseMove",o,s,a),u=[],c=[];for(let f of l)u.push(f.id),c.push(f),this.pointerEventState.mousedOver.indexOf(f)===-1&&(f.dispatchEvent("onMouseEnter",o),f.dispatchEvent("onPointerEnter",o),f.dispatchEvent("onMouseOver",o),f.dispatchEvent("onPointerOver",o));for(let f of this.pointerEventState.mousedOver)u.indexOf(f.id)===-1&&(f.dispatchEvent("onMouseLeave",o),f.dispatchEvent("onPointerLeave",o),f.dispatchEvent("onMouseOut",o),f.dispatchEvent("onPointerOut",o));if(this.pointerEventState.isDragging)for(let f of this.pointerEventState.itemsBeingDragged)f.dispatchEvent("onDrag",o);if(this.pointerEventState.isPressed&&!this.pointerEventState.isDragging&&VR(this.pointerEventState.mouseDownStart,{x:o.clientX,y:o.clientY})>50){let f=this.runtime.viewerToWorld(this.pointerEventState.mouseDownStart.x-this.bounds.left,this.pointerEventState.mouseDownStart.y-this.bounds.top);this.pointerEventState.isDragging=!0,this.pointerEventState.itemsBeingDragged=this.runtime.world.propagatePointerEvent("onDragStart",{...o,atlas:{x:f.x,y:f.y}},f.x,f.y)}this.pointerEventState.mousedOver=c}),this.element=t,this.runtime=n,this.unsubscribe=n.world.addLayoutSubscriber(this.layoutSubscriber.bind(this)),this.bounds=t.getBoundingClientRect(),this.listening=!1,this.options={simulationRate:0,...r||{}};let i=0;n.registerHook("useFrame",o=>{i+=o,i>this.options.simulationRate&&this.pointerMoveEvent&&(i=0,n.updateNextFrame())}),n.registerHook("useBeforeFrame",()=>{this.pointerMoveEvent&&this.onPointerMove(this.pointerMoveEvent)}),this.activateEvents()}updateBounds(){this.bounds=this.element.getBoundingClientRect(),this.runtime.updateRendererScreenPosition()}layoutSubscriber(t){t==="event-activation"&&this.listening==!1&&this.activateEvents()}assignToEvent(t,n,r){bA.eventPool.atlas.x=n,bA.eventPool.atlas.y=r,t.atlas=bA.eventPool.atlas}activateEvents(){this.listening=!0,this.element.addEventListener("pointermove",this._realPointerMove),this.element.addEventListener("pointerup",this.onPointerUp),this.element.addEventListener("pointerdown",this.onPointerDown),this.element.addEventListener("mousedown",this.onPointerEvent),this.element.addEventListener("mouseup",this.onPointerEvent),this.element.addEventListener("pointercancel",this.onPointerEvent),this.element.addEventListener("wheel",this.onWheelEvent),this.element.addEventListener("touchstart",this.onTouchEvent),this.element.addEventListener("touchcancel",this.onTouchEvent),this.element.addEventListener("touchend",this.onTouchEvent),this.element.addEventListener("touchmove",this.onTouchEvent)}normalizeEventName(t){return t.startsWith("on")?t.slice(2).toLowerCase():t.toLowerCase()}stop(){this.listening=!1,this.element.removeEventListener("pointermove",this._realPointerMove),this.element.removeEventListener("pointerup",this.onPointerUp),this.element.removeEventListener("pointerdown",this.onPointerDown),this.element.removeEventListener("mousedown",this.onPointerEvent),this.element.removeEventListener("mouseup",this.onPointerEvent),this.element.removeEventListener("pointercancel",this.onPointerEvent),this.element.removeEventListener("wheel",this.onWheelEvent),this.element.removeEventListener("touchstart",this.onTouchEvent),this.element.removeEventListener("touchcancel",this.onTouchEvent),this.element.removeEventListener("touchend",this.onTouchEvent),this.element.removeEventListener("touchmove",this.onTouchEvent),this.unsubscribe();for(let[t,n]of this.eventHandlers)this.element.removeEventListener(this.normalizeEventName(t),n)}};be(g3e,"eventPool",{atlas:{x:0,y:0}});var v3e=g3e;function y3e({interactive:e=!0,viewport:t,forceRefresh:n,canvasElement:r,overlayElement:i,controllerConfig:o,unstable_webglRenderer:s,dpi:a,debug:l,canvasBox:u=!0,polygon:c=!0,navigatorElement:f,runtimeOptions:p}){if(!r)throw new Error("Invalid container");r.style.userSelect="none";let g=e?l3e({minZoomFactor:.5,maxZoomFactor:3,enableClickToZoom:!1,parentElement:r,...o||{}}):void 0,v=new a3e([s?new lot(r,{dpi:a}):new Zit(r,{dpi:a,debug:l,box:u,polygon:c}),i?new m3e(i,{box:s||!u,text:!0,triggerResize:n}):void 0,f?new Yit(f):void 0]),y=new WO(v,new UO(1024,1024),t,g?[g]:[],p),S=new v3e(r,y);return{name:"default-preset",em:S,runtime:y,renderer:v,controller:g,canvas:r,navigator:f,unmount(){nQ(y),y.stopControllers(),y.stop(),y.reset(),S&&S.stop()}}}var Rv=1+Number.MIN_VALUE,uot=class{constructor(t,n){be(this,"container"),be(this,"width"),be(this,"height"),be(this,"pending",!0),be(this,"options"),be(this,"stylesheet"),be(this,"zIndex",0),be(this,"lastKnownScale",1),be(this,"rendererPosition"),be(this,"currentlyVisible",[]),be(this,"previouslyVisible",[]),this.container=t,this.rendererPosition=t.getBoundingClientRect();let{width:r,height:i}=this.rendererPosition;this.width=r,this.height=i,this.options={addPart:!1,setDraggableFalse:!1,imageClass:"",widthStylesheet:!1,sheetPrefix:"position-",background:"#000",...n||{}},this.stylesheet=new p3e({sheetPrefix:this.options.sheetPrefix}),this.container.classList.add(this.stylesheet.addStylesheet(`
        background: ${this.options.background};
      `)),this.options.widthStylesheet&&this.container.appendChild(this.stylesheet.getElement())}isReady(){return!0}resize(){this.rendererPosition=this.container.getBoundingClientRect(),this.width=this.rendererPosition.width,this.height=this.rendererPosition.height}getRendererScreenPosition(){return this.rendererPosition}afterFrame(t,n,r){this.stylesheet.updateSheet();for(let i of this.previouslyVisible)this.currentlyVisible.indexOf(i)===-1&&this.container.removeChild(i);for(let i of this.currentlyVisible)this.previouslyVisible.indexOf(i)===-1&&this.container.appendChild(i);this.previouslyVisible=this.currentlyVisible,this.currentlyVisible=[]}afterPaintLayer(t,n){}beforeFrame(t,n,r){this.stylesheet.clearClasses(),this.zIndex=0}getPointsAt(t,n,r,i){return t.getPointsAt(n,r,i)}getScale(t,n){if(Number.isNaN(t)||Number.isNaN(n))return this.lastKnownScale;let r=this.width/t,i=this.height/n,o=r<i?i:r;return Number.isNaN(o)||(this.lastKnownScale=o),this.lastKnownScale}getViewportBounds(t,n,r){return null}createImage(){let t=document.createElement("img");return this.options.imageClass?(t.className=this.options.imageClass,this.options.addPart&&t.setAttribute("part",this.options.imageClass)):(t.style.position="absolute",t.style.pointerEvents="none",t.style.userSelect="none"),this.options.setDraggableFalse&&t.setAttribute("draggable","false"),t}paint(t,n,r,i,o,s){if(this.pending=!1,this.zIndex++,t instanceof R0){if(!t.__host){let l=this.createImage();l.src=t.uri,t.__host=l,this.container.appendChild(t.__host)}let a=t.__host;this.currentlyVisible.push(a),a.style.zIndex=`${this.zIndex}`,a.style.opacity=`${t.style.opacity}`,this.options.widthStylesheet?a.className=this.options.imageClass+" "+this.stylesheet.addStylesheet(`width:${(o+Rv).toFixed(2)}px;height:${(s+Rv).toFixed(2)}px;`):(a.style.width=`${o+Rv}px`,a.style.height=`${s+Rv}px`),a.style.transform=`translate(${r}px, ${i}px)`}if(t instanceof S4){if(t.__host||(t.__host={images:[]}),!t.__host.images[n]){let l=t.getImageUrl(n),u=this.createImage();u.src=l,t.__host.images[n]=u,this.container.appendChild(u)}let a=t.__host.images[n];a.style.zIndex=`${this.zIndex}`,a.style.opacity=`${t.style.opacity}`,this.currentlyVisible.push(a),this.options.widthStylesheet?a.className=this.options.imageClass+" "+this.stylesheet.addStylesheet(`width:${(o+Rv).toFixed(2)}px;height:${(s+Rv).toFixed(2)}px;`):(a.style.width=`${o+Rv}px`,a.style.height=`${s+Rv}px`),a.style.transform=`translate(${r}px, ${i}px)`}}pendingUpdate(){return this.pending}prepareLayer(t){}finishLayer(t){}reset(){}};function cot({interactive:e,viewport:t,forceRefresh:n,containerElement:r,overlayElement:i,controllerConfig:o}){if(!r)throw new Error("Invalid container");r.style.userSelect="none";let s=e?l3e({minZoomFactor:.5,maxZoomFactor:3,enableClickToZoom:!1,parentElement:r,...o||{}}):void 0,a=new uot(r,{addPart:!1,setDraggableFalse:!1,imageClass:"atlas-static-image"}),l=i?new a3e([a,new m3e(i,{box:!0,text:!0,triggerResize:n})]):a,u=new WO(l,new UO(1024,1024),t,s?[s]:[]),c=new v3e(r,u);return{name:"static-preset",em:c,runtime:u,renderer:l,controller:s,container:r,overlay:i,unmount(){nQ(u),u.stopControllers(),u.stop(),c&&c.stop()}}}var dot={"default-preset":y3e,"static-preset":cot},fot={};function hot(e,t){let n=h.useRef(),r=h.useRef(),i=h.useRef(),o=h.useRef(),s=h.useRef({width:t.width,height:t.height,didUpdate:!0}),[a="default-preset",l=fot]=Array.isArray(e)?e||[]:[e],[u,c]=h.useState(null);h.useLayoutEffect(()=>{let p=r.current,g=o.current,v=n.current,y=i.current,S=(dot[a]||y3e)({containerElement:g,canvasElement:p,overlayElement:v,navigatorElement:y,viewport:s.current,dpi:window.devicePixelRatio||1,forceRefresh:t.forceRefresh,unstable_webglRenderer:t.unstable_webglRenderer,...l||{}});return c(S),()=>{S&&(S.unmount(),p&&(p.height=0,p.width=0),v&&(v.innerHTML=""),y&&(y.height=0,y.width=0))}},[a,l]);let f=h.useMemo(()=>({canvas:r,overlay:n,container:o,navigator:i}),[]);return[a,u,s,f]}function pot(e){return h.useMemo(()=>DU(e),e)}var gk=ne.forwardRef((e,t)=>d.jsx("div",{...e,ref:t,part:e.className})),xae=["brightness","contrast","grayscale","hueRotate","invert","saturate","sepia","blur"],mot=({htmlChildren:e,renderPreset:t,onCreated:n,mode:r="explore",resetWorldOnChange:i=!0,unstable_webglRenderer:o=!1,unstable_noReconciler:s=!1,hideInlineStyle:a=!1,controllerConfig:l,children:u,overlayStyle:c,containerStyle:f,enableNavigator:p,className:g,containerProps:v={},homePosition:y,homeOnResize:S,homeCover:C,background:_,runtimeOptions:k,debug:w,filters:P,...M})=>{let[R,D]=h.useState(r),[H,O]=h.useState(!1),z=h.useRef(!1),G=h.useMemo(()=>(typeof t=="string"&&(t=[t,{}]),w?t?[t[0],{debug:w,...t[1]||{}}]:["default-preset",{debug:w}]:t||"default-preset"),[t,w]),[ee,X,se]=kCe({scroll:!0}),B=h.useRef(),q=_e=>{B.current=_e,ee(_e)},[U,K,J,oe]=hot(G,{width:M.width,height:M.height,forceRefresh:se,unstable_webglRenderer:o}),[he,me]=h.useState("");h.useEffect(()=>{D(r)},[r]),h.useEffect(()=>{K&&K.em&&K.em.updateBounds()},[K,X]),h.useEffect(()=>{K==null||K.runtime.setOptions(k||{})},[k]),h.useEffect(()=>{K&&K.runtime&&(K.runtime.mode=R),H&&K&&(K.ready=!0)},[K,H,R]),h.useEffect(()=>{K&&(C||(K.runtime.manualHomePosition=!!y,K.runtime.setHomePosition(y)))},[K,C,y]),h.useEffect(()=>{if(K){let _e=K.runtime;_e.resize(J.current.width,M.width,J.current.height,M.height),J.current.width=M.width,J.current.height=M.height,_e.updateNextFrame(),J.current.didUpdate=!0}},[K,M.width,M.height]),h.useEffect(()=>{if(P&&K){let _e=K.runtime,$e=!1;_e.hookOptions.enableFilters=!0;for(let He of xae)P[He]?P[He]!==K.runtime.hookOptions.filters[He]&&(_e.hookOptions.filters[He]=P[He],$e=!0):_e.hookOptions.filters[He]&&(_e.hookOptions.filters[He]=0,$e=!0);$e&&_e.updateNextFrame()}else if(K){let _e=K.runtime;for(let $e of xae)_e.hookOptions.filters[$e]=0;_e.hookOptions.enableFilters=!1,_e.updateNextFrame()}},[K,P]),fP(()=>{if(K&&(K.overlay&&(K.overlay.style.width=`${X.width}px`,K.overlay.style.height=`${X.height}px`),K.container&&(K.container.style.width=`${X.width}px`,K.container.style.height=`${X.height}px`),C)){let _e=K.runtime.world.width,$e=K.runtime.world.height,He=_e/$e,Ve=J.current.width,ot=J.current.height,kt=Ve/ot;if(He>kt){kt=ot/Ve,K.runtime.manualHomePosition=!0;let gt=(_e-$e/kt)/2;C==="start"&&(gt=0),C==="end"&&(gt=_e-$e/kt),K.runtime.setHomePosition({x:gt,y:0,width:$e/kt,height:$e})}else{let gt=($e-_e/kt)/2;C==="start"&&(gt=0),C==="end"&&(gt=$e-_e/kt),K.runtime.manualHomePosition=!0,K.runtime.setHomePosition({x:0,y:gt,width:_e,height:_e/kt})}S&&K.runtime.goHome({})}},[K,X.height,X.width,C]),fP(()=>{let _e=()=>{if(K){let $e=K.runtime;J.current.width!==M.width&&J.current.height!==M.height&&($e.resize(J.current.width,M.width,J.current.height,M.height),J.current.width=M.width,J.current.height=M.height,$e.updateNextFrame(),J.current.didUpdate=!0)}};return window.addEventListener("resize",_e),()=>window.removeEventListener("resize",_e)},[K,M.height,M.width]);let re={width:120},ue=()=>{if(K&&K.navigator){let _e=K.runtime.world.height,$e=K.runtime.world.width,He=window.devicePixelRatio||1,Ve=re.width,ot=re.width/$e*_e;K.navigator.width=Ve*He,K.navigator.height=ot*He,K.navigator.style.width=Ve+"px",K.navigator.style.height=ot+"px"}};fP(()=>{if(K){ue();let _e=K.runtime;return _e.world.addLayoutSubscriber($e=>{$e==="recalculate-world-size"&&(ue(),_e.resize(J.current.width,M.width,J.current.height,M.height))})}return()=>{}},[K,M.width,M.height]);let ce=h.useCallback(function(_e){let $e=()=>{O(!0)};return h.useEffect(()=>{if(K){K.runtime.goHome();let He=n&&n(K);return void(He&&He.then?He.then($e):$e())}else throw new Error("Invalid configuration - no runtime found")},[]),_e.children},[K]);h.useEffect(()=>{if(K){let _e=K.runtime;if(i)return _e.world.addLayoutSubscriber($e=>{$e==="recalculate-world-size"&&_e.goHome()})}return()=>{}},[K,i]),h.useEffect(()=>K?K.runtime.registerHook("useBeforeFrame",()=>{var _e;if(J.current.didUpdate&&K.canvas){let $e=window.devicePixelRatio||1,He=J.current.width,Ve=J.current.height;K.canvas.width=He*$e,K.canvas.height=Ve*$e,K.canvas.style.width=He+"px",K.canvas.style.height=Ve+"px",(_e=K.canvas.getContext("2d"))==null||_e.scale($e,$e),K&&K.em&&K.em.updateBounds(),J.current.didUpdate=!1}}):()=>{},[K,i]),h.useEffect(()=>{let _e=()=>{K&&(D("sketch"),me("mode-sketch")),window.removeEventListener("keyup",_e)},$e=He=>{if(He.code==="Space"&&K&&K.runtime.mode==="sketch"){if(He.target&&He.target.tagName&&He.target.tagName.toLowerCase()==="input")return;He.preventDefault(),D("explore"),me("mode-explore"),window.addEventListener("keyup",_e)}};return window.addEventListener("keydown",$e),()=>{window.removeEventListener("keydown",$e),window.removeEventListener("keyup",_e)}},[K]),z.current=!0;let{height:we,width:Me,...Be}=M,ge=pot([M.width,M.height]),ye=!0;return G&&Array.isArray(G)&&G.length>1&&G[1].interactive===!1&&(ye=!1),_=_??"#000",B.current&&(_=getComputedStyle(B.current).getPropertyValue("--atlas-background")||_),d.jsxs(gk,{ref:q,className:["atlas",a?"":`atlas-width-${ge}`,he,g,`atlas-${U}`].filter(Boolean).join(" ").trim(),style:{...f,...a?{}:{width:M.width,height:M.height}},children:[U==="static-preset"?d.jsx(gk,{className:"atlas-static-container",ref:oe.container,tabIndex:0,...v}):d.jsx("canvas",{className:"atlas-canvas",part:"atlas-canvas",tabIndex:0,...Be,...v,ref:oe.canvas,"data-background":_}),d.jsx(gk,{className:["atlas-overlay",ye?"atlas-overlay--interactive":""].filter(Boolean).join(" ").trim(),style:{...c||{}},ref:oe.overlay,children:s?d.jsx(ce,{children:d.jsx(qO.Provider,{value:X,children:d.jsx(r1.Provider,{value:R,children:d.jsx(KO.Provider,{value:K,children:u})})})}):d.jsx(aot,{bounds:X,preset:K,mode:R,setIsReady:O,onCreated:n,children:u})}),p?d.jsx(gk,{className:"atlas-navigator",children:d.jsx("canvas",{className:"atlas-navigator-canvas",part:"atlas-navigator-canvas",ref:oe.navigator})}):null,a?d.jsx("style",{children:`.atlas-width-${ge} { width: ${M.width}px; height: ${M.height}px; }`}):d.jsx("style",{children:`
        .atlas { position: relative; display: flex; background: ${_}; z-index: var(--atlas-z-index, 10); -webkit-touch-callout: none; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; }
        .atlas-width-${ge} { width: ${M.width}px; height: ${M.height}px; }
        .atlas-canvas { flex: 1 1 0px; }
        .atlas-canvas:focus, .atlas-static-container:focus { outline: none }
        .atlas-canvas:focus-visible, .atlas-canvas-container:focus-visible { outline: var(--atlas-focus, 2px solid darkorange) }
        .atlas-static-preset { touch-action: inherit; }
        .atlas-static-container { position: relative; overflow: hidden; flex: 1 1 0px; }
        .atlas-overlay { position: absolute; top: 0; left: 0; none; overflow: hidden; }
        /** setting the pointer events to none means that Atlas will own the touch and mousewheel events **/
        .atlas-overlay--interactive { pointer-events: none; }
        .atlas-static-image { position: absolute; user-select: none; transform-origin: 0px 0px; }
        .atlas-navigator { position: absolute; top: var(--atlas-navigator-top, 10px); right: var(--atlas-navigator-bottom, 10px); left: var(--atlas-navigator-left); bottom: var(--atlas-navigator-bottom); opacity: .8 }
        .atlas-navigator-canvas { width: 100%; }
      `}),e]})};function got(e){return Number(e)==e?`${e}px`:e}var vot=({resizeHash:e,aspectRatio:t,containerProps:n={},...r})=>{let[i,o,s]=kCe(),{height:a,width:l,...u}=r;h.useEffect(()=>{s()},[l,a,e,s]);let c=h.useMemo(()=>t?{width:o.width,height:o.width*(1/t)}:o,[o,t]);return d.jsxs(gk,{ref:i,className:"atlas-container",...n,children:[c.width?d.jsx(mot,{width:c.width||100,height:c.height||100,...u,children:r.children}):null,r.hideInlineStyle?null:d.jsx("style",{children:`
          .atlas-container { 
            display: var(--atlas-container-display, block);
            flex: var(--atlas-container-flex, none);
            width: var(--atlas-container-width, ${l?`${l}px`:"100%"});
            height: var(--atlas-container-height, ${got(a||(t?c.height:512))})  
          }
      `}),r.htmlChildren]})},GO=()=>h.useContext(KO),s3=()=>{let e=GO();return e?e.runtime:void 0},yot=(e,t=[])=>{let n=s3();h.useEffect(()=>n?n.registerHook("useAfterFrame",e):()=>{},t)},rQ=(e,t=[])=>{let n=s3();h.useEffect(()=>n?n.registerHook("useFrame",e):()=>{},t)},b3e=()=>{let e=GO();return e&&e.canvas?e.canvas:void 0};function w3e(){return h.useContext(qO)}var iQ=({onCreate:e})=>{let t=h.useRef({x:0,y:0}),n=b3e(),r=w3e(),i=s3(),[o,s]=h.useState(),[a,l]=h.useState(),u=u3e();return rQ(()=>{i&&o&&!a&&(i.pendingUpdate=!0)},[o,a]),yot(()=>{if(o&&n&&i){let c=n.getContext("2d");if(c){let{x:f,y:p,width:g,height:v}=i.worldToViewer(o.x,o.y,(a?a.x:t.current.x)-o.x,(a?a.y:t.current.y)-o.y);c.lineWidth=a?3:1,c.strokeStyle="#fff",c.strokeRect(f,p,g,v),c.lineWidth=a?3:1,c.strokeStyle="#000",c.strokeRect(f+1,p+1,g-2,v-2)}}},[o,a]),h.useEffect(()=>{let c=f=>{if(r&&i){let{x:p,y:g}=i.viewerToWorld(f.clientX-r.left,f.clientY-r.top);t.current.x=~~p,t.current.y=~~g}};return n?(n.addEventListener("mousemove",c),()=>n.removeEventListener("mousemove",c)):()=>{}},[r,n,i]),h.useEffect(()=>{let c=f=>{u==="sketch"&&(s({x:Math.round(t.current.x),y:Math.round(t.current.y)}),l(void 0))};return n?(n.addEventListener("mousedown",c),()=>n.removeEventListener("mousedown",c)):()=>{}},[n,u]),h.useEffect(()=>{let c=f=>{o&&!a&&l({x:Math.round(t.current.x),y:Math.round(t.current.y)})};return n?(n.addEventListener("mouseup",c),()=>n.removeEventListener("mouseup",c)):()=>{}},[n,o,a]),h.useEffect(()=>{o&&a&&e({x:Math.min(o.x,a.x),y:Math.min(o.y,a.y),width:Math.abs(a.x-o.x),height:Math.abs(a.y-o.y)})},[o,e,a]),null};async function bot(e,t,n){if(h.version.startsWith("18.")){let r=await Il(()=>Promise.resolve().then(()=>CKe),void 0,import.meta.url),i=r.default?r.default.createRoot:r.createRoot;n.current||(n.current=i(e)),n.current.render(t)}else if(typeof ReactDOM<"u"){let{render:r,unmountComponentAtNode:i}=ReactDOM;r(t,e),n.current={unmount(){i(e)}}}else{let r=await Il(()=>Promise.resolve().then(()=>_Ke),void 0,import.meta.url),i=r.default?r.default.render:r.render,o=r.default?r.default.unmountComponentAtNode:r.unmountComponentAtNode;i(t,e),n.current={unmount(){o(e)}}}}var Jp=ne.forwardRef(({children:e,...t},n)=>{let r=h.useRef(),i=s3(),o=h.useRef(0),s=h.useRef(),a=h.useRef();return rQ(()=>{var l,u,c,f;if(t.relative){let p=r.current;if(p&&i){let g=i.getScaleFactor();o.current!==g&&(o.current=g,p.style.transformOrigin="0 0",p.style.transform=`scale(${1/o.current})`,p.style.width=`${o.current*100}%`,p.style.height=`${o.current*100}%`,r.current&&((u=(l=s.current)==null?void 0:l.__owner.value)!=null&&u.rotation)&&(p.style.transform=`scale(${1/o.current}) translate(50%, 50%) rotate(${((f=(c=s.current)==null?void 0:c.__owner.value)==null?void 0:f.rotation)||0}deg)  translate(-50%, -50%)`))}}},[t.relative]),h.useLayoutEffect(()=>{let l=s.current;n&&l&&(typeof n=="function"?n(l):n.current=l);async function u(){if(l&&l.__host){let c=t.relative?d.jsx("div",{ref:r,children:e}):e;await bot(l.__host.element,c,a)}}l&&l.__host?u():l&&(l.__onCreate=u)},[n,e,s,t.relative]),h.useLayoutEffect(()=>()=>{a.current&&setTimeout(()=>{a.current.unmount()},0)},[]),d.jsx("box",{html:!0,...t,ref:s})});Jp.displayName="HTMLPortal";var Sae=(e,t,n=[])=>{let r=s3(),i=r?r.world:void 0;h.useEffect(()=>{if(r){let o=t,s=SC[e];r.world.activatedEvents.push(s);let a=s.slice(2).toLowerCase();return r.world.addEventListener(a,o),()=>{r.world.removeEventListener(a,o)}}return()=>{}},[i,e,...n])};function _ae(e,t){if(e===0)return[0,1];if(t===0)return[1,0];let n=Math.abs(e)/Math.abs(t);return[n,1-n]}function wot(){let e=h.useRef({ctrl:!1,shift:!1,alt:!1});return h.useLayoutEffect(()=>{function t(r){r.key==="Shift"&&(e.current.shift=!0),r.key==="Control"&&(e.current.ctrl=!0),r.key==="Alt"&&(e.current.alt=!0)}function n(r){r.key==="Shift"&&(e.current.shift=!1),r.key==="Control"&&(e.current.ctrl=!1),r.key==="Alt"&&(e.current.alt=!1)}return window.addEventListener("keydown",t),window.addEventListener("keyup",n),()=>{window.removeEventListener("keydown",t),window.removeEventListener("keyup",n)}},[]),e}var x3e=(e,t)=>{let n=u3e(),r=s3(),i=w3e(),o=h.useRef(),s=h.useRef(null),a=h.useRef(),[l,u]=h.useState(!1),c=h.useRef(!1),f=h.useRef({north:0,south:0,east:0,west:0}),p=wot(),g=h.useCallback(_=>k=>{if(c.current=!0,u(!0),i&&r){let{top:w,left:P}=i,M=r.viewerToWorld(k.pageX-P,k.pageY-w);a.current={x:M.x,y:M.y},o.current=_}},[i,r]),v=h.useMemo(()=>e.width/e.height,[e.width,e.height]),y=h.useCallback(_=>{if(!Math.abs(_.north-_.south+(_.east-_.west)))return;let k=-_.west+_.east,w=-_.north+_.south,P=e.width+k,M=e.height+w;if(P/M>=v){let R=M*v,D=P-R,[H,O]=_ae(_.east,_.west);_.west=_.west+D*O,_.east=_.east-D*H}else{let R=P/v,D=M-R,[H,O]=_ae(_.north,_.south);_.north=_.north+D*H,_.south=_.south-D*O}},[e.width,e.height,v]);rQ(()=>{a&&r&&r.updateNextFrame()}),h.useEffect(()=>{r&&r.updateNextFrame()},[r,l]);let S=h.useCallback(_=>{var H;if(!r||!i||r.mode!=="sketch")return;let{top:k,left:w}=i,P=r.viewerToWorld(_.pageX-w,_.pageY-k),M=s.current,R=!e.maintainAspectRatio&&p.current.alt,D=!R&&p.current.shift&&((H=o.current)==null?void 0:H.indexOf("-"))!==-1;if((o.current==="translate"||o.current==="east"||o.current==="north-east"||o.current==="south-east")&&(f.current.east=P.x-(a.current?a.current.x:0),R&&(f.current.west=-f.current.east)),(o.current==="translate"||o.current==="west"||o.current==="north-west"||o.current==="south-west")&&(f.current.west=P.x-(a.current?a.current.x:0),R&&(f.current.east=-f.current.west)),(o.current==="translate"||o.current==="north"||o.current==="north-east"||o.current==="north-west")&&(f.current.north=P.y-(a.current?a.current.y:0),R&&(f.current.south=-f.current.north)),(o.current==="translate"||o.current==="south"||o.current==="south-west"||o.current==="south-east")&&(f.current.south=P.y-(a.current?a.current.y:0),R&&(f.current.north=-f.current.south)),(e.maintainAspectRatio||D)&&y(f.current),M){let O=f.current.west,z=f.current.north,G=e.width+f.current.east,ee=e.height+f.current.south;M.points[1]=Math.min(O,G),M.points[2]=Math.min(z,ee),M.points[3]=Math.max(O,G),M.points[4]=Math.max(z,ee),r.updateNextFrame()}},[r,e.width,e.height,e.maintainAspectRatio,i]);Sae("mousemove",S,[e.width,e.height,i]),Sae("pointermove",S,[e.width,e.height,i]);let C=h.useRef();return h.useEffect(()=>{C.current=()=>{if(c.current){let _=f.current.west,k=f.current.north,w=e.width+f.current.east,P=e.height+f.current.south,M=Math.min(_,w),R=Math.min(k,P),D=Math.max(_,w),H=Math.max(k,P),O={x:(e.x||0)+M,y:(e.y||0)+R,width:D-M||1,height:H-R||1};e.maintainAspectRatio,t(O),o.current=void 0,a.current=void 0,f.current.east=0,f.current.west=0,f.current.north=0,f.current.south=0,c.current=!1,u(!1)}}},[t,e.height,e.width,e.x,e.y]),h.useEffect(()=>{let _=()=>{C.current&&C.current()};return window.addEventListener("pointerup",_),window.addEventListener("touchend",_),()=>{window.removeEventListener("pointerup",_),window.removeEventListener("touchend",_)}},[]),{portalRef:s,mode:n,mouseEvent:g,onPointerMoveCallback:S,isEditing:l}};function S3e({handleSize:e,resizable:t,onSave:n,children:r,maintainAspectRatio:i,disableCardinalControls:o,...s}){let a=typeof e>"u"?i?10:8:e,{portalRef:l,mode:u,mouseEvent:c,isEditing:f}=x3e({x:s.x||0,y:s.y||0,width:s.width,height:s.height,maintainAspectRatio:i},n),p=h.useMemo(()=>c("translate"),[c]),g=h.useMemo(()=>c("east"),[c]),v=h.useMemo(()=>c("west"),[c]),y=h.useMemo(()=>c("south"),[c]),S=h.useMemo(()=>c("north"),[c]),C=h.useMemo(()=>c("south-east"),[c]),_=h.useMemo(()=>c("south-west"),[c]),k=h.useMemo(()=>c("north-east"),[c]),w=h.useMemo(()=>c("north-west"),[c]),P=u==="sketch",M={zIndex:999,boxShadow:"0px 2px 3px 0 rgba(0,0,0,0.2)",border:"1px solid rgba(155,155,155,.7)",borderRadius:i||o?"50%":2,position:"absolute",background:"#fff",pointerEvents:f?"none":P?"initial":"none"};return d.jsx(d.Fragment,{children:d.jsxs("world-object",{...s,children:[r,P&&t?d.jsx(Jp,{ref:l,target:{x:0,y:0,height:s.height,width:s.width},relative:!0,interactive:!1,children:P&&t?d.jsxs(d.Fragment,{children:[d.jsx("div",{onMouseDown:p,onTouchStart:p,style:{display:"block",width:"100%",height:"100%",position:"relative",border:"1px solid rgba(155,155,155, .7)",boxSizing:"border-box",pointerEvents:f?"none":P?"initial":"none"}}),i?null:d.jsxs(d.Fragment,{children:[d.jsx("div",{title:"east",onTouchStart:g,onMouseDown:g,style:{...M,cursor:"e-resize",height:a*2,width:a,right:0,top:"50%",opacity:o?0:1,transform:`translate(${a/2}px, -${a}px)`}}),d.jsx("div",{title:"west",onMouseDown:v,style:{...M,cursor:"w-resize",position:"absolute",height:a*2,width:a,left:0,top:"50%",opacity:o?0:1,transform:`translate(-${a/2}px, -${a}px)`}}),d.jsx("div",{title:"north",onMouseDown:S,style:{...M,cursor:"n-resize",position:"absolute",height:a,width:a*2,left:"50%",top:0,opacity:o?0:1,transform:`translate(-${a}px, -${a/2}px)`}}),d.jsx("div",{title:"south",onMouseDown:y,style:{...M,cursor:"s-resize",position:"absolute",height:a,width:a*2,left:"50%",bottom:0,opacity:o?0:1,transform:`translate(-${a}px, ${a/2}px)`}})]}),d.jsx("div",{title:"north-east",onMouseDown:k,style:{...M,cursor:"ne-resize",position:"absolute",height:a,width:a,right:0,top:0,transform:`translate(${a/2}px, -${a/2}px)`}}),d.jsx("div",{title:"south-east",onMouseDown:C,style:{...M,cursor:"se-resize",position:"absolute",height:a,width:a,bottom:0,right:0,transform:`translate(${a/2}px, ${a/2}px)`}}),d.jsx("div",{title:"south-west",onMouseDown:_,style:{...M,cursor:"sw-resize",position:"absolute",height:a,width:a,bottom:0,left:0,transform:`translate(-${a/2}px, ${a/2}px)`}}),d.jsx("div",{title:"north-west",onMouseDown:w,style:{...M,cursor:"nw-resize",position:"absolute",height:a,width:a,top:0,left:0,transform:`translate(-${a/2}px, -${a/2}px)`}})]}):null}):null]})})}function oQ({interactive:e,region:t,onClick:n,onSave:r,maintainAspectRatio:i,disableCardinalControls:o,isEditing:s,rotation:a,style:l={backgroundColor:"rgba(0,0,0,.5)"}}){let u=h.useCallback(c=>{r({id:t.id,x:t.x,y:t.y,height:t.height,width:t.width,...c})},[r,t.id,t.x,t.y,t.height,t.width]);return d.jsx(S3e,{x:t.x,y:t.y,rotation:a,width:t.width,height:t.height,resizable:s,onSave:u,maintainAspectRatio:i,disableCardinalControls:o,children:d.jsx("box",{interactive:e,onClick:c=>{c.preventDefault(),c.stopPropagation(),n(t)},target:{x:0,y:0,width:t.width,height:t.height},style:l})})}var Cae=e=>{var a,l,u,c,f;let t=e.width/(((a=e.crop)==null?void 0:a.width)||e.tiles.width),n=e.tiles.imageService.sizes||[],r=e.enableThumbnail,i=e.enableSizes,o=h.useMemo(()=>{let p=e.tiles.imageService.id||e.tiles.imageService["@id"];return p&&p.endsWith("/info.json")?p.slice(0,-1*10):p},[e.tiles.imageService.id]),s=h.useMemo(()=>{let p=e.tiles.imageService.tiles||[];return p.length?p:(e.width,[])},[e.tiles.imageService]);return d.jsx("world-object",{rotation:e.rotation,scale:t,height:((l=e.crop)==null?void 0:l.height)||e.tiles.height,width:((u=e.crop)==null?void 0:u.width)||e.tiles.width,x:e.x,y:e.y,onClick:e.onClick,children:d.jsxs("composite-image",{id:e.tiles.imageService.id,width:((c=e.crop)==null?void 0:c.width)||e.tiles.width,height:((f=e.crop)==null?void 0:f.height)||e.tiles.height,crop:e.crop,renderOptions:e.renderOptions,children:[r&&e.tiles.thumbnail?d.jsx("world-image",{priority:!0,uri:e.tiles.thumbnail.id,target:{width:e.tiles.width,height:e.tiles.height},display:{width:e.tiles.thumbnail.width,height:e.tiles.thumbnail.height},crop:e.crop}):null,i&&n.map((p,g)=>d.jsx("world-image",{uri:`${o}/full/${p.width},${p.height}/0/default.jpg`,target:{width:e.tiles.width,height:e.tiles.height},display:{width:p.width,height:p.height},crop:e.crop},g)),s.map(p=>(p.scaleFactors||[]).map(g=>d.jsx("tiled-image",{uri:e.tiles.imageService.id,display:{width:e.tiles.width,height:e.tiles.height},tile:p,scaleFactor:g,crop:e.crop},`${e.tiles.imageService.id}-tile-${g}`)))]},e.tiles.imageService.id)},e.tiles.imageService.id)};function xot(e,t){return e?t?{...e,...t||{},":hover":e[":hover"]?Object.assign(e[":hover"]||{},t[":hover"]||{}):t[":hover"],":active":e[":active"]?Object.assign(e[":active"]||{},t[":active"]||{}):t[":hover"]}:e:t}const Sot=h.createContext(null),yF={didCatch:!1,error:null};let DT=class extends h.Component{constructor(t){super(t),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=yF}static getDerivedStateFromError(t){return{didCatch:!0,error:t}}resetErrorBoundary(){const{error:t}=this.state;if(t!==null){for(var n,r,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];(n=(r=this.props).onReset)===null||n===void 0||n.call(r,{args:o,reason:"imperative-api"}),this.setState(yF)}}componentDidCatch(t,n){var r,i;(r=(i=this.props).onError)===null||r===void 0||r.call(i,t,n)}componentDidUpdate(t,n){const{didCatch:r}=this.state,{resetKeys:i}=this.props;if(r&&n.error!==null&&_ot(t.resetKeys,i)){var o,s;(o=(s=this.props).onReset)===null||o===void 0||o.call(s,{next:i,prev:t.resetKeys,reason:"keys"}),this.setState(yF)}}render(){const{children:t,fallbackRender:n,FallbackComponent:r,fallback:i}=this.props,{didCatch:o,error:s}=this.state;let a=t;if(o){const l={error:s,resetErrorBoundary:this.resetErrorBoundary};if(typeof n=="function")a=n(l);else if(r)a=h.createElement(r,l);else if(i!==void 0)a=i;else throw s}return h.createElement(Sot.Provider,{value:{didCatch:o,error:s,resetErrorBoundary:this.resetErrorBoundary}},a)}};function _ot(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return e.length!==t.length||e.some((n,r)=>!Object.is(n,t[r]))}const Cot={BASE_URL:"./",DEV:!1,MODE:"production",PROD:!0,SSR:!1},Eae=e=>{let t;const n=new Set,r=(c,f)=>{const p=typeof c=="function"?c(t):c;if(!Object.is(p,t)){const g=t;t=f??(typeof p!="object"||p===null)?p:Object.assign({},t,p),n.forEach(v=>v(t,g))}},i=()=>t,l={setState:r,getState:i,getInitialState:()=>u,subscribe:c=>(n.add(c),()=>n.delete(c)),destroy:()=>{(Cot?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,i,l);return l},wh=e=>e?Eae(e):Eae;var _3e={exports:{}},C3e={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZO=h,Eot=vbe;function kot(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Pot=typeof Object.is=="function"?Object.is:kot,$ot=Eot.useSyncExternalStore,Tot=ZO.useRef,Mot=ZO.useEffect,Lot=ZO.useMemo,Aot=ZO.useDebugValue;C3e.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var o=Tot(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=Lot(function(){function l(g){if(!u){if(u=!0,c=g,g=r(g),i!==void 0&&s.hasValue){var v=s.value;if(i(v,g))return f=v}return f=g}if(v=f,Pot(c,g))return v;var y=r(g);return i!==void 0&&i(v,y)?(c=g,v):(c=g,f=y)}var u=!1,c,f,p=n===void 0?null:n;return[function(){return l(t())},p===null?void 0:function(){return l(p())}]},[t,n,r,i]);var a=$ot(e,o[0],o[1]);return Mot(function(){s.hasValue=!0,s.value=a},[a]),Aot(a),a};_3e.exports=C3e;var Iot=_3e.exports;const Rot=Dl(Iot),E3e={BASE_URL:"./",DEV:!1,MODE:"production",PROD:!0,SSR:!1},{useDebugValue:Dot}=ne,{useSyncExternalStoreWithSelector:Oot}=Rot;let kae=!1;const jot=e=>e;function yt(e,t=jot,n){(E3e?"production":void 0)!=="production"&&n&&!kae&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),kae=!0);const r=Oot(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return Dot(r),r}const Pae=e=>{(E3e?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?wh(e):e,n=(r,i)=>yt(t,r,i);return Object.assign(n,t),n},YO=e=>e?Pae(e):Pae;var Not={collection:void 0,manifest:void 0,range:void 0,canvas:void 0,annotation:void 0,annotationPage:void 0},_4=ne.createContext(Not),xh=()=>h.useContext(_4);function i1({value:e,children:t}){let n=xh(),r=h.useMemo(()=>({...n,...e}),[e,n]);return d.jsx(_4.Provider,{value:r,children:t})}var a3=ne.createContext({vault:null,setVaultInstance:e=>{}});function Ip({vault:e,vaultOptions:t,useGlobal:n,resources:r,children:i}){let[o,s]=h.useState(()=>e||(n?tCe(t):t?new fh(t):new fh));return d.jsx(a3.Provider,{value:{vault:o,setVaultInstance:s},children:d.jsx(i1,{value:r||{},children:i})})}function em(e){let t=h.useContext(a3);return e||(t&&t.vault?t.vault:tCe())}function Fot(e,{noCache:t=!1}={}){let n=typeof e=="string"?e:e.id,r=em(),[i,o]=h.useState(n),[s,a]=h.useState(void 0),l=h.useMemo(()=>r.get(n,{skipSelfReturn:!0})||void 0,[n,r]),[u,c]=h.useState(l);return h.useEffect(()=>{(async()=>{try{let f=l&&!t?l:await r.load(n),p=f?f.id||f["@id"]:null;f&&i!==p&&o(p),c(f)}catch(f){a(f)}})()},[n,t]),{isLoaded:!!u,id:i,requestId:n,error:s,resource:u,cached:!!(u&&u===l)}}function Bot(e,t){let{id:n,isLoaded:r,error:i,resource:o,requestId:s,cached:a}=Fot(e,t);return{id:n,isLoaded:r,error:i,manifest:o,requestId:s,cached:a}}function hh({manifest:e,children:t}){return d.jsx(i1,{value:{manifest:e},children:t})}function Do({canvas:e,children:t}){return d.jsx(i1,{value:{canvas:e},children:t})}var $n=()=>{let{vault:e}=h.useContext(a3);if(e===null)throw new Error("Vault not found. Ensure you have your provider set up correctly.");return e};function Ki(e,t=[]){let n=$n(),[r,i]=h.useState(()=>e(n.getState(),n));return h.useEffect(()=>n.subscribe(o=>e(o,n),o=>{i(o)},!1),t),r}var XO=ne.createContext([]);function k3e(){let e=h.useContext(XO);return Ki(t=>e.map(n=>t.iiif.entities.Canvas[n]).filter(Boolean),[e])}function Li(e={},t=[]){let{id:n,selector:r}=e,i=xh();$n();let o=n||i.manifest,s=Ki(a=>o?a.iiif.entities.Manifest[o]:void 0,[o]);return h.useMemo(()=>{if(s)return r?r(s):s},[s,r,...t])}function P3e({range:e,children:t}){return d.jsx(i1,{value:{range:e},children:t})}function $3e(e,t){var r;let n=[];for(let i of t.items)if(i.type==="SpecificResource"&&((r=i.source)==null?void 0:r.type)==="Canvas"&&(i.source.id.indexOf("#")!==-1?n.push({id:i.source.id.split("#")[0],type:"Canvas"}):n.push(i.source)),i.type==="Range"&&n.push(...$3e(e,e.get(i))),i.type==="SpecificResource"){let o=typeof i.source=="string"?i.source:i.source.id;n.push({id:o,type:"Canvas"})}return n}function zot(e,t,{disablePaging:n,skipNonPaged:r}={}){let i=t.behavior,o=i.includes("paged"),s=o?!1:i.includes("continuous"),a=o||s?!1:i.includes("individuals"),l=t.type==="Manifest"?t.items:$3e(e,t);if(s)return[l,[l.map((v,y)=>y)]];if(a||!o||n)return[l,l.map((v,y)=>[y])];let u=[],c=[],f=()=>{c.length&&(u.push([...c]),c=[])},p=0,g=!1;for(let v=0;v<l.length;v++){let y=e.get(l[v]);if(y.behavior.includes("non-paged")){v===p&&p++,r||(f(),u.push([v]),f());continue}if(v===p||y.behavior.includes("facing-pages")){c.length&&(g=!0),f(),u.push([v]),f();continue}if(c.push(v),g){f(),g=!1;continue}c.length>1&&f()}return c.length&&f(),[l,u]}function T3e(e={},t=[]){let{id:n,selector:r}=e,i=xh(),o=n||i.range,s=Ki(a=>o?a.iiif.entities.Range[o]:void 0,[o]);return h.useMemo(()=>{if(s)return r?r(s):s},[s,r,...t])}function M3e({startCanvas:e,disablePaging:t}){var y;let n=$n(),r=Li(),i=T3e(),[o,s]=h.useState(void 0),a=i||r;if(!a)throw new Error("Nothing selected");let[l,u]=h.useMemo(()=>zot(n,a,{disablePaging:t}),[n,a,t]),c=h.useRef(u);if(c.current!==u){let S=c.current[o][0],C=u.findIndex(_=>_.includes(S));c.current=u,s(C)}let f=h.useCallback(S=>{let C=u.findIndex(_=>_.includes(S));s(C===-1?0:C)},[l,u]),p=h.useCallback(S=>{let C=l.findIndex(_=>_.id===S);C!==-1?f(C):s(0)},[l,u]),g=h.useCallback(()=>{s(S=>S>=u.length-1?S:S+1)},[u]),v=h.useCallback(()=>{s(S=>S<=0?0:S-1)},[u]);return typeof o>"u"&&(e?p(e):s(0)),{visibleItems:((y=u[o])==null?void 0:y.map(S=>l[S].id))||[],cursor:o,items:l,sequence:u,hasPrevious:o>0,hasNext:o<u.length-1,setSequenceIndex:s,setCanvasIndex:f,setCanvasId:p,next:g,previous:v}}function Lf(e,t,n){let r=t.findIndex(s=>s.service.id===e);if(r===-1)return t;let i=[...t],o=n(i[r]);return o===i[r]?t:(i[r]=o,i)}var Hot=()=>wh((e,t)=>({currentAuth:-1,authItems:[],login:()=>{let n=t().authItems[t().currentAuth];if(!n||n.isPending||n.isLoggedIn)return;if(n.type!=="active")throw new Error("Cannot login to non-active service");let r=n.service.service.find(i=>i.type==="AuthAccessTokenService2");if(!r)throw new Error("Token service not found");e(()=>({authItems:Lf(n.id,t().authItems,i=>({...i,isPending:!0}))})),$ae(n.service).then(()=>{bF(r).then(i=>{let o=i.expiresIn,s=Date.now()+o*1e3;e(()=>({authItems:Lf(n.id,t().authItems,a=>({...a,isLoggedIn:!0,isPending:!1,session:{token:i.accessToken,expires:s}}))}))}).catch(i=>{e(()=>({authItems:Lf(n.id,t().authItems,o=>({...o,isLoggedIn:!1,isPending:!1,error:i.message}))}))})})},logout:()=>{let n=t().authItems[t().currentAuth];if(!n||n.isPending||!n.isLoggedIn)return;if(n.type!=="active")throw new Error("Cannot logout of non-active service");let r=n.service.service.find(o=>o.type==="AuthLogoutService2");if(!r)return;let i=`${r.id}?origin=${L3e()}`;window.open(i),e(()=>({authItems:Lf(n.id,t().authItems,o=>({...o,isLoggedIn:!1,session:null,isPending:!1}))}))},nextAuth:()=>{let n=t().authItems.length,r=t().currentAuth+1;r>=n||e(()=>({currentAuth:r}))},previousAuth:()=>{let n=t().currentAuth-1;n<0||e(()=>({currentAuth:n}))},setAuth:n=>{n!==-1&&(n<0||n>=t().authItems.length)||e(()=>({currentAuth:n}))},addService:(n,r)=>{if(!n.service)return;let i=n.service.find(s=>s.type==="AuthAccessTokenService2"),o=n;if(t().authItems.find(s=>s.service.id===n.id)){e(()=>({authItems:Lf(n.id,t().authItems,s=>({...s,instances:s.instances+1}))}));return}if(e(()=>({currentAuth:o.profile==="active"?0:t().currentAuth,authItems:[{id:n.id,type:n.profile,service:n,probeId:r,canAuthenticate:!0,instances:1,isPending:!1,isLoggedIn:!1,session:null},...t().authItems]})),n.profile==="external"){if(!i)throw new Error("Token service not found");bF(i).then(s=>{e(()=>({authItems:Lf(n.id,t().authItems,a=>({...a,isLoggedIn:!0,isPending:!1,session:{token:s.accessToken,expires:s.expiresIn}}))}))}).catch(s=>{e(()=>({authItems:Lf(n.id,t().authItems,a=>({...a,isLoggedIn:!1,isPending:!1,canAuthenticate:!1,error:s.message}))}))})}if(n.profile==="kiosk"){if(!i)throw new Error("Token service not found");e(()=>({authItems:Lf(n.id,t().authItems,s=>({...s,isPending:!0}))})),$ae(o).then(()=>{bF(i).then(s=>{e(()=>({authItems:Lf(n.id,t().authItems,a=>({...a,isLoggedIn:!0,isPending:!1,session:{token:s.accessToken,expires:s.expiresIn}}))}))}).catch(s=>{e(()=>({authItems:Lf(n.id,t().authItems,a=>({...a,isLoggedIn:!1,isPending:!1,error:s.message}))}))})})}n.profile},removeService:(n,r)=>{let i=t().currentAuth===t().authItems.findIndex(s=>s.service.id===n.id),o=t().currentAuth;if(i){let s=t().authItems.find(a=>a.service.id===n.id);s&&s.instances>1||(o=t().authItems.findIndex(a=>a.service.id!==n.id&&a.instances>0))}e(()=>({authItems:Lf(n.id,t().authItems,s=>({...s,instances:s.instances-1})),currentAuth:o}))}})),Vot=(e,t)=>wh((n,r)=>({service:e,status:e?"unknown":"success",shouldRedirect:!1,redirectResource:null,shouldSubstitute:!1,substituteResource:null,error:null,errorHeading:null,errorNote:null,shouldDisplayResource:!1,token:t||null,async probe(){var s;if(!r().service)return;let i=(s=r().service)==null?void 0:s.id;if(!i){n({status:"error",error:"Service ID not found",errorHeading:{en:["Service ID not found"]}});return}n({status:"probing"});let o=r().token;try{let a=await fetch(i,{headers:o?{Authorization:`Bearer ${r().token}`,Accept:"application/json"}:{Accept:"application/json"}}).then(l=>l.json());if(a.status===200)n({status:"success",shouldDisplayResource:!0,error:null,errorHeading:null,errorNote:null,shouldSubstitute:!1,shouldRedirect:!1});else if(a.status<400&&a.status>=300){if(!a.location)throw new Error("Redirect location not found");n({status:"error",shouldDisplayResource:!1,shouldRedirect:!0,redirectResource:a.location||null})}else if(a.status===401)n({status:"error",shouldDisplayResource:!1,shouldRedirect:!1,shouldSubstitute:!!a.substitute,substituteResource:a.substitute||null,error:"Unauthorized",errorHeading:a.heading||{en:["Unauthorized"]},errorNote:a.note||null});else throw new Error("Unknown error")}catch(a){n({status:"error",error:a.message,errorHeading:{en:["Unknown error"]}})}},setToken(i){n({token:i})}}));function Uot(e){let t=e.service||e.services||[],n={hasAuth:!1,services:{}};for(let r of t)if(r.type==="AuthProbeService2"){n.services.probe=r,n.hasAuth=!0;let i=r.service.filter(o=>o.type==="AuthAccessService2");i[0]&&(n.services.access=i[0])}return n}async function bF(e,{strict:t=!0}={}){return new Promise((n,r)=>{let i=Math.random().toString(36).substring(7),o=`${e.id}?messageId=${i}&origin=${window.location.origin}`,s=u=>{let c=u.data;if(c.messageId===i){if(t&&c.type!=="AuthAccessToken2"){a(),r("Invalid response, expected type=AuthAccessToken2");return}if(!c.accessToken){a(),r("Invalid response, expected accessToken");return}a(),n(c)}},a=()=>window.removeEventListener("message",s),l=document.createElement("iframe");l.src=o,l.style.display="none",document.body.appendChild(l),window.addEventListener("message",s)})}function L3e(e){let t=window.location;return t.protocol+"//"+t.hostname+(t.port?":"+t.port:"")}async function $ae(e){let t=`${e.id}?origin=${L3e()}`,n=window.open(t);if(!n)throw new Error("Failed to open window");return new Promise((r,i)=>{let o=setInterval(()=>{n.closed&&(clearInterval(o),r())},500)})}function Wot(e){var o;let t=h.useMemo(()=>Uot(e),[e]),n=Xot((o=t.services.access)==null?void 0:o.id),r=h.useMemo(()=>Vot(t.services.probe,n),[t.services.probe]),i=yt(r);return h.useEffect(()=>{i.status==="unknown"&&!n&&i.probe()},[t.services.probe,i.status]),h.useEffect(()=>{n&&(i.setToken(n),i.probe())},[n]),[e,i,t.hasAuth]}var OT=h.createContext(null),Kot=h.createContext(null);Kot.displayName="CurrentAuth";var qot=h.createContext(null);qot.displayName="AuthActions";function A3e({children:e}){let t=h.useMemo(()=>Hot(),[]);return d.jsx(OT.Provider,{value:t,children:e})}function Got(){return!!h.useContext(OT)}function sQ(){let e=h.useContext(OT);if(!e)throw new Error("useAuthActions must be used within a AuthProvider");return e}function Zot(){let e=sQ();return yt(e,t=>({login:t.login,logout:t.logout,nextAuth:t.nextAuth,previousAuth:t.previousAuth,setAuth:t.setAuth,addService:t.addService,removeService:t.removeService}))}function Yot(e){let t=sQ();return yt(t,n=>n.authItems.find(r=>r.service.id===e))}function Xot(e){let t=sQ();return yt(t,n=>{var r,i;return(i=(r=n.authItems.find(o=>o.id===e))==null?void 0:r.session)==null?void 0:i.token})}function Qot(e){let t=Zot(),n=Yot(e.service.id);return h.useEffect(()=>(t==null||t.addService(e.service,e.probeId),()=>{t==null||t.removeService(e.service,e.probeId)}),[e.service]),n?(n.error||n.isLoggedIn,e.children):null}function wF(){return null}function Jot(e){let[t,n,r]=Wot(e.resource);e.fallbackComponent;let i=e.loadingComponent||wF,o=e.errorComponent||wF,s=n.service,a=null;if(!r||!s)return e.children(t);let l=s.service.filter(u=>u.type==="AuthAccessService2");n.status==="error"&&(a=d.jsx(o,{resource:e.resource,error:n.error||"",heading:n.errorHeading,note:n.errorNote,extra:e.extra})),(n.status==="unknown"||n.status==="probing")&&(a=d.jsx(i,{})),n.status==="success"&&(a=e.children(t));for(let u of l)a=d.jsx(Qot,{service:u,probeId:s.id,children:a},u.id);return a}var est=e=>e.id||e["@id"];function tst(e){return(Array.isArray(e.service)?e.service:[e.service]).find(t=>t.profile==="http://iiif.io/api/search/0/autocomplete"||t.profile==="http://iiif.io/api/search/1/autocomplete"||t.profile==="AutoCompleteService1")}var nst=e=>{let t;typeof e=="string"?t={"@context":"http://iiif.io/api/search/1/context.json",profile:"http://iiif.io/api/search/1/search","@id":e,id:e,service:[]}:t=e;let n=t?est(t):void 0,r=null;return wh((i,o)=>({service:t,resources:[],lastQuery:{},loading:!1,error:!1,highlight:null,hasSearch:!!t,hasAutocomplete:t?!!tst(t):!1,errorMessage:"",search(s,a={}){if(!n)throw new Error("No search service found.");r&&!r.signal.aborted&&r.abort(),r=new AbortController;let l=new URLSearchParams;s.q&&l.set("q",s.q),s.motivation&&l.set("motivation",s.motivation),s.date&&l.set("date",s.date),s.user&&l.set("user",s.user),i({loading:!0}),fetch(`${n}?${l.toString()}`,{signal:r.signal,headers:{"Content-Type":"application/json",Accept:"application/json",...a.headers||{}}}).then(async u=>{if(!(r!=null&&r.signal.aborted))if(u.ok){let c=await u.json();i({resources:c.resources,error:!1,errorMessage:""})}else i({resources:[],error:!0,errorMessage:u.statusText})})},clearSearch(){i({resources:[],error:!1,errorMessage:""})},highlightResult(s){let a=o().resources.find(l=>l["@id"]===s);i({highlight:a})},nextResult(){let s=o().resources,a=o().highlight;if(!a){i({highlight:s[0]||null});return}let l=s.findIndex(u=>u["@id"]===a["@id"]);if(l===-1){i({highlight:s[0]||null});return}i({highlight:s[l+1]||s[0]||null})},previousResult(){let s=o().resources,a=o().highlight;if(!a){i({highlight:s[s.length-1]||null});return}let l=s.findIndex(u=>u["@id"]===a["@id"]);if(l===-1){i({highlight:s[s.length-1]||null});return}if(l===0){i({highlight:s[s.length-1]||null});return}i({highlight:s[l-1]||s[s.length-1]||null})}}))};function rst(){let e=Li();return e?e.service.find(t=>t.profile==="SearchService1"||t.profile==="http://iiif.io/api/search/1/search"):void 0}var jT=h.createContext(null);jT.displayName="Search";function ist(e){let t=rst();return e.store?d.jsx(jT.Provider,{value:e.store,children:e.children}):d.jsx(ost,{service:t,children:e.children})}function ost({service:e,children:t}){let n=h.useMemo(()=>nst(e),[e]);return d.jsx(jT.Provider,{value:n,children:t})}var PE=()=>{},QO=h.createContext({setCurrentCanvasId:PE,setCurrentCanvasIndex:PE,nextCanvas:PE,previousCanvas:PE,items:[],sequence:[],setSequenceIndex:PE,currentSequenceIndex:0,hasNext:!1,hasPrevious:!1});function sst(e){let t=Li(),{cursor:n,visibleItems:r,next:i,sequence:o,items:s,setCanvasIndex:a,setCanvasId:l,previous:u,setSequenceIndex:c,hasNext:f,hasPrevious:p}=M3e({startCanvas:e.startCanvas,disablePaging:e.pagingEnabled===!1}),g=h.useMemo(()=>({sequence:o,items:s,setCurrentCanvasId:l,nextCanvas:i,previousCanvas:u,totalCanvases:s.length,setCurrentCanvasIndex:a,setSequenceIndex:c,currentSequenceIndex:n,hasNext:f,hasPrevious:p}),[o,s,l,i,u,s,a,c,n]);return t?r.length===0?null:d.jsx(QO.Provider,{value:g,children:d.jsx(XO.Provider,{value:r,children:d.jsx(Do,{canvas:r[0],children:e.children})})}):(console.warn("The manifest passed to the provider is not a valid IIIF manifest."),d.jsx("div",{children:"Sorry, something went wrong."}))}function I3e(e){let t=em(e.vault),n=Bot(e.manifest);if(!n)return console.warn("The manifest passed to the provider is not a valid IIIF manifest."),d.jsx("div",{children:"Sorry, something went wrong."});if(n.error)return d.jsx("div",{children:n.error.toString()});if(!n.isLoaded)return d.jsx("div",{children:"Loading..."});let r=d.jsx(sst,{...e,children:e.children});return d.jsx(Ip,{vault:t,children:d.jsx(hh,{manifest:n.id,children:d.jsx(A3e,{children:d.jsx(ist,{children:e.rangeId?d.jsx(P3e,{range:e.rangeId,children:r}):r})})})})}function aQ(){return h.useContext(QO)}var ast=nv(),JO=h.createContext({emitter:ast});JO.displayName="Events";function lst(){return ne.useContext(JO).emitter}var OU=ne.createContext({});function ust(){let e=h.useContext(OU),t=Object.keys(e),n={};for(let r of t)e[r].Provider&&(n[r]={value:h.useContext(e[r]),Provider:e[r].Provider});return n}function cst(e){let t=Object.keys(e),n=e.children;for(let r of t){if(r==="children")continue;let{value:i,Provider:o}=e[r];n=d.jsx(o,{value:i,children:n})}return n}function R3e(e){let t=h.useContext(OU),n=h.useMemo(()=>({...t,...e.providers}),[e.providers]);return d.jsx(OU.Provider,{value:n,children:e.children})}function dst(){return{VaultContext:h.useContext(a3),ResourceContext:h.useContext(_4),SimpleViewerReactContext:h.useContext(QO),VisibleCanvasReactContext:h.useContext(XO),AuthRContext:h.useContext(OT),SearchReactContext:h.useContext(jT),ReactEventContext:h.useContext(JO)}}function fst(e){return d.jsx(Ip,{vault:e.bridge.VaultContext.vault||void 0,resources:e.bridge.ResourceContext,children:d.jsx(XO.Provider,{value:e.bridge.VisibleCanvasReactContext,children:d.jsx(QO.Provider,{value:e.bridge.SimpleViewerReactContext,children:d.jsx(JO.Provider,{value:e.bridge.ReactEventContext,children:d.jsx(OT.Provider,{value:e.bridge.AuthRContext,children:d.jsx(jT.Provider,{value:e.bridge.SearchReactContext,children:e.custom?d.jsx(cst,{...e.custom,children:e.children}):e.children})})})})})})}function hst(){let e=$n().getStore();return h.useMemo(()=>t=>e.dispatch(t),[e])}function Tae(e){return typeof e!="string"&&e&&e.bindToVault}function pst(){let e=$n(),t=h.useRef([]),n=hst(),r=h.useMemo(()=>`vault://annotation-page/${new Date().getTime()}/${Math.round(Math.random()*1e9).toString(16)}`,[]);h.useLayoutEffect(()=>{let a={id:r,type:"AnnotationPage",behavior:[],label:null,thumbnail:[],summary:null,requiredStatement:null,metadata:[],rights:null,provider:[],items:[],seeAlso:[],homepage:[],rendering:[],service:[]};n(ks.importEntities({entities:{AnnotationPage:{[a.id]:a}}}))},[r]);let i=Ki(a=>r&&a.iiif.entities.AnnotationPage[r]||null,[r]),o=h.useCallback((a,l)=>{if(r){if(Tae(a)){let f=a;f.__vault||f.bindToVault(e),a=typeof f.source=="string"?f.source:f.source.id,t.current[a]=f}else typeof a!="string"&&(a=a.id);let u=e.get({id:r,type:"AnnotationPage"}),c=e.get({id:a,type:"Annotation"});u&&c&&(u.items.find(f=>f.id===c.id)||n(ks.addReference({id:r,type:"AnnotationPage",key:"items",reference:{id:a,type:"Annotation"},index:l})))}},[r]),s=h.useCallback(a=>{r&&(Tae(a)?a=typeof a.source=="string"?a.source:a.source.id:typeof a!="string"&&(a=a.id),t.current[a]&&t.current[a].beforeRemove(),e.get({id:r,type:"AnnotationPage"})&&n(ks.removeReference({id:r,type:"AnnotationPage",key:"items",reference:{id:a,type:"Annotation"}})))},[r]);return[i,{addAnnotation:o,removeAnnotation:s}]}var D3e=h.createContext(null);function mst(){let e=h.useContext(D3e);return[e.fullPage,{addAnnotation:e.addAnnotation,removeAnnotation:e.removeAnnotation}]}function gst({children:e}){let[t,{addAnnotation:n,removeAnnotation:r}]=pst();return d.jsx(D3e.Provider,{value:h.useMemo(()=>({fullPage:t,addAnnotation:n,removeAnnotation:r}),[t]),children:e})}function O3e({width:e,style:t,height:n,error:r,resetErrorBoundary:i}){return d.jsxs("div",{style:{width:e,height:n,minHeight:500,...t||{},background:"#f9f9f9"},children:[d.jsx("h3",{children:"Error occurred"}),d.jsx("p",{children:r.message}),d.jsx("button",{type:"button",onClick:i,children:"Reset"})]})}var nx=h.createContext(null);function NT(){return h.useContext(nx)}var j3e=h.createContext(()=>{}),N3e=h.createContext(()=>{});function Rp(e,t,n,r,i=[]){let o=h.useContext(e==="portal"?N3e:j3e);h.useEffect(()=>(e!=="none"&&o(t,n,r),()=>{o(t,null)}),[t,e,o,...i])}function kr(e={},t=[]){let{id:n,selector:r}=e,i=xh(),o=n||i.canvas,s=Ki(a=>o?a.iiif.entities.Canvas[o]:void 0,[o]);return h.useMemo(()=>{if(s)return r?r(s):s},[s,r,...t])}var F3e=h.createContext(()=>{});function vst(e){let t=kr(),n=h.useContext(F3e);h.useEffect(()=>t&&t.id?(n(t.id,e),()=>n(t.id,-1)):()=>{},[t,e])}function B3e({children:e,errorFallback:t,outerContainerProps:n={},worldScale:r,...i}){let[o,s]=h.useState(),a=ust(),l=dst(),u=t||O3e,[c,f]=h.useState({}),p=Object.entries(c),[g,v]=h.useState({}),y=Object.entries(g),[S,C]=h.useState({}),_=h.useMemo(()=>r||Math.max(...Object.values(S)),[S]),k=h.useMemo(()=>({maxOverZoom:_||1,...i.runtimeOptions||{}}),[_,i.runtimeOptions]),w=h.useCallback((R,D)=>{C(H=>{if(D===-1){let{[R]:O,...z}=H;return z}return{...H,[R]:D}})},[]),P=h.useCallback((R,D,H)=>{f(({[R]:O,...z})=>D?{...z,[R]:{element:D,props:H}}:z)},[]),M=h.useCallback((R,D,H)=>{v(({[R]:O,...z})=>D?{...z,[R]:{element:D,props:H}}:z)},[]);return d.jsxs(DT,{resetKeys:[],fallbackRender:R=>d.jsx(u,{...i,...R}),children:[d.jsx(vot,{...i,containerProps:{style:{position:"relative"},...i.containerProps||{}},htmlChildren:d.jsx(d.Fragment,{children:p.map(([R,{element:D,props:H}])=>d.jsx(ne.Fragment,{children:d.jsx(D,{...H||{}})},R))}),onCreated:R=>{s(R),i.onCreated&&i.onCreated(R)},runtimeOptions:k,children:d.jsx(nx.Provider,{value:o,children:d.jsx(F3e.Provider,{value:w,children:d.jsx(j3e.Provider,{value:P,children:d.jsx(N3e.Provider,{value:M,children:d.jsx(fst,{bridge:l,custom:a,children:d.jsx(r1.Provider,{value:i.mode||"explore",children:d.jsx(gst,{children:e})})})})})})})}),d.jsx("div",{children:y.map(([R,{element:D,props:H}])=>d.jsx(ne.Fragment,{children:d.jsx(D,{...H||{}})},R))})]})}function z3e(e,t){let n=$n(),r=h.useMemo(()=>wnt(n),[n]),i=Ki(()=>e&&e.id?n.getResourceMeta(e.id,"eventManager"):null,[e]);return h.useMemo(()=>e?r.getListenersAsProps(e,t):{},[i,e,n,t])}function qR(e,t){let n=$n(),r=h.useMemo(()=>rCe(n),[n]);return Ki(()=>{if(!e)return null;let i=r.getAppliedStyles(e.id);return i?t?i[t]:i:void 0},[e,t])}function sv(e={},t=[]){let{id:n,selector:r}=e,i=xh(),o=$n(),s=n||i.annotation,a=Ki(u=>s?u.iiif.entities.Annotation[s]:void 0,[s]),l=Ki(u=>a&&a.body?a.body.map(c=>c?c.type==="SpecificResource"?{...c,source:o.get(c)}:c?u.iiif.entities[c.type][c.id]:null:null).filter(Boolean):[],[a]);return h.useMemo(()=>{if(!a)return;let u={...a,body:l,target:Ju(a.target,{typeMap:o.getState().iiif.mapping})};return r?r(u):u},[a,r,l,...t])}var H3e=({id:e,style:t,className:n,interactive:r})=>{let i=sv({id:e}),o=qR(i,"atlas"),s=qR(i,"html"),a=z3e(i,["atlas"]),l=kr(),u=h.useMemo(()=>xot(t,o),[t,o]);return l&&i&&i.target&&i.target.selector&&i.target.selector.type==="BoxSelector"&&i.target.source&&(i.target.source.id===l.id||i.target.source===l.id)?d.jsx(oQ,{id:i.id,isEditing:!0,region:i.target.selector.spatial,style:u,className:(s==null?void 0:s.className)||n,interactive:!!(s!=null&&s.href||r),href:(s==null?void 0:s.href)||null,title:(s==null?void 0:s.title)||null,hrefTarget:(s==null?void 0:s.target)||null,onClick:()=>{},...a}):null};function lQ(e={},t=[]){let{id:n,selector:r}=e,i=xh(),o=n||i.annotationPage,s=Ki(a=>o?a.iiif.entities.AnnotationPage[o]:void 0,[o]);return h.useMemo(()=>{if(s)return r?r(s):s},[s,...t])}var jU=({className:e,page:t})=>{var o;let n=lQ({id:t.id})||t,r=qR(n,"atlas"),i=qR(n,"html");return Ki(s=>n.id?s.iiif.entities.AnnotationPage[n.id]:null,[]),d.jsx(h.Fragment,{children:(o=n.items)==null?void 0:o.map(s=>d.jsx(H3e,{id:s.id,style:r,className:(i==null?void 0:i.className)||e},s.id))})};function yst(e,t){var r;let n=(r=e==null?void 0:e.iiif)==null?void 0:r.meta[t];return n?n.annotationPageManager:null}function bst(e,t){return Ki(n=>{let r=[];if(!e)return r;let i=Object.keys(n.iiif.entities.AnnotationPage);for(let o of i)if(!t||t.indexOf(o)!==-1){let s=yst(n,o);s&&s.views&&s.views[e]&&r.push(o)}return r},[e,t])}function wst({canvas:e,manifest:t,all:n,canvases:r}){let i=[];if(t)for(let o of t.annotations)i.indexOf(o.id)===-1&&i.push(o.id);if(n){if(r&&r.length)for(let o of r)for(let s of o.annotations)i.indexOf(s.id)===-1&&i.push(s.id)}else if(e)for(let o of e.annotations)i.indexOf(o.id)===-1&&i.push(o.id);return i}function xst(e,t){var r;let n=(r=e==null?void 0:e.iiif)==null?void 0:r.meta[t];return n?n.annotationPageManager:null}function V3e(e,t={}){let n=$n(),r=Li(),i=kr(),o=k3e(),s=h.useMemo(()=>wst({all:t.all,manifest:r,canvas:i,canvases:o}),[t.all,i,o,r]),a=bst(e,t.all?void 0:s),l=h.useCallback(c=>{e&&n.setMetaValue([c,"annotationPageManager","views"],f=>f&&!f[e]?f:{...f||{},[e]:!1})},[e,n]),u=h.useCallback((c,f={})=>{if(!e)return;let p=n.getState(),g=[];if(f!=null&&f.deselectOthers){let v=Object.keys(p.iiif.entities.AnnotationPage);for(let y of v){let S=xst(p,y);S&&S.views&&S.views[e]&&g.push(y)}}for(let v of g)l(v);n.setMetaValue([c,"annotationPageManager","views"],v=>v&&v[e]?v:{...v||{},[e]:!0})},[e,l,n]);return{availablePageIds:s,enabledPageIds:a,setPageEnabled:u,setPageDisabled:l}}function Sst(e,t){return Ki((n,r)=>r.get(e.map(i=>({id:i,type:t}))),[e,t])}var U3e=ne.createContext(Vnt.store);U3e.displayName="ImageServicesHelper";function uQ(){return h.useContext(U3e)}function _st(e){let t=uQ();return yt(t,({loaded:n})=>n[e])}function W3e(){let e=uQ();return yt(e,({loadServiceSync:t})=>t)}function Cst(){let e=uQ();return yt(e,({loaded:t})=>t)}var Est=wh((e,t)=>({loaded:{},setLoaded:(n,r="done")=>{e(i=>({loaded:{...i.loaded,[n]:r}}))}})),kst=nv();kst.on("loaded",e=>{Est.getState().setLoaded(e.imageServiceId)});function K3e(){let e=W3e(),t=Cst();return[h.useCallback((n,{height:r,width:i})=>n&&e(n,{height:r,width:i},!0),[e]),t]}function Pst(e={}){let t=sv(),n=kr(e.canvasId?{id:e.canvasId}:void 0);return Ki((r,i)=>{if(!n)return[];if(t&&e.enableSingleAnnotation)return[t];let o=i.get(n.items),s=[];for(let a of o)s.push(...i.get(a.items));return s},[n])}function $st(e,t=[]){let n=$n(),r=h.useMemo(()=>WX(n),[]),i=Pst({enableSingleAnnotation:e==null?void 0:e.enableSingleAnnotation}),[o,s]=h.useState((e==null?void 0:e.defaultChoices)||[]),a=h.useMemo(()=>r.getPaintables(i,o),[n,i,o,...t]),l={makeChoice:h.useCallback((u,{deselectOthers:c=!0,deselect:f=!1}={})=>{a.choice&&s(p=>{if(f){let v=p.filter(y=>y!==u);if(v.length===0){let y=a.items[0].resource.id;return y?[y]:[]}return v}if(c)return[u];let g=[...p];if(g.length===0&&a.items.length){let v=a.items[0].resource.id;v&&g.push(v)}return p.indexOf(u)!==-1?p:[...p,u]})},[a.choice])};return[a,l]}function cQ(e){let t=Li(),n=kr(),r=$n(),i=lst(),o=(e==null?void 0:e.emitter)||i,[s,a]=K3e(),{enabledPageIds:l}=V3e((e==null?void 0:e.annotationPageManagerId)||(t==null?void 0:t.id)||(n==null?void 0:n.id),{all:!1}),u=Sst(l,"AnnotationPage"),c=(e==null?void 0:e.strategies)||["empty","images","media","textual-content","complex-timeline"],[f,p]=$st(e,[a]);h.useEffect(()=>{let v=y=>{p.makeChoice(y.choiceId,{deselectOthers:y.deselectOthers,deselect:y.deselect})};return o.on("make-choice",v),()=>{o.off("make-choice",v)}},[]);let g=h.useMemo(()=>Srt({canvas:n,paintables:f,supports:c,loadImageService:s,vault:r}),[n,f,r,p.makeChoice]);return h.useEffect(()=>{let v=f.allChoices,y={canvasId:n==null?void 0:n.id,manifestId:t==null?void 0:t.id};v&&o.emit("choice-change",{choice:v,partOf:y})},[n==null?void 0:n.id,f.allChoices]),h.useMemo(()=>g.type==="unknown"?[g,mrt]:[{...g,annotations:{pages:u}},p],[g,u])}var FT=h.createContext(null);FT.displayName="Strategy";function mf(){let e=h.useContext(FT);if(!e)throw new Error("useStrategy must be used within a StrategyProvider");return e}var l3=h.createContext(null);l3.displayName="Controls";function xx(){let e=h.useContext(l3);if(!e)throw new Error("useStrategy must be used within a StrategyProvider");return e}function q3e({strategies:e,registerActions:t,defaultChoices:n,onChoiceChange:r,mediaControlsDeps:i,renderMediaControls:o,renderViewerControls:s,viewControlsDeps:a,renderComplexTimelineControls:l,complexTimelineControlsDeps:u,throwOnUnknown:c,children:f}){let p=kr(),g=$n(),v=h.useMemo(()=>rCe(g),[g]),[y,S]=cQ({strategies:e||["images"],defaultChoices:n==null?void 0:n.map(({id:w})=>w)}),C="choice"in y?y.choice:void 0;if(h.useEffect(()=>{t&&t(S)},[y.annotations]),h.useEffect(()=>{r&&r(C)},[C]),h.useEffect(()=>{if(n)for(let w of n)typeof w.opacity<"u"&&v.applyStyles({id:w.id},"atlas",{opacity:w.opacity})},[n]),y.type==="unknown"&&c)throw new Error(y.reason||"Unknown strategy");let _=h.useMemo(()=>({renderMediaControls:o,mediaControlsDeps:i||[],renderViewerControls:s,viewControlsDeps:a||[],renderComplexTimelineControls:l,complexTimelineControlsDeps:u||[]}),[i,o,s,a,l,u]),k=h.useMemo(()=>({strategy:y,actions:S,choices:"choice"in y?y.choice:[]}),[y,p]);return d.jsx(l3.Provider,{value:_,children:d.jsx(FT.Provider,{value:k,children:f})})}function G3e({x:e=0,y:t=0,keepCanvasScale:n,children:r}){let{strategy:i}=mf(),o=kr(),s=z3e(o,["deep-zoom"]),a=h.useMemo(()=>n?1:Math.max(1,...i.type==="images"?i.images.map(u=>{var c;return(u.width||0)/((c=u.target)==null?void 0:c.spatial.width)}):[]),[n,i]);vst(a);let l=i.type==="images"?i.images.length:0;return o?d.jsx("world-object",{height:o.height,width:o.width,x:e,y:t,...s,children:r},`${o.id}/${i.type}/${l}`):null}function Z3e({style:e}){let t=kr();return!t||!t.height||!t.width?null:d.jsx("box",{interactive:!1,target:{x:0,y:0,width:Number(t.width),height:Number(t.height)},style:e})}function Y3e({backgroundStyle:e,alwaysShowBackground:t}){let{strategy:n}=mf();return n.type!=="empty"&&!t?null:d.jsx(Z3e,{style:e})}function Mae(e){return{isMuted:!1,playRequested:!1,isPlaying:!1,isFinished:!1,volume:100,duration:e}}function Tst(e,t){switch(t.type){case"RESET":return t.state;case"FINISHED":return{...e,isFinished:!0,isPlaying:!1,playRequested:!1};case"PLAY_PAUSE":return{...e,isFinished:!1,isPlaying:!e.isPlaying};case"PLAY_REQUESTED":return{...e,isFinished:!1,playRequested:!0};case"PAUSE":return{...e,isPlaying:!1};case"PLAY":return{...e,isFinished:!1,playRequested:!1,isPlaying:!0};case"MUTE":return{...e,isMuted:!0};case"SET_VOLUME":return{...e,volume:t.volume,isMuted:t.volume===0};case"TOGGLE_MUTE":return{...e,isMuted:!e.isMuted};case"UNMUTE":return{...e,isMuted:!1}}return e}function BT(e){let t=Math.round(e);return`${Math.floor(t/60)}:${`${t%60}`.padStart(2,"0")}`}function e7(e){let[t,n]=h.useReducer(Tst,Mae(e.duration));h.useEffect(()=>{n({type:"RESET",state:Mae(e.duration)})},[e.duration]);let r=h.useRef(null),i=h.useRef(null),o=h.useRef(null),s=h.useRef(!1),a=h.useCallback(()=>{i.current&&r.current&&(i.current.innerHTML=BT(r.current.currentTime),o.current&&(o.current.style.width=`${r.current.currentTime/e.duration*100}%`),s.current!==r.current.muted&&(s.current=r.current.muted,n(r.current.muted?{type:"MUTE"}:{type:"UNMUTE"})))},[e.duration]),l=h.useCallback(()=>{r.current&&(n({type:"PLAY_REQUESTED"}),r.current.play().then(()=>{n({type:"PLAY"})}),a())},[a]),u=h.useCallback(()=>{r.current&&(r.current.duration>0&&r.current.paused?l():c())},[a]),c=h.useCallback(()=>{r.current&&(r.current.pause(),n({type:"PAUSE"}),a())},[a]),f=h.useCallback(()=>{r.current&&(r.current.muted=!r.current.muted,n(r.current.muted?{type:"MUTE"}:{type:"UNMUTE"}))},[]),p=h.useCallback(()=>{r.current&&(r.current.muted=!0,n({type:"MUTE"}))},[]),g=h.useCallback(()=>{r.current&&(r.current.muted=!1,n({type:"UNMUTE"}))},[]),v=h.useCallback(C=>{r.current&&(r.current.muted=!1,r.current.volume=C/100,n({type:"SET_VOLUME",volume:C}))},[]),y=h.useCallback(C=>{r.current&&(r.current.currentTime=Math.max(0,Math.min(C*e.duration,e.duration)),a())},[]),S=h.useCallback(C=>{if(r.current){let _=typeof C=="function"?C(r.current.currentTime):C;r.current.currentTime=Math.max(0,Math.min(_,e.duration)),a()}},[]);return h.useEffect(()=>{let C=setInterval(()=>{a()},350);return()=>clearInterval(C)},[a,e.duration]),h.useEffect(()=>{let C=()=>{n({type:"FINISHED"})},_=r.current;return _==null||_.addEventListener("ended",C),()=>_==null?void 0:_.removeEventListener("ended",C)},[]),[{element:r,currentTime:i,progress:o},t,{play:l,pause:c,playPause:u,mute:p,unmute:g,toggleMute:f,setVolume:v,setDurationPercent:y,setTime:S}]}function Lae({currentKeyFrameIndex:e,keyframes:t,targetTime:n,currentTime:r}){if(r<=n){let i=t.findIndex(a=>a.time>n);if(i===-1)return[e,[]];let o={},s=t.slice(e,i);for(let a of s)a.type==="enter"&&(o[a.id]=a),a.type==="exit"&&(o[a.id]?delete o[a.id]:o[a.id]=a);return[i,Object.values(o)]}return[e,[]]}function Mst({complexTimeline:e,startTime:t=0}){let n=nv(),r={},i={progress:null,currentTime:null},o=0,s=null,a=0,l=null;function u(){let S=y.getState().visibleElements,C=r,_=[],k=Object.keys(C);for(let w of k){let P=C[w],M=S[w];P&&M&&_.push(P)}return _}function c(){return Object.keys(r).map(S=>r[S])}function f(S){i.currentTime&&(i.currentTime.innerHTML=BT(S),i.progress&&(i.progress.style.width=`${S/e.duration*100}%`))}let p=()=>{let S=y.getState(),C=S.currentPrime;if(!C)return;let _=r,k=S.visibleElements,w=Object.keys(_);for(let P of w){let M=_[P],R=k[P];if(M&&P!==C.id&&R){let D=a-R.time*1e3;Math.abs(a-R.time*1e3-M.currentTime*1e3)>300&&(M.currentTime=D/1e3)}}},g=(S=0)=>{let C=S-o,_=y.getState();if(_.isPlaying){let k=_.currentPrime;if(k){let R=r[k.id];R&&(R.paused?a+=C:a=(k.time+R.currentTime)*1e3)}else a+=C;let w=a/1e3;if(w>_.duration){y.getState().setTime(0),y.setState({isPlaying:!1}),v(),f(0);return}f(w);let[P,M]=Lae({currentTime:w,currentKeyFrameIndex:_.nextKeyframeIndex,keyframes:_.complexTimeline.keyframes,targetTime:w});M.length&&_.applyKeyframes(P,M)}o=S,s=requestAnimationFrame(g)},v=()=>{s&&cancelAnimationFrame(s)},y=wh((S,C)=>({complexTimeline:e,elements:{},visibleElements:{},isBuffering:!1,bufferMap:{},isMuted:!1,playRequested:!1,isPlaying:!1,isFinished:!1,isReady:!1,volume:100,duration:e.duration,clockStartRequests:0,clockStartTime:0,primeTime:0,currentPrime:null,clockRunning:!1,nextKeyframeIndex:0,startClock:()=>{C().clockRunning||(g(),l=setInterval(p,500)),S({clockRunning:!0,clockStartRequests:C().clockStartRequests+1})},applyKeyframes(_,k){let w=C(),P={...w.visibleElements},M=w.currentPrime;for(let R of k)R.type==="enter"&&(P[R.id]=R,n.emit("complex-timeline.enter",{id:R.id})),R.type==="exit"&&(P[R.id]=null,n.emit("complex-timeline.exit",{id:R.id})),R.isPrime&&(M=R);S({nextKeyframeIndex:_,visibleElements:P,currentPrime:M})},stopClock:()=>{let _=C().clockStartRequests;if(_!==0){if(_===1){v(),l&&clearInterval(l),S({clockRunning:!1,clockStartRequests:0});return}S({clockStartRequests:_-1})}},setElement:(_,k)=>{r[_]=k;let w=Object.keys(r),P=C().complexTimeline;P.items.filter(M=>M.type!=="Image"&&M.type!=="Text").every(M=>w.includes(M.annotationId))&&!C().isReady&&(n.emit("complex-timeline.ready",{complexTimeline:P}),S({isReady:!0}))},removeElement:_=>{delete r[_]},mute(){for(let _ of c())_.muted=!0;S({isMuted:!0})},unmute(){for(let _ of c())_.muted=!1;S({isMuted:!1})},play(){if(!C().isPlaying){for(let _ of u())_.play();S({isPlaying:!0})}},pause(){if(C().isPlaying){for(let _ of u())_.pause();S({isPlaying:!1})}},playPause(){let _=C();_.isPlaying?_.pause():_.play()},setDurationPercent(_){let k=C().duration*_;C().setTime(k)},setTime(_){let k=C(),w=a/1e3,P=typeof _=="function"?_(w):_,M=k.nextKeyframeIndex;if(w>P){S({visibleElements:{},currentPrime:null});let G=Object.keys(k.visibleElements);for(let ee of G)n.emit("complex-timeline.exit",{id:ee});w=0,M=0}let[R,D]=Lae({currentTime:w,currentKeyFrameIndex:M,keyframes:k.complexTimeline.keyframes,targetTime:P});k.applyKeyframes(R,D),a=P*1e3;let H=y.getState().visibleElements,O=r,z=Object.keys(H);for(let G of z){let ee=H[G];if(ee){let X=O[G];X&&(X.currentTime=(a-ee.time*1e3)/1e3)}}f(P)},setVolume(_){for(let k of c())k.volume=Math.min(1,Math.max(0,_/100));S({volume:_})},toggleMute(){let _=C();_.isMuted?(_.unmute(),S({isMuted:!1})):(_.mute(),S({isMuted:!0}))},clearProgressElement(){i.progress=null},setProgressElement(_){i.progress=_},setCurrentTimeElement(_){i.currentTime=_},clearCurrentTimeElement(){i.currentTime=null}}));return n.on("complex-timeline.enter",S=>{let C=y.getState(),_=S.id,k=r[_];k&&C.isPlaying&&k.play()}),n.on("complex-timeline.exit",S=>{y.getState();let C=S.id,_=r[C];_&&(_.currentTime=0,_.pause())}),y.getState().setTime(t),{store:y,emitter:n}}var Lst=ne.createContext("en"),Ast=ne.createContext({}),Ist=ne.createContext(null);function Rst(){return ne.useContext(Ist)}function X3e(){return ne.useContext(Lst)}function Dst(){return ne.useContext(Ast)}function Aae(e){return e.indexOf("-")!==-1?e.slice(0,e.indexOf("-")):e}function Ost({as:e,language:t,children:n,viewingDirection:r,...i}){let o=X3e();return h.useMemo(()=>Aae(o)===Aae(t),[o,t])?e?d.jsx(e,{...i,children:n}):d.jsx("span",{...i,children:n}):e?d.jsx(e,{...i,lang:t,dir:r,children:n}):d.jsx("span",{...i,lang:t,dir:r,children:n})}function jst(e,t,n){if(t.length===0)return;if(t.length===1)return t[0];if(t.indexOf(e)!==-1)return e;let r=e.indexOf("-")!==-1?e.slice(0,e.indexOf("-")):null;if(r&&t.indexOf(r)!==-1)return r;for(let i of n)if(t.indexOf(i)!==-1)return i;return t.indexOf("none")!==-1?"none":t.indexOf("@none")!==-1?"@none":t[0]}var Q3e=(e,t=[])=>{let n=X3e();return h.useMemo(()=>{let r=e();return jst(n,r,[])},[n,...t])};function xF(e,t,n,r){return t?n?n(e[t]||t,r||"none"):e[t]||t:""}function Nst(e,t,n=`
`,r={}){let i=Rst(),o=Q3e(()=>Object.keys(e||{}),[e]);return[h.useMemo(()=>{if(!e)return xF(r,t,i)||"";if(typeof e=="string")return xF(r,e,i);let s=o?e[o]:void 0;return s?typeof s=="string"?s:s.map(a=>xF(r,a,i,o)).join(n):""},[o,t,e]),o]}function Fn({as:e,defaultText:t,enableDangerouslySetInnerHTML:n,children:r,separator:i,...o}){let s=Dst(),[a,l]=Nst(r,t,i,s);return l?d.jsx(Ost,{...o,as:e,language:l,title:n?void 0:a,dangerouslySetInnerHTML:n?{__html:a}:void 0,children:n?void 0:a}):e?d.jsx(e,{...o,children:a}):d.jsx("span",{...o,title:n?void 0:a,dangerouslySetInnerHTML:n?{__html:a}:void 0,children:n?void 0:a})}function Fst({resource:e,heading:t,note:n,extra:r}){var i,o;return r?d.jsx(Jp,{target:{x:0,y:0,width:(i=r.target)==null?void 0:i.spatial.width,height:(o=r.target)==null?void 0:o.spatial.height},backgroundColor:"#333",relative:!0,children:d.jsx("div",{style:{display:"flex",alignContent:"center",justifyContent:"center",alignItems:"center",height:"100%",width:"100%",background:"#444",color:"#BBB"},children:d.jsxs("div",{children:[d.jsx(Fn,{children:t||"Not authorised"}),n&&d.jsx("p",{children:d.jsx(Fn,{children:n})}),d.jsx("p",{children:e.id||e["@id"]||"unknown"})]})})}):null}function Bst({image:e,thumbnail:t,crop:n,enableSizes:r,enableThumbnail:i,renderOptions:o}){var g,v;let s=Got(),a=bo(e.service),l=_st(a),u=W3e(),c=l==null?void 0:l.service;u(e.service,e);let f=c&&(l==null?void 0:l.status)==="done",p=t&&t.type==="fixed"&&t.id&&!t.id.includes("/full/full/")&&!t.id.includes("/max/")?t:void 0;if(f===!1)return null;if(!s){let y=e.service,S=y.width||e.width||0,C=y.height||e.height||0;return d.jsx(Cae,{enableThumbnail:i,renderOptions:o,tiles:{id:y.id||y["@id"]||"unknown",height:C,width:S,imageService:y,thumbnail:p},enableSizes:r,x:0,y:0,width:(g=e.target)==null?void 0:g.spatial.width,height:(v=e.target)==null?void 0:v.spatial.height,crop:n})}return d.jsx(Jot,{resource:e.service,errorComponent:Fst,extra:e,children:y=>{var _,k;let S=y.width||e.width||0,C=y.height||e.height||0;return d.jsx(Cae,{enableThumbnail:i,renderOptions:o,tiles:{id:y.id||y["@id"]||"unknown",height:C,width:S,imageService:y,thumbnail:p},enableSizes:r,x:0,y:0,width:(_=e.target)==null?void 0:_.spatial.width,height:(k=e.target)==null?void 0:k.spatial.height,crop:n})}},e.id)}function t7({id:e,image:t,thumbnail:n,isStatic:r,x:i=0,y:o=0,children:s,selector:a,onClick:l,enableSizes:u}){let c=h.useMemo(()=>{if(!(!a||a.spatial.x===0&&a.spatial.y===0))return a.spatial},[a]);return d.jsx("world-object",{x:i+t.target.spatial.x,y:o+t.target.spatial.y,width:t.target.spatial.width,height:t.target.spatial.height,onClick:l,children:t.service?d.jsxs(h.Fragment,{children:[d.jsx(Bst,{image:t,thumbnail:n,crop:c,enableSizes:u}),s]},"service"):d.jsxs(h.Fragment,{children:[d.jsx("world-image",{onClick:l,uri:t.id,target:{x:0,y:0,width:t.target.spatial.width,height:t.target.spatial.height},display:t.width&&t.height?{width:t.width,height:t.height}:void 0,crop:c}),s]},"no-service")},e+(t.service?"server":"no-service"))}var J3e=h.createContext(null);J3e.displayName="ComplexTimeline";function zst({children:e,store:t}){return d.jsx(J3e.Provider,{value:t,children:e})}function eEe({strategy:e,onClickPaintingAnnotation:t}){return d.jsx(d.Fragment,{children:e.items.map((n,r)=>{var i;return d.jsx(d.Fragment,{children:d.jsx(Jp,{onClick:t?o=>{o.stopPropagation(),t(n.annotationId,n,o)}:void 0,target:((i=n.target)==null?void 0:i.spatial)||void 0,children:d.jsx("div",{"data-textual-content":!0,children:d.jsx(Fn,{enableDangerouslySetInnerHTML:!0,children:n.text})})},r)})})})}function Hst({strategy:e,children:t}){let{store:n}=h.useMemo(()=>Mst({complexTimeline:e}),[e]),r=yt(n,s=>s.isReady),i=yt(n,s=>s.visibleElements);function o(s){return a=>{a&&n.getState().setElement(s,a)}}return h.useLayoutEffect(()=>{if(r){let{startClock:s,stopClock:a}=n.getState();return s(),()=>{a()}}},[e,r]),Rp("portal","custom-controls",zst,{store:n,children:t},[r]),d.jsxs(d.Fragment,{children:[e.items.map(s=>s.type!=="Image"||!i[s.annotationId]?null:d.jsx(t7,{image:s,id:s.annotationId},s.id)),e.items.map((s,a)=>s.type!=="Text"||!i[s.annotationId]?null:d.jsx(eEe,{strategy:{type:"textual-content",items:[s]}},a)),e.items.map((s,a)=>s.type!=="Video"||!s.target.spatial?null:d.jsx(Jp,{target:s.target.spatial,children:d.jsx("video",{ref:o(s.annotationId),src:s.url,style:{height:"100%",width:"100%",opacity:i[s.annotationId]?1:0}})},a))]})}function tEe(){let{strategy:e}=mf(),{renderComplexTimelineControls:t}=xx();return e.type!=="complex-timeline"?null:d.jsx(Hst,{strategy:e,children:t?t(e):null})}function nEe({onClickPaintingAnnotation:e,children:t}){let{strategy:n}=mf(),{renderViewerControls:r,viewControlsDeps:i}=xx(),o=NT(),s=kr();return Rp(o&&n.type==="textual-content"&&r?"overlay":"none",`canvas-portal-controls-${s==null?void 0:s.id}`,nx.Provider,r?{value:o||null,children:r(n)}:{},[s,o,n,...i||[]]),n.type!=="textual-content"?null:d.jsxs(d.Fragment,{children:[d.jsx(eEe,{strategy:n,onClickPaintingAnnotation:e}),t]})}var rEe=(e,t=[])=>{let n=$n();h.useEffect(()=>{e(n)},[n,...t])},iEe=ne.createContext(new QX);function oEe(){return h.useContext(iEe)}function av(e,t,{canvasId:n,manifestId:r}={}){let i=$n(),o=oEe(),s=h.useMemo(()=>n1(i,{imageServiceLoader:o}),[i,o]),[a,l]=h.useState(),u=Li(r?{id:r}:void 0),c=kr(n?{id:n}:void 0),f=c||u,p=h.useRef(!1);if(h.useEffect(()=>(p.current=!1,()=>{p.current=!0}),[]),!f)throw new Error("Must be called under a manifest or canvas context.");return rEe(g=>{s.getBestThumbnailAtSize(f,e,t).then(v=>{v.best&&!p.current&&l(v.best)})},[f]),a}function sEe({isStatic:e=!1,enableSizes:t=!1,onClickPaintingAnnotation:n,children:r}){let{strategy:i}=mf(),{renderViewerControls:o,viewControlsDeps:s}=xx(),a=kr(),l=NT(),u=av({maxWidth:256,maxHeight:256});return Rp(l&&i.type==="images"&&o?"overlay":"none",`canvas-portal-controls-${a==null?void 0:a.id}`,nx.Provider,o?{value:l||null,children:o(i)}:{},[a,l,i,...s||[]]),i.type!=="images"?null:d.jsxs(d.Fragment,{children:[i.images.map((c,f)=>d.jsx(t7,{isStatic:e,image:c,id:c.id,thumbnail:f===0?u:void 0,selector:c.selector,enableSizes:t,onClick:n?p=>{n(c.annotationId,c,p)}:void 0},c.id+f)),r]})}function aEe({model:e}){return d.jsxs(d.Fragment,{children:[d.jsx("style",{children:`
            .model-container {
              position: absolute;
              top: 0;
              bottom: 0;
              left: 0;
              right: 0;
              background: #000;
              z-index: 13;
              display: flex;
              justify-content: center;
              pointer-events: visible;
            }
          `}),d.jsx("div",{className:"model-container",children:d.jsx("model-viewer",{"interaction-prompt":"none",style:{width:"100%",height:"100%"},"camera-controls":"","ar-status":"not-presenting",src:e.id})})]})}function lEe({model:e,name:t}){return Rp("overlay",`model-${t}`,aEe,{model:e},[e]),null}function uEe(){let{strategy:e}=mf();return e.type!=="3d-model"?null:d.jsx(lEe,{model:e.model})}function cEe({children:e}){let{strategy:t}=mf(),[n]=mst();return t.type!=="images"?null:d.jsxs(d.Fragment,{children:[n?d.jsx(jU,{page:n}):null,t.annotations&&t.annotations.pages?t.annotations.pages.map(r=>d.jsx(jU,{page:r},r.id)):null,e]})}var dEe=h.createContext(null),fEe=h.createContext(null),hEe=h.createContext(null);function dQ(){let e=h.useContext(dEe);if(!e)throw new Error("Ctx not found");return e}function fQ(){let e=h.useContext(fEe);if(!e)throw new Error("Ctx not found");return e}function hQ(){let e=h.useContext(hEe);if(!e)throw new Error("Ctx not found");return e}function pQ({actions:e,state:t,children:n,currentTime:r,progress:i,element:o}){return d.jsx(hEe.Provider,{value:{currentTime:r,progress:i,element:o},children:d.jsx(fEe.Provider,{value:e,children:d.jsx(dEe.Provider,{value:t,children:n})})})}function pEe(){let e=Li(),t=kr();return h.useMemo(()=>{if(!e||!t||!e.start)return null;let n=Ju(e.start);return!n||n.source.id!==t.id||!n||!n.selector||n.selector.type!=="TemporalSelector"?null:n.selector.temporal},[e,t])}function mEe({media:e,startTime:t,children:n}){let[{element:r,currentTime:i,progress:o},s,a]=e7({duration:e.duration}),l=t?`${e.url}#t=${t}`:e.url;return d.jsxs(pQ,{state:s,actions:a,currentTime:i,progress:o,element:r,children:[d.jsx("audio",{ref:r,src:l}),n]},e.url)}function gEe({media:e,mediaControlsDeps:t,audioCopmonent:n=mEe,children:r}){let i=pEe();return Rp("portal","audio",n,{media:e,startTime:i?i.startTime:null,children:r},[e,i,...t||[]]),null}function mQ({x:e=0,y:t=0}){let n=kr(),r=av({maxWidth:256,maxHeight:256});return!n||!r||r.type!=="fixed"?null:d.jsx("world-object",{height:n.height,width:n.width,x:e,y:t,children:d.jsx("world-image",{uri:r.id,target:{x:0,y:0,width:n.width,height:n.height},display:r.width&&r.height?{width:r.width,height:r.height}:void 0,crop:void 0})})}function vEe({as:e}){let{strategy:t}=mf(),{renderMediaControls:n,mediaControlsDeps:r}=xx();return t.type!=="media"||t.media.type!=="Sound"?null:d.jsx(d.Fragment,{children:d.jsxs(gEe,{media:t.media,mediaControlsDeps:r,audioCopmonent:e,children:[d.jsx(mQ,{}),n?n(t):null]},t.media.url)})}function yEe(){let{strategy:e}=mf(),{renderViewerControls:t,viewControlsDeps:n}=xx(),r=kr(),i=r==null?void 0:r.accompanyingCanvas,o=r==null?void 0:r.placeholderCanvas;return d.jsxs(d.Fragment,{children:[e.type==="media"&&e.media.type==="Sound"&&i?d.jsx(Do,{canvas:i.id,children:d.jsx(GR,{renderViewerControls:t,viewControlsDeps:n})}):null,e.type==="media"&&e.media.type==="Sound"&&o&&!i?d.jsx(Do,{canvas:o.id,children:d.jsx(GR,{renderViewerControls:t,viewControlsDeps:n})}):null]})}function bEe({element:e,media:t,startTime:n,playPause:r,poster:i}){let o="div",s=n?`${t.url}#t=${n}`:t.url;return d.jsxs(o,{className:"video-container",part:"video-container",onClick:r,children:[d.jsx("style",{children:`
            .video-container {
              position: absolute;
              top: 0;
              bottom: 0;
              left: 0;
              right: 0;
              background: #000;
              z-index: 13;
              display: flex;
              justify-content: center;
              pointer-events: visible;
            }
          `}),d.jsx("video",{poster:i,ref:e,src:s,style:{width:"100%",objectFit:"contain"}})]})}function wEe({media:e,mediaControlsDeps:t,children:n,videoComponent:r=bEe,captions:i}){let o=kr(),s=pEe(),a=o&&o.placeholderCanvas&&o.placeholderCanvas.id||void 0,l=av({},!1,{canvasId:a}),[{element:u,currentTime:c,progress:f},p,g]=e7({duration:e.duration});return Rp("overlay","video-element",r,{element:u,media:e,playPause:g.playPause,poster:l==null?void 0:l.id,canvas:o,startTime:s?s.startTime:null,captions:i},[l]),Rp("portal","custom-controls",pQ,{state:p,actions:g,currentTime:c,progress:f,element:u,children:n},[c,p,e,...t||[]]),null}function xEe({as:e}){let{strategy:t}=mf(),{renderMediaControls:n,mediaControlsDeps:r}=xx();return t.type!=="media"||t.media.type!=="Video"?null:d.jsxs(wEe,{captions:t.captions,media:t.media,mediaControlsDeps:r,videoComponent:e,children:[d.jsx(mQ,{}),n?n(t):null]},t.media.url)}function Vst({element:e,media:t,playPause:n}){let r=h.useRef(null);return t.youTubeId?d.jsxs("div",{className:"video-container",part:"video-container",onClick:n,children:[d.jsx("style",{children:`
            .video-container {
              position: absolute;
              top: 0;
              bottom: 0;
              left: 0;
              right: 0;
              background: #000;
              z-index: 13;
              display: flex;
              justify-content: center;
              pointer-events: visible;
            }
            .video-yt {
              border: none;
              width: 100%;
              object-fit: contain;
            }
          `}),d.jsx("iframe",{className:"video-yt",ref:r,src:`https://www.youtube.com/embed/${t.youTubeId}?enablejsapi=1&origin=${window.location.host}`,referrerPolicy:"no-referrer",sandbox:"allow-scripts allow-same-origin allow-presentation"})]}):null}function Ust({media:e,mediaControlsDeps:t,children:n}){let[{element:r,currentTime:i,progress:o},s,a]=e7({duration:e.duration});return Rp("overlay","video-element",Vst,{element:r,media:e,playPause:a.playPause}),null}function SEe(){let{strategy:e}=mf(),{renderMediaControls:t,mediaControlsDeps:n}=xx();return e.type!=="media"||e.media.type!=="VideoYouTube"?null:d.jsxs(Ust,{media:e.media,mediaControlsDeps:n,children:[d.jsx(mQ,{}),t?t(e):null]})}function GR({x:e,y:t,onChoiceChange:n,registerActions:r,defaultChoices:i,isStatic:o,renderViewerControls:s,renderMediaControls:a,renderComplexTimelineControls:l,complexTimelineControlsDeps:u,viewControlsDeps:c,mediaControlsDeps:f,strategies:p,throwOnUnknown:g,backgroundStyle:v,alwaysShowBackground:y,keepCanvasScale:S=!1,enableSizes:C=!1,enableYouTube:_=!0,onClickPaintingAnnotation:k,components:w={},children:P}){return d.jsxs(q3e,{throwOnUnknown:g,onChoiceChange:n,registerActions:r,strategies:p,defaultChoices:i,mediaControlsDeps:f,renderMediaControls:a,renderViewerControls:s,renderComplexTimelineControls:l,complexTimelineControlsDeps:u,viewControlsDeps:c,children:[d.jsxs(G3e,{keepCanvasScale:S,x:e,y:t,children:[d.jsx(Y3e,{alwaysShowBackground:y,backgroundStyle:v}),d.jsx(tEe,{}),d.jsx(nEe,{}),d.jsx(sEe,{isStatic:o,enableSizes:C,onClickPaintingAnnotation:k}),d.jsx(cEe,{}),d.jsx(uEe,{}),d.jsx(vEe,{as:w.Audio}),d.jsx(xEe,{as:w.Video}),_?d.jsx(SEe,{}):null,P]}),d.jsx(yEe,{})]})}function Wst(e){let t=kr();return!t||!t.placeholderCanvas?null:d.jsx(Do,{canvas:t.placeholderCanvas.id,children:d.jsx(GR,{renderViewerControls:e.renderViewerControls})})}var Kst=h.forwardRef(function(e,t){let n=Li(),r=k3e(),i=aQ(),{ViewerControls:o,MediaControls:s,ComplexTimelineControls:a}=e.components||{};if(h.useImperativeHandle(t,()=>i,[i]),!n)return d.jsx("div",{});let l=0,u=n.viewingDirection==="top-to-bottom",c=n.viewingDirection==="bottom-to-top";n.viewingDirection;let f=n.viewingDirection==="right-to-left",p=n.behavior.includes("continuous")?0:e.spacing||0,g=c||f,v=h.useMemo(()=>g?[...r].reverse():r,[r,g]);return d.jsxs(d.Fragment,{children:[e.header,d.jsx(Ko.Viewer,{height:e.height,mode:e.mode,renderPreset:e.renderPreset,runtimeOptions:e.runtimeOptions,children:v.map((y,S)=>{let C=0,_=0;return u?(C=l,l+=y.width+p):(_=l,l+=y.height+p),d.jsx(Do,{canvas:y.id,children:d.jsx(Ko.RenderCanvas,{strategies:["3d-model","media","images","empty","textual-content","complex-timeline"],renderViewerControls:S===0&&o?()=>d.jsx(o,{}):void 0,renderMediaControls:S===0&&s?()=>d.jsx(s,{}):void 0,renderComplexTimelineControls:S===0&&a?()=>d.jsx(a,{}):void 0,x:C,y:_,...e.canvasProps||{},children:e.annotations},y.id)},y.id)})},e.reuseAtlas?"":i.currentSequenceIndex),e.children]})}),Ko=h.forwardRef(function({children:e,height:t,annotations:n,canvasProps:r,spacing:i,header:o,components:s,mode:a,reuseAtlas:l,renderPreset:u,runtimeOptions:c,...f},p){let g=em();return d.jsx(Ip,{vault:g,children:d.jsx(I3e,{...f,children:d.jsx(Kst,{ref:p,height:t,components:s,spacing:i,canvasProps:r,annotations:n,header:o,mode:a,reuseAtlas:l,renderPreset:u,runtimeOptions:c,children:e})})})});Ko.RenderImage=t7;Ko.RenderCanvas=GR;Ko.RenderAnnotationPage=jU;Ko.RenderAnnotation=H3e;Ko.Viewer=B3e;Ko.CanvasBackground=Z3e;Ko.Audio=gEe;Ko.Video=wEe;Ko.Model=lEe;Ko.AudioHTML=mEe;Ko.VideoHTML=bEe;Ko.ModelHTML=aEe;Ko.PlaceholderCanvas=Wst;var _Ee={exports:{}};(()=>{var e={296:(i,o,s)=>{var a=/^\s+|\s+$/g,l=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,c=/^0o[0-7]+$/i,f=parseInt,p=typeof s.g=="object"&&s.g&&s.g.Object===Object&&s.g,g=typeof self=="object"&&self&&self.Object===Object&&self,v=p||g||Function("return this")(),y=Object.prototype.toString,S=Math.max,C=Math.min,_=function(){return v.Date.now()};function k(P){var M=typeof P;return!!P&&(M=="object"||M=="function")}function w(P){if(typeof P=="number")return P;if(function(D){return typeof D=="symbol"||function(H){return!!H&&typeof H=="object"}(D)&&y.call(D)=="[object Symbol]"}(P))return NaN;if(k(P)){var M=typeof P.valueOf=="function"?P.valueOf():P;P=k(M)?M+"":M}if(typeof P!="string")return P===0?P:+P;P=P.replace(a,"");var R=u.test(P);return R||c.test(P)?f(P.slice(2),R?2:8):l.test(P)?NaN:+P}i.exports=function(P,M,R){var D,H,O,z,G,ee,X=0,se=!1,B=!1,q=!0;if(typeof P!="function")throw new TypeError("Expected a function");function U(me){var re=D,ue=H;return D=H=void 0,X=me,z=P.apply(ue,re)}function K(me){var re=me-ee;return ee===void 0||re>=M||re<0||B&&me-X>=O}function J(){var me=_();if(K(me))return oe(me);G=setTimeout(J,function(re){var ue=M-(re-ee);return B?C(ue,O-(re-X)):ue}(me))}function oe(me){return G=void 0,q&&D?U(me):(D=H=void 0,z)}function he(){var me=_(),re=K(me);if(D=arguments,H=this,ee=me,re){if(G===void 0)return function(ue){return X=ue,G=setTimeout(J,M),se?U(ue):z}(ee);if(B)return G=setTimeout(J,M),U(ee)}return G===void 0&&(G=setTimeout(J,M)),z}return M=w(M)||0,k(R)&&(se=!!R.leading,O=(B="maxWait"in R)?S(w(R.maxWait)||0,M):O,q="trailing"in R?!!R.trailing:q),he.cancel=function(){G!==void 0&&clearTimeout(G),X=0,D=ee=H=G=void 0},he.flush=function(){return G===void 0?z:oe(_())},he}},96:(i,o,s)=>{var a="Expected a function",l=NaN,u="[object Symbol]",c=/^\s+|\s+$/g,f=/^[-+]0x[0-9a-f]+$/i,p=/^0b[01]+$/i,g=/^0o[0-7]+$/i,v=parseInt,y=typeof s.g=="object"&&s.g&&s.g.Object===Object&&s.g,S=typeof self=="object"&&self&&self.Object===Object&&self,C=y||S||Function("return this")(),_=Object.prototype.toString,k=Math.max,w=Math.min,P=function(){return C.Date.now()};function M(D){var H=typeof D;return!!D&&(H=="object"||H=="function")}function R(D){if(typeof D=="number")return D;if(function(z){return typeof z=="symbol"||function(G){return!!G&&typeof G=="object"}(z)&&_.call(z)==u}(D))return l;if(M(D)){var H=typeof D.valueOf=="function"?D.valueOf():D;D=M(H)?H+"":H}if(typeof D!="string")return D===0?D:+D;D=D.replace(c,"");var O=p.test(D);return O||g.test(D)?v(D.slice(2),O?2:8):f.test(D)?l:+D}i.exports=function(D,H,O){var z=!0,G=!0;if(typeof D!="function")throw new TypeError(a);return M(O)&&(z="leading"in O?!!O.leading:z,G="trailing"in O?!!O.trailing:G),function(ee,X,se){var B,q,U,K,J,oe,he=0,me=!1,re=!1,ue=!0;if(typeof ee!="function")throw new TypeError(a);function ce(ye){var _e=B,$e=q;return B=q=void 0,he=ye,K=ee.apply($e,_e)}function we(ye){var _e=ye-oe;return oe===void 0||_e>=X||_e<0||re&&ye-he>=U}function Me(){var ye=P();if(we(ye))return Be(ye);J=setTimeout(Me,function(_e){var $e=X-(_e-oe);return re?w($e,U-(_e-he)):$e}(ye))}function Be(ye){return J=void 0,ue&&B?ce(ye):(B=q=void 0,K)}function ge(){var ye=P(),_e=we(ye);if(B=arguments,q=this,oe=ye,_e){if(J===void 0)return function($e){return he=$e,J=setTimeout(Me,X),me?ce($e):K}(oe);if(re)return J=setTimeout(Me,X),ce(oe)}return J===void 0&&(J=setTimeout(Me,X)),K}return X=R(X)||0,M(se)&&(me=!!se.leading,U=(re="maxWait"in se)?k(R(se.maxWait)||0,X):U,ue="trailing"in se?!!se.trailing:ue),ge.cancel=function(){J!==void 0&&clearTimeout(J),he=0,B=oe=q=J=void 0},ge.flush=function(){return J===void 0?K:Be(P())},ge}(D,H,{leading:z,maxWait:H,trailing:G})}},703:(i,o,s)=>{var a=s(414);function l(){}function u(){}u.resetWarningCache=l,i.exports=function(){function c(g,v,y,S,C,_){if(_!==a){var k=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw k.name="Invariant Violation",k}}function f(){return c}c.isRequired=c;var p={array:c,bigint:c,bool:c,func:c,number:c,object:c,string:c,symbol:c,any:c,arrayOf:f,element:c,elementType:c,instanceOf:f,node:c,objectOf:f,oneOf:f,oneOfType:f,shape:f,exact:f,checkPropTypes:u,resetWarningCache:l};return p.PropTypes=p,p}},697:(i,o,s)=>{i.exports=s(703)()},414:i=>{i.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}},t={};function n(i){var o=t[i];if(o!==void 0)return o.exports;var s=t[i]={exports:{}};return e[i](s,s.exports,n),s.exports}n.n=i=>{var o=i&&i.__esModule?()=>i.default:()=>i;return n.d(o,{a:o}),o},n.d=(i,o)=>{for(var s in o)n.o(o,s)&&!n.o(i,s)&&Object.defineProperty(i,s,{enumerable:!0,get:o[s]})},n.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),n.o=(i,o)=>Object.prototype.hasOwnProperty.call(i,o),n.r=i=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})};var r={};(()=>{n.r(r),n.d(r,{LazyLoadComponent:()=>_e,LazyLoadImage:()=>Xt,trackWindowScroll:()=>K});const i=h;var o=n.n(i),s=n(697);function a(){return typeof window<"u"&&"IntersectionObserver"in window&&"isIntersecting"in window.IntersectionObserverEntry.prototype}function l(Qe){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ce){return typeof Ce}:function(Ce){return Ce&&typeof Symbol=="function"&&Ce.constructor===Symbol&&Ce!==Symbol.prototype?"symbol":typeof Ce},l(Qe)}function u(Qe,Ce){var ze=Object.keys(Qe);if(Object.getOwnPropertySymbols){var Ne=Object.getOwnPropertySymbols(Qe);Ce&&(Ne=Ne.filter(function(ct){return Object.getOwnPropertyDescriptor(Qe,ct).enumerable})),ze.push.apply(ze,Ne)}return ze}function c(Qe,Ce,ze){return(Ce=p(Ce))in Qe?Object.defineProperty(Qe,Ce,{value:ze,enumerable:!0,configurable:!0,writable:!0}):Qe[Ce]=ze,Qe}function f(Qe,Ce){for(var ze=0;ze<Ce.length;ze++){var Ne=Ce[ze];Ne.enumerable=Ne.enumerable||!1,Ne.configurable=!0,"value"in Ne&&(Ne.writable=!0),Object.defineProperty(Qe,p(Ne.key),Ne)}}function p(Qe){var Ce=function(ze,Ne){if(l(ze)!=="object"||ze===null)return ze;var ct=ze[Symbol.toPrimitive];if(ct!==void 0){var Ct=ct.call(ze,"string");if(l(Ct)!=="object")return Ct;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ze)}(Qe);return l(Ce)==="symbol"?Ce:String(Ce)}function g(Qe,Ce){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ze,Ne){return ze.__proto__=Ne,ze},g(Qe,Ce)}function v(Qe){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Ce){return Ce.__proto__||Object.getPrototypeOf(Ce)},v(Qe)}var y=function(Qe){Qe.forEach(function(Ce){Ce.isIntersecting&&Ce.target.onVisible()})},S={},C=function(Qe){(function(Ie,Ae){if(typeof Ae!="function"&&Ae!==null)throw new TypeError("Super expression must either be null or a function");Ie.prototype=Object.create(Ae&&Ae.prototype,{constructor:{value:Ie,writable:!0,configurable:!0}}),Object.defineProperty(Ie,"prototype",{writable:!1}),Ae&&g(Ie,Ae)})(Et,Qe);var Ce,ze,Ne,ct,Ct=(Ne=Et,ct=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var Ie,Ae=v(Ne);if(ct){var dt=v(this).constructor;Ie=Reflect.construct(Ae,arguments,dt)}else Ie=Ae.apply(this,arguments);return function(it,ut){if(ut&&(l(ut)==="object"||typeof ut=="function"))return ut;if(ut!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(vt){if(vt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return vt}(it)}(this,Ie)});function Et(Ie){var Ae;if(function(it,ut){if(!(it instanceof ut))throw new TypeError("Cannot call a class as a function")}(this,Et),(Ae=Ct.call(this,Ie)).supportsObserver=!Ie.scrollPosition&&Ie.useIntersectionObserver&&a(),Ae.supportsObserver){var dt=Ie.threshold;Ae.observer=function(it){return S[it]=S[it]||new IntersectionObserver(y,{rootMargin:it+"px"}),S[it]}(dt)}return Ae}return Ce=Et,ze=[{key:"componentDidMount",value:function(){this.placeholder&&this.observer&&(this.placeholder.onVisible=this.props.onVisible,this.observer.observe(this.placeholder)),this.supportsObserver||this.updateVisibility()}},{key:"componentWillUnmount",value:function(){this.observer&&this.placeholder&&this.observer.unobserve(this.placeholder)}},{key:"componentDidUpdate",value:function(){this.supportsObserver||this.updateVisibility()}},{key:"getPlaceholderBoundingBox",value:function(){var Ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props.scrollPosition,Ae=this.placeholder.getBoundingClientRect(),dt=this.placeholder.style,it=parseInt(dt.getPropertyValue("margin-left"),10)||0,ut=parseInt(dt.getPropertyValue("margin-top"),10)||0;return{bottom:Ie.y+Ae.bottom+ut,left:Ie.x+Ae.left+it,right:Ie.x+Ae.right+it,top:Ie.y+Ae.top+ut}}},{key:"isPlaceholderInViewport",value:function(){if(typeof window>"u"||!this.placeholder)return!1;var Ie=this.props,Ae=Ie.scrollPosition,dt=Ie.threshold,it=this.getPlaceholderBoundingBox(Ae),ut=Ae.y+window.innerHeight,vt=Ae.x,Mn=Ae.x+window.innerWidth,Kn=Ae.y;return Kn-dt<=it.bottom&&ut+dt>=it.top&&vt-dt<=it.right&&Mn+dt>=it.left}},{key:"updateVisibility",value:function(){this.isPlaceholderInViewport()&&this.props.onVisible()}},{key:"render",value:function(){var Ie=this,Ae=this.props,dt=Ae.className,it=Ae.height,ut=Ae.placeholder,vt=Ae.style,Mn=Ae.width;if(ut&&typeof ut.type!="function")return o().cloneElement(ut,{ref:function(Qt){return Ie.placeholder=Qt}});var Kn=function(Qt){for(var on=1;on<arguments.length;on++){var $t=arguments[on]!=null?arguments[on]:{};on%2?u(Object($t),!0).forEach(function(Wt){c(Qt,Wt,$t[Wt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Qt,Object.getOwnPropertyDescriptors($t)):u(Object($t)).forEach(function(Wt){Object.defineProperty(Qt,Wt,Object.getOwnPropertyDescriptor($t,Wt))})}return Qt}({display:"inline-block"},vt);return Mn!==void 0&&(Kn.width=Mn),it!==void 0&&(Kn.height=it),o().createElement("span",{className:dt,ref:function(Qt){return Ie.placeholder=Qt},style:Kn},ut)}}],ze&&f(Ce.prototype,ze),Object.defineProperty(Ce,"prototype",{writable:!1}),Et}(o().Component);C.propTypes={onVisible:s.PropTypes.func.isRequired,className:s.PropTypes.string,height:s.PropTypes.oneOfType([s.PropTypes.number,s.PropTypes.string]),placeholder:s.PropTypes.element,threshold:s.PropTypes.number,useIntersectionObserver:s.PropTypes.bool,scrollPosition:s.PropTypes.shape({x:s.PropTypes.number.isRequired,y:s.PropTypes.number.isRequired}),width:s.PropTypes.oneOfType([s.PropTypes.number,s.PropTypes.string])},C.defaultProps={className:"",placeholder:null,threshold:100,useIntersectionObserver:!0};const _=C;var k=n(296),w=n.n(k),P=n(96),M=n.n(P),R=function(Qe){var Ce=getComputedStyle(Qe,null);return Ce.getPropertyValue("overflow")+Ce.getPropertyValue("overflow-y")+Ce.getPropertyValue("overflow-x")};const D=function(Qe){if(!(Qe instanceof HTMLElement))return window;for(var Ce=Qe;Ce&&Ce instanceof HTMLElement;){if(/(scroll|auto)/.test(R(Ce)))return Ce;Ce=Ce.parentNode}return window};function H(Qe){return H=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ce){return typeof Ce}:function(Ce){return Ce&&typeof Symbol=="function"&&Ce.constructor===Symbol&&Ce!==Symbol.prototype?"symbol":typeof Ce},H(Qe)}var O=["delayMethod","delayTime"];function z(){return z=Object.assign?Object.assign.bind():function(Qe){for(var Ce=1;Ce<arguments.length;Ce++){var ze=arguments[Ce];for(var Ne in ze)Object.prototype.hasOwnProperty.call(ze,Ne)&&(Qe[Ne]=ze[Ne])}return Qe},z.apply(this,arguments)}function G(Qe,Ce){for(var ze=0;ze<Ce.length;ze++){var Ne=Ce[ze];Ne.enumerable=Ne.enumerable||!1,Ne.configurable=!0,"value"in Ne&&(Ne.writable=!0),Object.defineProperty(Qe,(ct=function(Ct,Et){if(H(Ct)!=="object"||Ct===null)return Ct;var Ie=Ct[Symbol.toPrimitive];if(Ie!==void 0){var Ae=Ie.call(Ct,"string");if(H(Ae)!=="object")return Ae;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Ct)}(Ne.key),H(ct)==="symbol"?ct:String(ct)),Ne)}var ct}function ee(Qe,Ce){return ee=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ze,Ne){return ze.__proto__=Ne,ze},ee(Qe,Ce)}function X(Qe,Ce){if(Ce&&(H(Ce)==="object"||typeof Ce=="function"))return Ce;if(Ce!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return se(Qe)}function se(Qe){if(Qe===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Qe}function B(Qe){return B=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Ce){return Ce.__proto__||Object.getPrototypeOf(Ce)},B(Qe)}var q=function(){return typeof window>"u"?0:window.scrollX||window.pageXOffset},U=function(){return typeof window>"u"?0:window.scrollY||window.pageYOffset};const K=function(Qe){var Ce=function(ze){(function(dt,it){if(typeof it!="function"&&it!==null)throw new TypeError("Super expression must either be null or a function");dt.prototype=Object.create(it&&it.prototype,{constructor:{value:dt,writable:!0,configurable:!0}}),Object.defineProperty(dt,"prototype",{writable:!1}),it&&ee(dt,it)})(Ae,ze);var Ne,ct,Ct,Et,Ie=(Ct=Ae,Et=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var dt,it=B(Ct);if(Et){var ut=B(this).constructor;dt=Reflect.construct(it,arguments,ut)}else dt=it.apply(this,arguments);return X(this,dt)});function Ae(dt){var it;if(function(vt,Mn){if(!(vt instanceof Mn))throw new TypeError("Cannot call a class as a function")}(this,Ae),(it=Ie.call(this,dt)).useIntersectionObserver=dt.useIntersectionObserver&&a(),it.useIntersectionObserver)return X(it);var ut=it.onChangeScroll.bind(se(it));return dt.delayMethod==="debounce"?it.delayedScroll=w()(ut,dt.delayTime):dt.delayMethod==="throttle"&&(it.delayedScroll=M()(ut,dt.delayTime)),it.state={scrollPosition:{x:q(),y:U()}},it.baseComponentRef=o().createRef(),it}return Ne=Ae,(ct=[{key:"componentDidMount",value:function(){this.addListeners()}},{key:"componentWillUnmount",value:function(){this.removeListeners()}},{key:"componentDidUpdate",value:function(){typeof window>"u"||this.useIntersectionObserver||D(this.baseComponentRef.current)!==this.scrollElement&&(this.removeListeners(),this.addListeners())}},{key:"addListeners",value:function(){typeof window>"u"||this.useIntersectionObserver||(this.scrollElement=D(this.baseComponentRef.current),this.scrollElement.addEventListener("scroll",this.delayedScroll,{passive:!0}),window.addEventListener("resize",this.delayedScroll,{passive:!0}),this.scrollElement!==window&&window.addEventListener("scroll",this.delayedScroll,{passive:!0}))}},{key:"removeListeners",value:function(){typeof window>"u"||this.useIntersectionObserver||(this.scrollElement.removeEventListener("scroll",this.delayedScroll),window.removeEventListener("resize",this.delayedScroll),this.scrollElement!==window&&window.removeEventListener("scroll",this.delayedScroll))}},{key:"onChangeScroll",value:function(){this.useIntersectionObserver||this.setState({scrollPosition:{x:q(),y:U()}})}},{key:"render",value:function(){var dt=this.props,it=(dt.delayMethod,dt.delayTime,function(vt,Mn){if(vt==null)return{};var Kn,Qt,on=function(Wt,Kt){if(Wt==null)return{};var sr,Jt,zn={},Ln=Object.keys(Wt);for(Jt=0;Jt<Ln.length;Jt++)sr=Ln[Jt],Kt.indexOf(sr)>=0||(zn[sr]=Wt[sr]);return zn}(vt,Mn);if(Object.getOwnPropertySymbols){var $t=Object.getOwnPropertySymbols(vt);for(Qt=0;Qt<$t.length;Qt++)Kn=$t[Qt],Mn.indexOf(Kn)>=0||Object.prototype.propertyIsEnumerable.call(vt,Kn)&&(on[Kn]=vt[Kn])}return on}(dt,O)),ut=this.useIntersectionObserver?null:this.state.scrollPosition;return o().createElement(Qe,z({forwardRef:this.baseComponentRef,scrollPosition:ut},it))}}])&&G(Ne.prototype,ct),Object.defineProperty(Ne,"prototype",{writable:!1}),Ae}(o().Component);return Ce.propTypes={delayMethod:s.PropTypes.oneOf(["debounce","throttle"]),delayTime:s.PropTypes.number,useIntersectionObserver:s.PropTypes.bool},Ce.defaultProps={delayMethod:"throttle",delayTime:300,useIntersectionObserver:!0},Ce};function J(Qe){return J=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ce){return typeof Ce}:function(Ce){return Ce&&typeof Symbol=="function"&&Ce.constructor===Symbol&&Ce!==Symbol.prototype?"symbol":typeof Ce},J(Qe)}function oe(Qe,Ce){for(var ze=0;ze<Ce.length;ze++){var Ne=Ce[ze];Ne.enumerable=Ne.enumerable||!1,Ne.configurable=!0,"value"in Ne&&(Ne.writable=!0),Object.defineProperty(Qe,(ct=function(Ct,Et){if(J(Ct)!=="object"||Ct===null)return Ct;var Ie=Ct[Symbol.toPrimitive];if(Ie!==void 0){var Ae=Ie.call(Ct,"string");if(J(Ae)!=="object")return Ae;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Ct)}(Ne.key),J(ct)==="symbol"?ct:String(ct)),Ne)}var ct}function he(Qe,Ce){return he=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ze,Ne){return ze.__proto__=Ne,ze},he(Qe,Ce)}function me(Qe){return me=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Ce){return Ce.__proto__||Object.getPrototypeOf(Ce)},me(Qe)}var re=function(Qe){(function(Ie,Ae){if(typeof Ae!="function"&&Ae!==null)throw new TypeError("Super expression must either be null or a function");Ie.prototype=Object.create(Ae&&Ae.prototype,{constructor:{value:Ie,writable:!0,configurable:!0}}),Object.defineProperty(Ie,"prototype",{writable:!1}),Ae&&he(Ie,Ae)})(Et,Qe);var Ce,ze,Ne,ct,Ct=(Ne=Et,ct=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var Ie,Ae=me(Ne);if(ct){var dt=me(this).constructor;Ie=Reflect.construct(Ae,arguments,dt)}else Ie=Ae.apply(this,arguments);return function(it,ut){if(ut&&(J(ut)==="object"||typeof ut=="function"))return ut;if(ut!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(vt){if(vt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return vt}(it)}(this,Ie)});function Et(Ie){return function(Ae,dt){if(!(Ae instanceof dt))throw new TypeError("Cannot call a class as a function")}(this,Et),Ct.call(this,Ie)}return Ce=Et,(ze=[{key:"render",value:function(){return o().createElement(_,this.props)}}])&&oe(Ce.prototype,ze),Object.defineProperty(Ce,"prototype",{writable:!1}),Et}(o().Component);const ue=K(re);function ce(Qe){return ce=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ce){return typeof Ce}:function(Ce){return Ce&&typeof Symbol=="function"&&Ce.constructor===Symbol&&Ce!==Symbol.prototype?"symbol":typeof Ce},ce(Qe)}function we(Qe,Ce){for(var ze=0;ze<Ce.length;ze++){var Ne=Ce[ze];Ne.enumerable=Ne.enumerable||!1,Ne.configurable=!0,"value"in Ne&&(Ne.writable=!0),Object.defineProperty(Qe,(ct=function(Ct,Et){if(ce(Ct)!=="object"||Ct===null)return Ct;var Ie=Ct[Symbol.toPrimitive];if(Ie!==void 0){var Ae=Ie.call(Ct,"string");if(ce(Ae)!=="object")return Ae;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Ct)}(Ne.key),ce(ct)==="symbol"?ct:String(ct)),Ne)}var ct}function Me(Qe,Ce){return Me=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ze,Ne){return ze.__proto__=Ne,ze},Me(Qe,Ce)}function Be(Qe){if(Qe===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Qe}function ge(Qe){return ge=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Ce){return Ce.__proto__||Object.getPrototypeOf(Ce)},ge(Qe)}var ye=function(Qe){(function(Ie,Ae){if(typeof Ae!="function"&&Ae!==null)throw new TypeError("Super expression must either be null or a function");Ie.prototype=Object.create(Ae&&Ae.prototype,{constructor:{value:Ie,writable:!0,configurable:!0}}),Object.defineProperty(Ie,"prototype",{writable:!1}),Ae&&Me(Ie,Ae)})(Et,Qe);var Ce,ze,Ne,ct,Ct=(Ne=Et,ct=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var Ie,Ae=ge(Ne);if(ct){var dt=ge(this).constructor;Ie=Reflect.construct(Ae,arguments,dt)}else Ie=Ae.apply(this,arguments);return function(it,ut){if(ut&&(ce(ut)==="object"||typeof ut=="function"))return ut;if(ut!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Be(it)}(this,Ie)});function Et(Ie){var Ae;(function(Mn,Kn){if(!(Mn instanceof Kn))throw new TypeError("Cannot call a class as a function")})(this,Et),Ae=Ct.call(this,Ie);var dt=Ie.afterLoad,it=Ie.beforeLoad,ut=Ie.scrollPosition,vt=Ie.visibleByDefault;return Ae.state={visible:vt},vt&&(it(),dt()),Ae.onVisible=Ae.onVisible.bind(Be(Ae)),Ae.isScrollTracked=!!(ut&&Number.isFinite(ut.x)&&ut.x>=0&&Number.isFinite(ut.y)&&ut.y>=0),Ae}return Ce=Et,(ze=[{key:"componentDidUpdate",value:function(Ie,Ae){Ae.visible!==this.state.visible&&this.props.afterLoad()}},{key:"onVisible",value:function(){this.props.beforeLoad(),this.setState({visible:!0})}},{key:"render",value:function(){if(this.state.visible)return this.props.children;var Ie=this.props,Ae=Ie.className,dt=Ie.delayMethod,it=Ie.delayTime,ut=Ie.height,vt=Ie.placeholder,Mn=Ie.scrollPosition,Kn=Ie.style,Qt=Ie.threshold,on=Ie.useIntersectionObserver,$t=Ie.width;return this.isScrollTracked||on&&a()?o().createElement(_,{className:Ae,height:ut,onVisible:this.onVisible,placeholder:vt,scrollPosition:Mn,style:Kn,threshold:Qt,useIntersectionObserver:on,width:$t}):o().createElement(ue,{className:Ae,delayMethod:dt,delayTime:it,height:ut,onVisible:this.onVisible,placeholder:vt,style:Kn,threshold:Qt,width:$t})}}])&&we(Ce.prototype,ze),Object.defineProperty(Ce,"prototype",{writable:!1}),Et}(o().Component);ye.propTypes={afterLoad:s.PropTypes.func,beforeLoad:s.PropTypes.func,useIntersectionObserver:s.PropTypes.bool,visibleByDefault:s.PropTypes.bool},ye.defaultProps={afterLoad:function(){return{}},beforeLoad:function(){return{}},useIntersectionObserver:!0,visibleByDefault:!1};const _e=ye;function $e(Qe){return $e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ce){return typeof Ce}:function(Ce){return Ce&&typeof Symbol=="function"&&Ce.constructor===Symbol&&Ce!==Symbol.prototype?"symbol":typeof Ce},$e(Qe)}var He=["afterLoad","beforeLoad","delayMethod","delayTime","effect","placeholder","placeholderSrc","scrollPosition","threshold","useIntersectionObserver","visibleByDefault","wrapperClassName","wrapperProps"];function Ve(Qe,Ce){var ze=Object.keys(Qe);if(Object.getOwnPropertySymbols){var Ne=Object.getOwnPropertySymbols(Qe);Ce&&(Ne=Ne.filter(function(ct){return Object.getOwnPropertyDescriptor(Qe,ct).enumerable})),ze.push.apply(ze,Ne)}return ze}function ot(Qe){for(var Ce=1;Ce<arguments.length;Ce++){var ze=arguments[Ce]!=null?arguments[Ce]:{};Ce%2?Ve(Object(ze),!0).forEach(function(Ne){kt(Qe,Ne,ze[Ne])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Qe,Object.getOwnPropertyDescriptors(ze)):Ve(Object(ze)).forEach(function(Ne){Object.defineProperty(Qe,Ne,Object.getOwnPropertyDescriptor(ze,Ne))})}return Qe}function kt(Qe,Ce,ze){return(Ce=Yt(Ce))in Qe?Object.defineProperty(Qe,Ce,{value:ze,enumerable:!0,configurable:!0,writable:!0}):Qe[Ce]=ze,Qe}function gt(){return gt=Object.assign?Object.assign.bind():function(Qe){for(var Ce=1;Ce<arguments.length;Ce++){var ze=arguments[Ce];for(var Ne in ze)Object.prototype.hasOwnProperty.call(ze,Ne)&&(Qe[Ne]=ze[Ne])}return Qe},gt.apply(this,arguments)}function rn(Qe,Ce){for(var ze=0;ze<Ce.length;ze++){var Ne=Ce[ze];Ne.enumerable=Ne.enumerable||!1,Ne.configurable=!0,"value"in Ne&&(Ne.writable=!0),Object.defineProperty(Qe,Yt(Ne.key),Ne)}}function Yt(Qe){var Ce=function(ze,Ne){if($e(ze)!=="object"||ze===null)return ze;var ct=ze[Symbol.toPrimitive];if(ct!==void 0){var Ct=ct.call(ze,"string");if($e(Ct)!=="object")return Ct;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ze)}(Qe);return $e(Ce)==="symbol"?Ce:String(Ce)}function Bt(Qe,Ce){return Bt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ze,Ne){return ze.__proto__=Ne,ze},Bt(Qe,Ce)}function dn(Qe){return dn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Ce){return Ce.__proto__||Object.getPrototypeOf(Ce)},dn(Qe)}var Ft=function(Qe){(function(Ie,Ae){if(typeof Ae!="function"&&Ae!==null)throw new TypeError("Super expression must either be null or a function");Ie.prototype=Object.create(Ae&&Ae.prototype,{constructor:{value:Ie,writable:!0,configurable:!0}}),Object.defineProperty(Ie,"prototype",{writable:!1}),Ae&&Bt(Ie,Ae)})(Et,Qe);var Ce,ze,Ne,ct,Ct=(Ne=Et,ct=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var Ie,Ae=dn(Ne);if(ct){var dt=dn(this).constructor;Ie=Reflect.construct(Ae,arguments,dt)}else Ie=Ae.apply(this,arguments);return function(it,ut){if(ut&&($e(ut)==="object"||typeof ut=="function"))return ut;if(ut!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(vt){if(vt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return vt}(it)}(this,Ie)});function Et(Ie){var Ae;return function(dt,it){if(!(dt instanceof it))throw new TypeError("Cannot call a class as a function")}(this,Et),(Ae=Ct.call(this,Ie)).state={loaded:!1},Ae}return Ce=Et,(ze=[{key:"onImageLoad",value:function(){var Ie=this;return this.state.loaded?null:function(Ae){Ie.props.onLoad(Ae),Ie.props.afterLoad(),Ie.setState({loaded:!0})}}},{key:"getImg",value:function(){var Ie=this.props,Ae=(Ie.afterLoad,Ie.beforeLoad,Ie.delayMethod,Ie.delayTime,Ie.effect,Ie.placeholder,Ie.placeholderSrc,Ie.scrollPosition,Ie.threshold,Ie.useIntersectionObserver,Ie.visibleByDefault,Ie.wrapperClassName,Ie.wrapperProps,function(dt,it){if(dt==null)return{};var ut,vt,Mn=function(Qt,on){if(Qt==null)return{};var $t,Wt,Kt={},sr=Object.keys(Qt);for(Wt=0;Wt<sr.length;Wt++)$t=sr[Wt],on.indexOf($t)>=0||(Kt[$t]=Qt[$t]);return Kt}(dt,it);if(Object.getOwnPropertySymbols){var Kn=Object.getOwnPropertySymbols(dt);for(vt=0;vt<Kn.length;vt++)ut=Kn[vt],it.indexOf(ut)>=0||Object.prototype.propertyIsEnumerable.call(dt,ut)&&(Mn[ut]=dt[ut])}return Mn}(Ie,He));return o().createElement("img",gt({},Ae,{onLoad:this.onImageLoad()}))}},{key:"getLazyLoadImage",value:function(){var Ie=this.props,Ae=Ie.beforeLoad,dt=Ie.className,it=Ie.delayMethod,ut=Ie.delayTime,vt=Ie.height,Mn=Ie.placeholder,Kn=Ie.scrollPosition,Qt=Ie.style,on=Ie.threshold,$t=Ie.useIntersectionObserver,Wt=Ie.visibleByDefault,Kt=Ie.width;return o().createElement(_e,{beforeLoad:Ae,className:dt,delayMethod:it,delayTime:ut,height:vt,placeholder:Mn,scrollPosition:Kn,style:Qt,threshold:on,useIntersectionObserver:$t,visibleByDefault:Wt,width:Kt},this.getImg())}},{key:"getWrappedLazyLoadImage",value:function(Ie){var Ae=this.props,dt=Ae.effect,it=Ae.height,ut=Ae.placeholderSrc,vt=Ae.width,Mn=Ae.wrapperClassName,Kn=Ae.wrapperProps,Qt=this.state.loaded,on=Qt?" lazy-load-image-loaded":"",$t=Qt||!ut?{}:{backgroundImage:"url(".concat(ut,")"),backgroundSize:"100% 100%"};return o().createElement("span",gt({className:Mn+" lazy-load-image-background "+dt+on,style:ot(ot({},$t),{},{color:"transparent",display:"inline-block",height:it,width:vt})},Kn),Ie)}},{key:"render",value:function(){var Ie=this.props,Ae=Ie.effect,dt=Ie.placeholderSrc,it=Ie.visibleByDefault,ut=Ie.wrapperClassName,vt=Ie.wrapperProps,Mn=this.getLazyLoadImage();return(Ae||dt)&&!it||ut||vt?this.getWrappedLazyLoadImage(Mn):Mn}}])&&rn(Ce.prototype,ze),Object.defineProperty(Ce,"prototype",{writable:!1}),Et}(o().Component);Ft.propTypes={onLoad:s.PropTypes.func,afterLoad:s.PropTypes.func,beforeLoad:s.PropTypes.func,delayMethod:s.PropTypes.string,delayTime:s.PropTypes.number,effect:s.PropTypes.string,placeholderSrc:s.PropTypes.string,threshold:s.PropTypes.number,useIntersectionObserver:s.PropTypes.bool,visibleByDefault:s.PropTypes.bool,wrapperClassName:s.PropTypes.string,wrapperProps:s.PropTypes.object},Ft.defaultProps={onLoad:function(){},afterLoad:function(){return{}},beforeLoad:function(){return{}},delayMethod:"throttle",delayTime:300,effect:"",placeholderSrc:null,threshold:100,useIntersectionObserver:!0,visibleByDefault:!1,wrapperClassName:""};const Xt=Ft})(),_Ee.exports=r})();var Sx=_Ee.exports;const CEe=Dl(Sx),qst=H9({__proto__:null,default:CEe},[Sx]);function EEe(e){let t=e.points.length,n=!1,r=[];if(t>1){e.iedges=[];let i=e.points[t-1];for(let o=0;o<t;o++){let s=i;if(i=e.points[o],i.length===6){let u=i[2],c=i[3],f=i[4],p=i[5];r.push([o,[i[0]+u,i[1]+c],[i[0]+f,i[1]+p]]),n=!0}let a=[i[0]-s[0],i[1]-s[1]],l=a[0]*a[0]+a[1]*a[1];l>0?e.iedges.push([a[0]/l,a[1]/l]):e.iedges.push([0,0])}}else t===1?e.iedges=[[0,0]]:e.iedges=null;e.isBezier=n,e.bezierLines=r}function Gst(e,t){let n=1/0,r=null,i=-1,o=e.points.length;if(o<=1)return[null,n,i];let s=e.points[o-1];for(let a=0;a<o;a++){let l=s;s=e.points[a];let u=l[0]-t[0],c=l[1]-t[1],f=u*u+c*c;f<n&&(r=l,n=f,i=a===0?o-1:a-1)}return[r,n,i]}function ZR(e){if(e.points.length>2){let t=Math.min(...e.points.map(o=>o[0])),n=Math.min(...e.points.map(o=>o[1])),r=Math.max(0,...e.points.map(o=>o[0])),i=Math.max(0,...e.points.map(o=>o[1]));e.boundingBox={x:t,y:n,width:r-t,height:i-n};return}e.boundingBox=null}function Zst(e){return e[0]*e[0]+e[1]*e[1]}function Iae(e,t){let n=1/0,r=null,i=-1,o=[],s=e.points.length;if(s<=1)return[null,n,o,i];if(e.iedges===null&&(EEe(e),!e.iedges))return[null,n,o,i];let a=e.points[s-1];for(let l=0;l<s;l++){let u=a;a=e.points[l];let c=(t[0]-u[0])*e.iedges[l][0]+(t[1]-u[1])*e.iedges[l][1],f;c<=0?f=u:c<1?f=[(1-c)*u[0]+c*a[0],(1-c)*u[1]+c*a[1]]:f=a;let p=Zst([f[0]-t[0],f[1]-t[1]]);p<n&&(r=f,n=p,o=[u,a],i=l===0?s-1:l-1)}return[r,n,o,i]}var kEe={type:"move-bounding-box",label:"Move bounding box",isValid(e,t,n){let r=t.polygon.points.length,i=r===t.selectedPoints.length,o=t.polygon.boundingBox;if(r<1||!i||!o)return!1;let s=e[0],a=s[0],l=s[1];return a>=o.x&&a<=o.x+o.width&&l>=o.y&&l<=o.y+o.height},transition(e,t,n){let r=t.transitionOrigin,i=t.polygon.boundingBox,o=e[0],s=o[0]-r[0],a=o[1]-r[1];t.transitionPoints=t.polygon.points.map(l=>l.length===6?[l[0]+s,l[1]+a,l[2],l[3],l[4],l[5]]:[l[0]+s,l[1]+a]),i&&(t.transitionBoundingBox={x:i.x+s,y:i.y+a,width:i.width,height:i.height})},commit(e,t,n){let r=t.transitionPoints;return t.transitionPoints=null,t.transitionBoundingBox=null,{points:r}}},PEe={type:"move-shape",label:"Move shape",isValid(e,t,n){return n.Shift?!1:t.slowState.pointerInsideShape&&(!t.isOpen||t.line===null)},transition(e,t,n){kEe.transition(e,t,n)},commit(e,t,n){let r=t.transitionPoints;return t.transitionPoints=null,t.transitionBoundingBox=null,{points:r}}};function Rae(e,t){return Math.abs(e-t)}function Bd(e,t){let n=Rae(e[0],t[0]),r=Rae(e[1],t[1]);return Math.sqrt(Math.pow(n,2)+Math.pow(r,2))}function NU(e,t){return[e[0]-t[0],e[1]-t[1]]}function Yst(e,t){return e[0]*t[0]+e[1]*t[1]}function $Ee(e){return e[0]*e[0]+e[1]*e[1]}function mM(e,t){return $Ee(NU(e,t))}function TEe(e,t){let n,r,i,o;var s=function(v,y,S,C,_){if(C<=S+1)return;let k=S,w=0,P=v*v;n=[y[S],y[C]],r=NU(n[1],n[0]);let M=$Ee(r),R,D,H,O,z;for(let G=S+1;G<C;G++)R=NU(y[G],n[0]),O=Yst(R,r),O<=0?z=mM(y[G],n[0]):M<=O?z=mM(y[G],n[1]):(H=O/M,D=[n[0][0]+H*r[0],n[0][1]+H*r[1]],z=mM(y[G],D)),!(z<=w)&&(k=G,w=z);w>P&&(_[k]=1,s(v,y,S,k,_),s(v,y,k,C,_))};let a=e.length,l=[],u,c,f,p,g=t*t;for(i=[],o=[],i[0]=e[0],u=c=1,p=0;u<a;u++)mM(e[u],e[p])<g||(i[c++]=e[u],p=u);for(p<a-1&&(i[c++]=e[a-1]),o[0]=o[c-1]=1,s(t,i,0,c-1,o),u=f=0;u<c;u++)o[u]&&(l[f++]=i[u]);return l}var Xst={type:"move-point",label:"Move point",modifiers:{Shift:"Constrain to axis"},isValid(e,t,n){if(n.Alt)return!1;let r=n.proximity,[i,o]=e[0],s=t.polygon.points;t.selectedPoints;for(let a=0;a<s.length;a++){let l=s[a],u=l[0]-i,c=l[1]-o;if(u*u+c*c<r*r)return!0}return!1},start(e,t,n){if(t.selectedPoints.length<2){let[r,i,o]=Gst(t.polygon,e[0]);return{selectedPoints:[o]}}if(t.slowState.closestPoint&&!t.selectedPoints.includes(t.slowState.closestPoint))return{selectedPoints:[t.slowState.closestPoint]}},transition(e,t,n){let r=t.transitionOrigin,[i,o]=e[0],s=t.polygon.points,a=t.selectedPoints;if(t.slowState.closestPoint){let f=t.slowState.closestPoint;a.indexOf(f)===-1&&(a=[f])}let l=[],u=i-r[0],c=o-r[1];n.Shift&&(Math.abs(u)>Math.abs(c)?c=0:u=0);for(let f=0;f<s.length;f++){let p=a.indexOf(f)!==-1,g=s[f];p?g.length===6?l.push([g[0]+u,g[1]+c,g[2],g[3],g[4],g[5]]):l.push([g[0]+u,g[1]+c]):l.push(g)}t.transitionPoints=l},commit(e,t,n){let r=t.transitionPoints;return t.transitionPoints=null,t.transitionBoundingBox=null,{points:r}}},Dae=10,Qst={type:"select-point",label:"Select point",trigger:{type:"click"},modifiers:{Shift:"Add to selection"},isValid(e,t,n){let r=-1;if(t.selectedPoints.length===1){let a=t.selectedPoints[0];a===0&&(r=t.polygon.points.length-1),a===t.polygon.points.length-1&&(r=0)}let[i,o]=e[0],s=t.polygon.points;for(let a=0;a<s.length;a++){let l=s[a],u=l[0]-i,c=l[1]-o;if(u*u+c*c<Dae*Dae)return r!==a}return!1},commit(e,t,n){let r=n.Shift?[...t.selectedPoints]:[],[i,o]=e[0],s=t.polygon.points.map((a,l)=>{let u=a[0]-i,c=a[1]-o;return[u*u+c*c,l]}).sort((a,l)=>a[0]-l[0])[0];if(t.line=null,!r.includes(s[1]))r.push(s[1]);else if(n.Shift)return{selectedPoints:r.filter(a=>a!==s[1])};return{selectedPoints:r}}},MEe={type:"split-line",label:"Split line",isValid(e,t,n){return n.Meta||t.slowState.lineMode?!1:!!(t.closestLinePoint&&t.closestLineDistance<n.proximity)},transition(e,t,n){let r=t.transitionOrigin,[i,o]=e[0],s=t.polygon.points,a=[],l=i-r[0],u=o-r[1];for(let c=0;c<s.length;c++)if(a.push(s[c]),t.closestLineIndex===c){let f=t.closestLinePoint;a.push([f[0]+l,f[1]+u])}t.transitionPoints=a},commit(e,t,n){let r=t.transitionPoints;return t.transitionPoints=null,t.transitionBoundingBox=null,{selectedPoints:[t.closestLineIndex+1],points:r}}},Jst={type:"add-open-point",label:"Add point",trigger:{type:"click"},isValid(e,t,n){if(!t.isOpen)return!1;if(t.polygon.points.length===0)return!0;if(t.selectedPoints.length!==1||t.polygon.points.length>=2&&t.slowState.lineMode)return!1;let r=t.selectedPoints[0];return r===0||r===t.polygon.points.length-1},commit(e,t,n){let r=t.line?t.line[1]:e[0],i=t.polygon.points;return i.length===0?{selectedPoints:[0],points:[e[0]]}:(n.Shift,t.selectedPoints[0]===0?{selectedPoints:t.slowState.lineMode?[]:[0],points:[r,...i]}:(t.line=null,{selectedPoints:t.slowState.lineMode?[]:[i.length],points:[...i,r]}))}},LEe={type:"close-shape",label:"Close shape",trigger:{type:"click"},isValid(e,t,n){if(!t.isOpen||t.selectedPoints.length!==1||t.polygon.points.length<2||n.Meta)return!1;let r=t.selectedPoints[0];if(r===0){let i=t.polygon.points[t.polygon.points.length-1];return Bd(e[0],i)<n.proximity}if(r===t.polygon.points.length-1){let i=t.polygon.points[0];return Bd(e[0],i)<n.proximity}return!1},commit(e,t,n){let r=t.selectedPoints[0];if(t.line=null,r===0)return{selectedPoints:[],points:t.polygon.points.slice(0).reverse(),isOpen:!1};if(r===t.polygon.points.length-1)return{selectedPoints:[],isOpen:!1}}},eat={type:"deselect-draw",label:"Deselect draw",trigger:{type:"key",key:"Escape"},isValid(e,t,n){return!0},commit(e,t,n){return{selectedPoints:[]}}},tat={type:"select-shape",label:"Select shape",trigger:{type:"click"},isValid(e,t,n){return PEe.isValid(e,t,n)},commit(e,t,n){return{selectedPoints:t.polygon.points.map((r,i)=>i)}}},nat={type:"deselect-bounding-box",label:"Deselect bounding box",trigger:{type:"click"},isValid(e,t,n){return!t.isOpen&&t.selectedPoints.length>2&&t.selectedPoints.length===t.polygon.points.length},commit(e,t,n){return{selectedPoints:[]}}},rat={type:"bounding-box-corners",label:"Drag to resize",modifiers:{Shift:"Maintain aspect ratio",Alt:"Scale from center",Meta:"Rotate"},isValid(e,t,n){if(t.transitionDirection=null,t.transitionRotate=!1,t.isOpen||t.selectedPoints.length!==t.polygon.points.length||!t.polygon.boundingBox)return!1;let r=n.proximity*.5,i=n.proximity*3,o=e[0],s=t.polygon.boundingBox,a=s.x+r,l=s.x+s.width-r*2,u=s.y+r,c=s.y+s.height-r*2;if(o[0]>a&&o[0]<l&&o[1]>u&&o[1]<c)return!1;let f=[s.x+s.width,s.y+s.height],p=[s.x,s.y],g=[s.x+s.width,s.y],v=[s.x,s.y+s.height],y=["ne","nw","se","sw"],S=[Bd(e[0],g),Bd(e[0],p),Bd(e[0],f),Bd(e[0],v)],C=Math.min(...S);if(S[0]<i||S[1]<i||S[2]<i||S[3]<i){(C>n.proximity||n.Meta)&&(t.transitionRotate=!0);let _=S.indexOf(Math.min(...S));return t.transitionDirection=_!==-1?y[_]:null,!0}return!1},start(e,t,n){e[0];let r=t.polygon.boundingBox,i=[r.x+r.width,r.y+r.height],o=[r.x,r.y],s=[r.x+r.width,r.y],a=[r.x,r.y+r.height],l=["ne","nw","se","sw"],u=[Bd(e[0],s),Bd(e[0],o),Bd(e[0],i),Bd(e[0],a)],c=Math.min(...u),f=u.indexOf(c);t.transitionDirection=f!==-1?l[f]:null,c>n.proximity&&(t.transitionRotate=!0)},transition(e,t,n){let r=t.polygon.boundingBox,i=[r.x,r.y],o=t.transitionOrigin||e[0],[s,a]=e[0];if(n.Meta||t.transitionRotate){i=[r.x+r.width/2,r.y+r.height/2];let v=Math.atan2(o[1]-i[1],o[0]-i[0]),y=Math.atan2(a-i[1],s-i[0]),S=n.Shift,C=Math.PI/(n.Alt?4:12),_=y-v;S&&(_=Math.round(_/C)*C);let k=Math.cos(_),w=Math.sin(_),P=[];for(let M of t.polygon.points){let R=M[0]-i[0],D=M[1]-i[1],H=R*k-D*w,O=R*w+D*k,z=H+i[0],G=O+i[1];if(M.length===6){P.push([z,G,M[2],M[3],M[4],M[5]]);continue}P.push([z,G])}t.transitionPoints=P,ZR({points:P,iedges:null,boundingBox:null,isBezier:!1,bezierLines:[]}),t.transitionBoundingBox=t.polygon.boundingBox?{...t.polygon.boundingBox,rotation:_}:null;return}let l=0,u=0;switch(t.transitionDirection){case"se":{i=[r.x,r.y],l=s-o[0],u=a-o[1];break}case"sw":{i=[r.x+r.width,r.y],l=o[0]-s,u=a-o[1];break}case"ne":{i=[r.x,r.y+r.height],l=s-o[0],u=o[1]-a;break}case"nw":{i=[r.x+r.width,r.y+r.height],l=o[0]-s,u=o[1]-a;break}}if(n.Alt&&(i=[r.x+r.width/2,r.y+r.height/2],l*=2,u*=2),n.Shift){let v=r.width/r.height;Math.abs(r.width/l)>Math.abs(r.height/u)?u=l/v:l=u*v}let c=(r.width+l)/r.width,f=(r.height+u)/r.height,p=[];for(let v of t.polygon.points){let y=v[0]-i[0],S=v[1]-i[1],C=y*c,_=S*f,k=C+i[0],w=_+i[1];if(v.length===6){p.push([k,w,v[2],v[3],v[4],v[5]]);continue}p.push([k,w])}t.transitionPoints=p;let g={points:p,iedges:null,boundingBox:null,bezierLines:[],isBezier:!1};ZR(g),t.transitionBoundingBox=g.boundingBox},commit(e,t,n){let r=t.transitionPoints;return t.transitionPoints=null,t.transitionBoundingBox=null,t.transitionRotate=!1,{points:r}}},iat={type:"cut-line",label:"Add new point",trigger:{type:"click"},modifiers:{Shift:"Cut line"},isValid(e,t,n){return MEe.isValid(e,t,n)},commit(e,t,n){if(n.Shift&&!t.isOpen){let o=t.polygon.points,s=[],a=[],l=!1;for(let u=0;u<o.length;u++)l?a.push(o[u]):s.push(o[u]),t.closestLineIndex===u&&(l=!0);return{isOpen:!0,points:[...a,...s]}}let r=t.polygon.points,i=[];for(let o=0;o<r.length;o++)if(i.push(r[o]),t.closestLineIndex===o){let s=t.closestLinePoint;i.push(s)}return{points:i}}},oat={type:"select-multiple-points",label:"Drag to select multiple points",isValid(e,t,n){return t.slowState.lineMode&&t.polygon.points.length>=2?!0:!t.line},transition(e,t,n){if(!t.transitionOrigin)return;let r=t.transitionOrigin[0],i=t.transitionOrigin[1],o=e[0][0],s=e[0][1],a=Math.min(r,o),l=Math.min(i,s),u=Math.abs(r-o),c=Math.abs(i-s);t.selectionBox={x:a,y:l,width:u,height:c}},commit(e,t,n){if(t.selectionBox){let r=[];n.Shift&&r.push(...t.selectedPoints);for(let i=0;i<t.polygon.points.length;i++){let o=t.polygon.points[i];o[0]>=t.selectionBox.x&&o[0]<=t.selectionBox.x+t.selectionBox.width&&o[1]>=t.selectionBox.y&&o[1]<=t.selectionBox.y+t.selectionBox.height&&r.push(i)}return{selectedPoints:r}}}},sat={type:"deselect-points",label:"Deselect points",trigger:{type:"click"},isValid(e,t,n){return t.selectedPoints.length>0},commit(e,t,n){return{selectedPoints:[]}}},n7=4,aat={type:"nudge-right",label:"Nudge right",trigger:{type:"key",key:"ArrowRight"},modifiers:{Shift:"Nudge right more"},isValid(e,t,n){return t.selectedPoints.length>0},commit(e,t,n){let r=n.proximity*.3,i=t.polygon.points,o=t.selectedPoints;return{points:i.map((s,a)=>o.includes(a)?[s[0]+(n.Shift?n7*r:1),s[1]]:s)}}},lat={type:"nudge-left",label:"Nudge left",trigger:{type:"key",key:"ArrowLeft"},modifiers:{Shift:"Nudge left more"},isValid(e,t,n){return t.selectedPoints.length>0},commit(e,t,n){let r=n.proximity*.3,i=t.polygon.points,o=t.selectedPoints;return{points:i.map((s,a)=>o.includes(a)?[Math.max(0,s[0]-(n.Shift?n7*r:1)),s[1]]:s)}}},uat={type:"nudge-up",label:"Nudge up",trigger:{type:"key",key:"ArrowUp"},modifiers:{Shift:"Nudge up more"},isValid(e,t,n){return t.selectedPoints.length>0},commit(e,t,n){let r=n.proximity*.3,i=t.polygon.points,o=t.selectedPoints;return{points:i.map((s,a)=>{if(o.includes(a)){let l=s[0],u=Math.max(0,s[1]-(n.Shift?n7*r:1));return s.length===6?[l,u,s[2],s[3],s[4],s[5]]:[l,u]}return s})}}},cat={type:"nudge-down",label:"Nudge down",trigger:{type:"key",key:"ArrowDown"},modifiers:{Shift:"Nudge down more"},isValid(e,t,n){return t.selectedPoints.length>0},commit(e,t,n){let r=n.proximity*.3,i=t.polygon.points,o=t.selectedPoints;return{points:i.map((s,a)=>{let l=s[0],u=Math.max(0,s[1]-(n.Shift?n7*r:1));return o.includes(a)?s.length===6?[l,u,s[2],s[3],s[4],s[5]]:[l,u]:s})}}},dat={type:"delete-point",label:"Delete point",trigger:{type:"key",key:"Backspace"},isValid(e,t,n){return t.selectedPoints.length>0},commit(e,t,n){let r=t.polygon.points.filter((i,o)=>!t.selectedPoints.includes(o));return{isOpen:r.length<3,selectedPoints:[],points:r}}},fat={type:"draw-shape",label:"Draw shape",isValid(e,t,n){let r=n.Alt||t.slowState.drawMode;return!!(t.isOpen&&(t.line||t.polygon.points.length===0)&&r)},start(e,t,n){t.transitionDraw=[]},transition(e,t,n){t.transitionDraw.push(e[0])},commit(e,t,n){let r=TEe(t.transitionDraw,t.scale*3);return t.transitionDraw=[],t.selectedPoints[0]===0?{isOpen:!1,points:[...r,...t.polygon.points.slice(0).reverse()]}:{isOpen:!1,points:[...t.polygon.points,...r]}}},hat={type:"stamp-shape",label:"Stamp shape",modifiers:{Shift:"Maintain aspect ratio"},isValid(e,t,n){return t.slowState.selectedStamp!==null},start(e,t,n){let r=e[0];if(r&&t.slowState.selectedStamp){let i=t.slowState.selectedStamp,o=r[0],s=r[1],a=[],l=Math.min(...i.points.map(y=>y[0])),u=Math.min(...i.points.map(y=>y[1])),c=Math.max(...i.points.map(y=>y[0]))-l,f=Math.max(...i.points.map(y=>y[1]))-u,p=c/32;f/32>p&&(p=f/32);let g=[],v=0;for(let y of i.points)g.push(v),a.push([o+(y[0]-l)/p,s+(y[1]-u)/p]),v++;return t.transitionPoints=a,{isOpen:!1,selectedPoints:g,points:a}}},transition(e,t,n){if(!t.transitionOrigin)return;let r=t.polygon.boundingBox,i=[r.x,r.y];t.transitionOrigin||e[0],e[0];let o=t.transitionOrigin[0],s=t.transitionOrigin[1],a=e[0][0],l=e[0][1],u=a-o-32,c=l-s-32;if(n.Shift){let y=r.width/r.height;Math.abs(r.width/u)>Math.abs(r.height/c)?c=u/y:u=c*y}let f=(r.width+u)/r.width,p=(r.height+c)/r.height,g=[];for(let y of t.polygon.points){let S=y[0]-i[0],C=y[1]-i[1],_=S*f,k=C*p,w=_+i[0],P=k+i[1];if(y.length===6){g.push([w,P,y[2],y[3],y[4],y[5]]);continue}g.push([w,P])}t.transitionPoints=g;let v={points:g,iedges:null,boundingBox:null,bezierLines:[],isBezier:!1};ZR(v),t.transitionBoundingBox=v.boundingBox},commit(e,t,n){return{isOpen:!1,points:t.transitionPoints}}},pat={type:"close-shape-line",label:"Close shape line",trigger:{type:"click"},isValid(e,t,n){return!t.isOpen||t.polygon.points.length<3||!t.closestLinePoint||t.closestLineDistance>=n.proximity?!1:(t.closestLineIndex===0||(t.closestLineIndex,t.polygon.points.length-2),!0)},commit(e,t,n){return LEe.commit(e,t,n)}},mat={type:"stamp-fixed-size-shape",label:"Stamp fixed size shape",trigger:{type:"click"},isValid(e,t,n){return t.slowState.selectedStamp!==null},commit(e,t,n){let r=e[0],i=t.slowState.selectedStamp;if(!r||!i)return;let o=r[0],s=r[1],a=[],l=Math.min(...i.points.map(v=>v[0])),u=Math.min(...i.points.map(v=>v[1])),c=Math.max(...i.points.map(v=>v[0]))-l,f=Math.max(...i.points.map(v=>v[1]))-u,p=4*n.proximity,g=c/p;f/p>g&&(g=f/p),o-=c/g/2,s-=f/g/2;for(let v of i.points)a.push([o+(v[0]-l)/g,s+(v[1]-u)/g]);return{isOpen:!1,points:a}}},gat={type:"move-line",label:"Move line",isValid(e,t,n){return t.slowState.lineMode?!!(t.closestLinePoint&&t.closestLineDistance<n.proximity):!1},transition(e,t){let n=t.transitionOrigin;t.polygon.boundingBox;let r=e[0],i=r[0]-n[0],o=r[1]-n[1];t.transitionPoints=t.polygon.points.map(s=>s.length===6?[s[0]+i,s[1]+o,s[2],s[3],s[4],s[5]]:[s[0]+i,s[1]+o])},commit(e,t,n){let r=t.transitionPoints;return t.transitionPoints=null,t.transitionBoundingBox=null,{points:r}}},vat={type:"close-line-box",label:"Close Line Box",trigger:{type:"click"},isValid(e,t,n){return t.slowState.lineBoxMode===!0&&t.polygon.points.length===2&&t.lineBox!==null},commit(e,t,n){return t.lineBox?{isOpen:!1,points:t.lineBox}:{}}};function yat(e={}){let t=e.proximityThreshold||10,n=e.closestLinePointFill||{selected:"#fff",unselected:"rgba(255, 255, 255, .5)"},r=e.closestLinePointStroke||{selected:"#000",unselected:"rgba(0, 0, 0, .5)"};function i(v,y,S){v&&y.transitionBoundingBox&&S.transitioning&&(v.setAttribute("x",""+y.transitionBoundingBox.x),v.setAttribute("y",""+y.transitionBoundingBox.y),v.setAttribute("width",""+y.transitionBoundingBox.width),v.setAttribute("height",""+y.transitionBoundingBox.height))}function o(v,y,S){v&&y.polygon.boundingBox&&S.showBoundingBox&&(v.setAttribute("x",""+y.polygon.boundingBox.x),v.setAttribute("y",""+y.polygon.boundingBox.y),v.setAttribute("width",""+y.polygon.boundingBox.width),v.setAttribute("height",""+y.polygon.boundingBox.height))}function s(v,y,S){if(v&&y.polygon.boundingBox&&S.showBoundingBox){let C=y.transitionBoundingBox||y.polygon.boundingBox;C.rotation?(v.style.transformOrigin=`${C.x+C.width/2}px ${C.y+C.height/2}px`,v.style.transform=`rotate(${Math.round(100*C.rotation*(180/Math.PI))/100}deg)`):v.style.transform="",v.setAttribute("points",[[C.x,C.y],[C.x+C.width,C.y],[C.x+C.width,C.y+C.height],[C.x,C.y+C.height]].map(_=>_.join(",")).join(" "))}}function a(v,y,S){v&&y.transitionPoints&&S.transitioning&&v.setAttribute("points",y.transitionPoints.map(C=>C.join(",")).join(" "))}function l(v,y,S){v&&y.closestLinePoint&&S.hasClosestLine&&(v.setAttribute("cx",""+y.closestLinePoint[0]),v.setAttribute("cy",""+y.closestLinePoint[1]),v.setAttribute("fill",y.closestLineDistance<t?n.selected:n.unselected),v.setAttribute("stroke",y.closestLineDistance<t?r.selected:r.unselected))}function u(v,y,S){v&&y.closestLinePoint&&S.hasClosestLine&&v.setAttribute("transform",`translate(${y.closestLinePoint[0]}, ${y.closestLinePoint[1]})`)}function c(v,y,S){v&&y.selectionBox&&S.transitionIntentType==="select-multiple-points"&&(v.setAttribute("x",""+y.selectionBox.x),v.setAttribute("y",""+y.selectionBox.y),v.setAttribute("width",""+y.selectionBox.width),v.setAttribute("height",""+y.selectionBox.height))}function f(v,y,S){if(v&&y.pointer&&y.selectedPoints.length)if(S.actionIntentType==="close-shape"||S.actionIntentType==="close-shape-line"){let C=y.polygon.points[0],_=y.polygon.points[y.polygon.points.length-1];C&&_&&v.setAttribute("points",`${C.join(",")} ${_.join(",")}`)}else if(y.line)v.setAttribute("points",`${y.line[0].join(",")} ${y.line[1].join(",")}`);else{let C=y.polygon.points[y.selectedPoints[0]];C&&C.length&&v.setAttribute("points",`${y.pointer[0]},${y.pointer[1]} ${C.join(",")}`)}}function p(v,y,S,C=3){v&&y.transitionDraw.length&&v.setAttribute("points",TEe(y.transitionDraw,C*3).map(_=>_.join(",")).join(" "))}function g(v,y){v&&y.lineBox&&v.setAttribute("points",y.lineBox.map(S=>S.join(",")).join(" "))}return{updateTransitionBoundingBox:i,updateClosestLinePointTransform:u,updateBoundingBoxPolygon:s,updateBoundingBox:o,updateTransitionShape:a,updateClosestLinePoint:l,updateSelectBox:c,updatePointLine:f,updateDrawPreview:p,updateLineBox:g}}var bat=typeof window<"u"?window.requestAnimationFrame:e=>setTimeout(e,16),wat=typeof window<"u"?window.cancelAnimationFrame:e=>clearTimeout(e),gQ=[hat,rat,Xst,gat,MEe,PEe,kEe,fat,oat],xat=gQ.length,FU=[vat,mat,LEe,Qst,pat,iat,Jst,tat,nat,sat],wA=[eat,aat,lat,uat,cat,dat],C4={};gQ.forEach(e=>{C4[e.type]=e});FU.forEach(e=>{C4[e.type]=e});wA.forEach(e=>{C4[e.type]=e});var gM=20;function Sat(e,t){let n={shapeId:(e==null?void 0:e.id)||null,noShape:e===null,transitioning:!1,actionIntentType:null,transitionIntentType:null,selectedPoints:[],hasClosestLine:!1,modifiers:{Alt:!1,Shift:!1,Meta:!1,proximity:gM},showBoundingBox:!1,currentModifiers:{},validIntentKeys:{},pointerInsideShape:!1,closestPoint:null,transitionModifiers:null,selectedStamp:null,lineMode:!1,lineBoxMode:!1,drawMode:!1,bezierLines:[]},r={isOpen:e?e.open:!1,polygon:{points:(e==null?void 0:e.points)||[],iedges:null,boundingBox:null,isBezier:null,bezierLines:[]},scale:1,selectedPoints:[],pointer:null,line:null,lineBox:null,transitionPoints:null,transitionOrigin:null,transitionBoundingBox:null,closestLinePoint:null,closestLineDistance:0,closestLineIndex:-1,transitionRotate:!1,transitionDirection:null,transitionBezierLine:null,selectionBox:null,slowState:n,transitionDraw:[]},i={startTime:0,time:0,shouldUpdate:!1,nextSlowState:null,renderFunc:()=>{},setStateFunc:()=>{},animationFrame:0,actionIntent:null,transitionIntent:null,undoStack:[],undoStackPointer:-1},o={isPressed:!1,isClicking:!1,lastPress:null,pressTimeout:0,noTransition:!1};function s(re){EEe(re),re.isBezier&&a({bezierLines:re.bezierLines}),ZR(re),i.shouldUpdate=!0}s(r.polygon);function a(re){let ue=Object.keys(re);if(ue.length===0)return;let ce=i.nextSlowState||r.slowState,we=!1;if(ue.length===1&&ue[0]==="validIntentKeys"&&ce.validIntentKeys){let Me=Object.keys(ce.validIntentKeys),Be=Object.keys(re.validIntentKeys||{});if(Me.length===Be.length){for(let ge of Me)ce.validIntentKeys[ge]!==re.validIntentKeys[ge]&&(we=!0);if(!we)return}}if(!(ue.length===1&&ue.includes("hasClosestLine")&&re.hasClosestLine===ce.hasClosestLine)){if(i.nextSlowState){i.nextSlowState={...i.nextSlowState,...re};return}i.nextSlowState={...r.slowState,...re}}}function l(re,ue=!1){i.time+=re,u(),c(),C(),S(),y(),_(),w(),k(),i.renderFunc(r,r.slowState,re),!ue&&(i.animationFrame=bat(l))}function u(){if(i.shouldUpdate&&(t({id:r.slowState.shapeId||void 0,open:r.isOpen,points:r.polygon.points}),i.shouldUpdate=!1),i.nextSlowState&&i.nextSlowState!==r.slowState){let re=Object.keys(r.slowState),ue={},ce=!1;for(let we of re){let Me=r.slowState[we],Be=i.nextSlowState[we];Me!==Be?(ce=!0,ue[we]=Be):ue[we]=Me}ce&&(r.slowState=ue,i.nextSlowState=null,i.setStateFunc(r.slowState))}}function c(){r.slowState.showBoundingBox?(r.slowState.noShape||r.selectedPoints.length===0||r.selectedPoints.length!==r.polygon.points.length)&&a({showBoundingBox:!1}):!r.slowState.noShape&&r.polygon.points.length&&r.selectedPoints.length===r.polygon.points.length&&a({showBoundingBox:!0})}function f(re){r.selectedPoints=re.selectedPoints,a({selectedPoints:re.selectedPoints}),r.polygon.points=re.points,r.polygon.boundingBox=null,r.polygon.iedges=null,r.polygon.isBezier=null,s(r.polygon),a({closestPoint:null}),(re.isOpen===!0||re.isOpen===!1)&&(r.isOpen=re.isOpen,i.shouldUpdate=!0)}function p(){if(i.undoStackPointer===-1)return;i.undoStackPointer--;let re=i.undoStack[i.undoStackPointer];f(re)}function g(){if(i.undoStackPointer===i.undoStack.length-1)return;i.undoStackPointer++;let re=i.undoStack[i.undoStackPointer];f(re)}function v(re){i.undoStackPointer++,i.undoStack[i.undoStackPointer]=re,i.undoStack.length>15&&(i.undoStack.shift(),i.undoStackPointer--)}function y(){if(!r.pointer||r.slowState.noShape){a({pointerInsideShape:!1});return}let[re,ue]=r.pointer,ce=r.polygon.points,we=r.polygon.boundingBox;if(!we){a({pointerInsideShape:!1});return}if(re<we.x||re>we.x+we.width||ue<we.y||ue>we.height+we.y){a({pointerInsideShape:!1});return}let Me=!1;for(let Be=0,ge=ce.length-1;Be<ce.length;ge=Be++)ce[Be][1]>ue!=ce[ge][1]>ue&&re<(ce[ge][0]-ce[Be][0])*(ue-ce[Be][1])/(ce[ge][1]-ce[Be][1])+ce[Be][0]&&(Me=!Me);a({pointerInsideShape:Me})}function S(){if(r.slowState.noShape||!r.pointer||r.slowState.transitioning||!r.polygon.points||r.polygon.points.length===0)return;let[re,ue]=r.pointer,ce=r.polygon.points.map((we,Me)=>{let Be=we[0]-re,ge=we[1]-ue;return[Be*Be+ge*ge,Me]}).sort((we,Me)=>we[0]-Me[0]);ce.length&&a({closestPoint:ce[0][1]})}function C(){if(!r.pointer||r.slowState.transitioning)return;if(r.slowState.noShape){r.closestLineIndex=-1,r.closestLinePoint=null,r.closestLineDistance=0;return}let[re,ue,ce,we]=Iae(r.polygon,r.pointer),Me=X()*X();ue<Me&&(!r.isOpen||r.slowState.lineMode||r.polygon.points.length-1!==we)?(r.closestLinePoint=re,r.closestLineDistance=Math.sqrt(ue),r.closestLineIndex=we,a({hasClosestLine:!0})):(r.closestLinePoint=null,r.closestLineDistance=0,r.closestLineIndex=-1,a({hasClosestLine:!1}))}function _(){if(!r.pointer||r.slowState.transitioning||r.slowState.noShape)return;let re=!1;for(let we=0;we<xat;we++){let Me=gQ[we];if(Me.isValid(o.isPressed?[o.lastPress]:[r.pointer],r,P())){if(i.transitionIntent===Me){re=!0;break}a({transitionIntentType:Me.type}),i.transitionIntent=Me,re=!0;break}}re||i.transitionIntent&&(i.transitionIntent=null,a({transitionIntentType:null}));let ue=!1;for(let we=0;we<FU.length;we++){let Me=FU[we];if(R(Me)){if(i.actionIntent===Me){ue=!0;break}a({actionIntentType:Me.type}),i.actionIntent=Me,ue=!0;break}}ue||i.actionIntent&&(i.actionIntent=null,a({actionIntentType:null}));let ce={};for(let we=0;we<wA.length;we++){let Me=wA[we];Me.trigger.type==="key"&&R(Me)&&(ce[Me.trigger.key]=Me.label)}a({validIntentKeys:ce})}function k(){let re=r.pointer;if(r.lineBox=null,!re||H()||r.polygon.points.length!==2)return;let[ue,ce]=re,[we,Me]=r.polygon.points[0],[Be,ge]=r.polygon.points[1],[ye,_e,$e,He]=Iae(r.polygon,re);if(!ye)return;let Ve=ue-ye[0],ot=ce-ye[1],kt=[we,Me],gt=[Be,ge],rn=[gt[0]+Ve,gt[1]+ot],Yt=[kt[0]+Ve,kt[1]+ot];r.lineBox=[kt,gt,rn,Yt]}function w(){let re=r.pointer;if(!re||!H()||r.slowState.noShape)return;let ue=r.selectedPoints[0];if(r.line=[r.polygon.points[ue],re],r.slowState.modifiers.Shift){let ce=0;if(r.polygon.points.length>1){let Ve=r.selectedPoints[0];Ve===0?ce=Math.atan2(r.polygon.points[1][1]-r.polygon.points[0][1],r.polygon.points[1][0]-r.polygon.points[0][0]):ce=Math.atan2(r.polygon.points[Ve-1][1]-r.polygon.points[Ve][1],r.polygon.points[Ve-1][0]-r.polygon.points[Ve][0])}let we=re[0]-r.polygon.points[ue][0],Me=re[1]-r.polygon.points[ue][1],Be=Math.atan2(Me,we),ge=Math.PI/4,ye=Math.round((Be-ce)/ge)*ge+ce,_e=Bd(r.polygon.points[ue],re),$e=Math.cos(ye)*_e+r.polygon.points[ue][0],He=Math.sin(ye)*_e+r.polygon.points[ue][1];r.line[1]=[$e,He]}}function P(){return r.slowState.modifiers}function M(re){let ue=re.commit([o.lastPress],r,P());ue&&(ue.selectedPoints&&(r.selectedPoints=ue.selectedPoints,a({selectedPoints:ue.selectedPoints})),ue.points&&(r.polygon.points=ue.points,r.polygon.boundingBox=null,r.polygon.iedges=null,r.polygon.isBezier=null,r.transitionBoundingBox=null,s(r.polygon),a({closestPoint:null,selectedStamp:null})),(ue.isOpen===!0||ue.isOpen===!1)&&(r.isOpen=ue.isOpen,i.shouldUpdate=!0),v({isOpen:r.isOpen,points:r.polygon.points,selectedPoints:r.selectedPoints})),a({transitionModifiers:null})}function R(re){return re.isValid(r.pointer?[r.pointer]:[],r,P())}function D(re){re==="Delete"&&(re="Backspace");for(let ue of wA)if(!(ue.trigger.type!=="key"||ue.trigger.key!==re)&&R(ue))return M(ue),!0}function H(){let re=r.polygon.points,ue=r.pointer;if(!r.isOpen||!re.length||r.selectedPoints.length!==1||!ue)return!1;let ce=r.selectedPoints[0],we=ce===0,Me=ce===re.length-1;return we||Me}let O={reset(){a({modifiers:{Alt:!1,Shift:!1,Meta:!1,proximity:gM}})},getForType(re){let ue={};if(!re)return ue;let ce=C4[re];return!ce||!ce.modifiers?ue:ce.modifiers},set(re){var ue;re!=="Shift"&&re!=="Alt"&&re!=="Meta"||a({modifiers:{...((ue=i.nextSlowState)==null?void 0:ue.modifiers)||r.slowState.modifiers,[re]:!0}})},unset(re){var ue;re!=="Shift"&&re!=="Alt"&&re!=="Meta"||a({modifiers:{...((ue=i.nextSlowState)==null?void 0:ue.modifiers)||r.slowState.modifiers,[re]:!1}})}},z={set(re){a({selectedStamp:re})},clear(){a({selectedStamp:null})},square(){a({selectedStamp:{id:"square",open:!1,points:[[0,0],[0,100],[100,100],[100,0]]}})},triangle(){a({selectedStamp:{id:"triangle",open:!1,points:[[50,0],[0,100],[100,100]]}})},pentagon(){a({selectedStamp:{id:"pentagon",open:!1,points:[[0,0],[0,100],[100,100],[100,0],[50,-50]]}})},hexagon(){a({selectedStamp:{id:"hexagon",open:!1,points:[[0,0],[0,100],[50,150],[100,100],[100,0],[50,-50]]}})}},G={down(re){return re=="Shift"||re=="Alt"||re=="Meta"?(O.set(re),!0):re==="Control"?(O.set("Meta"),!0):re==="z"&&r.slowState.modifiers.Meta?(r.slowState.modifiers.Shift?g():p(),!0):D(re)},up(re){if(re==="Control"){O.unset("Meta");return}re!=="Shift"&&re!=="Alt"&&re!=="Meta"||O.unset(re)}};function ee(re){var ue;r.scale=re,a({modifiers:{...((ue=i.nextSlowState)==null?void 0:ue.modifiers)||r.slowState.modifiers,proximity:re*gM}})}function X(){return gM*r.scale}let se={set:re=>{i.renderFunc=re},start:(re,ue)=>{i.startTime=performance.now(),i.time=0,re&&(i.renderFunc=re),ue&&(ue(r.slowState),i.setStateFunc=ue),l(0)},stop:()=>{i.animationFrame&&(wat(i.animationFrame),i.animationFrame=0)},step:(re=16)=>{l(re)}};function B(re){let ue=re[0];if(!(!ue||!ue[0]&&ue[0]!==0||!ue[1]&&ue[1]!==0)&&!(Number.isNaN(ue[0])||Number.isNaN(ue[1]))){if(r.pointer=ue||null,r.slowState.transitioning)i.transitionIntent&&i.transitionIntent.transition(re,r,P());else if(o.isPressed&&!o.noTransition&&(!o.isClicking||Bd(o.lastPress,r.pointer)>10))if(clearTimeout(o.pressTimeout),o.isClicking=!1,i.transitionIntent){if(r.transitionOrigin=o.lastPress,a({transitioning:!0}),i.transitionIntent.start){let ce=i.transitionIntent.start([o.lastPress],r,P());ce&&(ce.selectedPoints&&(r.selectedPoints=ce.selectedPoints,a({selectedPoints:ce.selectedPoints})),(ce.isOpen===!0||ce.isOpen===!1)&&(r.isOpen=ce.isOpen,i.shouldUpdate=!0),ce.points&&(r.polygon.points=ce.points,r.polygon.boundingBox=null,r.polygon.iedges=null,s(r.polygon),a({closestPoint:null})))}a({transitionModifiers:i.transitionIntent.modifiers||null}),i.transitionIntent.transition([o.lastPress],r,P())}else o.noTransition=!0}}function q(){r.pointer=null,r.slowState.transitioning||(o.isPressed=!1,o.isClicking=!1,o.lastPress=null,a({transitionIntentType:null,actionIntentType:null}),i.transitionIntent=null,i.actionIntent=null)}function U(){o.isClicking=!0,o.isPressed=!0,o.lastPress=r.pointer,o.pressTimeout=setTimeout(()=>{o.isPressed&&(o.isClicking=!1)},250)}function K(){r.slowState.transitioning?(a({transitioning:!1}),i.transitionIntent&&M(i.transitionIntent),i.transitionIntent=null,a({transitionIntentType:null})):o.isClicking&&(i.actionIntent&&M(i.actionIntent),i.actionIntent=null,a({actionIntentType:null})),o.isPressed=!1,o.isClicking=!1,o.lastPress=null,o.noTransition=!1,clearTimeout(o.pressTimeout)}function J(re){r.polygon.points=(re==null?void 0:re.points)||[],r.polygon.boundingBox=null,r.polygon.iedges=null,r.isOpen=(re==null?void 0:re.open)||!1,s(r.polygon),i.nextSlowState=null,i.undoStack=[],i.undoStackPointer=-1,r.lineBox=null,r.line=null,o.pressTimeout&&clearTimeout(o.pressTimeout),a({noShape:re===null,shapeId:(re==null?void 0:re.id)||null,transitioning:!1,actionIntentType:null,transitionIntentType:null,selectedPoints:[],hasClosestLine:!1,modifiers:{Alt:!1,Shift:!1,Meta:!1,proximity:r.slowState.modifiers.proximity},showBoundingBox:!1,currentModifiers:{},validIntentKeys:{},selectedStamp:null,drawMode:!1,closestPoint:null,pointerInsideShape:!1,lineBoxMode:!1,lineMode:!1}),u()}function oe(re){if(!re)return"";let ue=C4[re];return!ue||!ue.modifiers?ue.label||"":r.slowState.modifiers.Shift&&ue.modifiers.Shift?ue.modifiers.Shift:r.slowState.modifiers.Alt&&ue.modifiers.Alt?ue.modifiers.Alt:r.slowState.modifiers.Meta&&ue.modifiers.Meta?ue.modifiers.Meta:ue.label}function he(){r.slowState.lineMode?a({lineMode:!1,lineBoxMode:!1,drawMode:!1}):a({lineMode:!0,lineBoxMode:!1,drawMode:!1})}function me(){r.slowState.lineBoxMode?a({lineMode:!1,lineBoxMode:!1,drawMode:!1}):a({lineBoxMode:!0,lineMode:!0,drawMode:!1})}return{draw:{enable(){a({drawMode:!0,lineMode:!1,lineBoxMode:!1})},disable(){a({drawMode:!1})},toggle(){a({drawMode:!r.slowState.drawMode,lineMode:!1,lineBoxMode:!1})}},state:r,modifiers:O,stamps:z,key:G,setScale:ee,clock:se,pointer:B,blur:q,pointerDown:U,pointerUp:K,setShape:J,modes:{toggleLineBoxMode:me,toggleLineMode:he,enableLineMode(){a({lineMode:!0,lineBoxMode:!1,drawMode:!1})},disableLineMode(){a({lineMode:!1,lineBoxMode:!1,drawMode:!1})},enableLineBoxMode(){a({lineMode:!0,lineBoxMode:!0,drawMode:!1})},disableLineBoxMode(){a({lineMode:!1,lineBoxMode:!1,drawMode:!1})}},label:oe}}h.forwardRef(function({canvasId:e},t){let n=b3e(),r=V3e(e||(n==null?void 0:n.id)),i=$n();return h.useImperativeHandle(t,()=>r,[e,n]),!n||r.enabledPageIds.length===0?null:d.jsx(d.Fragment,{children:r.enabledPageIds.map(o=>d.jsx(Ko.RenderAnnotationPage,{page:i.get(o)},o))})});function AEe({metadata:e=[],config:t,labelWidth:n=16,showEmptyMessage:r=!0,allowHtml:i,emptyFallback:o,classes:s={},emptyMessage:a="No metadata available",emptyValueFallback:l="No value",emptyLabelFallback:u="",separator:c,tableFooter:f,tableHeader:p}){let g=h.useMemo(()=>{let v=(t||[]).reduce((S,C)=>[...S,...C.keys],[]),y={};for(let S of e){let C=S&&S.label?Object.values(S.label):[];for(let _ of C)if(_&&_.length&&(v.indexOf(`metadata.${_[0]}`)!==-1||v.length===0)&&S){let k=`metadata.${_[0]}`;y[k]=y[k]?y[k]:[],y[k].push(S);break}}return y},[t,e]);return Object.keys(g).length===0&&r?d.jsx(d.Fragment,{children:o})||d.jsx("div",{className:s.empty,children:a}):t&&t.length?d.jsxs("table",{className:s.container,children:[p,d.jsx("tbody",{children:t.map((v,y)=>{let S=[];for(let C of v.keys)for(let _ of g[C]||[])S.push(d.jsx(Fn,{enableDangerouslySetInnerHTML:i,defaultText:l,separator:c,children:_.value},y+"__"+C));return S.length===0?null:d.jsxs("tr",{className:s.row,children:[d.jsx("td",{className:s.label,style:n?{minWidth:n}:{},children:d.jsx(Fn,{enableDangerouslySetInnerHTML:i,separator:c,defaultText:u,children:v.label})}),d.jsx("td",{className:s.value,children:S})]},y)})}),f]}):d.jsxs("table",{className:s.container,children:[p,d.jsx("tbody",{children:e&&e.length?e.map((v,y)=>v?d.jsxs("tr",{className:s.row,children:[d.jsx("td",{className:s.label,style:n?{minWidth:n}:{},children:d.jsx(Fn,{enableDangerouslySetInnerHTML:i,defaultText:l,separator:c,children:v.label})}),d.jsx("td",{className:s.value,children:d.jsx(Fn,{enableDangerouslySetInnerHTML:i,defaultText:l,separator:c,children:v.value})})]},y):null):null}),f]})}function _at(e){let t=Li();return d.jsx(AEe,{metadata:(t==null?void 0:t.metadata)||[],...e})}var{LazyLoadComponent:Cat}=qst||CEe;function Eat(e){let{size:t,visible:n,classes:r,canvasId:i,figure:o}=e,s=(t==null?void 0:t.width)||128,a=(t==null?void 0:t.height)||(t==null?void 0:t.width)||128,l=d.jsx(kat,{...e}),u=d.jsx(Cat,{threshold:300,style:{height:a,width:s},visibleByDefault:n,children:i?d.jsx(Do,{canvas:i,children:l}):l});return o?d.jsx("figure",{className:r==null?void 0:r.figure,children:u}):u}function kat({fallback:e,size:t,classes:n,showLabel:r,alt:i,dereference:o=!1}){let s=kr(),a=(t==null?void 0:t.width)||128,l=(t==null?void 0:t.height)||(t==null?void 0:t.width)||128,u=i||uc(s==null?void 0:s.label)||"",c=av({width:a,height:l,allowUnsafe:!0},o);return!c||c.type!=="fixed"?d.jsx(d.Fragment,{children:e}):d.jsxs(d.Fragment,{children:[d.jsx("div",{className:n==null?void 0:n.imageWrapper,children:d.jsx("img",{className:n==null?void 0:n.img,src:c.id,alt:u})}),r?d.jsx(Fn,{as:"figcaption",className:n==null?void 0:n.label,children:s==null?void 0:s.label}):null]})}function Pat({scrollBehaviour:e,dereference:t,flat:n,size:r,classes:i={},showLabel:o,figure:s,fallback:a}){var y,S,C,_,k,w;let l=h.useRef(null),{items:u,sequence:c,currentSequenceIndex:f,setSequenceIndex:p}=aQ(),g={row:((y=i.selected)==null?void 0:y.row)||i.row,item:((S=i.selected)==null?void 0:S.item)||i.item,figure:((C=i.selected)==null?void 0:C.figure)||i.figure,img:((_=i.selected)==null?void 0:_.img)||i.img,label:((k=i.selected)==null?void 0:k.label)||i.label,imageWrapper:((w=i.selected)==null?void 0:w.imageWrapper)||i.imageWrapper};h.useLayoutEffect(()=>{if(!l.current)return;let P=l.current.querySelector("[data-selected=true]");P&&P.scrollIntoView({behavior:e||"instant",block:"nearest",inline:"center"})},[f]);let v=[];for(let P of c){let M=[],R=c[f]===P;for(let D of P){let H=u[D];M.push(d.jsx("div",{className:R?g.item:i.item,children:d.jsx(Eat,{classes:R?g:i,canvasId:H.id,size:r,dereference:t,showLabel:o,figure:s,placeholder:d.jsx("div",{style:{height:128,width:128}}),fallback:a})},D))}if(n){v.push(M);continue}v.push(d.jsx("div",{onClick:D=>{p(c.indexOf(P))},"data-selected":R,className:R?g.row:i.row,children:M},P.join("-")))}return d.jsx("div",{ref:l,className:i.container,children:v})}var $at={draw:!0,polygon:!0,line:!0,lineBox:!0,square:!0,triangle:!0,hexagon:!0,circle:!0,delete:!0};function IEe({helper:e,showShapes:t,state:n,enabled:r=$at,classNames:i={},icons:o={}}){var s,a,l;return d.jsxs(d.Fragment,{children:[t?d.jsxs(d.Fragment,{children:[r.draw&&d.jsx("button",{className:i.button,onClick:()=>{e.stamps.clear(),e.draw.enable()},"data-active":!n.lineMode&&!n.selectedStamp&&t&&n.drawMode,children:o.DrawIcon||"Draw"}),r.polygon&&d.jsx("button",{className:i.button,"data-active":!n.lineMode&&!n.selectedStamp&&t&&!n.drawMode,onClick:()=>{e.stamps.clear(),e.draw.disable(),e.modes.disableLineBoxMode(),e.modes.disableLineMode()},children:o.PolygonIcon||"Polygon"}),r.line&&d.jsx("button",{className:i.button,"data-active":n.lineMode&&!n.lineBoxMode,onClick:()=>{e.modes.enableLineMode()},children:o.LineIcon||"Line"}),r.lineBox&&d.jsx("button",{className:i.button,"data-active":n.lineBoxMode,onClick:()=>{e.modes.enableLineBoxMode()},children:o.LineBoxIcon||"LineBox"}),r.square&&d.jsx("button",{className:i.button,"data-active":((s=n.selectedStamp)==null?void 0:s.id)==="square",onClick:()=>{e.stamps.square()},children:o.SquareIcon||"Square"}),r.triangle&&d.jsx("button",{className:i.button,"data-active":((a=n.selectedStamp)==null?void 0:a.id)==="triangle",onClick:()=>{e.stamps.triangle()},children:o.TriangleIcon||"Triangle"}),r.hexagon&&d.jsx("button",{className:i.button,"data-active":((l=n.selectedStamp)==null?void 0:l.id)==="hexagon",onClick:()=>{e.stamps.hexagon()},children:o.HexagonIcon||"Hexagon"})]}):null,n.showBoundingBox&&r.delete&&d.jsx("button",{className:i.button,onClick:()=>e.key.down("Backspace"),children:o.DeleteForeverIcon||"Delete"})]})}var REe=h.createContext(nv());REe.displayName="SelectorHelper";function Tat(e){let t=Mat(),[n,r]=h.useState(!1);h.useEffect(()=>t.withSelector(e).on("highlight",()=>{r(!0)}),[t,e]),h.useEffect(()=>t.withSelector(e).on("clear-highlight",()=>{r(!1)}),[t,e]);let i=h.useCallback(s=>{t.emit("click",{selectorId:e,event:s})},[e,t]),o=h.useCallback(s=>{t.emit("hover",{selectorId:e,event:s})},[e,t]);return{controller:t,onClick:i,onHover:o,isHighlighted:n}}function Mat(){let e=h.useContext(REe);return h.useMemo(()=>({withSelector(t){return{on(n,r){let i=o=>{o&&o.selectorId===t&&r(o)};return e.on(n,i),()=>{e.off(n,i)}},emit(n,r){e.emit(n,{...r,selectorId:t})}}},on(t,n){return e.on(t,n),()=>{e.off(t,n)}},emit(t,n){e.emit(t,n)}}),[e])}function Lat(){return{default:{backgroundColor:"rgba(0,0,0,0)",borderWidth:"2px",borderColor:"rgba(252,0,98, .5)"},highlighted:{backgroundColor:"rgba(75, 103, 225, 0.4)",borderWidth:"1px",borderColor:"rgba(75,103,225,0.99)"},hidden:{borderWidth:"0px",borderColor:"rgba(0,0,0,0)",backgroundColor:"rgba(0,0,0,0)",hidden:!0}}}var DEe=h.createContext(Lat());DEe.displayName="AnnotationStyle";function Aat(){return h.useContext(DEe)}function Iat(e,t,n){let[r,i]=h.useState({}),o=h.useMemo(()=>Sat(e,n),[]);return h.useEffect(()=>(o.clock.start(t,i),()=>{o.clock.stop()}),[]),{state:r,helper:o}}var Dv=yat();function Rat(e,t){let{image:n,currentShape:r,onChange:i,hideShapeLines:o}=e,s=h.useRef(),a=h.useRef(),l=h.useRef(),u=h.useRef(),c=h.useRef(),f=h.useRef(),p=h.useRef(),g=h.useRef(),[v,y]=h.useState(null),[S,C]=h.useState(!1),{helper:_,state:k}=Iat(r,(z,G)=>{Dv.updateTransitionBoundingBox(a.current,z,G),Dv.updateBoundingBoxPolygon(s.current,z,G),Dv.updateTransitionShape(f.current,z,G),Dv.updateClosestLinePointTransform(u.current,z,G),Dv.updateSelectBox(l.current,z,G),Dv.updatePointLine(p.current,z,G),Dv.updateDrawPreview(c.current,z,G,3),Dv.updateLineBox(g.current,z),y(z.transitionDirection),C(z.transitionRotate)},i);h.useEffect(()=>{_.setShape(r||null)},t),h.useEffect(()=>{let z=()=>{_.modifiers.reset()};return document.addEventListener("mouseleave",z),()=>{document.removeEventListener("mouseleave",z)}},[]);let w=d.jsxs(d.Fragment,{children:[d.jsx("marker",{id:"dot",viewBox:"0 0 10 10",refX:"5",refY:"5",markerWidth:"5",markerHeight:"5",children:d.jsx("circle",{cx:"5",cy:"5",r:"4",className:"marker"})}),d.jsx("marker",{id:"selected",viewBox:"0 0 10 10",refX:"5",refY:"5",markerWidth:"5",markerHeight:"5",children:d.jsx("circle",{cx:"5",cy:"5",r:"4",fill:"#FAFF00"})}),d.jsx("marker",{id:"resizer",viewBox:"0 0 10 10",refX:"5",refY:"5",markerWidth:"5",markerHeight:"5",children:d.jsx("rect",{width:"10",height:"10",stroke:"#FF0DCB",fill:"#fff",strokeWidth:2})})]}),P=r?r.open?"polyline":"polygon":null,M=!k.showBoundingBox&&k.closestPoint!==null&&k.actionIntentType==="select-point",R=k.actionIntentType==="add-open-point",D=k.transitionIntentType==="split-line",H=k.transitioning&&k.selectedStamp&&k.transitionIntentType==="stamp-shape",O=r&&P?d.jsxs(d.Fragment,{children:[d.jsx(P,{fill:!k.transitioning&&k.showBoundingBox?"rgba(255, 0, 0, .5)":"none",strokeWidth:H?0:2,stroke:o?"transparent":"#000",points:r.points.map(z=>z.join(",")).join(" "),vectorEffect:"non-scaling-stroke",markerStart:k.showBoundingBox?void 0:"url(#dot)",markerMid:k.showBoundingBox?void 0:"url(#dot)",markerEnd:k.showBoundingBox?void 0:"url(#dot)",style:{pointerEvents:"none"}}),k.lineBoxMode&&k.actionIntentType==="close-line-box"?d.jsx("polygon",{fill:"rgba(255, 0, 0, .4)",ref:g,stroke:"#000",strokeWidth:2,vectorEffect:"non-scaling-stroke"}):null,k.transitionIntentType==="draw-shape"&&k.transitioning?d.jsx("polyline",{ref:c,fill:"none",stroke:"rgba(255, 0, 0, .5)",strokeWidth:2,vectorEffect:"non-scaling-stroke"}):null,!k.showBoundingBox&&k.selectedPoints&&k.selectedPoints.length?d.jsx("polyline",{strokeWidth:2,vectorEffect:"non-scaling-stroke",stroke:"transparent",markerStart:"url(#selected)",markerMid:"url(#selected)",markerEnd:"url(#selected)",fill:"transparent",points:r.points.filter((z,G)=>{var ee;return(ee=k.selectedPoints)==null?void 0:ee.includes(G)}).map(z=>z.join(",")).join(" ")}):null,M&&k.closestPoint!==null&&r.points[k.closestPoint]?d.jsx("polyline",{strokeWidth:2,vectorEffect:"non-scaling-stroke",stroke:"transparent",markerStart:"url(#selected)",markerMid:"url(#selected)",markerEnd:"url(#selected)",fill:"transparent",points:`${r.points[k.closestPoint][0]},${r.points[k.closestPoint][1]}`}):null,!k.transitioning&&(k.actionIntentType==="add-open-point"||k.actionIntentType==="close-shape"||k.actionIntentType==="close-shape-line")?d.jsx("polyline",{stroke:"#000",ref:p,strokeWidth:k.actionIntentType==="close-shape"?2:1,vectorEffect:"non-scaling-stroke"}):null,k.hasClosestLine&&(!k.transitionIntentType||k.transitionIntentType==="split-line")?d.jsx("g",{ref:u,children:d.jsx("polyline",{style:{opacity:.5},markerStart:"url(#dot)",points:"0,0 10,10",vectorEffect:"non-scaling-stroke",fill:"transparent",strokeWidth:2})}):null,k.transitioning?d.jsx(P,{ref:f,fill:r.open?"none":"rgba(255, 0, 0, .5)",stroke:"rgba(255, 0, 0, .5)",strokeWidth:r.open?2:0}):null,k.transitioning&&k.transitionIntentType==="select-multiple-points"?d.jsx("rect",{ref:l,fill:"rgba(255, 255, 255, .3)",strokeWidth:1,stroke:"rgba(0,0,0,.2)",vectorEffect:"non-scaling-stroke"}):null,k.showBoundingBox?null:d.jsx("g",{name:"controls",children:!1}),k.showBoundingBox&&!H?d.jsx("polygon",{ref:s,strokeWidth:2,stroke:"#FF0DCB",fill:"none",markerStart:"url(#resizer)",markerMid:"url(#resizer)",markerEnd:"url(#resizer)",vectorEffect:"non-scaling-stroke"}):null]}):null;return{helper:_,state:k,isAddingPoint:R,isSplitting:D,isStamping:H,isHoveringPoint:M,transitionDirection:v,transitionRotate:S,defs:w,editor:O}}var Dat=[{name:"Default",outer:{borderWidth:4,borderColor:"rgba(255, 255, 255, .4)"},inner:{borderWidth:2,borderColor:"#000"}},{name:"High contrast",outer:{borderWidth:3,borderColor:"#fff"},inner:{borderWidth:1,borderColor:"#000"}},{name:"Lightsaber",outer:{borderWidth:"4",borderColor:"rgba(56,68,255,0.64)"},inner:{borderWidth:"2",borderColor:"#fff"}},{name:"Bright",outer:{borderWidth:"6",borderColor:"#25d527"},inner:{borderWidth:"3",borderColor:"#a916ff"}},{name:"pink",outer:{borderWidth:"4",borderColor:"#ff00ff"},inner:{borderWidth:"2",borderColor:"#ffffff"}},{name:"fine (dark)",outer:{borderWidth:"1",borderColor:"#000000"},inner:{}},{name:"fine (light)",outer:{borderWidth:"1",borderColor:"#FFF"},inner:{}}];function Oat(e){var k,w;let t=e.theme||Dat[0],n=GO(),{image:r}=e,{helper:i,defs:o,editor:s,state:a,transitionDirection:l,isSplitting:u,transitionRotate:c,isHoveringPoint:f,isAddingPoint:p,isStamping:g}=Rat({currentShape:e.shape||null,onChange:e.updateShape,image:e.image,hideShapeLines:!0},[]),v=P=>{i.pointer([[~~P.atlas.x,~~P.atlas.y]])};h.useEffect(()=>{let P=M=>{i.key.up(M.key)};return document.addEventListener("keyup",P),()=>{document.removeEventListener("keyup",P)}},[]),h.useEffect(()=>{let P=M=>{i.key.down(M.key)};return document.addEventListener("keydown",P),()=>{document.removeEventListener("keydown",P)}},[]),h.useEffect(()=>{var M;let P=[];return l&&P.push(`atlas-cursor-${l}`),a.actionIntentType==="cut-line"&&((M=a.modifiers)!=null&&M.Shift)&&P.push("atlas-cursor-cut"),(f||a.transitionIntentType==="move-shape"||a.transitionIntentType==="move-point")&&P.push("atlas-cursor-move"),p&&P.push("atlas-cursor-crosshair"),u&&P.push("atlas-cursor-copy"),c&&P.push("atlas-cursor-rotate"),a.transitionIntentType==="draw-shape"&&P.push("atlas-cursor-draw"),n!=null&&n.canvas&&n.canvas.classList.add(...P),()=>{n!=null&&n.canvas&&n.canvas.classList.remove(...P)}},[n==null?void 0:n.canvas,p,f,u,(k=a.modifiers)==null?void 0:k.Shift,a.actionIntentType,a.transitionIntentType,l,c]);let y=e.shape&&((w=e.shape)==null?void 0:w.points.length)===0,S=e.renderControls?e.renderControls(i,a,y):null,C=document.getElementById(e.controlsHtmlId||"atlas-controls"),_="shape";return d.jsx(d.Fragment,{children:d.jsxs("world-object",{height:r.height,width:r.width,onMouseMove:v,onMouseDown:i.pointerDown,onMouseUp:i.pointerUp,onMouseLeave:i.blur,children:[e.shape?d.jsxs(d.Fragment,{children:[d.jsx(_,{open:e.shape.open,points:e.shape.points,relativeStyle:!0,style:g?{}:t.outer}),d.jsx(_,{open:e.shape.open,points:e.shape.points,relativeStyle:!0,style:g?{}:t.inner})]}):null,d.jsxs(Jp,{relative:!0,interactive:!1,children:[d.jsx("div",{style:{position:"absolute",top:0,right:0,left:0,bottom:0},children:d.jsxs("svg",{width:"100%",height:"100%",viewBox:`0 0 ${r.width} ${r.height}`,tabIndex:-1,children:[d.jsx("defs",{children:o}),s]})}),C?ai.createPortal(S,C,"controls"):null]})]})})}function OEe(e){let t=kr(),n=e.annotationBucket,r=e.readOnly,i=e.id,{onClick:o,isHighlighted:s}=Tat(e.id),a=Aat(),l=s?a.highlighted:a[n||"hidden"]||a.hidden;if(!t)return null;if(r){let u="shape",c=e.polygon,f=c.open;return c?d.jsx(u,{id:`shape-${i}`,points:c.points,open:f,onClick:o,relativeStyle:!0,target:{x:0,y:0,width:t.width,height:t.height},style:l}):null}return d.jsx(Oat,{image:t,shape:e.polygon||{id:e.id,open:!0,points:[]},updateShape:e.updatePolygon,theme:e.theme,controlsHtmlId:e.controlsHtmlId,renderControls:e.renderControls})}function jEe({src:e,errorFallback:t,interactive:n,skipSizes:r,children:i,renderViewerControls:o,viewControlsDeps:s,fluid:a,x:l,y:u,...c}){let[f,p]=h.useState(),g=t||O3e,[v,y]=K3e(),S=h.useMemo(()=>{var w;let _=(w=y[e])==null?void 0:w.status,k=v({id:e},{});return k!=null&&k.height&&k.width&&_!=="loading"?{id:e,width:k.width,height:k.height,service:k,type:"Image",selector:{type:"BoxSelector",spatial:{x:0,y:0,width:k.width,height:k.height}},target:{type:"BoxSelector",spatial:{x:0,y:0,width:k.width,height:k.height}}}:null},[v,e,y]);if(Rp(f&&o?"overlay":"none",`canvas-portal-controls-${e}`,nx.Provider,o&&S?{value:f||null,children:o({image:S,images:[S],type:"images"})}:{},[e,S,f,...s||[]]),!S||!S.height||!S.width)return null;let C=a?void 0:c.homePosition?c.homePosition.width/c.homePosition.height:S.width/S.height;return d.jsx(DT,{resetKeys:[],fallbackRender:_=>d.jsx(g,{...c,..._}),children:d.jsx(B3e,{...c,aspectRatio:C,containerProps:{style:{position:"relative"},...c.containerProps||{}},onCreated:_=>{p(_),c.onCreated&&c.onCreated(_)},children:d.jsxs(nx.Provider,{value:f,children:[d.jsx(t7,{image:S,id:S.id,isStatic:!n,x:l,y:u},S.id),d.jsx(jat,{viewerPreset:f,renderViewerControls:o,image:S,src:e,viewControlsDeps:s}),i]})})})}function jat({viewerPreset:e,renderViewerControls:t,image:n,src:r,viewControlsDeps:i}){return Rp(e&&t?"overlay":"none",`canvas-portal-controls-${r}`,nx.Provider,t&&n?{value:e||null,children:t({image:n,images:[n],type:"images"})}:{},[r,e,...i||[]]),null}function YR({annotation:e,children:t}){return d.jsx(i1,{value:{annotation:e},children:t})}function XR({annotationPage:e,children:t}){return d.jsx(i1,{value:{annotationPage:e},children:t})}function QR({collection:e,children:t}){return d.jsx(i1,{value:{collection:e},children:t})}function lv(e,t=[]){let{id:n,selector:r}=e,i=xh(),o=n||i.collection,s=Ki(a=>o?a.iiif.entities.Collection[o]:void 0,[o]);return h.useMemo(()=>{if(s)return r?r(s):s},[s,r,...t])}var Nat=Object.defineProperty,Fat=(e,t,n)=>t in e?Nat(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,SF=(e,t,n)=>(Fat(e,typeof t!="symbol"?t+"":t,n),n);let Bat=class{constructor(){SF(this,"current",this.detect()),SF(this,"handoffState","pending"),SF(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},kw=new Bat;function zT(e){var t,n;return kw.isServer?null:e?"ownerDocument"in e?e.ownerDocument:"current"in e?(n=(t=e.current)==null?void 0:t.ownerDocument)!=null?n:document:null:document}function r7(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function o1(){let e=[],t={addEventListener(n,r,i,o){return n.addEventListener(r,i,o),t.add(()=>n.removeEventListener(r,i,o))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return t.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return t.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return r7(()=>{r.current&&n[0]()}),t.add(()=>{r.current=!1})},style(n,r,i){let o=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:i}),this.add(()=>{Object.assign(n.style,{[r]:o})})},group(n){let r=o1();return n(r),this.add(()=>r.dispose())},add(n){return e.includes(n)||e.push(n),()=>{let r=e.indexOf(n);if(r>=0)for(let i of e.splice(r,1))i()}},dispose(){for(let n of e.splice(0))n()}};return t}function i7(){let[e]=h.useState(o1);return h.useEffect(()=>()=>e.dispose(),[e]),e}let au=(e,t)=>{kw.isServer?h.useEffect(e,t):h.useLayoutEffect(e,t)};function _x(e){let t=h.useRef(e);return au(()=>{t.current=e},[e]),t}let _o=function(e){let t=_x(e);return ne.useCallback((...n)=>t.current(...n),[t])};function zat(e){let t=e.width/2,n=e.height/2;return{top:e.clientY-n,right:e.clientX+t,bottom:e.clientY+n,left:e.clientX-t}}function Hat(e,t){return!(!e||!t||e.right<t.left||e.left>t.right||e.bottom<t.top||e.top>t.bottom)}function Vat({disabled:e=!1}={}){let t=h.useRef(null),[n,r]=h.useState(!1),i=i7(),o=_o(()=>{t.current=null,r(!1),i.dispose()}),s=_o(a=>{if(i.dispose(),t.current===null){t.current=a.currentTarget,r(!0);{let l=zT(a.currentTarget);i.addEventListener(l,"pointerup",o,!1),i.addEventListener(l,"pointermove",u=>{if(t.current){let c=zat(u);r(Hat(c,t.current.getBoundingClientRect()))}},!1),i.addEventListener(l,"pointercancel",o,!1)}}});return{pressed:n,pressProps:e?{}:{onPointerDown:s,onPointerUp:o,onClick:o}}}let Uat=h.createContext(void 0);function NEe(){return h.useContext(Uat)}function BU(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}function D0(e,t,...n){if(e in t){let i=t[e];return typeof i=="function"?i(...n):i}let r=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,D0),r}var JR=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(JR||{}),s0=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(s0||{});function cd(){let e=Kat();return h.useCallback(t=>Wat({mergeRefs:e,...t}),[e])}function Wat({ourProps:e,theirProps:t,slot:n,defaultTag:r,features:i,visible:o=!0,name:s,mergeRefs:a}){a=a??qat;let l=FEe(t,e);if(o)return vM(l,n,r,s,a);let u=i??0;if(u&2){let{static:c=!1,...f}=l;if(c)return vM(f,n,r,s,a)}if(u&1){let{unmount:c=!0,...f}=l;return D0(c?0:1,{0(){return null},1(){return vM({...f,hidden:!0,style:{display:"none"}},n,r,s,a)}})}return vM(l,n,r,s,a)}function vM(e,t={},n,r,i){let{as:o=n,children:s,refName:a="ref",...l}=_F(e,["unmount","static"]),u=e.ref!==void 0?{[a]:e.ref}:{},c=typeof s=="function"?s(t):s;"className"in l&&l.className&&typeof l.className=="function"&&(l.className=l.className(t)),l["aria-labelledby"]&&l["aria-labelledby"]===l.id&&(l["aria-labelledby"]=void 0);let f={};if(t){let p=!1,g=[];for(let[v,y]of Object.entries(t))typeof y=="boolean"&&(p=!0),y===!0&&g.push(v.replace(/([A-Z])/g,S=>`-${S.toLowerCase()}`));if(p){f["data-headlessui-state"]=g.join(" ");for(let v of g)f[`data-${v}`]=""}}if(o===h.Fragment&&(Object.keys(q1(l)).length>0||Object.keys(q1(f)).length>0))if(!h.isValidElement(c)||Array.isArray(c)&&c.length>1){if(Object.keys(q1(l)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(q1(l)).concat(Object.keys(q1(f))).map(p=>`  - ${p}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(p=>`  - ${p}`).join(`
`)].join(`
`))}else{let p=c.props,g=p==null?void 0:p.className,v=typeof g=="function"?(...C)=>BU(g(...C),l.className):BU(g,l.className),y=v?{className:v}:{},S=FEe(c.props,q1(_F(l,["ref"])));for(let C in f)C in S&&delete f[C];return h.cloneElement(c,Object.assign({},S,f,u,{ref:i(Gat(c),u.ref)},y))}return h.createElement(o,Object.assign({},_F(l,["ref"]),o!==h.Fragment&&u,o!==h.Fragment&&f),c)}function Kat(){let e=h.useRef([]),t=h.useCallback(n=>{for(let r of e.current)r!=null&&(typeof r=="function"?r(n):r.current=n)},[]);return(...n)=>{if(!n.every(r=>r==null))return e.current=n,t}}function qat(...e){return e.every(t=>t==null)?void 0:t=>{for(let n of e)n!=null&&(typeof n=="function"?n(t):n.current=t)}}function FEe(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):t[i]=r[i];if(t.disabled||t["aria-disabled"])for(let r in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(r)&&(n[r]=[i=>{var o;return(o=i==null?void 0:i.preventDefault)==null?void 0:o.call(i)}]);for(let r in n)Object.assign(t,{[r](i,...o){let s=n[r];for(let a of s){if((i instanceof Event||(i==null?void 0:i.nativeEvent)instanceof Event)&&i.defaultPrevented)return;a(i,...o)}}});return t}function BEe(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):t[i]=r[i];for(let r in n)Object.assign(t,{[r](...i){let o=n[r];for(let s of o)s==null||s(...i)}});return t}function Ol(e){var t;return Object.assign(h.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function q1(e){let t=Object.assign({},e);for(let n in t)t[n]===void 0&&delete t[n];return t}function _F(e,t=[]){let n=Object.assign({},e);for(let r of t)r in n&&delete n[r];return n}function Gat(e){return ne.version.split(".")[0]>="19"?e.props.ref:e.ref}let Zat="button";function Yat(e,t){var n;let r=NEe(),{disabled:i=r||!1,autoFocus:o=!1,...s}=e,{isFocusVisible:a,focusProps:l}=pf({autoFocus:o}),{isHovered:u,hoverProps:c}=ud({isDisabled:i}),{pressed:f,pressProps:p}=Vat({disabled:i}),g=BEe({ref:t,type:(n=s.type)!=null?n:"button",disabled:i||void 0,autoFocus:o},l,c,p),v=h.useMemo(()=>({disabled:i,hover:u,focus:a,active:f,autofocus:o}),[i,u,a,f,o]);return cd()({ourProps:g,theirProps:s,slot:v,defaultTag:Zat,name:"Button"})}let Xat=Ol(Yat),Qat="span";var eD=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(eD||{});function Jat(e,t){var n;let{features:r=1,...i}=e,o={ref:t,"aria-hidden":(r&2)===2?!0:(n=i["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return cd()({ourProps:o,theirProps:i,slot:{},defaultTag:Qat,name:"Hidden"})}let zU=Ol(Jat),zEe=Symbol();function elt(e,t=!0){return Object.assign(e,{[zEe]:t})}function tm(...e){let t=h.useRef(e);h.useEffect(()=>{t.current=e},[e]);let n=_o(r=>{for(let i of t.current)i!=null&&(typeof i=="function"?i(r):i.current=r)});return e.every(r=>r==null||(r==null?void 0:r[zEe]))?void 0:n}let vQ=h.createContext(null);vQ.displayName="DescriptionContext";function HEe(){let e=h.useContext(vQ);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,HEe),t}return e}function tlt(){let[e,t]=h.useState([]);return[e.length>0?e.join(" "):void 0,h.useMemo(()=>function(n){let r=_o(o=>(t(s=>[...s,o]),()=>t(s=>{let a=s.slice(),l=a.indexOf(o);return l!==-1&&a.splice(l,1),a}))),i=h.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props,value:n.value}),[r,n.slot,n.name,n.props,n.value]);return ne.createElement(vQ.Provider,{value:i},n.children)},[t])]}let nlt="p";function rlt(e,t){let n=h.useId(),r=NEe(),{id:i=`headlessui-description-${n}`,...o}=e,s=HEe(),a=tm(t);au(()=>s.register(i),[i,s.register]);let l=r||!1,u=h.useMemo(()=>({...s.slot,disabled:l}),[s.slot,l]),c={ref:a,...s.props,id:i};return cd()({ourProps:c,theirProps:o,slot:u,defaultTag:nlt,name:s.name||"Description"})}let ilt=Ol(rlt),olt=Object.assign(ilt,{});var VEe=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(VEe||{});let UEe=h.createContext(()=>{});function slt(){return h.useContext(UEe)}function alt({value:e,children:t}){return ne.createElement(UEe.Provider,{value:e},t)}function llt(e,t){let n=slt();return ne.createElement(Xat,{ref:t,...BEe({onClick:n},e)})}let ult=Ol(llt),clt=class extends Map{constructor(t){super(),this.factory=t}get(t){let n=super.get(t);return n===void 0&&(n=this.factory(t),this.set(t,n)),n}};function WEe(e,t){let n=e(),r=new Set;return{getSnapshot(){return n},subscribe(i){return r.add(i),()=>r.delete(i)},dispatch(i,...o){let s=t[i].call(n,...o);s&&(n=s,r.forEach(a=>a()))}}}function KEe(e){return h.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getSnapshot)}let dlt=new clt(()=>WEe(()=>[],{ADD(e){return this.includes(e)?this:[...this,e]},REMOVE(e){let t=this.indexOf(e);if(t===-1)return this;let n=this.slice();return n.splice(t,1),n}}));function u3(e,t){let n=dlt.get(t),r=h.useId(),i=KEe(n);if(au(()=>{if(e)return n.dispatch("ADD",r),()=>n.dispatch("REMOVE",r)},[n,e]),!e)return!1;let o=i.indexOf(r),s=i.length;return o===-1&&(o=s,s+=1),o===s-1}let HU=new Map,hP=new Map;function Oae(e){var t;let n=(t=hP.get(e))!=null?t:0;return hP.set(e,n+1),n!==0?()=>jae(e):(HU.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),e.setAttribute("aria-hidden","true"),e.inert=!0,()=>jae(e))}function jae(e){var t;let n=(t=hP.get(e))!=null?t:1;if(n===1?hP.delete(e):hP.set(e,n-1),n!==1)return;let r=HU.get(e);r&&(r["aria-hidden"]===null?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",r["aria-hidden"]),e.inert=r.inert,HU.delete(e))}function flt(e,{allowed:t,disallowed:n}={}){let r=u3(e,"inert-others");au(()=>{var i,o;if(!r)return;let s=o1();for(let l of(i=n==null?void 0:n())!=null?i:[])l&&s.add(Oae(l));let a=(o=t==null?void 0:t())!=null?o:[];for(let l of a){if(!l)continue;let u=zT(l);if(!u)continue;let c=l.parentElement;for(;c&&c!==u.body;){for(let f of c.children)a.some(p=>f.contains(p))||s.add(Oae(f));c=c.parentElement}}return s.dispose},[r,t,n])}function hlt(e,t,n){let r=_x(i=>{let o=i.getBoundingClientRect();o.x===0&&o.y===0&&o.width===0&&o.height===0&&n()});h.useEffect(()=>{if(!e)return;let i=t===null?null:t instanceof HTMLElement?t:t.current;if(!i)return;let o=o1();if(typeof ResizeObserver<"u"){let s=new ResizeObserver(()=>r.current(i));s.observe(i),o.add(()=>s.disconnect())}if(typeof IntersectionObserver<"u"){let s=new IntersectionObserver(()=>r.current(i));s.observe(i),o.add(()=>s.disconnect())}return()=>o.dispose()},[t,r,e])}let tD=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(","),plt=["[data-autofocus]"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var lg=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e[e.AutoFocus=64]="AutoFocus",e))(lg||{}),VU=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(VU||{}),mlt=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(mlt||{});function glt(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(tD)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function vlt(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(plt)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var qEe=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(qEe||{});function ylt(e,t=0){var n;return e===((n=zT(e))==null?void 0:n.body)?!1:D0(t,{0(){return e.matches(tD)},1(){let r=e;for(;r!==null;){if(r.matches(tD))return!0;r=r.parentElement}return!1}})}var blt=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(blt||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function _g(e){e==null||e.focus({preventScroll:!0})}let wlt=["textarea","input"].join(",");function xlt(e){var t,n;return(n=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,wlt))!=null?n:!1}function Slt(e,t=n=>n){return e.slice().sort((n,r)=>{let i=t(n),o=t(r);if(i===null||o===null)return 0;let s=i.compareDocumentPosition(o);return s&Node.DOCUMENT_POSITION_FOLLOWING?-1:s&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function pP(e,t,{sorted:n=!0,relativeTo:r=null,skipElements:i=[]}={}){let o=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,s=Array.isArray(e)?n?Slt(e):e:t&64?vlt(e):glt(e);i.length>0&&s.length>1&&(s=s.filter(g=>!i.some(v=>v!=null&&"current"in v?(v==null?void 0:v.current)===g:v===g))),r=r??o.activeElement;let a=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),l=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,s.indexOf(r))-1;if(t&4)return Math.max(0,s.indexOf(r))+1;if(t&8)return s.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=t&32?{preventScroll:!0}:{},c=0,f=s.length,p;do{if(c>=f||c+f<=0)return 0;let g=l+c;if(t&16)g=(g+f)%f;else{if(g<0)return 3;if(g>=f)return 1}p=s[g],p==null||p.focus(u),c+=a}while(p!==o.activeElement);return t&6&&xlt(p)&&p.select(),2}function GEe(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function _lt(){return/Android/gi.test(window.navigator.userAgent)}function Clt(){return GEe()||_lt()}function $E(e,t,n,r){let i=_x(n);h.useEffect(()=>{if(!e)return;function o(s){i.current(s)}return document.addEventListener(t,o,r),()=>document.removeEventListener(t,o,r)},[e,t,r])}function ZEe(e,t,n,r){let i=_x(n);h.useEffect(()=>{if(!e)return;function o(s){i.current(s)}return window.addEventListener(t,o,r),()=>window.removeEventListener(t,o,r)},[e,t,r])}const Nae=30;function Elt(e,t,n){let r=u3(e,"outside-click"),i=_x(n),o=h.useCallback(function(l,u){if(l.defaultPrevented)return;let c=u(l);if(c===null||!c.getRootNode().contains(c)||!c.isConnected)return;let f=function p(g){return typeof g=="function"?p(g()):Array.isArray(g)||g instanceof Set?g:[g]}(t);for(let p of f)if(p!==null&&(p.contains(c)||l.composed&&l.composedPath().includes(p)))return;return!ylt(c,qEe.Loose)&&c.tabIndex!==-1&&l.preventDefault(),i.current(l,c)},[i,t]),s=h.useRef(null);$E(r,"pointerdown",l=>{var u,c;s.current=((c=(u=l.composedPath)==null?void 0:u.call(l))==null?void 0:c[0])||l.target},!0),$E(r,"mousedown",l=>{var u,c;s.current=((c=(u=l.composedPath)==null?void 0:u.call(l))==null?void 0:c[0])||l.target},!0),$E(r,"click",l=>{Clt()||s.current&&(o(l,()=>s.current),s.current=null)},!0);let a=h.useRef({x:0,y:0});$E(r,"touchstart",l=>{a.current.x=l.touches[0].clientX,a.current.y=l.touches[0].clientY},!0),$E(r,"touchend",l=>{let u={x:l.changedTouches[0].clientX,y:l.changedTouches[0].clientY};if(!(Math.abs(u.x-a.current.x)>=Nae||Math.abs(u.y-a.current.y)>=Nae))return o(l,()=>l.target instanceof HTMLElement?l.target:null)},!0),ZEe(r,"blur",l=>o(l,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function o7(...e){return h.useMemo(()=>zT(...e),[...e])}function YEe(e,t,n,r){let i=_x(n);h.useEffect(()=>{e=e??window;function o(s){i.current(s)}return e.addEventListener(t,o,r),()=>e.removeEventListener(t,o,r)},[e,t,r])}function klt(){let e;return{before({doc:t}){var n;let r=t.documentElement,i=(n=t.defaultView)!=null?n:window;e=Math.max(0,i.innerWidth-r.clientWidth)},after({doc:t,d:n}){let r=t.documentElement,i=Math.max(0,r.clientWidth-r.offsetWidth),o=Math.max(0,e-i);n.style(r,"paddingRight",`${o}px`)}}}function Plt(){return GEe()?{before({doc:e,d:t,meta:n}){function r(i){return n.containers.flatMap(o=>o()).some(o=>o.contains(i))}t.microTask(()=>{var i;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let a=o1();a.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>a.dispose()))}let o=(i=window.scrollY)!=null?i:window.pageYOffset,s=null;t.addEventListener(e,"click",a=>{if(a.target instanceof HTMLElement)try{let l=a.target.closest("a");if(!l)return;let{hash:u}=new URL(l.href),c=e.querySelector(u);c&&!r(c)&&(s=c)}catch{}},!0),t.addEventListener(e,"touchstart",a=>{if(a.target instanceof HTMLElement)if(r(a.target)){let l=a.target;for(;l.parentElement&&r(l.parentElement);)l=l.parentElement;t.style(l,"overscrollBehavior","contain")}else t.style(a.target,"touchAction","none")}),t.addEventListener(e,"touchmove",a=>{if(a.target instanceof HTMLElement){if(a.target.tagName==="INPUT")return;if(r(a.target)){let l=a.target;for(;l.parentElement&&l.dataset.headlessuiPortal!==""&&!(l.scrollHeight>l.clientHeight||l.scrollWidth>l.clientWidth);)l=l.parentElement;l.dataset.headlessuiPortal===""&&a.preventDefault()}else a.preventDefault()}},{passive:!1}),t.add(()=>{var a;let l=(a=window.scrollY)!=null?a:window.pageYOffset;o!==l&&window.scrollTo(0,o),s&&s.isConnected&&(s.scrollIntoView({block:"nearest"}),s=null)})})}}:{}}function $lt(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function Tlt(e){let t={};for(let n of e)Object.assign(t,n(t));return t}let Eb=WEe(()=>new Map,{PUSH(e,t){var n;let r=(n=this.get(e))!=null?n:{doc:e,count:0,d:o1(),meta:new Set};return r.count++,r.meta.add(t),this.set(e,r),this},POP(e,t){let n=this.get(e);return n&&(n.count--,n.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:n}){let r={doc:e,d:t,meta:Tlt(n)},i=[Plt(),klt(),$lt()];i.forEach(({before:o})=>o==null?void 0:o(r)),i.forEach(({after:o})=>o==null?void 0:o(r))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});Eb.subscribe(()=>{let e=Eb.getSnapshot(),t=new Map;for(let[n]of e)t.set(n,n.documentElement.style.overflow);for(let n of e.values()){let r=t.get(n.doc)==="hidden",i=n.count!==0;(i&&!r||!i&&r)&&Eb.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&Eb.dispatch("TEARDOWN",n)}});function Mlt(e,t,n=()=>({containers:[]})){let r=KEe(Eb),i=t?r.get(t):void 0,o=i?i.count>0:!1;return au(()=>{if(!(!t||!e))return Eb.dispatch("PUSH",t,n),()=>Eb.dispatch("POP",t,n)},[e,t]),o}function Llt(e,t,n=()=>[document.body]){let r=u3(e,"scroll-lock");Mlt(r,t,i=>{var o;return{containers:[...(o=i.containers)!=null?o:[],n]}})}function Alt(e=0){let[t,n]=h.useState(e),r=h.useCallback(l=>n(l),[t]),i=h.useCallback(l=>n(u=>u|l),[t]),o=h.useCallback(l=>(t&l)===l,[t]),s=h.useCallback(l=>n(u=>u&~l),[n]),a=h.useCallback(l=>n(u=>u^l),[n]);return{flags:t,setFlag:r,addFlag:i,hasFlag:o,removeFlag:s,toggleFlag:a}}var Ilt={},Fae,Bae;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((Fae=process==null?void 0:Ilt)==null?void 0:Fae.NODE_ENV)==="test"&&typeof((Bae=Element==null?void 0:Element.prototype)==null?void 0:Bae.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var Rlt=(e=>(e[e.None=0]="None",e[e.Closed=1]="Closed",e[e.Enter=2]="Enter",e[e.Leave=4]="Leave",e))(Rlt||{});function Dlt(e){let t={};for(let n in e)e[n]===!0&&(t[`data-${n}`]="");return t}function Olt(e,t,n,r){let[i,o]=h.useState(n),{hasFlag:s,addFlag:a,removeFlag:l}=Alt(e&&i?3:0),u=h.useRef(!1),c=h.useRef(!1),f=i7();return au(()=>{var p;if(e){if(n&&o(!0),!t){n&&a(3);return}return(p=r==null?void 0:r.start)==null||p.call(r,n),jlt(t,{inFlight:u,prepare(){c.current?c.current=!1:c.current=u.current,u.current=!0,!c.current&&(n?(a(3),l(4)):(a(4),l(2)))},run(){c.current?n?(l(3),a(4)):(l(4),a(3)):n?l(1):a(1)},done(){var g;c.current&&typeof t.getAnimations=="function"&&t.getAnimations().length>0||(u.current=!1,l(7),n||o(!1),(g=r==null?void 0:r.end)==null||g.call(r,n))}})}},[e,n,t,f]),e?[i,{closed:s(1),enter:s(2),leave:s(4),transition:s(2)||s(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function jlt(e,{prepare:t,run:n,done:r,inFlight:i}){let o=o1();return Flt(e,{prepare:t,inFlight:i}),o.nextFrame(()=>{n(),o.requestAnimationFrame(()=>{o.add(Nlt(e,r))})}),o.dispose}function Nlt(e,t){var n,r;let i=o1();if(!e)return i.dispose;let o=!1;i.add(()=>{o=!0});let s=(r=(n=e.getAnimations)==null?void 0:n.call(e).filter(a=>a instanceof CSSTransition))!=null?r:[];return s.length===0?(t(),i.dispose):(Promise.allSettled(s.map(a=>a.finished)).then(()=>{o||t()}),i.dispose)}function Flt(e,{inFlight:t,prepare:n}){if(t!=null&&t.current){n();return}let r=e.style.transition;e.style.transition="none",n(),e.offsetHeight,e.style.transition=r}function yQ(e,t){let n=h.useRef([]),r=_o(e);h.useEffect(()=>{let i=[...n.current];for(let[o,s]of t.entries())if(n.current[o]!==s){let a=r(t,i);return n.current=t,a}},[r,...t])}let s7=h.createContext(null);s7.displayName="OpenClosedContext";var th=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(th||{});function a7(){return h.useContext(s7)}function Blt({value:e,children:t}){return ne.createElement(s7.Provider,{value:e},t)}function zlt({children:e}){return ne.createElement(s7.Provider,{value:null},e)}function Hlt(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let hy=[];Hlt(()=>{function e(t){if(!(t.target instanceof HTMLElement)||t.target===document.body||hy[0]===t.target)return;let n=t.target;n=n.closest(tD),hy.unshift(n??t.target),hy=hy.filter(r=>r!=null&&r.isConnected),hy.splice(10)}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function XEe(e){let t=_o(e),n=h.useRef(!1);h.useEffect(()=>(n.current=!1,()=>{n.current=!0,r7(()=>{n.current&&t()})}),[t])}function Vlt(){let e=typeof document>"u";return"useSyncExternalStore"in UP?(t=>t.useSyncExternalStore)(UP)(()=>()=>{},()=>!1,()=>!e):!1}function HT(){let e=Vlt(),[t,n]=h.useState(kw.isHandoffComplete);return t&&kw.isHandoffComplete===!1&&n(!1),h.useEffect(()=>{t!==!0&&n(!0)},[t]),h.useEffect(()=>kw.handoff(),[]),e?!1:t}let QEe=h.createContext(!1);function Ult(){return h.useContext(QEe)}function zae(e){return ne.createElement(QEe.Provider,{value:e.force},e.children)}function Wlt(e){let t=Ult(),n=h.useContext(eke),[r,i]=h.useState(()=>{var o;if(!t&&n!==null)return(o=n.current)!=null?o:null;if(kw.isServer)return null;let s=e==null?void 0:e.getElementById("headlessui-portal-root");if(s)return s;if(e===null)return null;let a=e.createElement("div");return a.setAttribute("id","headlessui-portal-root"),e.body.appendChild(a)});return h.useEffect(()=>{r!==null&&(e!=null&&e.body.contains(r)||e==null||e.body.appendChild(r))},[r,e]),h.useEffect(()=>{t||n!==null&&i(n.current)},[n,i,t]),r}let JEe=h.Fragment,Klt=Ol(function(e,t){let{ownerDocument:n=null,...r}=e,i=h.useRef(null),o=tm(elt(g=>{i.current=g}),t),s=o7(i),a=n??s,l=Wlt(a),[u]=h.useState(()=>{var g;return kw.isServer?null:(g=a==null?void 0:a.createElement("div"))!=null?g:null}),c=h.useContext(UU),f=HT();au(()=>{!l||!u||l.contains(u)||(u.setAttribute("data-headlessui-portal",""),l.appendChild(u))},[l,u]),au(()=>{if(u&&c)return c.register(u)},[c,u]),XEe(()=>{var g;!l||!u||(u instanceof Node&&l.contains(u)&&l.removeChild(u),l.childNodes.length<=0&&((g=l.parentElement)==null||g.removeChild(l)))});let p=cd();return f?!l||!u?null:ai.createPortal(p({ourProps:{ref:o},theirProps:r,slot:{},defaultTag:JEe,name:"Portal"}),u):null});function qlt(e,t){let n=tm(t),{enabled:r=!0,ownerDocument:i,...o}=e,s=cd();return r?ne.createElement(Klt,{...o,ownerDocument:i,ref:n}):s({ourProps:{ref:n},theirProps:o,slot:{},defaultTag:JEe,name:"Portal"})}let Glt=h.Fragment,eke=h.createContext(null);function Zlt(e,t){let{target:n,...r}=e,i={ref:tm(t)},o=cd();return ne.createElement(eke.Provider,{value:n},o({ourProps:i,theirProps:r,defaultTag:Glt,name:"Popover.Group"}))}let UU=h.createContext(null);function Ylt(){let e=h.useContext(UU),t=h.useRef([]),n=_o(o=>(t.current.push(o),e&&e.register(o),()=>r(o))),r=_o(o=>{let s=t.current.indexOf(o);s!==-1&&t.current.splice(s,1),e&&e.unregister(o)}),i=h.useMemo(()=>({register:n,unregister:r,portals:t}),[n,r,t]);return[t,h.useMemo(()=>function({children:o}){return ne.createElement(UU.Provider,{value:i},o)},[i])]}let Xlt=Ol(qlt),tke=Ol(Zlt),Qlt=Object.assign(Xlt,{Group:tke});function Jlt(e,t=typeof document<"u"?document.defaultView:null,n){let r=u3(e,"escape");YEe(t,"keydown",i=>{r&&(i.defaultPrevented||i.key===VEe.Escape&&n(i))})}function eut(){var e;let[t]=h.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[n,r]=h.useState((e=t==null?void 0:t.matches)!=null?e:!1);return au(()=>{if(!t)return;function i(o){r(o.matches)}return t.addEventListener("change",i),()=>t.removeEventListener("change",i)},[t]),n}function tut({defaultContainers:e=[],portals:t,mainTreeNode:n}={}){let r=o7(n),i=_o(()=>{var o,s;let a=[];for(let l of e)l!==null&&(l instanceof HTMLElement?a.push(l):"current"in l&&l.current instanceof HTMLElement&&a.push(l.current));if(t!=null&&t.current)for(let l of t.current)a.push(l);for(let l of(o=r==null?void 0:r.querySelectorAll("html > *, body > *"))!=null?o:[])l!==document.body&&l!==document.head&&l instanceof HTMLElement&&l.id!=="headlessui-portal-root"&&(n&&(l.contains(n)||l.contains((s=n==null?void 0:n.getRootNode())==null?void 0:s.host))||a.some(u=>l.contains(u))||a.push(l));return a});return{resolveContainers:i,contains:_o(o=>i().some(s=>s.contains(o)))}}let nke=h.createContext(null);function Hae({children:e,node:t}){let[n,r]=h.useState(null),i=rke(t??n);return ne.createElement(nke.Provider,{value:i},e,i===null&&ne.createElement(zU,{features:eD.Hidden,ref:o=>{var s,a;if(o){for(let l of(a=(s=zT(o))==null?void 0:s.querySelectorAll("html > *, body > *"))!=null?a:[])if(l!==document.body&&l!==document.head&&l instanceof HTMLElement&&l!=null&&l.contains(o)){r(l);break}}}}))}function rke(e=null){var t;return(t=h.useContext(nke))!=null?t:e}function bQ(){let e=h.useRef(!1);return au(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var vk=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(vk||{});function nut(){let e=h.useRef(0);return ZEe(!0,"keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function ike(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let n of e.current)n.current instanceof HTMLElement&&t.add(n.current);return t}let rut="div";var db=(e=>(e[e.None=0]="None",e[e.InitialFocus=1]="InitialFocus",e[e.TabLock=2]="TabLock",e[e.FocusLock=4]="FocusLock",e[e.RestoreFocus=8]="RestoreFocus",e[e.AutoFocus=16]="AutoFocus",e))(db||{});function iut(e,t){let n=h.useRef(null),r=tm(n,t),{initialFocus:i,initialFocusFallback:o,containers:s,features:a=15,...l}=e;HT()||(a=0);let u=o7(n);lut(a,{ownerDocument:u});let c=uut(a,{ownerDocument:u,container:n,initialFocus:i,initialFocusFallback:o});cut(a,{ownerDocument:u,container:n,containers:s,previousActiveElement:c});let f=nut(),p=_o(_=>{let k=n.current;k&&(w=>w())(()=>{D0(f.current,{[vk.Forwards]:()=>{pP(k,lg.First,{skipElements:[_.relatedTarget,o]})},[vk.Backwards]:()=>{pP(k,lg.Last,{skipElements:[_.relatedTarget,o]})}})})}),g=u3(!!(a&2),"focus-trap#tab-lock"),v=i7(),y=h.useRef(!1),S={ref:r,onKeyDown(_){_.key=="Tab"&&(y.current=!0,v.requestAnimationFrame(()=>{y.current=!1}))},onBlur(_){if(!(a&4))return;let k=ike(s);n.current instanceof HTMLElement&&k.add(n.current);let w=_.relatedTarget;w instanceof HTMLElement&&w.dataset.headlessuiFocusGuard!=="true"&&(oke(k,w)||(y.current?pP(n.current,D0(f.current,{[vk.Forwards]:()=>lg.Next,[vk.Backwards]:()=>lg.Previous})|lg.WrapAround,{relativeTo:_.target}):_.target instanceof HTMLElement&&_g(_.target)))}},C=cd();return ne.createElement(ne.Fragment,null,g&&ne.createElement(zU,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:p,features:eD.Focusable}),C({ourProps:S,theirProps:l,defaultTag:rut,name:"FocusTrap"}),g&&ne.createElement(zU,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:p,features:eD.Focusable}))}let out=Ol(iut),sut=Object.assign(out,{features:db});function aut(e=!0){let t=h.useRef(hy.slice());return yQ(([n],[r])=>{r===!0&&n===!1&&r7(()=>{t.current.splice(0)}),r===!1&&n===!0&&(t.current=hy.slice())},[e,hy,t]),_o(()=>{var n;return(n=t.current.find(r=>r!=null&&r.isConnected))!=null?n:null})}function lut(e,{ownerDocument:t}){let n=!!(e&8),r=aut(n);yQ(()=>{n||(t==null?void 0:t.activeElement)===(t==null?void 0:t.body)&&_g(r())},[n]),XEe(()=>{n&&_g(r())})}function uut(e,{ownerDocument:t,container:n,initialFocus:r,initialFocusFallback:i}){let o=h.useRef(null),s=u3(!!(e&1),"focus-trap#initial-focus"),a=bQ();return yQ(()=>{if(e===0)return;if(!s){i!=null&&i.current&&_g(i.current);return}let l=n.current;l&&r7(()=>{if(!a.current)return;let u=t==null?void 0:t.activeElement;if(r!=null&&r.current){if((r==null?void 0:r.current)===u){o.current=u;return}}else if(l.contains(u)){o.current=u;return}if(r!=null&&r.current)_g(r.current);else{if(e&16){if(pP(l,lg.First|lg.AutoFocus)!==VU.Error)return}else if(pP(l,lg.First)!==VU.Error)return;if(i!=null&&i.current&&(_g(i.current),(t==null?void 0:t.activeElement)===i.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}o.current=t==null?void 0:t.activeElement})},[i,s,e]),o}function cut(e,{ownerDocument:t,container:n,containers:r,previousActiveElement:i}){let o=bQ(),s=!!(e&4);YEe(t==null?void 0:t.defaultView,"focus",a=>{if(!s||!o.current)return;let l=ike(r);n.current instanceof HTMLElement&&l.add(n.current);let u=i.current;if(!u)return;let c=a.target;c&&c instanceof HTMLElement?oke(l,c)?(i.current=c,_g(c)):(a.preventDefault(),a.stopPropagation(),_g(u)):_g(i.current)},!0)}function oke(e,t){for(let n of e)if(n.contains(t))return!0;return!1}function ske(e){var t;return!!(e.enter||e.enterFrom||e.enterTo||e.leave||e.leaveFrom||e.leaveTo)||((t=e.as)!=null?t:lke)!==h.Fragment||ne.Children.count(e.children)===1}let l7=h.createContext(null);l7.displayName="TransitionContext";var dut=(e=>(e.Visible="visible",e.Hidden="hidden",e))(dut||{});function fut(){let e=h.useContext(l7);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function hut(){let e=h.useContext(u7);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let u7=h.createContext(null);u7.displayName="NestingContext";function c7(e){return"children"in e?c7(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function ake(e,t){let n=_x(e),r=h.useRef([]),i=bQ(),o=i7(),s=_o((g,v=s0.Hidden)=>{let y=r.current.findIndex(({el:S})=>S===g);y!==-1&&(D0(v,{[s0.Unmount](){r.current.splice(y,1)},[s0.Hidden](){r.current[y].state="hidden"}}),o.microTask(()=>{var S;!c7(r)&&i.current&&((S=n.current)==null||S.call(n))}))}),a=_o(g=>{let v=r.current.find(({el:y})=>y===g);return v?v.state!=="visible"&&(v.state="visible"):r.current.push({el:g,state:"visible"}),()=>s(g,s0.Unmount)}),l=h.useRef([]),u=h.useRef(Promise.resolve()),c=h.useRef({enter:[],leave:[]}),f=_o((g,v,y)=>{l.current.splice(0),t&&(t.chains.current[v]=t.chains.current[v].filter(([S])=>S!==g)),t==null||t.chains.current[v].push([g,new Promise(S=>{l.current.push(S)})]),t==null||t.chains.current[v].push([g,new Promise(S=>{Promise.all(c.current[v].map(([C,_])=>_)).then(()=>S())})]),v==="enter"?u.current=u.current.then(()=>t==null?void 0:t.wait.current).then(()=>y(v)):y(v)}),p=_o((g,v,y)=>{Promise.all(c.current[v].splice(0).map(([S,C])=>C)).then(()=>{var S;(S=l.current.shift())==null||S()}).then(()=>y(v))});return h.useMemo(()=>({children:r,register:a,unregister:s,onStart:f,onStop:p,wait:u,chains:c}),[a,s,r,f,p,c,u])}let lke=h.Fragment,uke=JR.RenderStrategy;function put(e,t){var n,r;let{transition:i=!0,beforeEnter:o,afterEnter:s,beforeLeave:a,afterLeave:l,enter:u,enterFrom:c,enterTo:f,entered:p,leave:g,leaveFrom:v,leaveTo:y,...S}=e,[C,_]=h.useState(null),k=h.useRef(null),w=ske(e),P=tm(...w?[k,t,_]:t===null?[]:[t]),M=(n=S.unmount)==null||n?s0.Unmount:s0.Hidden,{show:R,appear:D,initial:H}=fut(),[O,z]=h.useState(R?"visible":"hidden"),G=hut(),{register:ee,unregister:X}=G;au(()=>ee(k),[ee,k]),au(()=>{if(M===s0.Hidden&&k.current){if(R&&O!=="visible"){z("visible");return}return D0(O,{hidden:()=>X(k),visible:()=>ee(k)})}},[O,k,ee,X,R,M]);let se=HT();au(()=>{if(w&&se&&O==="visible"&&k.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[k,O,se,w]);let B=H&&!D,q=D&&R&&H,U=h.useRef(!1),K=ake(()=>{U.current||(z("hidden"),X(k))},G),J=_o(we=>{U.current=!0;let Me=we?"enter":"leave";K.onStart(k,Me,Be=>{Be==="enter"?o==null||o():Be==="leave"&&(a==null||a())})}),oe=_o(we=>{let Me=we?"enter":"leave";U.current=!1,K.onStop(k,Me,Be=>{Be==="enter"?s==null||s():Be==="leave"&&(l==null||l())}),Me==="leave"&&!c7(K)&&(z("hidden"),X(k))});h.useEffect(()=>{w&&i||(J(R),oe(R))},[R,w,i]);let he=!(!i||!w||!se||B),[,me]=Olt(he,C,R,{start:J,end:oe}),re=q1({ref:P,className:((r=BU(S.className,q&&u,q&&c,me.enter&&u,me.enter&&me.closed&&c,me.enter&&!me.closed&&f,me.leave&&g,me.leave&&!me.closed&&v,me.leave&&me.closed&&y,!me.transition&&R&&p))==null?void 0:r.trim())||void 0,...Dlt(me)}),ue=0;O==="visible"&&(ue|=th.Open),O==="hidden"&&(ue|=th.Closed),R&&O==="hidden"&&(ue|=th.Opening),!R&&O==="visible"&&(ue|=th.Closing);let ce=cd();return ne.createElement(u7.Provider,{value:K},ne.createElement(Blt,{value:ue},ce({ourProps:re,theirProps:S,defaultTag:lke,features:uke,visible:O==="visible",name:"Transition.Child"})))}function mut(e,t){let{show:n,appear:r=!1,unmount:i=!0,...o}=e,s=h.useRef(null),a=ske(e),l=tm(...a?[s,t]:t===null?[]:[t]);HT();let u=a7();if(n===void 0&&u!==null&&(n=(u&th.Open)===th.Open),n===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[c,f]=h.useState(n?"visible":"hidden"),p=ake(()=>{n||f("hidden")}),[g,v]=h.useState(!0),y=h.useRef([n]);au(()=>{g!==!1&&y.current[y.current.length-1]!==n&&(y.current.push(n),v(!1))},[y,n]);let S=h.useMemo(()=>({show:n,appear:r,initial:g}),[n,r,g]);au(()=>{n?f("visible"):!c7(p)&&s.current!==null&&f("hidden")},[n,p]);let C={unmount:i},_=_o(()=>{var P;g&&v(!1),(P=e.beforeEnter)==null||P.call(e)}),k=_o(()=>{var P;g&&v(!1),(P=e.beforeLeave)==null||P.call(e)}),w=cd();return ne.createElement(u7.Provider,{value:p},ne.createElement(l7.Provider,{value:S},w({ourProps:{...C,as:h.Fragment,children:ne.createElement(cke,{ref:l,...C,...o,beforeEnter:_,beforeLeave:k})},theirProps:{},defaultTag:h.Fragment,features:uke,visible:c==="visible",name:"Transition"})))}function gut(e,t){let n=h.useContext(l7)!==null,r=a7()!==null;return ne.createElement(ne.Fragment,null,!n&&r?ne.createElement(WU,{ref:t,...e}):ne.createElement(cke,{ref:t,...e}))}let WU=Ol(mut),cke=Ol(put),wQ=Ol(gut),vut=Object.assign(WU,{Child:wQ,Root:WU});var yut=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(yut||{}),but=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(but||{});let wut={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},xQ=h.createContext(null);xQ.displayName="DialogContext";function d7(e){let t=h.useContext(xQ);if(t===null){let n=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,d7),n}return t}function xut(e,t){return D0(t.type,wut,e,t)}let Vae=Ol(function(e,t){let n=h.useId(),{id:r=`headlessui-dialog-${n}`,open:i,onClose:o,initialFocus:s,role:a="dialog",autoFocus:l=!0,__demoMode:u=!1,unmount:c=!1,...f}=e,p=h.useRef(!1);a=function(){return a==="dialog"||a==="alertdialog"?a:(p.current||(p.current=!0,console.warn(`Invalid role [${a}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let g=a7();i===void 0&&g!==null&&(i=(g&th.Open)===th.Open);let v=h.useRef(null),y=tm(v,t),S=o7(v),C=i?0:1,[_,k]=h.useReducer(xut,{titleId:null,descriptionId:null,panelRef:h.createRef()}),w=_o(()=>o(!1)),P=_o(oe=>k({type:0,id:oe})),M=HT()?C===0:!1,[R,D]=Ylt(),H={get current(){var oe;return(oe=_.panelRef.current)!=null?oe:v.current}},O=rke(),{resolveContainers:z}=tut({mainTreeNode:O,portals:R,defaultContainers:[H]}),G=g!==null?(g&th.Closing)===th.Closing:!1;flt(u||G?!1:M,{allowed:_o(()=>{var oe,he;return[(he=(oe=v.current)==null?void 0:oe.closest("[data-headlessui-portal]"))!=null?he:null]}),disallowed:_o(()=>{var oe;return[(oe=O==null?void 0:O.closest("body > *:not(#headlessui-portal-root)"))!=null?oe:null]})}),Elt(M,z,oe=>{oe.preventDefault(),w()}),Jlt(M,S==null?void 0:S.defaultView,oe=>{oe.preventDefault(),oe.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),w()}),Llt(u||G?!1:M,S,z),hlt(M,v,w);let[ee,X]=tlt(),se=h.useMemo(()=>[{dialogState:C,close:w,setTitleId:P,unmount:c},_],[C,_,w,P,c]),B=h.useMemo(()=>({open:C===0}),[C]),q={ref:y,id:r,role:a,tabIndex:-1,"aria-modal":u?void 0:C===0?!0:void 0,"aria-labelledby":_.titleId,"aria-describedby":ee,unmount:c},U=!eut(),K=db.None;M&&!u&&(K|=db.RestoreFocus,K|=db.TabLock,l&&(K|=db.AutoFocus),U&&(K|=db.InitialFocus));let J=cd();return ne.createElement(zlt,null,ne.createElement(zae,{force:!0},ne.createElement(Qlt,null,ne.createElement(xQ.Provider,{value:se},ne.createElement(tke,{target:v},ne.createElement(zae,{force:!1},ne.createElement(X,{slot:B},ne.createElement(D,null,ne.createElement(sut,{initialFocus:s,initialFocusFallback:v,containers:z,features:K},ne.createElement(alt,{value:w},J({ourProps:q,theirProps:f,slot:B,defaultTag:Sut,features:_ut,visible:C===0,name:"Dialog"})))))))))))}),Sut="div",_ut=JR.RenderStrategy|JR.Static;function Cut(e,t){let{transition:n=!1,open:r,...i}=e,o=a7(),s=e.hasOwnProperty("open")||o!==null,a=e.hasOwnProperty("onClose");if(!s&&!a)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!s)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!a)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!o&&typeof e.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${e.open}`);if(typeof e.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${e.onClose}`);return(r!==void 0||n)&&!i.static?ne.createElement(Hae,null,ne.createElement(vut,{show:r,transition:n,unmount:i.unmount},ne.createElement(Vae,{ref:t,...i}))):ne.createElement(Hae,null,ne.createElement(Vae,{ref:t,open:r,...i}))}let Eut="div";function kut(e,t){let n=h.useId(),{id:r=`headlessui-dialog-panel-${n}`,transition:i=!1,...o}=e,[{dialogState:s,unmount:a},l]=d7("Dialog.Panel"),u=tm(t,l.panelRef),c=h.useMemo(()=>({open:s===0}),[s]),f=_o(S=>{S.stopPropagation()}),p={ref:u,id:r,onClick:f},g=i?wQ:h.Fragment,v=i?{unmount:a}:{},y=cd();return ne.createElement(g,{...v},y({ourProps:p,theirProps:o,slot:c,defaultTag:Eut,name:"Dialog.Panel"}))}let Put="div";function $ut(e,t){let{transition:n=!1,...r}=e,[{dialogState:i,unmount:o}]=d7("Dialog.Backdrop"),s=h.useMemo(()=>({open:i===0}),[i]),a={ref:t,"aria-hidden":!0},l=n?wQ:h.Fragment,u=n?{unmount:o}:{},c=cd();return ne.createElement(l,{...u},c({ourProps:a,theirProps:r,slot:s,defaultTag:Put,name:"Dialog.Backdrop"}))}let Tut="h2";function Mut(e,t){let n=h.useId(),{id:r=`headlessui-dialog-title-${n}`,...i}=e,[{dialogState:o,setTitleId:s}]=d7("Dialog.Title"),a=tm(t);h.useEffect(()=>(s(r),()=>s(null)),[r,s]);let l=h.useMemo(()=>({open:o===0}),[o]),u={ref:a,id:r};return cd()({ourProps:u,theirProps:i,slot:l,defaultTag:Tut,name:"Dialog.Title"})}let Lut=Ol(Cut),dke=Ol(kut);Ol($ut);let fke=Ol(Mut),Aut=Object.assign(Lut,{Panel:dke,Title:fke,Description:olt});if(typeof HTMLTemplateElement<"u"){const e=Object.getOwnPropertyDescriptor(Node.prototype,"firstChild").get;Object.defineProperty(HTMLTemplateElement.prototype,"firstChild",{configurable:!0,enumerable:!0,get:function(){return this.dataset.reactAriaHidden?this.content.firstChild:e.call(this)}})}const Iut=h.createContext(!1);typeof DocumentFragment<"u"&&new DocumentFragment;function Rut(e){let t=(n,r)=>h.useContext(Iut)?null:e(n,r);return t.displayName=e.displayName||e.name,h.forwardRef(t)}var hke={exports:{}};(function(e){/*! showdown v 2.1.0 - 21-04-2022 */(function(){function t(w){var P={omitExtraWLInCodeBlocks:{defaultValue:!1,describe:"Omit the default extra whiteline added to code blocks",type:"boolean"},noHeaderId:{defaultValue:!1,describe:"Turn on/off generated header id",type:"boolean"},prefixHeaderId:{defaultValue:!1,describe:"Add a prefix to the generated header ids. Passing a string will prefix that string to the header id. Setting to true will add a generic 'section-' prefix",type:"string"},rawPrefixHeaderId:{defaultValue:!1,describe:'Setting this option to true will prevent showdown from modifying the prefix. This might result in malformed IDs (if, for instance, the " char is used in the prefix)',type:"boolean"},ghCompatibleHeaderId:{defaultValue:!1,describe:"Generate header ids compatible with github style (spaces are replaced with dashes, a bunch of non alphanumeric chars are removed)",type:"boolean"},rawHeaderId:{defaultValue:!1,describe:`Remove only spaces, ' and " from generated header ids (including prefixes), replacing them with dashes (-). WARNING: This might result in malformed ids`,type:"boolean"},headerLevelStart:{defaultValue:!1,describe:"The header blocks level start",type:"integer"},parseImgDimensions:{defaultValue:!1,describe:"Turn on/off image dimension parsing",type:"boolean"},simplifiedAutoLink:{defaultValue:!1,describe:"Turn on/off GFM autolink style",type:"boolean"},excludeTrailingPunctuationFromURLs:{defaultValue:!1,describe:"Excludes trailing punctuation from links generated with autoLinking",type:"boolean"},literalMidWordUnderscores:{defaultValue:!1,describe:"Parse midword underscores as literal underscores",type:"boolean"},literalMidWordAsterisks:{defaultValue:!1,describe:"Parse midword asterisks as literal asterisks",type:"boolean"},strikethrough:{defaultValue:!1,describe:"Turn on/off strikethrough support",type:"boolean"},tables:{defaultValue:!1,describe:"Turn on/off tables support",type:"boolean"},tablesHeaderId:{defaultValue:!1,describe:"Add an id to table headers",type:"boolean"},ghCodeBlocks:{defaultValue:!0,describe:"Turn on/off GFM fenced code blocks support",type:"boolean"},tasklists:{defaultValue:!1,describe:"Turn on/off GFM tasklist support",type:"boolean"},smoothLivePreview:{defaultValue:!1,describe:"Prevents weird effects in live previews due to incomplete input",type:"boolean"},smartIndentationFix:{defaultValue:!1,describe:"Tries to smartly fix indentation in es6 strings",type:"boolean"},disableForced4SpacesIndentedSublists:{defaultValue:!1,describe:"Disables the requirement of indenting nested sublists by 4 spaces",type:"boolean"},simpleLineBreaks:{defaultValue:!1,describe:"Parses simple line breaks as <br> (GFM Style)",type:"boolean"},requireSpaceBeforeHeadingText:{defaultValue:!1,describe:"Makes adding a space between `#` and the header text mandatory (GFM Style)",type:"boolean"},ghMentions:{defaultValue:!1,describe:"Enables github @mentions",type:"boolean"},ghMentionsLink:{defaultValue:"https://github.com/{u}",describe:"Changes the link generated by @mentions. Only applies if ghMentions option is enabled.",type:"string"},encodeEmails:{defaultValue:!0,describe:"Encode e-mail addresses through the use of Character Entities, transforming ASCII e-mail addresses into its equivalent decimal entities",type:"boolean"},openLinksInNewWindow:{defaultValue:!1,describe:"Open all links in new windows",type:"boolean"},backslashEscapesHTMLTags:{defaultValue:!1,describe:"Support for HTML Tag escaping. ex: <div>foo</div>",type:"boolean"},emoji:{defaultValue:!1,describe:"Enable emoji support. Ex: `this is a :smile: emoji`",type:"boolean"},underline:{defaultValue:!1,describe:"Enable support for underline. Syntax is double or triple underscores: `__underline word__`. With this option enabled, underscores no longer parses into `<em>` and `<strong>`",type:"boolean"},ellipsis:{defaultValue:!0,describe:"Replaces three dots with the ellipsis unicode character",type:"boolean"},completeHTMLDocument:{defaultValue:!1,describe:"Outputs a complete html document, including `<html>`, `<head>` and `<body>` tags",type:"boolean"},metadata:{defaultValue:!1,describe:"Enable support for document metadata (defined at the top of the document between `` and `` or between `---` and `---`).",type:"boolean"},splitAdjacentBlockquotes:{defaultValue:!1,describe:"Split adjacent blockquote blocks",type:"boolean"}};if(w===!1)return JSON.parse(JSON.stringify(P));var M={};for(var R in P)P.hasOwnProperty(R)&&(M[R]=P[R].defaultValue);return M}function n(){var w=t(!0),P={};for(var M in w)w.hasOwnProperty(M)&&(P[M]=!0);return P}var r={},i={},o={},s=t(!0),a="vanilla",l={github:{omitExtraWLInCodeBlocks:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,disableForced4SpacesIndentedSublists:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghCompatibleHeaderId:!0,ghMentions:!0,backslashEscapesHTMLTags:!0,emoji:!0,splitAdjacentBlockquotes:!0},original:{noHeaderId:!0,ghCodeBlocks:!1},ghost:{omitExtraWLInCodeBlocks:!0,parseImgDimensions:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,smoothLivePreview:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghMentions:!1,encodeEmails:!0},vanilla:t(!0),allOn:n()};r.helper={},r.extensions={},r.setOption=function(w,P){return s[w]=P,this},r.getOption=function(w){return s[w]},r.getOptions=function(){return s},r.resetOptions=function(){s=t(!0)},r.setFlavor=function(w){if(!l.hasOwnProperty(w))throw Error(w+" flavor was not found");r.resetOptions();var P=l[w];a=w;for(var M in P)P.hasOwnProperty(M)&&(s[M]=P[M])},r.getFlavor=function(){return a},r.getFlavorOptions=function(w){if(l.hasOwnProperty(w))return l[w]},r.getDefaultOptions=function(w){return t(w)},r.subParser=function(w,P){if(r.helper.isString(w))if(typeof P<"u")i[w]=P;else{if(i.hasOwnProperty(w))return i[w];throw Error("SubParser named "+w+" not registered!")}},r.extension=function(w,P){if(!r.helper.isString(w))throw Error("Extension 'name' must be a string");if(w=r.helper.stdExtName(w),r.helper.isUndefined(P)){if(!o.hasOwnProperty(w))throw Error("Extension named "+w+" is not registered!");return o[w]}else{typeof P=="function"&&(P=P()),r.helper.isArray(P)||(P=[P]);var M=u(P,w);if(M.valid)o[w]=P;else throw Error(M.error)}},r.getAllExtensions=function(){return o},r.removeExtension=function(w){delete o[w]},r.resetExtensions=function(){o={}};function u(w,P){var M=P?"Error in "+P+" extension->":"Error in unnamed extension",R={valid:!0,error:""};r.helper.isArray(w)||(w=[w]);for(var D=0;D<w.length;++D){var H=M+" sub-extension "+D+": ",O=w[D];if(typeof O!="object")return R.valid=!1,R.error=H+"must be an object, but "+typeof O+" given",R;if(!r.helper.isString(O.type))return R.valid=!1,R.error=H+'property "type" must be a string, but '+typeof O.type+" given",R;var z=O.type=O.type.toLowerCase();if(z==="language"&&(z=O.type="lang"),z==="html"&&(z=O.type="output"),z!=="lang"&&z!=="output"&&z!=="listener")return R.valid=!1,R.error=H+"type "+z+' is not recognized. Valid values: "lang/language", "output/html" or "listener"',R;if(z==="listener"){if(r.helper.isUndefined(O.listeners))return R.valid=!1,R.error=H+'. Extensions of type "listener" must have a property called "listeners"',R}else if(r.helper.isUndefined(O.filter)&&r.helper.isUndefined(O.regex))return R.valid=!1,R.error=H+z+' extensions must define either a "regex" property or a "filter" method',R;if(O.listeners){if(typeof O.listeners!="object")return R.valid=!1,R.error=H+'"listeners" property must be an object but '+typeof O.listeners+" given",R;for(var G in O.listeners)if(O.listeners.hasOwnProperty(G)&&typeof O.listeners[G]!="function")return R.valid=!1,R.error=H+'"listeners" property must be an hash of [event name]: [callback]. listeners.'+G+" must be a function but "+typeof O.listeners[G]+" given",R}if(O.filter){if(typeof O.filter!="function")return R.valid=!1,R.error=H+'"filter" must be a function, but '+typeof O.filter+" given",R}else if(O.regex){if(r.helper.isString(O.regex)&&(O.regex=new RegExp(O.regex,"g")),!(O.regex instanceof RegExp))return R.valid=!1,R.error=H+'"regex" property must either be a string or a RegExp object, but '+typeof O.regex+" given",R;if(r.helper.isUndefined(O.replace))return R.valid=!1,R.error=H+'"regex" extensions must implement a replace string or function',R}}return R}r.validateExtension=function(w){var P=u(w,null);return P.valid?!0:(console.warn(P.error),!1)},r.hasOwnProperty("helper")||(r.helper={}),r.helper.isString=function(w){return typeof w=="string"||w instanceof String},r.helper.isFunction=function(w){var P={};return w&&P.toString.call(w)==="[object Function]"},r.helper.isArray=function(w){return Array.isArray(w)},r.helper.isUndefined=function(w){return typeof w>"u"},r.helper.forEach=function(w,P){if(r.helper.isUndefined(w))throw new Error("obj param is required");if(r.helper.isUndefined(P))throw new Error("callback param is required");if(!r.helper.isFunction(P))throw new Error("callback param must be a function/closure");if(typeof w.forEach=="function")w.forEach(P);else if(r.helper.isArray(w))for(var M=0;M<w.length;M++)P(w[M],M,w);else if(typeof w=="object")for(var R in w)w.hasOwnProperty(R)&&P(w[R],R,w);else throw new Error("obj does not seem to be an array or an iterable object")},r.helper.stdExtName=function(w){return w.replace(/[_?*+\/\\.^-]/g,"").replace(/\s/g,"").toLowerCase()};function c(w,P){var M=P.charCodeAt(0);return"E"+M+"E"}r.helper.escapeCharactersCallback=c,r.helper.escapeCharacters=function(w,P,M){var R="(["+P.replace(/([\[\]\\])/g,"\\$1")+"])";M&&(R="\\\\"+R);var D=new RegExp(R,"g");return w=w.replace(D,c),w},r.helper.unescapeHTMLEntities=function(w){return w.replace(/&quot;/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")};var f=function(w,P,M,R){var D=R||"",H=D.indexOf("g")>-1,O=new RegExp(P+"|"+M,"g"+D.replace(/g/g,"")),z=new RegExp(P,D.replace(/g/g,"")),G=[],ee,X,se,B,q;do for(ee=0;se=O.exec(w);)if(z.test(se[0]))ee++||(X=O.lastIndex,B=X-se[0].length);else if(ee&&!--ee){q=se.index+se[0].length;var U={left:{start:B,end:X},match:{start:X,end:se.index},right:{start:se.index,end:q},wholeMatch:{start:B,end:q}};if(G.push(U),!H)return G}while(ee&&(O.lastIndex=X));return G};r.helper.matchRecursiveRegExp=function(w,P,M,R){for(var D=f(w,P,M,R),H=[],O=0;O<D.length;++O)H.push([w.slice(D[O].wholeMatch.start,D[O].wholeMatch.end),w.slice(D[O].match.start,D[O].match.end),w.slice(D[O].left.start,D[O].left.end),w.slice(D[O].right.start,D[O].right.end)]);return H},r.helper.replaceRecursiveRegExp=function(w,P,M,R,D){if(!r.helper.isFunction(P)){var H=P;P=function(){return H}}var O=f(w,M,R,D),z=w,G=O.length;if(G>0){var ee=[];O[0].wholeMatch.start!==0&&ee.push(w.slice(0,O[0].wholeMatch.start));for(var X=0;X<G;++X)ee.push(P(w.slice(O[X].wholeMatch.start,O[X].wholeMatch.end),w.slice(O[X].match.start,O[X].match.end),w.slice(O[X].left.start,O[X].left.end),w.slice(O[X].right.start,O[X].right.end))),X<G-1&&ee.push(w.slice(O[X].wholeMatch.end,O[X+1].wholeMatch.start));O[G-1].wholeMatch.end<w.length&&ee.push(w.slice(O[G-1].wholeMatch.end)),z=ee.join("")}return z},r.helper.regexIndexOf=function(w,P,M){if(!r.helper.isString(w))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";if(!(P instanceof RegExp))throw"InvalidArgumentError: second parameter of showdown.helper.regexIndexOf function must be an instance of RegExp";var R=w.substring(M||0).search(P);return R>=0?R+(M||0):R},r.helper.splitAtIndex=function(w,P){if(!r.helper.isString(w))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";return[w.substring(0,P),w.substring(P)]},r.helper.encodeEmailAddress=function(w){var P=[function(M){return"&#"+M.charCodeAt(0)+";"},function(M){return"&#x"+M.charCodeAt(0).toString(16)+";"},function(M){return M}];return w=w.replace(/./g,function(M){if(M==="@")M=P[Math.floor(Math.random()*2)](M);else{var R=Math.random();M=R>.9?P[2](M):R>.45?P[1](M):P[0](M)}return M}),w},r.helper.padEnd=function(P,M,R){return M=M>>0,R=String(R||" "),P.length>M?String(P):(M=M-P.length,M>R.length&&(R+=R.repeat(M/R.length)),String(P)+R.slice(0,M))},typeof console>"u"&&(console={warn:function(w){alert(w)},log:function(w){alert(w)},error:function(w){throw w}}),r.helper.regexes={asteriskDashAndColon:/([*_:~])/g},r.helper.emojis={"+1":"","-1":"",100:"",1234:"","1st_place_medal":"","2nd_place_medal":"","3rd_place_medal":"","8ball":"",a:"",ab:"",abc:"",abcd:"",accept:"",aerial_tramway:"",airplane:"",alarm_clock:"",alembic:"",alien:"",ambulance:"",amphora:"",anchor:"",angel:"",anger:"",angry:"",anguished:"",ant:"",apple:"",aquarius:"",aries:"",arrow_backward:"",arrow_double_down:"",arrow_double_up:"",arrow_down:"",arrow_down_small:"",arrow_forward:"",arrow_heading_down:"",arrow_heading_up:"",arrow_left:"",arrow_lower_left:"",arrow_lower_right:"",arrow_right:"",arrow_right_hook:"",arrow_up:"",arrow_up_down:"",arrow_up_small:"",arrow_upper_left:"",arrow_upper_right:"",arrows_clockwise:"",arrows_counterclockwise:"",art:"",articulated_lorry:"",artificial_satellite:"",astonished:"",athletic_shoe:"",atm:"",atom_symbol:"",avocado:"",b:"",baby:"",baby_bottle:"",baby_chick:"",baby_symbol:"",back:"",bacon:"",badminton:"",baggage_claim:"",baguette_bread:"",balance_scale:"",balloon:"",ballot_box:"",ballot_box_with_check:"",bamboo:"",banana:"",bangbang:"",bank:"",bar_chart:"",barber:"",baseball:"",basketball:"",basketball_man:"",basketball_woman:"&zwj;",bat:"",bath:"",bathtub:"",battery:"",beach_umbrella:"",bear:"",bed:"",bee:"",beer:"",beers:"",beetle:"",beginner:"",bell:"",bellhop_bell:"",bento:"",biking_man:"",bike:"",biking_woman:"&zwj;",bikini:"",biohazard:"",bird:"",birthday:"",black_circle:"",black_flag:"",black_heart:"",black_joker:"",black_large_square:"",black_medium_small_square:"",black_medium_square:"",black_nib:"",black_small_square:"",black_square_button:"",blonde_man:"",blonde_woman:"&zwj;",blossom:"",blowfish:"",blue_book:"",blue_car:"",blue_heart:"",blush:"",boar:"",boat:"",bomb:"",book:"",bookmark:"",bookmark_tabs:"",books:"",boom:"",boot:"",bouquet:"",bowing_man:"",bow_and_arrow:"",bowing_woman:"&zwj;",bowling:"",boxing_glove:"",boy:"",bread:"",bride_with_veil:"",bridge_at_night:"",briefcase:"",broken_heart:"",bug:"",building_construction:"",bulb:"",bullettrain_front:"",bullettrain_side:"",burrito:"",bus:"",business_suit_levitating:"",busstop:"",bust_in_silhouette:"",busts_in_silhouette:"",butterfly:"",cactus:"",cake:"",calendar:"",call_me_hand:"",calling:"",camel:"",camera:"",camera_flash:"",camping:"",cancer:"",candle:"",candy:"",canoe:"",capital_abcd:"",capricorn:"",car:"",card_file_box:"",card_index:"",card_index_dividers:"",carousel_horse:"",carrot:"",cat:"",cat2:"",cd:"",chains:"",champagne:"",chart:"",chart_with_downwards_trend:"",chart_with_upwards_trend:"",checkered_flag:"",cheese:"",cherries:"",cherry_blossom:"",chestnut:"",chicken:"",children_crossing:"",chipmunk:"",chocolate_bar:"",christmas_tree:"",church:"",cinema:"",circus_tent:"",city_sunrise:"",city_sunset:"",cityscape:"",cl:"",clamp:"",clap:"",clapper:"",classical_building:"",clinking_glasses:"",clipboard:"",clock1:"",clock10:"",clock1030:"",clock11:"",clock1130:"",clock12:"",clock1230:"",clock130:"",clock2:"",clock230:"",clock3:"",clock330:"",clock4:"",clock430:"",clock5:"",clock530:"",clock6:"",clock630:"",clock7:"",clock730:"",clock8:"",clock830:"",clock9:"",clock930:"",closed_book:"",closed_lock_with_key:"",closed_umbrella:"",cloud:"",cloud_with_lightning:"",cloud_with_lightning_and_rain:"",cloud_with_rain:"",cloud_with_snow:"",clown_face:"",clubs:"",cocktail:"",coffee:"",coffin:"",cold_sweat:"",comet:"",computer:"",computer_mouse:"",confetti_ball:"",confounded:"",confused:"",congratulations:"",construction:"",construction_worker_man:"",construction_worker_woman:"&zwj;",control_knobs:"",convenience_store:"",cookie:"",cool:"",policeman:"",copyright:"",corn:"",couch_and_lamp:"",couple:"",couple_with_heart_woman_man:"",couple_with_heart_man_man:"&zwj;&zwj;",couple_with_heart_woman_woman:"&zwj;&zwj;",couplekiss_man_man:"&zwj;&zwj;&zwj;",couplekiss_man_woman:"",couplekiss_woman_woman:"&zwj;&zwj;&zwj;",cow:"",cow2:"",cowboy_hat_face:"",crab:"",crayon:"",credit_card:"",crescent_moon:"",cricket:"",crocodile:"",croissant:"",crossed_fingers:"",crossed_flags:"",crossed_swords:"",crown:"",cry:"",crying_cat_face:"",crystal_ball:"",cucumber:"",cupid:"",curly_loop:"",currency_exchange:"",curry:"",custard:"",customs:"",cyclone:"",dagger:"",dancer:"",dancing_women:"",dancing_men:"&zwj;",dango:"",dark_sunglasses:"",dart:"",dash:"",date:"",deciduous_tree:"",deer:"",department_store:"",derelict_house:"",desert:"",desert_island:"",desktop_computer:"",male_detective:"",diamond_shape_with_a_dot_inside:"",diamonds:"",disappointed:"",disappointed_relieved:"",dizzy:"",dizzy_face:"",do_not_litter:"",dog:"",dog2:"",dollar:"",dolls:"",dolphin:"",door:"",doughnut:"",dove:"",dragon:"",dragon_face:"",dress:"",dromedary_camel:"",drooling_face:"",droplet:"",drum:"",duck:"",dvd:"","e-mail":"",eagle:"",ear:"",ear_of_rice:"",earth_africa:"",earth_americas:"",earth_asia:"",egg:"",eggplant:"",eight_pointed_black_star:"",eight_spoked_asterisk:"",electric_plug:"",elephant:"",email:"",end:"",envelope_with_arrow:"",euro:"",european_castle:"",european_post_office:"",evergreen_tree:"",exclamation:"",expressionless:"",eye:"",eye_speech_bubble:"&zwj;",eyeglasses:"",eyes:"",face_with_head_bandage:"",face_with_thermometer:"",fist_oncoming:"",factory:"",fallen_leaf:"",family_man_woman_boy:"",family_man_boy:"&zwj;",family_man_boy_boy:"&zwj;&zwj;",family_man_girl:"&zwj;",family_man_girl_boy:"&zwj;&zwj;",family_man_girl_girl:"&zwj;&zwj;",family_man_man_boy:"&zwj;&zwj;",family_man_man_boy_boy:"&zwj;&zwj;&zwj;",family_man_man_girl:"&zwj;&zwj;",family_man_man_girl_boy:"&zwj;&zwj;&zwj;",family_man_man_girl_girl:"&zwj;&zwj;&zwj;",family_man_woman_boy_boy:"&zwj;&zwj;&zwj;",family_man_woman_girl:"&zwj;&zwj;",family_man_woman_girl_boy:"&zwj;&zwj;&zwj;",family_man_woman_girl_girl:"&zwj;&zwj;&zwj;",family_woman_boy:"&zwj;",family_woman_boy_boy:"&zwj;&zwj;",family_woman_girl:"&zwj;",family_woman_girl_boy:"&zwj;&zwj;",family_woman_girl_girl:"&zwj;&zwj;",family_woman_woman_boy:"&zwj;&zwj;",family_woman_woman_boy_boy:"&zwj;&zwj;&zwj;",family_woman_woman_girl:"&zwj;&zwj;",family_woman_woman_girl_boy:"&zwj;&zwj;&zwj;",family_woman_woman_girl_girl:"&zwj;&zwj;&zwj;",fast_forward:"",fax:"",fearful:"",feet:"",female_detective:"&zwj;",ferris_wheel:"",ferry:"",field_hockey:"",file_cabinet:"",file_folder:"",film_projector:"",film_strip:"",fire:"",fire_engine:"",fireworks:"",first_quarter_moon:"",first_quarter_moon_with_face:"",fish:"",fish_cake:"",fishing_pole_and_fish:"",fist_raised:"",fist_left:"",fist_right:"",flags:"",flashlight:"",fleur_de_lis:"",flight_arrival:"",flight_departure:"",floppy_disk:"",flower_playing_cards:"",flushed:"",fog:"",foggy:"",football:"",footprints:"",fork_and_knife:"",fountain:"",fountain_pen:"",four_leaf_clover:"",fox_face:"",framed_picture:"",free:"",fried_egg:"",fried_shrimp:"",fries:"",frog:"",frowning:"",frowning_face:"",frowning_man:"&zwj;",frowning_woman:"",middle_finger:"",fuelpump:"",full_moon:"",full_moon_with_face:"",funeral_urn:"",game_die:"",gear:"",gem:"",gemini:"",ghost:"",gift:"",gift_heart:"",girl:"",globe_with_meridians:"",goal_net:"",goat:"",golf:"",golfing_man:"",golfing_woman:"&zwj;",gorilla:"",grapes:"",green_apple:"",green_book:"",green_heart:"",green_salad:"",grey_exclamation:"",grey_question:"",grimacing:"",grin:"",grinning:"",guardsman:"",guardswoman:"&zwj;",guitar:"",gun:"",haircut_woman:"",haircut_man:"&zwj;",hamburger:"",hammer:"",hammer_and_pick:"",hammer_and_wrench:"",hamster:"",hand:"",handbag:"",handshake:"",hankey:"",hatched_chick:"",hatching_chick:"",headphones:"",hear_no_evil:"",heart:"",heart_decoration:"",heart_eyes:"",heart_eyes_cat:"",heartbeat:"",heartpulse:"",hearts:"",heavy_check_mark:"",heavy_division_sign:"",heavy_dollar_sign:"",heavy_heart_exclamation:"",heavy_minus_sign:"",heavy_multiplication_x:"",heavy_plus_sign:"",helicopter:"",herb:"",hibiscus:"",high_brightness:"",high_heel:"",hocho:"",hole:"",honey_pot:"",horse:"",horse_racing:"",hospital:"",hot_pepper:"",hotdog:"",hotel:"",hotsprings:"",hourglass:"",hourglass_flowing_sand:"",house:"",house_with_garden:"",houses:"",hugs:"",hushed:"",ice_cream:"",ice_hockey:"",ice_skate:"",icecream:"",id:"",ideograph_advantage:"",imp:"",inbox_tray:"",incoming_envelope:"",tipping_hand_woman:"",information_source:"",innocent:"",interrobang:"",iphone:"",izakaya_lantern:"",jack_o_lantern:"",japan:"",japanese_castle:"",japanese_goblin:"",japanese_ogre:"",jeans:"",joy:"",joy_cat:"",joystick:"",kaaba:"",key:"",keyboard:"",keycap_ten:"",kick_scooter:"",kimono:"",kiss:"",kissing:"",kissing_cat:"",kissing_closed_eyes:"",kissing_heart:"",kissing_smiling_eyes:"",kiwi_fruit:"",koala:"",koko:"",label:"",large_blue_circle:"",large_blue_diamond:"",large_orange_diamond:"",last_quarter_moon:"",last_quarter_moon_with_face:"",latin_cross:"",laughing:"",leaves:"",ledger:"",left_luggage:"",left_right_arrow:"",leftwards_arrow_with_hook:"",lemon:"",leo:"",leopard:"",level_slider:"",libra:"",light_rail:"",link:"",lion:"",lips:"",lipstick:"",lizard:"",lock:"",lock_with_ink_pen:"",lollipop:"",loop:"",loud_sound:"",loudspeaker:"",love_hotel:"",love_letter:"",low_brightness:"",lying_face:"",m:"",mag:"",mag_right:"",mahjong:"",mailbox:"",mailbox_closed:"",mailbox_with_mail:"",mailbox_with_no_mail:"",man:"",man_artist:"&zwj;",man_astronaut:"&zwj;",man_cartwheeling:"&zwj;",man_cook:"&zwj;",man_dancing:"",man_facepalming:"&zwj;",man_factory_worker:"&zwj;",man_farmer:"&zwj;",man_firefighter:"&zwj;",man_health_worker:"&zwj;",man_in_tuxedo:"",man_judge:"&zwj;",man_juggling:"&zwj;",man_mechanic:"&zwj;",man_office_worker:"&zwj;",man_pilot:"&zwj;",man_playing_handball:"&zwj;",man_playing_water_polo:"&zwj;",man_scientist:"&zwj;",man_shrugging:"&zwj;",man_singer:"&zwj;",man_student:"&zwj;",man_teacher:"&zwj;",man_technologist:"&zwj;",man_with_gua_pi_mao:"",man_with_turban:"",tangerine:"",mans_shoe:"",mantelpiece_clock:"",maple_leaf:"",martial_arts_uniform:"",mask:"",massage_woman:"",massage_man:"&zwj;",meat_on_bone:"",medal_military:"",medal_sports:"",mega:"",melon:"",memo:"",men_wrestling:"&zwj;",menorah:"",mens:"",metal:"",metro:"",microphone:"",microscope:"",milk_glass:"",milky_way:"",minibus:"",minidisc:"",mobile_phone_off:"",money_mouth_face:"",money_with_wings:"",moneybag:"",monkey:"",monkey_face:"",monorail:"",moon:"",mortar_board:"",mosque:"",motor_boat:"",motor_scooter:"",motorcycle:"",motorway:"",mount_fuji:"",mountain:"",mountain_biking_man:"",mountain_biking_woman:"&zwj;",mountain_cableway:"",mountain_railway:"",mountain_snow:"",mouse:"",mouse2:"",movie_camera:"",moyai:"",mrs_claus:"",muscle:"",mushroom:"",musical_keyboard:"",musical_note:"",musical_score:"",mute:"",nail_care:"",name_badge:"",national_park:"",nauseated_face:"",necktie:"",negative_squared_cross_mark:"",nerd_face:"",neutral_face:"",new:"",new_moon:"",new_moon_with_face:"",newspaper:"",newspaper_roll:"",next_track_button:"",ng:"",no_good_man:"&zwj;",no_good_woman:"",night_with_stars:"",no_bell:"",no_bicycles:"",no_entry:"",no_entry_sign:"",no_mobile_phones:"",no_mouth:"",no_pedestrians:"",no_smoking:"","non-potable_water":"",nose:"",notebook:"",notebook_with_decorative_cover:"",notes:"",nut_and_bolt:"",o:"",o2:"",ocean:"",octopus:"",oden:"",office:"",oil_drum:"",ok:"",ok_hand:"",ok_man:"&zwj;",ok_woman:"",old_key:"",older_man:"",older_woman:"",om:"",on:"",oncoming_automobile:"",oncoming_bus:"",oncoming_police_car:"",oncoming_taxi:"",open_file_folder:"",open_hands:"",open_mouth:"",open_umbrella:"",ophiuchus:"",orange_book:"",orthodox_cross:"",outbox_tray:"",owl:"",ox:"",package:"",page_facing_up:"",page_with_curl:"",pager:"",paintbrush:"",palm_tree:"",pancakes:"",panda_face:"",paperclip:"",paperclips:"",parasol_on_ground:"",parking:"",part_alternation_mark:"",partly_sunny:"",passenger_ship:"",passport_control:"",pause_button:"",peace_symbol:"",peach:"",peanuts:"",pear:"",pen:"",pencil2:"",penguin:"",pensive:"",performing_arts:"",persevere:"",person_fencing:"",pouting_woman:"",phone:"",pick:"",pig:"",pig2:"",pig_nose:"",pill:"",pineapple:"",ping_pong:"",pisces:"",pizza:"",place_of_worship:"",plate_with_cutlery:"",play_or_pause_button:"",point_down:"",point_left:"",point_right:"",point_up:"",point_up_2:"",police_car:"",policewoman:"&zwj;",poodle:"",popcorn:"",post_office:"",postal_horn:"",postbox:"",potable_water:"",potato:"",pouch:"",poultry_leg:"",pound:"",rage:"",pouting_cat:"",pouting_man:"&zwj;",pray:"",prayer_beads:"",pregnant_woman:"",previous_track_button:"",prince:"",princess:"",printer:"",purple_heart:"",purse:"",pushpin:"",put_litter_in_its_place:"",question:"",rabbit:"",rabbit2:"",racehorse:"",racing_car:"",radio:"",radio_button:"",radioactive:"",railway_car:"",railway_track:"",rainbow:"",rainbow_flag:"&zwj;",raised_back_of_hand:"",raised_hand_with_fingers_splayed:"",raised_hands:"",raising_hand_woman:"",raising_hand_man:"&zwj;",ram:"",ramen:"",rat:"",record_button:"",recycle:"",red_circle:"",registered:"",relaxed:"",relieved:"",reminder_ribbon:"",repeat:"",repeat_one:"",rescue_worker_helmet:"",restroom:"",revolving_hearts:"",rewind:"",rhinoceros:"",ribbon:"",rice:"",rice_ball:"",rice_cracker:"",rice_scene:"",right_anger_bubble:"",ring:"",robot:"",rocket:"",rofl:"",roll_eyes:"",roller_coaster:"",rooster:"",rose:"",rosette:"",rotating_light:"",round_pushpin:"",rowing_man:"",rowing_woman:"&zwj;",rugby_football:"",running_man:"",running_shirt_with_sash:"",running_woman:"&zwj;",sa:"",sagittarius:"",sake:"",sandal:"",santa:"",satellite:"",saxophone:"",school:"",school_satchel:"",scissors:"",scorpion:"",scorpius:"",scream:"",scream_cat:"",scroll:"",seat:"",secret:"",see_no_evil:"",seedling:"",selfie:"",shallow_pan_of_food:"",shamrock:"",shark:"",shaved_ice:"",sheep:"",shell:"",shield:"",shinto_shrine:"",ship:"",shirt:"",shopping:"",shopping_cart:"",shower:"",shrimp:"",signal_strength:"",six_pointed_star:"",ski:"",skier:"",skull:"",skull_and_crossbones:"",sleeping:"",sleeping_bed:"",sleepy:"",slightly_frowning_face:"",slightly_smiling_face:"",slot_machine:"",small_airplane:"",small_blue_diamond:"",small_orange_diamond:"",small_red_triangle:"",small_red_triangle_down:"",smile:"",smile_cat:"",smiley:"",smiley_cat:"",smiling_imp:"",smirk:"",smirk_cat:"",smoking:"",snail:"",snake:"",sneezing_face:"",snowboarder:"",snowflake:"",snowman:"",snowman_with_snow:"",sob:"",soccer:"",soon:"",sos:"",sound:"",space_invader:"",spades:"",spaghetti:"",sparkle:"",sparkler:"",sparkles:"",sparkling_heart:"",speak_no_evil:"",speaker:"",speaking_head:"",speech_balloon:"",speedboat:"",spider:"",spider_web:"",spiral_calendar:"",spiral_notepad:"",spoon:"",squid:"",stadium:"",star:"",star2:"",star_and_crescent:"",star_of_david:"",stars:"",station:"",statue_of_liberty:"",steam_locomotive:"",stew:"",stop_button:"",stop_sign:"",stopwatch:"",straight_ruler:"",strawberry:"",stuck_out_tongue:"",stuck_out_tongue_closed_eyes:"",stuck_out_tongue_winking_eye:"",studio_microphone:"",stuffed_flatbread:"",sun_behind_large_cloud:"",sun_behind_rain_cloud:"",sun_behind_small_cloud:"",sun_with_face:"",sunflower:"",sunglasses:"",sunny:"",sunrise:"",sunrise_over_mountains:"",surfing_man:"",surfing_woman:"&zwj;",sushi:"",suspension_railway:"",sweat:"",sweat_drops:"",sweat_smile:"",sweet_potato:"",swimming_man:"",swimming_woman:"&zwj;",symbols:"",synagogue:"",syringe:"",taco:"",tada:"",tanabata_tree:"",taurus:"",taxi:"",tea:"",telephone_receiver:"",telescope:"",tennis:"",tent:"",thermometer:"",thinking:"",thought_balloon:"",ticket:"",tickets:"",tiger:"",tiger2:"",timer_clock:"",tipping_hand_man:"&zwj;",tired_face:"",tm:"",toilet:"",tokyo_tower:"",tomato:"",tongue:"",top:"",tophat:"",tornado:"",trackball:"",tractor:"",traffic_light:"",train:"",train2:"",tram:"",triangular_flag_on_post:"",triangular_ruler:"",trident:"",triumph:"",trolleybus:"",trophy:"",tropical_drink:"",tropical_fish:"",truck:"",trumpet:"",tulip:"",tumbler_glass:"",turkey:"",turtle:"",tv:"",twisted_rightwards_arrows:"",two_hearts:"",two_men_holding_hands:"",two_women_holding_hands:"",u5272:"",u5408:"",u55b6:"",u6307:"",u6708:"",u6709:"",u6e80:"",u7121:"",u7533:"",u7981:"",u7a7a:"",umbrella:"",unamused:"",underage:"",unicorn:"",unlock:"",up:"",upside_down_face:"",v:"",vertical_traffic_light:"",vhs:"",vibration_mode:"",video_camera:"",video_game:"",violin:"",virgo:"",volcano:"",volleyball:"",vs:"",vulcan_salute:"",walking_man:"",walking_woman:"&zwj;",waning_crescent_moon:"",waning_gibbous_moon:"",warning:"",wastebasket:"",watch:"",water_buffalo:"",watermelon:"",wave:"",wavy_dash:"",waxing_crescent_moon:"",wc:"",weary:"",wedding:"",weight_lifting_man:"",weight_lifting_woman:"&zwj;",whale:"",whale2:"",wheel_of_dharma:"",wheelchair:"",white_check_mark:"",white_circle:"",white_flag:"",white_flower:"",white_large_square:"",white_medium_small_square:"",white_medium_square:"",white_small_square:"",white_square_button:"",wilted_flower:"",wind_chime:"",wind_face:"",wine_glass:"",wink:"",wolf:"",woman:"",woman_artist:"&zwj;",woman_astronaut:"&zwj;",woman_cartwheeling:"&zwj;",woman_cook:"&zwj;",woman_facepalming:"&zwj;",woman_factory_worker:"&zwj;",woman_farmer:"&zwj;",woman_firefighter:"&zwj;",woman_health_worker:"&zwj;",woman_judge:"&zwj;",woman_juggling:"&zwj;",woman_mechanic:"&zwj;",woman_office_worker:"&zwj;",woman_pilot:"&zwj;",woman_playing_handball:"&zwj;",woman_playing_water_polo:"&zwj;",woman_scientist:"&zwj;",woman_shrugging:"&zwj;",woman_singer:"&zwj;",woman_student:"&zwj;",woman_teacher:"&zwj;",woman_technologist:"&zwj;",woman_with_turban:"&zwj;",womans_clothes:"",womans_hat:"",women_wrestling:"&zwj;",womens:"",world_map:"",worried:"",wrench:"",writing_hand:"",x:"",yellow_heart:"",yen:"",yin_yang:"",yum:"",zap:"",zipper_mouth_face:"",zzz:"",octocat:'<img alt=":octocat:" height="20" width="20" align="absmiddle" src="https://assets-cdn.github.com/images/icons/emoji/octocat.png">',showdown:`<span style="font-family: 'Anonymous Pro', monospace; text-decoration: underline; text-decoration-style: dashed; text-decoration-color: #3e8b8a;text-underline-position: under;">S</span>`},r.Converter=function(w){var P={},M=[],R=[],D={},H=a,O={parsed:{},raw:"",format:""};z();function z(){w=w||{};for(var B in s)s.hasOwnProperty(B)&&(P[B]=s[B]);if(typeof w=="object")for(var q in w)w.hasOwnProperty(q)&&(P[q]=w[q]);else throw Error("Converter expects the passed parameter to be an object, but "+typeof w+" was passed instead.");P.extensions&&r.helper.forEach(P.extensions,G)}function G(B,q){if(q=q||null,r.helper.isString(B))if(B=r.helper.stdExtName(B),q=B,r.extensions[B]){console.warn("DEPRECATION WARNING: "+B+" is an old extension that uses a deprecated loading method.Please inform the developer that the extension should be updated!"),ee(r.extensions[B],B);return}else if(!r.helper.isUndefined(o[B]))B=o[B];else throw Error('Extension "'+B+'" could not be loaded. It was either not found or is not a valid extension.');typeof B=="function"&&(B=B()),r.helper.isArray(B)||(B=[B]);var U=u(B,q);if(!U.valid)throw Error(U.error);for(var K=0;K<B.length;++K){switch(B[K].type){case"lang":M.push(B[K]);break;case"output":R.push(B[K]);break}if(B[K].hasOwnProperty("listeners"))for(var J in B[K].listeners)B[K].listeners.hasOwnProperty(J)&&X(J,B[K].listeners[J])}}function ee(B,q){typeof B=="function"&&(B=B(new r.Converter)),r.helper.isArray(B)||(B=[B]);var U=u(B,q);if(!U.valid)throw Error(U.error);for(var K=0;K<B.length;++K)switch(B[K].type){case"lang":M.push(B[K]);break;case"output":R.push(B[K]);break;default:throw Error("Extension loader error: Type unrecognized!!!")}}function X(B,q){if(!r.helper.isString(B))throw Error("Invalid argument in converter.listen() method: name must be a string, but "+typeof B+" given");if(typeof q!="function")throw Error("Invalid argument in converter.listen() method: callback must be a function, but "+typeof q+" given");D.hasOwnProperty(B)||(D[B]=[]),D[B].push(q)}function se(B){var q=B.match(/^\s*/)[0].length,U=new RegExp("^\\s{0,"+q+"}","gm");return B.replace(U,"")}this._dispatch=function(q,U,K,J){if(D.hasOwnProperty(q))for(var oe=0;oe<D[q].length;++oe){var he=D[q][oe](q,U,this,K,J);he&&typeof he<"u"&&(U=he)}return U},this.listen=function(B,q){return X(B,q),this},this.makeHtml=function(B){if(!B)return B;var q={gHtmlBlocks:[],gHtmlMdBlocks:[],gHtmlSpans:[],gUrls:{},gTitles:{},gDimensions:{},gListLevel:0,hashLinkCounts:{},langExtensions:M,outputModifiers:R,converter:this,ghCodeBlocks:[],metadata:{parsed:{},raw:"",format:""}};return B=B.replace(//g,"T"),B=B.replace(/\$/g,"D"),B=B.replace(/\r\n/g,`
`),B=B.replace(/\r/g,`
`),B=B.replace(/\u00A0/g,"&nbsp;"),P.smartIndentationFix&&(B=se(B)),B=`

`+B+`

`,B=r.subParser("detab")(B,P,q),B=B.replace(/^[ \t]+$/mg,""),r.helper.forEach(M,function(U){B=r.subParser("runExtension")(U,B,P,q)}),B=r.subParser("metadata")(B,P,q),B=r.subParser("hashPreCodeTags")(B,P,q),B=r.subParser("githubCodeBlocks")(B,P,q),B=r.subParser("hashHTMLBlocks")(B,P,q),B=r.subParser("hashCodeTags")(B,P,q),B=r.subParser("stripLinkDefinitions")(B,P,q),B=r.subParser("blockGamut")(B,P,q),B=r.subParser("unhashHTMLSpans")(B,P,q),B=r.subParser("unescapeSpecialChars")(B,P,q),B=B.replace(/D/g,"$$"),B=B.replace(/T/g,""),B=r.subParser("completeHTMLDocument")(B,P,q),r.helper.forEach(R,function(U){B=r.subParser("runExtension")(U,B,P,q)}),O=q.metadata,B},this.makeMarkdown=this.makeMd=function(B,q){if(B=B.replace(/\r\n/g,`
`),B=B.replace(/\r/g,`
`),B=B.replace(/>[ \t]+</,">NBSP;<"),!q)if(window&&window.document)q=window.document;else throw new Error("HTMLParser is undefined. If in a webworker or nodejs environment, you need to provide a WHATWG DOM and HTML such as JSDOM");var U=q.createElement("div");U.innerHTML=B;var K={preList:re(U)};me(U);for(var J=U.childNodes,oe="",he=0;he<J.length;he++)oe+=r.subParser("makeMarkdown.node")(J[he],K);function me(ue){for(var ce=0;ce<ue.childNodes.length;++ce){var we=ue.childNodes[ce];we.nodeType===3?!/\S/.test(we.nodeValue)&&!/^[ ]+$/.test(we.nodeValue)?(ue.removeChild(we),--ce):(we.nodeValue=we.nodeValue.split(`
`).join(" "),we.nodeValue=we.nodeValue.replace(/(\s)+/g,"$1")):we.nodeType===1&&me(we)}}function re(ue){for(var ce=ue.querySelectorAll("pre"),we=[],Me=0;Me<ce.length;++Me)if(ce[Me].childElementCount===1&&ce[Me].firstChild.tagName.toLowerCase()==="code"){var Be=ce[Me].firstChild.innerHTML.trim(),ge=ce[Me].firstChild.getAttribute("data-language")||"";if(ge==="")for(var ye=ce[Me].firstChild.className.split(" "),_e=0;_e<ye.length;++_e){var $e=ye[_e].match(/^language-(.+)$/);if($e!==null){ge=$e[1];break}}Be=r.helper.unescapeHTMLEntities(Be),we.push(Be),ce[Me].outerHTML='<precode language="'+ge+'" precodenum="'+Me.toString()+'"></precode>'}else we.push(ce[Me].innerHTML),ce[Me].innerHTML="",ce[Me].setAttribute("prenum",Me.toString());return we}return oe},this.setOption=function(B,q){P[B]=q},this.getOption=function(B){return P[B]},this.getOptions=function(){return P},this.addExtension=function(B,q){q=q||null,G(B,q)},this.useExtension=function(B){G(B)},this.setFlavor=function(B){if(!l.hasOwnProperty(B))throw Error(B+" flavor was not found");var q=l[B];H=B;for(var U in q)q.hasOwnProperty(U)&&(P[U]=q[U])},this.getFlavor=function(){return H},this.removeExtension=function(B){r.helper.isArray(B)||(B=[B]);for(var q=0;q<B.length;++q){for(var U=B[q],K=0;K<M.length;++K)M[K]===U&&M.splice(K,1);for(var J=0;J<R.length;++J)R[J]===U&&R.splice(J,1)}},this.getAllExtensions=function(){return{language:M,output:R}},this.getMetadata=function(B){return B?O.raw:O.parsed},this.getMetadataFormat=function(){return O.format},this._setMetadataPair=function(B,q){O.parsed[B]=q},this._setMetadataFormat=function(B){O.format=B},this._setMetadataRaw=function(B){O.raw=B}},r.subParser("anchors",function(w,P,M){w=M.converter._dispatch("anchors.before",w,P,M);var R=function(D,H,O,z,G,ee,X){if(r.helper.isUndefined(X)&&(X=""),O=O.toLowerCase(),D.search(/\(<?\s*>? ?(['"].*['"])?\)$/m)>-1)z="";else if(!z)if(O||(O=H.toLowerCase().replace(/ ?\n/g," ")),z="#"+O,!r.helper.isUndefined(M.gUrls[O]))z=M.gUrls[O],r.helper.isUndefined(M.gTitles[O])||(X=M.gTitles[O]);else return D;z=z.replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback);var se='<a href="'+z+'"';return X!==""&&X!==null&&(X=X.replace(/"/g,"&quot;"),X=X.replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback),se+=' title="'+X+'"'),P.openLinksInNewWindow&&!/^#/.test(z)&&(se+=' rel="noopener noreferrer" target="E95Eblank"'),se+=">"+H+"</a>",se};return w=w.replace(/\[((?:\[[^\]]*]|[^\[\]])*)] ?(?:\n *)?\[(.*?)]()()()()/g,R),w=w.replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<([^>]*)>(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,R),w=w.replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,R),w=w.replace(/\[([^\[\]]+)]()()()()()/g,R),P.ghMentions&&(w=w.replace(/(^|\s)(\\)?(@([a-z\d]+(?:[a-z\d.-]+?[a-z\d]+)*))/gmi,function(D,H,O,z,G){if(O==="\\")return H+z;if(!r.helper.isString(P.ghMentionsLink))throw new Error("ghMentionsLink option must be a string");var ee=P.ghMentionsLink.replace(/\{u}/g,G),X="";return P.openLinksInNewWindow&&(X=' rel="noopener noreferrer" target="E95Eblank"'),H+'<a href="'+ee+'"'+X+">"+z+"</a>"})),w=M.converter._dispatch("anchors.after",w,P,M),w});var p=/([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+?\.[^'">\s]+?)()(\1)?(?=\s|$)(?!["<>])/gi,g=/([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+\.[^'">\s]+?)([.!?,()\[\]])?(\1)?(?=\s|$)(?!["<>])/gi,v=/()<(((https?|ftp|dict):\/\/|www\.)[^'">\s]+)()>()/gi,y=/(^|\s)(?:mailto:)?([A-Za-z0-9!#$%&'*+-/=?^_`{|}~.]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)(?=$|\s)/gmi,S=/<()(?:mailto:)?([-.\w]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi,C=function(w){return function(P,M,R,D,H,O,z){R=R.replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback);var G=R,ee="",X="",se=M||"",B=z||"";return/^www\./i.test(R)&&(R=R.replace(/^www\./i,"http://www.")),w.excludeTrailingPunctuationFromURLs&&O&&(ee=O),w.openLinksInNewWindow&&(X=' rel="noopener noreferrer" target="E95Eblank"'),se+'<a href="'+R+'"'+X+">"+G+"</a>"+ee+B}},_=function(w,P){return function(M,R,D){var H="mailto:";return R=R||"",D=r.subParser("unescapeSpecialChars")(D,w,P),w.encodeEmails?(H=r.helper.encodeEmailAddress(H+D),D=r.helper.encodeEmailAddress(D)):H=H+D,R+'<a href="'+H+'">'+D+"</a>"}};r.subParser("autoLinks",function(w,P,M){return w=M.converter._dispatch("autoLinks.before",w,P,M),w=w.replace(v,C(P)),w=w.replace(S,_(P,M)),w=M.converter._dispatch("autoLinks.after",w,P,M),w}),r.subParser("simplifiedAutoLinks",function(w,P,M){return P.simplifiedAutoLink&&(w=M.converter._dispatch("simplifiedAutoLinks.before",w,P,M),P.excludeTrailingPunctuationFromURLs?w=w.replace(g,C(P)):w=w.replace(p,C(P)),w=w.replace(y,_(P,M)),w=M.converter._dispatch("simplifiedAutoLinks.after",w,P,M)),w}),r.subParser("blockGamut",function(w,P,M){return w=M.converter._dispatch("blockGamut.before",w,P,M),w=r.subParser("blockQuotes")(w,P,M),w=r.subParser("headers")(w,P,M),w=r.subParser("horizontalRule")(w,P,M),w=r.subParser("lists")(w,P,M),w=r.subParser("codeBlocks")(w,P,M),w=r.subParser("tables")(w,P,M),w=r.subParser("hashHTMLBlocks")(w,P,M),w=r.subParser("paragraphs")(w,P,M),w=M.converter._dispatch("blockGamut.after",w,P,M),w}),r.subParser("blockQuotes",function(w,P,M){w=M.converter._dispatch("blockQuotes.before",w,P,M),w=w+`

`;var R=/(^ {0,3}>[ \t]?.+\n(.+\n)*\n*)+/gm;return P.splitAdjacentBlockquotes&&(R=/^ {0,3}>[\s\S]*?(?:\n\n)/gm),w=w.replace(R,function(D){return D=D.replace(/^[ \t]*>[ \t]?/gm,""),D=D.replace(/0/g,""),D=D.replace(/^[ \t]+$/gm,""),D=r.subParser("githubCodeBlocks")(D,P,M),D=r.subParser("blockGamut")(D,P,M),D=D.replace(/(^|\n)/g,"$1  "),D=D.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(H,O){var z=O;return z=z.replace(/^  /mg,"0"),z=z.replace(/0/g,""),z}),r.subParser("hashBlock")(`<blockquote>
`+D+`
</blockquote>`,P,M)}),w=M.converter._dispatch("blockQuotes.after",w,P,M),w}),r.subParser("codeBlocks",function(w,P,M){w=M.converter._dispatch("codeBlocks.before",w,P,M),w+="0";var R=/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=0))/g;return w=w.replace(R,function(D,H,O){var z=H,G=O,ee=`
`;return z=r.subParser("outdent")(z,P,M),z=r.subParser("encodeCode")(z,P,M),z=r.subParser("detab")(z,P,M),z=z.replace(/^\n+/g,""),z=z.replace(/\n+$/g,""),P.omitExtraWLInCodeBlocks&&(ee=""),z="<pre><code>"+z+ee+"</code></pre>",r.subParser("hashBlock")(z,P,M)+G}),w=w.replace(/0/,""),w=M.converter._dispatch("codeBlocks.after",w,P,M),w}),r.subParser("codeSpans",function(w,P,M){return w=M.converter._dispatch("codeSpans.before",w,P,M),typeof w>"u"&&(w=""),w=w.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(R,D,H,O){var z=O;return z=z.replace(/^([ \t]*)/g,""),z=z.replace(/[ \t]*$/g,""),z=r.subParser("encodeCode")(z,P,M),z=D+"<code>"+z+"</code>",z=r.subParser("hashHTMLSpans")(z,P,M),z}),w=M.converter._dispatch("codeSpans.after",w,P,M),w}),r.subParser("completeHTMLDocument",function(w,P,M){if(!P.completeHTMLDocument)return w;w=M.converter._dispatch("completeHTMLDocument.before",w,P,M);var R="html",D=`<!DOCTYPE HTML>
`,H="",O=`<meta charset="utf-8">
`,z="",G="";typeof M.metadata.parsed.doctype<"u"&&(D="<!DOCTYPE "+M.metadata.parsed.doctype+`>
`,R=M.metadata.parsed.doctype.toString().toLowerCase(),(R==="html"||R==="html5")&&(O='<meta charset="utf-8">'));for(var ee in M.metadata.parsed)if(M.metadata.parsed.hasOwnProperty(ee))switch(ee.toLowerCase()){case"doctype":break;case"title":H="<title>"+M.metadata.parsed.title+`</title>
`;break;case"charset":R==="html"||R==="html5"?O='<meta charset="'+M.metadata.parsed.charset+`">
`:O='<meta name="charset" content="'+M.metadata.parsed.charset+`">
`;break;case"language":case"lang":z=' lang="'+M.metadata.parsed[ee]+'"',G+='<meta name="'+ee+'" content="'+M.metadata.parsed[ee]+`">
`;break;default:G+='<meta name="'+ee+'" content="'+M.metadata.parsed[ee]+`">
`}return w=D+"<html"+z+`>
<head>
`+H+O+G+`</head>
<body>
`+w.trim()+`
</body>
</html>`,w=M.converter._dispatch("completeHTMLDocument.after",w,P,M),w}),r.subParser("detab",function(w,P,M){return w=M.converter._dispatch("detab.before",w,P,M),w=w.replace(/\t(?=\t)/g,"    "),w=w.replace(/\t/g,"AB"),w=w.replace(/B(.+?)A/g,function(R,D){for(var H=D,O=4-H.length%4,z=0;z<O;z++)H+=" ";return H}),w=w.replace(/A/g,"    "),w=w.replace(/B/g,""),w=M.converter._dispatch("detab.after",w,P,M),w}),r.subParser("ellipsis",function(w,P,M){return P.ellipsis&&(w=M.converter._dispatch("ellipsis.before",w,P,M),w=w.replace(/\.\.\./g,""),w=M.converter._dispatch("ellipsis.after",w,P,M)),w}),r.subParser("emoji",function(w,P,M){if(!P.emoji)return w;w=M.converter._dispatch("emoji.before",w,P,M);var R=/:([\S]+?):/g;return w=w.replace(R,function(D,H){return r.helper.emojis.hasOwnProperty(H)?r.helper.emojis[H]:D}),w=M.converter._dispatch("emoji.after",w,P,M),w}),r.subParser("encodeAmpsAndAngles",function(w,P,M){return w=M.converter._dispatch("encodeAmpsAndAngles.before",w,P,M),w=w.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;"),w=w.replace(/<(?![a-z\/?$!])/gi,"&lt;"),w=w.replace(/</g,"&lt;"),w=w.replace(/>/g,"&gt;"),w=M.converter._dispatch("encodeAmpsAndAngles.after",w,P,M),w}),r.subParser("encodeBackslashEscapes",function(w,P,M){return w=M.converter._dispatch("encodeBackslashEscapes.before",w,P,M),w=w.replace(/\\(\\)/g,r.helper.escapeCharactersCallback),w=w.replace(/\\([`*_{}\[\]()>#+.!~=|:-])/g,r.helper.escapeCharactersCallback),w=M.converter._dispatch("encodeBackslashEscapes.after",w,P,M),w}),r.subParser("encodeCode",function(w,P,M){return w=M.converter._dispatch("encodeCode.before",w,P,M),w=w.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/([*_{}\[\]\\=~-])/g,r.helper.escapeCharactersCallback),w=M.converter._dispatch("encodeCode.after",w,P,M),w}),r.subParser("escapeSpecialCharsWithinTagAttributes",function(w,P,M){w=M.converter._dispatch("escapeSpecialCharsWithinTagAttributes.before",w,P,M);var R=/<\/?[a-z\d_:-]+(?:[\s]+[\s\S]+?)?>/gi,D=/<!(--(?:(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>/gi;return w=w.replace(R,function(H){return H.replace(/(.)<\/?code>(?=.)/g,"$1`").replace(/([\\`*_~=|])/g,r.helper.escapeCharactersCallback)}),w=w.replace(D,function(H){return H.replace(/([\\`*_~=|])/g,r.helper.escapeCharactersCallback)}),w=M.converter._dispatch("escapeSpecialCharsWithinTagAttributes.after",w,P,M),w}),r.subParser("githubCodeBlocks",function(w,P,M){return P.ghCodeBlocks?(w=M.converter._dispatch("githubCodeBlocks.before",w,P,M),w+="0",w=w.replace(/(?:^|\n)(?: {0,3})(```+|~~~+)(?: *)([^\s`~]*)\n([\s\S]*?)\n(?: {0,3})\1/g,function(R,D,H,O){var z=P.omitExtraWLInCodeBlocks?"":`
`;return O=r.subParser("encodeCode")(O,P,M),O=r.subParser("detab")(O,P,M),O=O.replace(/^\n+/g,""),O=O.replace(/\n+$/g,""),O="<pre><code"+(H?' class="'+H+" language-"+H+'"':"")+">"+O+z+"</code></pre>",O=r.subParser("hashBlock")(O,P,M),`

G`+(M.ghCodeBlocks.push({text:R,codeblock:O})-1)+`G

`}),w=w.replace(/0/,""),M.converter._dispatch("githubCodeBlocks.after",w,P,M)):w}),r.subParser("hashBlock",function(w,P,M){return w=M.converter._dispatch("hashBlock.before",w,P,M),w=w.replace(/(^\n+|\n+$)/g,""),w=`

K`+(M.gHtmlBlocks.push(w)-1)+`K

`,w=M.converter._dispatch("hashBlock.after",w,P,M),w}),r.subParser("hashCodeTags",function(w,P,M){w=M.converter._dispatch("hashCodeTags.before",w,P,M);var R=function(D,H,O,z){var G=O+r.subParser("encodeCode")(H,P,M)+z;return"C"+(M.gHtmlSpans.push(G)-1)+"C"};return w=r.helper.replaceRecursiveRegExp(w,R,"<code\\b[^>]*>","</code>","gim"),w=M.converter._dispatch("hashCodeTags.after",w,P,M),w}),r.subParser("hashElement",function(w,P,M){return function(R,D){var H=D;return H=H.replace(/\n\n/g,`
`),H=H.replace(/^\n/,""),H=H.replace(/\n+$/g,""),H=`

K`+(M.gHtmlBlocks.push(H)-1)+`K

`,H}}),r.subParser("hashHTMLBlocks",function(w,P,M){w=M.converter._dispatch("hashHTMLBlocks.before",w,P,M);var R=["pre","div","h1","h2","h3","h4","h5","h6","blockquote","table","dl","ol","ul","script","noscript","form","fieldset","iframe","math","style","section","header","footer","nav","article","aside","address","audio","canvas","figure","hgroup","output","video","p"],D=function(B,q,U,K){var J=B;return U.search(/\bmarkdown\b/)!==-1&&(J=U+M.converter.makeHtml(q)+K),`

K`+(M.gHtmlBlocks.push(J)-1)+`K

`};P.backslashEscapesHTMLTags&&(w=w.replace(/\\<(\/?[^>]+?)>/g,function(B,q){return"&lt;"+q+"&gt;"}));for(var H=0;H<R.length;++H)for(var O,z=new RegExp("^ {0,3}(<"+R[H]+"\\b[^>]*>)","im"),G="<"+R[H]+"\\b[^>]*>",ee="</"+R[H]+">";(O=r.helper.regexIndexOf(w,z))!==-1;){var X=r.helper.splitAtIndex(w,O),se=r.helper.replaceRecursiveRegExp(X[1],D,G,ee,"im");if(se===X[1])break;w=X[0].concat(se)}return w=w.replace(/(\n {0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,r.subParser("hashElement")(w,P,M)),w=r.helper.replaceRecursiveRegExp(w,function(B){return`

K`+(M.gHtmlBlocks.push(B)-1)+`K

`},"^ {0,3}<!--","-->","gm"),w=w.replace(/(?:\n\n)( {0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,r.subParser("hashElement")(w,P,M)),w=M.converter._dispatch("hashHTMLBlocks.after",w,P,M),w}),r.subParser("hashHTMLSpans",function(w,P,M){w=M.converter._dispatch("hashHTMLSpans.before",w,P,M);function R(D){return"C"+(M.gHtmlSpans.push(D)-1)+"C"}return w=w.replace(/<[^>]+?\/>/gi,function(D){return R(D)}),w=w.replace(/<([^>]+?)>[\s\S]*?<\/\1>/g,function(D){return R(D)}),w=w.replace(/<([^>]+?)\s[^>]+?>[\s\S]*?<\/\1>/g,function(D){return R(D)}),w=w.replace(/<[^>]+?>/gi,function(D){return R(D)}),w=M.converter._dispatch("hashHTMLSpans.after",w,P,M),w}),r.subParser("unhashHTMLSpans",function(w,P,M){w=M.converter._dispatch("unhashHTMLSpans.before",w,P,M);for(var R=0;R<M.gHtmlSpans.length;++R){for(var D=M.gHtmlSpans[R],H=0;/C(\d+)C/.test(D);){var O=RegExp.$1;if(D=D.replace("C"+O+"C",M.gHtmlSpans[O]),H===10){console.error("maximum nesting of 10 spans reached!!!");break}++H}w=w.replace("C"+R+"C",D)}return w=M.converter._dispatch("unhashHTMLSpans.after",w,P,M),w}),r.subParser("hashPreCodeTags",function(w,P,M){w=M.converter._dispatch("hashPreCodeTags.before",w,P,M);var R=function(D,H,O,z){var G=O+r.subParser("encodeCode")(H,P,M)+z;return`

G`+(M.ghCodeBlocks.push({text:D,codeblock:G})-1)+`G

`};return w=r.helper.replaceRecursiveRegExp(w,R,"^ {0,3}<pre\\b[^>]*>\\s*<code\\b[^>]*>","^ {0,3}</code>\\s*</pre>","gim"),w=M.converter._dispatch("hashPreCodeTags.after",w,P,M),w}),r.subParser("headers",function(w,P,M){w=M.converter._dispatch("headers.before",w,P,M);var R=isNaN(parseInt(P.headerLevelStart))?1:parseInt(P.headerLevelStart),D=P.smoothLivePreview?/^(.+)[ \t]*\n={2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n=+[ \t]*\n+/gm,H=P.smoothLivePreview?/^(.+)[ \t]*\n-{2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n-+[ \t]*\n+/gm;w=w.replace(D,function(G,ee){var X=r.subParser("spanGamut")(ee,P,M),se=P.noHeaderId?"":' id="'+z(ee)+'"',B=R,q="<h"+B+se+">"+X+"</h"+B+">";return r.subParser("hashBlock")(q,P,M)}),w=w.replace(H,function(G,ee){var X=r.subParser("spanGamut")(ee,P,M),se=P.noHeaderId?"":' id="'+z(ee)+'"',B=R+1,q="<h"+B+se+">"+X+"</h"+B+">";return r.subParser("hashBlock")(q,P,M)});var O=P.requireSpaceBeforeHeadingText?/^(#{1,6})[ \t]+(.+?)[ \t]*#*\n+/gm:/^(#{1,6})[ \t]*(.+?)[ \t]*#*\n+/gm;w=w.replace(O,function(G,ee,X){var se=X;P.customizedHeaderId&&(se=X.replace(/\s?\{([^{]+?)}\s*$/,""));var B=r.subParser("spanGamut")(se,P,M),q=P.noHeaderId?"":' id="'+z(X)+'"',U=R-1+ee.length,K="<h"+U+q+">"+B+"</h"+U+">";return r.subParser("hashBlock")(K,P,M)});function z(G){var ee,X;if(P.customizedHeaderId){var se=G.match(/\{([^{]+?)}\s*$/);se&&se[1]&&(G=se[1])}return ee=G,r.helper.isString(P.prefixHeaderId)?X=P.prefixHeaderId:P.prefixHeaderId===!0?X="section-":X="",P.rawPrefixHeaderId||(ee=X+ee),P.ghCompatibleHeaderId?ee=ee.replace(/ /g,"-").replace(/&amp;/g,"").replace(/T/g,"").replace(/D/g,"").replace(/[&+$,\/:;=?@"#{}|^~\[\]`\\*)(%.!'<>]/g,"").toLowerCase():P.rawHeaderId?ee=ee.replace(/ /g,"-").replace(/&amp;/g,"&").replace(/T/g,"").replace(/D/g,"$").replace(/["']/g,"-").toLowerCase():ee=ee.replace(/[^\w]/g,"").toLowerCase(),P.rawPrefixHeaderId&&(ee=X+ee),M.hashLinkCounts[ee]?ee=ee+"-"+M.hashLinkCounts[ee]++:M.hashLinkCounts[ee]=1,ee}return w=M.converter._dispatch("headers.after",w,P,M),w}),r.subParser("horizontalRule",function(w,P,M){w=M.converter._dispatch("horizontalRule.before",w,P,M);var R=r.subParser("hashBlock")("<hr />",P,M);return w=w.replace(/^ {0,2}( ?-){3,}[ \t]*$/gm,R),w=w.replace(/^ {0,2}( ?\*){3,}[ \t]*$/gm,R),w=w.replace(/^ {0,2}( ?_){3,}[ \t]*$/gm,R),w=M.converter._dispatch("horizontalRule.after",w,P,M),w}),r.subParser("images",function(w,P,M){w=M.converter._dispatch("images.before",w,P,M);var R=/!\[([^\]]*?)][ \t]*()\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,D=/!\[([^\]]*?)][ \t]*()\([ \t]?<([^>]*)>(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(?:(["'])([^"]*?)\6))?[ \t]?\)/g,H=/!\[([^\]]*?)][ \t]*()\([ \t]?<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,O=/!\[([^\]]*?)] ?(?:\n *)?\[([\s\S]*?)]()()()()()/g,z=/!\[([^\[\]]+)]()()()()()/g;function G(X,se,B,q,U,K,J,oe){return q=q.replace(/\s/g,""),ee(X,se,B,q,U,K,J,oe)}function ee(X,se,B,q,U,K,J,oe){var he=M.gUrls,me=M.gTitles,re=M.gDimensions;if(B=B.toLowerCase(),oe||(oe=""),X.search(/\(<?\s*>? ?(['"].*['"])?\)$/m)>-1)q="";else if(q===""||q===null)if((B===""||B===null)&&(B=se.toLowerCase().replace(/ ?\n/g," ")),q="#"+B,!r.helper.isUndefined(he[B]))q=he[B],r.helper.isUndefined(me[B])||(oe=me[B]),r.helper.isUndefined(re[B])||(U=re[B].width,K=re[B].height);else return X;se=se.replace(/"/g,"&quot;").replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback),q=q.replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback);var ue='<img src="'+q+'" alt="'+se+'"';return oe&&r.helper.isString(oe)&&(oe=oe.replace(/"/g,"&quot;").replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback),ue+=' title="'+oe+'"'),U&&K&&(U=U==="*"?"auto":U,K=K==="*"?"auto":K,ue+=' width="'+U+'"',ue+=' height="'+K+'"'),ue+=" />",ue}return w=w.replace(O,ee),w=w.replace(H,G),w=w.replace(D,ee),w=w.replace(R,ee),w=w.replace(z,ee),w=M.converter._dispatch("images.after",w,P,M),w}),r.subParser("italicsAndBold",function(w,P,M){w=M.converter._dispatch("italicsAndBold.before",w,P,M);function R(D,H,O){return H+D+O}return P.literalMidWordUnderscores?(w=w.replace(/\b___(\S[\s\S]*?)___\b/g,function(D,H){return R(H,"<strong><em>","</em></strong>")}),w=w.replace(/\b__(\S[\s\S]*?)__\b/g,function(D,H){return R(H,"<strong>","</strong>")}),w=w.replace(/\b_(\S[\s\S]*?)_\b/g,function(D,H){return R(H,"<em>","</em>")})):(w=w.replace(/___(\S[\s\S]*?)___/g,function(D,H){return/\S$/.test(H)?R(H,"<strong><em>","</em></strong>"):D}),w=w.replace(/__(\S[\s\S]*?)__/g,function(D,H){return/\S$/.test(H)?R(H,"<strong>","</strong>"):D}),w=w.replace(/_([^\s_][\s\S]*?)_/g,function(D,H){return/\S$/.test(H)?R(H,"<em>","</em>"):D})),P.literalMidWordAsterisks?(w=w.replace(/([^*]|^)\B\*\*\*(\S[\s\S]*?)\*\*\*\B(?!\*)/g,function(D,H,O){return R(O,H+"<strong><em>","</em></strong>")}),w=w.replace(/([^*]|^)\B\*\*(\S[\s\S]*?)\*\*\B(?!\*)/g,function(D,H,O){return R(O,H+"<strong>","</strong>")}),w=w.replace(/([^*]|^)\B\*(\S[\s\S]*?)\*\B(?!\*)/g,function(D,H,O){return R(O,H+"<em>","</em>")})):(w=w.replace(/\*\*\*(\S[\s\S]*?)\*\*\*/g,function(D,H){return/\S$/.test(H)?R(H,"<strong><em>","</em></strong>"):D}),w=w.replace(/\*\*(\S[\s\S]*?)\*\*/g,function(D,H){return/\S$/.test(H)?R(H,"<strong>","</strong>"):D}),w=w.replace(/\*([^\s*][\s\S]*?)\*/g,function(D,H){return/\S$/.test(H)?R(H,"<em>","</em>"):D})),w=M.converter._dispatch("italicsAndBold.after",w,P,M),w}),r.subParser("lists",function(w,P,M){function R(O,z){M.gListLevel++,O=O.replace(/\n{2,}$/,`
`),O+="0";var G=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(0| {0,3}([*+-]|\d+[.])[ \t]+))/gm,ee=/\n[ \t]*\n(?!0)/.test(O);return P.disableForced4SpacesIndentedSublists&&(G=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(0|\2([*+-]|\d+[.])[ \t]+))/gm),O=O.replace(G,function(X,se,B,q,U,K,J){J=J&&J.trim()!=="";var oe=r.subParser("outdent")(U,P,M),he="";return K&&P.tasklists&&(he=' class="task-list-item" style="list-style-type: none;"',oe=oe.replace(/^[ \t]*\[(x|X| )?]/m,function(){var me='<input type="checkbox" disabled style="margin: 0px 0.35em 0.25em -1.6em; vertical-align: middle;"';return J&&(me+=" checked"),me+=">",me})),oe=oe.replace(/^([-*+]|\d\.)[ \t]+[\S\n ]*/g,function(me){return"A"+me}),se||oe.search(/\n{2,}/)>-1?(oe=r.subParser("githubCodeBlocks")(oe,P,M),oe=r.subParser("blockGamut")(oe,P,M)):(oe=r.subParser("lists")(oe,P,M),oe=oe.replace(/\n$/,""),oe=r.subParser("hashHTMLBlocks")(oe,P,M),oe=oe.replace(/\n\n+/g,`

`),ee?oe=r.subParser("paragraphs")(oe,P,M):oe=r.subParser("spanGamut")(oe,P,M)),oe=oe.replace("A",""),oe="<li"+he+">"+oe+`</li>
`,oe}),O=O.replace(/0/g,""),M.gListLevel--,z&&(O=O.replace(/\s+$/,"")),O}function D(O,z){if(z==="ol"){var G=O.match(/^ *(\d+)\./);if(G&&G[1]!=="1")return' start="'+G[1]+'"'}return""}function H(O,z,G){var ee=P.disableForced4SpacesIndentedSublists?/^ ?\d+\.[ \t]/gm:/^ {0,3}\d+\.[ \t]/gm,X=P.disableForced4SpacesIndentedSublists?/^ ?[*+-][ \t]/gm:/^ {0,3}[*+-][ \t]/gm,se=z==="ul"?ee:X,B="";if(O.search(se)!==-1)(function U(K){var J=K.search(se),oe=D(O,z);J!==-1?(B+=`

<`+z+oe+`>
`+R(K.slice(0,J),!!G)+"</"+z+`>
`,z=z==="ul"?"ol":"ul",se=z==="ul"?ee:X,U(K.slice(J))):B+=`

<`+z+oe+`>
`+R(K,!!G)+"</"+z+`>
`})(O);else{var q=D(O,z);B=`

<`+z+q+`>
`+R(O,!!G)+"</"+z+`>
`}return B}return w=M.converter._dispatch("lists.before",w,P,M),w+="0",M.gListLevel?w=w.replace(/^(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,function(O,z,G){var ee=G.search(/[*+-]/g)>-1?"ul":"ol";return H(z,ee,!0)}):w=w.replace(/(\n\n|^\n?)(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,function(O,z,G,ee){var X=ee.search(/[*+-]/g)>-1?"ul":"ol";return H(G,X,!1)}),w=w.replace(/0/,""),w=M.converter._dispatch("lists.after",w,P,M),w}),r.subParser("metadata",function(w,P,M){if(!P.metadata)return w;w=M.converter._dispatch("metadata.before",w,P,M);function R(D){M.metadata.raw=D,D=D.replace(/&/g,"&amp;").replace(/"/g,"&quot;"),D=D.replace(/\n {4}/g," "),D.replace(/^([\S ]+): +([\s\S]+?)$/gm,function(H,O,z){return M.metadata.parsed[O]=z,""})}return w=w.replace(/^\s*+(\S*?)\n([\s\S]+?)\n+\n/,function(D,H,O){return R(O),"M"}),w=w.replace(/^\s*---+(\S*?)\n([\s\S]+?)\n---+\n/,function(D,H,O){return H&&(M.metadata.format=H),R(O),"M"}),w=w.replace(/M/g,""),w=M.converter._dispatch("metadata.after",w,P,M),w}),r.subParser("outdent",function(w,P,M){return w=M.converter._dispatch("outdent.before",w,P,M),w=w.replace(/^(\t|[ ]{1,4})/gm,"0"),w=w.replace(/0/g,""),w=M.converter._dispatch("outdent.after",w,P,M),w}),r.subParser("paragraphs",function(w,P,M){w=M.converter._dispatch("paragraphs.before",w,P,M),w=w.replace(/^\n+/g,""),w=w.replace(/\n+$/g,"");for(var R=w.split(/\n{2,}/g),D=[],H=R.length,O=0;O<H;O++){var z=R[O];z.search(/(K|G)(\d+)\1/g)>=0?D.push(z):z.search(/\S/)>=0&&(z=r.subParser("spanGamut")(z,P,M),z=z.replace(/^([ \t]*)/g,"<p>"),z+="</p>",D.push(z))}for(H=D.length,O=0;O<H;O++){for(var G="",ee=D[O],X=!1;/(K|G)(\d+)\1/.test(ee);){var se=RegExp.$1,B=RegExp.$2;se==="K"?G=M.gHtmlBlocks[B]:X?G=r.subParser("encodeCode")(M.ghCodeBlocks[B].text,P,M):G=M.ghCodeBlocks[B].codeblock,G=G.replace(/\$/g,"$$$$"),ee=ee.replace(/(\n\n)?(K|G)\d+\2(\n\n)?/,G),/^<pre\b[^>]*>\s*<code\b[^>]*>/.test(ee)&&(X=!0)}D[O]=ee}return w=D.join(`
`),w=w.replace(/^\n+/g,""),w=w.replace(/\n+$/g,""),M.converter._dispatch("paragraphs.after",w,P,M)}),r.subParser("runExtension",function(w,P,M,R){if(w.filter)P=w.filter(P,R.converter,M);else if(w.regex){var D=w.regex;D instanceof RegExp||(D=new RegExp(D,"g")),P=P.replace(D,w.replace)}return P}),r.subParser("spanGamut",function(w,P,M){return w=M.converter._dispatch("spanGamut.before",w,P,M),w=r.subParser("codeSpans")(w,P,M),w=r.subParser("escapeSpecialCharsWithinTagAttributes")(w,P,M),w=r.subParser("encodeBackslashEscapes")(w,P,M),w=r.subParser("images")(w,P,M),w=r.subParser("anchors")(w,P,M),w=r.subParser("autoLinks")(w,P,M),w=r.subParser("simplifiedAutoLinks")(w,P,M),w=r.subParser("emoji")(w,P,M),w=r.subParser("underline")(w,P,M),w=r.subParser("italicsAndBold")(w,P,M),w=r.subParser("strikethrough")(w,P,M),w=r.subParser("ellipsis")(w,P,M),w=r.subParser("hashHTMLSpans")(w,P,M),w=r.subParser("encodeAmpsAndAngles")(w,P,M),P.simpleLineBreaks?/\n\nK/.test(w)||(w=w.replace(/\n+/g,`<br />
`)):w=w.replace(/  +\n/g,`<br />
`),w=M.converter._dispatch("spanGamut.after",w,P,M),w}),r.subParser("strikethrough",function(w,P,M){function R(D){return P.simplifiedAutoLink&&(D=r.subParser("simplifiedAutoLinks")(D,P,M)),"<del>"+D+"</del>"}return P.strikethrough&&(w=M.converter._dispatch("strikethrough.before",w,P,M),w=w.replace(/(?:~){2}([\s\S]+?)(?:~){2}/g,function(D,H){return R(H)}),w=M.converter._dispatch("strikethrough.after",w,P,M)),w}),r.subParser("stripLinkDefinitions",function(w,P,M){var R=/^ {0,3}\[([^\]]+)]:[ \t]*\n?[ \t]*<?([^>\s]+)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n+|(?=0))/gm,D=/^ {0,3}\[([^\]]+)]:[ \t]*\n?[ \t]*<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n\n|(?=0)|(?=\n\[))/gm;w+="0";var H=function(O,z,G,ee,X,se,B){return z=z.toLowerCase(),w.toLowerCase().split(z).length-1<2?O:(G.match(/^data:.+?\/.+?;base64,/)?M.gUrls[z]=G.replace(/\s/g,""):M.gUrls[z]=r.subParser("encodeAmpsAndAngles")(G,P,M),se?se+B:(B&&(M.gTitles[z]=B.replace(/"|'/g,"&quot;")),P.parseImgDimensions&&ee&&X&&(M.gDimensions[z]={width:ee,height:X}),""))};return w=w.replace(D,H),w=w.replace(R,H),w=w.replace(/0/,""),w}),r.subParser("tables",function(w,P,M){if(!P.tables)return w;var R=/^ {0,3}\|?.+\|.+\n {0,3}\|?[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*:?[ \t]*(?:[-=]){2,}[\s\S]+?(?:\n\n|0)/gm,D=/^ {0,3}\|.+\|[ \t]*\n {0,3}\|[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*\n( {0,3}\|.+\|[ \t]*\n)*(?:\n|0)/gm;function H(X){return/^:[ \t]*--*$/.test(X)?' style="text-align:left;"':/^--*[ \t]*:[ \t]*$/.test(X)?' style="text-align:right;"':/^:[ \t]*--*[ \t]*:$/.test(X)?' style="text-align:center;"':""}function O(X,se){var B="";return X=X.trim(),(P.tablesHeaderId||P.tableHeaderId)&&(B=' id="'+X.replace(/ /g,"_").toLowerCase()+'"'),X=r.subParser("spanGamut")(X,P,M),"<th"+B+se+">"+X+`</th>
`}function z(X,se){var B=r.subParser("spanGamut")(X,P,M);return"<td"+se+">"+B+`</td>
`}function G(X,se){for(var B=`<table>
<thead>
<tr>
`,q=X.length,U=0;U<q;++U)B+=X[U];for(B+=`</tr>
</thead>
<tbody>
`,U=0;U<se.length;++U){B+=`<tr>
`;for(var K=0;K<q;++K)B+=se[U][K];B+=`</tr>
`}return B+=`</tbody>
</table>
`,B}function ee(X){var se,B=X.split(`
`);for(se=0;se<B.length;++se)/^ {0,3}\|/.test(B[se])&&(B[se]=B[se].replace(/^ {0,3}\|/,"")),/\|[ \t]*$/.test(B[se])&&(B[se]=B[se].replace(/\|[ \t]*$/,"")),B[se]=r.subParser("codeSpans")(B[se],P,M);var q=B[0].split("|").map(function(ue){return ue.trim()}),U=B[1].split("|").map(function(ue){return ue.trim()}),K=[],J=[],oe=[],he=[];for(B.shift(),B.shift(),se=0;se<B.length;++se)B[se].trim()!==""&&K.push(B[se].split("|").map(function(ue){return ue.trim()}));if(q.length<U.length)return X;for(se=0;se<U.length;++se)oe.push(H(U[se]));for(se=0;se<q.length;++se)r.helper.isUndefined(oe[se])&&(oe[se]=""),J.push(O(q[se],oe[se]));for(se=0;se<K.length;++se){for(var me=[],re=0;re<J.length;++re)r.helper.isUndefined(K[se][re]),me.push(z(K[se][re],oe[re]));he.push(me)}return G(J,he)}return w=M.converter._dispatch("tables.before",w,P,M),w=w.replace(/\\(\|)/g,r.helper.escapeCharactersCallback),w=w.replace(R,ee),w=w.replace(D,ee),w=M.converter._dispatch("tables.after",w,P,M),w}),r.subParser("underline",function(w,P,M){return P.underline&&(w=M.converter._dispatch("underline.before",w,P,M),P.literalMidWordUnderscores?(w=w.replace(/\b___(\S[\s\S]*?)___\b/g,function(R,D){return"<u>"+D+"</u>"}),w=w.replace(/\b__(\S[\s\S]*?)__\b/g,function(R,D){return"<u>"+D+"</u>"})):(w=w.replace(/___(\S[\s\S]*?)___/g,function(R,D){return/\S$/.test(D)?"<u>"+D+"</u>":R}),w=w.replace(/__(\S[\s\S]*?)__/g,function(R,D){return/\S$/.test(D)?"<u>"+D+"</u>":R})),w=w.replace(/(_)/g,r.helper.escapeCharactersCallback),w=M.converter._dispatch("underline.after",w,P,M)),w}),r.subParser("unescapeSpecialChars",function(w,P,M){return w=M.converter._dispatch("unescapeSpecialChars.before",w,P,M),w=w.replace(/E(\d+)E/g,function(R,D){var H=parseInt(D);return String.fromCharCode(H)}),w=M.converter._dispatch("unescapeSpecialChars.after",w,P,M),w}),r.subParser("makeMarkdown.blockquote",function(w,P){var M="";if(w.hasChildNodes())for(var R=w.childNodes,D=R.length,H=0;H<D;++H){var O=r.subParser("makeMarkdown.node")(R[H],P);O!==""&&(M+=O)}return M=M.trim(),M="> "+M.split(`
`).join(`
> `),M}),r.subParser("makeMarkdown.codeBlock",function(w,P){var M=w.getAttribute("language"),R=w.getAttribute("precodenum");return"```"+M+`
`+P.preList[R]+"\n```"}),r.subParser("makeMarkdown.codeSpan",function(w){return"`"+w.innerHTML+"`"}),r.subParser("makeMarkdown.emphasis",function(w,P){var M="";if(w.hasChildNodes()){M+="*";for(var R=w.childNodes,D=R.length,H=0;H<D;++H)M+=r.subParser("makeMarkdown.node")(R[H],P);M+="*"}return M}),r.subParser("makeMarkdown.header",function(w,P,M){var R=new Array(M+1).join("#"),D="";if(w.hasChildNodes()){D=R+" ";for(var H=w.childNodes,O=H.length,z=0;z<O;++z)D+=r.subParser("makeMarkdown.node")(H[z],P)}return D}),r.subParser("makeMarkdown.hr",function(){return"---"}),r.subParser("makeMarkdown.image",function(w){var P="";return w.hasAttribute("src")&&(P+="!["+w.getAttribute("alt")+"](",P+="<"+w.getAttribute("src")+">",w.hasAttribute("width")&&w.hasAttribute("height")&&(P+=" ="+w.getAttribute("width")+"x"+w.getAttribute("height")),w.hasAttribute("title")&&(P+=' "'+w.getAttribute("title")+'"'),P+=")"),P}),r.subParser("makeMarkdown.links",function(w,P){var M="";if(w.hasChildNodes()&&w.hasAttribute("href")){var R=w.childNodes,D=R.length;M="[";for(var H=0;H<D;++H)M+=r.subParser("makeMarkdown.node")(R[H],P);M+="](",M+="<"+w.getAttribute("href")+">",w.hasAttribute("title")&&(M+=' "'+w.getAttribute("title")+'"'),M+=")"}return M}),r.subParser("makeMarkdown.list",function(w,P,M){var R="";if(!w.hasChildNodes())return"";for(var D=w.childNodes,H=D.length,O=w.getAttribute("start")||1,z=0;z<H;++z)if(!(typeof D[z].tagName>"u"||D[z].tagName.toLowerCase()!=="li")){var G="";M==="ol"?G=O.toString()+". ":G="- ",R+=G+r.subParser("makeMarkdown.listItem")(D[z],P),++O}return R+=`
<!-- -->
`,R.trim()}),r.subParser("makeMarkdown.listItem",function(w,P){for(var M="",R=w.childNodes,D=R.length,H=0;H<D;++H)M+=r.subParser("makeMarkdown.node")(R[H],P);return/\n$/.test(M)?M=M.split(`
`).join(`
    `).replace(/^ {4}$/gm,"").replace(/\n\n+/g,`

`):M+=`
`,M}),r.subParser("makeMarkdown.node",function(w,P,M){M=M||!1;var R="";if(w.nodeType===3)return r.subParser("makeMarkdown.txt")(w,P);if(w.nodeType===8)return"<!--"+w.data+`-->

`;if(w.nodeType!==1)return"";var D=w.tagName.toLowerCase();switch(D){case"h1":M||(R=r.subParser("makeMarkdown.header")(w,P,1)+`

`);break;case"h2":M||(R=r.subParser("makeMarkdown.header")(w,P,2)+`

`);break;case"h3":M||(R=r.subParser("makeMarkdown.header")(w,P,3)+`

`);break;case"h4":M||(R=r.subParser("makeMarkdown.header")(w,P,4)+`

`);break;case"h5":M||(R=r.subParser("makeMarkdown.header")(w,P,5)+`

`);break;case"h6":M||(R=r.subParser("makeMarkdown.header")(w,P,6)+`

`);break;case"p":M||(R=r.subParser("makeMarkdown.paragraph")(w,P)+`

`);break;case"blockquote":M||(R=r.subParser("makeMarkdown.blockquote")(w,P)+`

`);break;case"hr":M||(R=r.subParser("makeMarkdown.hr")(w,P)+`

`);break;case"ol":M||(R=r.subParser("makeMarkdown.list")(w,P,"ol")+`

`);break;case"ul":M||(R=r.subParser("makeMarkdown.list")(w,P,"ul")+`

`);break;case"precode":M||(R=r.subParser("makeMarkdown.codeBlock")(w,P)+`

`);break;case"pre":M||(R=r.subParser("makeMarkdown.pre")(w,P)+`

`);break;case"table":M||(R=r.subParser("makeMarkdown.table")(w,P)+`

`);break;case"code":R=r.subParser("makeMarkdown.codeSpan")(w,P);break;case"em":case"i":R=r.subParser("makeMarkdown.emphasis")(w,P);break;case"strong":case"b":R=r.subParser("makeMarkdown.strong")(w,P);break;case"del":R=r.subParser("makeMarkdown.strikethrough")(w,P);break;case"a":R=r.subParser("makeMarkdown.links")(w,P);break;case"img":R=r.subParser("makeMarkdown.image")(w,P);break;default:R=w.outerHTML+`

`}return R}),r.subParser("makeMarkdown.paragraph",function(w,P){var M="";if(w.hasChildNodes())for(var R=w.childNodes,D=R.length,H=0;H<D;++H)M+=r.subParser("makeMarkdown.node")(R[H],P);return M=M.trim(),M}),r.subParser("makeMarkdown.pre",function(w,P){var M=w.getAttribute("prenum");return"<pre>"+P.preList[M]+"</pre>"}),r.subParser("makeMarkdown.strikethrough",function(w,P){var M="";if(w.hasChildNodes()){M+="~~";for(var R=w.childNodes,D=R.length,H=0;H<D;++H)M+=r.subParser("makeMarkdown.node")(R[H],P);M+="~~"}return M}),r.subParser("makeMarkdown.strong",function(w,P){var M="";if(w.hasChildNodes()){M+="**";for(var R=w.childNodes,D=R.length,H=0;H<D;++H)M+=r.subParser("makeMarkdown.node")(R[H],P);M+="**"}return M}),r.subParser("makeMarkdown.table",function(w,P){var M="",R=[[],[]],D=w.querySelectorAll("thead>tr>th"),H=w.querySelectorAll("tbody>tr"),O,z;for(O=0;O<D.length;++O){var G=r.subParser("makeMarkdown.tableCell")(D[O],P),ee="---";if(D[O].hasAttribute("style")){var X=D[O].getAttribute("style").toLowerCase().replace(/\s/g,"");switch(X){case"text-align:left;":ee=":---";break;case"text-align:right;":ee="---:";break;case"text-align:center;":ee=":---:";break}}R[0][O]=G.trim(),R[1][O]=ee}for(O=0;O<H.length;++O){var se=R.push([])-1,B=H[O].getElementsByTagName("td");for(z=0;z<D.length;++z){var q=" ";typeof B[z]<"u"&&(q=r.subParser("makeMarkdown.tableCell")(B[z],P)),R[se].push(q)}}var U=3;for(O=0;O<R.length;++O)for(z=0;z<R[O].length;++z){var K=R[O][z].length;K>U&&(U=K)}for(O=0;O<R.length;++O){for(z=0;z<R[O].length;++z)O===1?R[O][z].slice(-1)===":"?R[O][z]=r.helper.padEnd(R[O][z].slice(-1),U-1,"-")+":":R[O][z]=r.helper.padEnd(R[O][z],U,"-"):R[O][z]=r.helper.padEnd(R[O][z],U);M+="| "+R[O].join(" | ")+` |
`}return M.trim()}),r.subParser("makeMarkdown.tableCell",function(w,P){var M="";if(!w.hasChildNodes())return"";for(var R=w.childNodes,D=R.length,H=0;H<D;++H)M+=r.subParser("makeMarkdown.node")(R[H],P,!0);return M.trim()}),r.subParser("makeMarkdown.txt",function(w){var P=w.nodeValue;return P=P.replace(/ +/g," "),P=P.replace(/NBSP;/g," "),P=r.helper.unescapeHTMLEntities(P),P=P.replace(/([*_~|`])/g,"\\$1"),P=P.replace(/^(\s*)>/g,"\\$1>"),P=P.replace(/^#/gm,"\\#"),P=P.replace(/^(\s*)([-=]{3,})(\s*)$/,"$1\\$2$3"),P=P.replace(/^( {0,3}\d+)\./gm,"$1\\."),P=P.replace(/^( {0,3})([+-])/gm,"$1\\$2"),P=P.replace(/]([\s]*)\(/g,"\\]$1\\("),P=P.replace(/^ {0,3}\[([\S \t]*?)]:/gm,"\\[$1]:"),P});var k=this;e.exports?e.exports=r:k.showdown=r}).call(dg)})(hke);var Dut=hke.exports;function Out(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}return e}function KU(e,t){return Array(t+1).join(e)}function jut(e){return e.replace(/^\n*/,"")}function Nut(e){for(var t=e.length;t>0&&e[t-1]===`
`;)t--;return e.substring(0,t)}var Fut=["ADDRESS","ARTICLE","ASIDE","AUDIO","BLOCKQUOTE","BODY","CANVAS","CENTER","DD","DIR","DIV","DL","DT","FIELDSET","FIGCAPTION","FIGURE","FOOTER","FORM","FRAMESET","H1","H2","H3","H4","H5","H6","HEADER","HGROUP","HR","HTML","ISINDEX","LI","MAIN","MENU","NAV","NOFRAMES","NOSCRIPT","OL","OUTPUT","P","PRE","SECTION","TABLE","TBODY","TD","TFOOT","TH","THEAD","TR","UL"];function SQ(e){return _Q(e,Fut)}var pke=["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"];function mke(e){return _Q(e,pke)}function But(e){return vke(e,pke)}var gke=["A","TABLE","THEAD","TBODY","TFOOT","TH","TD","IFRAME","SCRIPT","AUDIO","VIDEO"];function zut(e){return _Q(e,gke)}function Hut(e){return vke(e,gke)}function _Q(e,t){return t.indexOf(e.nodeName)>=0}function vke(e,t){return e.getElementsByTagName&&t.some(function(n){return e.getElementsByTagName(n).length})}var jl={};jl.paragraph={filter:"p",replacement:function(e){return`

`+e+`

`}};jl.lineBreak={filter:"br",replacement:function(e,t,n){return n.br+`
`}};jl.heading={filter:["h1","h2","h3","h4","h5","h6"],replacement:function(e,t,n){var r=Number(t.nodeName.charAt(1));if(n.headingStyle==="setext"&&r<3){var i=KU(r===1?"=":"-",e.length);return`

`+e+`
`+i+`

`}else return`

`+KU("#",r)+" "+e+`

`}};jl.blockquote={filter:"blockquote",replacement:function(e){return e=e.replace(/^\n+|\n+$/g,""),e=e.replace(/^/gm,"> "),`

`+e+`

`}};jl.list={filter:["ul","ol"],replacement:function(e,t){var n=t.parentNode;return n.nodeName==="LI"&&n.lastElementChild===t?`
`+e:`

`+e+`

`}};jl.listItem={filter:"li",replacement:function(e,t,n){e=e.replace(/^\n+/,"").replace(/\n+$/,`
`).replace(/\n/gm,`
    `);var r=n.bulletListMarker+"   ",i=t.parentNode;if(i.nodeName==="OL"){var o=i.getAttribute("start"),s=Array.prototype.indexOf.call(i.children,t);r=(o?Number(o)+s:s+1)+".  "}return r+e+(t.nextSibling&&!/\n$/.test(e)?`
`:"")}};jl.indentedCodeBlock={filter:function(e,t){return t.codeBlockStyle==="indented"&&e.nodeName==="PRE"&&e.firstChild&&e.firstChild.nodeName==="CODE"},replacement:function(e,t,n){return`

    `+t.firstChild.textContent.replace(/\n/g,`
    `)+`

`}};jl.fencedCodeBlock={filter:function(e,t){return t.codeBlockStyle==="fenced"&&e.nodeName==="PRE"&&e.firstChild&&e.firstChild.nodeName==="CODE"},replacement:function(e,t,n){for(var r=t.firstChild.getAttribute("class")||"",i=(r.match(/language-(\S+)/)||[null,""])[1],o=t.firstChild.textContent,s=n.fence.charAt(0),a=3,l=new RegExp("^"+s+"{3,}","gm"),u;u=l.exec(o);)u[0].length>=a&&(a=u[0].length+1);var c=KU(s,a);return`

`+c+i+`
`+o.replace(/\n$/,"")+`
`+c+`

`}};jl.horizontalRule={filter:"hr",replacement:function(e,t,n){return`

`+n.hr+`

`}};jl.inlineLink={filter:function(e,t){return t.linkStyle==="inlined"&&e.nodeName==="A"&&e.getAttribute("href")},replacement:function(e,t){var n=t.getAttribute("href");n&&(n=n.replace(/([()])/g,"\\$1"));var r=nD(t.getAttribute("title"));return r&&(r=' "'+r.replace(/"/g,'\\"')+'"'),"["+e+"]("+n+r+")"}};jl.referenceLink={filter:function(e,t){return t.linkStyle==="referenced"&&e.nodeName==="A"&&e.getAttribute("href")},replacement:function(e,t,n){var r=t.getAttribute("href"),i=nD(t.getAttribute("title"));i&&(i=' "'+i+'"');var o,s;switch(n.linkReferenceStyle){case"collapsed":o="["+e+"][]",s="["+e+"]: "+r+i;break;case"shortcut":o="["+e+"]",s="["+e+"]: "+r+i;break;default:var a=this.references.length+1;o="["+e+"]["+a+"]",s="["+a+"]: "+r+i}return this.references.push(s),o},references:[],append:function(e){var t="";return this.references.length&&(t=`

`+this.references.join(`
`)+`

`,this.references=[]),t}};jl.emphasis={filter:["em","i"],replacement:function(e,t,n){return e.trim()?n.emDelimiter+e+n.emDelimiter:""}};jl.strong={filter:["strong","b"],replacement:function(e,t,n){return e.trim()?n.strongDelimiter+e+n.strongDelimiter:""}};jl.code={filter:function(e){var t=e.previousSibling||e.nextSibling,n=e.parentNode.nodeName==="PRE"&&!t;return e.nodeName==="CODE"&&!n},replacement:function(e){if(!e)return"";e=e.replace(/\r?\n|\r/g," ");for(var t=/^`|^ .*?[^ ].* $|`$/.test(e)?" ":"",n="`",r=e.match(/`+/gm)||[];r.indexOf(n)!==-1;)n=n+"`";return n+t+e+t+n}};jl.image={filter:"img",replacement:function(e,t){var n=nD(t.getAttribute("alt")),r=t.getAttribute("src")||"",i=nD(t.getAttribute("title")),o=i?' "'+i+'"':"";return r?"!["+n+"]("+r+o+")":""}};function nD(e){return e?e.replace(/(\n+\s*)+/g,`
`):""}function yke(e){this.options=e,this._keep=[],this._remove=[],this.blankRule={replacement:e.blankReplacement},this.keepReplacement=e.keepReplacement,this.defaultRule={replacement:e.defaultReplacement},this.array=[];for(var t in e.rules)this.array.push(e.rules[t])}yke.prototype={add:function(e,t){this.array.unshift(t)},keep:function(e){this._keep.unshift({filter:e,replacement:this.keepReplacement})},remove:function(e){this._remove.unshift({filter:e,replacement:function(){return""}})},forNode:function(e){if(e.isBlank)return this.blankRule;var t;return(t=CF(this.array,e,this.options))||(t=CF(this._keep,e,this.options))||(t=CF(this._remove,e,this.options))?t:this.defaultRule},forEach:function(e){for(var t=0;t<this.array.length;t++)e(this.array[t],t)}};function CF(e,t,n){for(var r=0;r<e.length;r++){var i=e[r];if(Vut(i,t,n))return i}}function Vut(e,t,n){var r=e.filter;if(typeof r=="string"){if(r===t.nodeName.toLowerCase())return!0}else if(Array.isArray(r)){if(r.indexOf(t.nodeName.toLowerCase())>-1)return!0}else if(typeof r=="function"){if(r.call(e,t,n))return!0}else throw new TypeError("`filter` needs to be a string, array, or function")}function Uut(e){var t=e.element,n=e.isBlock,r=e.isVoid,i=e.isPre||function(f){return f.nodeName==="PRE"};if(!(!t.firstChild||i(t))){for(var o=null,s=!1,a=null,l=Uae(a,t,i);l!==t;){if(l.nodeType===3||l.nodeType===4){var u=l.data.replace(/[ \r\n\t]+/g," ");if((!o||/ $/.test(o.data))&&!s&&u[0]===" "&&(u=u.substr(1)),!u){l=EF(l);continue}l.data=u,o=l}else if(l.nodeType===1)n(l)||l.nodeName==="BR"?(o&&(o.data=o.data.replace(/ $/,"")),o=null,s=!1):r(l)||i(l)?(o=null,s=!0):o&&(s=!1);else{l=EF(l);continue}var c=Uae(a,l,i);a=l,l=c}o&&(o.data=o.data.replace(/ $/,""),o.data||EF(o))}}function EF(e){var t=e.nextSibling||e.parentNode;return e.parentNode.removeChild(e),t}function Uae(e,t,n){return e&&e.parentNode===t||n(t)?t.nextSibling||t.parentNode:t.firstChild||t.nextSibling||t.parentNode}var CQ=typeof window<"u"?window:{};function Wut(){var e=CQ.DOMParser,t=!1;try{new e().parseFromString("","text/html")&&(t=!0)}catch{}return t}function Kut(){var e=function(){};return qut()?e.prototype.parseFromString=function(t){var n=new window.ActiveXObject("htmlfile");return n.designMode="on",n.open(),n.write(t),n.close(),n}:e.prototype.parseFromString=function(t){var n=document.implementation.createHTMLDocument("");return n.open(),n.write(t),n.close(),n},e}function qut(){var e=!1;try{document.implementation.createHTMLDocument("").open()}catch{CQ.ActiveXObject&&(e=!0)}return e}var Gut=Wut()?CQ.DOMParser:Kut();function Zut(e,t){var n;if(typeof e=="string"){var r=Yut().parseFromString('<x-turndown id="turndown-root">'+e+"</x-turndown>","text/html");n=r.getElementById("turndown-root")}else n=e.cloneNode(!0);return Uut({element:n,isBlock:SQ,isVoid:mke,isPre:t.preformattedCode?Xut:null}),n}var kF;function Yut(){return kF=kF||new Gut,kF}function Xut(e){return e.nodeName==="PRE"||e.nodeName==="CODE"}function Qut(e,t){return e.isBlock=SQ(e),e.isCode=e.nodeName==="CODE"||e.parentNode.isCode,e.isBlank=Jut(e),e.flankingWhitespace=ect(e,t),e}function Jut(e){return!mke(e)&&!zut(e)&&/^\s*$/i.test(e.textContent)&&!But(e)&&!Hut(e)}function ect(e,t){if(e.isBlock||t.preformattedCode&&e.isCode)return{leading:"",trailing:""};var n=tct(e.textContent);return n.leadingAscii&&Wae("left",e,t)&&(n.leading=n.leadingNonAscii),n.trailingAscii&&Wae("right",e,t)&&(n.trailing=n.trailingNonAscii),{leading:n.leading,trailing:n.trailing}}function tct(e){var t=e.match(/^(([ \t\r\n]*)(\s*))(?:(?=\S)[\s\S]*\S)?((\s*?)([ \t\r\n]*))$/);return{leading:t[1],leadingAscii:t[2],leadingNonAscii:t[3],trailing:t[4],trailingNonAscii:t[5],trailingAscii:t[6]}}function Wae(e,t,n){var r,i,o;return e==="left"?(r=t.previousSibling,i=/ $/):(r=t.nextSibling,i=/^ /),r&&(r.nodeType===3?o=i.test(r.nodeValue):n.preformattedCode&&r.nodeName==="CODE"?o=!1:r.nodeType===1&&!SQ(r)&&(o=i.test(r.textContent))),o}var nct=Array.prototype.reduce,rct=[[/\\/g,"\\\\"],[/\*/g,"\\*"],[/^-/g,"\\-"],[/^\+ /g,"\\+ "],[/^(=+)/g,"\\$1"],[/^(#{1,6}) /g,"\\$1 "],[/`/g,"\\`"],[/^~~~/g,"\\~~~"],[/\[/g,"\\["],[/\]/g,"\\]"],[/^>/g,"\\>"],[/_/g,"\\_"],[/^(\d+)\. /g,"$1\\. "]];function rD(e){if(!(this instanceof rD))return new rD(e);var t={rules:jl,headingStyle:"setext",hr:"* * *",bulletListMarker:"*",codeBlockStyle:"indented",fence:"```",emDelimiter:"_",strongDelimiter:"**",linkStyle:"inlined",linkReferenceStyle:"full",br:"  ",preformattedCode:!1,blankReplacement:function(n,r){return r.isBlock?`

`:""},keepReplacement:function(n,r){return r.isBlock?`

`+r.outerHTML+`

`:r.outerHTML},defaultReplacement:function(n,r){return r.isBlock?`

`+n+`

`:n}};this.options=Out({},t,e),this.rules=new yke(this.options)}rD.prototype={turndown:function(e){if(!sct(e))throw new TypeError(e+" is not a string, or an element/document/fragment node.");if(e==="")return"";var t=bke.call(this,new Zut(e,this.options));return ict.call(this,t)},use:function(e){if(Array.isArray(e))for(var t=0;t<e.length;t++)this.use(e[t]);else if(typeof e=="function")e(this);else throw new TypeError("plugin must be a Function or an Array of Functions");return this},addRule:function(e,t){return this.rules.add(e,t),this},keep:function(e){return this.rules.keep(e),this},remove:function(e){return this.rules.remove(e),this},escape:function(e){return rct.reduce(function(t,n){return t.replace(n[0],n[1])},e)}};function bke(e){var t=this;return nct.call(e.childNodes,function(n,r){r=new Qut(r,t.options);var i="";return r.nodeType===3?i=r.isCode?r.nodeValue:t.escape(r.nodeValue):r.nodeType===1&&(i=oct.call(t,r)),wke(n,i)},"")}function ict(e){var t=this;return this.rules.forEach(function(n){typeof n.append=="function"&&(e=wke(e,n.append(t.options)))}),e.replace(/^[\t\r\n]+/,"").replace(/[\t\r\n\s]+$/,"")}function oct(e){var t=this.rules.forNode(e),n=bke.call(this,e),r=e.flankingWhitespace;return(r.leading||r.trailing)&&(n=n.trim()),r.leading+t.replacement(n,e,this.options)+r.trailing}function wke(e,t){var n=Nut(e),r=jut(t),i=Math.max(e.length-n.length,t.length-r.length),o=`

`.substring(0,i);return n+o+r}function sct(e){return e!=null&&(typeof e=="string"||e.nodeType&&(e.nodeType===1||e.nodeType===9||e.nodeType===11))}var xke={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var o="",s=0;s<arguments.length;s++){var a=arguments[s];a&&(o=i(o,r(a)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return n.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var s="";for(var a in o)t.call(o,a)&&o[a]&&(s=i(s,a));return s}function i(o,s){return s?o?o+" "+s:o+s:o}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(xke);var act=xke.exports;const yk=Dl(act);var lct=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},uS=new WeakMap,yM=new WeakMap,bM={},PF=0,Ske=function(e){return e&&(e.host||Ske(e.parentNode))},uct=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=Ske(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},cct=function(e,t,n,r){var i=uct(t,Array.isArray(e)?e:[e]);bM[n]||(bM[n]=new WeakMap);var o=bM[n],s=[],a=new Set,l=new Set(i),u=function(f){!f||a.has(f)||(a.add(f),u(f.parentNode))};i.forEach(u);var c=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(p){if(a.has(p))c(p);else try{var g=p.getAttribute(r),v=g!==null&&g!=="false",y=(uS.get(p)||0)+1,S=(o.get(p)||0)+1;uS.set(p,y),o.set(p,S),s.push(p),y===1&&v&&yM.set(p,!0),S===1&&p.setAttribute(n,"true"),v||p.setAttribute(r,"true")}catch(C){console.error("aria-hidden: cannot operate on ",p,C)}})};return c(t),a.clear(),PF++,function(){s.forEach(function(f){var p=uS.get(f)-1,g=o.get(f)-1;uS.set(f,p),o.set(f,g),p||(yM.has(f)||f.removeAttribute(r),yM.delete(f)),g||f.removeAttribute(n)}),PF--,PF||(uS=new WeakMap,uS=new WeakMap,yM=new WeakMap,bM={})}},dct=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=lct(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),cct(r,i,n,"aria-hidden")):function(){return null}},pp=function(){return pp=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},pp.apply(this,arguments)};function _ke(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function fct(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var xA="right-scroll-bar-position",SA="width-before-scroll-bar",hct="with-scroll-bars-hidden",pct="--removed-body-scroll-bar-size";function $F(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function mct(e,t){var n=h.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var gct=typeof window<"u"?h.useLayoutEffect:h.useEffect,Kae=new WeakMap;function Cke(e,t){var n=mct(null,function(r){return e.forEach(function(i){return $F(i,r)})});return gct(function(){var r=Kae.get(n);if(r){var i=new Set(r),o=new Set(e),s=n.current;i.forEach(function(a){o.has(a)||$F(a,null)}),o.forEach(function(a){i.has(a)||$F(a,s)})}Kae.set(n,e)},[e]),n}function Eke(e){return e}function kke(e,t){t===void 0&&(t=Eke);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var s=t(o,r);return n.push(s),function(){n=n.filter(function(a){return a!==s})}},assignSyncMedium:function(o){for(r=!0;n.length;){var s=n;n=[],s.forEach(o)}n={push:function(a){return o(a)},filter:function(){return n}}},assignMedium:function(o){r=!0;var s=[];if(n.length){var a=n;n=[],a.forEach(o),s=n}var l=function(){var c=s;s=[],c.forEach(o)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(c){s.push(c),u()},filter:function(c){return s=s.filter(c),n}}}};return i}function EQ(e,t){return t===void 0&&(t=Eke),kke(e,t)}function Pke(e){e===void 0&&(e={});var t=kke(null);return t.options=pp({async:!0,ssr:!1},e),t}var $ke=function(e){var t=e.sideCar,n=_ke(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return h.createElement(r,pp({},n))};$ke.isSideCarExport=!0;function vct(e,t){return e.useMedium(t),$ke}var Tke=Pke(),TF=function(){},f7=h.forwardRef(function(e,t){var n=h.useRef(null),r=h.useState({onScrollCapture:TF,onWheelCapture:TF,onTouchMoveCapture:TF}),i=r[0],o=r[1],s=e.forwardProps,a=e.children,l=e.className,u=e.removeScrollBar,c=e.enabled,f=e.shards,p=e.sideCar,g=e.noIsolation,v=e.inert,y=e.allowPinchZoom,S=e.as,C=S===void 0?"div":S,_=e.gapMode,k=_ke(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),w=p,P=Cke([n,t]),M=pp(pp({},k),i);return h.createElement(h.Fragment,null,c&&h.createElement(w,{sideCar:Tke,removeScrollBar:u,shards:f,noIsolation:g,inert:v,setCallbacks:o,allowPinchZoom:!!y,lockRef:n,gapMode:_}),s?h.cloneElement(h.Children.only(a),pp(pp({},M),{ref:P})):h.createElement(C,pp({},M,{className:l,ref:P}),a))});f7.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};f7.classNames={fullWidth:SA,zeroRight:xA};var yct=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function bct(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=yct();return t&&e.setAttribute("nonce",t),e}function wct(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function xct(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Sct=function(){var e=0,t=null;return{add:function(n){e==0&&(t=bct())&&(wct(t,n),xct(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},_ct=function(){var e=Sct();return function(t,n){h.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},Mke=function(){var e=_ct(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},Cct={left:0,top:0,right:0,gap:0},MF=function(e){return parseInt(e||"",10)||0},Ect=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[MF(n),MF(r),MF(i)]},kct=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Cct;var t=Ect(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},Pct=Mke(),N2="data-scroll-locked",$ct=function(e,t,n,r){var i=e.left,o=e.top,s=e.right,a=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(hct,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(N2,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(xA,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(SA,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(xA," .").concat(xA,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(SA," .").concat(SA,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(N2,`] {
    `).concat(pct,": ").concat(a,`px;
  }
`)},qae=function(){var e=parseInt(document.body.getAttribute(N2)||"0",10);return isFinite(e)?e:0},Tct=function(){h.useEffect(function(){return document.body.setAttribute(N2,(qae()+1).toString()),function(){var e=qae()-1;e<=0?document.body.removeAttribute(N2):document.body.setAttribute(N2,e.toString())}},[])},Mct=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r;Tct();var o=h.useMemo(function(){return kct(i)},[i]);return h.createElement(Pct,{styles:$ct(o,!t,i,n?"":"!important")})},qU=!1;if(typeof window<"u")try{var wM=Object.defineProperty({},"passive",{get:function(){return qU=!0,!0}});window.addEventListener("test",wM,wM),window.removeEventListener("test",wM,wM)}catch{qU=!1}var cS=qU?{passive:!1}:!1,Lct=function(e){return e.tagName==="TEXTAREA"},Lke=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!Lct(e)&&n[t]==="visible")},Act=function(e){return Lke(e,"overflowY")},Ict=function(e){return Lke(e,"overflowX")},Gae=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=Ake(e,r);if(i){var o=Ike(e,r),s=o[1],a=o[2];if(s>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Rct=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},Dct=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},Ake=function(e,t){return e==="v"?Act(t):Ict(t)},Ike=function(e,t){return e==="v"?Rct(t):Dct(t)},Oct=function(e,t){return e==="h"&&t==="rtl"?-1:1},jct=function(e,t,n,r,i){var o=Oct(e,window.getComputedStyle(t).direction),s=o*r,a=n.target,l=t.contains(a),u=!1,c=s>0,f=0,p=0;do{var g=Ike(e,a),v=g[0],y=g[1],S=g[2],C=y-S-o*v;(v||C)&&Ake(e,a)&&(f+=C,p+=v),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(t.contains(a)||t===a));return(c&&(Math.abs(f)<1||!i)||!c&&(Math.abs(p)<1||!i))&&(u=!0),u},xM=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Zae=function(e){return[e.deltaX,e.deltaY]},Yae=function(e){return e&&"current"in e?e.current:e},Nct=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Fct=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Bct=0,dS=[];function zct(e){var t=h.useRef([]),n=h.useRef([0,0]),r=h.useRef(),i=h.useState(Bct++)[0],o=h.useState(Mke)[0],s=h.useRef(e);h.useEffect(function(){s.current=e},[e]),h.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var y=fct([e.lockRef.current],(e.shards||[]).map(Yae),!0).filter(Boolean);return y.forEach(function(S){return S.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),y.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var a=h.useCallback(function(y,S){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!s.current.allowPinchZoom;var C=xM(y),_=n.current,k="deltaX"in y?y.deltaX:_[0]-C[0],w="deltaY"in y?y.deltaY:_[1]-C[1],P,M=y.target,R=Math.abs(k)>Math.abs(w)?"h":"v";if("touches"in y&&R==="h"&&M.type==="range")return!1;var D=Gae(R,M);if(!D)return!0;if(D?P=R:(P=R==="v"?"h":"v",D=Gae(R,M)),!D)return!1;if(!r.current&&"changedTouches"in y&&(k||w)&&(r.current=P),!P)return!0;var H=r.current||P;return jct(H,S,y,H==="h"?k:w,!0)},[]),l=h.useCallback(function(y){var S=y;if(!(!dS.length||dS[dS.length-1]!==o)){var C="deltaY"in S?Zae(S):xM(S),_=t.current.filter(function(P){return P.name===S.type&&(P.target===S.target||S.target===P.shadowParent)&&Nct(P.delta,C)})[0];if(_&&_.should){S.cancelable&&S.preventDefault();return}if(!_){var k=(s.current.shards||[]).map(Yae).filter(Boolean).filter(function(P){return P.contains(S.target)}),w=k.length>0?a(S,k[0]):!s.current.noIsolation;w&&S.cancelable&&S.preventDefault()}}},[]),u=h.useCallback(function(y,S,C,_){var k={name:y,delta:S,target:C,should:_,shadowParent:Hct(C)};t.current.push(k),setTimeout(function(){t.current=t.current.filter(function(w){return w!==k})},1)},[]),c=h.useCallback(function(y){n.current=xM(y),r.current=void 0},[]),f=h.useCallback(function(y){u(y.type,Zae(y),y.target,a(y,e.lockRef.current))},[]),p=h.useCallback(function(y){u(y.type,xM(y),y.target,a(y,e.lockRef.current))},[]);h.useEffect(function(){return dS.push(o),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",l,cS),document.addEventListener("touchmove",l,cS),document.addEventListener("touchstart",c,cS),function(){dS=dS.filter(function(y){return y!==o}),document.removeEventListener("wheel",l,cS),document.removeEventListener("touchmove",l,cS),document.removeEventListener("touchstart",c,cS)}},[]);var g=e.removeScrollBar,v=e.inert;return h.createElement(h.Fragment,null,v?h.createElement(o,{styles:Fct(i)}):null,g?h.createElement(Mct,{gapMode:e.gapMode}):null)}function Hct(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Vct=vct(Tke,zct);var Rke=h.forwardRef(function(e,t){return h.createElement(f7,pp({},e,{ref:t,sideCar:Vct}))});Rke.classNames=f7.classNames;function kQ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Dp(){return Dp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dp.apply(null,arguments)}function GU(e,t){return GU=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},GU(e,t)}function Dke(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,GU(e,t)}var Oke={exports:{}},Uct="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Wct=Uct,Kct=Wct;function jke(){}function Nke(){}Nke.resetWarningCache=jke;var qct=function(){function e(r,i,o,s,a,l){if(l!==Kct){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Nke,resetWarningCache:jke};return n.PropTypes=n,n};Oke.exports=qct();var Or=Oke.exports;const Pe=Dl(Or),ph=typeof document>"u",Op=Symbol(0);let iD=!1,ZU=!1,oh=null,F2=null,qd=null,Dc=0,IS=[],PQ={};const Gct=()=>{},c3=0,Fke=1,oD=2,h7=3;function Zct(){iD=!0,queueMicrotask(Bke)}function Bke(){if(!IS.length){iD=!1;return}ZU=!0;for(let e=0;e<IS.length;e++)IS[e].$st!==c3&&Yct(IS[e]);IS=[],iD=!1,ZU=!1}function Yct(e){let t=[e];for(;e=e[Op];)e.$e&&e.$st!==c3&&t.push(e);for(let n=t.length-1;n>=0;n--)RQ(t[n])}function Xct(e){const t=EC();return UT(t,e.length?e.bind(null,CC.bind(t)):e,null)}function wt(e){return UT(oh,e,null)}function _C(e){return UT(null,e,null)}function sh(){ZU||Bke()}function VT(){return oh}function Ts(e,t){try{return UT(t,e,null)}catch(n){TQ(t,n);return}}function $Q(e,t=oh){return t==null?void 0:t.$cx[e]}function Qct(e,t,n=oh){n&&(n.$cx={...n.$cx,[e]:t})}function Jn(e){if(!e||!oh)return e||Gct;const t=oh;return t.$d?Array.isArray(t.$d)?t.$d.push(e):t.$d=[t.$d,e]:t.$d=e,function(){t.$st!==h7&&(e.call(null),p7(t.$d)?t.$d=null:Array.isArray(t.$d)&&t.$d.splice(t.$d.indexOf(e),1))}}function CC(e=!0){if(this.$st!==h7){if(this.$h)if(Array.isArray(this.$h))for(let t=this.$h.length-1;t>=0;t--)CC.call(this.$h[t]);else CC.call(this.$h);if(e){const t=this[Op];t&&(Array.isArray(t.$h)?t.$h.splice(t.$h.indexOf(this),1):t.$h=null),Jct(this)}}}function Jct(e){e.$st=h7,e.$d&&zke(e),e.$s&&YU(e,0),e[Op]=null,e.$s=null,e.$o=null,e.$h=null,e.$cx=PQ,e.$eh=null}function zke(e){try{if(Array.isArray(e.$d))for(let t=e.$d.length-1;t>=0;t--){const n=e.$d[t];n.call(n)}else e.$d.call(e.$d);e.$d=null}catch(t){TQ(e,t)}}function UT(e,t,n){const r=oh,i=F2;oh=e,F2=n;try{return t.call(e)}finally{oh=r,F2=i}}function TQ(e,t){if(!e||!e.$eh)throw t;let n=0,r=e.$eh.length,i=t;for(n=0;n<r;n++)try{e.$eh[n](i);break}catch(o){i=o}if(n===r)throw i}function MQ(){return this.$st===h7?this.$v:(F2&&!this.$e&&(!qd&&F2.$s&&F2.$s[Dc]==this?Dc++:qd?qd.push(this):qd=[this]),this.$c&&RQ(this),this.$v)}function Hke(e){const t=p7(e)?e(this.$v):e;if(this.$ch(this.$v,t)&&(this.$v=t,this.$o))for(let n=0;n<this.$o.length;n++)Wke(this.$o[n],oD);return this.$v}const LQ=function(){this[Op]=null,this.$h=null,oh&&oh.append(this)},Cx=LQ.prototype;Cx.$cx=PQ;Cx.$eh=null;Cx.$c=null;Cx.$d=null;Cx.append=function(e){e[Op]=this,this.$h?Array.isArray(this.$h)?this.$h.push(e):this.$h=[this.$h,e]:this.$h=e,e.$cx=e.$cx===PQ?this.$cx:{...this.$cx,...e.$cx},this.$eh&&(e.$eh=e.$eh?[...e.$eh,...this.$eh]:this.$eh)};Cx.dispose=function(){CC.call(this)};function EC(){return new LQ}const Vke=function(t,n,r){LQ.call(this),this.$st=n?oD:c3,this.$i=!1,this.$e=!1,this.$s=null,this.$o=null,this.$v=t,n&&(this.$c=n),r&&r.dirty&&(this.$ch=r.dirty)},AQ=Vke.prototype;Object.setPrototypeOf(AQ,Cx);AQ.$ch=edt;AQ.call=MQ;function IQ(e,t,n){return new Vke(e,t,n)}function edt(e,t){return e!==t}function p7(e){return typeof e=="function"}function RQ(e){if(e.$st===Fke)for(let t=0;t<e.$s.length&&(RQ(e.$s[t]),e.$st!==oD);t++);e.$st===oD?Uke(e):e.$st=c3}function tdt(e){e.$h&&CC.call(e,!1),e.$d&&zke(e),e.$eh=e[Op]?e[Op].$eh:null}function Uke(e){let t=qd,n=Dc;qd=null,Dc=0;try{tdt(e);const r=UT(e,e.$c,e);Xae(e),!e.$e&&e.$i?Hke.call(e,r):(e.$v=r,e.$i=!0)}catch(r){Xae(e),TQ(e,r)}finally{qd=t,Dc=n,e.$st=c3}}function Xae(e){if(qd){if(e.$s&&YU(e,Dc),e.$s&&Dc>0){e.$s.length=Dc+qd.length;for(let n=0;n<qd.length;n++)e.$s[Dc+n]=qd[n]}else e.$s=qd;let t;for(let n=Dc;n<e.$s.length;n++)t=e.$s[n],t.$o?t.$o.push(e):t.$o=[e]}else e.$s&&Dc<e.$s.length&&(YU(e,Dc),e.$s.length=Dc)}function Wke(e,t){if(!(e.$st>=t)&&(e.$e&&e.$st===c3&&(IS.push(e),iD||Zct()),e.$st=t,e.$o))for(let n=0;n<e.$o.length;n++)Wke(e.$o[n],Fke)}function YU(e,t){let n,r;for(let i=t;i<e.$s.length;i++)n=e.$s[i],n.$o&&(r=n.$o.indexOf(e),n.$o[r]=n.$o[n.$o.length-1],n.$o.pop())}function _n(e,t){const n=IQ(e,null,t),r=MQ.bind(n);return r[Op]=!0,r.set=Hke.bind(n),r}function ndt(e){return p7(e)&&Op in e}function zg(e,t){const n=IQ(t==null?void 0:t.initial,e,t),r=MQ.bind(n);return r[Op]=!0,r}function Kke(e,t){const n=IQ(null,function(){let i=e();return p7(i)&&Jn(i),null},void 0);return n.$e=!0,Uke(n),CC.bind(n,!0)}function qke(e){return ndt(e)&&"set"in e}function qc(...e){}function ah(e){return e===null}function Is(e){return typeof e>"u"}function Gke(e){return ah(e)||Is(e)}function Zke(e){return(e==null?void 0:e.constructor)===Object}function Zu(e){return typeof e=="number"&&!Number.isNaN(e)}function mn(e){return typeof e=="string"}function kC(e){return typeof e=="boolean"}function sc(e){return typeof e=="function"}function Io(e){return Array.isArray(e)}const Xe=ph?rdt:Kke;function rdt(e,t){return typeof process<"u",qc}const idt=ph?class{}:Event,Yke=Symbol("DOM_EVENT");var Gve,Zve;class Vr extends(Zve=idt,Gve=Yke,Zve){constructor(n,...r){var o,s;super(n,r[0]);Ge(this,Gve,!0);Ge(this,"detail");Ge(this,"triggers",new odt);this.detail=(o=r[0])==null?void 0:o.detail;const i=(s=r[0])==null?void 0:s.trigger;i&&this.triggers.add(i)}get trigger(){return this.triggers.source}get originEvent(){return this.triggers.origin}get isOriginTrusted(){var n;return((n=this.triggers.origin)==null?void 0:n.isTrusted)??!1}}class odt{constructor(){Ge(this,"chain",[])}get source(){return this.chain[0]}get origin(){return this.chain[this.chain.length-1]}add(t){this.chain.push(t),DQ(t)&&this.chain.push(...t.triggers)}remove(t){return this.chain.splice(this.chain.indexOf(t),1)[0]}has(t){return this.chain.some(n=>n===t)}hasType(t){return!!this.findType(t)}findType(t){return this.chain.find(n=>n.type===t)}walk(t){for(const n of this.chain){const r=t(n);if(r)return[n,r]}}[Symbol.iterator](){return this.chain.values()}}function DQ(e){return!!(e!=null&&e[Yke])}function sdt(e,t){if(DQ(e))return e.triggers.walk(t)}function Xke(e,t){return DQ(e)?e.triggers.findType(t):void 0}function adt(e,t){return!!Xke(e,t)}function ldt(e,t){t&&e.triggers.add(t)}class OQ extends EventTarget{constructor(){super(...arguments);Ge(this,"$ts__events")}addEventListener(n,r,i){return super.addEventListener(n,r,i)}removeEventListener(n,r,i){return super.removeEventListener(n,r,i)}}function no(e,t,n,r){return ph?qc:(e.addEventListener(t,n,r),Jn(()=>e.removeEventListener(t,n,r)))}var e_,t_;class Xr{constructor(t){le(this,e_);le(this,t_);de(this,e_,t),de(this,t_,new AbortController),Jn(this.abort.bind(this))}get signal(){return T(this,t_).signal}add(t,n,r){if(this.signal.aborted)throw Error("aborted");return T(this,e_).addEventListener(t,n,{...r,signal:r!=null&&r.signal?udt(this.signal,r.signal):this.signal}),this}remove(t,n){return T(this,e_).removeEventListener(t,n),this}abort(t){T(this,t_).abort(t)}}e_=new WeakMap,t_=new WeakMap;function udt(...e){const t=new AbortController,n={signal:t.signal};function r(i){t.abort(i.target.reason)}for(const i of e){if(i.aborted){t.abort(i.reason);break}i.addEventListener("abort",r,n)}return t.signal}function XU(e){return!!(e!=null&&e.type.startsWith("pointer"))}function mP(e){return!!(e!=null&&e.type.startsWith("touch"))}function Qke(e){return/^(click|mouse)/.test((e==null?void 0:e.type)??"")}function WT(e){return!!(e!=null&&e.type.startsWith("key"))}function Jke(e){return WT(e)&&e.key==="Enter"}function m7(e){return WT(e)&&(e.key==="Enter"||e.key===" ")}function ePe(e){return e instanceof Node}function On(e,t,n){if(e)if(!n&&n!==""&&n!==0)e.removeAttribute(t);else{const r=n===!0?"":n+"";e.getAttribute(t)!==r&&e.setAttribute(t,r)}else return}function lu(e,t,n){if(e)!n&&n!==0?e.style.removeProperty(t):e.style.setProperty(t,n+"");else return}function tPe(e,t,n){e.classList[n?"add":"remove"](t)}function Qae(e){let t=e;for(;typeof t=="function";)t=t.call(this);return t}function uv(e){return{id:Symbol(),provide:e}}function Xc(e,t,n=VT()){var i;const r=!Is(t);Qct(e.id,r?t:(i=e.provide)==null?void 0:i.call(e),n)}function Vo(e){return $Q(e.id)}function Hg(e){return!Is($Q(e.id))}const LF=Symbol(0),AF=Symbol(0),g7=Symbol(0),IF={};var Yve,n_,r_,Db,i_,Bp,nPe,rPe,iPe,oPe;Yve=g7;class cdt{constructor(t,n,r){le(this,Bp);Ge(this,"$ts__events");Ge(this,"$ts__vars");Ge(this,Yve,null);Ge(this,"$el",_n(null));Ge(this,"el",null);Ge(this,"scope",null);Ge(this,"attachScope",null);Ge(this,"connectScope",null);Ge(this,"component",null);Ge(this,"destroyed",!1);Ge(this,"props",IF);Ge(this,"attrs",null);Ge(this,"styles",null);Ge(this,"state");Ge(this,"$state");le(this,n_,[]);le(this,r_,[]);le(this,Db,[]);le(this,i_,[]);var s;this.scope=n,r!=null&&r.scope&&r.scope.append(n);let i=t.state,o=t.props;if(i&&(this.$state=i.create(),this.state=new Proxy(this.$state,{get:(a,l)=>this.$state[l]()}),Xc(i,this.$state)),o&&(this.props=ddt(o),r!=null&&r.props))for(const a of Object.keys(r.props))(s=this.props[a])==null||s.set(r.props[a]);Jn(this.destroy.bind(this))}setup(){Ts(()=>{for(const t of T(this,n_))t()},this.scope)}attach(t){this.el||(this.el=t,this.$el.set(t),Ts(()=>{this.attachScope=EC(),Ts(()=>{for(const n of T(this,r_))n(this.el);N(this,Bp,nPe).call(this),N(this,Bp,rPe).call(this)},this.attachScope)},this.scope),t.dispatchEvent(new Event("attached")))}detach(){var t;(t=this.attachScope)==null||t.dispose(),this.attachScope=null,this.connectScope=null,this.el=null,this.$el.set(null)}connect(){!this.el||!this.attachScope||!T(this,Db).length||Ts(()=>{this.connectScope=EC(),Ts(()=>{for(const t of T(this,Db))t(this.el)},this.connectScope)},this.attachScope)}disconnect(){var t;(t=this.connectScope)==null||t.dispose(),this.connectScope=null}destroy(){if(this.destroyed)return;this.destroyed=!0,Ts(()=>{for(const n of T(this,i_))n(this.el)},this.scope);const t=this.el;this.detach(),this.scope.dispose(),T(this,n_).length=0,T(this,r_).length=0,T(this,Db).length=0,T(this,i_).length=0,this.component=null,this.attrs=null,this.styles=null,this.props=IF,this.scope=null,this.state=IF,this.$state=null,t&&delete t.$}addHooks(t){t.onSetup&&T(this,n_).push(t.onSetup.bind(t)),t.onAttach&&T(this,r_).push(t.onAttach.bind(t)),t.onConnect&&T(this,Db).push(t.onConnect.bind(t)),t.onDestroy&&T(this,i_).push(t.onDestroy.bind(t))}}n_=new WeakMap,r_=new WeakMap,Db=new WeakMap,i_=new WeakMap,Bp=new WeakSet,nPe=function(){if(this.attrs)for(const t of Object.keys(this.attrs))ph?On(this.el,t,Qae.call(this.component,this.attrs[t])):sc(this.attrs[t])?Xe(N(this,Bp,iPe).bind(this,t)):On(this.el,t,this.attrs[t])},rPe=function(){if(this.styles)for(const t of Object.keys(this.styles))ph?lu(this.el,t,Qae.call(this.component,this.styles[t])):sc(this.styles[t])?Xe(N(this,Bp,oPe).bind(this,t)):lu(this.el,t,this.styles[t])},iPe=function(t){On(this.el,t,this.attrs[t].call(this.component))},oPe=function(t){lu(this.el,t,this.styles[t].call(this.component))};function ddt(e){const t={};for(const n of Object.keys(e)){const r=e[n];t[n]=_n(r,r)}return t}let gP={$$:null};function sPe(e,t){return Xct(()=>{gP.$$=new cdt(e,VT(),t);const n=new e;return gP.$$.component=n,gP.$$=null,n})}class dd extends EventTarget{constructor(){super();Ge(this,"$$");gP.$$&&this.attach(gP)}get el(){return this.$$.el}get $el(){return this.$$.$el()}get scope(){return this.$$.scope}get attachScope(){return this.$$.attachScope}get connectScope(){return this.$$.connectScope}get $props(){return this.$$.props}get $state(){return this.$$.$state}get state(){return this.$$.state}attach({$$:n}){return this.$$=n,n.addHooks(this),this}addEventListener(n,r,i){this.listen(n,r,i)}removeEventListener(n,r,i){var o;(o=this.el)==null||o.removeEventListener(n,r,i)}setAttributes(n){this.$$.attrs||(this.$$.attrs={}),Object.assign(this.$$.attrs,n)}setStyles(n){this.$$.styles||(this.$$.styles={}),Object.assign(this.$$.styles,n)}setCSSVars(n){this.setStyles(n)}createEvent(n,...r){return new Vr(n,r[0])}dispatch(n,...r){if(ph||!this.el)return!1;const i=n instanceof Event?n:new Vr(n,r[0]);return Object.defineProperty(i,"target",{get:()=>this.$$.component}),_C(()=>{var o,s;return(s=(o=this.$$)[g7])==null||s.call(o,i),this.el.dispatchEvent(i)})}dispatchEvent(n){return this.dispatch(n)}listen(n,r,i){return ph||!this.el?qc:no(this.el,n,r,i)}}class dr extends dd{subscribe(t){return Ts(()=>Xe(()=>t(this.state)),this.$$.scope)}destroy(){this.$$.destroy()}}function xi(e,t,n){e[LF]||(e[LF]=new Set),e[LF].add(t)}function na(e,t,n){e[AF]||(e[AF]=new Set),e[AF].add(t)}var o_;class cv{constructor(t){Ge(this,"id",Symbol(0));Ge(this,"record");le(this,o_);this.record=t,de(this,o_,Object.getOwnPropertyDescriptors(t))}create(){const t={},n=new Proxy(t,{get:(r,i)=>t[i]()});for(const r of Object.keys(this.record)){const i=T(this,o_)[r].get;t[r]=i?zg(i.bind(n)):_n(this.record[r])}return t}reset(t,n){for(const r of Object.keys(t))!T(this,o_)[r].get&&(!n||n(r))&&t[r].set(this.record[r])}}o_=new WeakMap;function d3(e){return Vo(e)}function Vg(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function jQ(e){return e.replace(/-./g,t=>t[1].toUpperCase())}function fdt(e){return hdt(e).replace(/\s/g,"")}function hdt(e){return f3(e.replace(/-./g,t=>" "+t[1].toUpperCase()))}function f3(e){return e.charAt(0).toUpperCase()+e.slice(1)}const KT=h.createContext({current:null});KT.displayName="Scope";function aPe(e,...t){return h.createElement(KT.Provider,{value:e},...t)}function h3(){return h.useContext(KT).current}function NQ(e){const t=h3();return h.useMemo(()=>$Q(e.id,t),[t])}function lPe(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function ui(...e){return t=>e.forEach(n=>lPe(n,t))}function pdt(e,t){const n=h.forwardRef((r,i)=>{var S,C,_,k,w,P,M,R;let o=h.useContext(KT),s=h.useRef(null),a=h.useRef();if(!a.current){const D=gdt(),H=tle(e,D,r,o.current);D.component=H,a.current=D,s.current=H.scope}function l(){let D=a.current,H=o.current;if(window.cancelAnimationFrame(D.destroyId),D.destroyId=-1,D.component.$$.destroyed){const O=tle(e,D,r,H);D.component=O,D.attached=!1,D.forwardRef=!1,s.current=O.scope}return D.el&&ele(D,D.el),D.forwardRef||(lPe(i,D.component),D.forwardRef=!0),()=>_A(D)}function u(D){const H=a.current;if(!H.forwardRef){H.el=D;return}window.cancelAnimationFrame(H.refChangeId),H.refChangeId=window.requestAnimationFrame(()=>{const O=a.current;O.refChangeId=-1,O.el!==D&&(_A(O),D&&ele(O,D),O.el=D)})}h.useEffect(()=>{const D=a.current;return window.cancelAnimationFrame(D.destroyId),D.destroyId=-1,function(){sc(r.children)&&(window.cancelAnimationFrame(D.refChangeId),D.refChangeId=-1,window.cancelAnimationFrame(D.connectId),D.connectId=-1,window.cancelAnimationFrame(D.destroyId),D.destroyId=window.requestAnimationFrame(()=>{D.destroyId=-1,_A(D),D.component.$$.destroy(),D.component.$$[g7]=null,D.callbacks={},D.domCallbacks={},s.current=null}))}},[]),h.useEffect(sh);let c=a.current,{children:f,...p}=r,g={},v=c.prevProps,y=Object.keys(p);c.callbacks={};for(const D of[...v,...y])if(t.props.has(D))c.component.$props[D].set(Is(p[D])?(S=e.props)==null?void 0:S[D]:p[D]);else if((C=t.events)!=null&&C.has(D)||(_=t.eventsRE)!=null&&_.test(D))c.callbacks[D]=p[D];else if((k=t.domEvents)!=null&&k.has(D)||(w=t.domEventsRE)!=null&&w.test(D)){let H=Vg(D.slice(2));c.domCallbacks[H]=p[D],y.includes(D)?c.el&&!((R=c.listening)!=null&&R.has(H))&&(c.listening||(c.listening=new Set),c.listening.add(H),c.el.addEventListener(H,c.onDOMEvent)):((P=c.el)==null||P.removeEventListener(H,c.onDOMEvent),(M=c.listening)==null||M.delete(H))}else g[D]=p[D];return c.prevProps=y,aPe(s,h.createElement(mdt,{effect:l}),sc(f)?f==null?void 0:f({...g,suppressHydrationWarning:!0,ref:u},c.component):f)});return n.displayName=e.name+"Bridge",n}function mdt({effect:e}){return h.useEffect(e,[]),null}const Jae=new Map;function gdt(){const e={el:null,prevProps:[],callbacks:{},domCallbacks:{},refChangeId:-1,connectId:-1,destroyId:-1,attached:!1,forwardRef:!1,listening:null,onDOMEvent(t){var r,i;const n=Is(t.detail)?[t]:[t.detail,t];(i=(r=e.domCallbacks)[t.type])==null||i.call(r,...n)}};return e}function ele(e,t){if(!(e.el===t&&e.attached)){if(e.attached&&_A(e),e.domCallbacks){e.listening||(e.listening=new Set);for(const n of Object.keys(e.domCallbacks))e.listening.has(n)||(t.addEventListener(n,e.onDOMEvent),e.listening.add(n))}e.component.$$.attach(t),e.connectId=window.requestAnimationFrame(()=>{e.component.$$.connect(),e.connectId=-1}),e.attached=!0}}function _A(e){if(e.attached&&(window.cancelAnimationFrame(e.connectId),e.connectId=-1,e.component.$$.detach(),e.attached=!1,e.el&&e.listening)){for(const t of e.listening)e.el.removeEventListener(t,e.onDOMEvent);e.listening.clear()}}function vdt(e){var r,i;let t=Jae.get(e.type),n=Is(e.detail)?[e]:[e.detail,e];t||Jae.set(e.type,t=`on${fdt(e.type)}`),(i=(r=this.callbacks)[t])==null||i.call(r,...n)}function tle(e,t,n,r){const i=sPe(e,{props:n,scope:r});return i.$$[g7]=vdt.bind(t),i.$$.setup(),i}function uPe(e,t=!1){const n=typeof e;if(n!=="string")return!t&&n==="function"?uPe(e()):t&&n==="boolean"?e+"":e;const r=t?'"':"<",i=t?"&quot;":"&lt;";let o=e.indexOf(r),s=e.indexOf("&");if(o<0&&s<0)return e;let a=0,l="";for(;o>=0&&s>=0;)o<s?(a<o&&(l+=e.substring(a,o)),l+=i,a=o+1,o=e.indexOf(r,a)):(a<s&&(l+=e.substring(a,s)),l+="&amp;",a=s+1,s=e.indexOf("&",a));if(o>=0)do a<o&&(l+=e.substring(a,o)),l+=i,a=o+1,o=e.indexOf(r,a);while(o>=0);else for(;s>=0;)a<s&&(l+=e.substring(a,s)),l+="&amp;",a=s+1,s=e.indexOf("&",a);return a<e.length?l+e.substring(a):l}const ydt=Symbol(0),bdt=/\s+/;function wdt(e,t){const n=t.trim().split(bdt);for(const r of n)e.add(r)}const xdt=/\s*:\s*/,Sdt=/\s*;\s*/;function _dt(e,t){const n=t.trim().split(Sdt);for(let r=0;r<n.length;r++){if(n[r]==="")continue;const[i,o]=n[r].split(xdt);e.set(i,o)}}class Cdt{constructor(t){Ge(this,"keepAlive",!1);Ge(this,"forwardKeepAlive",!0);Ge(this,"$");Ge(this,"attributes",new Edt);Ge(this,"style",new kdt);Ge(this,"classList",new Pdt);this.$=t}get $props(){return this.$.$$.props}get $state(){return this.$.$$.$state}get state(){return this.$.state}setup(){const t=this.$.$$;Ts(()=>{this.hasAttribute("class")&&wdt(this.classList.tokens,this.getAttribute("class")),this.hasAttribute("style")&&_dt(this.style.tokens,this.getAttribute("style")),t.setup(),t.attach(this),this.classList.length>0&&this.setAttribute("class",this.classList.toString()),this.style.length>0&&this.setAttribute("style",this.style.toString()),this.keepAlive&&this.setAttribute("keep-alive","")},t.scope)}getAttribute(t){return this.attributes.getAttribute(t)}setAttribute(t,n){this.attributes.setAttribute(t,n)}hasAttribute(t){return this.attributes.hasAttribute(t)}removeAttribute(t){return this.attributes.removeAttribute(t)}[ydt](){}addEventListener(){}removeEventListener(){}dispatchEvent(){return!1}subscribe(){return qc}destroy(){this.$.destroy()}}var Of;class Edt{constructor(){le(this,Of,new Map)}get length(){return T(this,Of).size}get tokens(){return T(this,Of)}getAttribute(t){return T(this,Of).get(t)??null}hasAttribute(t){return T(this,Of).has(t)}setAttribute(t,n){T(this,Of).set(t,n+"")}removeAttribute(t){T(this,Of).delete(t)}toString(){if(T(this,Of).size===0)return"";let t="";for(const[n,r]of T(this,Of))t+=` ${n}="${uPe(r,!0)}"`;return t}}Of=new WeakMap;var jf;class kdt{constructor(){le(this,jf,new Map)}get length(){return T(this,jf).size}get tokens(){return T(this,jf)}getPropertyValue(t){return T(this,jf).get(t)??""}setProperty(t,n){T(this,jf).set(t,n??"")}removeProperty(t){const n=T(this,jf).get(t);return T(this,jf).delete(t),n??""}toString(){if(T(this,jf).size===0)return"";let t="";for(const[n,r]of T(this,jf))t+=`${n}: ${r};`;return t}}jf=new WeakMap;var Kl;class Pdt{constructor(){le(this,Kl,new Set)}get length(){return T(this,Kl).size}get tokens(){return T(this,Kl)}add(...t){for(const n of t)T(this,Kl).add(n)}contains(t){return T(this,Kl).has(t)}remove(t){T(this,Kl).delete(t)}replace(t,n){return T(this,Kl).has(t)?(T(this,Kl).delete(t),T(this,Kl).add(n),!0):!1}toggle(t,n){return n!==!0&&(T(this,Kl).has(t)||n===!1)?(T(this,Kl).delete(t),!1):(T(this,Kl).add(t),!0)}toString(){return Array.from(T(this,Kl)).join(" ")}}Kl=new WeakMap;const $dt={acceptcharset:"acceptCharset","accept-charset":"acceptCharset",accesskey:"accessKey",allowfullscreen:"allowFullScreen",autocapitalize:"autoCapitalize",autocomplete:"autoComplete",autocorrect:"autoCorrect",autofocus:"autoFocus",autoplay:"autoPlay",autosave:"autoSave",cellpadding:"cellPadding",cellspacing:"cellSpacing",charset:"charSet",class:"className",classid:"classID",classname:"className",colspan:"colSpan",contenteditable:"contentEditable",contextmenu:"contextMenu",controlslist:"controlsList",crossorigin:"crossOrigin",dangerouslysetinnerhtml:"dangerouslySetInnerHTML",datetime:"dateTime",defaultchecked:"defaultChecked",defaultvalue:"defaultValue",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback",enctype:"encType",enterkeyhint:"enterKeyHint",fetchpriority:"fetchPriority",for:"htmlFor",formmethod:"formMethod",formaction:"formAction",formenctype:"formEncType",formnovalidate:"formNoValidate",formtarget:"formTarget",frameborder:"frameBorder",hreflang:"hrefLang",htmlfor:"htmlFor",httpequiv:"httpEquiv","http-equiv":"httpEquiv",imagesizes:"imageSizes",imagesrcset:"imageSrcSet",innerhtml:"innerHTML",inputmode:"inputMode",itemid:"itemID",itemprop:"itemProp",itemref:"itemRef",itemscope:"itemScope",itemtype:"itemType",keyparams:"keyParams",keytype:"keyType",marginwidth:"marginWidth",marginheight:"marginHeight",maxlength:"maxLength",mediagroup:"mediaGroup",minlength:"minLength",nomodule:"noModule",novalidate:"noValidate",playsinline:"playsInline",radiogroup:"radioGroup",readonly:"readOnly",referrerpolicy:"referrerPolicy",rowspan:"rowSpan",spellcheck:"spellCheck",srcdoc:"srcDoc",srclang:"srcLang",srcset:"srcSet",tabindex:"tabIndex",usemap:"useMap"};function Tdt(e,t){function n(r){let i=h.useContext(KT),o=sPe(e,{props:r,scope:i.current}),s=new Cdt(o),a={},{style:l={},children:u,forwardRef:c,...f}=r;if(t.props.size)for(const p of Object.keys(f))t.props.has(p)||(a[p]=f[p]);else a=f;if(s.setup(),s.hasAttribute("style")){for(const[p,g]of s.style.tokens)l[p.startsWith("--")?p:jQ(p)]=g;s.removeAttribute("style")}for(const[p,g]of s.attributes.tokens){const v=$dt[p];v&&(v in a||(a[v]=g),s.removeAttribute(p))}return aPe({current:o.$$.scope},sc(u)?u==null?void 0:u({...Object.fromEntries(s.attributes.tokens),...a,style:l},o):u,h.createElement(()=>(s.destroy(),null)))}return n.displayName=e.name+"Bridge",n}function p3(e){return NQ(e)}function cr(e,t){const[,n]=h.useState();return h.useEffect(()=>Kke(()=>{e(),n({})}),[t??e]),e()}function E4(e){return e?"true":"false"}function Mdt(){const e=new Set;return{add(...t){for(const n of t)e.add(n)},empty(){for(const t of e)t();e.clear()}}}function cPe(e){return Object.keys(e)}function sD(){let e,t;return{promise:new Promise((r,i)=>{e=r,t=i}),resolve:e,reject:t}}function dPe(e){return new Promise(t=>setTimeout(t,e))}function s1(e){if(ph)return qc;let t=-1,n;function r(...i){n=i,!(t>=0)&&(t=window.requestAnimationFrame(()=>{e.apply(this,n),t=-1,n=void 0}))}return r}const Ldt=ph?qc:typeof window<"u"?"requestIdleCallback"in window?window.requestIdleCallback:e=>window.setTimeout(e,1):qc;function fPe(e,t){return ph?Promise.resolve():new Promise(n=>{Ldt(r=>{e==null||e(r),n()},t)})}function Adt(e){const[,t]=h.useState(),n=h.useRef(null);return n.current==null&&(n.current={state:{},$update:_n({}),props:new Set}),h.useEffect(()=>{let{state:r,$update:i,props:o}=n.current;return Xe(()=>{for(const s of o){const a=e[s]();r[s]=Io(a)?[...a]:a}i(),t({})})},[e]),h.useMemo(()=>{let{state:r,$update:i,props:o}=n.current,s=!1;return o.clear(),new Proxy(r,{get(a,l){if(!o.has(l)&&l in e){o.add(l);const u=e[l]();r[l]=Io(u)?[...u]:u,s||(i.set({}),s=!0,queueMicrotask(()=>s=!1))}return r[l]},set(a,l,u){return l in e||(r[l]=u),!0}})},[e])}function fr(e,t){return ph?Tdt(e,{props:new Set(Object.keys(e.props||{}))}):pdt(e,{props:new Set(Object.keys(e.props||{})),events:new Set(t==null?void 0:t.events),eventsRE:t==null?void 0:t.eventsRegex,domEvents:t==null?void 0:t.domEvents,domEventsRE:t==null?void 0:t.domEventsRegex})}var _c={fullscreenEnabled:0,fullscreenElement:1,requestFullscreen:2,exitFullscreen:3,fullscreenchange:4,fullscreenerror:5,fullscreen:6},nle=["webkitFullscreenEnabled","webkitFullscreenElement","webkitRequestFullscreen","webkitExitFullscreen","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],rle=["mozFullScreenEnabled","mozFullScreenElement","mozRequestFullScreen","mozCancelFullScreen","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],ile=["msFullscreenEnabled","msFullscreenElement","msRequestFullscreen","msExitFullscreen","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"],Hu=typeof window<"u"&&typeof window.document<"u"?window.document:{},Pd="fullscreenEnabled"in Hu&&Object.keys(_c)||nle[0]in Hu&&nle||rle[0]in Hu&&rle||ile[0]in Hu&&ile||[],k0={requestFullscreen:function(e){return e[Pd[_c.requestFullscreen]]()},requestFullscreenFunction:function(e){return e[Pd[_c.requestFullscreen]]},get exitFullscreen(){return Hu[Pd[_c.exitFullscreen]].bind(Hu)},get fullscreenPseudoClass(){return":"+Pd[_c.fullscreen]},addEventListener:function(e,t,n){return Hu.addEventListener(Pd[_c[e]],t,n)},removeEventListener:function(e,t,n){return Hu.removeEventListener(Pd[_c[e]],t,n)},get fullscreenEnabled(){return!!Hu[Pd[_c.fullscreenEnabled]]},set fullscreenEnabled(e){},get fullscreenElement(){return Hu[Pd[_c.fullscreenElement]]},set fullscreenElement(e){},get onfullscreenchange(){return Hu[("on"+Pd[_c.fullscreenchange]).toLowerCase()]},set onfullscreenchange(e){return Hu[("on"+Pd[_c.fullscreenchange]).toLowerCase()]=e},get onfullscreenerror(){return Hu[("on"+Pd[_c.fullscreenerror]).toLowerCase()]},set onfullscreenerror(e){return Hu[("on"+Pd[_c.fullscreenerror]).toLowerCase()]=e}},a1=Idt;function Idt(e,t,n){var r=null,i=null,o=n&&n.leading,s=n&&n.trailing;o==null&&(o=!0),s==null&&(s=!o),o==!0&&(s=!1);var a=function(){r&&(clearTimeout(r),r=null)},l=function(){var c=i;a(),c&&c()},u=function(){var c=o&&!r,f=this,p=arguments;if(i=function(){return e.apply(f,p)},r||(r=setTimeout(function(){if(r=null,s)return i()},t)),c)return c=!1,i()};return u.cancel=a,u.flush=l,u}var v7=Rdt;function Rdt(e,t,n){var r=null,i=null,o=function(){r&&(clearTimeout(r),i=null,r=null)},s=function(){var l=i;o(),l&&l()},a=function(){if(!t)return e.apply(this,arguments);var l=this,u=arguments,c=n&&!r;if(o(),i=function(){e.apply(l,u)},r=setTimeout(function(){if(r=null,!c){var f=i;return i=null,f()}},t),c)return i()};return a.cancel=o,a.flush=s,a}const ole=e=>typeof e=="object"&&e!=null&&e.nodeType===1,sle=(e,t)=>(!t||e!=="hidden")&&e!=="visible"&&e!=="clip",SM=(e,t)=>{if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){const n=getComputedStyle(e,null);return sle(n.overflowY,t)||sle(n.overflowX,t)||(r=>{const i=(o=>{if(!o.ownerDocument||!o.ownerDocument.defaultView)return null;try{return o.ownerDocument.defaultView.frameElement}catch{return null}})(r);return!!i&&(i.clientHeight<r.scrollHeight||i.clientWidth<r.scrollWidth)})(e)}return!1},_M=(e,t,n,r,i,o,s,a)=>o<e&&s>t||o>e&&s<t?0:o<=e&&a<=n||s>=t&&a>=n?o-e-r:s>t&&a<n||o<e&&a>n?s-t+i:0,Ddt=e=>{const t=e.parentElement;return t??(e.getRootNode().host||null)},hPe=(e,t)=>{var n,r,i,o;if(typeof document>"u")return[];const{scrollMode:s,block:a,inline:l,boundary:u,skipOverflowHiddenElements:c}=t,f=typeof u=="function"?u:B=>B!==u;if(!ole(e))throw new TypeError("Invalid target");const p=document.scrollingElement||document.documentElement,g=[];let v=e;for(;ole(v)&&f(v);){if(v=Ddt(v),v===p){g.push(v);break}v!=null&&v===document.body&&SM(v)&&!SM(document.documentElement)||v!=null&&SM(v,c)&&g.push(v)}const y=(r=(n=window.visualViewport)==null?void 0:n.width)!=null?r:innerWidth,S=(o=(i=window.visualViewport)==null?void 0:i.height)!=null?o:innerHeight,{scrollX:C,scrollY:_}=window,{height:k,width:w,top:P,right:M,bottom:R,left:D}=e.getBoundingClientRect(),{top:H,right:O,bottom:z,left:G}=(B=>{const q=window.getComputedStyle(B);return{top:parseFloat(q.scrollMarginTop)||0,right:parseFloat(q.scrollMarginRight)||0,bottom:parseFloat(q.scrollMarginBottom)||0,left:parseFloat(q.scrollMarginLeft)||0}})(e);let ee=a==="start"||a==="nearest"?P-H:a==="end"?R+z:P+k/2-H+z,X=l==="center"?D+w/2-G+O:l==="end"?M+O:D-G;const se=[];for(let B=0;B<g.length;B++){const q=g[B],{height:U,width:K,top:J,right:oe,bottom:he,left:me}=q.getBoundingClientRect();if(s==="if-needed"&&P>=0&&D>=0&&R<=S&&M<=y&&(q===p&&!SM(q)||P>=J&&R<=he&&D>=me&&M<=oe))return se;const re=getComputedStyle(q),ue=parseInt(re.borderLeftWidth,10),ce=parseInt(re.borderTopWidth,10),we=parseInt(re.borderRightWidth,10),Me=parseInt(re.borderBottomWidth,10);let Be=0,ge=0;const ye="offsetWidth"in q?q.offsetWidth-q.clientWidth-ue-we:0,_e="offsetHeight"in q?q.offsetHeight-q.clientHeight-ce-Me:0,$e="offsetWidth"in q?q.offsetWidth===0?0:K/q.offsetWidth:0,He="offsetHeight"in q?q.offsetHeight===0?0:U/q.offsetHeight:0;if(p===q)Be=a==="start"?ee:a==="end"?ee-S:a==="nearest"?_M(_,_+S,S,ce,Me,_+ee,_+ee+k,k):ee-S/2,ge=l==="start"?X:l==="center"?X-y/2:l==="end"?X-y:_M(C,C+y,y,ue,we,C+X,C+X+w,w),Be=Math.max(0,Be+_),ge=Math.max(0,ge+C);else{Be=a==="start"?ee-J-ce:a==="end"?ee-he+Me+_e:a==="nearest"?_M(J,he,U,ce,Me+_e,ee,ee+k,k):ee-(J+U/2)+_e/2,ge=l==="start"?X-me-ue:l==="center"?X-(me+K/2)+ye/2:l==="end"?X-oe+we+ye:_M(me,oe,K,ue,we+ye,X,X+w,w);const{scrollLeft:Ve,scrollTop:ot}=q;Be=He===0?0:Math.max(0,Math.min(ot+Be/He,q.scrollHeight-U/He+_e)),ge=$e===0?0:Math.max(0,Math.min(Ve+ge/$e,q.scrollWidth-K/$e+ye)),ee+=ot-Be,X+=Ve-ge}se.push({el:q,top:Be,left:ge})}return se};var pPe='<path fill-rule="evenodd" clip-rule="evenodd" d="M15.0007 28.7923C15.0007 29.0152 14.9774 29.096 14.9339 29.1775C14.8903 29.259 14.8263 29.323 14.7449 29.3665C14.6634 29.4101 14.5826 29.4333 14.3597 29.4333H12.575C12.3521 29.4333 12.2713 29.4101 12.1898 29.3665C12.1083 29.323 12.0443 29.259 12.0008 29.1775C11.9572 29.096 11.934 29.0152 11.934 28.7923V12.2993L5.97496 12.3C5.75208 12.3 5.67125 12.2768 5.58977 12.2332C5.50829 12.1896 5.44434 12.1257 5.40077 12.0442C5.35719 11.9627 5.33398 11.8819 5.33398 11.659V9.87429C5.33398 9.65141 5.35719 9.57059 5.40077 9.48911C5.44434 9.40762 5.50829 9.34368 5.58977 9.3001C5.67125 9.25652 5.75208 9.23332 5.97496 9.23332H26.0263C26.2492 9.23332 26.33 9.25652 26.4115 9.3001C26.493 9.34368 26.557 9.40762 26.6005 9.48911C26.6441 9.57059 26.6673 9.65141 26.6673 9.87429V11.659C26.6673 11.8819 26.6441 11.9627 26.6005 12.0442C26.557 12.1257 26.493 12.1896 26.4115 12.2332C26.33 12.2768 26.2492 12.3 26.0263 12.3L20.067 12.2993L20.0673 28.7923C20.0673 29.0152 20.0441 29.096 20.0005 29.1775C19.957 29.259 19.893 29.323 19.8115 29.3665C19.73 29.4101 19.6492 29.4333 19.4263 29.4333H17.6416C17.4187 29.4333 17.3379 29.4101 17.2564 29.3665C17.175 29.323 17.111 29.259 17.0674 29.1775C17.0239 29.096 17.0007 29.0152 17.0007 28.7923L17 22.7663H15L15.0007 28.7923Z" fill="currentColor"/> <path d="M16.0007 7.89998C17.4734 7.89998 18.6673 6.70608 18.6673 5.23332C18.6673 3.76056 17.4734 2.56665 16.0007 2.56665C14.5279 2.56665 13.334 3.76056 13.334 5.23332C13.334 6.70608 14.5279 7.89998 16.0007 7.89998Z" fill="currentColor"/>',mPe='<path d="M5.33334 6.00001C5.33334 5.63182 5.63181 5.33334 6 5.33334H26C26.3682 5.33334 26.6667 5.63182 26.6667 6.00001V20.6667C26.6667 21.0349 26.3682 21.3333 26 21.3333H23.7072C23.4956 21.3333 23.2966 21.233 23.171 21.0628L22.1859 19.7295C21.8607 19.2894 22.1749 18.6667 22.7221 18.6667H23.3333C23.7015 18.6667 24 18.3682 24 18V8.66668C24 8.29849 23.7015 8.00001 23.3333 8.00001H8.66667C8.29848 8.00001 8 8.29849 8 8.66668V18C8 18.3682 8.29848 18.6667 8.66667 18.6667H9.29357C9.84072 18.6667 10.1549 19.2894 9.82976 19.7295L8.84467 21.0628C8.71898 21.233 8.52 21.3333 8.30848 21.3333H6C5.63181 21.3333 5.33334 21.0349 5.33334 20.6667V6.00001Z" fill="currentColor"/> <path d="M8.78528 25.6038C8.46013 26.0439 8.77431 26.6667 9.32147 26.6667L22.6785 26.6667C23.2256 26.6667 23.5398 26.0439 23.2146 25.6038L16.5358 16.5653C16.2693 16.2046 15.73 16.2047 15.4635 16.5653L8.78528 25.6038Z" fill="currentColor"/>',QU='<path d="M17.4853 18.9093C17.4853 19.0281 17.6289 19.0875 17.7129 19.0035L22.4185 14.2979C22.6788 14.0376 23.1009 14.0376 23.3613 14.2979L24.7755 15.7122C25.0359 15.9725 25.0359 16.3946 24.7755 16.655L16.2902 25.1403C16.0299 25.4006 15.6078 25.4006 15.3474 25.1403L13.9332 23.726L13.9319 23.7247L6.86189 16.6547C6.60154 16.3944 6.60154 15.9723 6.86189 15.7119L8.2761 14.2977C8.53645 14.0373 8.95856 14.0373 9.21891 14.2977L13.9243 19.0031C14.0083 19.0871 14.1519 19.0276 14.1519 18.9088L14.1519 6.00004C14.1519 5.63185 14.4504 5.33337 14.8186 5.33337L16.8186 5.33337C17.1868 5.33337 17.4853 5.63185 17.4853 6.00004L17.4853 18.9093Z" fill="currentColor"/>',gPe='<path d="M13.0908 14.3334C12.972 14.3334 12.9125 14.1898 12.9965 14.1058L17.7021 9.40022C17.9625 9.13987 17.9625 8.71776 17.7021 8.45741L16.2879 7.04319C16.0275 6.78284 15.6054 6.78284 15.3451 7.04319L6.8598 15.5285C6.59945 15.7888 6.59945 16.2109 6.8598 16.4713L8.27401 17.8855L8.27536 17.8868L15.3453 24.9568C15.6057 25.2172 16.0278 25.2172 16.2881 24.9568L17.7024 23.5426C17.9627 23.2822 17.9627 22.8601 17.7024 22.5998L12.9969 17.8944C12.9129 17.8104 12.9724 17.6668 13.0912 17.6668L26 17.6668C26.3682 17.6668 26.6667 17.3683 26.6667 17.0001V15.0001C26.6667 14.6319 26.3682 14.3334 26 14.3334L13.0908 14.3334Z" fill="currentColor"/>',JU='<path d="M14.1521 13.0929C14.1521 12.9741 14.0085 12.9147 13.9245 12.9987L9.21891 17.7043C8.95856 17.9646 8.53645 17.9646 8.2761 17.7043L6.86189 16.29C6.60154 16.0297 6.60154 15.6076 6.86189 15.3472L15.3472 6.86195C15.6075 6.6016 16.0296 6.6016 16.29 6.86195L17.7042 8.27616L17.7055 8.27751L24.7755 15.3475C25.0359 15.6078 25.0359 16.0299 24.7755 16.2903L23.3613 17.7045C23.1009 17.9649 22.6788 17.9649 22.4185 17.7045L17.7131 12.9991C17.6291 12.9151 17.4855 12.9746 17.4855 13.0934V26.0022C17.4855 26.3704 17.187 26.6688 16.8188 26.6688H14.8188C14.4506 26.6688 14.1521 26.3704 14.1521 26.0022L14.1521 13.0929Z" fill="currentColor"/>',vPe='<path d="M16.6927 25.3346C16.3245 25.3346 16.026 25.0361 16.026 24.6679L16.026 7.3346C16.026 6.96641 16.3245 6.66794 16.6927 6.66794L18.6927 6.66794C19.0609 6.66794 19.3594 6.96642 19.3594 7.3346L19.3594 24.6679C19.3594 25.0361 19.0609 25.3346 18.6927 25.3346H16.6927Z" fill="currentColor"/> <path d="M24.026 25.3346C23.6578 25.3346 23.3594 25.0361 23.3594 24.6679L23.3594 7.3346C23.3594 6.96641 23.6578 6.66794 24.026 6.66794L26.026 6.66794C26.3942 6.66794 26.6927 6.96642 26.6927 7.3346V24.6679C26.6927 25.0361 26.3942 25.3346 26.026 25.3346H24.026Z" fill="currentColor"/> <path d="M5.48113 23.9407C5.38584 24.2963 5.59689 24.6619 5.95254 24.7572L7.88439 25.2748C8.24003 25.3701 8.60559 25.159 8.70089 24.8034L13.1871 8.06067C13.2824 7.70503 13.0713 7.33947 12.7157 7.24417L10.7838 6.72654C10.4282 6.63124 10.0626 6.8423 9.96733 7.19794L5.48113 23.9407Z" fill="currentColor"/>',yPe='<path fill-rule="evenodd" clip-rule="evenodd" d="M24.9266 7.57992C25.015 7.60672 25.0886 7.64746 25.2462 7.80506L26.956 9.51488C27.1136 9.67248 27.1543 9.74604 27.1811 9.83447C27.2079 9.9229 27.2079 10.0133 27.1811 10.1018C27.1543 10.1902 27.1136 10.2638 26.956 10.4214L13.1822 24.1951C13.0246 24.3527 12.951 24.3935 12.8626 24.4203C12.797 24.4402 12.7304 24.4453 12.6642 24.4357L12.7319 24.4203C12.6435 24.4471 12.553 24.4471 12.4646 24.4203C12.3762 24.3935 12.3026 24.3527 12.145 24.1951L5.04407 17.0942C4.88647 16.9366 4.84573 16.863 4.81893 16.7746C4.79213 16.6862 4.79213 16.5957 4.81893 16.5073C4.84573 16.4189 4.88647 16.3453 5.04407 16.1877L6.7539 14.4779C6.9115 14.3203 6.98506 14.2796 7.07349 14.2528C7.16191 14.226 7.25235 14.226 7.34078 14.2528C7.42921 14.2796 7.50277 14.3203 7.66037 14.4779L12.6628 19.4808L24.3397 7.80506C24.4973 7.64746 24.5709 7.60672 24.6593 7.57992C24.7477 7.55311 24.8382 7.55311 24.9266 7.57992Z" fill="currentColor"/>',bPe='<path d="M17.947 16.095C17.999 16.043 17.999 15.9585 17.947 15.9065L11.6295 9.58899C11.3691 9.32864 11.3691 8.90653 11.6295 8.64618L13.2323 7.04341C13.4926 6.78306 13.9147 6.78306 14.1751 7.04341L21.0289 13.8973C21.0392 13.9064 21.0493 13.9158 21.0591 13.9257L22.6619 15.5285C22.9223 15.7888 22.9223 16.2109 22.6619 16.4713L14.1766 24.9565C13.9163 25.2169 13.4942 25.2169 13.2338 24.9565L11.631 23.3538C11.3707 23.0934 11.3707 22.6713 11.631 22.411L17.947 16.095Z" fill="currentColor"/>',FQ='<path fill-rule="evenodd" clip-rule="evenodd" d="M6 7C5.63181 7 5.33333 7.29848 5.33333 7.66667V14.8667C5.33333 14.9403 5.39361 14.9999 5.46724 15.0009C10.8844 15.0719 15.2614 19.449 15.3325 24.8661C15.3334 24.9397 15.393 25 15.4667 25H26C26.3682 25 26.6667 24.7015 26.6667 24.3333V7.66667C26.6667 7.29848 26.3682 7 26 7H6ZM17.0119 22.2294C17.0263 22.29 17.0802 22.3333 17.1425 22.3333H23.3333C23.7015 22.3333 24 22.0349 24 21.6667V10.3333C24 9.96514 23.7015 9.66667 23.3333 9.66667H8.66667C8.29848 9.66667 8 9.96514 8 10.3333V13.1909C8 13.2531 8.04332 13.3071 8.10392 13.3214C12.5063 14.3618 15.9715 17.827 17.0119 22.2294Z" fill="currentColor"/> <path d="M13.2 25C13.2736 25 13.3334 24.9398 13.3322 24.8661C13.2615 20.5544 9.77889 17.0718 5.46718 17.0011C5.39356 16.9999 5.33333 17.0597 5.33333 17.1333V18.8667C5.33333 18.9403 5.39348 18.9999 5.4671 19.0015C8.67465 19.0716 11.2617 21.6587 11.3319 24.8662C11.3335 24.9399 11.393 25 11.4667 25H13.2Z" fill="currentColor"/> <path d="M5.33333 21.1333C5.33333 21.0597 5.39332 20.9998 5.46692 21.0022C7.57033 21.0712 9.26217 22.763 9.33114 24.8664C9.33356 24.94 9.27364 25 9.2 25H6C5.63181 25 5.33333 24.7015 5.33333 24.3333V21.1333Z" fill="currentColor"/>',Odt=Object.freeze({__proto__:null,default:FQ}),eW='<path d="M8 28.0003C8 27.6321 8.29848 27.3336 8.66667 27.3336H23.3333C23.7015 27.3336 24 27.6321 24 28.0003V29.3336C24 29.7018 23.7015 30.0003 23.3333 30.0003H8.66667C8.29848 30.0003 8 29.7018 8 29.3336V28.0003Z" fill="currentColor"/> <path fill-rule="evenodd" clip-rule="evenodd" d="M4.66602 6.66699C4.29783 6.66699 3.99935 6.96547 3.99935 7.33366V24.667C3.99935 25.0352 4.29783 25.3337 4.66602 25.3337H27.3327C27.7009 25.3337 27.9994 25.0352 27.9994 24.667V7.33366C27.9994 6.96547 27.7009 6.66699 27.3327 6.66699H4.66602ZM8.66659 21.3333C8.2984 21.3333 7.99992 21.0349 7.99992 20.6667V11.3333C7.99992 10.9651 8.2984 10.6667 8.66659 10.6667H13.9999C14.3681 10.6667 14.6666 10.9651 14.6666 11.3333V12.6667C14.6666 13.0349 14.3681 13.3333 13.9999 13.3333H10.7999C10.7263 13.3333 10.6666 13.393 10.6666 13.4667V18.5333C10.6666 18.607 10.7263 18.6667 10.7999 18.6667H13.9999C14.3681 18.6667 14.6666 18.9651 14.6666 19.3333V20.6667C14.6666 21.0349 14.3681 21.3333 13.9999 21.3333H8.66659ZM17.9999 21.3333C17.6317 21.3333 17.3333 21.0349 17.3333 20.6667V11.3333C17.3333 10.9651 17.6317 10.6667 17.9999 10.6667H23.3333C23.7014 10.6667 23.9999 10.9651 23.9999 11.3333V12.6667C23.9999 13.0349 23.7014 13.3333 23.3333 13.3333H20.1333C20.0596 13.3333 19.9999 13.393 19.9999 13.4667V18.5333C19.9999 18.607 20.0596 18.6667 20.1333 18.6667H23.3333C23.7014 18.6667 23.9999 18.9651 23.9999 19.3333V20.6667C23.9999 21.0349 23.7014 21.3333 23.3333 21.3333H17.9999Z" fill="currentColor"/>',CA='<path fill-rule="evenodd" clip-rule="evenodd" d="M4.6661 6.66699C4.29791 6.66699 3.99943 6.96547 3.99943 7.33366V24.667C3.99943 25.0352 4.29791 25.3337 4.6661 25.3337H27.3328C27.701 25.3337 27.9994 25.0352 27.9994 24.667V7.33366C27.9994 6.96547 27.701 6.66699 27.3328 6.66699H4.6661ZM8.66667 21.3333C8.29848 21.3333 8 21.0349 8 20.6667V11.3333C8 10.9651 8.29848 10.6667 8.66667 10.6667H14C14.3682 10.6667 14.6667 10.9651 14.6667 11.3333V12.6667C14.6667 13.0349 14.3682 13.3333 14 13.3333H10.8C10.7264 13.3333 10.6667 13.393 10.6667 13.4667V18.5333C10.6667 18.607 10.7264 18.6667 10.8 18.6667H14C14.3682 18.6667 14.6667 18.9651 14.6667 19.3333V20.6667C14.6667 21.0349 14.3682 21.3333 14 21.3333H8.66667ZM18 21.3333C17.6318 21.3333 17.3333 21.0349 17.3333 20.6667V11.3333C17.3333 10.9651 17.6318 10.6667 18 10.6667H23.3333C23.7015 10.6667 24 10.9651 24 11.3333V12.6667C24 13.0349 23.7015 13.3333 23.3333 13.3333H20.1333C20.0597 13.3333 20 13.393 20 13.4667V18.5333C20 18.607 20.0597 18.6667 20.1333 18.6667H23.3333C23.7015 18.6667 24 18.9651 24 19.3333V20.6667C24 21.0349 23.7015 21.3333 23.3333 21.3333H18Z" fill="currentColor"/>',wPe='<path d="M14.2225 13.7867C14.3065 13.8706 14.4501 13.8112 14.4501 13.6924V5.99955C14.4501 5.63136 14.7486 5.33289 15.1167 5.33289H16.8501C17.2183 5.33289 17.5167 5.63136 17.5167 5.99955V13.6916C17.5167 13.8104 17.6604 13.8699 17.7444 13.7859L19.9433 11.5869C20.2037 11.3266 20.6258 11.3266 20.8861 11.5869L22.1118 12.8126C22.3722 13.0729 22.3722 13.4951 22.1118 13.7554L16.4549 19.4123C16.1946 19.6726 15.772 19.6731 15.5116 19.4128L9.85479 13.7559C9.59444 13.4956 9.59444 13.0734 9.85479 12.8131L11.0804 11.5874C11.3408 11.3271 11.7629 11.3271 12.0233 11.5874L14.2225 13.7867Z" fill="currentColor"/> <path d="M5.99998 20.267C5.63179 20.267 5.33331 20.5654 5.33331 20.9336V25.9997C5.33331 26.3678 5.63179 26.6663 5.99998 26.6663H26C26.3682 26.6663 26.6666 26.3678 26.6666 25.9997V20.9336C26.6666 20.5654 26.3682 20.267 26 20.267H24.2666C23.8985 20.267 23.6 20.5654 23.6 20.9336V22.9333C23.6 23.3014 23.3015 23.5999 22.9333 23.5999H9.06638C8.69819 23.5999 8.39972 23.3014 8.39972 22.9333V20.9336C8.39972 20.5654 8.10124 20.267 7.73305 20.267H5.99998Z" fill="currentColor"/>',xPe='<path d="M16 20C18.2091 20 20 18.2092 20 16C20 13.7909 18.2091 12 16 12C13.7909 12 12 13.7909 12 16C12 18.2092 13.7909 20 16 20Z" fill="currentColor"/> <path fill-rule="evenodd" clip-rule="evenodd" d="M28 16.0058C28 18.671 23.5 25.3334 16 25.3334C8.5 25.3334 4 18.6762 4 16.0058C4 13.3354 8.50447 6.66669 16 6.66669C23.4955 6.66669 28 13.3406 28 16.0058ZM25.3318 15.9934C25.3328 16.0017 25.3328 16.0099 25.3318 16.0182C25.3274 16.0571 25.3108 16.1728 25.2485 16.3708C25.1691 16.6229 25.0352 16.9462 24.8327 17.3216C24.4264 18.0749 23.7969 18.9398 22.9567 19.754C21.2791 21.3798 18.9148 22.6667 16 22.6667C13.0845 22.6667 10.7202 21.3805 9.04298 19.7557C8.20295 18.9419 7.57362 18.0773 7.16745 17.3241C6.96499 16.9486 6.83114 16.6252 6.75172 16.3729C6.67942 16.1431 6.66856 16.0243 6.66695 16.0066L6.66695 16.005C6.66859 15.9871 6.67951 15.8682 6.75188 15.6383C6.83145 15.3854 6.96554 15.0614 7.16831 14.6853C7.57507 13.9306 8.20514 13.0644 9.04577 12.249C10.7245 10.6208 13.0886 9.33335 16 9.33335C18.9108 9.33335 21.2748 10.6215 22.9539 12.2507C23.7947 13.0664 24.4249 13.933 24.8318 14.6877C25.0346 15.0639 25.1688 15.3878 25.2483 15.6404C25.3107 15.8386 25.3274 15.9545 25.3318 15.9934Z" fill="currentColor"/>',tW='<path d="M15.8747 8.11857C16.3148 7.79342 16.9375 8.10759 16.9375 8.65476V14.2575C16.9375 14.3669 17.0621 14.4297 17.1501 14.3647L25.6038 8.11857C26.0439 7.79342 26.6667 8.10759 26.6667 8.65476V23.3451C26.6667 23.8923 26.0439 24.2064 25.6038 23.8813L17.1501 17.6346C17.0621 17.5695 16.9375 17.6324 16.9375 17.7418L16.9375 23.3451C16.9375 23.8923 16.3147 24.2064 15.8747 23.8813L5.93387 16.5358C5.57322 16.2693 5.57323 15.7299 5.93389 15.4634L15.8747 8.11857Z" fill="currentColor"/>',nW='<path d="M16.1253 8.11866C15.6852 7.7935 15.0625 8.10768 15.0625 8.65484V14.2576C15.0625 14.367 14.9379 14.4298 14.8499 14.3648L6.39615 8.11866C5.95607 7.7935 5.33331 8.10768 5.33331 8.65484V23.3452C5.33331 23.8923 5.9561 24.2065 6.39617 23.8813L14.8499 17.6347C14.9379 17.5696 15.0625 17.6325 15.0625 17.7419L15.0625 23.3452C15.0625 23.8923 15.6853 24.2065 16.1253 23.8813L26.0661 16.5358C26.4268 16.2694 26.4268 15.73 26.0661 15.4635L16.1253 8.11866Z" fill="currentColor"/>',rW='<path d="M19.3334 13.3333C18.9652 13.3333 18.6667 13.0349 18.6667 12.6667L18.6667 7.33333C18.6667 6.96514 18.9652 6.66666 19.3334 6.66666H21.3334C21.7015 6.66666 22 6.96514 22 7.33333V9.86666C22 9.9403 22.0597 10 22.1334 10L24.6667 10C25.0349 10 25.3334 10.2985 25.3334 10.6667V12.6667C25.3334 13.0349 25.0349 13.3333 24.6667 13.3333L19.3334 13.3333Z" fill="currentColor"/> <path d="M13.3334 19.3333C13.3334 18.9651 13.0349 18.6667 12.6667 18.6667H7.33335C6.96516 18.6667 6.66669 18.9651 6.66669 19.3333V21.3333C6.66669 21.7015 6.96516 22 7.33335 22H9.86669C9.94032 22 10 22.0597 10 22.1333L10 24.6667C10 25.0349 10.2985 25.3333 10.6667 25.3333H12.6667C13.0349 25.3333 13.3334 25.0349 13.3334 24.6667L13.3334 19.3333Z" fill="currentColor"/> <path d="M18.6667 24.6667C18.6667 25.0349 18.9652 25.3333 19.3334 25.3333H21.3334C21.7015 25.3333 22 25.0349 22 24.6667V22.1333C22 22.0597 22.0597 22 22.1334 22H24.6667C25.0349 22 25.3334 21.7015 25.3334 21.3333V19.3333C25.3334 18.9651 25.0349 18.6667 24.6667 18.6667L19.3334 18.6667C18.9652 18.6667 18.6667 18.9651 18.6667 19.3333L18.6667 24.6667Z" fill="currentColor"/> <path d="M10.6667 13.3333H12.6667C13.0349 13.3333 13.3334 13.0349 13.3334 12.6667L13.3334 10.6667V7.33333C13.3334 6.96514 13.0349 6.66666 12.6667 6.66666H10.6667C10.2985 6.66666 10 6.96514 10 7.33333L10 9.86666C10 9.9403 9.94033 10 9.86669 10L7.33335 10C6.96516 10 6.66669 10.2985 6.66669 10.6667V12.6667C6.66669 13.0349 6.96516 13.3333 7.33335 13.3333L10.6667 13.3333Z" fill="currentColor"/>',iW='<path d="M25.3299 7.26517C25.2958 6.929 25.0119 6.66666 24.6667 6.66666H19.3334C18.9652 6.66666 18.6667 6.96514 18.6667 7.33333V9.33333C18.6667 9.70152 18.9652 10 19.3334 10L21.8667 10C21.9403 10 22 10.0597 22 10.1333V12.6667C22 13.0349 22.2985 13.3333 22.6667 13.3333H24.6667C25.0349 13.3333 25.3334 13.0349 25.3334 12.6667V7.33333C25.3334 7.31032 25.3322 7.28758 25.3299 7.26517Z" fill="currentColor"/> <path d="M22 21.8667C22 21.9403 21.9403 22 21.8667 22L19.3334 22C18.9652 22 18.6667 22.2985 18.6667 22.6667V24.6667C18.6667 25.0349 18.9652 25.3333 19.3334 25.3333L24.6667 25.3333C25.0349 25.3333 25.3334 25.0349 25.3334 24.6667V19.3333C25.3334 18.9651 25.0349 18.6667 24.6667 18.6667H22.6667C22.2985 18.6667 22 18.9651 22 19.3333V21.8667Z" fill="currentColor"/> <path d="M12.6667 22H10.1334C10.0597 22 10 21.9403 10 21.8667V19.3333C10 18.9651 9.70154 18.6667 9.33335 18.6667H7.33335C6.96516 18.6667 6.66669 18.9651 6.66669 19.3333V24.6667C6.66669 25.0349 6.96516 25.3333 7.33335 25.3333H12.6667C13.0349 25.3333 13.3334 25.0349 13.3334 24.6667V22.6667C13.3334 22.2985 13.0349 22 12.6667 22Z" fill="currentColor"/> <path d="M10 12.6667V10.1333C10 10.0597 10.0597 10 10.1334 10L12.6667 10C13.0349 10 13.3334 9.70152 13.3334 9.33333V7.33333C13.3334 6.96514 13.0349 6.66666 12.6667 6.66666H7.33335C6.96516 6.66666 6.66669 6.96514 6.66669 7.33333V12.6667C6.66669 13.0349 6.96516 13.3333 7.33335 13.3333H9.33335C9.70154 13.3333 10 13.0349 10 12.6667Z" fill="currentColor"/>',SPe='<path fill-rule="evenodd" clip-rule="evenodd" d="M26.6667 5.99998C26.6667 5.63179 26.3682 5.33331 26 5.33331H11.3333C10.9651 5.33331 10.6667 5.63179 10.6667 5.99998V17.5714C10.6667 17.6694 10.5644 17.7342 10.4741 17.6962C9.91823 17.4625 9.30754 17.3333 8.66667 17.3333C6.08934 17.3333 4 19.4226 4 22C4 24.5773 6.08934 26.6666 8.66667 26.6666C11.244 26.6666 13.3333 24.5773 13.3333 22V8.66665C13.3333 8.29846 13.6318 7.99998 14 7.99998L23.3333 7.99998C23.7015 7.99998 24 8.29846 24 8.66665V14.9048C24 15.0027 23.8978 15.0675 23.8075 15.0296C23.2516 14.7958 22.6409 14.6666 22 14.6666C19.4227 14.6666 17.3333 16.756 17.3333 19.3333C17.3333 21.9106 19.4227 24 22 24C24.5773 24 26.6667 21.9106 26.6667 19.3333V5.99998ZM22 21.3333C23.1046 21.3333 24 20.4379 24 19.3333C24 18.2287 23.1046 17.3333 22 17.3333C20.8954 17.3333 20 18.2287 20 19.3333C20 20.4379 20.8954 21.3333 22 21.3333ZM8.66667 24C9.77124 24 10.6667 23.1045 10.6667 22C10.6667 20.8954 9.77124 20 8.66667 20C7.5621 20 6.66667 20.8954 6.66667 22C6.66667 23.1045 7.5621 24 8.66667 24Z" fill="currentColor"/>',oW='<path d="M17.5091 24.6594C17.5091 25.2066 16.8864 25.5208 16.4463 25.1956L9.44847 20.0252C9.42553 20.0083 9.39776 19.9991 9.36923 19.9991H4.66667C4.29848 19.9991 4 19.7006 4 19.3325V12.6658C4 12.2976 4.29848 11.9991 4.66667 11.9991H9.37115C9.39967 11.9991 9.42745 11.99 9.45039 11.973L16.4463 6.8036C16.8863 6.47842 17.5091 6.79259 17.5091 7.33977L17.5091 24.6594Z" fill="currentColor"/> <path d="M28.8621 13.6422C29.1225 13.3818 29.1225 12.9597 28.8621 12.6994L27.9193 11.7566C27.659 11.4962 27.2368 11.4962 26.9765 11.7566L24.7134 14.0197C24.6613 14.0717 24.5769 14.0717 24.5248 14.0197L22.262 11.7568C22.0016 11.4964 21.5795 11.4964 21.3191 11.7568L20.3763 12.6996C20.116 12.9599 20.116 13.382 20.3763 13.6424L22.6392 15.9053C22.6913 15.9573 22.6913 16.0418 22.6392 16.0938L20.3768 18.3562C20.1165 18.6166 20.1165 19.0387 20.3768 19.299L21.3196 20.2419C21.58 20.5022 22.0021 20.5022 22.2624 20.2418L24.5248 17.9795C24.5769 17.9274 24.6613 17.9274 24.7134 17.9795L26.976 20.2421C27.2363 20.5024 27.6585 20.5024 27.9188 20.2421L28.8616 19.2992C29.122 19.0389 29.122 18.6168 28.8616 18.3564L26.599 16.0938C26.547 16.0418 26.547 15.9573 26.599 15.9053L28.8621 13.6422Z" fill="currentColor"/>',_Pe='<path d="M26.6009 16.0725C26.6009 16.424 26.4302 17.1125 25.9409 18.0213C25.4676 18.8976 24.7542 19.8715 23.8182 20.7783C21.9489 22.5905 19.2662 24.0667 15.9342 24.0667C12.6009 24.0667 9.91958 22.5915 8.04891 20.78C7.11424 19.8736 6.40091 18.9 5.92758 18.0236C5.43824 17.1149 5.26758 16.4257 5.26758 16.0725C5.26758 15.7193 5.43824 15.0293 5.92891 14.1193C6.40224 13.2416 7.11558 12.2665 8.05158 11.3587C9.92224 9.54398 12.6049 8.06665 15.9342 8.06665C19.2636 8.06665 21.9449 9.54505 23.8169 11.3604C24.7529 12.2687 25.4662 13.2441 25.9396 14.1216C26.4302 15.0317 26.6009 15.7209 26.6009 16.0725Z" stroke="currentColor" stroke-width="3"/> <path d="M15.9336 20.0667C18.1427 20.0667 19.9336 18.2758 19.9336 16.0667C19.9336 13.8575 18.1427 12.0667 15.9336 12.0667C13.7245 12.0667 11.9336 13.8575 11.9336 16.0667C11.9336 18.2758 13.7245 20.0667 15.9336 20.0667Z" fill="currentColor"/> <path fill-rule="evenodd" clip-rule="evenodd" d="M27.2323 25.0624L6.93878 4.76886C6.78118 4.61126 6.70762 4.57052 6.61919 4.54372C6.53077 4.51692 6.44033 4.51691 6.3519 4.54372C6.26347 4.57052 6.18991 4.61126 6.03231 4.76886L4.77032 6.03085C4.61272 6.18845 4.57198 6.26201 4.54518 6.35044C4.51838 6.43887 4.51838 6.5293 4.54518 6.61773C4.57198 6.70616 4.61272 6.77972 4.77032 6.93732L25.0639 27.2308C25.2215 27.3884 25.295 27.4292 25.3834 27.456C25.4719 27.4828 25.5623 27.4828 25.6507 27.456C25.7392 27.4292 25.8127 27.3885 25.9703 27.2309L27.2323 25.9689C27.3899 25.8113 27.4307 25.7377 27.4575 25.6493C27.4843 25.5608 27.4843 25.4704 27.4575 25.382C27.4307 25.2935 27.3899 25.22 27.2323 25.0624Z" fill="currentColor"/>',sW='<path d="M8.66667 6.66667C8.29848 6.66667 8 6.96514 8 7.33333V24.6667C8 25.0349 8.29848 25.3333 8.66667 25.3333H12.6667C13.0349 25.3333 13.3333 25.0349 13.3333 24.6667V7.33333C13.3333 6.96514 13.0349 6.66667 12.6667 6.66667H8.66667Z" fill="currentColor"/> <path d="M19.3333 6.66667C18.9651 6.66667 18.6667 6.96514 18.6667 7.33333V24.6667C18.6667 25.0349 18.9651 25.3333 19.3333 25.3333H23.3333C23.7015 25.3333 24 25.0349 24 24.6667V7.33333C24 6.96514 23.7015 6.66667 23.3333 6.66667H19.3333Z" fill="currentColor"/>',aW='<path d="M5.33334 26V19.4667C5.33334 19.393 5.39304 19.3333 5.46668 19.3333H7.86668C7.94031 19.3333 8.00001 19.393 8.00001 19.4667V23.3333C8.00001 23.7015 8.29849 24 8.66668 24H23.3333C23.7015 24 24 23.7015 24 23.3333V8.66666C24 8.29847 23.7015 7.99999 23.3333 7.99999H19.4667C19.393 7.99999 19.3333 7.9403 19.3333 7.86666V5.46666C19.3333 5.39302 19.393 5.33333 19.4667 5.33333H26C26.3682 5.33333 26.6667 5.63181 26.6667 5.99999V26C26.6667 26.3682 26.3682 26.6667 26 26.6667H6.00001C5.63182 26.6667 5.33334 26.3682 5.33334 26Z" fill="currentColor"/> <path d="M14.0098 8.42359H10.806C10.6872 8.42359 10.6277 8.56721 10.7117 8.6512L16.5491 14.4886C16.8094 14.7489 16.8094 15.171 16.5491 15.4314L15.3234 16.657C15.0631 16.9174 14.641 16.9174 14.3806 16.657L8.63739 10.9138C8.55339 10.8298 8.40978 10.8893 8.40978 11.0081V14.0236C8.40978 14.3918 8.1113 14.6903 7.74311 14.6903H6.00978C5.64159 14.6903 5.34311 14.3918 5.34311 14.0236L5.34311 6.02359C5.34311 5.6554 5.64159 5.35692 6.00978 5.35692L14.0098 5.35692C14.378 5.35692 14.6764 5.6554 14.6764 6.02359V7.75692C14.6764 8.12511 14.378 8.42359 14.0098 8.42359Z" fill="currentColor"/>',lW='<path d="M16 15.3333C15.6318 15.3333 15.3333 15.6318 15.3333 16V20C15.3333 20.3682 15.6318 20.6667 16 20.6667H21.3333C21.7015 20.6667 22 20.3682 22 20V16C22 15.6318 21.7015 15.3333 21.3333 15.3333H16Z" fill="currentColor"/> <path fill-rule="evenodd" clip-rule="evenodd" d="M5.33333 7.33334C5.33333 6.96515 5.63181 6.66667 5.99999 6.66667H26C26.3682 6.66667 26.6667 6.96515 26.6667 7.33334V24.6667C26.6667 25.0349 26.3682 25.3333 26 25.3333H5.99999C5.63181 25.3333 5.33333 25.0349 5.33333 24.6667V7.33334ZM7.99999 10C7.99999 9.63182 8.29847 9.33334 8.66666 9.33334H23.3333C23.7015 9.33334 24 9.63182 24 10V22C24 22.3682 23.7015 22.6667 23.3333 22.6667H8.66666C8.29847 22.6667 7.99999 22.3682 7.99999 22V10Z" fill="currentColor"/>',uW='<path d="M10.6667 6.6548C10.6667 6.10764 11.2894 5.79346 11.7295 6.11862L24.377 15.4634C24.7377 15.7298 24.7377 16.2692 24.3771 16.5357L11.7295 25.8813C11.2895 26.2065 10.6667 25.8923 10.6667 25.3451L10.6667 6.6548Z" fill="currentColor"/>',CPe='<path d="M13.9213 5.53573C14.3146 5.45804 14.6666 5.76987 14.6666 6.17079V7.57215C14.6666 7.89777 14.4305 8.17277 14.114 8.24925C12.5981 8.61559 11.2506 9.41368 10.2091 10.506C9.98474 10.7414 9.62903 10.8079 9.34742 10.6453L8.14112 9.94885C7.79394 9.7484 7.69985 9.28777 7.96359 8.98585C9.48505 7.24409 11.5636 6.00143 13.9213 5.53573Z" fill="currentColor"/> <path d="M5.88974 12.5908C6.01805 12.2101 6.46491 12.0603 6.81279 12.2611L8.01201 12.9535C8.29379 13.1162 8.41396 13.4577 8.32238 13.7699C8.11252 14.4854 7.99998 15.2424 7.99998 16.0257C7.99998 16.809 8.11252 17.566 8.32238 18.2814C8.41396 18.5936 8.29378 18.9352 8.01201 19.0979L6.82742 19.7818C6.48051 19.9821 6.03488 19.8337 5.90521 19.4547C5.5345 18.3712 5.33331 17.2091 5.33331 16C5.33331 14.8078 5.5289 13.6613 5.88974 12.5908Z" fill="currentColor"/> <path d="M8.17106 22.0852C7.82291 22.2862 7.72949 22.7486 7.99532 23.0502C9.51387 24.773 11.5799 26.0017 13.9213 26.4642C14.3146 26.5419 14.6666 26.2301 14.6666 25.8291V24.4792C14.6666 24.1536 14.4305 23.8786 14.114 23.8021C12.5981 23.4358 11.2506 22.6377 10.2091 21.5453C9.98474 21.31 9.62903 21.2435 9.34742 21.4061L8.17106 22.0852Z" fill="currentColor"/> <path d="M17.3333 25.8291C17.3333 26.2301 17.6857 26.5418 18.079 26.4641C22.9748 25.4969 26.6666 21.1796 26.6666 16C26.6666 10.8204 22.9748 6.50302 18.079 5.5358C17.6857 5.4581 17.3333 5.76987 17.3333 6.17079V7.57215C17.3333 7.89777 17.5697 8.17282 17.8862 8.24932C21.3942 9.09721 24 12.2572 24 16.0257C24 19.7942 21.3942 22.9542 17.8862 23.802C17.5697 23.8785 17.3333 24.1536 17.3333 24.4792V25.8291Z" fill="currentColor"/> <path d="M14.3961 10.4163C13.9561 10.0911 13.3333 10.4053 13.3333 10.9525L13.3333 21.0474C13.3333 21.5946 13.9561 21.9087 14.3962 21.5836L21.2273 16.5359C21.5879 16.2694 21.5879 15.73 21.2273 15.4635L14.3961 10.4163Z" fill="currentColor"/>',EPe='<path d="M15.6038 12.2147C16.0439 12.5399 16.6667 12.2257 16.6667 11.6786V10.1789C16.6667 10.1001 16.7351 10.0384 16.8134 10.0479C20.1116 10.4494 22.6667 13.2593 22.6667 16.6659C22.6667 20.3481 19.6817 23.3332 15.9995 23.3332C12.542 23.3332 9.69927 20.7014 9.36509 17.332C9.32875 16.9655 9.03371 16.6662 8.66548 16.6662L6.66655 16.6666C6.29841 16.6666 5.99769 16.966 6.02187 17.3334C6.36494 22.5454 10.7012 26.6667 16 26.6667C21.5228 26.6667 26 22.1895 26 16.6667C26 11.4103 21.9444 7.10112 16.7916 6.69757C16.7216 6.69209 16.6667 6.63396 16.6667 6.56372V4.98824C16.6667 4.44106 16.0439 4.12689 15.6038 4.45206L11.0765 7.79738C10.7159 8.06387 10.7159 8.60326 11.0766 8.86973L15.6038 12.2147Z" fill="currentColor"/>',kPe='<path d="M16.6667 10.3452C16.6667 10.8924 16.0439 11.2066 15.6038 10.8814L11.0766 7.5364C10.7159 7.26993 10.7159 6.73054 11.0766 6.46405L15.6038 3.11873C16.0439 2.79356 16.6667 3.10773 16.6667 3.6549V5.22682C16.6667 5.29746 16.7223 5.35579 16.7927 5.36066C22.6821 5.76757 27.3333 10.674 27.3333 16.6667C27.3333 22.9259 22.2592 28 16 28C9.96483 28 5.03145 23.2827 4.68601 17.3341C4.66466 16.9665 4.96518 16.6673 5.33339 16.6673H7.3334C7.70157 16.6673 7.99714 16.9668 8.02743 17.3337C8.36638 21.4399 11.8064 24.6667 16 24.6667C20.4183 24.6667 24 21.085 24 16.6667C24 12.5225 20.8483 9.11428 16.8113 8.70739C16.7337 8.69957 16.6667 8.76096 16.6667 8.83893V10.3452Z" fill="currentColor"/> <path fill-rule="evenodd" clip-rule="evenodd" d="M17.0879 19.679C17.4553 19.9195 17.8928 20.0398 18.4004 20.0398C18.9099 20.0398 19.3474 19.9205 19.7129 19.6818C20.0803 19.4413 20.3635 19.0938 20.5623 18.6392C20.7612 18.1847 20.8606 17.6373 20.8606 16.9972C20.8625 16.3608 20.764 15.8192 20.5652 15.3722C20.3663 14.9252 20.0822 14.5853 19.7129 14.3523C19.3455 14.1175 18.908 14 18.4004 14C17.8928 14 17.4553 14.1175 17.0879 14.3523C16.7224 14.5853 16.4402 14.9252 16.2413 15.3722C16.0443 15.8173 15.9449 16.3589 15.943 16.9972C15.9411 17.6354 16.0396 18.1818 16.2385 18.6364C16.4373 19.089 16.7205 19.4366 17.0879 19.679ZM19.1362 18.4262C18.9487 18.7349 18.7034 18.8892 18.4004 18.8892C18.1996 18.8892 18.0226 18.8211 17.8691 18.6847C17.7157 18.5464 17.5964 18.3372 17.5112 18.0568C17.4279 17.7765 17.3871 17.4233 17.389 16.9972C17.3909 16.3684 17.4847 15.9025 17.6703 15.5995C17.8559 15.2945 18.0993 15.1421 18.4004 15.1421C18.603 15.1421 18.7801 15.2093 18.9316 15.3438C19.0832 15.4782 19.2015 15.6828 19.2868 15.9574C19.372 16.2301 19.4146 16.5767 19.4146 16.9972C19.4165 17.6392 19.3237 18.1156 19.1362 18.4262Z" fill="currentColor"/> <path d="M13.7746 19.8978C13.8482 19.8978 13.9079 19.8381 13.9079 19.7644V14.2129C13.9079 14.1393 13.8482 14.0796 13.7746 14.0796H12.642C12.6171 14.0796 12.5927 14.0865 12.5716 14.0997L11.2322 14.9325C11.1931 14.9568 11.1693 14.9996 11.1693 15.0457V15.9497C11.1693 16.0539 11.2833 16.1178 11.3722 16.0635L12.464 15.396C12.4682 15.3934 12.473 15.3921 12.4779 15.3921C12.4926 15.3921 12.5045 15.404 12.5045 15.4187V19.7644C12.5045 19.8381 12.5642 19.8978 12.6378 19.8978H13.7746Z" fill="currentColor"/>',PPe='<path d="M15.3333 10.3452C15.3333 10.8924 15.9561 11.2066 16.3962 10.8814L20.9234 7.5364C21.2841 7.26993 21.2841 6.73054 20.9235 6.46405L16.3962 3.11873C15.9561 2.79356 15.3333 3.10773 15.3333 3.6549V5.22682C15.3333 5.29746 15.2778 5.35579 15.2073 5.36066C9.31791 5.76757 4.66667 10.674 4.66667 16.6667C4.66667 22.9259 9.74078 28 16 28C22.0352 28 26.9686 23.2827 27.314 17.3341C27.3354 16.9665 27.0348 16.6673 26.6666 16.6673H24.6666C24.2984 16.6673 24.0029 16.9668 23.9726 17.3337C23.6336 21.4399 20.1937 24.6667 16 24.6667C11.5817 24.6667 8 21.085 8 16.6667C8 12.5225 11.1517 9.11428 15.1887 8.70739C15.2663 8.69957 15.3333 8.76096 15.3333 8.83893V10.3452Z" fill="currentColor"/> <path fill-rule="evenodd" clip-rule="evenodd" d="M17.0879 19.679C17.4553 19.9195 17.8928 20.0398 18.4004 20.0398C18.9099 20.0398 19.3474 19.9205 19.7129 19.6818C20.0803 19.4413 20.3635 19.0938 20.5623 18.6392C20.7612 18.1847 20.8606 17.6373 20.8606 16.9972C20.8625 16.3608 20.764 15.8192 20.5652 15.3722C20.3663 14.9252 20.0822 14.5853 19.7129 14.3523C19.3455 14.1175 18.908 14 18.4004 14C17.8928 14 17.4553 14.1175 17.0879 14.3523C16.7224 14.5853 16.4402 14.9252 16.2413 15.3722C16.0443 15.8173 15.9449 16.3589 15.943 16.9972C15.9411 17.6354 16.0396 18.1818 16.2385 18.6364C16.4373 19.089 16.7205 19.4366 17.0879 19.679ZM19.1362 18.4262C18.9487 18.7349 18.7034 18.8892 18.4004 18.8892C18.1996 18.8892 18.0225 18.8211 17.8691 18.6847C17.7157 18.5464 17.5964 18.3372 17.5112 18.0568C17.4278 17.7765 17.3871 17.4233 17.389 16.9972C17.3909 16.3684 17.4847 15.9025 17.6703 15.5995C17.8559 15.2945 18.0992 15.1421 18.4004 15.1421C18.603 15.1421 18.7801 15.2093 18.9316 15.3438C19.0831 15.4782 19.2015 15.6828 19.2867 15.9574C19.372 16.2301 19.4146 16.5767 19.4146 16.9972C19.4165 17.6392 19.3237 18.1156 19.1362 18.4262Z" fill="currentColor"/> <path d="M13.7746 19.8978C13.8482 19.8978 13.9079 19.8381 13.9079 19.7644V14.2129C13.9079 14.1393 13.8482 14.0796 13.7746 14.0796H12.642C12.6171 14.0796 12.5927 14.0865 12.5716 14.0997L11.2322 14.9325C11.1931 14.9568 11.1693 14.9996 11.1693 15.0457V15.9497C11.1693 16.0539 11.2833 16.1178 11.3722 16.0635L12.464 15.396C12.4682 15.3934 12.473 15.3921 12.4779 15.3921C12.4926 15.3921 12.5045 15.404 12.5045 15.4187V19.7644C12.5045 19.8381 12.5642 19.8978 12.6378 19.8978H13.7746Z" fill="currentColor"/>',$Pe='<path fill-rule="evenodd" clip-rule="evenodd" d="M13.5722 5.33333C13.2429 5.33333 12.9629 5.57382 12.9132 5.89938L12.4063 9.21916C12.4 9.26058 12.3746 9.29655 12.3378 9.31672C12.2387 9.37118 12.1409 9.42779 12.0444 9.48648C12.0086 9.5083 11.9646 9.51242 11.9255 9.49718L8.79572 8.27692C8.48896 8.15732 8.14083 8.27958 7.9762 8.56472L5.5491 12.7686C5.38444 13.0538 5.45271 13.4165 5.70981 13.6223L8.33308 15.7225C8.3658 15.7487 8.38422 15.7887 8.38331 15.8306C8.38209 15.8867 8.38148 15.9429 8.38148 15.9993C8.38148 16.0558 8.3821 16.1121 8.38332 16.1684C8.38423 16.2102 8.36582 16.2503 8.33313 16.2765L5.7103 18.3778C5.45334 18.5836 5.38515 18.9462 5.54978 19.2314L7.97688 23.4352C8.14155 23.7205 8.48981 23.8427 8.79661 23.723L11.926 22.5016C11.9651 22.4864 12.009 22.4905 12.0449 22.5123C12.1412 22.5709 12.2388 22.6274 12.3378 22.6818C12.3745 22.7019 12.4 22.7379 12.4063 22.7793L12.9132 26.0993C12.9629 26.4249 13.2429 26.6654 13.5722 26.6654H18.4264C18.7556 26.6654 19.0356 26.425 19.0854 26.0995L19.5933 22.7801C19.5997 22.7386 19.6252 22.7027 19.6619 22.6825C19.7614 22.6279 19.8596 22.5711 19.9564 22.5121C19.9923 22.4903 20.0362 22.4862 20.0754 22.5015L23.2035 23.7223C23.5103 23.842 23.8585 23.7198 24.0232 23.4346L26.4503 19.2307C26.6149 18.9456 26.5467 18.583 26.2898 18.3771L23.6679 16.2766C23.6352 16.2504 23.6168 16.2104 23.6177 16.1685C23.619 16.1122 23.6196 16.0558 23.6196 15.9993C23.6196 15.9429 23.619 15.8866 23.6177 15.8305C23.6168 15.7886 23.6353 15.7486 23.668 15.7224L26.2903 13.623C26.5474 13.4172 26.6156 13.0544 26.451 12.7692L24.0239 8.56537C23.8592 8.28023 23.5111 8.15797 23.2043 8.27757L20.0758 9.49734C20.0367 9.51258 19.9927 9.50846 19.9569 9.48664C19.8599 9.42762 19.7616 9.37071 19.6618 9.31596C19.6251 9.2958 19.5997 9.25984 19.5933 9.21843L19.0854 5.89915C19.0356 5.57369 18.7556 5.33333 18.4264 5.33333H13.5722ZM16.0001 20.2854C18.3672 20.2854 20.2862 18.3664 20.2862 15.9993C20.2862 13.6322 18.3672 11.7132 16.0001 11.7132C13.6329 11.7132 11.714 13.6322 11.714 15.9993C11.714 18.3664 13.6329 20.2854 16.0001 20.2854Z" fill="currentColor"/>',EA='<path d="M17.5091 24.6595C17.5091 25.2066 16.8864 25.5208 16.4463 25.1956L9.44847 20.0252C9.42553 20.0083 9.39776 19.9992 9.36923 19.9992H4.66667C4.29848 19.9992 4 19.7007 4 19.3325V12.6658C4 12.2976 4.29848 11.9992 4.66667 11.9992H9.37115C9.39967 11.9992 9.42745 11.99 9.45039 11.9731L16.4463 6.80363C16.8863 6.47845 17.5091 6.79262 17.5091 7.3398L17.5091 24.6595Z" fill="currentColor"/> <path d="M27.5091 9.33336C27.8773 9.33336 28.1758 9.63184 28.1758 10V22C28.1758 22.3682 27.8773 22.6667 27.5091 22.6667H26.1758C25.8076 22.6667 25.5091 22.3682 25.5091 22V10C25.5091 9.63184 25.8076 9.33336 26.1758 9.33336L27.5091 9.33336Z" fill="currentColor"/> <path d="M22.1758 12C22.544 12 22.8424 12.2985 22.8424 12.6667V19.3334C22.8424 19.7016 22.544 20 22.1758 20H20.8424C20.4743 20 20.1758 19.7016 20.1758 19.3334V12.6667C20.1758 12.2985 20.4743 12 20.8424 12H22.1758Z" fill="currentColor"/>',kA='<path d="M17.5091 24.6594C17.5091 25.2066 16.8864 25.5207 16.4463 25.1956L9.44847 20.0252C9.42553 20.0083 9.39776 19.9991 9.36923 19.9991H4.66667C4.29848 19.9991 4 19.7006 4 19.3324V12.6658C4 12.2976 4.29848 11.9991 4.66667 11.9991H9.37115C9.39967 11.9991 9.42745 11.99 9.45039 11.973L16.4463 6.80358C16.8863 6.4784 17.5091 6.79258 17.5091 7.33975L17.5091 24.6594Z" fill="currentColor"/> <path d="M22.8424 12.6667C22.8424 12.2985 22.544 12 22.1758 12H20.8424C20.4743 12 20.1758 12.2985 20.1758 12.6667V19.3333C20.1758 19.7015 20.4743 20 20.8424 20H22.1758C22.544 20 22.8424 19.7015 22.8424 19.3333V12.6667Z" fill="currentColor"/>';const jdt=Object.freeze(Object.defineProperty({__proto__:null,Component:dr,DOMEvent:Vr,EventsController:Xr,EventsTarget:OQ,Icon$0:pPe,Icon$104:EA,Icon$105:kA,Icon$11:gPe,Icon$13:JU,Icon$16:vPe,Icon$19:yPe,Icon$22:bPe,Icon$24:FQ,Icon$26:eW,Icon$27:CA,Icon$31:wPe,Icon$33:xPe,Icon$34:tW,Icon$35:nW,Icon$39:rW,Icon$40:iW,Icon$5:mPe,Icon$53:SPe,Icon$54:oW,Icon$56:_Pe,Icon$59:sW,Icon$60:aW,Icon$61:lW,Icon$62:uW,Icon$63:CPe,Icon$74:EPe,Icon$77:kPe,Icon$8:QU,Icon$81:PPe,Icon$88:$Pe,State:cv,ViewController:dd,animationFrameThrottle:s1,appendTriggerEvent:ldt,ariaBool:E4,camelToKebabCase:Vg,chromecast:Odt,composeRefs:ui,computed:zg,createContext:uv,createDisposalBin:Mdt,createReactComponent:fr,createScope:EC,deferredPromise:sD,effect:Xe,findTriggerEvent:Xke,fscreen:k0,functionDebounce:v7,functionThrottle:a1,getScope:VT,hasProvidedContext:Hg,hasTriggerEvent:adt,isArray:Io,isBoolean:kC,isDOMNode:ePe,isFunction:sc,isKeyboardClick:m7,isKeyboardEvent:WT,isMouseEvent:Qke,isNil:Gke,isNull:ah,isNumber:Zu,isObject:Zke,isPointerEvent:XU,isString:mn,isTouchEvent:mP,isUndefined:Is,isWriteSignal:qke,kebabToCamelCase:jQ,keysOf:cPe,listenEvent:no,method:na,noop:qc,onDispose:Jn,peek:wt,prop:xi,provideContext:Xc,r:hPe,scoped:Ts,setAttribute:On,setStyle:lu,signal:_n,tick:sh,toggleClass:tPe,untrack:_C,uppercaseFirstChar:f3,useContext:Vo,useReactContext:NQ,useReactScope:h3,useSignal:cr,useSignalRecord:Adt,useState:d3,useStateContext:p3,waitIdlePeriod:fPe,waitTimeout:dPe,walkTriggerEventChain:sdt,wasEnterKeyPressed:Jke},Symbol.toStringTag,{value:"Module"}));function cW(e){return!mn(e)&&"width"in e&&"height"in e&&Zu(e.width)&&Zu(e.height)}const Ut=typeof document>"u",Ndt=Ut?"":(navigator==null?void 0:navigator.userAgent.toLowerCase())||"",BQ=!Ut&&/iphone|ipad|ipod|ios|crios|fxios/i.test(Ndt),TPe=!Ut&&/(iphone|ipod)/gi.test((navigator==null?void 0:navigator.platform)||""),MPe=!Ut&&!!window.chrome,aD=!Ut&&(!!window.safari||BQ);function LPe(){return Fdt()&&sc(screen.orientation.unlock)}function Fdt(){return!Ut&&!Is(window.screen.orientation)&&!Is(window.screen.orientation.lock)}function APe(e,t){return Ut?!1:(e||(e=document.createElement("audio")),e.canPlayType(t).length>0)}function IPe(e,t){return Ut?!1:(e||(e=document.createElement("video")),e.canPlayType(t).length>0)}function RPe(e){return Ut?!1:(e||(e=document.createElement("video")),e.canPlayType("application/vnd.apple.mpegurl").length>0)}function DPe(e){return Ut?!1:!!document.pictureInPictureEnabled&&!(e!=null&&e.disablePictureInPicture)}function OPe(e){return Ut?!1:sc(e==null?void 0:e.webkitSupportsPresentationMode)&&sc(e==null?void 0:e.webkitSetPresentationMode)}async function Bdt(){const e=document.createElement("video");return e.volume=.5,await dPe(0),e.volume===.5}function zdt(){return Ut?void 0:(window==null?void 0:window.ManagedMediaSource)??(window==null?void 0:window.MediaSource)??(window==null?void 0:window.WebKitMediaSource)}function Hdt(){return Ut?void 0:(window==null?void 0:window.SourceBuffer)??(window==null?void 0:window.WebKitSourceBuffer)}function zQ(){if(Ut)return!1;const e=zdt();if(Is(e))return!1;const t=e&&sc(e.isTypeSupported)&&e.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),n=Hdt(),r=Is(n)||!Is(n.prototype)&&sc(n.prototype.appendBuffer)&&sc(n.prototype.remove);return!!t&&!!r}function jPe(){return zQ()}var Rm;class PA{constructor(t,n){le(this,Rm);Io(t)?de(this,Rm,t):!Is(t)&&!Is(n)?de(this,Rm,[[t,n]]):de(this,Rm,[])}get length(){return T(this,Rm).length}start(t){return T(this,Rm)[t][0]??1/0}end(t){return T(this,Rm)[t][1]??1/0}}Rm=new WeakMap;function ale(e){if(!e.length)return null;let t=e.start(0);for(let n=1;n<e.length;n++){const r=e.start(n);r<t&&(t=r)}return t}function fb(e){if(!e.length)return null;let t=e.end(0);for(let n=1;n<e.length;n++){const r=e.end(n);r>t&&(t=r)}return t}function Vdt(e){if(e.length<=1)return e;e.sort((r,i)=>r[0]-i[0]);let t=[],n=e[0];for(let r=1;r<e.length;r++){const i=e[r];n[1]>=i[0]-1?n=[n[0],Math.max(n[1],i[1])]:(t.push(n),n=i)}return t.push(n),t}function Udt(e,t,n){let r=t[0],i=t[1];return n<r?[n,-1]:n===r?t:r===-1?(t[0]=n,t):(n>r&&(t[1]=n,i===-1&&e.push(t)),Vdt(e),t)}const Wdt=/\.(m4a|m4b|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx|flac)($|\?)/i,Kdt=new Set(["audio/mpeg","audio/ogg","audio/3gp","audio/mp3","audio/webm","audio/flac","audio/m4a","audio/m4b","audio/mp4a","audio/mp4"]),qdt=/\.(mp4|og[gv]|webm|mov|m4v)(#t=[,\d+]+)?($|\?)/i,Gdt=new Set(["video/mp4","video/webm","video/3gp","video/ogg","video/avi","video/mpeg"]),Zdt=/\.(m3u8)($|\?)/i,Ydt=/\.(mpd)($|\?)/i,Xdt=new Set(["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"]),Qdt=new Set(["application/dash+xml"]);function HQ({src:e,type:t}){return mn(e)?Wdt.test(e)||Kdt.has(t)||e.startsWith("blob:")&&t==="audio/object":t==="audio/object"}function VQ(e){return mn(e.src)?qdt.test(e.src)||Gdt.has(e.type)||e.src.startsWith("blob:")&&e.type==="video/object"||m3(e)&&(Ut||RPe()):e.type==="video/object"}function m3({src:e,type:t}){return mn(e)&&Zdt.test(e)||Xdt.has(t)}function UQ({src:e,type:t}){return mn(e)&&Ydt.test(e)||Qdt.has(t)}function Jdt(e){return mn(e.src)&&(HQ(e)||VQ(e)||m3(e))}function eft(e){return!Ut&&typeof window.MediaStream<"u"&&e instanceof window.MediaStream}function wgn(e,t){const n=new URL(e);for(const r of Object.keys(t))n.searchParams.set(r,t[r]+"");return n.toString()}function g3(e,t="preconnect"){if(Ut)return!1;const n=document.querySelector(`link[href="${e}"]`);if(!ah(n))return!0;const r=document.createElement("link");return r.rel=t,r.href=e,r.crossOrigin="true",document.head.append(r),!0}const TE={};function tft(e){if(TE[e])return TE[e].promise;const t=sD(),n=document.querySelector(`script[src="${e}"]`);if(!ah(n))return t.resolve(),t.promise;TE[e]=t;const r=document.createElement("script");return r.src=e,r.onload=()=>{t.resolve(),delete TE[e]},r.onerror=()=>{t.reject(),delete TE[e]},setTimeout(()=>document.head.append(r),0),t.promise}function vP(e){return e==="use-credentials"?"include":mn(e)?"same-origin":void 0}function nft({title:e,src:t,download:n}){const r=kC(n)||n===""?t.src:mn(n)?n:n==null?void 0:n.url;return rft({url:r,src:t,download:n})?{url:r,name:!kC(n)&&!mn(n)&&(n==null?void 0:n.filename)||e.toLowerCase()||"media"}:null}function rft({url:e,src:t,download:n}){return mn(e)&&(n&&n!==!0||HQ(t)||VQ(t))}const ift=Symbol(0),oft=Symbol(0),sft=Symbol(0),aft=Symbol(0),lft=Symbol(0),uft=Symbol(0),cft=Symbol(0),Zn={crossOrigin:ift,readyState:oft,updateActiveCues:sft,canLoad:aft,onModeChange:lft,native:uft,nativeHLS:cft};function lle(e,t){return t>=e.startTime&&t<e.endTime}function WQ(e,t,n){let r=null,i=VT();function o(){const s=mn(t)?[t]:t,a=e.toArray().find(l=>s.includes(l.kind)&&l.mode==="showing");if(a!==r){if(!a){n(null),r=null;return}a.readyState==2?n(a):(n(null),Ts(()=>{const l=no(a,"load",()=>{n(a),l()},{once:!0})},i)),r=a}}return o(),no(e,"mode-change",o)}var Xve,Qve,Jve,eye,g$,Dm,Ob,v$,jb,Fa,Om,gs,NPe,dW,bk,fW,hW,pW;class rx extends OQ{constructor(n){super();le(this,gs);Ge(this,"src");Ge(this,"content");Ge(this,"type");Ge(this,"encoding");Ge(this,"id","");Ge(this,"label","");Ge(this,"language","");Ge(this,"kind");Ge(this,"default",!1);le(this,g$,!1);le(this,Dm,0);le(this,Ob,"disabled");le(this,v$,{});le(this,jb,[]);le(this,Fa,[]);le(this,Om,[]);Ge(this,eye,0);Ge(this,Jve);Ge(this,Qve,null);Ge(this,Xve,null);for(const r of Object.keys(n))this[r]=n[r];this.type||(this.type="vtt"),!Ut&&n.content?N(this,gs,NPe).call(this,n):n.src||(this[Zn.readyState]=2)}static createId(n){return`vds-${n.type}-${n.kind}-${n.src??n.label??"?"}`}get metadata(){return T(this,v$)}get regions(){return T(this,jb)}get cues(){return T(this,Fa)}get activeCues(){return T(this,Om)}get readyState(){return this[Zn.readyState]}get mode(){return T(this,Ob)}set mode(n){this.setMode(n)}addCue(n,r){var s;let i=0,o=T(this,Fa).length;for(i=0;i<o&&!(n.endTime<=T(this,Fa)[i].startTime);i++);i===o?T(this,Fa).push(n):T(this,Fa).splice(i,0,n),n instanceof TextTrackCue||(s=this[Zn.native])==null||s.track.addCue(n),this.dispatchEvent(new Vr("add-cue",{detail:n,trigger:r})),lle(n,T(this,Dm))&&this[Zn.updateActiveCues](T(this,Dm),r)}removeCue(n,r){var o;const i=T(this,Fa).indexOf(n);if(i>=0){const s=T(this,Om).includes(n);T(this,Fa).splice(i,1),(o=this[Zn.native])==null||o.track.removeCue(n),this.dispatchEvent(new Vr("remove-cue",{detail:n,trigger:r})),s&&this[Zn.updateActiveCues](T(this,Dm),r)}}setMode(n,r){var i;T(this,Ob)!==n&&(de(this,Ob,n),n==="disabled"?(de(this,Om,[]),N(this,gs,pW).call(this)):this.readyState===2?this[Zn.updateActiveCues](T(this,Dm),r):N(this,gs,dW).call(this),this.dispatchEvent(new Vr("mode-change",{detail:this,trigger:r})),(i=this[Zn.onModeChange])==null||i.call(this))}[(eye=Zn.readyState,Jve=Zn.crossOrigin,Qve=Zn.onModeChange,Xve=Zn.native,Zn.updateActiveCues)](n,r){if(de(this,Dm,n),this.mode==="disabled"||!T(this,Fa).length)return;const i=[];for(let s=0,a=T(this,Fa).length;s<a;s++){const l=T(this,Fa)[s];lle(l,n)&&i.push(l)}let o=i.length!==T(this,Om).length;if(!o){for(let s=0;s<i.length;s++)if(!T(this,Om).includes(i[s])){o=!0;break}}de(this,Om,i),o&&N(this,gs,pW).call(this,r)}[Zn.canLoad](){de(this,g$,!0),T(this,Ob)!=="disabled"&&N(this,gs,dW).call(this)}}g$=new WeakMap,Dm=new WeakMap,Ob=new WeakMap,v$=new WeakMap,jb=new WeakMap,Fa=new WeakMap,Om=new WeakMap,gs=new WeakSet,NPe=function(n){Il(async()=>{const{parseText:r,VTTCue:i,VTTRegion:o}=await import("./prod-CzWIDHKL.js").then(s=>s.d);return{parseText:r,VTTCue:i,VTTRegion:o}},[],import.meta.url).then(({parseText:r,VTTCue:i,VTTRegion:o})=>{!mn(n.content)||n.type==="json"?(N(this,gs,hW).call(this,n.content,i,o),this.readyState!==3&&N(this,gs,bk).call(this)):r(n.content,{type:n.type}).then(({cues:s,regions:a})=>{de(this,Fa,s),de(this,jb,a),N(this,gs,bk).call(this)})})},dW=async function(){var n,r;if(!(!T(this,g$)||this[Zn.readyState]>0)){if(this[Zn.readyState]=1,this.dispatchEvent(new Vr("load-start")),!this.src){N(this,gs,bk).call(this);return}try{const{parseResponse:i,VTTCue:o,VTTRegion:s}=await Il(async()=>{const{parseResponse:u,VTTCue:c,VTTRegion:f}=await import("./prod-CzWIDHKL.js").then(p=>p.d);return{parseResponse:u,VTTCue:c,VTTRegion:f}},[],import.meta.url),a=(n=this[Zn.crossOrigin])==null?void 0:n.call(this),l=fetch(this.src,{headers:this.type==="json"?{"Content-Type":"application/json"}:void 0,credentials:vP(a)});if(this.type==="json")N(this,gs,hW).call(this,await(await l).text(),o,s);else{const{errors:u,metadata:c,regions:f,cues:p}=await i(l,{type:this.type,encoding:this.encoding});if(((r=u[0])==null?void 0:r.code)===0)throw u[0];de(this,v$,c),de(this,jb,f),de(this,Fa,p)}N(this,gs,bk).call(this)}catch(i){N(this,gs,fW).call(this,i)}}},bk=function(){if(this[Zn.readyState]=2,!this.src||this.type!=="vtt"){const r=this[Zn.native];if(r&&!r.managed)for(const i of T(this,Fa))r.track.addCue(i)}const n=new Vr("load");this[Zn.updateActiveCues](T(this,Dm),n),this.dispatchEvent(n)},fW=function(n){this[Zn.readyState]=3,this.dispatchEvent(new Vr("error",{detail:n}))},hW=function(n,r,i){try{const{regions:o,cues:s}=fft(n,r,i);de(this,jb,o),de(this,Fa,s)}catch(o){N(this,gs,fW).call(this,o)}},pW=function(n){this.dispatchEvent(new Vr("cue-change",{trigger:n}))};const dft=/captions|subtitles/;function ru(e){return dft.test(e.kind)}function fft(e,t,n){const r=mn(e)?JSON.parse(e):e;let i=[],o=[];return r.regions&&n&&(i=r.regions.map(s=>Object.assign(new n,s))),(r.cues||Io(r))&&(o=(Io(r)?r:r.cues).filter(s=>Zu(s.startTime)&&Zu(s.endTime)).map(s=>Object.assign(new t(0,0,""),s))),{regions:i,cues:o}}const qT=new cv({artist:"",artwork:null,audioTrack:null,audioTracks:[],autoPlay:!1,autoPlayError:null,audioGain:null,buffered:new PA,canLoad:!1,canLoadPoster:!1,canFullscreen:!1,canOrientScreen:LPe(),canPictureInPicture:!1,canPlay:!1,clipStartTime:0,clipEndTime:0,controls:!1,get iOSControls(){return TPe&&this.mediaType==="video"&&(!this.playsInline||!k0.fullscreenEnabled&&this.fullscreen)},get nativeControls(){return this.controls||this.iOSControls},controlsVisible:!1,get controlsHidden(){return!this.controlsVisible},crossOrigin:null,ended:!1,error:null,fullscreen:!1,get loop(){return this.providedLoop||this.userPrefersLoop},logLevel:"silent",mediaType:"unknown",muted:!1,paused:!0,played:new PA,playing:!1,playsInline:!1,pictureInPicture:!1,preload:"metadata",playbackRate:1,qualities:[],quality:null,autoQuality:!1,canSetQuality:!0,canSetPlaybackRate:!0,canSetVolume:!1,canSetAudioGain:!1,seekable:new PA,seeking:!1,source:{src:"",type:""},sources:[],started:!1,textTracks:[],textTrack:null,get hasCaptions(){return this.textTracks.filter(ru).length>0},volume:1,waiting:!1,realCurrentTime:0,get currentTime(){return this.ended?this.duration:this.clipStartTime>0?Math.max(0,Math.min(this.realCurrentTime-this.clipStartTime,this.duration)):this.realCurrentTime},providedDuration:-1,intrinsicDuration:0,get duration(){return this.seekableWindow},get title(){return this.providedTitle||this.inferredTitle},get poster(){return this.providedPoster||this.inferredPoster},get viewType(){return this.providedViewType!=="unknown"?this.providedViewType:this.inferredViewType},get streamType(){return this.providedStreamType!=="unknown"?this.providedStreamType:this.inferredStreamType},get currentSrc(){return this.source},get bufferedStart(){const e=ale(this.buffered)??0;return Math.max(e,this.clipStartTime)},get bufferedEnd(){const e=fb(this.buffered)??0;return Math.min(this.seekableEnd,Math.max(0,e-this.clipStartTime))},get bufferedWindow(){return Math.max(0,this.bufferedEnd-this.bufferedStart)},get seekableStart(){if(this.isLiveDVR&&this.liveDVRWindow>0)return Math.max(0,this.seekableEnd-this.liveDVRWindow);const e=ale(this.seekable)??0;return Math.max(e,this.clipStartTime)},get seekableEnd(){if(this.providedDuration>0)return this.providedDuration;const e=this.liveSyncPosition>0?this.liveSyncPosition:this.canPlay?fb(this.seekable)??1/0:0;return this.clipEndTime>0?Math.min(this.clipEndTime,e):e},get seekableWindow(){const e=this.seekableEnd-this.seekableStart;return isNaN(e)?1/0:Math.max(0,e)},canAirPlay:!1,canGoogleCast:!1,remotePlaybackState:"disconnected",remotePlaybackType:"none",remotePlaybackLoader:null,remotePlaybackInfo:null,get isAirPlayConnected(){return this.remotePlaybackType==="airplay"&&this.remotePlaybackState==="connected"},get isGoogleCastConnected(){return this.remotePlaybackType==="google-cast"&&this.remotePlaybackState==="connected"},pointer:"fine",orientation:"landscape",width:0,height:0,mediaWidth:0,mediaHeight:0,lastKeyboardAction:null,userBehindLiveEdge:!1,liveEdgeTolerance:10,minLiveDVRWindow:60,get canSeek(){return/unknown|on-demand|:dvr/.test(this.streamType)&&Number.isFinite(this.duration)&&(!this.isLiveDVR||this.duration>=this.liveDVRWindow)},get live(){return this.streamType.includes("live")||!Number.isFinite(this.duration)},get liveEdgeStart(){return this.live&&Number.isFinite(this.seekableEnd)?Math.max(0,this.seekableEnd-this.liveEdgeTolerance):0},get liveEdge(){return this.live&&(!this.canSeek||!this.userBehindLiveEdge&&this.currentTime>=this.liveEdgeStart)},get liveEdgeWindow(){return this.live&&Number.isFinite(this.seekableEnd)?this.seekableEnd-this.liveEdgeStart:0},get isLiveDVR(){return/:dvr/.test(this.streamType)},get liveDVRWindow(){return Math.max(this.inferredLiveDVRWindow,this.minLiveDVRWindow)},autoPlaying:!1,providedTitle:"",inferredTitle:"",providedLoop:!1,userPrefersLoop:!1,providedPoster:"",inferredPoster:"",inferredViewType:"unknown",providedViewType:"unknown",providedStreamType:"unknown",inferredStreamType:"unknown",liveSyncPosition:null,inferredLiveDVRWindow:0,savedState:null}),FPe=new Set(["autoPlayError","autoPlaying","buffered","canPlay","error","paused","played","playing","seekable","seeking","waiting"]),hft=new Set([...FPe,"ended","inferredPoster","inferredStreamType","inferredTitle","intrinsicDuration","inferredLiveDVRWindow","liveSyncPosition","realCurrentTime","savedState","started","userBehindLiveEdge"]);function ule(e,t=!1){const n=t?FPe:hft;qT.reset(e,r=>n.has(r)),sh()}function BPe(e,t){const n=e+t.clipStartTime(),r=Math.floor(e)===Math.floor(t.seekableStart()),i=Math.floor(n)===Math.floor(t.seekableEnd());return r?t.seekableStart():i?t.seekableEnd():t.isLiveDVR()&&t.liveDVRWindow()>0&&n<t.seekableEnd()-t.liveDVRWindow()?t.bufferedStart():Math.min(Math.max(t.seekableStart()+.1,n),t.seekableEnd()-.1)}const GT=uv();function Pi(){return Vo(GT)}var Nb,Mc,s_,S9,ti,_i,mft;class pft{constructor(t=void 0){le(this,ti);le(this,Nb,null);le(this,Mc,null);le(this,s_,-1);le(this,S9);de(this,S9,t)}setTarget(t){de(this,Nb,t)}getPlayer(t){var n;return T(this,Mc)?T(this,Mc):((n=t??T(this,Nb))==null||n.dispatchEvent(new Vr("find-media-player",{detail:r=>void de(this,Mc,r),bubbles:!0,composed:!0})),T(this,Mc))}setPlayer(t){de(this,Mc,t)}startLoading(t){N(this,ti,_i).call(this,"media-start-loading",t)}startLoadingPoster(t){N(this,ti,_i).call(this,"media-poster-start-loading",t)}requestAirPlay(t){N(this,ti,_i).call(this,"media-airplay-request",t)}requestGoogleCast(t){N(this,ti,_i).call(this,"media-google-cast-request",t)}play(t){N(this,ti,_i).call(this,"media-play-request",t)}pause(t){N(this,ti,_i).call(this,"media-pause-request",t)}mute(t){N(this,ti,_i).call(this,"media-mute-request",t)}unmute(t){N(this,ti,_i).call(this,"media-unmute-request",t)}enterFullscreen(t,n){N(this,ti,_i).call(this,"media-enter-fullscreen-request",n,t)}exitFullscreen(t,n){N(this,ti,_i).call(this,"media-exit-fullscreen-request",n,t)}lockScreenOrientation(t,n){N(this,ti,_i).call(this,"media-orientation-lock-request",n,t)}unlockScreenOrientation(t){N(this,ti,_i).call(this,"media-orientation-unlock-request",t)}enterPictureInPicture(t){N(this,ti,_i).call(this,"media-enter-pip-request",t)}exitPictureInPicture(t){N(this,ti,_i).call(this,"media-exit-pip-request",t)}seeking(t,n){N(this,ti,_i).call(this,"media-seeking-request",n,t)}seek(t,n){N(this,ti,_i).call(this,"media-seek-request",n,t)}seekToLiveEdge(t){N(this,ti,_i).call(this,"media-live-edge-request",t)}changeDuration(t,n){N(this,ti,_i).call(this,"media-duration-change-request",n,t)}changeClipStart(t,n){N(this,ti,_i).call(this,"media-clip-start-change-request",n,t)}changeClipEnd(t,n){N(this,ti,_i).call(this,"media-clip-end-change-request",n,t)}changeVolume(t,n){N(this,ti,_i).call(this,"media-volume-change-request",n,Math.max(0,Math.min(1,t)))}changeAudioTrack(t,n){N(this,ti,_i).call(this,"media-audio-track-change-request",n,t)}changeQuality(t,n){N(this,ti,_i).call(this,"media-quality-change-request",n,t)}requestAutoQuality(t){this.changeQuality(-1,t)}changeTextTrackMode(t,n,r){N(this,ti,_i).call(this,"media-text-track-change-request",r,{index:t,mode:n})}changePlaybackRate(t,n){N(this,ti,_i).call(this,"media-rate-change-request",n,t)}changeAudioGain(t,n){N(this,ti,_i).call(this,"media-audio-gain-change-request",n,t)}resumeControls(t){N(this,ti,_i).call(this,"media-resume-controls-request",t)}pauseControls(t){N(this,ti,_i).call(this,"media-pause-controls-request",t)}togglePaused(t){const n=this.getPlayer(t==null?void 0:t.target);n&&(n.state.paused?this.play(t):this.pause(t))}toggleControls(t){const n=this.getPlayer(t==null?void 0:t.target);n&&(n.controls.showing?n.controls.hide(0,t):n.controls.show(0,t))}toggleMuted(t){const n=this.getPlayer(t==null?void 0:t.target);n&&(n.state.muted?this.unmute(t):this.mute(t))}toggleFullscreen(t,n){const r=this.getPlayer(n==null?void 0:n.target);r&&(r.state.fullscreen?this.exitFullscreen(t,n):this.enterFullscreen(t,n))}togglePictureInPicture(t){const n=this.getPlayer(t==null?void 0:t.target);n&&(n.state.pictureInPicture?this.exitPictureInPicture(t):this.enterPictureInPicture(t))}showCaptions(t){const n=this.getPlayer(t==null?void 0:t.target);if(!n)return;let r=n.state.textTracks,i=T(this,s_);(!r[i]||!ru(r[i]))&&(i=-1),i===-1&&(i=r.findIndex(o=>ru(o)&&o.default)),i===-1&&(i=r.findIndex(o=>ru(o))),i>=0&&this.changeTextTrackMode(i,"showing",t),de(this,s_,-1)}disableCaptions(t){const n=this.getPlayer(t==null?void 0:t.target);if(!n)return;const r=n.state.textTracks,i=n.state.textTrack;if(i){const o=r.indexOf(i);this.changeTextTrackMode(o,"disabled",t),de(this,s_,o)}}toggleCaptions(t){const n=this.getPlayer(t==null?void 0:t.target);n&&(n.state.textTrack?this.disableCaptions():this.showCaptions())}userPrefersLoopChange(t,n){N(this,ti,_i).call(this,"media-user-loop-change-request",n,t)}}Nb=new WeakMap,Mc=new WeakMap,s_=new WeakMap,S9=new WeakMap,ti=new WeakSet,_i=function(t,n,r){var a,l;const i=new Vr(t,{bubbles:!0,composed:!0,cancelable:!0,detail:r,trigger:n});let o=(n==null?void 0:n.target)||null;o&&o instanceof dr&&(o=o.el),o=!o||o===document||o===window||o===document.body||((a=T(this,Mc))==null?void 0:a.el)&&o instanceof Node&&!T(this,Mc).el.contains(o)?T(this,Nb)??((l=this.getPlayer())==null?void 0:l.el):o??T(this,Nb),T(this,Mc)?t==="media-play-request"&&!T(this,Mc).state.canLoad?o==null||o.dispatchEvent(i):T(this,Mc).canPlayQueue.enqueue(t,()=>o==null?void 0:o.dispatchEvent(i)):o==null||o.dispatchEvent(i)},mft=function(t){};var es;class gft{constructor(){Ge(this,"playerId","vds-player");Ge(this,"mediaId",null);le(this,es,{volume:null,muted:null,audioGain:null,time:null,lang:null,captions:null,rate:null,quality:null});Ge(this,"saveTimeThrottled",a1(this.saveTime.bind(this),1e3))}async getVolume(){return T(this,es).volume}async setVolume(t){T(this,es).volume=t,this.save()}async getMuted(){return T(this,es).muted}async setMuted(t){T(this,es).muted=t,this.save()}async getTime(){return T(this,es).time}async setTime(t,n){const r=t<0;T(this,es).time=r?null:t,r||n?this.saveTime():this.saveTimeThrottled()}async getLang(){return T(this,es).lang}async setLang(t){T(this,es).lang=t,this.save()}async getCaptions(){return T(this,es).captions}async setCaptions(t){T(this,es).captions=t,this.save()}async getPlaybackRate(){return T(this,es).rate}async setPlaybackRate(t){T(this,es).rate=t,this.save()}async getAudioGain(){return T(this,es).audioGain}async setAudioGain(t){T(this,es).audioGain=t,this.save()}async getVideoQuality(){return T(this,es).quality}async setVideoQuality(t){T(this,es).quality=t,this.save()}onChange(t,n,r="vds-player"){const i=r?localStorage.getItem(r):null,o=n?localStorage.getItem(n):null;this.playerId=r,this.mediaId=n,de(this,es,{volume:null,muted:null,audioGain:null,lang:null,captions:null,rate:null,quality:null,...i?JSON.parse(i):{},time:o?+o:null})}save(){if(Ut||!this.playerId)return;const t=JSON.stringify({...T(this,es),time:void 0});localStorage.setItem(this.playerId,t)}saveTime(){if(Ut||!this.mediaId)return;const t=(T(this,es).time??0).toString();localStorage.setItem(this.mediaId,t)}}es=new WeakMap;const vft=Symbol(0),yft=Symbol(0),bft=Symbol(0),wft=Symbol(0),xft=Symbol(0),Sft=Symbol(0),_ft=Symbol(0),Cft=Symbol(0),Eft=Symbol(0),yr={add:vft,remove:yft,reset:bft,select:wft,readonly:xft,setReadonly:Sft,onReset:_ft,onRemove:Cft,onUserSelect:Eft};var tye;let zPe=class extends OQ{constructor(){super(...arguments);Ge(this,"items",[]);Ge(this,tye,!1)}get length(){return this.items.length}get readonly(){return this[yr.readonly]}indexOf(n){return this.items.indexOf(n)}getById(n){return n===""?null:this.items.find(r=>r.id===n)??null}toArray(){return[...this.items]}[(tye=yr.readonly,Symbol.iterator)](){return this.items.values()}[yr.add](n,r){const i=this.items.length;""+i in this||Object.defineProperty(this,i,{get(){return this.items[i]}}),!this.items.includes(n)&&(this.items.push(n),this.dispatchEvent(new Vr("add",{detail:n,trigger:r})))}[yr.remove](n,r){var o;const i=this.items.indexOf(n);i>=0&&((o=this[yr.onRemove])==null||o.call(this,n,r),this.items.splice(i,1),this.dispatchEvent(new Vr("remove",{detail:n,trigger:r})))}[yr.reset](n){var r;for(const i of[...this.items])this[yr.remove](i,n);this.items=[],this[yr.setReadonly](!1,n),(r=this[yr.onReset])==null||r.call(this)}[yr.setReadonly](n,r){this[yr.readonly]!==n&&(this[yr.readonly]=n,this.dispatchEvent(new Vr("readonly-change",{detail:n,trigger:r})))}};const ME=Symbol(0);class HPe extends zPe{get selected(){return this.items.find(t=>t.selected)??null}get selectedIndex(){return this.items.findIndex(t=>t.selected)}[yr.onRemove](t,n){this[yr.select](t,!1,n)}[yr.add](t,n){t[ME]=!1,Object.defineProperty(t,"selected",{get(){return this[ME]},set:r=>{var i;this.readonly||((i=this[yr.onUserSelect])==null||i.call(this),this[yr.select](t,r))}}),super[yr.add](t,n)}[yr.select](t,n,r){if(n===(t==null?void 0:t[ME]))return;const i=this.selected;t&&(t[ME]=n),(n?i!==t:i===t)&&(i&&(i[ME]=!1),this.dispatchEvent(new Vr("change",{detail:{prev:i,current:this.selected},trigger:r})))}}class kft extends HPe{}function Qa(e,t=2){return Number(e.toFixed(t))}function mW(e){var t;return((t=String(e).split(".")[1])==null?void 0:t.length)??0}function KQ(e,t,n){return Math.max(e,Math.min(n,t))}function cle(e,t){const n=t.composedPath()[0];return ePe(n)&&e.contains(n)}const gW=new Set;if(!Ut){let e=function(){for(const t of gW)try{t()}catch{}window.requestAnimationFrame(e)};e()}function Pft(e){return gW.add(e),()=>gW.delete(e)}function yi(e,t,n){e.hasAttribute(t)||e.setAttribute(t,n)}function l1(e,t){if(e.hasAttribute("aria-label")||e.hasAttribute("data-no-label"))return;if(!sc(t)){On(e,"aria-label",t);return}function n(){On(e,"aria-label",t())}Ut?n():Xe(n)}function VPe(e){const t=getComputedStyle(e);return t.display!=="none"&&parseInt(t.opacity)>0}function $ft(e){return!!e&&("checkVisibility"in e?e.checkVisibility({checkOpacity:!0,checkVisibilityCSS:!0}):VPe(e))}function UPe(e,t){return Pft(()=>t($ft(e)))}function WPe(e,t,n){for(;t;){if(t===e)return!0;if(n!=null&&n(t))break;t=t.parentElement}return!1}function O0(e,t){return new Xr(e).add("pointerup",n=>{n.button===0&&!n.defaultPrevented&&t(n)}).add("keydown",n=>{m7(n)&&t(n)})}function qQ(e){return mP(e)&&(e.touches.length>1||e.changedTouches.length>1)}function KPe(e){if(Ut)return e();let t=VT(),n=window.requestAnimationFrame(()=>{Ts(e,t),n=-1});return()=>void window.cancelAnimationFrame(n)}function qPe(e,t,n,{offsetVarName:r,xOffset:i,yOffset:o,...s}){if(!e)return;const a=n.replace(" ","-").replace("-center","");if(lu(e,"visibility",t?null:"hidden"),!t)return;let l=n.includes("top");const u=f=>n.includes("left")?`calc(-1 * ${f})`:f,c=f=>l?`calc(-1 * ${f})`:f;return OO(t,e,()=>{y2e(t,e,{placement:a,middleware:[...s.middleware??[],v2e({fallbackAxisSideDirection:"start",crossAxis:!1}),g2e()],...s}).then(({x:f,y:p,middlewareData:g})=>{var y;const v=!!((y=g.flip)!=null&&y.index);l=n.includes(v?"bottom":"top"),e.setAttribute("data-placement",v?n.startsWith("top")?n.replace("top","bottom"):n.replace("bottom","top"):n),Object.assign(e.style,{top:`calc(${p+"px"} + ${c(o?o+"px":`var(--${r}-y-offset, 0px)`)})`,left:`calc(${f+"px"} + ${u(i?i+"px":`var(--${r}-x-offset, 0px)`)})`})})})}function Tft(e){return getComputedStyle(e).animationName!=="none"}function lD(e){return e instanceof HTMLElement}var y$,jm,b$,wy,cf,GPe,ZPe,vW,yW;class Mft{constructor(){le(this,cf);Ge(this,"priority",0);le(this,y$,!0);le(this,jm,null);le(this,b$,null);le(this,wy,new Set)}canRender(t,n){return!!n}attach(t){de(this,jm,t),t&&(t.textTracks.onchange=N(this,cf,yW).bind(this))}addTrack(t){T(this,wy).add(t),N(this,cf,GPe).call(this,t)}removeTrack(t){var n,r;(r=(n=t[Zn.native])==null?void 0:n.remove)==null||r.call(n),t[Zn.native]=null,T(this,wy).delete(t)}changeTrack(t){const n=t==null?void 0:t[Zn.native];n&&n.track.mode!=="showing"&&(n.track.mode="showing"),de(this,b$,t)}setDisplay(t){de(this,y$,t),N(this,cf,yW).call(this)}detach(){T(this,jm)&&(T(this,jm).textTracks.onchange=null);for(const t of T(this,wy))this.removeTrack(t);T(this,wy).clear(),de(this,jm,null),de(this,b$,null)}}y$=new WeakMap,jm=new WeakMap,b$=new WeakMap,wy=new WeakMap,cf=new WeakSet,GPe=function(t){var r;if(!T(this,jm))return;const n=t[r=Zn.native]??(t[r]=N(this,cf,ZPe).call(this,t));lD(n)&&(T(this,jm).append(n),n.track.mode=n.default?"showing":"disabled")},ZPe=function(t){const n=document.createElement("track"),r=t.default||t.mode==="showing",i=t.src&&t.type==="vtt";return n.id=t.id,n.src=i?t.src:"",n.label=t.label,n.kind=t.kind,n.default=r,t.language&&(n.srclang=t.language),r&&!i&&N(this,cf,vW).call(this,t,n.track),n},vW=function(t,n){var r;if(!(t.src&&t.type==="vtt"||(r=n.cues)!=null&&r.length))for(const i of t.cues)n.addCue(i)},yW=function(t){for(const n of T(this,wy)){const r=n[Zn.native];if(!r)continue;if(!T(this,y$)){r.track.mode=r.managed?"hidden":"disabled";continue}const i=r.track.mode==="showing";i&&N(this,cf,vW).call(this,n,r.track),n.setMode(i?"showing":"disabled",t)}};var Fb,a_,Bb,w$,x$,Lc,Yh,ps,YPe,bW,XPe,QPe,JPe,RS,e4e;class Lft{constructor(t){le(this,ps);le(this,Fb,null);le(this,a_);le(this,Bb,[]);le(this,w$);le(this,x$,!1);le(this,Lc,null);le(this,Yh,null);de(this,w$,t);const n=t.textTracks;de(this,a_,n),Xe(N(this,ps,YPe).bind(this)),Jn(N(this,ps,e4e).bind(this)),new Xr(n).add("add",N(this,ps,QPe).bind(this)).add("remove",N(this,ps,JPe).bind(this)).add("mode-change",N(this,ps,RS).bind(this))}add(t){T(this,Bb).push(t),_C(N(this,ps,RS).bind(this))}remove(t){t.detach(),T(this,Bb).splice(T(this,Bb).indexOf(t),1),_C(N(this,ps,RS).bind(this))}attachVideo(t){requestAnimationFrame(()=>{if(de(this,Fb,t),t){de(this,Lc,new Mft),T(this,Lc).attach(t);for(const n of T(this,a_))N(this,ps,bW).call(this,n)}N(this,ps,RS).call(this)})}}Fb=new WeakMap,a_=new WeakMap,Bb=new WeakMap,w$=new WeakMap,x$=new WeakMap,Lc=new WeakMap,Yh=new WeakMap,ps=new WeakSet,YPe=function(){const{nativeControls:t}=T(this,w$).$state;de(this,x$,t()),N(this,ps,RS).call(this)},bW=function(t){var n;ru(t)&&((n=T(this,Lc))==null||n.addTrack(t))},XPe=function(t){var n;ru(t)&&((n=T(this,Lc))==null||n.removeTrack(t))},QPe=function(t){N(this,ps,bW).call(this,t.detail)},JPe=function(t){N(this,ps,XPe).call(this,t.detail)},RS=function(){var r,i,o,s,a,l,u;const t=T(this,a_).selected;if(T(this,Fb)&&(T(this,x$)||t!=null&&t[Zn.nativeHLS])){(r=T(this,Yh))==null||r.changeTrack(null),(i=T(this,Lc))==null||i.setDisplay(!0),(o=T(this,Lc))==null||o.changeTrack(t);return}if((s=T(this,Lc))==null||s.setDisplay(!1),(a=T(this,Lc))==null||a.changeTrack(null),!t){(l=T(this,Yh))==null||l.changeTrack(null);return}const n=T(this,Bb).sort((c,f)=>c.priority-f.priority).find(c=>c.canRender(t,T(this,Fb)));T(this,Yh)!==n&&((u=T(this,Yh))==null||u.detach(),n==null||n.attach(T(this,Fb)),de(this,Yh,n??null)),n==null||n.changeTrack(t)},e4e=function(){var t,n;(t=T(this,Lc))==null||t.detach(),de(this,Lc,null),(n=T(this,Yh))==null||n.detach(),de(this,Yh,null)};var nye,zb,Xh,Qh,Jh,S$,l_,_$,zp,t4e,wW,xW;class Aft extends zPe{constructor(){super();le(this,zp);le(this,zb,!1);le(this,Xh,{});le(this,Qh,null);le(this,Jh,null);Ge(this,nye);le(this,S$,v7(async()=>{var i;if(!T(this,zb))return;!T(this,Jh)&&T(this,Qh)&&de(this,Jh,await T(this,Qh).getLang());const n=await((i=T(this,Qh))==null?void 0:i.getCaptions()),r=[["captions","subtitles"],"chapters","descriptions","metadata"];for(const o of r){const s=this.getByKind(o);if(s.find(f=>f.mode==="showing"))continue;const a=T(this,Jh)?s.find(f=>f.language===T(this,Jh)):null,l=Io(o)?T(this,Xh)[o.find(f=>T(this,Xh)[f])||""]:T(this,Xh)[o],u=a??l,c=u&&ru(u);u&&(!c||n!==!1)&&(u.mode="showing",c&&N(this,zp,wW).call(this,u))}},300));le(this,l_,null);le(this,_$,N(this,zp,t4e).bind(this))}get selected(){return this.items.find(r=>r.mode==="showing"&&ru(r))??null}get selectedIndex(){const n=this.selected;return n?this.indexOf(n):-1}get preferredLang(){return T(this,Jh)}set preferredLang(n){de(this,Jh,n),N(this,zp,xW).call(this,n)}add(n,r){const i=n instanceof rx,o=i?n:new rx(n),s=n.kind==="captions"||n.kind==="subtitles"?"captions":n.kind;return T(this,Xh)[s]&&n.default&&delete n.default,o.addEventListener("mode-change",T(this,_$)),this[yr.add](o,r),o[Zn.crossOrigin]=this[Zn.crossOrigin],T(this,zb)&&o[Zn.canLoad](),n.default&&(T(this,Xh)[s]=o),T(this,S$).call(this),this}remove(n,r){if(de(this,l_,n),!!this.items.includes(n))return n===T(this,Xh)[n.kind]&&delete T(this,Xh)[n.kind],n.mode="disabled",n[Zn.onModeChange]=null,n.removeEventListener("mode-change",T(this,_$)),this[yr.remove](n,r),de(this,l_,null),this}clear(n){for(const r of[...this.items])this.remove(r,n);return this}getByKind(n){const r=Array.isArray(n)?n:[n];return this.items.filter(i=>r.includes(i.kind))}[(nye=Zn.crossOrigin,Zn.canLoad)](){if(!T(this,zb)){for(const n of this.items)n[Zn.canLoad]();de(this,zb,!0),T(this,S$).call(this)}}setStorage(n){de(this,Qh,n)}}zb=new WeakMap,Xh=new WeakMap,Qh=new WeakMap,Jh=new WeakMap,S$=new WeakMap,l_=new WeakMap,_$=new WeakMap,zp=new WeakSet,t4e=function(n){const r=n.detail;if(T(this,Qh)&&ru(r)&&r!==T(this,l_)&&N(this,zp,wW).call(this,r),r.mode==="showing"){const i=ru(r)?["captions","subtitles"]:[r.kind];for(const o of this.items)o.mode==="showing"&&o!=r&&i.includes(o.kind)&&(o.mode="disabled")}this.dispatchEvent(new Vr("mode-change",{detail:n.detail,trigger:n}))},wW=function(n){var r,i;n.mode!=="disabled"&&N(this,zp,xW).call(this,n.language),(i=(r=T(this,Qh))==null?void 0:r.setCaptions)==null||i.call(r,n.mode==="showing")},xW=function(n){var r,i;(i=(r=T(this,Qh))==null?void 0:r.setLang)==null||i.call(r,de(this,Jh,n))};const Ift=Symbol(0),Rft=Symbol(0),Oc={setAuto:Ift,enableAuto:Rft};var rye,Hb;class Dft extends HPe{constructor(){super(...arguments);le(this,Hb,!1);Ge(this,"switch","current");Ge(this,rye)}get auto(){return T(this,Hb)||this.readonly}[(rye=Oc.enableAuto,yr.onUserSelect)](){this[Oc.setAuto](!1)}[yr.onReset](n){this[Oc.enableAuto]=void 0,this[Oc.setAuto](!1,n)}autoSelect(n){var r;this.readonly||T(this,Hb)||!this[Oc.enableAuto]||((r=this[Oc.enableAuto])==null||r.call(this,n),this[Oc.setAuto](!0,n))}getBySrc(n){return this.items.find(r=>r.src===n)}[Oc.setAuto](n,r){T(this,Hb)!==n&&(de(this,Hb,n),this.dispatchEvent(new Vr("auto-change",{detail:n,trigger:r})))}}Hb=new WeakMap;function n4e(e,t){return[...e].sort(Oft)}function Oft(e,t){return e.height===t.height?(e.bitrate??0)-(t.bitrate??0):e.height-t.height}function jft(e){return!Ut&&e instanceof HTMLAudioElement}function Nft(e){return!Ut&&e instanceof HTMLVideoElement}function Fft(e){return jft(e)||Nft(e)}class Ex extends dd{}const Bft={togglePaused:"k Space",toggleMuted:"m",toggleFullscreen:"f",togglePictureInPicture:"i",toggleCaptions:"c",seekBackward:"j J ArrowLeft",seekForward:"l L ArrowRight",volumeUp:"ArrowUp",volumeDown:"ArrowDown",speedUp:">",slowDown:"<"},wk=new Set(["Shift","Alt","Meta","Ctrl"]),zft='button, [role="button"]',dle='input, textarea, select, [contenteditable], [role^="menuitem"], [role="timer"]';var pa,ys,r4e,i4e,o4e,s4e,$A,Vb,a4e,Nm,SW,l4e;class Hft extends Ex{constructor(n){super();le(this,ys);le(this,pa);le(this,Vb);le(this,Nm,null);de(this,pa,n)}onConnect(){Xe(N(this,ys,r4e).bind(this))}}pa=new WeakMap,ys=new WeakSet,r4e=function(){const{keyDisabled:n,keyTarget:r}=this.$props;if(n())return;const i=r()==="player"?this.el:document,o=_n(!1);i===this.el?new Xr(this.el).add("focusin",()=>o.set(!0)).add("focusout",s=>{this.el.contains(s.target)||o.set(!1)}):(wt(o)||o.set(document.querySelector("[data-media-player]")===this.el),no(document,"focusin",s=>{const a=s.composedPath().find(l=>l instanceof Element&&l.localName==="media-player");a!==void 0&&o.set(this.el===a)})),Xe(()=>{o()&&new Xr(i).add("keyup",N(this,ys,i4e).bind(this)).add("keydown",N(this,ys,o4e).bind(this)).add("keydown",N(this,ys,s4e).bind(this),{capture:!0})})},i4e=function(n){var s,a;const r=document.activeElement;if(!n.key||!this.$state.canSeek()||r!=null&&r.matches(dle))return;let{method:i,value:o}=N(this,ys,$A).call(this,n);if(!mn(o)&&!Io(o)){(s=o==null?void 0:o.onKeyUp)==null||s.call(o,{event:n,player:T(this,pa).player,remote:T(this,pa).remote}),(a=o==null?void 0:o.callback)==null||a.call(o,n,T(this,pa).remote);return}if(i!=null&&i.startsWith("seek")&&(n.preventDefault(),n.stopPropagation(),T(this,Nm)?(N(this,ys,SW).call(this,n,i==="seekForward"),de(this,Nm,null)):(T(this,pa).remote.seek(T(this,Vb),n),de(this,Vb,void 0))),i!=null&&i.startsWith("volume")){const l=this.el.querySelector("[data-media-volume-slider]");l==null||l.dispatchEvent(new KeyboardEvent("keyup",{key:i==="volumeUp"?"Up":"Down",shiftKey:n.shiftKey,trigger:n}))}},o4e=function(n){var a,l,u,c;if(!n.key||wk.has(n.key))return;const r=document.activeElement;if(r!=null&&r.matches(dle)||m7(n)&&(r!=null&&r.matches(zft)))return;let{method:i,value:o}=N(this,ys,$A).call(this,n),s=!n.metaKey&&/^[0-9]$/.test(n.key);if(!mn(o)&&!Io(o)&&!s){(a=o==null?void 0:o.onKeyDown)==null||a.call(o,{event:n,player:T(this,pa).player,remote:T(this,pa).remote}),(l=o==null?void 0:o.callback)==null||l.call(o,n,T(this,pa).remote);return}if(!i&&s&&!Wft(n)){n.preventDefault(),n.stopPropagation(),T(this,pa).remote.seek(this.$state.duration()/10*Number(n.key),n);return}if(i){switch(n.preventDefault(),n.stopPropagation(),i){case"seekForward":case"seekBackward":N(this,ys,l4e).call(this,n,i,i==="seekForward");break;case"volumeUp":case"volumeDown":const f=this.el.querySelector("[data-media-volume-slider]");if(f)f.dispatchEvent(new KeyboardEvent("keydown",{key:i==="volumeUp"?"Up":"Down",shiftKey:n.shiftKey,trigger:n}));else{const g=n.shiftKey?.1:.05;T(this,pa).remote.changeVolume(this.$state.volume()+(i==="volumeUp"?+g:-g),n)}break;case"toggleFullscreen":T(this,pa).remote.toggleFullscreen("prefer-media",n);break;case"speedUp":case"slowDown":const p=this.$state.playbackRate();T(this,pa).remote.changePlaybackRate(Math.max(.25,Math.min(2,p+(i==="speedUp"?.25:-.25))),n);break;default:(c=(u=T(this,pa).remote)[i])==null||c.call(u,n)}this.$state.lastKeyboardAction.set({action:i,event:n})}},s4e=function(n){Fft(n.target)&&N(this,ys,$A).call(this,n).method&&n.preventDefault()},$A=function(n){const r={...this.$props.keyShortcuts(),...T(this,pa).ariaKeys},i=Object.keys(r).find(o=>{var u;const s=r[o],a=Io(s)?s.join(" "):mn(s)?s:s==null?void 0:s.keys,l=(u=Io(a)?a:a==null?void 0:a.split(" "))==null?void 0:u.map(c=>Uft(c).replace(/Control/g,"Ctrl").split("+"));return l==null?void 0:l.some(c=>{const f=new Set(c.filter(p=>wk.has(p)));for(const p of wk){const g=p.toLowerCase()+"Key";if(!f.has(p)&&n[g])return!1}return c.every(p=>wk.has(p)?n[p.toLowerCase()+"Key"]:n.key===p.replace("Space"," "))})});return{method:i,value:i?r[i]:null}},Vb=new WeakMap,a4e=function(n,r){const i=n.shiftKey?10:5;return de(this,Vb,Math.max(0,Math.min((T(this,Vb)??this.$state.currentTime())+(r==="seekForward"?+i:-i),this.$state.duration())))},Nm=new WeakMap,SW=function(n,r){var i;(i=T(this,Nm))==null||i.dispatchEvent(new KeyboardEvent(n.type,{key:r?"Right":"Left",shiftKey:n.shiftKey,trigger:n}))},l4e=function(n,r,i){this.$state.canSeek()&&(T(this,Nm)||de(this,Nm,this.el.querySelector("[data-media-time-slider]")),T(this,Nm)?N(this,ys,SW).call(this,n,i):T(this,pa).remote.seeking(N(this,ys,a4e).call(this,n,r),n))};const Vft=["!","@","#","$","%","^","&","*","(",")"];function Uft(e){return e.replace(/Shift\+(\d)/g,(t,n)=>Vft[n-1])}function Wft(e){for(const t of wk)if(e[t.toLowerCase()+"Key"])return!0;return!1}var Ub;class Kft extends dd{constructor(n){super();le(this,Ub);de(this,Ub,n)}onAttach(n){const{$props:r,ariaKeys:i}=Pi(),o=n.getAttribute("aria-keyshortcuts");if(o){i[T(this,Ub)]=o,Ut||Jn(()=>{delete i[T(this,Ub)]});return}const s=r.keyShortcuts()[T(this,Ub)];if(s){const a=Io(s)?s.join(" "):mn(s)?s:s==null?void 0:s.keys;n.setAttribute("aria-keyshortcuts",Io(a)?a.join(" "):a)}}}Ub=new WeakMap;var u_,Fm,C$,c_,xy,d_,ri,u4e,c4e,d4e,f4e,h4e,p4e,m4e,g4e,TA,_W,xk,CW,iye;let qft=(iye=class extends Ex{constructor(){super(...arguments);le(this,ri);le(this,u_,-2);le(this,Fm,!1);le(this,C$,_n(!1));le(this,c_,_n(!1));le(this,xy,null);le(this,d_,_n(!0));Ge(this,"defaultDelay",2e3)}get canIdle(){return T(this,d_).call(this)}set canIdle(n){T(this,d_).set(n)}get hideOnMouseLeave(){const{hideControlsOnMouseLeave:n}=this.$props;return T(this,C$).call(this)||n()}set hideOnMouseLeave(n){T(this,C$).set(n)}get showing(){return this.$state.controlsVisible()}show(n=0,r){N(this,ri,TA).call(this),T(this,Fm)||N(this,ri,xk).call(this,!0,n,r)}hide(n=this.defaultDelay,r){N(this,ri,TA).call(this),T(this,Fm)||N(this,ri,xk).call(this,!1,n,r)}pause(n){de(this,Fm,!0),N(this,ri,TA).call(this),N(this,ri,xk).call(this,!0,0,n)}resume(n){de(this,Fm,!1),!this.$state.paused()&&N(this,ri,xk).call(this,!1,this.defaultDelay,n)}onConnect(){Xe(N(this,ri,u4e).bind(this))}},u_=new WeakMap,Fm=new WeakMap,C$=new WeakMap,c_=new WeakMap,xy=new WeakMap,d_=new WeakMap,ri=new WeakSet,u4e=function(){const{viewType:n}=this.$state;if(!this.el||!T(this,d_).call(this))return;if(n()==="audio"){this.show();return}Xe(N(this,ri,c4e).bind(this)),Xe(N(this,ri,d4e).bind(this));const r=N(this,ri,f4e).bind(this),i=N(this,ri,h4e).bind(this),o=N(this,ri,p4e).bind(this);new Xr(this.el).add("can-play",s=>this.show(0,s)).add("play",r).add("pause",i).add("end",o).add("auto-play-fail",i)},c4e=function(){if(!this.el)return;const{started:n,pointer:r,paused:i}=this.$state;if(!n()||r()!=="fine")return;const o=new Xr(this.el),s=this.hideOnMouseLeave;(!s||!T(this,c_).call(this))&&Xe(()=>{i()||o.add("pointermove",N(this,ri,_W).bind(this))}),s&&o.add("mouseenter",N(this,ri,m4e).bind(this)).add("mouseleave",N(this,ri,g4e).bind(this))},d4e=function(){const{paused:n,started:r,autoPlayError:i}=this.$state;if(n()||i()&&!r())return;const o=N(this,ri,_W).bind(this);Xe(()=>{if(!this.el)return;const s=this.$state.pointer(),a=s==="coarse",l=new Xr(this.el),u=[a?"touchend":"pointerup","keydown"];for(const c of u)l.add(c,o,{passive:!1})})},f4e=function(n){n.triggers.hasType("ended")||(this.show(0,n),this.hide(void 0,n))},h4e=function(n){this.show(0,n)},p4e=function(n){const{loop:r}=this.$state;r()&&this.hide(0,n)},m4e=function(n){T(this,c_).set(!1),this.show(0,n),this.hide(void 0,n)},g4e=function(n){T(this,c_).set(!0),this.hide(0,n)},TA=function(){window.clearTimeout(T(this,u_)),de(this,u_,-1)},_W=function(n){var r;n.MEDIA_GESTURE||T(this,Fm)||qQ(n)||(WT(n)&&(n.key==="Escape"?((r=this.el)==null||r.focus(),de(this,xy,null)):T(this,xy)&&(n.preventDefault(),requestAnimationFrame(()=>{var i;(i=T(this,xy))==null||i.focus(),de(this,xy,null)}))),this.show(0,n),this.hide(this.defaultDelay,n))},xk=function(n,r,i){if(r===0){N(this,ri,CW).call(this,n,i);return}de(this,u_,window.setTimeout(()=>{this.scope&&N(this,ri,CW).call(this,n&&!T(this,Fm),i)},r))},CW=function(n,r){var i;this.$state.controlsVisible()!==n&&(this.$state.controlsVisible.set(n),!n&&document.activeElement&&((i=this.el)!=null&&i.contains(document.activeElement))&&(de(this,xy,document.activeElement),requestAnimationFrame(()=>{var o;(o=this.el)==null||o.focus({preventScroll:!0})})),this.dispatch("controls-change",{detail:n,trigger:r}))},iye);const EW=k0.fullscreenEnabled;var Sy,f_,V0,v4e,y4e,b4e;class Gft extends dd{constructor(){super(...arguments);le(this,V0);le(this,Sy,!1);le(this,f_,!1)}get active(){return T(this,f_)}get supported(){return EW}onConnect(){new Xr(k0).add("fullscreenchange",N(this,V0,y4e).bind(this)).add("fullscreenerror",N(this,V0,b4e).bind(this)),Jn(N(this,V0,v4e).bind(this))}async enter(){try{return de(this,Sy,!0),!this.el||RF(this.el)?void 0:(fle(),k0.requestFullscreen(this.el))}catch(n){throw de(this,Sy,!1),n}}async exit(){if(!(!this.el||!RF(this.el)))return fle(),k0.exitFullscreen()}}Sy=new WeakMap,f_=new WeakMap,V0=new WeakSet,v4e=async function(){EW&&await this.exit()},y4e=function(n){const r=RF(this.el);r!==T(this,f_)&&(r||de(this,Sy,!1),de(this,f_,r),this.dispatch("fullscreen-change",{detail:r,trigger:n}))},b4e=function(n){T(this,Sy)&&(this.dispatch("fullscreen-error",{detail:null,trigger:n}),de(this,Sy,!1))};function RF(e){if(k0.fullscreenElement===e)return!0;try{return e.matches(k0.fullscreenPseudoClass)}catch{return!1}}function fle(){if(!EW)throw Error("[vidstack] no fullscreen API")}var _y,Bm,Wb,od,w4e,kW,PW,$W;const _9=class _9 extends dd{constructor(){super(...arguments);le(this,od);le(this,_y,_n(N(this,od,$W).call(this)));le(this,Bm,_n(!1));le(this,Wb)}get type(){return T(this,_y).call(this)}get locked(){return T(this,Bm).call(this)}get portrait(){return T(this,_y).call(this).startsWith("portrait")}get landscape(){return T(this,_y).call(this).startsWith("landscape")}get supported(){return _9.supported}onConnect(){if(this.supported)no(screen.orientation,"change",N(this,od,kW).bind(this));else{const n=window.matchMedia("(orientation: landscape)");n.onchange=N(this,od,kW).bind(this),Jn(()=>n.onchange=null)}Jn(N(this,od,w4e).bind(this))}async lock(n){wt(T(this,Bm))||T(this,Wb)===n||(N(this,od,PW).call(this),await screen.orientation.lock(n),T(this,Bm).set(!0),de(this,Wb,n))}async unlock(){wt(T(this,Bm))&&(N(this,od,PW).call(this),de(this,Wb,void 0),await screen.orientation.unlock(),T(this,Bm).set(!1))}};_y=new WeakMap,Bm=new WeakMap,Wb=new WeakMap,od=new WeakSet,w4e=async function(){this.supported&&T(this,Bm).call(this)&&await this.unlock()},kW=function(n){T(this,_y).set(N(this,od,$W).call(this)),this.dispatch("orientation-change",{detail:{orientation:wt(T(this,_y)),lock:T(this,Wb)},trigger:n})},PW=function(){if(!this.supported)throw Error("[vidstack] no orientation API")},$W=function(){return Ut?"portrait-primary":this.supported?window.screen.orientation.type:window.innerWidth>=window.innerHeight?"landscape-primary":"portrait-primary"},Ge(_9,"supported",LPe());let uD=_9;class Zft{constructor(){Ge(this,"name","audio");Ge(this,"target")}canPlay(t){return HQ(t)?Ut||!mn(t.src)||t.type==="?"||APe(this.target,t.type):!1}mediaType(){return"audio"}async load(t){if(Ut)throw Error("[vidstack] can not load audio provider server-side");return new(await Il(async()=>{const{AudioProvider:n}=await import("./vidstack-R_ot4AhB-DIRkaazS.js");return{AudioProvider:n}},[],import.meta.url)).AudioProvider(this.target,t)}}class GQ{constructor(){Ge(this,"name","video");Ge(this,"target")}canPlay(t){return VQ(t)?Ut||!mn(t.src)||t.type==="?"||IPe(this.target,t.type):!1}mediaType(){return"video"}async load(t){if(Ut)throw Error("[vidstack] can not load video provider server-side");return new(await Promise.resolve().then(function(){return mht})).VideoProvider(this.target,t)}}const C9=class C9 extends GQ{constructor(){super(...arguments);Ge(this,"name","hls")}canPlay(n){return C9.supported&&m3(n)}async load(n){if(Ut)throw Error("[vidstack] can not load hls provider server-side");return new(await Il(async()=>{const{HLSProvider:r}=await import("./vidstack-BN7_0WI--BRMvaDA2.js");return{HLSProvider:r}},[],import.meta.url)).HLSProvider(this.target,n)}};Ge(C9,"supported",zQ());let TW=C9,MA=null,cD=[],dD=[];function ZQ(){return MA??(MA=new AudioContext)}function Yft(){const e=ZQ(),t=e.createGain();return t.connect(e.destination),cD.push(t),t}function Xft(e,t){const n=ZQ(),r=n.createMediaElementSource(e);return t&&r.connect(t),dD.push(r),r}function Qft(e){const t=cD.indexOf(e);t!==-1&&(cD.splice(t,1),e.disconnect(),x4e())}function Jft(e){const t=dD.indexOf(e);t!==-1&&(dD.splice(t,1),e.disconnect(),x4e())}function x4e(){MA&&cD.length===0&&dD.length===0&&MA.close().then(()=>{MA=null})}var E$,h_,Ac,Od,px,S4e,MW;class eht{constructor(t,n){le(this,px);le(this,E$);le(this,h_);le(this,Ac,null);le(this,Od,null);de(this,E$,t),de(this,h_,n)}get currentGain(){var t,n;return((n=(t=T(this,Ac))==null?void 0:t.gain)==null?void 0:n.value)??null}get supported(){return!0}setGain(t){const n=this.currentGain;if(t!==this.currentGain){if(t===1&&n!==1){this.removeGain();return}T(this,Ac)||(de(this,Ac,Yft()),T(this,Od)&&T(this,Od).connect(T(this,Ac))),T(this,Od)||de(this,Od,Xft(T(this,E$),T(this,Ac))),T(this,Ac).gain.value=t,T(this,h_).call(this,t)}}removeGain(){T(this,Ac)&&(T(this,Od)&&T(this,Od).connect(ZQ().destination),N(this,px,MW).call(this),T(this,h_).call(this,null))}destroy(){N(this,px,S4e).call(this),N(this,px,MW).call(this)}}E$=new WeakMap,h_=new WeakMap,Ac=new WeakMap,Od=new WeakMap,px=new WeakSet,S4e=function(){if(T(this,Od))try{Jft(T(this,Od))}catch{}finally{de(this,Od,null)}},MW=function(){if(T(this,Ac))try{Qft(T(this,Ac))}catch{}finally{de(this,Ac,null)}};const tht=["focus","blur","visibilitychange","pageshow","pagehide"];var Kb,p_,k$,E9,_4e;class nht{constructor(){le(this,E9);le(this,Kb,_n(hle()));le(this,p_,_n(Ut?"visible":document.visibilityState));le(this,k$)}connect(){const t=new Xr(window),n=N(this,E9,_4e).bind(this);for(const r of tht)t.add(r,n);aD&&t.add("beforeunload",r=>{de(this,k$,setTimeout(()=>{r.defaultPrevented||r.returnValue.length>0||(T(this,Kb).set("hidden"),T(this,p_).set("hidden"))},0))})}get pageState(){return T(this,Kb).call(this)}get visibility(){return T(this,p_).call(this)}}Kb=new WeakMap,p_=new WeakMap,k$=new WeakMap,E9=new WeakSet,_4e=function(t){aD&&window.clearTimeout(T(this,k$)),(t.type!=="blur"||T(this,Kb).call(this)==="active")&&(T(this,Kb).set(hle(t)),T(this,p_).set(document.visibilityState=="hidden"?"hidden":"visible"))};function hle(e){return Ut||(e==null?void 0:e.type)==="blur"||document.visibilityState==="hidden"?"hidden":document.hasFocus()?"active":"passive"}var zm,P$,$$,LW;class C4e{constructor(t){le(this,$$);le(this,zm);le(this,P$);de(this,P$,t)}start(){Is(T(this,zm))&&N(this,$$,LW).call(this)}stop(){Zu(T(this,zm))&&window.cancelAnimationFrame(T(this,zm)),de(this,zm,void 0)}}zm=new WeakMap,P$=new WeakMap,$$=new WeakSet,LW=function(){de(this,zm,window.requestAnimationFrame(()=>{Is(T(this,zm))||(T(this,P$).call(this),N(this,$$,LW).call(this))}))};var T$,jr,Cy,m_,g_,qb,M$,v_,et,ei,E4e,y_,b_,k4e,P4e,$4e,T4e,k9,JZ,Jo,iht,G1,M4e,AW,L4e,A4e,I4e,LA,R4e,D4e,O4e,j4e,N4e,F4e,B4e,z4e,H4e,V4e,U4e,W4e,K4e,q4e,G4e,Z4e,Y4e,X4e;class rht{constructor(t,n){le(this,et);le(this,T$);le(this,jr);le(this,Cy,!1);le(this,m_,!1);le(this,g_,!1);le(this,qb,new C4e(N(this,et,k4e).bind(this)));le(this,M$,new nht);le(this,v_);le(this,y_,0);le(this,b_,-1);le(this,k9);le(this,JZ);de(this,T$,t),de(this,jr,n),de(this,v_,new Xr(t.media)),N(this,et,P4e).call(this),T(this,M$).connect(),Xe(N(this,et,H4e).bind(this)),Jn(N(this,et,E4e).bind(this))}}T$=new WeakMap,jr=new WeakMap,Cy=new WeakMap,m_=new WeakMap,g_=new WeakMap,qb=new WeakMap,M$=new WeakMap,v_=new WeakMap,et=new WeakSet,ei=function(){return T(this,T$).media},E4e=function(){var t;de(this,m_,!1),de(this,g_,!1),T(this,qb).stop(),T(this,v_).abort(),(t=T(this,k9))==null||t.clear()},y_=new WeakMap,b_=new WeakMap,k4e=function(){const t=T(this,et,ei).currentTime;!(aD&&t-T(this,b_)<.35)&&T(this,y_)!==t&&(N(this,et,G1).call(this,t),de(this,y_,t))},P4e=function(){N(this,et,Jo).call(this,"loadstart",N(this,et,M4e)),N(this,et,Jo).call(this,"abort",N(this,et,AW)),N(this,et,Jo).call(this,"emptied",N(this,et,L4e)),N(this,et,Jo).call(this,"error",N(this,et,X4e)),N(this,et,Jo).call(this,"volumechange",N(this,et,W4e))},$4e=function(){T(this,m_)||(N(this,et,Jo).call(this,"loadeddata",N(this,et,A4e)),N(this,et,Jo).call(this,"loadedmetadata",N(this,et,I4e)),N(this,et,Jo).call(this,"canplay",N(this,et,O4e)),N(this,et,Jo).call(this,"canplaythrough",N(this,et,j4e)),N(this,et,Jo).call(this,"durationchange",N(this,et,U4e)),N(this,et,Jo).call(this,"play",N(this,et,R4e)),N(this,et,Jo).call(this,"progress",N(this,et,G4e)),N(this,et,Jo).call(this,"stalled",N(this,et,F4e)),N(this,et,Jo).call(this,"suspend",N(this,et,Z4e)),N(this,et,Jo).call(this,"ratechange",N(this,et,Y4e)),de(this,m_,!0))},T4e=function(){T(this,g_)||(N(this,et,Jo).call(this,"pause",N(this,et,D4e)),N(this,et,Jo).call(this,"playing",N(this,et,N4e)),N(this,et,Jo).call(this,"seeked",N(this,et,K4e)),N(this,et,Jo).call(this,"seeking",N(this,et,q4e)),N(this,et,Jo).call(this,"ended",N(this,et,z4e)),N(this,et,Jo).call(this,"waiting",N(this,et,B4e)),de(this,g_,!0))},k9=new WeakMap,JZ=new WeakMap,Jo=function(t,n){T(this,v_).add(t,n.bind(this))},iht=function(t){},G1=function(t,n){const r=Math.min(t,T(this,jr).$state.seekableEnd());T(this,jr).notify("time-change",r,n)},M4e=function(t){if(T(this,et,ei).networkState===3){N(this,et,AW).call(this,t);return}N(this,et,$4e).call(this),T(this,jr).notify("load-start",void 0,t)},AW=function(t){T(this,jr).notify("abort",void 0,t)},L4e=function(){T(this,jr).notify("emptied",void 0,event)},A4e=function(t){T(this,jr).notify("loaded-data",void 0,t)},I4e=function(t){de(this,y_,0),de(this,b_,-1),N(this,et,T4e).call(this),T(this,jr).notify("loaded-metadata",void 0,t),(BQ||aD&&m3(T(this,jr).$state.source()))&&T(this,jr).delegate.ready(N(this,et,LA).call(this),t)},LA=function(){return{provider:wt(T(this,jr).$provider),duration:T(this,et,ei).duration,buffered:T(this,et,ei).buffered,seekable:T(this,et,ei).seekable}},R4e=function(t){T(this,jr).$state.canPlay&&T(this,jr).notify("play",void 0,t)},D4e=function(t){T(this,et,ei).readyState===1&&!T(this,Cy)||(de(this,Cy,!1),T(this,qb).stop(),T(this,jr).notify("pause",void 0,t))},O4e=function(t){T(this,jr).delegate.ready(N(this,et,LA).call(this),t)},j4e=function(t){T(this,jr).$state.started()||T(this,jr).notify("can-play-through",N(this,et,LA).call(this),t)},N4e=function(t){T(this,et,ei).paused||(de(this,Cy,!1),T(this,jr).notify("playing",void 0,t),T(this,qb).start())},F4e=function(t){T(this,jr).notify("stalled",void 0,t),T(this,et,ei).readyState<3&&(de(this,Cy,!0),T(this,jr).notify("waiting",void 0,t))},B4e=function(t){T(this,et,ei).readyState<3&&(de(this,Cy,!0),T(this,jr).notify("waiting",void 0,t))},z4e=function(t){T(this,qb).stop(),N(this,et,G1).call(this,T(this,et,ei).duration,t),T(this,jr).notify("end",void 0,t),T(this,jr).$state.loop()&&Gke(T(this,et,ei).controls)&&(T(this,et,ei).controls=!1)},H4e=function(){const t=T(this,jr).$state.paused(),n=T(this,M$).visibility==="hidden";(t||n)&&no(T(this,et,ei),"timeupdate",N(this,et,V4e).bind(this))},V4e=function(t){N(this,et,G1).call(this,T(this,et,ei).currentTime,t)},U4e=function(t){T(this,jr).$state.ended()&&N(this,et,G1).call(this,T(this,et,ei).duration,t),T(this,jr).notify("duration-change",T(this,et,ei).duration,t)},W4e=function(t){const n={volume:T(this,et,ei).volume,muted:T(this,et,ei).muted};T(this,jr).notify("volume-change",n,t)},K4e=function(t){de(this,b_,T(this,et,ei).currentTime),N(this,et,G1).call(this,T(this,et,ei).currentTime,t),T(this,jr).notify("seeked",T(this,et,ei).currentTime,t),Math.trunc(T(this,et,ei).currentTime)===Math.trunc(T(this,et,ei).duration)&&mW(T(this,et,ei).duration)>mW(T(this,et,ei).currentTime)&&(N(this,et,G1).call(this,T(this,et,ei).duration,t),T(this,et,ei).ended||T(this,jr).player.dispatch(new Vr("media-play-request",{trigger:t})))},q4e=function(t){T(this,jr).notify("seeking",T(this,et,ei).currentTime,t)},G4e=function(t){const n={buffered:T(this,et,ei).buffered,seekable:T(this,et,ei).seekable};T(this,jr).notify("progress",n,t)},Z4e=function(t){T(this,jr).notify("suspend",void 0,t)},Y4e=function(t){T(this,jr).notify("rate-change",T(this,et,ei).playbackRate,t)},X4e=function(t){const n=T(this,et,ei).error;if(!n)return;const r={message:n.message,code:n.code,mediaError:n};T(this,jr).notify("error",r,t)};var L$,Nf,Xs,DS,Q4e,J4e,e$e,IW,t$e;class oht{constructor(t,n){le(this,Xs);le(this,L$);le(this,Nf);de(this,L$,t),de(this,Nf,n),T(this,Xs,DS).onaddtrack=N(this,Xs,Q4e).bind(this),T(this,Xs,DS).onremovetrack=N(this,Xs,J4e).bind(this),T(this,Xs,DS).onchange=N(this,Xs,e$e).bind(this),no(T(this,Nf).audioTracks,"change",N(this,Xs,t$e).bind(this))}}L$=new WeakMap,Nf=new WeakMap,Xs=new WeakSet,DS=function(){return T(this,L$).media.audioTracks},Q4e=function(t){const n=t.track;if(n.label==="")return;const r=n.id.toString()||`native-audio-${T(this,Nf).audioTracks.length}`,i={id:r,label:n.label,language:n.language,kind:n.kind,selected:!1};T(this,Nf).audioTracks[yr.add](i,t),n.enabled&&(i.selected=!0)},J4e=function(t){const n=T(this,Nf).audioTracks.getById(t.track.id);n&&T(this,Nf).audioTracks[yr.remove](n,t)},e$e=function(t){let n=N(this,Xs,IW).call(this);if(!n)return;const r=T(this,Nf).audioTracks.getById(n.id);r&&T(this,Nf).audioTracks[yr.select](r,!0,t)},IW=function(){return Array.from(T(this,Xs,DS)).find(t=>t.enabled)},t$e=function(t){const{current:n}=t.detail;if(!n)return;const r=T(this,Xs,DS).getTrackById(n.id);if(r){const i=N(this,Xs,IW).call(this);i&&(i.enabled=!1),r.enabled=!0}};var A$,RW;class sht{constructor(t,n){le(this,A$);Ge(this,"scope",EC());Ge(this,"currentSrc",null);Ge(this,"audioGain");this.media=t,this.ctx=n,this.audioGain=new eht(t,r=>{this.ctx.notify("audio-gain-change",r)})}setup(){new rht(this,this.ctx),"audioTracks"in this.media&&new oht(this,this.ctx),Jn(()=>{this.audioGain.destroy(),this.media.srcObject=null,this.media.removeAttribute("src");for(const t of this.media.querySelectorAll("source"))t.remove();this.media.load()})}get type(){return""}setPlaybackRate(t){this.media.playbackRate=t}async play(){return this.media.play()}async pause(){return this.media.pause()}setMuted(t){this.media.muted=t}setVolume(t){this.media.volume=t}setCurrentTime(t){this.media.currentTime=t}setPlaysInline(t){On(this.media,"playsinline",t)}async loadSource({src:t,type:n},r){this.media.preload=r||"",eft(t)?(this.removeSource(),this.media.srcObject=t):(this.media.srcObject=null,mn(t)?n!=="?"?this.appendSource({src:t,type:n}):(this.removeSource(),this.media.src=N(this,A$,RW).call(this,t)):(this.removeSource(),this.media.src=window.URL.createObjectURL(t))),this.media.load(),this.currentSrc={src:t,type:n}}appendSource(t,n){const r=this.media.querySelector("source[data-vds]"),i=r??document.createElement("source");On(i,"src",N(this,A$,RW).call(this,t.src)),On(i,"type",t.type!=="?"?t.type:n),On(i,"data-vds",""),r||this.media.append(i)}removeSource(){var t;(t=this.media.querySelector("source[data-vds]"))==null||t.remove()}}A$=new WeakSet,RW=function(t){const{clipStartTime:n,clipEndTime:r}=this.ctx.$state,i=n(),o=r();return i>0&&o>0?`${t}#t=${i},${o}`:i>0?`${t}#t=${i}`:o>0?`${t}#t=0,${o}`:t};var jd,I$,R$,Gb,U0,n$e,r$e,i$e;class aht{constructor(t,n){le(this,U0);le(this,jd);le(this,I$);le(this,R$);le(this,Gb,_n(!1));de(this,jd,t),de(this,I$,n),N(this,U0,n$e).call(this)}get supported(){return T(this,Gb).call(this)}async prompt(){if(!this.supported)throw Error("Not supported on this platform.");return this.type==="airplay"&&T(this,jd).webkitShowPlaybackTargetPicker?T(this,jd).webkitShowPlaybackTargetPicker():T(this,jd).remote.prompt()}}jd=new WeakMap,I$=new WeakMap,R$=new WeakMap,Gb=new WeakMap,U0=new WeakSet,n$e=function(){var t;Ut||!((t=T(this,jd))!=null&&t.remote)||!this.canPrompt||(T(this,jd).remote.watchAvailability(n=>{T(this,Gb).set(n)}).catch(()=>{T(this,Gb).set(!1)}),Xe(N(this,U0,r$e).bind(this)))},r$e=function(){if(!T(this,Gb).call(this))return;const t=["connecting","connect","disconnect"],n=N(this,U0,i$e).bind(this);n(),no(T(this,jd),"playing",n);const r=new Xr(T(this,jd).remote);for(const i of t)r.add(i,n)},i$e=function(t){const n=T(this,jd).remote.state;if(n===T(this,R$))return;const r={type:this.type,state:n};T(this,I$).notify("remote-playback-change",r,t),de(this,R$,n)};class lht extends aht{constructor(){super(...arguments);Ge(this,"type","airplay")}get canPrompt(){return"WebKitPlaybackTargetAvailabilityEvent"in window}}var w_,x_,GC,o$e,s$e;class uht{constructor(t,n){le(this,GC);le(this,w_);le(this,x_);de(this,w_,t),de(this,x_,n),t.textTracks.onaddtrack=N(this,GC,o$e).bind(this),Jn(N(this,GC,s$e).bind(this))}}w_=new WeakMap,x_=new WeakMap,GC=new WeakSet,o$e=function(t){const n=t.track;if(!n||cht(T(this,w_),n))return;const r=new rx({id:n.id,kind:n.kind,label:n.label??"",language:n.language,type:"vtt"});r[Zn.native]={track:n},r[Zn.readyState]=2,r[Zn.nativeHLS]=!0;let i=0;const o=s=>{if(n.cues)for(let a=i;a<n.cues.length;a++)r.addCue(n.cues[a],s),i++};o(t),n.oncuechange=o,T(this,x_).textTracks.add(r,t),r.setMode(n.mode,t)},s$e=function(){var t;T(this,w_).textTracks.onaddtrack=null;for(const n of T(this,x_).textTracks){const r=(t=n[Zn.native])==null?void 0:t.track;r!=null&&r.oncuechange&&(r.oncuechange=null)}};function cht(e,t){return Array.from(e.children).find(n=>n.track===t)}var Zb,D$,ZC,a$e,l$e,O$;class dht{constructor(t,n){le(this,ZC);le(this,Zb);le(this,D$);le(this,O$,(t,n)=>{T(this,D$).notify("picture-in-picture-change",t,n)});de(this,Zb,t),de(this,D$,n),new Xr(t).add("enterpictureinpicture",N(this,ZC,a$e).bind(this)).add("leavepictureinpicture",N(this,ZC,l$e).bind(this))}get active(){return document.pictureInPictureElement===T(this,Zb)}get supported(){return DPe(T(this,Zb))}async enter(){return T(this,Zb).requestPictureInPicture()}exit(){return document.exitPictureInPicture()}}Zb=new WeakMap,D$=new WeakMap,ZC=new WeakSet,a$e=function(t){T(this,O$).call(this,!0,t)},l$e=function(t){T(this,O$).call(this,!1,t)},O$=new WeakMap;var Yb,S_,ep,P9,u$e;class fht{constructor(t,n){le(this,P9);le(this,Yb);le(this,S_);le(this,ep,"inline");de(this,Yb,t),de(this,S_,n),no(t,"webkitpresentationmodechanged",N(this,P9,u$e).bind(this))}get mode(){return T(this,ep)}get supported(){return OPe(T(this,Yb))}async setPresentationMode(t){T(this,ep)!==t&&T(this,Yb).webkitSetPresentationMode(t)}}Yb=new WeakMap,S_=new WeakMap,ep=new WeakMap,P9=new WeakSet,u$e=function(t){var r;const n=T(this,ep);de(this,ep,T(this,Yb).webkitPresentationMode),(r=T(this,S_).player)==null||r.dispatch(new Vr("video-presentation-change",{detail:T(this,ep),trigger:t})),["fullscreen","picture-in-picture"].forEach(i=>{(T(this,ep)===i||n===i)&&T(this,S_).notify(`${i}-change`,T(this,ep)===i,t)})};var Ey;class hht{constructor(t){le(this,Ey);de(this,Ey,t)}get active(){return T(this,Ey).mode==="fullscreen"}get supported(){return T(this,Ey).supported}async enter(){T(this,Ey).setPresentationMode("fullscreen")}async exit(){T(this,Ey).setPresentationMode("inline")}}Ey=new WeakMap;var ky;class pht{constructor(t){le(this,ky);de(this,ky,t)}get active(){return T(this,ky).mode==="picture-in-picture"}get supported(){return T(this,ky).supported}async enter(){T(this,ky).setPresentationMode("picture-in-picture")}async exit(){T(this,ky).setPresentationMode("inline")}}ky=new WeakMap;let c$e=class extends sht{constructor(n,r){super(n,r);Ge(this,"$$PROVIDER_TYPE","VIDEO");Ge(this,"airPlay");Ge(this,"fullscreen");Ge(this,"pictureInPicture");Ts(()=>{if(this.airPlay=new lht(n,r),OPe(n)){const i=new fht(n,r);this.fullscreen=new hht(i),this.pictureInPicture=new pht(i)}else DPe(n)&&(this.pictureInPicture=new dht(n,r))},this.scope)}get type(){return"video"}setup(){super.setup(),RPe(this.video)&&new uht(this.video,this.ctx),this.ctx.textRenderers.attachVideo(this.video),Jn(()=>{this.ctx.textRenderers.attachVideo(null)}),this.type==="video"&&this.ctx.notify("provider-setup",this)}get video(){return this.media}};var mht=Object.freeze({__proto__:null,VideoProvider:c$e});function ple(e){try{return new Intl.DisplayNames(navigator.languages,{type:"language"}).of(e)??null}catch{return null}}const ght=e=>`dash-${Vg(e)}`;var Py,Ri,Cr,__,C_,Cn,Z1,d$e,f$e,h$e,Hm,E_,p$e,m$e,g$e,v$e,y$e,b$e,w$e,x$e,$y,S$e,AA,DW,_$e,OW,C$e,E$e,jW;class vht{constructor(t,n){le(this,Cn);le(this,Py);le(this,Ri);le(this,Cr,null);le(this,__,new Set);le(this,C_,null);Ge(this,"config",{});le(this,Hm,null);le(this,E_,{});le(this,$y,-1);de(this,Py,t),de(this,Ri,n)}get instance(){return T(this,Cr)}setup(t){de(this,Cr,t().create());const n=N(this,Cn,h$e).bind(this);for(const r of Object.values(t.events))T(this,Cr).on(r,n);T(this,Cr).on(t.events.ERROR,N(this,Cn,b$e).bind(this));for(const r of T(this,__))r(T(this,Cr));T(this,Ri).player.dispatch("dash-instance",{detail:T(this,Cr)}),T(this,Cr).initialize(T(this,Py),void 0,!1),T(this,Cr).updateSettings({streaming:{text:{defaultEnabled:!1,dispatchForManualRendering:!0},buffer:{fastSwitchEnabled:!0}},...this.config}),T(this,Cr).on(t.events.FRAGMENT_LOADING_STARTED,N(this,Cn,w$e).bind(this)),T(this,Cr).on(t.events.FRAGMENT_LOADING_COMPLETED,N(this,Cn,x$e).bind(this)),T(this,Cr).on(t.events.MANIFEST_LOADED,N(this,Cn,y$e).bind(this)),T(this,Cr).on(t.events.QUALITY_CHANGE_RENDERED,N(this,Cn,v$e).bind(this)),T(this,Cr).on(t.events.TEXT_TRACKS_ADDED,N(this,Cn,m$e).bind(this)),T(this,Cr).on(t.events.TRACK_CHANGE_RENDERED,N(this,Cn,g$e).bind(this)),T(this,Ri).qualities[Oc.enableAuto]=N(this,Cn,_$e).bind(this),no(T(this,Ri).qualities,"change",N(this,Cn,C$e).bind(this)),no(T(this,Ri).audioTracks,"change",N(this,Cn,E$e).bind(this)),de(this,C_,Xe(N(this,Cn,d$e).bind(this)))}onInstance(t){return T(this,__).add(t),()=>T(this,__).delete(t)}loadSource(t){var n;N(this,Cn,jW).call(this),mn(t.src)&&((n=T(this,Cr))==null||n.attachSource(t.src))}destroy(){var t,n;N(this,Cn,jW).call(this),(t=T(this,Cr))==null||t.destroy(),de(this,Cr,null),(n=T(this,C_))==null||n.call(this),de(this,C_,null)}}Py=new WeakMap,Ri=new WeakMap,Cr=new WeakMap,__=new WeakMap,C_=new WeakMap,Cn=new WeakSet,Z1=function(t){return new Vr(ght(t.type),{detail:t})},d$e=function(){if(!T(this,Ri).$state.live())return;const t=new C4e(N(this,Cn,f$e).bind(this));return t.start(),t.stop.bind(t)},f$e=function(){if(!T(this,Cr))return;const t=T(this,Cr).duration()-T(this,Cr).time();T(this,Ri).$state.liveSyncPosition.set(isNaN(t)?1/0:t)},h$e=function(t){var n;(n=T(this,Ri).player)==null||n.dispatch(N(this,Cn,Z1).call(this,t))},Hm=new WeakMap,E_=new WeakMap,p$e=function(t){var a;const n=(a=T(this,Hm))==null?void 0:a[Zn.native],r=(n==null?void 0:n.track).cues;if(!n||!r)return;const i=T(this,Hm).id,o=T(this,E_)[i]??0,s=N(this,Cn,Z1).call(this,t);for(let l=o;l<r.length;l++){const u=r[l];u.positionAlign||(u.positionAlign="auto"),T(this,Hm).addCue(u,s)}T(this,E_)[i]=r.length},m$e=function(t){var o;if(!T(this,Cr))return;const n=t.tracks,r=[...T(this,Py).textTracks].filter(s=>"manualMode"in s),i=N(this,Cn,Z1).call(this,t);for(let s=0;s<r.length;s++){const a=n[s],l=r[s],u=`dash-${a.kind}-${s}`,c=new rx({id:u,label:(a==null?void 0:a.label)??((o=a.labels.find(f=>f.text))==null?void 0:o.text)??((a==null?void 0:a.lang)&&ple(a.lang))??(a==null?void 0:a.lang)??void 0,language:a.lang??void 0,kind:a.kind,default:a.defaultTrack});c[Zn.native]={managed:!0,track:l},c[Zn.readyState]=2,c[Zn.onModeChange]=()=>{T(this,Cr)&&(c.mode==="showing"?(T(this,Cr).setTextTrack(s),de(this,Hm,c)):(T(this,Cr).setTextTrack(-1),de(this,Hm,null)))},T(this,Ri).textTracks.add(c,i)}},g$e=function(t){const{mediaType:n,newMediaInfo:r}=t;if(n==="audio"){const i=T(this,Ri).audioTracks.getById(`dash-audio-${r.index}`);if(i){const o=N(this,Cn,Z1).call(this,t);T(this,Ri).audioTracks[yr.select](i,!0,o)}}},v$e=function(t){if(t.mediaType!=="video")return;const n=T(this,Ri).qualities[t.newQuality];if(n){const r=N(this,Cn,Z1).call(this,t);T(this,Ri).qualities[yr.select](n,!0,r)}},y$e=function(t){if(T(this,Ri).$state.canPlay()||!T(this,Cr))return;const{type:n,mediaPresentationDuration:r}=t.data,i=N(this,Cn,Z1).call(this,t);T(this,Ri).notify("stream-type-change",n!=="static"?"live":"on-demand",i),T(this,Ri).notify("duration-change",r,i),T(this,Ri).qualities[Oc.setAuto](!0,i);const o=T(this,Cr).getVideoElement(),s=T(this,Cr).getTracksForTypeFromManifest("video",t.data),a=[...new Set(s.map(f=>f.mimeType))].find(f=>f&&IPe(o,f)),l=s.filter(f=>a===f.mimeType)[0];let u=T(this,Cr).getTracksForTypeFromManifest("audio",t.data);const c=[...new Set(u.map(f=>f.mimeType))].find(f=>f&&APe(o,f));if(u=u.filter(f=>c===f.mimeType),l.bitrateList.forEach((f,p)=>{var v;const g={id:((v=f.id)==null?void 0:v.toString())??`dash-bitrate-${p}`,width:f.width??0,height:f.height??0,bitrate:f.bandwidth??0,codec:l.codec,index:p};T(this,Ri).qualities[yr.add](g,i)}),Zu(l.index)){const f=T(this,Ri).qualities[l.index];f&&T(this,Ri).qualities[yr.select](f,!0,i)}u.forEach((f,p)=>{const v=f.labels.find(S=>navigator.languages.some(C=>S.lang&&C.toLowerCase().startsWith(S.lang.toLowerCase())))||f.labels[0],y={id:`dash-audio-${f==null?void 0:f.index}`,label:(v==null?void 0:v.text)??(f.lang&&ple(f.lang))??f.lang??"",language:f.lang??"",kind:"main",mimeType:f.mimeType,codec:f.codec,index:p};T(this,Ri).audioTracks[yr.add](y,i)}),o.dispatchEvent(new Vr("canplay",{trigger:i}))},b$e=function(t){const{type:n,error:r}=t;switch(r.code){case 27:N(this,Cn,S$e).call(this,r);break;default:N(this,Cn,DW).call(this,r);break}},w$e=function(){T(this,$y)>=0&&N(this,Cn,AA).call(this)},x$e=function(t){t.mediaType==="text"&&requestAnimationFrame(N(this,Cn,p$e).bind(this,t))},$y=new WeakMap,S$e=function(t){var n;N(this,Cn,AA).call(this),(n=T(this,Cr))==null||n.play(),de(this,$y,window.setTimeout(()=>{de(this,$y,-1),N(this,Cn,DW).call(this,t)},5e3))},AA=function(){clearTimeout(T(this,$y)),de(this,$y,-1)},DW=function(t){T(this,Ri).notify("error",{message:t.message??"",code:1,error:t})},_$e=function(){var n;N(this,Cn,OW).call(this,"video",!0);const{qualities:t}=T(this,Ri);(n=T(this,Cr))==null||n.setQualityFor("video",t.selectedIndex,!0)},OW=function(t,n){var r;(r=T(this,Cr))==null||r.updateSettings({streaming:{abr:{autoSwitchBitrate:{[t]:n}}}})},C$e=function(){const{qualities:t}=T(this,Ri);!T(this,Cr)||t.auto||!t.selected||(N(this,Cn,OW).call(this,"video",!1),T(this,Cr).setQualityFor("video",t.selectedIndex,t.switch==="current"),MPe&&(T(this,Py).currentTime=T(this,Py).currentTime))},E$e=function(){if(!T(this,Cr))return;const{audioTracks:t}=T(this,Ri),n=T(this,Cr).getTracksFor("audio").find(r=>t.selected&&t.selected.id===`dash-audio-${r.index}`);n&&T(this,Cr).setCurrentTrack(n)},jW=function(){N(this,Cn,AA).call(this),de(this,Hm,null),de(this,E_,{})};function IA(e){return e instanceof Error?e:Error(typeof e=="string"?e:JSON.stringify(e))}function ym(e,t){if(!e)throw Error("Assertion failed.")}var Xb,tp,j$,Hp,k$e,P$e,$$e,T$e;class yht{constructor(t,n,r){le(this,Hp);le(this,Xb);le(this,tp);le(this,j$);de(this,Xb,t),de(this,tp,n),de(this,j$,r),N(this,Hp,k$e).call(this)}}Xb=new WeakMap,tp=new WeakMap,j$=new WeakMap,Hp=new WeakSet,k$e=async function(){const t={onLoadStart:N(this,Hp,P$e).bind(this),onLoaded:N(this,Hp,$$e).bind(this),onLoadError:N(this,Hp,T$e).bind(this)};let n=await wht(T(this,Xb),t);if(Is(n)&&!mn(T(this,Xb))&&(n=await bht(T(this,Xb),t)),!n)return null;if(!window.dashjs.supportsMediaSource()){const r="[vidstack] `dash.js` is not supported in this environment";return T(this,tp).player.dispatch(new Vr("dash-unsupported")),T(this,tp).notify("error",{message:r,code:4}),null}return n},P$e=function(){T(this,tp).player.dispatch(new Vr("dash-lib-load-start"))},$$e=function(t){T(this,tp).player.dispatch(new Vr("dash-lib-loaded",{detail:t})),T(this,j$).call(this,t)},T$e=function(t){const n=IA(t);T(this,tp).player.dispatch(new Vr("dash-lib-load-error",{detail:n})),T(this,tp).notify("error",{message:n.message,code:4,error:n})};async function bht(e,t={}){var n,r,i,o,s,a,l;if(!Is(e)){if((n=t.onLoadStart)==null||n.call(t),xht(e))return(r=t.onLoaded)==null||r.call(t,e),e;if(mle(e)){const u=e.MediaPlayer;return(i=t.onLoaded)==null||i.call(t,u),u}try{const u=(o=await e())==null?void 0:o.default;if(mle(u))return(s=t.onLoaded)==null||s.call(t,u.MediaPlayer),u.MediaPlayer;if(u)(a=t.onLoaded)==null||a.call(t,u);else throw Error("");return u}catch(u){(l=t.onLoadError)==null||l.call(t,u)}}}async function wht(e,t={}){var n,r,i;if(mn(e)){(n=t.onLoadStart)==null||n.call(t);try{if(await tft(e),!sc(window.dashjs.MediaPlayer))throw Error("");const o=window.dashjs.MediaPlayer;return(r=t.onLoaded)==null||r.call(t,o),o}catch(o){(i=t.onLoadError)==null||i.call(t,o)}}}function xht(e){return e&&e.prototype&&e.prototype!==Function}function mle(e){return e&&"MediaPlayer"in e}const Sht="https://cdn.jsdelivr.net";var N$,Ff,Ty;class M$e extends c$e{constructor(){super(...arguments);Ge(this,"$$PROVIDER_TYPE","DASH");le(this,N$,null);le(this,Ff,new vht(this.video,this.ctx));le(this,Ty,`${Sht}/npm/dashjs@4.7.4/dist/dash.all.min.js`)}get ctor(){return T(this,N$)}get instance(){return T(this,Ff).instance}get type(){return"dash"}get canLiveSync(){return!0}get config(){return T(this,Ff).config}set config(n){T(this,Ff).config=n}get library(){return T(this,Ty)}set library(n){de(this,Ty,n)}preconnect(){mn(T(this,Ty))&&g3(T(this,Ty))}setup(){super.setup(),new yht(T(this,Ty),this.ctx,n=>{de(this,N$,n),T(this,Ff).setup(n),this.ctx.notify("provider-setup",this);const r=wt(this.ctx.$state.source);r&&this.loadSource(r)})}async loadSource(n,r){if(!mn(n.src)){this.removeSource();return}this.media.preload=r||"",this.appendSource(n,"application/x-mpegurl"),T(this,Ff).loadSource(n),this.currentSrc=n}onInstance(n){const r=T(this,Ff).instance;return r&&n(r),T(this,Ff).onInstance(n)}destroy(){T(this,Ff).destroy()}}N$=new WeakMap,Ff=new WeakMap,Ty=new WeakMap,Ge(M$e,"supported",jPe());var _ht=Object.freeze({__proto__:null,DASHProvider:M$e});const $9=class $9 extends GQ{constructor(){super(...arguments);Ge(this,"name","dash")}canPlay(n){return $9.supported&&UQ(n)}async load(n){if(Ut)throw Error("[vidstack] can not load dash provider server-side");return new(await Promise.resolve().then(function(){return _ht})).DASHProvider(this.target,n)}};Ge($9,"supported",jPe());let NW=$9;class Cht{constructor(){Ge(this,"name","vimeo");Ge(this,"target")}preconnect(){const t=["https://i.vimeocdn.com","https://f.vimeocdn.com","https://fresnel.vimeocdn.com"];for(const n of t)g3(n)}canPlay(t){return mn(t.src)&&t.type==="video/vimeo"}mediaType(){return"video"}async load(t){if(Ut)throw Error("[vidstack] can not load vimeo provider server-side");return new(await Il(async()=>{const{VimeoProvider:n}=await import("./vidstack-BqgQkvb4-UZQGhaum.js");return{VimeoProvider:n}},__vite__mapDeps([0,1,2]),import.meta.url)).VimeoProvider(this.target,t)}async loadPoster(t,n,r){const{resolveVimeoVideoId:i,getVimeoVideoInfo:o}=await Il(async()=>{const{resolveVimeoVideoId:l,getVimeoVideoInfo:u}=await import("./vidstack-krOAtKMi-C3UUF7YD.js");return{resolveVimeoVideoId:l,getVimeoVideoInfo:u}},[],import.meta.url);if(!mn(t.src))return null;const{videoId:s,hash:a}=i(t.src);return s?o(s,r,a).then(l=>l?l.poster:null):null}}class Eht{constructor(){Ge(this,"name","youtube");Ge(this,"target")}preconnect(){const t=["https://www.google.com","https://i.ytimg.com","https://googleads.g.doubleclick.net","https://static.doubleclick.net"];for(const n of t)g3(n)}canPlay(t){return mn(t.src)&&t.type==="video/youtube"}mediaType(){return"video"}async load(t){if(Ut)throw Error("[vidstack] can not load youtube provider server-side");return new(await Il(async()=>{const{YouTubeProvider:n}=await import("./vidstack-DHmfHold-CfuPv8hB.js");return{YouTubeProvider:n}},__vite__mapDeps([3,1,4]),import.meta.url)).YouTubeProvider(this.target,t)}async loadPoster(t,n,r){const{findYouTubePoster:i,resolveYouTubeVideoId:o}=await Il(async()=>{const{findYouTubePoster:a,resolveYouTubeVideoId:l}=await import("./vidstack-Dm1xEU9Q-qchDHvRd.js");return{findYouTubePoster:a,resolveYouTubeVideoId:l}},[],import.meta.url),s=mn(t.src)&&o(t.src);return s?i(s,r):null}}function DF(e,t){const n=String(e),r=n.length;if(r<t){const o=t-r;return`${"0".repeat(o)}${e}`}return n}function L$e(e){const t=Math.trunc(e/3600),n=Math.trunc(e%3600/60),r=Math.trunc(e%60),i=Number((e-Math.trunc(e)).toPrecision(3));return{hours:t,minutes:n,seconds:r,fraction:i}}function y7(e,{padHrs:t=null,padMins:n=null,showHrs:r=!1,showMs:i=!1}={}){const{hours:o,minutes:s,seconds:a,fraction:l}=L$e(e),u=t?DF(o,2):o,c=n||ah(n)&&e>=3600?DF(s,2):s,f=DF(a,2),p=i&&l>0?`.${String(l).replace(/^0?\./,"")}`:"",g=`${c}:${f}${p}`;return o>0||r?`${u}:${g}`:g}function fD(e){const t=[],{hours:n,minutes:r,seconds:i}=L$e(e);return n>0&&t.push(`${n} hour`),r>0&&t.push(`${r} min`),(i>0||t.length===0)&&t.push(`${i} sec`),t.join(" ")}const OF=Symbol(0),kht=["autoPlay","canAirPlay","canFullscreen","canGoogleCast","canLoad","canLoadPoster","canPictureInPicture","canPlay","canSeek","ended","fullscreen","isAirPlayConnected","isGoogleCastConnected","live","liveEdge","loop","mediaType","muted","paused","pictureInPicture","playing","playsInline","remotePlaybackState","remotePlaybackType","seeking","started","streamType","viewType","waiting"],Pht={artist:"",artwork:null,autoplay:!1,autoPlay:!1,clipStartTime:0,clipEndTime:0,controls:!1,currentTime:0,crossorigin:null,crossOrigin:null,duration:-1,fullscreenOrientation:"landscape",googleCast:{},load:"visible",posterLoad:"visible",logLevel:"silent",loop:!1,muted:!1,paused:!0,playsinline:!1,playsInline:!1,playbackRate:1,poster:"",preload:"metadata",preferNativeHLS:!1,src:"",title:"",controlsDelay:2e3,hideControlsOnMouseLeave:!1,viewType:"unknown",streamType:"unknown",volume:1,liveEdgeTolerance:10,minLiveDVRWindow:60,keyDisabled:!1,keyTarget:"player",keyShortcuts:Bft,storage:null};var F$,Qb;class gle extends Ex{constructor(n,r){super();le(this,F$);le(this,Qb);de(this,F$,n),de(this,Qb,r)}async onAttach(n){if(Ut)return;const r=this.$props[T(this,F$)]();if(r==="eager")requestAnimationFrame(T(this,Qb));else if(r==="idle")fPe(T(this,Qb));else if(r==="visible"){let i,o=new IntersectionObserver(s=>{this.scope&&s[0].isIntersecting&&(i==null||i(),i=void 0,T(this,Qb).call(this))});o.observe(n),i=Jn(()=>o.disconnect())}}}F$=new WeakMap,Qb=new WeakMap;var B$,Bf,T9,A$e;class $ht{constructor(t,n){le(this,T9);le(this,B$);le(this,Bf);de(this,B$,t),de(this,Bf,n)}notify(t,...n){Ut||T(this,B$).call(this,new Vr(t,{detail:n==null?void 0:n[0],trigger:n==null?void 0:n[1]}))}async ready(t,n){if(!Ut)return _C(async()=>{var z,G,ee,X,se,B,q;T(this,Bf);const{autoPlay:r,canPlay:i,started:o,duration:s,seekable:a,buffered:l,remotePlaybackInfo:u,playsInline:c,savedState:f,source:p}=T(this,Bf).$state;if(i())return;const g={duration:(t==null?void 0:t.duration)??s(),seekable:(t==null?void 0:t.seekable)??a(),buffered:(t==null?void 0:t.buffered)??l(),provider:T(this,Bf).$provider()};this.notify("can-play",g,n),sh();let v=T(this,Bf).$provider(),{storage:y,qualities:S}=T(this,Bf),{muted:C,volume:_,clipStartTime:k,playbackRate:w}=T(this,Bf).$props;await((z=y==null?void 0:y.onLoad)==null?void 0:z.call(y,p()));const P=(G=f())==null?void 0:G.currentTime,M=(ee=f())==null?void 0:ee.paused,R=await(y==null?void 0:y.getTime()),D=P??R??k(),H=M===!1||M!==!0&&!o()&&r();if(v){v.setVolume(await(y==null?void 0:y.getVolume())??_()),v.setMuted(C()||!!await(y==null?void 0:y.getMuted()));const U=await(y==null?void 0:y.getAudioGain())??1;U>1&&((se=(X=v.audioGain)==null?void 0:X.setGain)==null||se.call(X,U)),(B=v.setPlaybackRate)==null||B.call(v,await(y==null?void 0:y.getPlaybackRate())??w()),(q=v.setPlaysInline)==null||q.call(v,c()),D>0&&v.setCurrentTime(D)}const O=await(y==null?void 0:y.getVideoQuality());if(O&&S.length){let U=null,K=1/0;for(const J of S){const oe=Math.abs(O.width-J.width)+Math.abs(O.height-J.height)+(O.bitrate?Math.abs(O.bitrate-(J.bitrate??0)):0);oe<K&&(U=J,K=oe)}U&&(U.selected=!0)}i()&&H?await N(this,T9,A$e).call(this,n):R&&R>0&&this.notify("started",void 0,n),u.set(null)})}}B$=new WeakMap,Bf=new WeakMap,T9=new WeakSet,A$e=async function(t){const{player:n,$state:{autoPlaying:r,muted:i}}=T(this,Bf);r.set(!0);const o=new Vr("auto-play-attempt",{trigger:t});try{await n.play(o)}catch{}};var My;class Tht{constructor(){le(this,My,new Map)}enqueue(t,n){T(this,My).set(t,n)}serve(t){const n=this.peek(t);return T(this,My).delete(t),n}peek(t){return T(this,My).get(t)}delete(t){T(this,My).delete(t)}clear(){T(this,My).clear()}}My=new WeakMap;var Ly,k_,zf,W0,FW,BW;class I$e{constructor(){le(this,W0);le(this,Ly,!1);le(this,k_,sD());le(this,zf,new Map)}get size(){return T(this,zf).size}get isServing(){return T(this,Ly)}async waitForFlush(){T(this,Ly)||await T(this,k_).promise}enqueue(t,n){if(T(this,Ly)){n();return}T(this,zf).delete(t),T(this,zf).set(t,n)}serve(t){var n;(n=T(this,zf).get(t))==null||n(),T(this,zf).delete(t)}start(){N(this,W0,FW).call(this),de(this,Ly,!0),T(this,zf).size>0&&N(this,W0,FW).call(this)}stop(){de(this,Ly,!1)}reset(){this.stop(),T(this,zf).clear(),N(this,W0,BW).call(this)}}Ly=new WeakMap,k_=new WeakMap,zf=new WeakMap,W0=new WeakSet,FW=function(){for(const t of T(this,zf).keys())this.serve(t);N(this,W0,BW).call(this)},BW=function(){T(this,k_).resolve(),de(this,k_,sD())};function Mht(e){return e?"true":"false"}function el(e){return()=>Mht(e())}function Lht(){return typeof window>"u"?!1:window.matchMedia("(prefers-reduced-motion: reduce)").matches}var Vm,Gn,Um,Jb,Wm,vo,Ay,Ir,R$e,D$e,O$e,zW,P_,HW,VW,j$e,N$e,F$e,B$e,z$e,H$e,ew,V$e,UW,WW,Iht;class Aht extends Ex{constructor(n,r,i){super();le(this,Ir);le(this,Vm);le(this,Gn);le(this,Um);Ge(this,"controls");le(this,Jb);le(this,Wm);le(this,vo);le(this,Ay,new I$e);le(this,P_,!1);le(this,ew);de(this,Vm,n),de(this,Gn,r),de(this,Um,i),de(this,vo,i.$provider),this.controls=new qft,de(this,Jb,new Gft),de(this,Wm,new uD)}onAttach(){this.listen("fullscreen-change",N(this,Ir,V$e).bind(this))}onConnect(n){const r=Object.getOwnPropertyNames(Object.getPrototypeOf(this)),i=new Xr(n),o=N(this,Ir,O$e).bind(this);for(const s of r)s.startsWith("media-")&&i.add(s,o);N(this,Ir,R$e).call(this),Xe(N(this,Ir,D$e).bind(this)),Xe(N(this,Ir,j$e).bind(this)),Xe(N(this,Ir,N$e).bind(this)),Xe(N(this,Ir,F$e).bind(this)),Xe(N(this,Ir,B$e).bind(this)),Xe(N(this,Ir,z$e).bind(this)),Xe(N(this,Ir,H$e).bind(this))}onDestroy(){try{const n=this.createEvent("destroy"),{pictureInPicture:r,fullscreen:i}=this.$state;i()&&this.exitFullscreen("prefer-media",n),r()&&this.exitPictureInPicture(n)}catch{}T(this,Ay).reset()}async play(n){if(Ut)return;const{canPlay:r,paused:i,autoPlaying:o}=this.$state;if(N(this,Ir,zW).call(this,n)||!wt(i))return;n&&T(this,Gn).queue.enqueue("media-play-request",n);const s=wt(o);try{const a=wt(T(this,vo));return jF(a,wt(r)),Rht(s),await a.play()}catch(a){const l=this.createEvent("play-fail",{detail:IA(a),trigger:n});throw l.autoPlay=s,T(this,Vm).handle(l),a}}async pause(n){if(Ut)return;const{canPlay:r,paused:i}=this.$state;if(!wt(i)){n&&T(this,Gn).queue.enqueue("media-pause-request",n);try{const o=wt(T(this,vo));return jF(o,wt(r)),await o.pause()}catch(o){throw T(this,Gn).queue.delete("media-pause-request"),o}}}setAudioGain(n,r){const{audioGain:i,canSetAudioGain:o}=this.$state;if(i()===n)return;const s=T(this,vo).call(this);if(!(s!=null&&s.audioGain)||!o())throw Error("[vidstack] audio gain api not available");r&&T(this,Gn).queue.enqueue("media-audio-gain-change-request",r),s.audioGain.setGain(n)}seekToLiveEdge(n){if(Ut)return;const{canPlay:r,live:i,liveEdge:o,canSeek:s,liveSyncPosition:a,seekableEnd:l,userBehindLiveEdge:u}=this.$state;if(u.set(!1),wt(()=>!i()||o()||!s()))return;const c=wt(T(this,vo));jF(c,wt(r)),n&&T(this,Gn).queue.enqueue("media-seek-request",n);const f=l()-2;c.setCurrentTime(Math.min(f,a()??f))}async enterFullscreen(n="prefer-media",r){if(Ut)return;const i=N(this,Ir,HW).call(this,n);if(vle(n,i),!i.active)return wt(this.$state.pictureInPicture)&&(de(this,P_,!0),await this.exitPictureInPicture(r)),r&&T(this,Gn).queue.enqueue("media-enter-fullscreen-request",r),i.enter()}async exitFullscreen(n="prefer-media",r){if(Ut)return;const i=N(this,Ir,HW).call(this,n);if(vle(n,i),!!i.active){r&&T(this,Gn).queue.enqueue("media-exit-fullscreen-request",r);try{const o=await i.exit();return T(this,P_)&&wt(this.$state.canPictureInPicture)&&await this.enterPictureInPicture(),o}finally{de(this,P_,!1)}}}async enterPictureInPicture(n){if(!Ut&&(N(this,Ir,VW).call(this),!this.$state.pictureInPicture()))return n&&T(this,Gn).queue.enqueue("media-enter-pip-request",n),await T(this,vo).call(this).pictureInPicture.enter()}async exitPictureInPicture(n){if(!Ut&&(N(this,Ir,VW).call(this),!!this.$state.pictureInPicture()))return n&&T(this,Gn).queue.enqueue("media-exit-pip-request",n),await T(this,vo).call(this).pictureInPicture.exit()}async"media-airplay-request"(n){try{await this.requestAirPlay(n)}catch{}}async requestAirPlay(n){var r;try{const i=(r=T(this,vo).call(this))==null?void 0:r.airPlay;if(!(i!=null&&i.supported))throw Error("No AirPlay adapter.");return n&&T(this,Gn).queue.enqueue("media-airplay-request",n),await i.prompt()}catch(i){throw T(this,Gn).queue.delete("media-airplay-request"),i}}async"media-google-cast-request"(n){try{await this.requestGoogleCast(n)}catch{}}async requestGoogleCast(n){try{const{canGoogleCast:r}=this.$state;if(!wt(r)){const o=Error("Cast not available.");throw o.code="CAST_NOT_AVAILABLE",o}if(g3("https://www.gstatic.com"),!T(this,ew)){const o=await Il(()=>import("./vidstack-CQQ1xKSy-nfs7TgCo.js"),[],import.meta.url).then(function(s){return s.loader});de(this,ew,new o.GoogleCastLoader)}await T(this,ew).prompt(T(this,Um)),n&&T(this,Gn).queue.enqueue("media-google-cast-request",n);const i=wt(this.$state.remotePlaybackState)!=="disconnected";i&&this.$state.savedState.set({paused:wt(this.$state.paused),currentTime:wt(this.$state.currentTime)}),this.$state.remotePlaybackLoader.set(i?T(this,ew):null)}catch(r){throw T(this,Gn).queue.delete("media-google-cast-request"),r}}"media-clip-start-change-request"(n){const{clipStartTime:r}=this.$state;r.set(n.detail)}"media-clip-end-change-request"(n){const{clipEndTime:r}=this.$state;r.set(n.detail),this.dispatch("duration-change",{detail:n.detail,trigger:n})}"media-duration-change-request"(n){const{providedDuration:r,clipEndTime:i}=this.$state;r.set(n.detail),i()<=0&&this.dispatch("duration-change",{detail:n.detail,trigger:n})}"media-audio-track-change-request"(n){const{logger:r,audioTracks:i}=T(this,Um);if(i.readonly)return;const o=n.detail,s=i[o];if(s){const a=n.type;T(this,Gn).queue.enqueue(a,n),s.selected=!0}}async"media-enter-fullscreen-request"(n){try{await this.enterFullscreen(n.detail,n)}catch(r){N(this,Ir,UW).call(this,r,n)}}async"media-exit-fullscreen-request"(n){try{await this.exitFullscreen(n.detail,n)}catch(r){N(this,Ir,UW).call(this,r,n)}}async"media-orientation-lock-request"(n){const r=n.type;try{T(this,Gn).queue.enqueue(r,n),await T(this,Wm).lock(n.detail)}catch{T(this,Gn).queue.delete(r)}}async"media-orientation-unlock-request"(n){const r=n.type;try{T(this,Gn).queue.enqueue(r,n),await T(this,Wm).unlock()}catch{T(this,Gn).queue.delete(r)}}async"media-enter-pip-request"(n){try{await this.enterPictureInPicture(n)}catch(r){N(this,Ir,WW).call(this,r,n)}}async"media-exit-pip-request"(n){try{await this.exitPictureInPicture(n)}catch(r){N(this,Ir,WW).call(this,r,n)}}"media-live-edge-request"(n){const{live:r,liveEdge:i,canSeek:o}=this.$state;if(!(!r()||i()||!o())){T(this,Gn).queue.enqueue("media-seek-request",n);try{this.seekToLiveEdge()}catch{T(this,Gn).queue.delete("media-seek-request")}}}async"media-loop-request"(n){try{T(this,Gn).looping=!0,T(this,Gn).replaying=!0,await this.play(n)}catch{T(this,Gn).looping=!1}}"media-user-loop-change-request"(n){this.$state.userPrefersLoop.set(n.detail)}async"media-pause-request"(n){if(!this.$state.paused())try{await this.pause(n)}catch{}}async"media-play-request"(n){if(this.$state.paused())try{await this.play(n)}catch{}}"media-rate-change-request"(n){const{playbackRate:r,canSetPlaybackRate:i}=this.$state;if(r()===n.detail||!i())return;const o=T(this,vo).call(this);o!=null&&o.setPlaybackRate&&(T(this,Gn).queue.enqueue("media-rate-change-request",n),o.setPlaybackRate(n.detail))}"media-audio-gain-change-request"(n){try{this.setAudioGain(n.detail,n)}catch{}}"media-quality-change-request"(n){var a,l;const{qualities:r,storage:i,logger:o}=T(this,Um);if(r.readonly)return;T(this,Gn).queue.enqueue("media-quality-change-request",n);const s=n.detail;if(s<0)r.autoSelect(n),n.isOriginTrusted&&((a=i==null?void 0:i.setVideoQuality)==null||a.call(i,null));else{const u=r[s];u&&(u.selected=!0,n.isOriginTrusted&&((l=i==null?void 0:i.setVideoQuality)==null||l.call(i,{id:u.id,width:u.width,height:u.height,bitrate:u.bitrate})))}}"media-pause-controls-request"(n){const r=n.type;T(this,Gn).queue.enqueue(r,n),this.controls.pause(n)}"media-resume-controls-request"(n){const r=n.type;T(this,Gn).queue.enqueue(r,n),this.controls.resume(n)}"media-seek-request"(n){const{canSeek:r,ended:i,live:o,seekableEnd:s,userBehindLiveEdge:a}=this.$state,l=n.detail;i()&&(T(this,Gn).replaying=!0);const u=n.type;T(this,Gn).seeking=!1,T(this,Gn).queue.delete(u);const c=BPe(l,this.$state);!Number.isFinite(c)||!r()||(T(this,Gn).queue.enqueue(u,n),T(this,vo).call(this).setCurrentTime(c),o()&&n.isOriginTrusted&&Math.abs(s()-c)>=2&&a.set(!0))}"media-seeking-request"(n){const r=n.type;T(this,Gn).queue.enqueue(r,n),this.$state.seeking.set(!0),T(this,Gn).seeking=!0}"media-start-loading"(n){if(this.$state.canLoad())return;const r=n.type;T(this,Gn).queue.enqueue(r,n),T(this,Vm).handle(this.createEvent("can-load"))}"media-poster-start-loading"(n){if(this.$state.canLoadPoster())return;const r=n.type;T(this,Gn).queue.enqueue(r,n),T(this,Vm).handle(this.createEvent("can-load-poster"))}"media-text-track-change-request"(n){const{index:r,mode:i}=n.detail,o=T(this,Um).textTracks[r];if(o){const s=n.type;T(this,Gn).queue.enqueue(s,n),o.setMode(i,n)}}"media-mute-request"(n){if(this.$state.muted())return;const r=n.type;T(this,Gn).queue.enqueue(r,n),T(this,vo).call(this).setMuted(!0)}"media-unmute-request"(n){const{muted:r,volume:i}=this.$state;if(!r())return;const o=n.type;T(this,Gn).queue.enqueue(o,n),T(this,Um).$provider().setMuted(!1),i()===0&&(T(this,Gn).queue.enqueue(o,n),T(this,vo).call(this).setVolume(.25))}"media-volume-change-request"(n){const{muted:r,volume:i}=this.$state,o=n.detail;if(i()===o)return;const s=n.type;T(this,Gn).queue.enqueue(s,n),T(this,vo).call(this).setVolume(o),o>0&&r()&&(T(this,Gn).queue.enqueue(s,n),T(this,vo).call(this).setMuted(!1))}}Vm=new WeakMap,Gn=new WeakMap,Um=new WeakMap,Jb=new WeakMap,Wm=new WeakMap,vo=new WeakMap,Ay=new WeakMap,Ir=new WeakSet,R$e=function(){const{load:n}=this.$props,{canLoad:r}=this.$state;if(n()!=="play"||r())return;const i=this.listen("media-play-request",o=>{N(this,Ir,zW).call(this,o),i()})},D$e=function(){const n=T(this,vo).call(this),r=this.$state.canPlay();return n&&r&&T(this,Ay).start(),()=>{T(this,Ay).stop()}},O$e=function(n){n.stopPropagation(),!n.defaultPrevented&&this[n.type]&&(wt(T(this,vo))?this[n.type](n):T(this,Ay).enqueue(n.type,()=>{wt(T(this,vo))&&this[n.type](n)}))},zW=function(n){const{load:r}=this.$props,{canLoad:i}=this.$state;if(r()==="play"&&!i()){const o=this.createEvent("media-start-loading",{trigger:n});return this.dispatchEvent(o),T(this,Ay).enqueue("media-play-request",async()=>{try{await this.play(o)}catch{}}),!0}return!1},P_=new WeakMap,HW=function(n){const r=wt(T(this,vo));return n==="prefer-media"&&T(this,Jb).supported||n==="media"?T(this,Jb):r==null?void 0:r.fullscreen},VW=function(){if(!this.$state.canPictureInPicture())throw Error("[vidstack] no pip support")},j$e=function(){this.controls.defaultDelay=this.$props.controlsDelay()},N$e=function(){var i,o;const{canSetAudioGain:n}=this.$state,r=!!((o=(i=T(this,vo).call(this))==null?void 0:i.audioGain)!=null&&o.supported);n.set(r)},F$e=function(){var i,o;const{canAirPlay:n}=this.$state,r=!!((o=(i=T(this,vo).call(this))==null?void 0:i.airPlay)!=null&&o.supported);n.set(r)},B$e=function(){const{canGoogleCast:n,source:r}=this.$state,i=MPe&&!BQ&&Jdt(r());n.set(i)},z$e=function(){var i,o;const{canFullscreen:n}=this.$state,r=T(this,Jb).supported||!!((o=(i=T(this,vo).call(this))==null?void 0:i.fullscreen)!=null&&o.supported);n.set(r)},H$e=function(){var i,o;const{canPictureInPicture:n}=this.$state,r=!!((o=(i=T(this,vo).call(this))==null?void 0:i.pictureInPicture)!=null&&o.supported);n.set(r)},ew=new WeakMap,V$e=async function(n){const r=wt(this.$props.fullscreenOrientation),i=n.detail;if(!(Is(r)||r==="none"||!T(this,Wm).supported))if(i){if(T(this,Wm).locked)return;this.dispatch("media-orientation-lock-request",{detail:r,trigger:n})}else T(this,Wm).locked&&this.dispatch("media-orientation-unlock-request",{trigger:n})},UW=function(n,r){T(this,Vm).handle(this.createEvent("fullscreen-error",{detail:IA(n)}))},WW=function(n,r){T(this,Vm).handle(this.createEvent("picture-in-picture-error",{detail:IA(n)}))},Iht=function(n,r,i){};function jF(e,t){if(!(e&&t))throw Error("[vidstack] media not ready")}function vle(e,t){if(!(t!=null&&t.supported))throw Error("[vidstack] no fullscreen support")}function Rht(e){if(!(!Lht()||!e))throw Error("[vidstack] autoplay blocked")}class Dht{constructor(){Ge(this,"seeking",!1);Ge(this,"looping",!1);Ge(this,"replaying",!1);Ge(this,"queue",new Tht)}}const Oht=new Set(["auto-play","auto-play-fail","can-load","sources-change","source-change","load-start","abort","error","loaded-metadata","loaded-data","can-play","play","play-fail","pause","playing","seeking","seeked","waiting"]);var ql,qr,Di,tw,$_,nw,rw,Km,Iy,ft,U$e,W$e,qv,Bo,K$e,q$e,G$e,RA,KW,qW,Z$e,GW,Y$e,X$e,T_,ZW,DA,Q$e,J$e,eTe,YW,XW,QW,tTe,JW,nTe,M_,rTe,eK;class jht extends Ex{constructor(n,r){super();le(this,ft);le(this,ql);le(this,qr);le(this,Di,new Map);le(this,tw,!1);le(this,$_,[]);le(this,nw,[-1,-1]);le(this,rw,!1);le(this,Km);le(this,Iy,!1);le(this,T_,null);Ge(this,"seeking",a1(n=>{const{seeking:r,realCurrentTime:i,paused:o}=this.$state;r.set(!0),i.set(n.detail),N(this,ft,Bo).call(this,"media-seeking-request",n),o()&&(de(this,Km,n),T(this,M_).call(this)),de(this,nw,[-1,-1])},150,{leading:!0}));le(this,M_,v7(()=>{if(!T(this,Km))return;de(this,rw,!0);const{waiting:n,playing:r}=this.$state;n.set(!0),r.set(!1);const i=this.createEvent("waiting",{trigger:T(this,Km)});T(this,Di).set("waiting",i),this.dispatch(i),de(this,Km,void 0),de(this,rw,!1)},300));de(this,ql,n),de(this,qr,r)}onAttach(n){n.setAttribute("aria-busy","true"),new Xr(this).add("fullscreen-change",this["fullscreen-change"].bind(this)).add("fullscreen-error",this["fullscreen-error"].bind(this)).add("orientation-change",this["orientation-change"].bind(this))}onConnect(n){Xe(N(this,ft,J$e).bind(this)),N(this,ft,K$e).call(this),N(this,ft,q$e).call(this),N(this,ft,G$e).call(this),N(this,ft,U$e).call(this),Jn(N(this,ft,W$e).bind(this))}onDestroy(){const{audioTracks:n,qualities:r,textTracks:i}=T(this,qr);n[yr.reset](),r[yr.reset](),i[yr.reset](),N(this,ft,DA).call(this)}handle(n){if(!this.scope)return;const r=n.type;_C(()=>{var i;return(i=this[n.type])==null?void 0:i.call(this,n)}),Ut||(Oht.has(r)&&T(this,Di).set(r,n),this.dispatch(n))}"provider-change"(n){var o,s;const r=T(this,qr).$provider(),i=n.detail;(r==null?void 0:r.type)!==(i==null?void 0:i.type)&&((o=r==null?void 0:r.destroy)==null||o.call(r),(s=r==null?void 0:r.scope)==null||s.dispose(),T(this,qr).$provider.set(n.detail),r&&n.detail===null&&N(this,ft,YW).call(this,n))}"provider-loader-change"(n){}"auto-play"(n){this.$state.autoPlayError.set(null)}"auto-play-fail"(n){this.$state.autoPlayError.set(n.detail),N(this,ft,qv).call(this)}"can-load"(n){this.$state.canLoad.set(!0),T(this,Di).set("can-load",n),T(this,qr).textTracks[Zn.canLoad](),N(this,ft,Bo).call(this,"media-start-loading",n)}"can-load-poster"(n){this.$state.canLoadPoster.set(!0),T(this,Di).set("can-load-poster",n),N(this,ft,Bo).call(this,"media-poster-start-loading",n)}"media-type-change"(n){const r=T(this,Di).get("source-change");r&&n.triggers.add(r);const i=this.$state.viewType();this.$state.mediaType.set(n.detail);const o=this.$state.providedViewType(),s=o==="unknown"?n.detail:o;i!==s&&(Ut?this.$state.inferredViewType.set(s):setTimeout(()=>{requestAnimationFrame(()=>{this.scope&&(this.$state.inferredViewType.set(n.detail),this.dispatch("view-type-change",{detail:s,trigger:n}))})},0))}"stream-type-change"(n){const r=T(this,Di).get("source-change");r&&n.triggers.add(r);const{streamType:i,inferredStreamType:o}=this.$state;o.set(n.detail),n.detail=i()}"rate-change"(n){var o;const{storage:r}=T(this,qr),{canPlay:i}=this.$state;this.$state.playbackRate.set(n.detail),N(this,ft,Bo).call(this,"media-rate-change-request",n),i()&&((o=r==null?void 0:r.setPlaybackRate)==null||o.call(r,n.detail))}"remote-playback-change"(n){const{remotePlaybackState:r,remotePlaybackType:i}=this.$state,{type:o,state:s}=n.detail,a=s==="connected";i.set(o),r.set(s);const l=o==="airplay"?"media-airplay-request":"media-google-cast-request";if(a)N(this,ft,Bo).call(this,l,n);else{const u=T(this,ql).queue.peek(l);u&&(n.request=u,n.triggers.add(u))}}"sources-change"(n){const r=this.$state.sources(),i=n.detail;this.$state.sources.set(i),N(this,ft,eTe).call(this,r,i,n)}"source-change"(n){var i,o;n.isQualityChange=((i=n.originEvent)==null?void 0:i.type)==="quality-change";const r=n.detail;N(this,ft,YW).call(this,n,n.isQualityChange),T(this,Di).set(n.type,n),this.$state.source.set(r),(o=this.el)==null||o.setAttribute("aria-busy","true")}abort(n){const r=T(this,Di).get("source-change");r&&n.triggers.add(r);const i=T(this,Di).get("can-load");i&&!n.triggers.hasType("can-load")&&n.triggers.add(i)}"load-start"(n){const r=T(this,Di).get("source-change");r&&n.triggers.add(r)}error(n){this.$state.error.set(n.detail);const r=T(this,Di).get("abort");r&&n.triggers.add(r)}"loaded-metadata"(n){const r=T(this,Di).get("load-start");r&&n.triggers.add(r)}"loaded-data"(n){const r=T(this,Di).get("load-start");r&&n.triggers.add(r)}"can-play"(n){var i;const r=T(this,Di).get("loaded-metadata");r&&n.triggers.add(r),N(this,ft,XW).call(this,n.detail),(i=this.el)==null||i.setAttribute("aria-busy","false")}"can-play-through"(n){N(this,ft,XW).call(this,n.detail);const r=T(this,Di).get("can-play");r&&n.triggers.add(r)}"duration-change"(n){const{live:r,intrinsicDuration:i,providedDuration:o,clipEndTime:s,ended:a}=this.$state,l=n.detail;if(!r()){const u=Number.isNaN(l)?0:l;i.set(u),a()&&N(this,ft,JW).call(this,n)}(o()>0||s()>0)&&n.stopImmediatePropagation()}progress(n){const{buffered:r,seekable:i}=this.$state,{buffered:o,seekable:s}=n.detail,a=fb(o),l=o.length!==r().length,u=a!==fb(r()),c=fb(s),f=s.length!==i().length,p=c!==fb(i());(l||u)&&r.set(o),(f||p)&&i.set(s)}play(n){const{paused:r,autoPlayError:i,ended:o,autoPlaying:s,playsInline:a,pointer:l,muted:u,viewType:c,live:f,userBehindLiveEdge:p}=this.$state;if(N(this,ft,QW).call(this),!r()){n.stopImmediatePropagation();return}n.autoPlay=s();const g=T(this,Di).get("waiting");g&&n.triggers.add(g),N(this,ft,Bo).call(this,"media-play-request",n),T(this,Di).set("play",n),r.set(!1),i.set(null),n.autoPlay&&(this.handle(this.createEvent("auto-play",{detail:{muted:u()},trigger:n})),s.set(!1)),(o()||T(this,ql).replaying)&&(T(this,ql).replaying=!1,o.set(!1),this.handle(this.createEvent("replay",{trigger:n}))),!a()&&c()==="video"&&l()==="coarse"&&T(this,qr).remote.enterFullscreen("prefer-media",n),f()&&!p()&&T(this,qr).remote.seekToLiveEdge(n)}"play-fail"(n){const{muted:r,autoPlaying:i}=this.$state,o=T(this,Di).get("play");o&&n.triggers.add(o),N(this,ft,Bo).call(this,"media-play-request",n);const{paused:s,playing:a}=this.$state;s.set(!0),a.set(!1),N(this,ft,qv).call(this),T(this,Di).set("play-fail",n),n.autoPlay&&(this.handle(this.createEvent("auto-play-fail",{detail:{muted:r(),error:n.detail},trigger:n})),i.set(!1))}playing(n){const r=T(this,Di).get("play"),i=T(this,Di).get("seeked");r?n.triggers.add(r):i&&n.triggers.add(i),setTimeout(()=>N(this,ft,qv).call(this),0);const{paused:o,playing:s,live:a,liveSyncPosition:l,seekableEnd:u,started:c,currentTime:f,seeking:p,ended:g}=this.$state;if(o.set(!1),s.set(!0),p.set(!1),g.set(!1),T(this,ql).looping){T(this,ql).looping=!1;return}if(a()&&!c()&&f()===0){const v=l()??u()-2;Number.isFinite(v)&&T(this,qr).$provider().setCurrentTime(v)}this.started(n)}started(n){const{started:r}=this.$state;r()||(r.set(!0),this.handle(this.createEvent("started",{trigger:n})))}pause(n){var s;(s=this.el)!=null&&s.isConnected||de(this,Iy,!0),N(this,ft,Bo).call(this,"media-pause-request",n);const r=T(this,Di).get("seeked");r&&n.triggers.add(r);const{paused:i,playing:o}=this.$state;i.set(!0),o.set(!1),T(this,tw)&&setTimeout(()=>{this.handle(this.createEvent("end",{trigger:n})),de(this,tw,!1)},0),N(this,ft,qv).call(this)}"time-change"(n){if(T(this,ql).looping){n.stopImmediatePropagation();return}let{waiting:r,played:i,clipEndTime:o,realCurrentTime:s,currentTime:a}=this.$state,l=n.detail,u=o();s.set(l),N(this,ft,tTe).call(this),r.set(!1);for(const c of T(this,qr).textTracks)c[Zn.updateActiveCues](l,n);u>0&&l>=u&&(de(this,tw,!0),this.dispatch("media-pause-request",{trigger:n})),N(this,ft,nTe).call(this),this.dispatch("time-update",{detail:{currentTime:a(),played:i()},trigger:n})}"audio-gain-change"(n){var s;const{storage:r}=T(this,qr),{canPlay:i,audioGain:o}=this.$state;o.set(n.detail),N(this,ft,Bo).call(this,"media-audio-gain-change-request",n),i()&&((s=r==null?void 0:r.setAudioGain)==null||s.call(r,o()))}"volume-change"(n){var l,u;const{storage:r}=T(this,qr),{volume:i,muted:o,canPlay:s}=this.$state,a=n.detail;i.set(a.volume),o.set(a.muted||a.volume===0),N(this,ft,Bo).call(this,"media-volume-change-request",n),N(this,ft,Bo).call(this,a.muted?"media-mute-request":"media-unmute-request",n),s()&&((l=r==null?void 0:r.setVolume)==null||l.call(r,i()),(u=r==null?void 0:r.setMuted)==null||u.call(r,o()))}seeked(n){const{seeking:r,currentTime:i,realCurrentTime:o,paused:s,seekableEnd:a,ended:l,live:u}=this.$state;if(T(this,ql).seeking)r.set(!0),n.stopImmediatePropagation();else if(r()){const c=T(this,Di).get("waiting");c&&n.triggers.add(c);const f=T(this,Di).get("seeking");f&&!n.triggers.has(f)&&n.triggers.add(f),s()&&N(this,ft,eK).call(this),r.set(!1),o.set(n.detail),N(this,ft,Bo).call(this,"media-seek-request",n);const p=n==null?void 0:n.originEvent;p!=null&&p.isTrusted&&!(p instanceof MessageEvent)&&!/seek/.test(p.type)&&this.started(n)}u()||(Math.floor(i())!==Math.floor(a())?l.set(!1):this.end(n))}waiting(n){T(this,rw)||T(this,ql).seeking||(n.stopImmediatePropagation(),de(this,Km,n),T(this,M_).call(this))}end(n){const{loop:r,ended:i}=this.$state;if(!(!r()&&i())){if(r()){setTimeout(()=>{requestAnimationFrame(()=>{N(this,ft,QW).call(this,n),this.dispatch("media-loop-request",{trigger:n})})},10);return}setTimeout(()=>N(this,ft,rTe).call(this,n),0)}}"fullscreen-change"(n){const r=n.detail;this.$state.fullscreen.set(r),N(this,ft,Bo).call(this,r?"media-enter-fullscreen-request":"media-exit-fullscreen-request",n)}"fullscreen-error"(n){N(this,ft,Bo).call(this,"media-enter-fullscreen-request",n),N(this,ft,Bo).call(this,"media-exit-fullscreen-request",n)}"orientation-change"(n){const r=n.detail.lock;N(this,ft,Bo).call(this,r?"media-orientation-lock-request":"media-orientation-unlock-request",n)}"picture-in-picture-change"(n){const r=n.detail;this.$state.pictureInPicture.set(r),N(this,ft,Bo).call(this,r?"media-enter-pip-request":"media-exit-pip-request",n)}"picture-in-picture-error"(n){N(this,ft,Bo).call(this,"media-enter-pip-request",n),N(this,ft,Bo).call(this,"media-exit-pip-request",n)}"title-change"(n){n.trigger&&(n.stopImmediatePropagation(),this.$state.inferredTitle.set(n.detail))}"poster-change"(n){n.trigger&&(n.stopImmediatePropagation(),this.$state.inferredPoster.set(n.detail))}}ql=new WeakMap,qr=new WeakMap,Di=new WeakMap,tw=new WeakMap,$_=new WeakMap,nw=new WeakMap,rw=new WeakMap,Km=new WeakMap,Iy=new WeakMap,ft=new WeakSet,U$e=function(){T(this,Iy)&&(requestAnimationFrame(()=>{this.scope&&T(this,qr).remote.play(new Vr("dom-connect"))}),de(this,Iy,!1))},W$e=function(){var n;T(this,Iy)||(de(this,Iy,!this.$state.paused()),(n=T(this,qr).$provider())==null||n.pause())},qv=function(){N(this,ft,eK).call(this),de(this,tw,!1),T(this,ql).replaying=!1,T(this,ql).looping=!1,de(this,rw,!1),de(this,Km,void 0),T(this,Di).clear()},Bo=function(n,r){const i=T(this,ql).queue.serve(n);i&&(r.request=i,r.triggers.add(i))},K$e=function(){N(this,ft,RA).call(this),N(this,ft,KW).call(this);const n=T(this,qr).textTracks;new Xr(n).add("add",N(this,ft,RA).bind(this)).add("remove",N(this,ft,RA).bind(this)).add("mode-change",N(this,ft,KW).bind(this))},q$e=function(){const n=T(this,qr).qualities;new Xr(n).add("add",N(this,ft,GW).bind(this)).add("remove",N(this,ft,GW).bind(this)).add("change",N(this,ft,Y$e).bind(this)).add("auto-change",N(this,ft,X$e).bind(this)).add("readonly-change",N(this,ft,Q$e).bind(this))},G$e=function(){const n=T(this,qr).audioTracks;new Xr(n).add("add",N(this,ft,qW).bind(this)).add("remove",N(this,ft,qW).bind(this)).add("change",N(this,ft,Z$e).bind(this))},RA=function(n){const{textTracks:r}=this.$state;r.set(T(this,qr).textTracks.toArray()),this.dispatch("text-tracks-change",{detail:r(),trigger:n})},KW=function(n){n&&N(this,ft,Bo).call(this,"media-text-track-change-request",n);const r=T(this,qr).textTracks.selected,{textTrack:i}=this.$state;i()!==r&&(i.set(r),this.dispatch("text-track-change",{detail:r,trigger:n}))},qW=function(n){const{audioTracks:r}=this.$state;r.set(T(this,qr).audioTracks.toArray()),this.dispatch("audio-tracks-change",{detail:r(),trigger:n})},Z$e=function(n){const{audioTrack:r}=this.$state;r.set(T(this,qr).audioTracks.selected),n&&N(this,ft,Bo).call(this,"media-audio-track-change-request",n),this.dispatch("audio-track-change",{detail:r(),trigger:n})},GW=function(n){const{qualities:r}=this.$state;r.set(T(this,qr).qualities.toArray()),this.dispatch("qualities-change",{detail:r(),trigger:n})},Y$e=function(n){const{quality:r}=this.$state;r.set(T(this,qr).qualities.selected),n&&N(this,ft,Bo).call(this,"media-quality-change-request",n),this.dispatch("quality-change",{detail:r(),trigger:n})},X$e=function(){const{qualities:n}=T(this,qr),r=n.auto;this.$state.autoQuality.set(r),r||N(this,ft,DA).call(this)},T_=new WeakMap,ZW=function(){N(this,ft,DA).call(this),de(this,T_,Xe(()=>{const{qualities:n}=T(this,qr),{mediaWidth:r,mediaHeight:i}=this.$state,o=r(),s=i();if(o===0||s===0)return;let a=null,l=1/0;for(const u of n){const c=Math.abs(u.width-o)+Math.abs(u.height-s);c<l&&(l=c,a=u)}a&&n[yr.select](a,!0,new Vr("resize",{detail:{width:o,height:s}}))}))},DA=function(){var n;(n=T(this,T_))==null||n.call(this),de(this,T_,null)},Q$e=function(){this.$state.canSetQuality.set(!T(this,qr).qualities.readonly)},J$e=function(){const{canSetVolume:n,isGoogleCastConnected:r}=this.$state;if(r()){n.set(!1);return}Bdt().then(n.set)},eTe=function(n,r,i){let{qualities:o}=T(this,qr),s=!1,a=!1;for(const l of n){if(!cW(l))continue;if(!r.some(c=>c.src===l.src)){const c=o.getBySrc(l.src);c&&(o[yr.remove](c,i),a=!0)}}a&&!o.length&&(this.$state.savedState.set(null),o[yr.reset](i));for(const l of r){if(!cW(l)||o.getBySrc(l.src))continue;const u={id:l.id??l.height+"p",bitrate:null,codec:null,...l,selected:!1};o[yr.add](u,i),s=!0}s&&!o[Oc.enableAuto]&&(N(this,ft,ZW).call(this),o[Oc.enableAuto]=N(this,ft,ZW).bind(this),o[Oc.setAuto](!0,i))},YW=function(n,r=!1){const{audioTracks:i,qualities:o}=T(this,qr);if(!r){de(this,$_,[]),de(this,nw,[-1,-1]),i[yr.reset](n),o[yr.reset](n),ule(this.$state,r),N(this,ft,qv).call(this);return}ule(this.$state,r),N(this,ft,qv).call(this)},XW=function(n){const{seekable:r,buffered:i,intrinsicDuration:o,canPlay:s}=this.$state;s.set(!0),i.set(n.buffered),r.set(n.seekable);const a=fb(n.seekable)??1/0;o.set(a)},QW=function(n){if(!wt(T(this,qr).$provider))return;const{ended:i,seekableStart:o,clipEndTime:s,currentTime:a,realCurrentTime:l,duration:u}=this.$state,c=i()||l()<o()||s()>0&&l()>=s()||Math.abs(a()-u())<.1;return c&&this.dispatch("media-seek-request",{detail:o(),trigger:n}),c},tTe=function(){const{currentTime:n,played:r,paused:i}=this.$state;i()||(de(this,nw,Udt(T(this,$_),T(this,nw),n())),r.set(new PA(T(this,$_))))},JW=function(n){const{clipStartTime:r,clipEndTime:i,duration:o}=this.$state;r()>0||i()>0||this.handle(this.createEvent("time-change",{detail:o(),trigger:n}))},nTe=function(){var o;const{storage:n}=T(this,qr),{canPlay:r,realCurrentTime:i}=this.$state;r()&&((o=n==null?void 0:n.setTime)==null||o.call(n,i()))},M_=new WeakMap,rTe=function(n){var l;const{storage:r}=T(this,qr),{paused:i,seeking:o,ended:s,duration:a}=this.$state;N(this,ft,JW).call(this,n),i()||this.dispatch("pause",{trigger:n}),o()&&this.dispatch("seeked",{detail:a(),trigger:n}),s.set(!0),N(this,ft,qv).call(this),(l=r==null?void 0:r.setTime)==null||l.call(r,a(),!0),this.dispatch("ended",{trigger:n})},eK=function(){T(this,M_).cancel(),this.$state.waiting.set(!1)};var Wr,iTe,oTe,Fht,sTe,aTe,lTe,uTe,cTe,dTe,fTe,hTe,pTe,mTe,gTe,vTe,yTe,bTe;class Nht extends Ex{constructor(){super(...arguments);le(this,Wr)}onSetup(){if(N(this,Wr,iTe).call(this),Ut)return;const n=[N(this,Wr,sTe),N(this,Wr,lTe),N(this,Wr,mTe),N(this,Wr,gTe),N(this,Wr,cTe),N(this,Wr,fTe),N(this,Wr,hTe),N(this,Wr,vTe),N(this,Wr,bTe),N(this,Wr,yTe),N(this,Wr,uTe),N(this,Wr,pTe),N(this,Wr,dTe),N(this,Wr,oTe),N(this,Wr,aTe)];for(const r of n)Xe(r.bind(this))}}Wr=new WeakSet,iTe=function(){var i;const n={duration:"providedDuration",loop:"providedLoop",poster:"providedPoster",streamType:"providedStreamType",title:"providedTitle",viewType:"providedViewType"},r=new Set(["currentTime","paused","playbackRate","volume"]);for(const o of Object.keys(this.$props))r.has(o)||(i=this.$state[n[o]??o])==null||i.set(this.$props[o]());this.$state.muted.set(this.$props.muted()||this.$props.volume()===0)},oTe=function(){const{viewType:n,streamType:r,title:i,poster:o,loop:s}=this.$props,a=this.$state;a.providedPoster.set(o()),a.providedStreamType.set(r()),a.providedViewType.set(n()),a.providedTitle.set(i()),a.providedLoop.set(s())},Fht=function(){},sTe=function(){const{artist:n,artwork:r}=this.$props;this.$state.artist.set(n()),this.$state.artwork.set(r())},aTe=function(){const{title:n}=this.$state;this.dispatch("title-change",{detail:n()})},lTe=function(){const n=this.$props.autoPlay()||this.$props.autoplay();this.$state.autoPlay.set(n),this.dispatch("auto-play-change",{detail:n})},uTe=function(){const n=this.$state.loop();this.dispatch("loop-change",{detail:n})},cTe=function(){const n=this.$props.controls();this.$state.controls.set(n)},dTe=function(){const{poster:n}=this.$state;this.dispatch("poster-change",{detail:n()})},fTe=function(){const n=this.$props.crossOrigin()??this.$props.crossorigin(),r=n===!0?"":n;this.$state.crossOrigin.set(r)},hTe=function(){const{duration:n}=this.$props;this.dispatch("media-duration-change-request",{detail:n()})},pTe=function(){const n=this.$props.playsInline()||this.$props.playsinline();this.$state.playsInline.set(n),this.dispatch("plays-inline-change",{detail:n})},mTe=function(){const{clipStartTime:n}=this.$props;this.dispatch("media-clip-start-change-request",{detail:n()})},gTe=function(){const{clipEndTime:n}=this.$props;this.dispatch("media-clip-end-change-request",{detail:n()})},vTe=function(){this.dispatch("live-change",{detail:this.$state.live()})},yTe=function(){this.$state.liveEdgeTolerance.set(this.$props.liveEdgeTolerance()),this.$state.minLiveDVRWindow.set(this.$props.minLiveDVRWindow())},bTe=function(){this.dispatch("live-edge-change",{detail:this.$state.liveEdge()})};const yle=["play","pause","seekforward","seekbackward","seekto"];var Vp,wTe,xTe,STe,_Te;class Bht extends Ex{constructor(){super(...arguments);le(this,Vp)}onConnect(){Xe(N(this,Vp,xTe).bind(this)),Xe(N(this,Vp,STe).bind(this));const n=N(this,Vp,_Te).bind(this);for(const r of yle)navigator.mediaSession.setActionHandler(r,n);Jn(N(this,Vp,wTe).bind(this))}}Vp=new WeakSet,wTe=function(){for(const n of yle)navigator.mediaSession.setActionHandler(n,null)},xTe=function(){const{title:n,artist:r,artwork:i,poster:o}=this.$state;navigator.mediaSession.metadata=new MediaMetadata({title:n(),artist:r(),artwork:i()??[{src:o()}]})},STe=function(){const{canPlay:n,paused:r}=this.$state;navigator.mediaSession.playbackState=n()?r()?"paused":"playing":"none"},_Te=function(n){const r=new Vr("media-session-action",{detail:n});switch(n.action){case"play":this.dispatch("media-play-request",{trigger:r});break;case"pause":this.dispatch("media-pause-request",{trigger:r});break;case"seekto":case"seekforward":case"seekbackward":this.dispatch("media-seek-request",{detail:Zu(n.seekTime)?n.seekTime:this.$state.currentTime()+(n.seekOffset??(n.action==="seekforward"?10:-10)),trigger:r});break}};let hD=_n(!1);Ut||(no(document,"pointerdown",()=>{hD.set(!1)}),no(document,"keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||hD.set(!0)}));var Ry,Up,CTe,ETe,kTe,PTe;class Sh extends dd{constructor(){super(...arguments);le(this,Up);le(this,Ry,_n(!1))}onConnect(n){Xe(()=>{const r=new Xr(n);if(!hD()){T(this,Ry).set(!1),CM(n,!1),r.add("pointerenter",N(this,Up,kTe).bind(this)).add("pointerleave",N(this,Up,PTe).bind(this));return}const i=document.activeElement===n;T(this,Ry).set(i),CM(n,i),r.add("focus",N(this,Up,CTe).bind(this)).add("blur",N(this,Up,ETe).bind(this))})}focused(){return T(this,Ry).call(this)}}Ry=new WeakMap,Up=new WeakSet,CTe=function(){T(this,Ry).set(!0),CM(this.el,!0)},ETe=function(){T(this,Ry).set(!1),CM(this.el,!1)},kTe=function(){ble(this.el,!0)},PTe=function(){ble(this.el,!1)};function CM(e,t){On(e,"data-focus",t),On(e,"data-hocus",t)}function ble(e,t){On(e,"data-hocus",t),On(e,"data-hover",t)}var mp,Ba,iw,za,Lt,Cc,OA,L_,tK,nK,TTe,MTe,LTe,Sk,rK,ATe,iK,ITe,oK,RTe,sK,DTe,aK,OTe,lK,jTe,NTe,FTe,BTe;let $Te=(mp=class extends dr{constructor(){super();le(this,Lt);le(this,Ba);le(this,iw);le(this,za);Ge(this,"canPlayQueue",new I$e);Ge(this,"remoteControl");le(this,L_,!1);Ge(this,"orientation");new Nht;const n={player:this,qualities:new Dft,audioTracks:new kft,storage:null,$provider:_n(null),$providerSetup:_n(!1),$props:this.$props,$state:this.$state};n.remote=this.remoteControl=new pft(void 0),n.remote.setPlayer(this),n.textTracks=new Aft,n.textTracks[Zn.crossOrigin]=this.$state.crossOrigin,n.textRenderers=new Lft(n),n.ariaKeys={},de(this,Ba,n),Xc(GT,n),this.orientation=new uD,new Sh,new Hft(n);const r=new Dht;de(this,iw,new jht(r,n)),de(this,za,new Aht(T(this,iw),r,n)),n.delegate=new $ht(T(this,iw).handle.bind(T(this,iw)),n),n.notify=n.delegate.notify.bind(n.delegate),typeof navigator<"u"&&"mediaSession"in navigator&&new Bht,new gle("load",this.startLoading.bind(this)),new gle("posterLoad",this.startLoadingPoster.bind(this))}onSetup(){N(this,Lt,MTe).call(this),Xe(N(this,Lt,TTe).bind(this)),Xe(N(this,Lt,ITe).bind(this)),Xe(N(this,Lt,ATe).bind(this)),Xe(N(this,Lt,DTe).bind(this)),Xe(N(this,Lt,RTe).bind(this)),Xe(N(this,Lt,jTe).bind(this)),Xe(N(this,Lt,OTe).bind(this))}onAttach(n){n.setAttribute("data-media-player",""),yi(n,"tabindex","0"),yi(n,"role","region"),Xe(N(this,Lt,FTe).bind(this)),Ut?N(this,Lt,tK).call(this):Xe(N(this,Lt,tK).bind(this)),Ut?N(this,Lt,nK).call(this):Xe(N(this,Lt,nK).bind(this)),no(n,"find-media-player",N(this,Lt,LTe).bind(this))}onConnect(n){TPe&&On(n,"data-iphone","");const r=window.matchMedia("(pointer: coarse)");N(this,Lt,rK).call(this,r),r.onchange=N(this,Lt,rK).bind(this);const i=new ResizeObserver(s1(N(this,Lt,Sk).bind(this)));i.observe(n),Xe(N(this,Lt,Sk).bind(this)),this.dispatch("media-player-connect",{detail:this,bubbles:!0,composed:!0}),Jn(()=>{i.disconnect(),r.onchange=null})}onDestroy(){T(this,Ba).player=null,this.canPlayQueue.reset()}get provider(){return T(this,Lt,Cc)}get controls(){return T(this,za).controls}set controls(n){T(this,Lt,OA).controls.set(n)}get title(){return wt(this.$state.title)}set title(n){if(T(this,L_)){de(this,L_,!1);return}T(this,Lt,OA).title.set(n)}get qualities(){return T(this,Ba).qualities}get audioTracks(){return T(this,Ba).audioTracks}get textTracks(){return T(this,Ba).textTracks}get textRenderers(){return T(this,Ba).textRenderers}get duration(){return this.$state.duration()}set duration(n){T(this,Lt,OA).duration.set(n)}get paused(){return wt(this.$state.paused)}set paused(n){N(this,Lt,iK).call(this,n)}get muted(){return wt(this.$state.muted)}set muted(n){N(this,Lt,oK).call(this,n)}get currentTime(){return wt(this.$state.currentTime)}set currentTime(n){N(this,Lt,sK).call(this,n)}get volume(){return wt(this.$state.volume)}set volume(n){N(this,Lt,aK).call(this,n)}get playbackRate(){return wt(this.$state.playbackRate)}set playbackRate(n){N(this,Lt,lK).call(this,n)}async play(n){return T(this,za).play(n)}async pause(n){return T(this,za).pause(n)}async enterFullscreen(n,r){return T(this,za).enterFullscreen(n,r)}async exitFullscreen(n,r){return T(this,za).exitFullscreen(n,r)}enterPictureInPicture(n){return T(this,za).enterPictureInPicture(n)}exitPictureInPicture(n){return T(this,za).exitPictureInPicture(n)}seekToLiveEdge(n){T(this,za).seekToLiveEdge(n)}startLoading(n){T(this,Ba).notify("can-load",void 0,n)}startLoadingPoster(n){T(this,Ba).notify("can-load-poster",void 0,n)}requestAirPlay(n){return T(this,za).requestAirPlay(n)}requestGoogleCast(n){return T(this,za).requestGoogleCast(n)}setAudioGain(n,r){return T(this,za).setAudioGain(n,r)}destroy(){super.destroy(),T(this,Ba).remote.setPlayer(null),this.dispatch("destroy")}},Ba=new WeakMap,iw=new WeakMap,za=new WeakMap,Lt=new WeakSet,Cc=function(){return T(this,Ba).$provider()},OA=function(){return this.$props},L_=new WeakMap,tK=function(){const n=this.$el,{title:r,live:i,viewType:o,providedTitle:s}=this.$state,a=i(),l=f3(o()),u=l!=="Unknown"?`${a?"Live ":""}${l}`:a?"Live":"Media",c=r();On(this.el,"aria-label",`${u} Player`+(c?` - ${c}`:"")),!Ut&&(n!=null&&n.hasAttribute("title"))&&(de(this,L_,!0),n==null||n.removeAttribute("title"))},nK=function(){const n=this.orientation.landscape?"landscape":"portrait";this.$state.orientation.set(n),On(this.el,"data-orientation",n),N(this,Lt,Sk).call(this)},TTe=function(){this.$state.canPlay()&&T(this,Lt,Cc)?this.canPlayQueue.start():this.canPlayQueue.stop()},MTe=function(){if(mp[OF]){this.setAttributes(mp[OF]);return}const n={"data-load":function(){return this.$props.load()},"data-captions":function(){const i=this.$state.textTrack();return!!i&&ru(i)},"data-ios-controls":function(){return this.$state.iOSControls()},"data-controls":function(){return this.controls.showing},"data-buffering":function(){const{canLoad:i,canPlay:o,waiting:s}=this.$state;return i()&&(!o()||s())},"data-error":function(){const{error:i}=this.$state;return!!i()},"data-autoplay-error":function(){const{autoPlayError:i}=this.$state;return!!i()}},r={autoPlay:"autoplay",canAirPlay:"can-airplay",canPictureInPicture:"can-pip",pictureInPicture:"pip",playsInline:"playsinline",remotePlaybackState:"remote-state",remotePlaybackType:"remote-type",isAirPlayConnected:"airplay",isGoogleCastConnected:"google-cast"};for(const i of kht){const o="data-"+(r[i]??Vg(i));n[o]=function(){return this.$state[i]()}}delete n.title,mp[OF]=n,this.setAttributes(n)},LTe=function(n){n.detail(this)},Sk=function(){if(Ut||!this.el)return;const n=this.el.clientWidth,r=this.el.clientHeight;this.$state.width.set(n),this.$state.height.set(r),lu(this.el,"--player-width",n+"px"),lu(this.el,"--player-height",r+"px")},rK=function(n){if(Ut)return;const r=n.matches?"coarse":"fine";On(this.el,"data-pointer",r),this.$state.pointer.set(r),N(this,Lt,Sk).call(this)},ATe=function(){N(this,Lt,iK).call(this,this.$props.paused())},iK=function(n){n?this.canPlayQueue.enqueue("paused",()=>T(this,za).pause()):this.canPlayQueue.enqueue("paused",()=>T(this,za).play())},ITe=function(){N(this,Lt,oK).call(this,this.$props.muted())},oK=function(n){this.canPlayQueue.enqueue("muted",()=>{T(this,Lt,Cc)&&T(this,Lt,Cc).setMuted(n)})},RTe=function(){N(this,Lt,sK).call(this,this.$props.currentTime())},sK=function(n){this.canPlayQueue.enqueue("currentTime",()=>{const{currentTime:r}=this.$state;n!==wt(r)&&wt(()=>{if(!T(this,Lt,Cc))return;const i=BPe(n,this.$state);Number.isFinite(i)&&T(this,Lt,Cc).setCurrentTime(i)})})},DTe=function(){N(this,Lt,aK).call(this,this.$props.volume())},aK=function(n){const r=KQ(0,n,1);this.canPlayQueue.enqueue("volume",()=>{T(this,Lt,Cc)&&T(this,Lt,Cc).setVolume(r)})},OTe=function(){N(this,Lt,lK).call(this,this.$props.playbackRate())},lK=function(n){this.canPlayQueue.enqueue("rate",()=>{var r,i;T(this,Lt,Cc)&&((i=(r=T(this,Lt,Cc)).setPlaybackRate)==null||i.call(r,n))})},jTe=function(){N(this,Lt,NTe).call(this,this.$props.playsInline())},NTe=function(n){this.canPlayQueue.enqueue("playsinline",()=>{var r,i;T(this,Lt,Cc)&&((i=(r=T(this,Lt,Cc)).setPlaysInline)==null||i.call(r,n))})},FTe=function(){var i;let n=this.$props.storage(),r=mn(n)?new gft:n;if(r!=null&&r.onChange){const{source:o}=this.$state,s=mn(n)?n:(i=this.el)==null?void 0:i.id,a=zg(N(this,Lt,BTe).bind(this));Xe(()=>r.onChange(o(),a(),s||void 0))}T(this,Ba).storage=r,T(this,Ba).textTracks.setStorage(r),Jn(()=>{var o;(o=r==null?void 0:r.onDestroy)==null||o.call(r),T(this,Ba).storage=null,T(this,Ba).textTracks.setStorage(null)})},BTe=function(){const{clipStartTime:n,clipEndTime:r}=this.$props,{source:i}=this.$state,o=i();return o.src?`${o.src}:${n()}:${r()}`:null},Ge(mp,"props",Pht),Ge(mp,"state",qT),mp);const Fi=$Te.prototype;xi(Fi,"canPlayQueue");xi(Fi,"remoteControl");xi(Fi,"provider");xi(Fi,"controls");xi(Fi,"orientation");xi(Fi,"title");xi(Fi,"qualities");xi(Fi,"audioTracks");xi(Fi,"textTracks");xi(Fi,"textRenderers");xi(Fi,"duration");xi(Fi,"paused");xi(Fi,"muted");xi(Fi,"currentTime");xi(Fi,"volume");xi(Fi,"playbackRate");na(Fi,"play");na(Fi,"pause");na(Fi,"enterFullscreen");na(Fi,"exitFullscreen");na(Fi,"enterPictureInPicture");na(Fi,"exitPictureInPicture");na(Fi,"seekToLiveEdge");na(Fi,"startLoading");na(Fi,"startLoadingPoster");na(Fi,"requestAirPlay");na(Fi,"requestGoogleCast");na(Fi,"setAudioGain");function zht(e,t){return fetch(e,t).then(n=>n.text()).then(n=>/type="static"/.test(n)?"on-demand":"live")}function zTe(e,t){return fetch(e,t).then(n=>n.text()).then(n=>{const r=Hht(n);if(r)return zTe(/^https?:/.test(r)?r:new URL(r,e).href,t);const i=/EXT-X-PLAYLIST-TYPE:\s*VOD/.test(n)?"on-demand":"live";return i==="live"&&Vht(n)>=10&&(/#EXT-X-DVR-ENABLED:\s*true/.test(n)||n.includes("#EXT-X-DISCONTINUITY"))?"live:dvr":i})}function Hht(e){const t=e.match(/#EXT-X-STREAM-INF:[^\n]+(\n[^\n]+)*/g);return t?t[0].split(`
`)[1].trim():null}function Vht(e){const t=e.split(`
`);for(const n of t)if(n.startsWith("#EXT-X-TARGETDURATION")){const r=parseFloat(n.split(":")[1]);if(!isNaN(r))return r}return-1}const uK=new Map;var A_,I_,z$,Gr,qm,bs,HTe,VTe,cK,dK,fK,UTe,WTe,KTe;class Uht{constructor(t,n,r,i=[]){le(this,bs);le(this,A_,!1);le(this,I_);le(this,z$);le(this,Gr);le(this,qm);de(this,z$,t),de(this,Gr,n),de(this,qm,r);const o=new NW,s=new TW,a=new GQ,l=new Zft,u=new Eht,c=new Cht,f=[u,c];de(this,I_,zg(()=>{const g=n.$state.remotePlaybackLoader(),v=n.$props.preferNativeHLS()?[a,l,o,s,...f,...i]:[s,a,l,o,...f,...i];return g?[g,...v]:v}));const{$state:p}=n;p.sources.set(wle(n.$props.src()));for(const g of p.sources()){const v=T(this,I_).call(this).find(S=>S.canPlay(g));if(!v)continue;const y=v.mediaType(g);n.$state.source.set(g),n.$state.mediaType.set(y),n.$state.inferredViewType.set(y),T(this,qm).set(v),de(this,A_,!0);break}}connect(){const t=T(this,qm).call(this);T(this,A_)&&(N(this,bs,dK).call(this,T(this,Gr).$state.source(),t),N(this,bs,fK).call(this,t),de(this,A_,!1)),Xe(N(this,bs,HTe).bind(this)),Xe(N(this,bs,VTe).bind(this)),Xe(N(this,bs,UTe).bind(this)),Xe(N(this,bs,WTe).bind(this)),Xe(N(this,bs,KTe).bind(this))}}A_=new WeakMap,I_=new WeakMap,z$=new WeakMap,Gr=new WeakMap,qm=new WeakMap,bs=new WeakSet,HTe=function(){T(this,Gr).notify("sources-change",[...wle(T(this,Gr).$props.src()),...T(this,z$).call(this)])},VTe=function(){var s;const{$state:t}=T(this,Gr),n=t.sources(),r=wt(t.source),i=N(this,bs,cK).call(this,r,n);if(((s=n[0])==null?void 0:s.src)&&!i.src&&!i.type){const{crossOrigin:a}=t,l=vP(a()),u=new AbortController;return Promise.all(n.map(c=>mn(c.src)&&c.type==="?"?fetch(c.src,{method:"HEAD",credentials:l,signal:u.signal}).then(f=>(c.type=f.headers.get("content-type")||"??",uK.set(c.src,c.type),c)).catch(()=>c):c)).then(c=>{if(u.signal.aborted)return;const f=N(this,bs,cK).call(this,wt(t.source),c);sh(),f.src||T(this,Gr).notify("error",{message:"Failed to load resource.",code:4})}),()=>u.abort()}sh()},cK=function(t,n){let r={src:"",type:""},i=null,o=new Vr("sources-change",{detail:{sources:n}}),s=T(this,I_).call(this),{started:a,paused:l,currentTime:u,quality:c,savedState:f}=T(this,Gr).$state;for(const p of n){const g=s.find(v=>v.canPlay(p));if(g){r=p,i=g;break}}if(cW(r)){const p=c(),g=n.find(v=>v.src===(p==null?void 0:p.src));wt(a)?f.set({paused:wt(l),currentTime:wt(u)}):f.set(null),g&&(r=g,o=new Vr("quality-change",{detail:{quality:p}}))}return Sle(t,r)||N(this,bs,dK).call(this,r,i,o),i!==wt(T(this,qm))&&N(this,bs,fK).call(this,i,o),r},dK=function(t,n,r){T(this,Gr).notify("source-change",t,r),T(this,Gr).notify("media-type-change",(n==null?void 0:n.mediaType(t))||"unknown",r)},fK=function(t,n){T(this,Gr).$providerSetup.set(!1),T(this,Gr).notify("provider-change",null,n),t&&wt(()=>{var r;return(r=t.preconnect)==null?void 0:r.call(t,T(this,Gr))}),T(this,qm).set(t),T(this,Gr).notify("provider-loader-change",t,n)},UTe=function(){const t=T(this,Gr).$provider();if(!(!t||wt(T(this,Gr).$providerSetup))){if(T(this,Gr).$state.canLoad()){Ts(()=>t.setup(),t.scope),T(this,Gr).$providerSetup.set(!0);return}wt(()=>{var n;return(n=t.preconnect)==null?void 0:n.call(t)})}},WTe=function(){if(!T(this,Gr).$providerSetup())return;const t=T(this,Gr).$provider(),n=T(this,Gr).$state.source(),r=wt(T(this,Gr).$state.crossOrigin),i=wt(T(this,Gr).$props.preferNativeHLS);if(!Sle(t==null?void 0:t.currentSrc,n)){if(T(this,Gr).$state.canLoad()){const o=new AbortController;return m3(n)?(i||!zQ())&&zTe(n.src,{credentials:vP(r),signal:o.signal}).then(s=>{T(this,Gr).notify("stream-type-change",s)}).catch(qc):UQ(n)?zht(n.src,{credentials:vP(r),signal:o.signal}).then(s=>{T(this,Gr).notify("stream-type-change",s)}).catch(qc):T(this,Gr).notify("stream-type-change","on-demand"),wt(()=>{const s=wt(T(this,Gr).$state.preload);return t==null?void 0:t.loadSource(n,s).catch(a=>{})}),()=>o.abort()}try{mn(n.src)&&g3(new URL(n.src).origin)}catch{}}},KTe=function(){const t=T(this,qm).call(this),{providedPoster:n,source:r,canLoadPoster:i}=T(this,Gr).$state;if(!t||!t.loadPoster||!r()||!i()||n())return;const o=new AbortController,s=new Vr("source-change",{detail:r});return t.loadPoster(r(),T(this,Gr),o).then(a=>{T(this,Gr).notify("poster-change",a||"",s)}).catch(()=>{T(this,Gr).notify("poster-change","",s)}),()=>{o.abort()}};function wle(e){return(Io(e)?e:[e]).map(t=>mn(t)?{src:t,type:xle(t)}:{...t,type:xle(t.src,t.type)})}function xle(e,t){return mn(t)&&t.length?t:mn(e)&&uK.has(e)?uK.get(e):!t&&m3({src:e,type:""})?"application/x-mpegurl":!t&&UQ({src:e,type:""})?"application/dash+xml":!mn(e)||e.startsWith("blob:")?"video/object":e.includes("youtube")||e.includes("youtu.be")?"video/youtube":e.includes("vimeo")&&!e.includes("progressive_redirect")&&!e.includes(".m3u8")?"video/vimeo":"?"}function Sle(e,t){return(e==null?void 0:e.src)===(t==null?void 0:t.src)&&(e==null?void 0:e.type)===(t==null?void 0:t.type)}var H$,Dy,V$,M9,qTe;class Wht{constructor(t,n){le(this,M9);le(this,H$);le(this,Dy);le(this,V$,[]);de(this,H$,t),de(this,Dy,n),Xe(N(this,M9,qTe).bind(this))}}H$=new WeakMap,Dy=new WeakMap,V$=new WeakMap,M9=new WeakSet,qTe=function(){const t=T(this,H$).call(this);for(const n of T(this,V$))if(!t.some(r=>r.id===n.id)){const r=n.id&&T(this,Dy).textTracks.getById(n.id);r&&T(this,Dy).textTracks.remove(r)}for(const n of t){const r=n.id||rx.createId(n);T(this,Dy).textTracks.getById(r)||(n.id=r,T(this,Dy).textTracks.add(n))}de(this,V$,t)};var zL,Hf,U$,W$,K$,R_,D_,sd,ZTe,hK,pK,mK;let GTe=(zL=class extends dr{constructor(){super(...arguments);le(this,sd);le(this,Hf);le(this,U$);le(this,W$,_n([]));le(this,K$,_n([]));le(this,R_,null);le(this,D_,-1)}onSetup(){de(this,Hf,Pi()),de(this,U$,new Uht(T(this,W$),T(this,Hf),this.$state.loader,this.$props.loaders()))}onAttach(n){n.setAttribute("data-media-provider","")}onConnect(n){T(this,U$).connect(),new Wht(T(this,K$),T(this,Hf));const r=new ResizeObserver(s1(N(this,sd,pK).bind(this)));r.observe(n);const i=new MutationObserver(N(this,sd,mK).bind(this));i.observe(n,{attributes:!0,childList:!0}),N(this,sd,pK).call(this),N(this,sd,mK).call(this),Jn(()=>{r.disconnect(),i.disconnect()})}load(n){n==null||n.setAttribute("aria-hidden","true"),window.cancelAnimationFrame(T(this,D_)),de(this,D_,requestAnimationFrame(()=>N(this,sd,ZTe).call(this,n))),Jn(()=>{window.cancelAnimationFrame(T(this,D_))})}onDestroy(){de(this,R_,null),N(this,sd,hK).call(this)}},Hf=new WeakMap,U$=new WeakMap,W$=new WeakMap,K$=new WeakMap,R_=new WeakMap,D_=new WeakMap,sd=new WeakSet,ZTe=function(n){if(!this.scope)return;const r=this.$state.loader(),{$provider:i}=T(this,Hf);T(this,R_)===r&&(r==null?void 0:r.target)===n&&wt(i)||(N(this,sd,hK).call(this),de(this,R_,r),r&&(r.target=n||null),!(!r||!n)&&r.load(T(this,Hf)).then(o=>{this.scope&&wt(this.$state.loader)===r&&T(this,Hf).notify("provider-change",o)}))},hK=function(){var n;(n=T(this,Hf))==null||n.notify("provider-change",null)},pK=function(){if(!this.el)return;const{player:n,$state:r}=T(this,Hf),i=this.el.offsetWidth,o=this.el.offsetHeight;n&&(r.mediaWidth.set(i),r.mediaHeight.set(o),n.el&&(lu(n.el,"--media-width",i+"px"),lu(n.el,"--media-height",o+"px")))},mK=function(){const n=[],r=[],i=this.el.children;for(const o of i)if(!o.hasAttribute("data-vds")){if(o instanceof HTMLSourceElement){const s={id:o.id,src:o.src,type:o.type};for(const a of["id","src","width","height","bitrate","codec"]){const l=o.getAttribute(`data-${a}`);mn(l)&&(s[a]=/id|src|codec/.test(a)?l:Number(l))}n.push(s)}else if(o instanceof HTMLTrackElement){const s={src:o.src,kind:o.track.kind,language:o.srclang,label:o.label,default:o.default,type:o.getAttribute("data-type")};r.push({id:o.id||rx.createId(s),...s})}}T(this,W$).set(n),T(this,K$).set(r),sh()},Ge(zL,"props",{loaders:[]}),Ge(zL,"state",new cv({loader:null})),zL);const Kht=GTe.prototype;na(Kht,"load");var HL,np,O_,Ui,YTe,XTe,QTe,JTe,e5e,Oy,j_,t5e,jA,n5e,Y1;let qht=(HL=class extends dr{constructor(){super(...arguments);le(this,Ui);le(this,np);le(this,O_,!1);le(this,Oy,-1);le(this,j_,-1)}onSetup(){de(this,np,Pi())}onAttach(n){n.style.display="contents"}onConnect(n){n.setAttribute("data-media-announcer",""),yi(n,"role","status"),yi(n,"aria-live","polite");const{busy:r}=this.$state;this.setAttributes({"aria-busy":()=>r()?"true":null}),de(this,O_,!0),Xe(N(this,Ui,YTe).bind(this)),Xe(N(this,Ui,e5e).bind(this)),Xe(N(this,Ui,JTe).bind(this)),Xe(N(this,Ui,XTe).bind(this)),Xe(N(this,Ui,QTe).bind(this)),Xe(N(this,Ui,t5e).bind(this)),Xe(N(this,Ui,n5e).bind(this)),sh(),de(this,O_,!1)}},np=new WeakMap,O_=new WeakMap,Ui=new WeakSet,YTe=function(){const{paused:n}=T(this,np).$state;N(this,Ui,Y1).call(this,n()?"Pause":"Play")},XTe=function(){const{fullscreen:n}=T(this,np).$state;N(this,Ui,Y1).call(this,n()?"Enter Fullscreen":"Exit Fullscreen")},QTe=function(){const{pictureInPicture:n}=T(this,np).$state;N(this,Ui,Y1).call(this,n()?"Enter PiP":"Exit PiP")},JTe=function(){const{textTrack:n}=T(this,np).$state;N(this,Ui,Y1).call(this,n()?"Closed-Captions On":"Closed-Captions Off")},e5e=function(){const{muted:n,volume:r,audioGain:i}=T(this,np).$state;N(this,Ui,Y1).call(this,n()||r()===0?"Mute":`${Math.round(r()*(i()??1)*100)}% ${N(this,Ui,jA).call(this,"Volume")}`)},Oy=new WeakMap,j_=new WeakMap,t5e=function(){const{seeking:n,currentTime:r}=T(this,np).$state,i=n();T(this,Oy)>0?(window.clearTimeout(T(this,j_)),de(this,j_,window.setTimeout(()=>{if(!this.scope)return;const o=wt(r),s=Math.abs(o-T(this,Oy));if(s>=1){const a=o>=T(this,Oy),l=fD(s);N(this,Ui,Y1).call(this,`${N(this,Ui,jA).call(this,a?"Seek Forward":"Seek Backward")} ${l}`)}de(this,Oy,-1),de(this,j_,-1)},300))):i&&de(this,Oy,wt(r))},jA=function(n){var i;const{translations:r}=this.$props;return((i=r==null?void 0:r())==null?void 0:i[n||""])??n},n5e=function(){const{label:n,busy:r}=this.$state,i=N(this,Ui,jA).call(this,n());if(T(this,O_))return;r.set(!0);const o=window.setTimeout(()=>void r.set(!1),150);return this.el&&On(this.el,"aria-label",i),mn(i)&&this.dispatch("change",{detail:i}),()=>window.clearTimeout(o)},Y1=function(n){const{label:r}=this.$state;r.set(n)},Ge(HL,"props",{translations:null}),Ge(HL,"state",new cv({label:null,busy:!1})),HL);var Gm,Yg,i5e,o5e,gK;class r5e extends dr{constructor(){super(...arguments);le(this,Yg);le(this,Gm)}onSetup(){de(this,Gm,Pi()),Xe(N(this,Yg,o5e).bind(this))}onAttach(n){const{pictureInPicture:r,fullscreen:i}=T(this,Gm).$state;lu(n,"pointer-events","none"),yi(n,"role","group"),this.setAttributes({"data-visible":N(this,Yg,gK).bind(this),"data-fullscreen":i,"data-pip":r}),Xe(()=>{this.dispatch("change",{detail:N(this,Yg,gK).call(this)})}),Xe(N(this,Yg,i5e).bind(this)),Xe(()=>{const o=i();for(const s of["top","right","bottom","left"])lu(n,`padding-${s}`,o&&`env(safe-area-inset-${s})`)})}}Gm=new WeakMap,Yg=new WeakSet,i5e=function(){if(!this.el)return;const{nativeControls:n}=T(this,Gm).$state,r=n();On(this.el,"aria-hidden",r?"true":null),lu(this.el,"display",r?"none":null)},o5e=function(){const{controls:n}=T(this,Gm).player,{hideDelay:r,hideOnMouseLeave:i}=this.$props;n.defaultDelay=r()===2e3?T(this,Gm).$props.controlsDelay():r(),n.hideOnMouseLeave=i()},gK=function(){const{controlsVisible:n}=T(this,Gm).$state;return n()},Ge(r5e,"props",{hideDelay:2e3,hideOnMouseLeave:!1});class Ght extends dr{onAttach(t){t.style.pointerEvents||lu(t,"pointer-events","auto")}}var Vf,$0,a5e,ow,sw,rp,NA;class s5e extends dd{constructor(n){super();le(this,$0);le(this,Vf);le(this,ow,-1);le(this,sw,-1);le(this,rp,null);de(this,Vf,n),Xe(N(this,$0,a5e).bind(this))}onDestroy(){var n;(n=T(this,rp))==null||n.call(this),de(this,rp,null)}show(n){var r,i,o;N(this,$0,NA).call(this),window.cancelAnimationFrame(T(this,sw)),de(this,sw,-1),(r=T(this,rp))==null||r.call(this),de(this,rp,null),de(this,ow,window.setTimeout(()=>{de(this,ow,-1);const s=T(this,Vf).content();s&&s.style.removeProperty("display"),wt(()=>T(this,Vf).onChange(!0,n))},((o=(i=T(this,Vf)).showDelay)==null?void 0:o.call(i))??0))}hide(n){N(this,$0,NA).call(this),wt(()=>T(this,Vf).onChange(!1,n)),de(this,sw,requestAnimationFrame(()=>{var i;N(this,$0,NA).call(this),de(this,sw,-1);const r=T(this,Vf).content();if(r){const o=()=>{r.style.display="none",de(this,rp,null)};if(Tft(r)){(i=T(this,rp))==null||i.call(this);const a=no(r,"animationend",o,{once:!0});de(this,rp,a)}else o()}}))}}Vf=new WeakMap,$0=new WeakSet,a5e=function(){const n=T(this,Vf).trigger();if(!n){this.hide();return}const r=this.show.bind(this),i=this.hide.bind(this);T(this,Vf).listen(n,r,i)},ow=new WeakMap,sw=new WeakMap,rp=new WeakMap,NA=function(){window.clearTimeout(T(this,ow)),de(this,ow,-1)};const kb=uv();let Zht=0;var gH,N_,jy,Ny,q$,df,l5e,u5e,c5e,d5e,f5e;let Yht=(gH=class extends dr{constructor(){super();le(this,df);le(this,N_,`media-tooltip-${++Zht}`);le(this,jy,_n(null));le(this,Ny,_n(null));le(this,q$,_n(!1));new Sh;const{showDelay:n}=this.$props;new s5e({trigger:T(this,jy),content:T(this,Ny),showDelay:n,listen(r,i,o){Xe(()=>{hD()&&no(r,"focus",i),no(r,"blur",o)}),new Xr(r).add("touchstart",s=>s.preventDefault(),{passive:!1}).add("mouseenter",i).add("mouseleave",o)},onChange:N(this,df,f5e).bind(this)})}onAttach(n){n.style.setProperty("display","contents")}onSetup(){Xc(kb,{trigger:T(this,jy),content:T(this,Ny),showing:T(this,q$),attachTrigger:N(this,df,l5e).bind(this),detachTrigger:N(this,df,u5e).bind(this),attachContent:N(this,df,c5e).bind(this),detachContent:N(this,df,d5e).bind(this)})}},N_=new WeakMap,jy=new WeakMap,Ny=new WeakMap,q$=new WeakMap,df=new WeakSet,l5e=function(n){var i;T(this,jy).set(n);let r=n.getAttribute("data-media-tooltip");r&&((i=this.el)==null||i.setAttribute(`data-media-${r}-tooltip`,"")),On(n,"data-describedby",T(this,N_))},u5e=function(n){n.removeAttribute("data-describedby"),n.removeAttribute("aria-describedby"),T(this,jy).set(null)},c5e=function(n){n.setAttribute("id",T(this,N_)),n.style.display="none",yi(n,"role","tooltip"),T(this,Ny).set(n)},d5e=function(n){n.removeAttribute("id"),n.removeAttribute("role"),T(this,Ny).set(null)},f5e=function(n){const r=T(this,jy).call(this),i=T(this,Ny).call(this);r&&On(r,"aria-describedby",n?T(this,N_):null);for(const o of[this.el,r,i])o&&On(o,"data-visible",n);T(this,q$).set(n)},Ge(gH,"props",{showDelay:700}),gH);var mx,h5e,vK,oye;let Xht=(oye=class extends dr{constructor(){super();le(this,mx);new Sh}onConnect(n){Jn(KPe(()=>{if(!this.connectScope)return;N(this,mx,h5e).call(this);const r=Vo(kb);Jn(()=>{const i=N(this,mx,vK).call(this);i&&r.detachTrigger(i)})}))}},mx=new WeakSet,h5e=function(){const n=N(this,mx,vK).call(this),r=Vo(kb);n&&r.attachTrigger(n)},vK=function(){const n=this.el.firstElementChild;return(n==null?void 0:n.localName)==="button"||(n==null?void 0:n.getAttribute("role"))==="button"?n:this.el},oye);var vH,Xg,yK,p5e,m5e;let Qht=(vH=class extends dr{constructor(){super();le(this,Xg);new Sh;const{placement:n}=this.$props;this.setAttributes({"data-placement":n})}onAttach(n){N(this,Xg,yK).call(this,n),Object.assign(n.style,{position:"absolute",top:0,left:0,width:"max-content"})}onConnect(n){N(this,Xg,yK).call(this,n);const r=Vo(kb);Jn(()=>r.detachContent(n)),Jn(KPe(()=>{this.connectScope&&Xe(N(this,Xg,p5e).bind(this))}))}},Xg=new WeakSet,yK=function(n){Vo(kb).attachContent(n)},p5e=function(){const{showing:n}=Vo(kb);if(!n())return;const{placement:r,offset:i,alignOffset:o}=this.$props;return qPe(this.el,N(this,Xg,m5e).call(this),r(),{offsetVarName:"media-tooltip",xOffset:o(),yOffset:i()})},m5e=function(){return Vo(kb).trigger()},Ge(vH,"props",{placement:"top center",offset:0,alignOffset:0}),vH);var Zm,Wp,g5e,v5e,y5e,b5e;class Rl extends dd{constructor(n){super();le(this,Wp);le(this,Zm);de(this,Zm,n),new Sh,n.keyShortcut&&new Kft(n.keyShortcut)}onSetup(){const{disabled:n}=this.$props;this.setAttributes({"data-pressed":T(this,Zm).isPresssed,"aria-pressed":N(this,Wp,g5e).bind(this),"aria-disabled":()=>n()?"true":null})}onAttach(n){yi(n,"tabindex","0"),yi(n,"role","button"),yi(n,"type","button")}onConnect(n){const r=O0(n,N(this,Wp,y5e).bind(this));for(const i of["click","touchstart"])r.add(i,N(this,Wp,b5e).bind(this),{passive:!0})}}Zm=new WeakMap,Wp=new WeakSet,g5e=function(){return E4(T(this,Zm).isPresssed())},v5e=function(n){qke(T(this,Zm).isPresssed)&&T(this,Zm).isPresssed.set(r=>!r)},y5e=function(n){if(this.$props.disabled()||this.el.hasAttribute("data-disabled")){n.preventDefault(),n.stopImmediatePropagation();return}n.preventDefault(),(T(this,Zm).onPress??N(this,Wp,v5e)).call(this,n)},b5e=function(n){this.$props.disabled()&&(n.preventDefault(),n.stopImmediatePropagation())},Ge(Rl,"props",{disabled:!1});var yH,G$;let w5e=(yH=class extends dr{constructor(){super();le(this,G$,_n(!1));new Rl({isPresssed:T(this,G$)})}get pressed(){return T(this,G$).call(this)}},G$=new WeakMap,Ge(yH,"props",{disabled:!1,defaultPressed:!1}),yH);const Jht=w5e.prototype;xi(Jht,"pressed");var bH,Ym,Kp,x5e,S5e,_5e,C5e;let ept=(bH=class extends dr{constructor(){super();le(this,Kp);le(this,Ym);new Rl({isPresssed:N(this,Kp,S5e).bind(this),onPress:N(this,Kp,x5e).bind(this)})}onSetup(){de(this,Ym,Pi());const{canAirPlay:n,isAirPlayConnected:r}=T(this,Ym).$state;this.setAttributes({"data-active":r,"data-supported":n,"data-state":N(this,Kp,_5e).bind(this),"aria-hidden":el(()=>!n())})}onAttach(n){n.setAttribute("data-media-tooltip","airplay"),l1(n,N(this,Kp,C5e).bind(this))}},Ym=new WeakMap,Kp=new WeakSet,x5e=function(n){T(this,Ym).remote.requestAirPlay(n)},S5e=function(){const{remotePlaybackType:n,remotePlaybackState:r}=T(this,Ym).$state;return n()==="airplay"&&r()!=="disconnected"},_5e=function(){const{remotePlaybackType:n,remotePlaybackState:r}=T(this,Ym).$state;return n()==="airplay"&&r()},C5e=function(){const{remotePlaybackState:n}=T(this,Ym).$state;return`AirPlay ${n()}`},Ge(bH,"props",Rl.props),bH);var wH,Xm,qp,E5e,k5e,P5e,$5e;let tpt=(wH=class extends dr{constructor(){super();le(this,qp);le(this,Xm);new Rl({isPresssed:N(this,qp,k5e).bind(this),onPress:N(this,qp,E5e).bind(this)})}onSetup(){de(this,Xm,Pi());const{canGoogleCast:n,isGoogleCastConnected:r}=T(this,Xm).$state;this.setAttributes({"data-active":r,"data-supported":n,"data-state":N(this,qp,P5e).bind(this),"aria-hidden":el(()=>!n())})}onAttach(n){n.setAttribute("data-media-tooltip","google-cast"),l1(n,N(this,qp,$5e).bind(this))}},Xm=new WeakMap,qp=new WeakSet,E5e=function(n){T(this,Xm).remote.requestGoogleCast(n)},k5e=function(){const{remotePlaybackType:n,remotePlaybackState:r}=T(this,Xm).$state;return n()==="google-cast"&&r()!=="disconnected"},P5e=function(){const{remotePlaybackType:n,remotePlaybackState:r}=T(this,Xm).$state;return n()==="google-cast"&&r()},$5e=function(){const{remotePlaybackState:n}=T(this,Xm).$state;return`Google Cast ${n()}`},Ge(wH,"props",Rl.props),wH);var xH,aw,gx,T5e,bK;let npt=(xH=class extends dr{constructor(){super();le(this,gx);le(this,aw);new Rl({isPresssed:N(this,gx,bK).bind(this),keyShortcut:"togglePaused",onPress:N(this,gx,T5e).bind(this)})}onSetup(){de(this,aw,Pi());const{paused:n,ended:r}=T(this,aw).$state;this.setAttributes({"data-paused":n,"data-ended":r})}onAttach(n){n.setAttribute("data-media-tooltip","play"),l1(n,"Play")}},aw=new WeakMap,gx=new WeakSet,T5e=function(n){const r=T(this,aw).remote;N(this,gx,bK).call(this)?r.pause(n):r.play(n)},bK=function(){const{paused:n}=T(this,aw).$state;return!n()},Ge(xH,"props",Rl.props),xH);var SH,lw,Gp,M5e,wK,xK;let rpt=(SH=class extends dr{constructor(){super();le(this,Gp);le(this,lw);new Rl({isPresssed:N(this,Gp,wK).bind(this),keyShortcut:"toggleCaptions",onPress:N(this,Gp,M5e).bind(this)})}onSetup(){de(this,lw,Pi()),this.setAttributes({"data-active":N(this,Gp,wK).bind(this),"data-supported":()=>!N(this,Gp,xK).call(this),"aria-hidden":el(N(this,Gp,xK).bind(this))})}onAttach(n){n.setAttribute("data-media-tooltip","caption"),l1(n,"Captions")}},lw=new WeakMap,Gp=new WeakSet,M5e=function(n){T(this,lw).remote.toggleCaptions(n)},wK=function(){const{textTrack:n}=T(this,lw).$state,r=n();return!!r&&ru(r)},xK=function(){const{hasCaptions:n}=T(this,lw).$state;return!n()},Ge(SH,"props",Rl.props),SH);var _H,Fy,Qg,L5e,SK,A5e;let ipt=(_H=class extends dr{constructor(){super();le(this,Qg);le(this,Fy);new Rl({isPresssed:N(this,Qg,SK).bind(this),keyShortcut:"toggleFullscreen",onPress:N(this,Qg,L5e).bind(this)})}onSetup(){de(this,Fy,Pi());const{fullscreen:n}=T(this,Fy).$state,r=N(this,Qg,A5e).bind(this);this.setAttributes({"data-active":n,"data-supported":r,"aria-hidden":el(()=>!r())})}onAttach(n){n.setAttribute("data-media-tooltip","fullscreen"),l1(n,"Fullscreen")}},Fy=new WeakMap,Qg=new WeakSet,L5e=function(n){const r=T(this,Fy).remote,i=this.$props.target();N(this,Qg,SK).call(this)?r.exitFullscreen(i,n):r.enterFullscreen(i,n)},SK=function(){const{fullscreen:n}=T(this,Fy).$state;return n()},A5e=function(){const{canFullscreen:n}=T(this,Fy).$state;return n()},Ge(_H,"props",{...Rl.props,target:"prefer-media"}),_H);var CH,uw,Mp,I5e,FA,R5e;let opt=(CH=class extends dr{constructor(){super();le(this,Mp);le(this,uw);new Rl({isPresssed:N(this,Mp,FA).bind(this),keyShortcut:"toggleMuted",onPress:N(this,Mp,I5e).bind(this)})}onSetup(){de(this,uw,Pi()),this.setAttributes({"data-muted":N(this,Mp,FA).bind(this),"data-state":N(this,Mp,R5e).bind(this)})}onAttach(n){n.setAttribute("data-media-mute-button",""),n.setAttribute("data-media-tooltip","mute"),l1(n,"Mute")}},uw=new WeakMap,Mp=new WeakSet,I5e=function(n){const r=T(this,uw).remote;N(this,Mp,FA).call(this)?r.unmute(n):r.mute(n)},FA=function(){const{muted:n,volume:r}=T(this,uw).$state;return n()||r()===0},R5e=function(){const{muted:n,volume:r}=T(this,uw).$state,i=r();if(n()||i===0)return"muted";if(i>=.5)return"high";if(i<.5)return"low"},Ge(CH,"props",Rl.props),CH);var EH,By,Jg,D5e,_K,O5e;let spt=(EH=class extends dr{constructor(){super();le(this,Jg);le(this,By);new Rl({isPresssed:N(this,Jg,_K).bind(this),keyShortcut:"togglePictureInPicture",onPress:N(this,Jg,D5e).bind(this)})}onSetup(){de(this,By,Pi());const{pictureInPicture:n}=T(this,By).$state,r=N(this,Jg,O5e).bind(this);this.setAttributes({"data-active":n,"data-supported":r,"aria-hidden":el(()=>!r())})}onAttach(n){n.setAttribute("data-media-tooltip","pip"),l1(n,"PiP")}},By=new WeakMap,Jg=new WeakSet,D5e=function(n){const r=T(this,By).remote;N(this,Jg,_K).call(this)?r.exitPictureInPicture(n):r.enterPictureInPicture(n)},_K=function(){const{pictureInPicture:n}=T(this,By).$state;return n()},O5e=function(){const{canPictureInPicture:n}=T(this,By).$state;return n()},Ge(EH,"props",Rl.props),EH);var kH,zy,K0,j5e,N5e,F5e;let apt=(kH=class extends dr{constructor(){super();le(this,K0);le(this,zy);new Sh}onSetup(){de(this,zy,Pi());const{seeking:n}=T(this,zy).$state,{seconds:r}=this.$props,i=N(this,K0,j5e).bind(this);this.setAttributes({seconds:r,"data-seeking":n,"data-supported":i,"aria-hidden":el(()=>!i())})}onAttach(n){yi(n,"tabindex","0"),yi(n,"role","button"),yi(n,"type","button"),n.setAttribute("data-media-tooltip","seek"),l1(n,N(this,K0,N5e).bind(this))}onConnect(n){O0(n,N(this,K0,F5e).bind(this))}},zy=new WeakMap,K0=new WeakSet,j5e=function(){const{canSeek:n}=T(this,zy).$state;return n()},N5e=function(){const{seconds:n}=this.$props;return`Seek ${n()>0?"forward":"backward"} ${n()} seconds`},F5e=function(n){const{seconds:r,disabled:i}=this.$props;if(i())return;const{currentTime:o}=T(this,zy).$state,s=o()+r();T(this,zy).remote.seek(s,n)},Ge(kH,"props",{disabled:!1,seconds:30}),kH);var PH,cw,L9,B5e;let lpt=(PH=class extends dr{constructor(){super();le(this,L9);le(this,cw);new Sh}onSetup(){de(this,cw,Pi());const{disabled:n}=this.$props,{live:r,liveEdge:i}=T(this,cw).$state,o=()=>!r();this.setAttributes({"data-edge":i,"data-hidden":o,"aria-disabled":el(()=>n()||i()),"aria-hidden":el(o)})}onAttach(n){yi(n,"tabindex","0"),yi(n,"role","button"),yi(n,"type","button"),n.setAttribute("data-media-tooltip","live")}onConnect(n){O0(n,N(this,L9,B5e).bind(this))}},cw=new WeakMap,L9=new WeakSet,B5e=function(n){const{disabled:r}=this.$props,{liveEdge:i}=T(this,cw).$state;r()||i()||T(this,cw).remote.seekToLiveEdge(n)},Ge(PH,"props",{disabled:!1}),PH);const kx=new cv({min:0,max:100,value:0,step:1,pointerValue:0,focused:!1,dragging:!1,pointing:!1,hidden:!1,get active(){return this.dragging||this.focused||this.pointing},get fillRate(){return _le(this.min,this.max,this.value)},get fillPercent(){return this.fillRate*100},get pointerRate(){return _le(this.min,this.max,this.pointerValue)},get pointerPercent(){return this.pointerRate*100}});function _le(e,t,n){const r=t-e,i=n-e;return r>0?i/r:0}var F_,Hy,A9,H5e;class z5e extends dd{constructor(n){super();le(this,A9);le(this,F_);le(this,Hy);de(this,F_,n)}onConnect(n){de(this,Hy,new IntersectionObserver(r=>{var i,o;(o=(i=T(this,F_)).callback)==null||o.call(i,r,T(this,Hy))},T(this,F_))),T(this,Hy).observe(n),Jn(N(this,A9,H5e).bind(this))}}F_=new WeakMap,Hy=new WeakMap,A9=new WeakSet,H5e=function(){var n;(n=T(this,Hy))==null||n.disconnect(),de(this,Hy,void 0)};const YQ=uv(),yP=uv();function upt(e,t,n,r){return KQ(e,Qa(n,mW(r)),t)}function cpt(e,t,n,r){const i=KQ(0,n,1),o=t-e,s=o*i,a=s/r,l=r*Math.round(a);return e+l}const NF={Left:-1,ArrowLeft:-1,Up:1,ArrowUp:1,Right:1,ArrowRight:1,Down:-1,ArrowDown:-1};var Ha,Vy,B_,nn,V5e,Uy,Uf,Qm,U5e,W5e,K5e,q5e,G5e,BA,Gv,_k,Z5e,Y5e,X5e,Q5e,zA,CK,z_,Jm,J5e,e6e,EK,kK,t6e,n6e,I9;class dpt extends dd{constructor(n,r){super();le(this,nn);le(this,Ha);le(this,Vy);le(this,B_);le(this,Uy,null);le(this,Uf,null);le(this,Qm,null);le(this,z_);le(this,Jm,!1);le(this,I9,a1(n=>{N(this,nn,Gv).call(this,N(this,nn,_k).call(this,n),n)},20,{leading:!0}));de(this,Ha,n),de(this,Vy,r)}onSetup(){Hg(yP)&&de(this,B_,Vo(yP))}onConnect(n){Xe(N(this,nn,K5e).bind(this,n)),Xe(N(this,nn,q5e).bind(this,n)),T(this,Ha).swipeGesture&&Xe(N(this,nn,V5e).bind(this))}}Ha=new WeakMap,Vy=new WeakMap,B_=new WeakMap,nn=new WeakSet,V5e=function(){var r;const{pointer:n}=T(this,Vy).$state;if(n()!=="coarse"||!T(this,Ha).swipeGesture()){de(this,Uy,null);return}de(this,Uy,(r=T(this,Vy).player.el)==null?void 0:r.querySelector("media-provider,[data-media-provider]")),T(this,Uy)&&new Xr(T(this,Uy)).add("touchstart",N(this,nn,U5e).bind(this),{passive:!0}).add("touchmove",N(this,nn,W5e).bind(this),{passive:!1})},Uy=new WeakMap,Uf=new WeakMap,Qm=new WeakMap,U5e=function(n){de(this,Uf,n.touches[0])},W5e=function(n){if(ah(T(this,Uf))||qQ(n))return;const r=n.touches[0],i=r.clientX-T(this,Uf).clientX,o=r.clientY-T(this,Uf).clientY,s=this.$state.dragging();!s&&Math.abs(o)>5||s||(n.preventDefault(),Math.abs(i)>20&&(de(this,Uf,r),de(this,Qm,this.$state.value()),N(this,nn,zA).call(this,T(this,Qm),n)))},K5e=function(n){const{hidden:r}=this.$props;no(n,"focus",N(this,nn,G5e).bind(this)),!(r()||T(this,Ha).isDisabled())&&new Xr(n).add("keyup",N(this,nn,e6e).bind(this)).add("keydown",N(this,nn,J5e).bind(this)).add("pointerenter",N(this,nn,Z5e).bind(this)).add("pointermove",N(this,nn,Y5e).bind(this)).add("pointerleave",N(this,nn,X5e).bind(this)).add("pointerdown",N(this,nn,Q5e).bind(this))},q5e=function(n){T(this,Ha).isDisabled()||!this.$state.dragging()||new Xr(document).add("pointerup",N(this,nn,t6e).bind(this),{capture:!0}).add("pointermove",T(this,I9).bind(this)).add("touchmove",N(this,nn,n6e).bind(this),{passive:!1})},G5e=function(){N(this,nn,Gv).call(this,this.$state.value())},BA=function(n,r){var c,f,p,g;const{value:i,min:o,max:s,dragging:a}=this.$state,l=Math.max(o(),Math.min(n,s()));i.set(l);const u=this.createEvent("value-change",{detail:l,trigger:r});if(this.dispatch(u),(f=(c=T(this,Ha)).onValueChange)==null||f.call(c,u),a()){const v=this.createEvent("drag-value-change",{detail:l,trigger:r});this.dispatch(v),(g=(p=T(this,Ha)).onDragValueChange)==null||g.call(p,v)}},Gv=function(n,r){const{pointerValue:i,dragging:o}=this.$state;i.set(n),this.dispatch("pointer-value-change",{detail:n,trigger:r}),o()&&N(this,nn,BA).call(this,n,r)},_k=function(n){let r,i=this.el.getBoundingClientRect(),{min:o,max:s}=this.$state;if(this.$props.orientation()==="vertical"){const{bottom:a,height:l}=i;r=(a-n.clientY)/l}else if(T(this,Uf)&&Zu(T(this,Qm))){const{width:a}=T(this,Uy).getBoundingClientRect(),l=(n.clientX-T(this,Uf).clientX)/a,u=s()-o(),c=u*Math.abs(l);r=(l<0?T(this,Qm)-c:T(this,Qm)+c)/u}else{const{left:a,width:l}=i;r=(n.clientX-a)/l}return Math.max(o(),Math.min(s(),T(this,Ha).roundValue(cpt(o(),s(),r,T(this,Ha).getStep()))))},Z5e=function(n){this.$state.pointing.set(!0)},Y5e=function(n){const{dragging:r}=this.$state;r()||N(this,nn,Gv).call(this,N(this,nn,_k).call(this,n),n)},X5e=function(n){this.$state.pointing.set(!1)},Q5e=function(n){if(n.button!==0)return;const r=N(this,nn,_k).call(this,n);N(this,nn,zA).call(this,r,n),N(this,nn,Gv).call(this,r,n)},zA=function(n,r){var s,a,l,u;const{dragging:i}=this.$state;if(i())return;i.set(!0),T(this,Vy).remote.pauseControls(r);const o=this.createEvent("drag-start",{detail:n,trigger:r});this.dispatch(o),(a=(s=T(this,Ha)).onDragStart)==null||a.call(s,o),(u=(l=T(this,B_))==null?void 0:l.onDragStart)==null||u.call(l)},CK=function(n,r){var s,a,l,u;const{dragging:i}=this.$state;if(!i())return;i.set(!1),T(this,Vy).remote.resumeControls(r);const o=this.createEvent("drag-end",{detail:n,trigger:r});this.dispatch(o),(a=(s=T(this,Ha)).onDragEnd)==null||a.call(s,o),de(this,Uf,null),de(this,Qm,null),(u=(l=T(this,B_))==null?void 0:l.onDragEnd)==null||u.call(l)},z_=new WeakMap,Jm=new WeakMap,J5e=function(n){if(!Object.keys(NF).includes(n.key))return;const{key:i}=n,o=N(this,nn,EK).call(this,n);if(!ah(o)){N(this,nn,Gv).call(this,o,n),N(this,nn,BA).call(this,o,n);return}const s=N(this,nn,kK).call(this,n);T(this,Jm)||(de(this,Jm,i===T(this,z_)),!this.$state.dragging()&&T(this,Jm)&&N(this,nn,zA).call(this,s,n)),N(this,nn,Gv).call(this,s,n),de(this,z_,i)},e6e=function(n){if(!Object.keys(NF).includes(n.key)||!ah(N(this,nn,EK).call(this,n)))return;const i=T(this,Jm)?this.$state.pointerValue():N(this,nn,kK).call(this,n);N(this,nn,BA).call(this,i,n),N(this,nn,CK).call(this,i,n),de(this,z_,""),de(this,Jm,!1)},EK=function(n){let r=n.key,{min:i,max:o}=this.$state;return r==="Home"||r==="PageUp"?i():r==="End"||r==="PageDown"?o():!n.metaKey&&/^[0-9]$/.test(r)?(o()-i())/10*Number(r):null},kK=function(n){var C,_;const{key:r,shiftKey:i}=n;n.preventDefault(),n.stopPropagation();const{shiftKeyMultiplier:o}=this.$props,{min:s,max:a,value:l,pointerValue:u}=this.$state,c=T(this,Ha).getStep(),f=T(this,Ha).getKeyStep(),p=i?f*o():f,g=Number(NF[r]),v=p*g,y=T(this,Jm)?u():((_=(C=T(this,Ha)).getValue)==null?void 0:_.call(C))??l(),S=(y+v)/c;return Math.max(s(),Math.min(a(),Number((c*S).toFixed(3))))},t6e=function(n){if(n.button!==0)return;n.preventDefault(),n.stopImmediatePropagation();const r=N(this,nn,_k).call(this,n);N(this,nn,Gv).call(this,r,n),N(this,nn,CK).call(this,r,n)},n6e=function(n){n.preventDefault()},I9=new WeakMap;const PC=uv(()=>({}));var Z$,ju,Y$,X$,ea,r6e,i6e,o6e,s6e,a6e,l6e,u6e,PK,R9;class Qc extends dd{constructor(n){super();le(this,ea);le(this,Z$);le(this,ju);le(this,Y$,_n(!0));le(this,X$,_n(!0));le(this,R9,s1((n,r)=>{var i,o;(i=this.el)==null||i.style.setProperty("--slider-fill",n+"%"),(o=this.el)==null||o.style.setProperty("--slider-pointer",r+"%")}));de(this,ju,n)}onSetup(){de(this,Z$,Pi());const n=new Sh;n.attach(this),this.$state.focused=n.focused.bind(n),Hg(PC)||Xc(PC,{default:"value"}),Xc(YQ,{orientation:this.$props.orientation,disabled:T(this,ju).isDisabled,preview:_n(null)}),Xe(N(this,ea,o6e).bind(this)),Xe(N(this,ea,s6e).bind(this)),Xe(N(this,ea,a6e).bind(this)),N(this,ea,u6e).call(this),new dpt(T(this,ju),T(this,Z$)).attach(this),new z5e({callback:N(this,ea,r6e).bind(this)}).attach(this)}onAttach(n){yi(n,"role","slider"),yi(n,"tabindex","0"),yi(n,"autocomplete","off"),Ut?N(this,ea,PK).call(this):Xe(N(this,ea,PK).bind(this))}onConnect(n){Jn(UPe(n,T(this,Y$).set)),Xe(N(this,ea,i6e).bind(this))}}Z$=new WeakMap,ju=new WeakMap,Y$=new WeakMap,X$=new WeakMap,ea=new WeakSet,r6e=function(n){T(this,X$).set(n[0].isIntersecting)},i6e=function(){const{hidden:n}=this.$props;this.$state.hidden.set(n()||!T(this,Y$).call(this)||!T(this,X$).bind(this))},o6e=function(){const{dragging:n,value:r,min:i,max:o}=this.$state;wt(n)||r.set(upt(i(),o(),r(),T(this,ju).getStep()))},s6e=function(){this.$state.step.set(T(this,ju).getStep())},a6e=function(){if(!T(this,ju).isDisabled())return;const{dragging:n,pointing:r}=this.$state;n.set(!1),r.set(!1)},l6e=function(){return E4(T(this,ju).isDisabled())},u6e=function(){const{orientation:n}=this.$props,{dragging:r,active:i,pointing:o}=this.$state;this.setAttributes({"data-dragging":r,"data-pointing":o,"data-active":i,"aria-disabled":N(this,ea,l6e).bind(this),"aria-valuemin":T(this,ju).aria.valueMin??this.$state.min,"aria-valuemax":T(this,ju).aria.valueMax??this.$state.max,"aria-valuenow":T(this,ju).aria.valueNow,"aria-valuetext":T(this,ju).aria.valueText,"aria-orientation":n})},PK=function(){const{fillPercent:n,pointerPercent:r}=this.$state;T(this,R9).call(this,Qa(n(),3),Qa(r(),3))},R9=new WeakMap,Ge(Qc,"props",{hidden:!1,disabled:!1,step:1,keyStep:1,orientation:"horizontal",shiftKeyMultiplier:5});var Zp,c6e,d6e,f6e,h6e;class ix extends dr{constructor(){super();le(this,Zp);new Qc({getStep:this.$props.step,getKeyStep:this.$props.keyStep,roundValue:Math.round,isDisabled:this.$props.disabled,aria:{valueNow:N(this,Zp,c6e).bind(this),valueText:N(this,Zp,d6e).bind(this)}})}onSetup(){Xe(N(this,Zp,f6e).bind(this)),Xe(N(this,Zp,h6e).bind(this))}}Zp=new WeakSet,c6e=function(){const{value:n}=this.$state;return Math.round(n())},d6e=function(){const{value:n,max:r}=this.$state;return Qa(n()/r()*100,2)+"%"},f6e=function(){const{value:n}=this.$props;this.$state.value.set(n())},h6e=function(){const{min:n,max:r}=this.$props;this.$state.min.set(n()),this.$state.max.set(r())},Ge(ix,"props",{...Qc.props,min:0,max:100,value:0}),Ge(ix,"state",kx);const bm=new Map,EM=new Map;var Q$,H_,J$,Ro,p6e,m6e,TK,MK,LK,AK,g6e,HA;const cre=class cre{constructor(t,n,r){le(this,Ro);le(this,Q$);le(this,H_);le(this,J$);Ge(this,"$images",_n([]));de(this,H_,t),de(this,J$,n),de(this,Q$,r),Xe(N(this,Ro,p6e).bind(this))}static create(t,n){const r=Pi();return new cre(t,n,r)}};Q$=new WeakMap,H_=new WeakMap,J$=new WeakMap,Ro=new WeakSet,p6e=function(){var r;const{canLoad:t}=T(this,Q$).$state;if(!t())return;const n=T(this,H_).call(this);if(n){if(mn(n)&&bm.has(n)){const i=bm.get(n);if(bm.delete(n),bm.set(n,i),bm.size>99){const o=bm.keys().next().value;bm.delete(o)}this.$images.set(bm.get(n))}else if(mn(n)){const i=T(this,J$).call(this),o=n+"::"+i;if(!EM.has(o)){const s=new Promise(async(a,l)=>{try{const u=await fetch(n,{credentials:vP(i)});if(u.headers.get("content-type")==="application/json"){const f=await u.json();if(Io(f))if(f[0]&&"text"in f[0])a(N(this,Ro,MK).call(this,f));else{for(let p=0;p<f.length;p++){const g=f[p];ym(Zke(g),!1),ym("url"in g&&mn(g.url),!1),ym("startTime"in g&&Zu(g.startTime),!1)}a(f)}else a(N(this,Ro,TK).call(this,f));return}Il(()=>import("./prod-CzWIDHKL.js").then(f=>f.d),[],import.meta.url).then(async({parseResponse:f})=>{try{const{cues:p}=await f(u);a(N(this,Ro,MK).call(this,p))}catch(p){l(p)}})}catch(u){l(u)}}).then(a=>(bm.set(o,a),a)).catch(a=>{N(this,Ro,HA).call(this,n,a)}).finally(()=>{mn(o)&&EM.delete(o)});EM.set(o,s)}(r=EM.get(o))==null||r.then(s=>{this.$images.set(s||[])})}else if(Io(n))try{this.$images.set(N(this,Ro,m6e).call(this,n))}catch(i){N(this,Ro,HA).call(this,n,i)}else try{this.$images.set(N(this,Ro,TK).call(this,n))}catch(i){N(this,Ro,HA).call(this,n,i)}return()=>{this.$images.set([])}}},m6e=function(t){const n=N(this,Ro,LK).call(this);return t.map((r,i)=>(ym(r.url&&mn(r.url)),ym("startTime"in r&&Zu(r.startTime)),{...r,url:mn(r.url)?N(this,Ro,AK).call(this,r.url,n):r.url}))},TK=function(t){var s;ym(mn(t.url)),ym(Io(t.tiles)&&((s=t.tiles)==null?void 0:s.length));const n=new URL(t.url),r=[],i="tile_width"in t?t.tile_width:t.tileWidth,o="tile_height"in t?t.tile_height:t.tileHeight;for(const a of t.tiles)r.push({url:n,startTime:"start"in a?a.start:a.startTime,width:i,height:o,coords:{x:a.x,y:a.y}});return r},MK=function(t){for(let i=0;i<t.length;i++){const o=t[i];ym("startTime"in o&&Zu(o.startTime)),ym("text"in o&&mn(o.text))}const n=[],r=N(this,Ro,LK).call(this);for(const i of t){const[o,s]=i.text.split("#"),a=N(this,Ro,g6e).call(this,s);n.push({url:N(this,Ro,AK).call(this,o,r),startTime:i.startTime,endTime:i.endTime,width:a==null?void 0:a.w,height:a==null?void 0:a.h,coords:a&&Zu(a.x)&&Zu(a.y)?{x:a.x,y:a.y}:void 0})}return n},LK=function(){let t=wt(T(this,H_));return!mn(t)||!/^https?:/.test(t)?location.href:t},AK=function(t,n){return/^https?:/.test(t)?new URL(t):new URL(t,n)},g6e=function(t){if(!t)return{};const[n,r]=t.split("="),i=r==null?void 0:r.split(","),o={};if(!n||!i)return null;for(let s=0;s<n.length;s++){const a=+i[s];isNaN(a)||(o[n[s]]=a)}return o},HA=function(t,n){};let $K=cre;var VL,V_,U_,Ur,y6e,IK,b6e,w6e,x6e,S6e,RK,_6e,C6e,DK,Zv,E6e;let v6e=(VL=class extends dr{constructor(){super(...arguments);le(this,Ur);Ge(this,"media");le(this,V_);le(this,U_,[])}onSetup(){this.media=Pi(),de(this,V_,$K.create(this.$props.src,this.$state.crossOrigin)),N(this,Ur,IK).call(this),this.setAttributes({"data-loading":N(this,Ur,S6e).bind(this),"data-error":N(this,Ur,RK).bind(this),"data-hidden":this.$state.hidden,"aria-hidden":el(this.$state.hidden)})}onConnect(n){Xe(N(this,Ur,y6e).bind(this)),Xe(N(this,Ur,_6e).bind(this)),Xe(N(this,Ur,IK).bind(this)),Xe(N(this,Ur,b6e).bind(this)),Xe(N(this,Ur,C6e).bind(this)),Xe(N(this,Ur,DK).bind(this))}getTime(){return this.$props.time()}},V_=new WeakMap,U_=new WeakMap,Ur=new WeakSet,y6e=function(){const n=this.$state.img();n&&new Xr(n).add("load",N(this,Ur,w6e).bind(this)).add("error",N(this,Ur,x6e).bind(this))},IK=function(){const{crossOrigin:n}=this.$props,{crossOrigin:r}=this.$state,{crossOrigin:i}=this.media.$state,o=n()!==null?n():i();r.set(o===!0?"anonymous":o)},b6e=function(){const{src:n,loading:r,error:i}=this.$state;return n()&&(r.set(!0),i.set(null)),()=>{N(this,Ur,E6e).call(this),r.set(!1),i.set(null)}},w6e=function(){const{loading:n,error:r}=this.$state;N(this,Ur,DK).call(this),n.set(!1),r.set(null)},x6e=function(n){const{loading:r,error:i}=this.$state;r.set(!1),i.set(n)},S6e=function(){const{loading:n,hidden:r}=this.$state;return!r()&&n()},RK=function(){const{error:n}=this.$state;return!ah(n())},_6e=function(){const{hidden:n}=this.$state,{duration:r}=this.media.$state,i=T(this,V_).$images();n.set(N(this,Ur,RK).call(this)||!Number.isFinite(r())||i.length===0)},C6e=function(){let n=T(this,V_).$images();if(!n.length)return;let r=this.getTime(),{src:i,activeThumbnail:o}=this.$state,s=-1,a=null;for(let l=n.length-1;l>=0;l--){const u=n[l];if(r>=u.startTime&&(!u.endTime||r<u.endTime)){s=l;break}}n[s]&&(a=n[s]),o.set(a),i.set((a==null?void 0:a.url.href)||"")},DK=function(){if(!this.scope||this.$state.hidden())return;const n=this.el,r=this.$state.img(),i=this.$state.activeThumbnail();if(!r||!i||!n)return;let o=i.width??r.naturalWidth,s=(i==null?void 0:i.height)??r.naturalHeight,{maxWidth:a,maxHeight:l,minWidth:u,minHeight:c,width:f,height:p}=getComputedStyle(this.el);u==="100%"&&(u=parseFloat(f)+""),c==="100%"&&(c=parseFloat(p)+"");let g=Math.max(parseInt(u)/o,parseInt(c)/s),v=Math.min(Math.max(parseInt(u),parseInt(a))/o,Math.max(parseInt(c),parseInt(l))/s),y=!isNaN(v)&&v<1?v:g>1?g:1;N(this,Ur,Zv).call(this,n,"--thumbnail-width",`${o*y}px`),N(this,Ur,Zv).call(this,n,"--thumbnail-height",`${s*y}px`),N(this,Ur,Zv).call(this,n,"--thumbnail-aspect-ratio",String(Qa(o/s,5))),N(this,Ur,Zv).call(this,r,"width",`${r.naturalWidth*y}px`),N(this,Ur,Zv).call(this,r,"height",`${r.naturalHeight*y}px`),N(this,Ur,Zv).call(this,r,"transform",i.coords?`translate(-${i.coords.x*y}px, -${i.coords.y*y}px)`:""),N(this,Ur,Zv).call(this,r,"max-width","none")},Zv=function(n,r,i){n.style.setProperty(r,i),T(this,U_).push(()=>n.style.removeProperty(r))},E6e=function(){for(const n of T(this,U_))n();de(this,U_,[])},Ge(VL,"props",{src:null,time:0,crossOrigin:null}),Ge(VL,"state",new cv({src:"",img:null,thumbnails:[],activeThumbnail:null,crossOrigin:null,loading:!1,error:null,hidden:!1})),VL);var eT;class fpt extends v6e{constructor(){super(...arguments);le(this,eT)}onAttach(n){de(this,eT,d3(ix.state))}getTime(){const{duration:n,clipStartTime:r}=this.media.$state;return r()+T(this,eT).pointerRate()*n()}}eT=new WeakMap;var Wy,tT,Co,k6e,P6e,OK,$6e,jK,T6e,M6e,NK,L6e,A6e;class pD extends dr{constructor(){super(...arguments);le(this,Co);le(this,Wy);le(this,tT)}get video(){return this.$state.video()}onSetup(){de(this,Wy,Pi()),de(this,tT,d3(ix.state)),N(this,Co,OK).call(this),this.setAttributes({"data-loading":N(this,Co,$6e).bind(this),"data-hidden":this.$state.hidden,"data-error":N(this,Co,jK).bind(this),"aria-hidden":el(this.$state.hidden)})}onAttach(n){Xe(N(this,Co,k6e).bind(this)),Xe(N(this,Co,P6e).bind(this)),Xe(N(this,Co,OK).bind(this)),Xe(N(this,Co,T6e).bind(this)),Xe(N(this,Co,M6e).bind(this)),Xe(N(this,Co,A6e).bind(this))}}Wy=new WeakMap,tT=new WeakMap,Co=new WeakSet,k6e=function(){const n=this.$state.video();n&&(n.readyState>=2&&N(this,Co,NK).call(this),new Xr(n).add("canplay",N(this,Co,NK).bind(this)).add("error",N(this,Co,L6e).bind(this)))},P6e=function(){const{src:n}=this.$state,{canLoad:r}=T(this,Wy).$state;n.set(r()?this.$props.src():null)},OK=function(){const{crossOrigin:n}=this.$props,{crossOrigin:r}=this.$state,{crossOrigin:i}=T(this,Wy).$state,o=n()!==null?n():i();r.set(o===!0?"anonymous":o)},$6e=function(){const{canPlay:n,hidden:r}=this.$state;return!n()&&!r()},jK=function(){const{error:n}=this.$state;return!ah(n)},T6e=function(){const{src:n,hidden:r}=this.$state,{canLoad:i,duration:o}=T(this,Wy).$state;r.set(i()&&(!n()||N(this,Co,jK).call(this)||!Number.isFinite(o())))},M6e=function(){const{src:n,canPlay:r,error:i}=this.$state;n(),r.set(!1),i.set(null)},NK=function(n){const{canPlay:r,error:i}=this.$state;r.set(!0),i.set(null),this.dispatch("can-play",{trigger:n})},L6e=function(n){const{canPlay:r,error:i}=this.$state;r.set(!1),i.set(n),this.dispatch("error",{trigger:n})},A6e=function(){const{video:n,canPlay:r}=this.$state,{duration:i}=T(this,Wy).$state,{pointerRate:o}=T(this,tT),s=n();r()&&s&&Number.isFinite(i())&&Number.isFinite(o())&&(s.currentTime=o()*i())},Ge(pD,"props",{src:null,crossOrigin:null}),Ge(pD,"state",new cv({video:null,src:null,crossOrigin:null,canPlay:!1,error:null,hidden:!1}));const hpt=pD.prototype;xi(hpt,"video");var Ky,D9,nT;class XQ extends dr{constructor(){super(...arguments);le(this,Ky);le(this,D9);le(this,nT)}onSetup(){de(this,nT,d3(ix.state)),de(this,Ky,Vo(PC)),de(this,D9,zg(this.getValueText.bind(this)))}getValueText(){var y,S;const{type:n,format:r,decimalPlaces:i,padHours:o,padMinutes:s,showHours:a,showMs:l}=this.$props,{value:u,pointerValue:c,min:f,max:p}=T(this,nT),g=(r==null?void 0:r())??T(this,Ky).default,v=n()==="current"?u():c();if(g==="percent"){const C=p()-f(),_=v/C*100;return(T(this,Ky).percent??Qa)(_,i())+"%"}else return g==="time"?(T(this,Ky).time??y7)(v,{padHrs:o(),padMins:s(),showHrs:a(),showMs:l()}):(((S=(y=T(this,Ky)).value)==null?void 0:S.call(y,v))??v.toFixed(2))+""}}Ky=new WeakMap,D9=new WeakMap,nT=new WeakMap,Ge(XQ,"props",{type:"pointer",format:null,showHours:!1,showMs:!1,padHours:null,padMinutes:null,decimalPlaces:2});const ppt=XQ.prototype;na(ppt,"getValueText");var W_,rT;class I6e extends dr{constructor(){super(...arguments);le(this,W_);le(this,rT,s1(()=>{const{disabled:n,orientation:r}=T(this,W_);if(n())return;const i=this.el,{offset:o,noClamp:s}=this.$props;i&&mpt(i,{clamp:!s(),offset:o(),orientation:r()})}))}onSetup(){de(this,W_,Vo(YQ));const{active:n}=d3(ix.state);this.setAttributes({"data-visible":n})}onAttach(n){Object.assign(n.style,{position:"absolute",top:0,left:0,width:"max-content"})}onConnect(n){const{preview:r}=T(this,W_);r.set(n),Jn(()=>r.set(null)),Xe(T(this,rT).bind(this));const i=new ResizeObserver(T(this,rT).bind(this));i.observe(n),Jn(()=>i.disconnect())}}W_=new WeakMap,rT=new WeakMap,Ge(I6e,"props",{offset:0,noClamp:!1});function mpt(e,{clamp:t,offset:n,orientation:r}){const i=getComputedStyle(e),o=parseFloat(i.width),s=parseFloat(i.height),a={top:null,right:null,bottom:null,left:null};if(a[r==="horizontal"?"bottom":"left"]=`calc(100% + var(--media-slider-preview-offset, ${n}px))`,r==="horizontal"){const l=o/2;if(!t)a.left=`calc(var(--slider-pointer) - ${l}px)`;else{const u=`max(0px, calc(var(--slider-pointer) - ${l}px))`,c=`calc(100% - ${o}px)`;a.left=`min(${u}, ${c})`}}else{const l=s/2;if(!t)a.bottom=`calc(var(--slider-pointer) - ${l}px)`;else{const u=`max(${l}px, calc(var(--slider-pointer) - ${l}px))`,c=`calc(100% - ${s}px)`;a.bottom=`min(${u}, ${c})`}}Object.assign(e.style,a)}var UL,Nd,Ca,R6e,D6e,O6e,j6e,N6e,iT,F6e,B6e,z6e;let gpt=(UL=class extends dr{constructor(){super(...arguments);le(this,Ca);le(this,Nd);le(this,iT,a1(N(this,Ca,F6e).bind(this),25))}onSetup(){de(this,Nd,Pi());const{audioGain:n}=T(this,Nd).$state;Xc(PC,{default:"percent",value(r){return(r*(n()??1)).toFixed(2)},percent(r){return Math.round(r*(n()??1))}}),new Qc({getStep:this.$props.step,getKeyStep:this.$props.keyStep,roundValue:Math.round,isDisabled:N(this,Ca,j6e).bind(this),aria:{valueMax:N(this,Ca,O6e).bind(this),valueNow:N(this,Ca,R6e).bind(this),valueText:N(this,Ca,D6e).bind(this)},onDragValueChange:N(this,Ca,z6e).bind(this),onValueChange:N(this,Ca,B6e).bind(this)}).attach(this),Xe(N(this,Ca,N6e).bind(this))}onAttach(n){n.setAttribute("data-media-volume-slider",""),yi(n,"aria-label","Volume");const{canSetVolume:r}=T(this,Nd).$state;this.setAttributes({"data-supported":r,"aria-hidden":el(()=>!r())})}},Nd=new WeakMap,Ca=new WeakSet,R6e=function(){const{value:n}=this.$state,{audioGain:r}=T(this,Nd).$state;return Math.round(n()*(r()??1))},D6e=function(){const{value:n,max:r}=this.$state,{audioGain:i}=T(this,Nd).$state;return Qa(n()/r()*(i()??1)*100,2)+"%"},O6e=function(){const{audioGain:n}=T(this,Nd).$state;return this.$state.max()*(n()??1)},j6e=function(){const{disabled:n}=this.$props,{canSetVolume:r}=T(this,Nd).$state;return n()||!r()},N6e=function(){const{muted:n,volume:r}=T(this,Nd).$state,i=n()?0:r()*100;this.$state.value.set(i),this.dispatch("value-change",{detail:i})},iT=new WeakMap,F6e=function(n){if(!n.trigger)return;const r=Qa(n.detail/100,3);T(this,Nd).remote.changeVolume(r,n)},B6e=function(n){T(this,iT).call(this,n)},z6e=function(n){T(this,iT).call(this,n)},Ge(UL,"props",{...Qc.props,keyStep:5,shiftKeyMultiplier:2}),Ge(UL,"state",kx),UL);var qy,ta,H6e,V6e,U6e,W6e,K6e,BK,q6e,G6e;class FK extends dr{constructor(){super(...arguments);le(this,ta);le(this,qy)}onSetup(){de(this,qy,Pi()),Xc(PC,{default:"percent",percent:(n,r)=>Qa(this.$state.value(),r)+"%"}),new Qc({getStep:this.$props.step,getKeyStep:this.$props.keyStep,roundValue:Math.round,isDisabled:N(this,ta,K6e).bind(this),aria:{valueNow:N(this,ta,H6e).bind(this),valueText:N(this,ta,V6e).bind(this)},onDragValueChange:N(this,ta,G6e).bind(this),onValueChange:N(this,ta,q6e).bind(this)}).attach(this),Xe(N(this,ta,U6e).bind(this)),Xe(N(this,ta,W6e).bind(this))}onAttach(n){n.setAttribute("data-media-audio-gain-slider",""),yi(n,"aria-label","Audio Boost");const{canSetAudioGain:r}=T(this,qy).$state;this.setAttributes({"data-supported":r,"aria-hidden":el(()=>!r())})}}qy=new WeakMap,ta=new WeakSet,H6e=function(){const{value:n}=this.$state;return Math.round(n())},V6e=function(){const{value:n}=this.$state;return n()+"%"},U6e=function(){const{min:n,max:r}=this.$props;this.$state.min.set(n()),this.$state.max.set(r())},W6e=function(){const{audioGain:n}=T(this,qy).$state,r=((n()??1)-1)*100;this.$state.value.set(r),this.dispatch("value-change",{detail:r})},K6e=function(){const{disabled:n}=this.$props,{canSetAudioGain:r}=T(this,qy).$state;return n()||!r()},BK=function(n){if(!n.trigger)return;const r=Qa(1+n.detail/100,2);T(this,qy).remote.changeAudioGain(r,n)},q6e=function(n){N(this,ta,BK).call(this,n)},G6e=function(n){N(this,ta,BK).call(this,n)},Ge(FK,"props",{...Qc.props,step:25,keyStep:25,shiftKeyMultiplier:2,min:0,max:300}),Ge(FK,"state",kx);var Gy,Os,Z6e,Y6e,X6e,Q6e,J6e,eMe,oT,tMe,nMe,rMe;class zK extends dr{constructor(){super(...arguments);le(this,Os);le(this,Gy);le(this,oT,a1(N(this,Os,tMe).bind(this),25))}onSetup(){de(this,Gy,Pi()),new Qc({getStep:this.$props.step,getKeyStep:this.$props.keyStep,roundValue:N(this,Os,J6e),isDisabled:N(this,Os,eMe).bind(this),aria:{valueNow:N(this,Os,Z6e).bind(this),valueText:N(this,Os,Y6e).bind(this)},onDragValueChange:N(this,Os,rMe).bind(this),onValueChange:N(this,Os,nMe).bind(this)}).attach(this),Xe(N(this,Os,X6e).bind(this)),Xe(N(this,Os,Q6e).bind(this))}onAttach(n){n.setAttribute("data-media-speed-slider",""),yi(n,"aria-label","Speed");const{canSetPlaybackRate:r}=T(this,Gy).$state;this.setAttributes({"data-supported":r,"aria-hidden":el(()=>!r())})}}Gy=new WeakMap,Os=new WeakSet,Z6e=function(){const{value:n}=this.$state;return n()},Y6e=function(){const{value:n}=this.$state;return n()+"x"},X6e=function(){const{min:n,max:r}=this.$props;this.$state.min.set(n()),this.$state.max.set(r())},Q6e=function(){const{playbackRate:n}=T(this,Gy).$state,r=n();this.$state.value.set(r),this.dispatch("value-change",{detail:r})},J6e=function(n){return Qa(n,2)},eMe=function(){const{disabled:n}=this.$props,{canSetPlaybackRate:r}=T(this,Gy).$state;return n()||!r()},oT=new WeakMap,tMe=function(n){if(!n.trigger)return;const r=n.detail;T(this,Gy).remote.changePlaybackRate(r,n)},nMe=function(n){T(this,oT).call(this,n)},rMe=function(n){T(this,oT).call(this,n)},Ge(zK,"props",{...Qc.props,step:.25,keyStep:.25,shiftKeyMultiplier:2,min:0,max:2}),Ge(zK,"state",kx);var Wf,K_,Ea,iMe,oMe,sMe,aMe,lMe,sT,uMe,cMe,dMe;class HK extends dr{constructor(){super(...arguments);le(this,Ea);le(this,Wf);le(this,K_,zg(()=>{const{qualities:n}=T(this,Wf).$state;return n4e(n())}));le(this,sT,a1(N(this,Ea,uMe).bind(this),25))}onSetup(){de(this,Wf,Pi()),new Qc({getStep:this.$props.step,getKeyStep:this.$props.keyStep,roundValue:Math.round,isDisabled:N(this,Ea,lMe).bind(this),aria:{valueNow:N(this,Ea,iMe).bind(this),valueText:N(this,Ea,oMe).bind(this)},onDragValueChange:N(this,Ea,dMe).bind(this),onValueChange:N(this,Ea,cMe).bind(this)}).attach(this),Xe(N(this,Ea,sMe).bind(this)),Xe(N(this,Ea,aMe).bind(this))}onAttach(n){n.setAttribute("data-media-quality-slider",""),yi(n,"aria-label","Video Quality");const{qualities:r,canSetQuality:i}=T(this,Wf).$state,o=zg(()=>i()&&r().length>0);this.setAttributes({"data-supported":o,"aria-hidden":el(()=>!o())})}}Wf=new WeakMap,K_=new WeakMap,Ea=new WeakSet,iMe=function(){const{value:n}=this.$state;return n()},oMe=function(){const{quality:n}=T(this,Wf).$state;if(!n())return"";const{height:r,bitrate:i}=n(),o=i&&i>0?`${(i/1e6).toFixed(2)} Mbps`:null;return r?`${r}p${o?` (${o})`:""}`:"Auto"},sMe=function(){const n=T(this,K_).call(this);this.$state.max.set(Math.max(0,n.length-1))},aMe=function(){let{quality:n}=T(this,Wf).$state,r=T(this,K_).call(this),i=Math.max(0,r.indexOf(n()));this.$state.value.set(i),this.dispatch("value-change",{detail:i})},lMe=function(){const{disabled:n}=this.$props,{canSetQuality:r,qualities:i}=T(this,Wf).$state;return n()||i().length<=1||!r()},sT=new WeakMap,uMe=function(n){if(!n.trigger)return;const{qualities:r}=T(this,Wf),i=wt(T(this,K_))[n.detail];T(this,Wf).remote.changeQuality(r.indexOf(i),n)},cMe=function(n){T(this,sT).call(this,n)},dMe=function(n){T(this,sT).call(this,n)},Ge(HK,"props",{...Qc.props,step:1,keyStep:1,shiftKeyMultiplier:1}),Ge(HK,"state",kx);var yo,q_,aT,gn,fMe,hMe,pMe,mMe,gMe,VK,vMe,G_,yMe,bMe,UK,wMe,WK,xMe,SMe,_Me,CMe,EMe,kMe,X1,PMe,$Me,TMe;class mD extends dr{constructor(){super();le(this,gn);le(this,yo);le(this,q_);le(this,aT,_n(null));le(this,G_,!1);const{noSwipeGesture:n}=this.$props;new Qc({swipeGesture:()=>!n(),getValue:N(this,gn,WK).bind(this),getStep:N(this,gn,xMe).bind(this),getKeyStep:N(this,gn,SMe).bind(this),roundValue:N(this,gn,_Me),isDisabled:N(this,gn,CMe).bind(this),aria:{valueNow:N(this,gn,EMe).bind(this),valueText:N(this,gn,kMe).bind(this)},onDragStart:N(this,gn,yMe).bind(this),onDragValueChange:N(this,gn,bMe).bind(this),onDragEnd:N(this,gn,UK).bind(this),onValueChange:N(this,gn,wMe).bind(this)})}onSetup(){de(this,yo,Pi()),Xc(PC,{default:"time",value:N(this,gn,$Me).bind(this),time:N(this,gn,TMe).bind(this)}),this.setAttributes({"data-chapters":N(this,gn,hMe).bind(this)}),this.setStyles({"--slider-progress":N(this,gn,fMe).bind(this)}),Xe(N(this,gn,mMe).bind(this)),Xe(N(this,gn,pMe).bind(this))}onAttach(n){n.setAttribute("data-media-time-slider",""),yi(n,"aria-label","Seek")}onConnect(n){Xe(N(this,gn,gMe).bind(this)),WQ(T(this,yo).textTracks,"chapters",T(this,aT).set)}}yo=new WeakMap,q_=new WeakMap,aT=new WeakMap,gn=new WeakSet,fMe=function(){const{bufferedEnd:n,duration:r}=T(this,yo).$state;return Qa(Math.min(n()/Math.max(r(),1),1)*100,3)+"%"},hMe=function(){var r;const{duration:n}=T(this,yo).$state;return((r=T(this,aT).call(this))==null?void 0:r.cues.length)&&Number.isFinite(n())&&n()>0},pMe=function(){de(this,q_,a1(N(this,gn,VK).bind(this),this.$props.seekingRequestThrottle()))},mMe=function(){if(this.$state.hidden())return;const{value:n,dragging:r}=this.$state,i=N(this,gn,WK).call(this);wt(r)||(n.set(i),this.dispatch("value-change",{detail:i}))},gMe=function(){const n=T(this,yo).player.el,{preview:r}=Vo(YQ);n&&r()&&On(n,"data-preview",this.$state.active())},VK=function(n,r){T(this,yo).remote.seeking(n,r)},vMe=function(n,r,i){T(this,q_).cancel();const{live:o}=T(this,yo).$state;if(o()&&r>=99){T(this,yo).remote.seekToLiveEdge(i);return}T(this,yo).remote.seek(n,i)},G_=new WeakMap,yMe=function(n){const{pauseWhileDragging:r}=this.$props;if(r()){const{paused:i}=T(this,yo).$state;de(this,G_,!i()),T(this,yo).remote.pause(n)}},bMe=function(n){T(this,q_).call(this,N(this,gn,X1).call(this,n.detail),n)},UK=function(n){const{seeking:r}=T(this,yo).$state;wt(r)||N(this,gn,VK).call(this,N(this,gn,X1).call(this,n.detail),n);const i=n.detail;N(this,gn,vMe).call(this,N(this,gn,X1).call(this,i),i,n);const{pauseWhileDragging:o}=this.$props;o()&&T(this,G_)&&(T(this,yo).remote.play(n),de(this,G_,!1))},wMe=function(n){const{dragging:r}=this.$state;r()||!n.trigger||N(this,gn,UK).call(this,n)},WK=function(){const{currentTime:n}=T(this,yo).$state;return N(this,gn,PMe).call(this,n())},xMe=function(){const n=this.$props.step()/T(this,yo).$state.duration()*100;return Number.isFinite(n)?n:1},SMe=function(){const n=this.$props.keyStep()/T(this,yo).$state.duration()*100;return Number.isFinite(n)?n:1},_Me=function(n){return Qa(n,3)},CMe=function(){const{disabled:n}=this.$props,{canSeek:r}=T(this,yo).$state;return n()||!r()},EMe=function(){const{value:n}=this.$state;return Math.round(n())},kMe=function(){const n=N(this,gn,X1).call(this,this.$state.value()),{duration:r}=T(this,yo).$state;return Number.isFinite(n)?`${fD(n)} out of ${fD(r())}`:"live"},X1=function(n){const{duration:r}=T(this,yo).$state;return Qa(n/100*r(),5)},PMe=function(n){const{liveEdge:r,duration:i}=T(this,yo).$state,o=Math.max(0,Math.min(1,r()?1:Math.min(n,i())/i()));return Number.isNaN(o)?0:Number.isFinite(o)?o*100:100},$Me=function(n){const r=N(this,gn,X1).call(this,n),{live:i,duration:o}=T(this,yo).$state;return Number.isFinite(r)?(i()?r-o():r).toFixed(0):"LIVE"},TMe=function(n,r){const i=N(this,gn,X1).call(this,n),{live:o,duration:s}=T(this,yo).$state,a=o()?i-s():i;return Number.isFinite(i)?`${a<0?"-":""}${y7(Math.abs(a),r)}`:"LIVE"},Ge(mD,"props",{...Qc.props,step:.1,keyStep:5,shiftKeyMultiplier:2,pauseWhileDragging:!1,noSwipeGesture:!1,seekingRequestThrottle:100}),Ge(mD,"state",kx);var Nu,dw,Z_,ip,Gl,fw,Zl,eg,hw,Zy,vn,KK,qK,MMe,LMe,AMe,IMe,RMe,VA,GK,ZK,DMe,O9,j9,OMe,UA,WA,jMe,NMe,FMe,BMe,lT,zMe,HMe,VMe;class QQ extends dr{constructor(){super(...arguments);le(this,vn);le(this,Nu);le(this,dw);le(this,Z_);le(this,ip,null);le(this,Gl,[]);le(this,fw,_n(null));le(this,Zl,_n([]));le(this,eg,_n(-1));le(this,hw,_n(-1));le(this,Zy,0);le(this,O9,s1(n=>{var l;let r,i=T(this,Zl).call(this),{seekableStart:o}=T(this,Nu).$state,s=o(),a=N(this,vn,UA).call(this,i);for(let u=T(this,Zy);u<T(this,Gl).length;u++)if(r=N(this,vn,WA).call(this,i[u],n,s,a),(l=T(this,Gl)[u])==null||l.style.setProperty("--chapter-progress",r+"%"),r<100){de(this,Zy,u);break}}));le(this,j9,zg(N(this,vn,OMe).bind(this)));le(this,lT,v7(()=>{const n=wt(T(this,fw));!this.scope||!n||!n.cues.length||(T(this,Zl).set(N(this,vn,jMe).call(this,n.cues)),T(this,eg).set(0),de(this,Zy,0))},150,!0))}get cues(){return T(this,Zl).call(this)}get activeCue(){return T(this,Zl).call(this)[T(this,eg).call(this)]||null}get activePointerCue(){return T(this,Zl).call(this)[T(this,hw).call(this)]||null}onSetup(){de(this,Nu,Pi()),de(this,dw,d3(mD.state))}onAttach(n){WQ(T(this,Nu).textTracks,"chapters",N(this,vn,KK).bind(this)),Xe(N(this,vn,NMe).bind(this))}onConnect(){Jn(()=>N(this,vn,qK).bind(this))}onDestroy(){N(this,vn,KK).call(this,null)}setRefs(n){var r;if(de(this,Gl,n),(r=T(this,Z_))==null||r.dispose(),T(this,Gl).length===1){const i=T(this,Gl)[0];i.style.width="100%",i.style.setProperty("--chapter-fill","var(--slider-fill)"),i.style.setProperty("--chapter-progress","var(--slider-progress)")}else T(this,Gl).length>0&&Ts(()=>N(this,vn,MMe).call(this),de(this,Z_,EC()))}}Nu=new WeakMap,dw=new WeakMap,Z_=new WeakMap,ip=new WeakMap,Gl=new WeakMap,fw=new WeakMap,Zl=new WeakMap,eg=new WeakMap,hw=new WeakMap,Zy=new WeakMap,vn=new WeakSet,KK=function(n){wt(T(this,fw))!==n&&(N(this,vn,qK).call(this),T(this,fw).set(n))},qK=function(){var n;de(this,Gl,[]),T(this,Zl).set([]),T(this,eg).set(-1),T(this,hw).set(-1),de(this,Zy,0),(n=T(this,Z_))==null||n.dispose()},MMe=function(){T(this,Gl).length&&Xe(N(this,vn,LMe).bind(this))},LMe=function(){const{hidden:n}=T(this,dw);n()||(Xe(N(this,vn,AMe).bind(this)),Xe(N(this,vn,IMe).bind(this)),Xe(N(this,vn,RMe).bind(this)),Xe(N(this,vn,DMe).bind(this)))},AMe=function(){const n=T(this,Zl).call(this);if(!n.length)return;let r,{seekableStart:i,seekableEnd:o}=T(this,Nu).$state,s=i(),a=o()||n[n.length-1].endTime,l=a-s,u=100;for(let c=0;c<n.length;c++)if(r=n[c],T(this,Gl)[c]){const f=c===n.length-1?u:Qa((r.endTime-Math.max(s,r.startTime))/l*100,3);T(this,Gl)[c].style.width=f+"%",u-=f}},IMe=function(){let{liveEdge:n,seekableStart:r,seekableEnd:i}=T(this,Nu).$state,{fillPercent:o,value:s}=T(this,dw),a=T(this,Zl).call(this),l=n(),u=wt(T(this,eg)),c=a[u],f=l?T(this,Zl).length-1:N(this,vn,ZK).call(this,c&&c.startTime/i()*100<=wt(s)?u:0,o());l||!c?N(this,vn,VA).call(this,0,a.length,100):f>u?N(this,vn,VA).call(this,u,f,100):f<u&&N(this,vn,VA).call(this,f+1,u+1,0);const p=l?100:N(this,vn,WA).call(this,a[f],o(),r(),N(this,vn,UA).call(this,a));N(this,vn,GK).call(this,T(this,Gl)[f],p),T(this,eg).set(f)},RMe=function(){let{hidden:n,pointerPercent:r}=T(this,dw);if(n()){T(this,hw).set(-1);return}const i=N(this,vn,ZK).call(this,0,r());T(this,hw).set(i)},VA=function(n,r,i){for(let o=n;o<r;o++)N(this,vn,GK).call(this,T(this,Gl)[o],i)},GK=function(n,r){n&&(n.style.setProperty("--chapter-fill",r+"%"),On(n,"data-active",r>0&&r<100),On(n,"data-ended",r===100))},ZK=function(n,r){let i=0,o=T(this,Zl).call(this);if(r===0)return 0;if(r===100)return o.length-1;let{seekableStart:s}=T(this,Nu).$state,a=s(),l=N(this,vn,UA).call(this,o);for(let u=n;u<o.length;u++)if(i=N(this,vn,WA).call(this,o[u],r,a,l),i>=0&&i<100)return u;return 0},DMe=function(){T(this,O9).call(this,T(this,j9).call(this))},O9=new WeakMap,j9=new WeakMap,OMe=function(){const{bufferedEnd:n,duration:r}=T(this,Nu).$state;return Qa(Math.min(n()/Math.max(r(),1),1),3)*100},UA=function(n){var o;const{seekableEnd:r}=T(this,Nu).$state,i=r();return Number.isFinite(i)?i:((o=n[n.length-1])==null?void 0:o.endTime)||0},WA=function(n,r,i,o){if(!n||T(this,Zl).call(this).length===0)return 0;const a=o-i,l=Math.max(0,n.startTime-i),u=Math.min(o,n.endTime)-i,c=l/a,f=c*100,p=Math.min(1,c+(u-l)/a)*100;return Math.max(0,Qa(r>=p?100:(r-f)/(p-f)*100,3))},jMe=function(n){let r=[],{seekableStart:i,seekableEnd:o,duration:s}=T(this,Nu).$state,a=i(),l=o();n=n.filter(f=>f.startTime<=l&&f.endTime>=a);const u=n[0];u&&u.startTime>a&&r.push(new window.VTTCue(a,u.startTime,""));for(let f=0;f<n.length-1;f++){const p=n[f],g=n[f+1];if(r.push(p),g){const v=g.startTime-p.endTime;v>0&&r.push(new window.VTTCue(p.endTime,p.endTime+v,""))}}const c=n[n.length-1];if(c){r.push(c);const f=s();f>=0&&f-c.endTime>1&&r.push(new window.VTTCue(c.endTime,s(),""))}return r},NMe=function(){const{source:n}=T(this,Nu).$state;n(),N(this,vn,FMe).call(this)},FMe=function(){if(!this.scope)return;const{disabled:n}=this.$props;if(n()){T(this,Zl).set([]),T(this,eg).set(0),de(this,Zy,0);return}const r=T(this,fw).call(this);if(r){const i=T(this,lT).bind(this);i(),new Xr(r).add("add-cue",i).add("remove-cue",i),Xe(N(this,vn,BMe).bind(this))}return de(this,ip,N(this,vn,VMe).call(this)),T(this,ip)&&Xe(N(this,vn,zMe).bind(this)),()=>{T(this,ip)&&(T(this,ip).textContent="",de(this,ip,null))}},BMe=function(){T(this,Nu).$state.duration(),T(this,lT).call(this)},lT=new WeakMap,zMe=function(){const n=this.activePointerCue||this.activeCue;T(this,ip)&&(T(this,ip).textContent=(n==null?void 0:n.text)||"")},HMe=function(){let n=this.el;for(;n&&n.getAttribute("role")!=="slider";)n=n.parentElement;return n},VMe=function(){const n=N(this,vn,HMe).call(this);return n?n.querySelector('[data-part="chapter-title"]'):null},Ge(QQ,"props",{disabled:!1});const b7=QQ.prototype;xi(b7,"cues");xi(b7,"activeCue");xi(b7,"activePointerCue");na(b7,"setRefs");const Cg=uv();function vpt(e,t){const n=hPe(e,t);for(const{el:r,top:i,left:o}of n)r.scroll({top:i,left:o,behavior:t.behavior})}function ypt(e,t={}){vpt(e,{scrollMode:"if-needed",block:"center",inline:"center",...t})}const bpt=["a[href]","[tabindex]","input","select","button"].map(e=>`${e}:not([aria-hidden='true'])`).join(","),wpt=new Set(["Escape","Tab","ArrowUp","ArrowDown","Home","PageUp","End","PageDown","Enter"," "]);var Yy,Kf,Fu,uT,Wi,Q1,YK,UMe,XK,WMe,KMe,KA,qMe;class xpt{constructor(t){le(this,Wi);le(this,Yy,-1);le(this,Kf,null);le(this,Fu,[]);le(this,uT);de(this,uT,t)}get items(){return T(this,Fu)}attachMenu(t){no(t,"focus",N(this,Wi,UMe).bind(this)),de(this,Kf,t),Jn(()=>{de(this,Kf,null)})}listen(){T(this,Kf)&&(this.update(),new Xr(T(this,Kf)).add("keyup",N(this,Wi,WMe).bind(this)).add("keydown",N(this,Wi,KMe).bind(this)),Jn(()=>{de(this,Yy,-1),de(this,Fu,[])}))}update(){de(this,Yy,0),de(this,Fu,N(this,Wi,qMe).call(this))}scroll(t=N(this,Wi,YK).call(this)){const n=T(this,Fu)[t];n&&requestAnimationFrame(()=>{requestAnimationFrame(()=>{ypt(n,{behavior:"smooth",boundary:r=>!r.hasAttribute("data-root")})})})}focusActive(t=!0){const n=N(this,Wi,YK).call(this);N(this,Wi,Q1).call(this,n>=0?n:0,t)}}Yy=new WeakMap,Kf=new WeakMap,Fu=new WeakMap,uT=new WeakMap,Wi=new WeakSet,Q1=function(t,n=!0){var r;de(this,Yy,t),T(this,Fu)[t]?(T(this,Fu)[t].focus({preventScroll:!0}),n&&this.scroll(t)):(r=T(this,Kf))==null||r.focus({preventScroll:!0})},YK=function(){return T(this,Fu).findIndex(t=>document.activeElement===t||t.getAttribute("role")==="menuitemradio"&&t.getAttribute("aria-checked")==="true")},UMe=function(){T(this,Yy)>=0||(this.update(),this.focusActive())},XK=function(t){const n=t.target;if(Jke(t)&&n instanceof Element){const r=n.getAttribute("role");return!/a|input|select|button/.test(n.localName)&&!r}return wpt.has(t.key)},WMe=function(t){N(this,Wi,XK).call(this,t)&&(t.stopPropagation(),t.preventDefault())},KMe=function(t){if(N(this,Wi,XK).call(this,t))switch(t.stopPropagation(),t.preventDefault(),t.key){case"Escape":T(this,uT).closeMenu(t);break;case"Tab":N(this,Wi,Q1).call(this,N(this,Wi,KA).call(this,t.shiftKey?-1:1));break;case"ArrowUp":N(this,Wi,Q1).call(this,N(this,Wi,KA).call(this,-1));break;case"ArrowDown":N(this,Wi,Q1).call(this,N(this,Wi,KA).call(this,1));break;case"Home":case"PageUp":N(this,Wi,Q1).call(this,0);break;case"End":case"PageDown":N(this,Wi,Q1).call(this,T(this,Fu).length-1);break}},KA=function(t){var r;let n=T(this,Yy);do n=(n+t+T(this,Fu).length)%T(this,Fu).length;while(((r=T(this,Fu)[n])==null?void 0:r.offsetParent)===null);return n},qMe=function(){if(!T(this,Kf))return[];const t=T(this,Kf).querySelectorAll(bpt),n=[],r=i=>i.getAttribute("role")==="menu";for(const i of t)lD(i)&&i.offsetParent!==null&&WPe(T(this,Kf),i,r)&&n.push(i);return n};var Spt=Object.defineProperty,_pt=Object.getOwnPropertyDescriptor,ZT=(e,t,n,r)=>{for(var i=_pt(t,n),o=e.length-1,s;o>=0;o--)(s=e[o])&&(i=s(t,n,i)||i);return i&&Spt(t,n,i),i};let Cpt=0;var $H,qf,Y_,X_,Yl,cT,op,ma,Xy,Qy,pw,mw,tg,gw,dT,vw,jn,GMe,ZMe,YMe,XMe,QMe,QK,JMe,Q_,eLe,JK,tLe,Ck,nLe,rLe,iLe,oLe,sLe,aLe,N9,lLe,J_,F9,uLe,B9,cLe,eC,tC,dLe;let v3=($H=class extends dr{constructor(){super();le(this,jn);le(this,qf);le(this,Y_);le(this,X_);le(this,Yl,_n(!1));le(this,cT,_n(!1));le(this,op,_n(null));le(this,ma,_n(null));le(this,Xy);le(this,Qy,new Set);le(this,pw,null);le(this,mw);le(this,tg);le(this,gw,!1);le(this,dT,_n(!1));le(this,vw,new Set);le(this,Q_,!1);le(this,N9,N(this,jn,lLe).bind(this));le(this,J_,!1);le(this,F9,N(this,jn,uLe).bind(this));le(this,B9,N(this,jn,cLe).bind(this));le(this,eC,s1(()=>{const n=wt(T(this,ma));if(!n||Ut)return;let r=0,i=getComputedStyle(n),o=[...n.children];for(const s of["paddingTop","paddingBottom","borderTopWidth","borderBottomWidth"])r+=parseFloat(i[s])||0;for(const s of o)if(lD(s)&&s.style.display==="contents")o.push(...s.children);else if(s.nodeType===3)r+=parseFloat(getComputedStyle(s).fontSize);else if(lD(s)){if(!VPe(s))continue;const a=getComputedStyle(s);r+=s.offsetHeight+(parseFloat(a.marginTop)||0)+(parseFloat(a.marginBottom)||0)}lu(n,"--menu-height",r+"px")}));le(this,tC,!1);const{showDelay:n}=this.$props;de(this,mw,new s5e({trigger:T(this,op),content:T(this,ma),showDelay:n,listen:(r,i,o)=>{O0(r,a=>{T(this,Yl).call(this)?o(a):i(a)});const s=N(this,jn,oLe).call(this);s&&O0(s,a=>{a.stopPropagation(),o(a)})},onChange:N(this,jn,eLe).bind(this)}))}get triggerElement(){return T(this,op).call(this)}get contentElement(){return T(this,ma).call(this)}get isSubmenu(){return!!T(this,Xy)}onSetup(){de(this,qf,Pi());const n=++Cpt;de(this,Y_,`media-menu-${n}`),de(this,X_,`media-menu-button-${n}`),de(this,tg,new xpt({closeMenu:this.close.bind(this)})),Hg(Cg)&&de(this,Xy,Vo(Cg)),N(this,jn,GMe).call(this),this.setAttributes({"data-open":T(this,Yl),"data-root":!this.isSubmenu,"data-submenu":this.isSubmenu,"data-disabled":N(this,jn,Ck).bind(this)}),Xc(Cg,{button:T(this,op),content:T(this,ma),expanded:T(this,Yl),hint:_n(""),submenu:!!T(this,Xy),disable:N(this,jn,nLe).bind(this),attachMenuButton:N(this,jn,YMe).bind(this),attachMenuItems:N(this,jn,XMe).bind(this),attachObserver:N(this,jn,QMe).bind(this),disableMenuButton:N(this,jn,JMe).bind(this),addSubmenu:N(this,jn,aLe).bind(this),onTransitionEvent:r=>{T(this,vw).add(r),Jn(()=>{T(this,vw).delete(r)})}})}onAttach(n){n.style.setProperty("display","contents")}onConnect(n){var r;Xe(N(this,jn,ZMe).bind(this)),this.isSubmenu&&((r=T(this,Xy))==null||r.addSubmenu(this))}onDestroy(){T(this,op).set(null),T(this,ma).set(null),de(this,pw,null),T(this,vw).clear()}open(n){wt(T(this,Yl))||(T(this,mw).show(n),sh())}close(n){wt(T(this,Yl))&&(T(this,mw).hide(n),sh())}},qf=new WeakMap,Y_=new WeakMap,X_=new WeakMap,Yl=new WeakMap,cT=new WeakMap,op=new WeakMap,ma=new WeakMap,Xy=new WeakMap,Qy=new WeakMap,pw=new WeakMap,mw=new WeakMap,tg=new WeakMap,gw=new WeakMap,dT=new WeakMap,vw=new WeakMap,jn=new WeakSet,GMe=function(){let n=-1,r=Hg(yP)?Vo(yP):null;Xc(yP,{onDragStart:()=>{var i;(i=r==null?void 0:r.onDragStart)==null||i.call(r),window.clearTimeout(n),n=-1,de(this,gw,!0)},onDragEnd:()=>{var i;(i=r==null?void 0:r.onDragEnd)==null||i.call(r),n=window.setTimeout(()=>{de(this,gw,!1),n=-1},300)}})},ZMe=function(){const n=N(this,jn,tLe).call(this);this.isSubmenu||T(this,eC).call(this),N(this,jn,QK).call(this,n),n&&(Xe(()=>{const{height:r}=T(this,qf).$state,i=T(this,ma).call(this);i&&lu(i,"--player-height",r()+"px")}),T(this,tg).listen(),this.listen("pointerup",N(this,jn,rLe).bind(this)),no(window,"pointerup",N(this,jn,iLe).bind(this)))},YMe=function(n){const r=n.el,i=this.isSubmenu,o=el(N(this,jn,Ck).bind(this));yi(r,"tabindex",i?"-1":"0"),yi(r,"role",i?"menuitem":"button"),On(r,"id",T(this,X_)),On(r,"aria-haspopup","menu"),On(r,"aria-expanded","false"),On(r,"data-root",!this.isSubmenu),On(r,"data-submenu",this.isSubmenu);const s=()=>{On(r,"data-open",T(this,Yl).call(this)),On(r,"aria-disabled",o())};Ut?s():Xe(s),T(this,op).set(r),Jn(()=>{T(this,op).set(null)})},XMe=function(n){var s;const r=n.el;r.style.setProperty("display","none"),On(r,"id",T(this,Y_)),yi(r,"role","menu"),yi(r,"tabindex","-1"),On(r,"data-root",!this.isSubmenu),On(r,"data-submenu",this.isSubmenu),T(this,ma).set(r),Jn(()=>T(this,ma).set(null));const i=()=>On(r,"data-open",T(this,Yl).call(this));Ut?i():Xe(i),T(this,tg).attachMenu(r),N(this,jn,QK).call(this,!1);const o=N(this,jn,dLe).bind(this);this.isSubmenu?(s=T(this,Xy))==null||s.onTransitionEvent(o):(n.listen("transitionstart",o),n.listen("transitionend",o),n.listen("animationend",T(this,eC)),n.listen("vds-menu-resize",T(this,eC)))},QMe=function(n){de(this,pw,n)},QK=function(n){const r=wt(T(this,ma));r&&On(r,"aria-hidden",E4(!n))},JMe=function(n){T(this,dT).set(n)},Q_=new WeakMap,eLe=function(n,r){var s,a,l,u,c,f;if(de(this,Q_,WT(r)),r==null||r.stopPropagation(),T(this,Yl).call(this)===n)return;if(N(this,jn,Ck).call(this)){n&&T(this,mw).hide(r);return}(s=this.el)==null||s.dispatchEvent(new Event("vds-menu-resize",{bubbles:!0,composed:!0}));const i=T(this,op).call(this),o=T(this,ma).call(this);if(i&&(On(i,"aria-controls",n&&T(this,Y_)),On(i,"aria-expanded",E4(n))),o&&On(o,"aria-labelledby",n&&T(this,X_)),T(this,Yl).set(n),N(this,jn,sLe).call(this,r),sh(),T(this,Q_)){n?o==null||o.focus():i==null||i.focus();for(const p of[this.el,o])p&&p.setAttribute("data-keyboard","")}else for(const p of[this.el,o])p&&p.removeAttribute("data-keyboard");if(this.dispatch(n?"open":"close",{trigger:r}),n)!this.isSubmenu&&T(this,qf).activeMenu!==this&&((a=T(this,qf).activeMenu)==null||a.close(r),T(this,qf).activeMenu=this),(u=(l=T(this,pw))==null?void 0:l.onOpen)==null||u.call(l,r);else{if(this.isSubmenu)for(const p of T(this,Qy))p.close(r);else T(this,qf).activeMenu=null;(f=(c=T(this,pw))==null?void 0:c.onClose)==null||f.call(c,r)}n&&requestAnimationFrame(N(this,jn,JK).bind(this))},JK=function(){T(this,tC)||T(this,J_)||(T(this,tg).update(),requestAnimationFrame(()=>{T(this,Q_)?T(this,tg).focusActive():T(this,tg).scroll()}))},tLe=function(){return!N(this,jn,Ck).call(this)&&T(this,Yl).call(this)},Ck=function(){return T(this,cT).call(this)||T(this,dT).call(this)},nLe=function(n){T(this,cT).set(n)},rLe=function(n){const r=T(this,ma).call(this);T(this,gw)||r&&cle(r,n)||n.stopPropagation()},iLe=function(n){const r=T(this,ma).call(this);T(this,gw)||r&&cle(r,n)||this.close(n)},oLe=function(){var r;const n=(r=this.el)==null?void 0:r.querySelector('[data-part="close-target"]');return this.el&&n&&WPe(this.el,n,i=>i.getAttribute("role")==="menu")?n:null},sLe=function(n){this.isSubmenu||(T(this,Yl).call(this)?T(this,qf).remote.pauseControls(n):T(this,qf).remote.resumeControls(n))},aLe=function(n){T(this,Qy).add(n),new Xr(n).add("open",T(this,F9)).add("close",T(this,B9)),Jn(T(this,N9))},N9=new WeakMap,lLe=function(n){T(this,Qy).delete(n)},J_=new WeakMap,F9=new WeakMap,uLe=function(n){var i;de(this,J_,!0);const r=T(this,ma).call(this);this.isSubmenu&&((i=this.triggerElement)==null||i.setAttribute("aria-hidden","true"));for(const o of T(this,Qy))if(o!==n.target)for(const s of[o.el,o.triggerElement])s==null||s.setAttribute("aria-hidden","true");if(r){const o=n.target.el;for(const s of r.children)s.contains(o)?s.setAttribute("data-open",""):s!==o&&s.setAttribute("data-hidden","")}},B9=new WeakMap,cLe=function(n){var i;de(this,J_,!1);const r=T(this,ma).call(this);this.isSubmenu&&((i=this.triggerElement)==null||i.setAttribute("aria-hidden","false"));for(const o of T(this,Qy))for(const s of[o.el,o.triggerElement])s==null||s.setAttribute("aria-hidden","false");if(r)for(const o of r.children)o.removeAttribute("data-open"),o.removeAttribute("data-hidden")},eC=new WeakMap,tC=new WeakMap,dLe=function(n){const r=T(this,ma).call(this);r&&n.propertyName==="height"&&(de(this,tC,n.type==="transitionstart"),On(r,"data-transition",T(this,tC)?"height":null),T(this,Yl).call(this)&&N(this,jn,JK).call(this));for(const i of T(this,vw))i(n)},Ge($H,"props",{showDelay:0}),$H);ZT([xi],v3.prototype,"triggerElement");ZT([xi],v3.prototype,"contentElement");ZT([xi],v3.prototype,"isSubmenu");ZT([na],v3.prototype,"open");ZT([na],v3.prototype,"close");var TH,Jy,fT,ev,fLe,hLe,eq;let JQ=(TH=class extends dr{constructor(){super();le(this,ev);le(this,Jy);le(this,fT,_n(null));new Sh}get expanded(){var n;return((n=T(this,Jy))==null?void 0:n.expanded())??!1}onSetup(){de(this,Jy,Vo(Cg))}onAttach(n){T(this,Jy).attachMenuButton(this),Xe(N(this,ev,fLe).bind(this)),yi(n,"type","button")}onConnect(n){Xe(N(this,ev,hLe).bind(this)),N(this,ev,eq).call(this);const r=new MutationObserver(N(this,ev,eq).bind(this));r.observe(n,{attributeFilter:["data-part"],childList:!0,subtree:!0}),Jn(()=>r.disconnect()),O0(n,i=>{this.dispatch("select",{trigger:i})})}},Jy=new WeakMap,fT=new WeakMap,ev=new WeakSet,fLe=function(){T(this,Jy).disableMenuButton(this.$props.disabled())},hLe=function(){const n=T(this,fT).call(this);n&&Xe(()=>{const r=T(this,Jy).hint();r&&(n.textContent=r)})},eq=function(){var r;const n=(r=this.el)==null?void 0:r.querySelector('[data-part="hint"]');T(this,fT).set(n??null)},Ge(TH,"props",{disabled:!1}),TH);const Ept=JQ.prototype;xi(Ept,"expanded");let kpt=class extends JQ{};const FF=uv();var yw,q0,mLe,gLe,vLe;class pLe extends dr{constructor(){super();le(this,q0);le(this,yw);new Sh;const{placement:n}=this.$props;this.setAttributes({"data-placement":n})}onAttach(n){if(de(this,yw,Vo(Cg)),T(this,yw).attachMenuItems(this),Hg(FF)){const r=Vo(FF);r&&(Xc(FF,null),r.attach(n),Jn(()=>r.attach(null)))}}onConnect(n){Xe(N(this,q0,mLe).bind(this))}}yw=new WeakMap,q0=new WeakSet,mLe=function(){const{expanded:n}=T(this,yw);if(!this.el||!n())return;const r=this.$props.placement();if(!r)return;Object.assign(this.el.style,{position:"absolute",top:0,left:0,width:"max-content"});const{offset:i,alignOffset:o}=this.$props;Jn(qPe(this.el,N(this,q0,vLe).call(this),r,{offsetVarName:"media-menu",xOffset:o(),yOffset:i()})),Jn(N(this,q0,gLe).bind(this))},gLe=function(){this.el&&(this.el.removeAttribute("style"),this.el.style.display="none")},vLe=function(){return T(this,yw).button()},Ge(pLe,"props",{placement:null,offset:0,alignOffset:0});const tq=uv();var ng,e0,eY,ff,bLe,wLe,z9,nq,rq;class yLe extends dd{constructor(){super(...arguments);le(this,ff);le(this,ng,new Set);le(this,e0,_n(""));le(this,eY,null);Ge(this,"onValueChange");le(this,z9,N(this,ff,nq).bind(this))}get values(){return Array.from(T(this,ng)).map(n=>n.value())}get value(){return T(this,e0).call(this)}set value(n){N(this,ff,nq).call(this,n)}onSetup(){Xc(tq,{add:N(this,ff,bLe).bind(this),remove:N(this,ff,wLe).bind(this)})}onAttach(n){Hg(Cg)||yi(n,"role","radiogroup"),this.setAttributes({value:T(this,e0)})}onDestroy(){T(this,ng).clear()}}ng=new WeakMap,e0=new WeakMap,eY=new WeakMap,ff=new WeakSet,bLe=function(n){T(this,ng).has(n)||(T(this,ng).add(n),n.onCheck=T(this,z9),n.check(n.value()===T(this,e0).call(this)))},wLe=function(n){n.onCheck=null,T(this,ng).delete(n)},z9=new WeakMap,nq=function(n,r){var a;const i=wt(T(this,e0));if(!n||n===i)return;const o=N(this,ff,rq).call(this,i),s=N(this,ff,rq).call(this,n);o==null||o.check(!1,r),s==null||s.check(!0,r),T(this,e0).set(n),(a=this.onValueChange)==null||a.call(this,n,r)},rq=function(n){for(const r of T(this,ng))if(n===wt(r.value))return r;return null};var rg,vx,iq,xLe;class eJ extends dr{constructor(){super();le(this,vx);le(this,rg);de(this,rg,new yLe),T(this,rg).onValueChange=N(this,vx,xLe).bind(this)}get values(){return T(this,rg).values}get value(){return T(this,rg).value}set value(n){T(this,rg).value=n}onSetup(){Ut?N(this,vx,iq).call(this):Xe(N(this,vx,iq).bind(this))}}rg=new WeakMap,vx=new WeakSet,iq=function(){T(this,rg).value=this.$props.value()},xLe=function(n,r){const i=this.createEvent("change",{detail:n,trigger:r});this.dispatch(i)},Ge(eJ,"props",{value:""});const SLe=eJ.prototype;xi(SLe,"values");xi(SLe,"value");var sp,bw,rl,_Le,CLe,ELe,kLe,PLe,oq,$Le;class tJ extends dr{constructor(){super();le(this,rl);le(this,sp,_n(!1));le(this,bw,{value:this.$props.value,check:N(this,rl,PLe).bind(this),onCheck:null});new Sh}get checked(){return T(this,sp).call(this)}onSetup(){this.setAttributes({value:this.$props.value,"data-checked":T(this,sp),"aria-checked":el(T(this,sp))})}onAttach(n){const r=Hg(Cg);yi(n,"tabindex",r?"-1":"0"),yi(n,"role",r?"menuitemradio":"radio"),Xe(N(this,rl,ELe).bind(this))}onConnect(n){N(this,rl,CLe).call(this),O0(n,N(this,rl,kLe).bind(this)),Jn(N(this,rl,_Le).bind(this))}}sp=new WeakMap,bw=new WeakMap,rl=new WeakSet,_Le=function(){Ts(()=>{Vo(tq).remove(T(this,bw))},this.connectScope)},CLe=function(){Vo(tq).add(T(this,bw))},ELe=function(){var i,o;const{value:n}=this.$props,r=n();wt(T(this,sp))&&((o=(i=T(this,bw)).onCheck)==null||o.call(i,r))},kLe=function(n){var r,i;wt(T(this,sp))||(N(this,rl,oq).call(this,!0,n),N(this,rl,$Le).call(this,n),(i=(r=T(this,bw)).onCheck)==null||i.call(r,wt(this.$props.value),n))},PLe=function(n,r){wt(T(this,sp))!==n&&N(this,rl,oq).call(this,n,r)},oq=function(n,r){T(this,sp).set(n),this.dispatch("change",{detail:n,trigger:r})},$Le=function(n){this.dispatch("select",{trigger:n})},Ge(tJ,"props",{value:""});const Ppt=tJ.prototype;xi(Ppt,"checked");var MH,Ic,nC,fu,TLe,ap,hT,MLe,sq,LLe,ALe,ILe;let $pt=(MH=class extends dr{constructor(){super(...arguments);le(this,fu);le(this,Ic);le(this,nC,null);le(this,ap,0);le(this,hT,-1)}onSetup(){de(this,Ic,Pi());const{event:n,action:r}=this.$props;this.setAttributes({event:n,action:r})}onAttach(n){n.setAttribute("data-media-gesture",""),n.style.setProperty("pointer-events","none")}onConnect(n){var r;de(this,nC,(r=T(this,Ic).player.el)==null?void 0:r.querySelector("[data-media-provider]")),Xe(N(this,fu,TLe).bind(this))}},Ic=new WeakMap,nC=new WeakMap,fu=new WeakSet,TLe=function(){let n=this.$props.event(),r=this.$props.disabled();!T(this,nC)||!n||r||(/^dbl/.test(n)&&(n=n.split(/^dbl/)[1]),(n==="pointerup"||n==="pointerdown")&&T(this,Ic).$state.pointer()==="coarse"&&(n=n==="pointerup"?"touchend":"touchstart"),no(T(this,nC),n,N(this,fu,MLe).bind(this),{passive:!1}))},ap=new WeakMap,hT=new WeakMap,MLe=function(n){if(this.$props.disabled()||XU(n)&&(n.button!==0||T(this,Ic).activeMenu)||mP(n)&&T(this,Ic).activeMenu||qQ(n)||!N(this,fu,LLe).call(this,n))return;n.MEDIA_GESTURE=!0,n.preventDefault();const r=wt(this.$props.event);if(!(r==null?void 0:r.startsWith("dbl")))T(this,ap)===0&&setTimeout(()=>{T(this,ap)===1&&N(this,fu,sq).call(this,n)},250);else if(T(this,ap)===1){queueMicrotask(()=>N(this,fu,sq).call(this,n)),clearTimeout(T(this,hT)),de(this,ap,0);return}T(this,ap)===0&&de(this,hT,window.setTimeout(()=>{de(this,ap,0)},275)),Xre(this,ap)._++},sq=function(n){this.el.setAttribute("data-triggered",""),requestAnimationFrame(()=>{N(this,fu,ALe).call(this)&&N(this,fu,ILe).call(this,wt(this.$props.action),n),requestAnimationFrame(()=>{this.el.removeAttribute("data-triggered")})})},LLe=function(n){if(!this.el)return!1;if(XU(n)||Qke(n)||mP(n)){const r=mP(n)?n.changedTouches[0]??n.touches[0]:void 0,i=(r==null?void 0:r.clientX)??n.clientX,o=(r==null?void 0:r.clientY)??n.clientY,s=this.el.getBoundingClientRect(),a=o>=s.top&&o<=s.bottom&&i>=s.left&&i<=s.right;return n.type.includes("leave")?!a:a}return!0},ALe=function(){const n=T(this,Ic).player.el.querySelectorAll("[data-media-gesture][data-triggered]");return Array.from(n).sort((r,i)=>+getComputedStyle(i).zIndex-+getComputedStyle(r).zIndex)[0]===this.el},ILe=function(n,r){if(!n)return;const i=new Vr("will-trigger",{detail:n,cancelable:!0,trigger:r});if(this.dispatchEvent(i),i.defaultPrevented)return;const[o,s]=n.replace(/:([a-z])/,"-$1").split(":");n.includes(":fullscreen")?T(this,Ic).remote.toggleFullscreen("prefer-media",r):n.includes("seek:")?T(this,Ic).remote.seek(wt(T(this,Ic).$state.currentTime)+(+s||0),r):T(this,Ic).remote[jQ(o)](r),this.dispatch("trigger",{detail:n,trigger:r})},Ge(MH,"props",{disabled:!1,event:void 0,action:void 0}),MH);var rC,ig,og,pT,aq;class Tpt{constructor(t){le(this,pT);Ge(this,"priority",10);le(this,rC,null);le(this,ig);le(this,og);de(this,ig,t)}attach(){}canRender(){return!0}detach(){var t;(t=T(this,og))==null||t.abort(),de(this,og,void 0),T(this,ig).reset(),de(this,rC,null)}changeTrack(t){var n;!t||T(this,rC)===t||((n=T(this,og))==null||n.abort(),de(this,og,new Xr(t)),t.readyState<2?(T(this,ig).reset(),T(this,og).add("load",()=>N(this,pT,aq).call(this,t),{once:!0})):N(this,pT,aq).call(this,t),T(this,og).add("add-cue",r=>{T(this,ig).addCue(r.detail)}).add("remove-cue",r=>{T(this,ig).removeCue(r.detail)}),de(this,rC,t))}}rC=new WeakMap,ig=new WeakMap,og=new WeakMap,pT=new WeakSet,aq=function(t){T(this,ig).changeTrack({cues:[...t.cues],regions:[...t.regions]})};var Vc,Bu,er,qA,RLe,DLe,OLe,lq,jLe,NLe,FLe,BLe,uq,zLe,HLe,sg,cq,GA,dq,fq;let Mpt=(Vc=class extends dr{constructor(){super(...arguments);le(this,er);le(this,Bu);le(this,sg,-1)}onSetup(){de(this,Bu,Pi()),this.setAttributes({"aria-hidden":el(N(this,er,qA).bind(this))})}onAttach(n){n.style.setProperty("pointer-events","none")}onConnect(n){Vc.lib()||Il(()=>import("./prod-CzWIDHKL.js").then(r=>r.d),[],import.meta.url).then(r=>Vc.lib.set(r)),Xe(N(this,er,RLe).bind(this))}},Bu=new WeakMap,er=new WeakSet,qA=function(){const{textTrack:n,remotePlaybackState:r,iOSControls:i}=T(this,Bu).$state,o=n();return i()||r()==="connected"||!o||!ru(o)},RLe=function(){if(!Vc.lib())return;const{viewType:n}=T(this,Bu).$state;return n()==="audio"?N(this,er,DLe).call(this):N(this,er,NLe).call(this)},DLe=function(){return Xe(N(this,er,OLe).bind(this)),N(this,er,uq).call(this,null),()=>{this.el.textContent=""}},OLe=function(){if(N(this,er,qA).call(this))return;N(this,er,lq).call(this);const{textTrack:n}=T(this,Bu).$state;no(n(),"cue-change",N(this,er,lq).bind(this)),Xe(N(this,er,jLe).bind(this))},lq=function(){this.el.textContent="",T(this,sg)>=0&&N(this,er,GA).call(this);const{realCurrentTime:n,textTrack:r}=T(this,Bu).$state,{renderVTTCueString:i}=Vc.lib(),o=wt(n),s=wt(r).activeCues;for(const a of s){const l=N(this,er,dq).call(this),u=N(this,er,fq).call(this);u.innerHTML=i(a,o),l.append(u),this.el.append(u)}},jLe=function(){const{realCurrentTime:n}=T(this,Bu).$state,{updateTimedVTTCueNodes:r}=Vc.lib();r(this.el,n())},NLe=function(){const{CaptionsRenderer:n}=Vc.lib(),r=new n(this.el),i=new Tpt(r);return T(this,Bu).textRenderers.add(i),Xe(N(this,er,FLe).bind(this,r)),Xe(N(this,er,BLe).bind(this,r)),N(this,er,uq).call(this,r),()=>{this.el.textContent="",T(this,Bu).textRenderers.remove(i),r.destroy()}},FLe=function(n){n.dir=this.$props.textDir()},BLe=function(n){var o;if(N(this,er,qA).call(this))return;const{realCurrentTime:r,textTrack:i}=T(this,Bu).$state;n.currentTime=r(),T(this,sg)>=0&&((o=i())!=null&&o.activeCues[0])&&N(this,er,GA).call(this)},uq=function(n){const r=T(this,Bu).player;if(!r)return;const i=N(this,er,zLe).bind(this,n);no(r,"vds-font-change",i)},zLe=function(n){var i;if(T(this,sg)>=0){N(this,er,cq).call(this);return}const{textTrack:r}=T(this,Bu).$state;(i=r())!=null&&i.activeCues[0]?n==null||n.update(!0):N(this,er,HLe).call(this)},HLe=function(){var i,o;const n=N(this,er,dq).call(this);On(n,"data-example","");const r=N(this,er,fq).call(this);On(r,"data-example",""),r.textContent=this.$props.exampleText(),n==null||n.append(r),(i=this.el)==null||i.append(n),(o=this.el)==null||o.setAttribute("data-example",""),N(this,er,cq).call(this)},sg=new WeakMap,cq=function(){window.clearTimeout(T(this,sg)),de(this,sg,window.setTimeout(N(this,er,GA).bind(this),2500))},GA=function(){var n,r;(n=this.el)==null||n.removeAttribute("data-example"),(r=this.el)!=null&&r.querySelector("[data-example]")&&(this.el.textContent=""),de(this,sg,-1)},dq=function(){const n=document.createElement("div");return On(n,"data-part","cue-display"),n},fq=function(){const n=document.createElement("div");return On(n,"data-part","cue"),n},Ge(Vc,"props",{textDir:"ltr",exampleText:"Captions look like this."}),Ge(Vc,"lib",_n(null)),Vc);var WL,Fd,ki,hq,VLe,pq,ULe,WLe,mT,mq,gq,vq,KLe,yq,qLe;let Lpt=(WL=class extends dr{constructor(){super(...arguments);le(this,ki);le(this,Fd);le(this,mT,"")}onSetup(){de(this,Fd,Pi()),N(this,ki,mq).call(this),N(this,ki,gq).call(this),N(this,ki,vq).call(this),N(this,ki,pq).call(this)}onAttach(n){n.style.setProperty("pointer-events","none"),Xe(N(this,ki,WLe).bind(this)),Xe(N(this,ki,mq).bind(this)),Xe(N(this,ki,gq).bind(this)),Xe(N(this,ki,vq).bind(this)),Xe(N(this,ki,pq).bind(this));const{started:r}=T(this,Fd).$state;this.setAttributes({"data-visible":()=>!r()&&!this.$state.hidden(),"data-loading":N(this,ki,ULe).bind(this),"data-error":N(this,ki,hq).bind(this),"data-hidden":this.$state.hidden})}onConnect(n){Xe(N(this,ki,VLe).bind(this)),Xe(N(this,ki,KLe).bind(this))}},Fd=new WeakMap,ki=new WeakSet,hq=function(){const{error:n}=this.$state;return!ah(n())},VLe=function(){const{canLoadPoster:n,poster:r}=T(this,Fd).$state;!n()&&r()&&g3(r(),"preconnect")},pq=function(){const{src:n}=this.$props,{poster:r,nativeControls:i}=T(this,Fd).$state;this.el&&On(this.el,"display",i()?"none":null),this.$state.hidden.set(N(this,ki,hq).call(this)||!(n()||r())||i())},ULe=function(){const{loading:n,hidden:r}=this.$state;return!r()&&n()},WLe=function(){const n=this.$state.img();n&&(new Xr(n).add("load",N(this,ki,yq).bind(this)).add("error",N(this,ki,qLe).bind(this)),n.complete&&N(this,ki,yq).call(this))},mT=new WeakMap,mq=function(){const{poster:n}=T(this,Fd).$props,{canLoadPoster:r,providedPoster:i,inferredPoster:o}=T(this,Fd).$state,s=this.$props.src()||"",a=s||n()||o();T(this,mT)===i()&&i.set(s),this.$state.src.set(r()&&a.length?a:null),de(this,mT,s)},gq=function(){const{src:n}=this.$props,{alt:r}=this.$state,{poster:i}=T(this,Fd).$state;r.set(n()||i()?this.$props.alt():null)},vq=function(){const{crossOrigin:n}=this.$props,{crossOrigin:r}=this.$state,{crossOrigin:i,poster:o}=T(this,Fd).$state,s=n()!==null?n():i();r.set(/ytimg\.com|vimeo/.test(o()||"")?null:s===!0?"anonymous":s)},KLe=function(){const{loading:n,error:r}=this.$state,{canLoadPoster:i,poster:o}=T(this,Fd).$state;n.set(i()&&!!o()),r.set(null)},yq=function(){const{loading:n,error:r}=this.$state;n.set(!1),r.set(null)},qLe=function(n){const{loading:r,error:i}=this.$state;r.set(!1),i.set(n)},Ge(WL,"props",{src:null,alt:null,crossOrigin:null}),Ge(WL,"state",new cv({img:null,src:null,alt:null,crossOrigin:null,loading:!0,error:null,hidden:!1})),WL);var KL,iC,t0,gT,vT,js,GLe,ZLe,YLe,bq,XLe,QLe,wq,JLe;let Apt=(KL=class extends dr{constructor(){super(...arguments);le(this,js);le(this,iC);le(this,t0,_n(null));le(this,gT,_n(!0));le(this,vT,_n(!0))}onSetup(){de(this,iC,Pi()),N(this,js,bq).call(this);const{type:n}=this.$props;this.setAttributes({"data-type":n,"data-remainder":N(this,js,wq).bind(this)}),new z5e({callback:N(this,js,GLe).bind(this)}).attach(this)}onAttach(n){n.hasAttribute("role")||Xe(N(this,js,XLe).bind(this)),Xe(N(this,js,bq).bind(this))}onConnect(n){Jn(UPe(n,T(this,gT).set)),Xe(N(this,js,ZLe).bind(this)),Xe(N(this,js,YLe).bind(this))}},iC=new WeakMap,t0=new WeakMap,gT=new WeakMap,vT=new WeakMap,js=new WeakSet,GLe=function(n){T(this,vT).set(n[0].isIntersecting)},ZLe=function(){const{hidden:n}=this.$props;this.$state.hidden.set(n()||!T(this,gT).call(this)||!T(this,vT).call(this))},YLe=function(){if(!this.$props.toggle()){T(this,t0).set(null);return}this.el&&O0(this.el,N(this,js,JLe).bind(this))},bq=function(){const{hidden:n,timeText:r}=this.$state,{duration:i}=T(this,iC).$state;if(n())return;const{type:o,padHours:s,padMinutes:a,showHours:l}=this.$props,u=N(this,js,QLe).call(this,o()),c=i(),f=N(this,js,wq).call(this);if(!Number.isFinite(u+c)){r.set("LIVE");return}const p=f?Math.max(0,c-u):u,g=y7(p,{padHrs:s(),padMins:a(),showHrs:l()});r.set((f?"-":"")+g)},XLe=function(){if(!this.el)return;const{toggle:n}=this.$props;On(this.el,"role",n()?"timer":null),On(this.el,"tabindex",n()?0:null)},QLe=function(n){const{bufferedEnd:r,duration:i,currentTime:o}=T(this,iC).$state;switch(n){case"buffered":return r();case"duration":return i();default:return o()}},wq=function(){return this.$props.remainder()&&T(this,t0).call(this)!==!1},JLe=function(n){if(n.preventDefault(),T(this,t0).call(this)===null){T(this,t0).set(!this.$props.remainder());return}T(this,t0).set(r=>!r)},Ge(KL,"props",{type:"current",showHours:!1,padHours:null,padMinutes:null,remainder:!1,toggle:!1,hidden:!1}),Ge(KL,"state",new cv({timeText:"",hidden:!1})),KL);class eAe extends $Te{}class Ipt extends GTe{}class Rpt extends qht{}class Dpt extends r5e{}class Opt extends Ght{}class jpt extends w5e{}class Npt extends rpt{}class Fpt extends ipt{}class Bpt extends lpt{}class zpt extends opt{}class Hpt extends spt{}class Vpt extends npt{}class Upt extends ept{}class Wpt extends tpt{}class Kpt extends apt{}class qpt extends Yht{}class Gpt extends Xht{}class Zpt extends Qht{}class tAe extends ix{}class Ypt extends mD{}class Xpt extends gpt{}class Qpt extends FK{}class Jpt extends zK{}class emt extends HK{}class tmt extends fpt{}class nmt extends XQ{}class rmt extends pD{}class imt extends I6e{}class omt extends QQ{}class smt extends v3{}class amt extends JQ{}class lmt extends pLe{}class umt extends kpt{}class cmt extends eJ{}class dmt extends tJ{}class fmt extends Mpt{}class hmt extends $pt{}class pmt extends Lpt{}class nAe extends v6e{}class mmt extends Apt{}const rAe=h.forwardRef((e,t)=>{const{children:n,...r}=e,i=h.Children.toArray(n),o=i.find(vmt);if(o){const s=o.props.children,a=i.map(l=>l===o?h.Children.count(s)>1?h.Children.only(null):h.isValidElement(s)?s.props.children:null:l);return h.createElement(xq,{...r,ref:t},h.isValidElement(s)?h.cloneElement(s,void 0,a):null)}return h.createElement(xq,{...r,ref:t},n)});rAe.displayName="Slot";const xq=h.forwardRef((e,t)=>{const{children:n,...r}=e;return h.isValidElement(n)?h.cloneElement(n,{...ymt(r,n.props),ref:t?ui(t,n.ref):n.ref}):h.Children.count(n)>1?h.Children.only(null):null});xq.displayName="SlotClone";const gmt=({children:e})=>h.createElement(h.Fragment,null,e);function vmt(e){return h.isValidElement(e)&&e.type===gmt}function ymt(e,t){const n={...t};for(const r in t){const i=e[r],o=t[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...a)=>{o(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}const bmt=["button","div","span","img","video","audio"],Tn=bmt.reduce((e,t)=>{const n=h.forwardRef((r,i)=>{const{asChild:o,...s}=r,a=o?rAe:t;return h.createElement(a,{...s,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function wmt(e){return(e==null?void 0:e.$$PROVIDER_TYPE)==="REMOTION"}function iAe(e){return(e==null?void 0:e.type)==="video/remotion"}const Cle=tAe.state.record,xmt=Object.keys(Cle).reduce((e,t)=>({...e,[t](){return Cle[t]}}),{});function BF(e,t){const n=p3(kx);return cr((n||xmt)[e])}const Ele=eAe.state.record,Smt=Object.keys(Ele).reduce((e,t)=>({...e,[t](){return Ele[t]}}),{});function Un(e,t){const n=p3(qT);return cr((n||Smt)[e])}function _h(){return NQ(GT)}const _mt=fr(Upt,{domEventsRegex:/^onMedia/}),oAe=h.forwardRef(({children:e,...t},n)=>h.createElement(_mt,{...t},r=>h.createElement(Tn.button,{...r,ref:ui(r.ref,n)},e)));oAe.displayName="AirPlayButton";const Cmt=fr(Vpt,{domEventsRegex:/^onMedia/}),sAe=h.forwardRef(({children:e,...t},n)=>h.createElement(Cmt,{...t},r=>h.createElement(Tn.button,{...r,ref:ui(r.ref,n)},e)));sAe.displayName="PlayButton";const Emt=fr(Npt,{domEventsRegex:/^onMedia/}),aAe=h.forwardRef(({children:e,...t},n)=>h.createElement(Emt,{...t},r=>h.createElement(Tn.button,{...r,ref:ui(r.ref,n)},e)));aAe.displayName="CaptionButton";const kmt=fr(Fpt,{domEventsRegex:/^onMedia/}),lAe=h.forwardRef(({children:e,...t},n)=>h.createElement(kmt,{...t},r=>h.createElement(Tn.button,{...r,ref:ui(r.ref,n)},e)));lAe.displayName="FullscreenButton";const Pmt=fr(zpt,{domEventsRegex:/^onMedia/}),uAe=h.forwardRef(({children:e,...t},n)=>h.createElement(Pmt,{...t},r=>h.createElement(Tn.button,{...r,ref:ui(r.ref,n)},e)));uAe.displayName="MuteButton";const $mt=fr(Hpt,{domEventsRegex:/^onMedia/}),cAe=h.forwardRef(({children:e,...t},n)=>h.createElement($mt,{...t},r=>h.createElement(Tn.button,{...r,ref:ui(r.ref,n)},e)));cAe.displayName="PIPButton";const Tmt=fr(Kpt,{domEventsRegex:/^onMedia/}),dAe=h.forwardRef(({children:e,...t},n)=>h.createElement(Tmt,{...t},r=>h.createElement(Tn.button,{...r,ref:ui(r.ref,n)},e)));dAe.displayName="SeekButton";const Mmt=fr(Bpt,{domEventsRegex:/^onMedia/}),fAe=h.forwardRef(({children:e,...t},n)=>h.createElement(Mmt,{...t},r=>h.createElement(Tn.button,{...r,ref:ui(r.ref,n)},e)));fAe.displayName="LiveButton";const y3=["onDragStart","onDragEnd","onDragValueChange","onValueChange","onPointerValueChange"],Lmt=fr(nmt),Amt=fr(tAe,{events:y3}),hAe=h.forwardRef(({children:e,...t},n)=>h.createElement(Amt,{...t,ref:n},r=>h.createElement(Tn.div,{...r},e)));hAe.displayName="Slider";const w7=h.forwardRef((e,t)=>h.createElement(Tn.div,{...e,ref:t}));w7.displayName="SliderThumb";const x7=h.forwardRef((e,t)=>h.createElement(Tn.div,{...e,ref:t}));x7.displayName="SliderTrack";const S7=h.forwardRef((e,t)=>h.createElement(Tn.div,{...e,ref:t}));S7.displayName="SliderTrackFill";const Imt=fr(imt),nJ=h.forwardRef(({children:e,...t},n)=>h.createElement(Imt,{...t},r=>h.createElement(Tn.div,{...r,ref:ui(r.ref,n)},e)));nJ.displayName="SliderPreview";const rJ=h.forwardRef(({children:e,...t},n)=>h.createElement(Lmt,{...t},(r,i)=>{const o=cr(()=>i.getValueText(),i);return h.createElement(Tn.div,{...r,ref:n},o,e)}));rJ.displayName="SliderValue";const pAe=h.forwardRef(({children:e,...t},n)=>{const r=BF("min"),i=BF("max"),o=BF("step"),s=(i-r)/o;return h.createElement(Tn.div,{...t,ref:n},Array.from({length:Math.floor(s)+1}).map((a,l)=>e(l)))});pAe.displayName="SliderSteps";const Rmt=fr(Xpt,{events:y3,domEventsRegex:/^onMedia/}),mAe=h.forwardRef(({children:e,...t},n)=>h.createElement(Rmt,{...t,ref:n},r=>h.createElement(Tn.div,{...r},e)));mAe.displayName="VolumeSlider";function Dmt(e=0,t=0,n=""){return Ut?{startTime:e,endTime:t,text:n,addEventListener:qc,removeEventListener:qc,dispatchEvent:qc}:new window.VTTCue(e,t,n)}function Omt(e,t){const n=new URL(e);for(const r of Object.keys(t))n.searchParams.set(r,t[r]+"");return n.toString()}const jmt=fr(nAe),gAe=h.forwardRef(({children:e,...t},n)=>h.createElement(jmt,{...t},r=>h.createElement(Tn.div,{...r,ref:ui(r.ref,n)},e)));gAe.displayName="Thumbnail";const iJ=h.forwardRef(({children:e,...t},n)=>{const{src:r,img:i,crossOrigin:o}=p3(nAe.state),s=cr(r),a=cr(o);return h.createElement(Tn.img,{crossOrigin:a,...t,src:s||void 0,ref:ui(i.set,n)},e)});iJ.displayName="ThumbnailImg";const _7=h.createContext({$chapters:_n(null)});_7.displayName="TimeSliderContext";const Nmt=fr(Ypt,{events:y3,domEventsRegex:/^onMedia/}),vAe=h.forwardRef(({children:e,...t},n)=>{const r=h.useMemo(()=>_n(null),[]);return h.createElement(_7.Provider,{value:{$chapters:r}},h.createElement(Nmt,{...t,ref:n},i=>h.createElement(Tn.div,{...i},e)))});vAe.displayName="TimeSlider";const Fmt=fr(omt),yAe=h.forwardRef(({children:e,...t},n)=>h.createElement(Fmt,{...t},(r,i)=>h.createElement(Tn.div,{...r,ref:ui(r.ref,n)},h.createElement(bAe,{instance:i},e))));yAe.displayName="SliderChapters";function bAe({instance:e,children:t}){const n=cr(()=>e.cues,e),r=h.useRef([]),i=h.useRef(null),{$chapters:o}=h.useContext(_7);return i.current||(i.current=Dmt()),h.useEffect(()=>(o.set(e),()=>void o.set(null)),[e]),h.useEffect(()=>{e.setRefs(r.current)},[n]),t(n.length?n:[i.current],s=>{if(!s){r.current.length=0;return}r.current.push(s)})}bAe.displayName="SliderChapterTracks";const wAe=h.forwardRef(({children:e,...t},n)=>{const{$chapters:r}=h.useContext(_7),[i,o]=h.useState();return h.useEffect(()=>Xe(()=>{const s=r(),a=(s==null?void 0:s.activePointerCue)||(s==null?void 0:s.activeCue);o((a==null?void 0:a.text)||"")}),[]),h.createElement(Tn.div,{...t,ref:n},i,e)});wAe.displayName="SliderChapterTitle";const xAe=h.forwardRef((e,t)=>h.createElement(Tn.div,{...e,ref:t}));xAe.displayName="SliderProgress";const Bmt=fr(tmt),SAe=h.forwardRef(({children:e,...t},n)=>h.createElement(Bmt,{...t},r=>h.createElement(Tn.div,{...r,ref:ui(r.ref,n)},e)));SAe.displayName="SliderThumbnail";const kle={Root:SAe,Img:iJ},zmt=fr(rmt,{events:["onCanPlay","onError"]}),Hmt=h.forwardRef(({children:e,...t},n)=>h.createElement(zmt,{...t},(r,i)=>h.createElement(_Ae,{...r,instance:i,ref:ui(r.ref,n)},e)));Hmt.displayName="SliderVideo";const _Ae=h.forwardRef(({instance:e,children:t,...n},r)=>{const{canLoad:i}=p3(qT),{src:o,video:s,crossOrigin:a}=e.$state,l=cr(o),u=cr(i),c=cr(a);return h.createElement(Tn.video,{style:{maxWidth:"unset"},...n,src:l||void 0,muted:!0,playsInline:!0,preload:u?"auto":"none",crossOrigin:c||void 0,ref:ui(s.set,r)},t)});_Ae.displayName="SliderVideoProvider";const Vmt=fr(cmt,{events:["onChange"]}),YT=h.forwardRef(({children:e,...t},n)=>h.createElement(Vmt,{...t,ref:n},r=>h.createElement(Tn.div,{...r},e)));YT.displayName="RadioGroup";const Umt=fr(dmt,{events:["onChange","onSelect"]}),XT=h.forwardRef(({children:e,...t},n)=>h.createElement(Umt,{...t},r=>h.createElement(Tn.div,{...r,ref:ui(r.ref,n)},e)));XT.displayName="RadioItem";const Wmt=fr(smt,{events:["onOpen","onClose"],domEventsRegex:/^onMedia/}),nm=h.forwardRef(({children:e,...t},n)=>h.createElement(Wmt,{...t,ref:n},(r,i)=>h.createElement(Tn.div,{...r,style:{display:i.isSubmenu?void 0:"contents",...r.style}},e)));nm.displayName="Menu";const Kmt=fr(amt,{events:["onSelect"]}),C7=h.forwardRef(({children:e,...t},n)=>h.createElement(Kmt,{...t},r=>h.createElement(Tn.button,{...r,ref:ui(r.ref,n)},e)));C7.displayName="MenuButton";const oJ=h.forwardRef(({container:e=null,disabled:t=!1,children:n,...r},i)=>{let o=Un("fullscreen"),s=t==="fullscreen"?!o:!t;const a=h.useMemo(()=>Ut?null:(mn(e)?document.querySelector(e):e)??document.body,[e]);return!a||!s?n:ai.createPortal(h.createElement(Tn.div,{...r,style:{display:"contents",...r.style},ref:i},n),a)});oJ.displayName="MenuPortal";const qmt=fr(lmt),rm=h.forwardRef(({children:e,...t},n)=>h.createElement(qmt,{...t},r=>h.createElement(Tn.div,{...r,ref:ui(r.ref,n)},e)));rm.displayName="MenuItems";const Gmt=fr(umt),Zmt=h.forwardRef(({children:e,...t},n)=>h.createElement(Gmt,{...t},r=>h.createElement(Tn.div,{...r,ref:ui(r.ref,n)},e)));Zmt.displayName="MenuItem";const Ymt=fr(hmt,{events:["onWillTrigger","onTrigger"]}),py=h.forwardRef(({children:e,...t},n)=>h.createElement(Ymt,{...t,ref:n},r=>h.createElement(Tn.div,{...r},e)));py.displayName="Gesture";const Xmt=fr(mmt),k4=h.forwardRef(({children:e,...t},n)=>h.createElement(Xmt,{...t},(r,i)=>h.createElement(CAe,{...r,instance:i,ref:ui(r.ref,n)},e)));k4.displayName="Time";const CAe=h.forwardRef(({instance:e,children:t,...n},r)=>{const{timeText:i}=e.$state,o=cr(i);return h.createElement(Tn.div,{...n,ref:r},o,t)});CAe.displayName="TimeText";function EAe(){const e=_h();return(e==null?void 0:e.player)||null}function Qmt(){const e=_h(),{audioTracks:t,audioTrack:n}=e.$state,r=cr(t);return cr(n),h.useMemo(()=>{const i=r.map(o=>({track:o,label:o.label,value:Ple(o),get selected(){return n()===o},select(s){const a=t().indexOf(o);a>=0&&e.remote.changeAudioTrack(a,s)}}));return Object.defineProperty(i,"disabled",{get(){return i.length<=1}}),Object.defineProperty(i,"selectedTrack",{get(){return n()}}),Object.defineProperty(i,"selectedValue",{get(){const o=n();return o?Ple(o):void 0}}),i},[r])}function Ple(e){return e.label.toLowerCase()}function Jmt({off:e=!0}={}){const t=_h(),{textTracks:n,textTrack:r}=t.$state,i=cr(n);return cr(r),h.useMemo(()=>{const o=i.filter(ru),s=o.map(a=>({track:a,label:a.label,value:$le(a),get selected(){return r()===a},select(l){const u=n().indexOf(a);u>=0&&t.remote.changeTextTrackMode(u,"showing",l)}}));return e&&s.unshift({track:null,label:mn(e)?e:"Off",value:"off",get selected(){return!r()},select(a){t.remote.toggleCaptions(a)}}),Object.defineProperty(s,"disabled",{get(){return!o.length}}),Object.defineProperty(s,"selectedTrack",{get(){return r()}}),Object.defineProperty(s,"selectedValue",{get(){const a=r();return a?$le(a):"off"}}),s},[i])}function $le(e){return e.id+":"+e.kind+"-"+e.label.toLowerCase()}const egt=fr(Rpt,{events:["onChange"]}),kAe=h.forwardRef(({style:e,children:t,...n},r)=>h.createElement(egt,{...n},i=>h.createElement(Tn.div,{...i,style:{display:"contents",...e},ref:ui(i.ref,r)},t)));kAe.displayName="MediaAnnouncer";const tgt=fr(Dpt),E7=h.forwardRef(({children:e,...t},n)=>h.createElement(tgt,{...t},r=>h.createElement(Tn.div,{...r,ref:ui(r.ref,n)},e)));E7.displayName="Controls";const ngt=fr(Opt),vp=h.forwardRef(({children:e,...t},n)=>h.createElement(ngt,{...t},r=>h.createElement(Tn.div,{...r,ref:ui(r.ref,n)},e)));vp.displayName="ControlsGroup";const rgt=fr(qpt);function PAe({children:e,...t}){return h.createElement(rgt,{...t},e)}PAe.displayName="Tooltip";const igt=fr(Gpt),$Ae=h.forwardRef(({children:e,...t},n)=>h.createElement(igt,{...t},r=>h.createElement(Tn.button,{...r,ref:ui(r.ref,n)},e)));$Ae.displayName="TooltipTrigger";const ogt=fr(Zpt),TAe=h.forwardRef(({children:e,...t},n)=>h.createElement(ogt,{...t},r=>h.createElement(Tn.div,{...r,ref:ui(r.ref,n)},e)));TAe.displayName="TooltipContent";const sgt=fr(Wpt,{domEventsRegex:/^onMedia/}),MAe=h.forwardRef(({children:e,...t},n)=>h.createElement(sgt,{...t},r=>h.createElement(Tn.button,{...r,ref:ui(r.ref,n)},e)));MAe.displayName="GoogleCastButton";const agt=fr(emt,{events:y3,domEventsRegex:/^onMedia/}),LAe=h.forwardRef(({children:e,...t},n)=>h.createElement(agt,{...t,ref:n},r=>h.createElement(Tn.div,{...r},e)));LAe.displayName="QualitySlider";const lgt=fr(Qpt,{events:y3,domEventsRegex:/^onMedia/}),AAe=h.forwardRef(({children:e,...t},n)=>h.createElement(lgt,{...t,ref:n},r=>h.createElement(Tn.div,{...r},e)));AAe.displayName="AudioGainSlider";const ugt=fr(Jpt,{events:y3,domEventsRegex:/^onMedia/}),IAe=h.forwardRef(({children:e,...t},n)=>h.createElement(ugt,{...t,ref:n},r=>h.createElement(Tn.div,{...r},e)));IAe.displayName="SpeedSlider";const RAe=h.forwardRef(({children:e,...t},n)=>{const r=Un("title");return h.createElement(Tn.span,{...t,ref:n},r,e)});RAe.displayName="Title";function DAe(e){const[t,n]=h.useState([]);return h.useEffect(()=>{if(!e){n([]);return}function r(){e&&n(e.activeCues)}return r(),no(e,"cue-change",r)},[e]),t}function sJ(e){const t=_h(),[n,r]=h.useState(null);return h.useEffect(()=>WQ(t.textTracks,e,r),[e]),n}function OAe(){var n;const e=sJ("chapters");return((n=DAe(e)[0])==null?void 0:n.text)||""}const jAe=h.forwardRef(({defaultText:e="",children:t,...n},r)=>{const i=OAe();return h.createElement(Tn.span,{...n,ref:r},i||e,t)});jAe.displayName="ChapterTitle";const cgt=fr(fmt),NAe=h.forwardRef(({children:e,...t},n)=>h.createElement(cgt,{...t,ref:n},r=>h.createElement(Tn.div,{...r},e)));NAe.displayName="Captions";const dgt=h.forwardRef(({size:e=96,children:t,...n},r)=>h.createElement("svg",{width:e,height:e,fill:"none",viewBox:"0 0 120 120","aria-hidden":"true","data-part":"root",...n,ref:r},t)),fgt=h.forwardRef(({width:e=8,children:t,...n},r)=>h.createElement("circle",{cx:"60",cy:"60",r:"54",stroke:"currentColor",strokeWidth:e,"data-part":"track",...n,ref:r},t)),hgt=h.forwardRef(({width:e=8,fillPercent:t=50,children:n,...r},i)=>h.createElement("circle",{cx:"60",cy:"60",r:"54",stroke:"currentColor",pathLength:"100",strokeWidth:e,strokeDasharray:100,strokeDashoffset:100-t,"data-part":"track-fill",...r,ref:i},n));function zF(e,t=[]){const n=h3();return h.useMemo(()=>Ts(()=>_n(e),n),[n,...t])}function gD(e,t=[]){const n=h3();return h.useMemo(()=>Ts(()=>zg(e),n),[n,...t])}function pgt(e,t=[]){const n=h3();h.useEffect(()=>Ts(()=>Xe(e),n),[n,...t])}function mgt(e){const t=h3();return h.useMemo(()=>Ts(e,t),[t])}function ggt(e){const[t,n]=h.useState([]);return h.useEffect(()=>{if(!e)return;function r(){e&&n([...e.cues])}const i=new Xr(e).add("add-cue",r).add("remove-cue",r);return r(),()=>{n([]),i.abort()}},[e]),t}function vgt(){const e=_h(),t=sJ("chapters"),n=ggt(t),r=cr(e.$state.seekableStart),i=cr(e.$state.seekableEnd);return DAe(t),h.useMemo(()=>{const o=t?n.filter(s=>s.startTime<=i&&s.endTime>=r).map((s,a)=>{let l=null,u;return{cue:s,label:s.text,value:a.toString(),startTimeText:y7(Math.max(0,s.startTime-r)),durationText:fD(Math.min(i,s.endTime)-Math.max(r,s.startTime)),get selected(){return s===t.activeCues[0]},setProgressVar(c){if(!c||s!==t.activeCues[0]){u==null||u(),u=void 0,c==null||c.style.setProperty("--progress","0%"),l=null;return}l!==c&&(l=c,u==null||u(),u=Xe(()=>{const{realCurrentTime:f}=e.$state,p=f(),g=Math.max(r,s.startTime),v=Math.min(i,s.endTime)-g,y=Math.max(0,p-g)/v*100;c.style.setProperty("--progress",y.toFixed(3)+"%")}))},select(c){e.remote.seek(s.startTime-r,c)}}}):[];return Object.defineProperty(o,"selectedValue",{get(){const s=o.findIndex(a=>a.selected);return(s>=0?s:0).toString()}}),o},[n,r,i])}const aJ=h.forwardRef((e,t)=>{const{width:n,height:r,size:i=null,paths:o,...s}=e;return h.createElement("svg",{viewBox:"0 0 32 32",...s,width:n??i,height:r??i,fill:"none","aria-hidden":"true",focusable:"false",xmlns:"http://www.w3.org/2000/svg",ref:t,dangerouslySetInnerHTML:{__html:o}})});aJ.displayName="VidstackIcon";const ygt=[1,1.25,1.5,1.75,2,2.5,3,4];var n0,oC,ww,hf,BAe,zAe,HAe,VAe,UAe;class FAe extends dr{constructor(){super();le(this,hf);le(this,n0);le(this,oC);le(this,ww);de(this,ww,new yLe),T(this,ww).onValueChange=N(this,hf,UAe).bind(this)}get value(){return T(this,ww).value}get disabled(){const{gains:n}=this.$props,{canSetAudioGain:r}=T(this,n0).$state;return!r()||n().length===0}onSetup(){de(this,n0,Pi()),Hg(Cg)&&de(this,oC,Vo(Cg))}onConnect(n){Xe(N(this,hf,BAe).bind(this)),Xe(N(this,hf,zAe).bind(this)),Xe(N(this,hf,HAe).bind(this))}getOptions(){const{gains:n,normalLabel:r}=this.$props;return n().map(i=>({label:i===1||i===null?r:String(i*100)+"%",value:i.toString()}))}}n0=new WeakMap,oC=new WeakMap,ww=new WeakMap,hf=new WeakSet,BAe=function(){T(this,ww).value=N(this,hf,VAe).call(this)},zAe=function(){var o;const{normalLabel:n}=this.$props,{audioGain:r}=T(this,n0).$state,i=r();(o=T(this,oC))==null||o.hint.set(i===1||i==null?n():String(i*100)+"%")},HAe=function(){var n;(n=T(this,oC))==null||n.disable(this.disabled)},VAe=function(){var r;const{audioGain:n}=T(this,n0).$state;return((r=n())==null?void 0:r.toString())??"1"},UAe=function(n,r){if(this.disabled)return;const i=+n;T(this,n0).remote.changeAudioGain(i,r),this.dispatch("change",{detail:i,trigger:r})},Ge(FAe,"props",{normalLabel:"Disabled",gains:ygt});const lJ=FAe.prototype;xi(lJ,"value");xi(lJ,"disabled");na(lJ,"getOptions");const bgt=["onAbort","onAudioTrackChange","onAudioTracksChange","onAutoPlay","onAutoPlayChange","onAutoPlayFail","onCanLoad","onCanPlay","onCanPlayThrough","onControlsChange","onDestroy","onDurationChange","onEmptied","onEnd","onEnded","onError","onFindMediaPlayer","onFullscreenChange","onFullscreenError","onLiveChange","onLiveEdgeChange","onLoadedData","onLoadedMetadata","onLoadStart","onLoopChange","onOrientationChange","onPause","onPictureInPictureChange","onPictureInPictureError","onPlay","onPlayFail","onPlaying","onPlaysInlineChange","onPosterChange","onProgress","onProviderChange","onProviderLoaderChange","onProviderSetup","onQualitiesChange","onQualityChange","onRateChange","onReplay","onSeeked","onSeeking","onSourceChange","onSourceChange","onStalled","onStarted","onStreamTypeChange","onSuspend","onTextTrackChange","onTextTracksChange","onTimeUpdate","onTitleChange","onVdsLog","onVideoPresentationChange","onVolumeChange","onWaiting"],wgt=fr(eAe,{events:bgt,eventsRegex:/^onHls/,domEventsRegex:/^onMedia/}),WAe=h.forwardRef(({aspectRatio:e,children:t,...n},r)=>h.createElement(wgt,{...n,src:n.src,ref:r,style:{aspectRatio:e,...n.style}},i=>h.createElement(Tn.div,{...i},t)));WAe.displayName="MediaPlayer";const xgt=fr(Ipt),KAe=h.forwardRef(({loaders:e=[],children:t,iframeProps:n,mediaProps:r,...i},o)=>{const s=h.useMemo(()=>e.map(a=>new a),e);return h.createElement(xgt,{...i,loaders:s,ref:o},(a,l)=>h.createElement("div",{...a},h.createElement(qAe,{provider:l,mediaProps:r,iframeProps:n}),t))});KAe.displayName="MediaProvider";function qAe({provider:e,mediaProps:t,iframeProps:n}){const{sources:r,crossOrigin:i,poster:o,remotePlaybackInfo:s,nativeControls:a,viewType:l}=p3(qT),{loader:u}=e.$state,{$provider:c,$providerSetup:f}=_h(),p=cr(r),g=cr(a),v=cr(i),y=cr(o),S=cr(u),C=cr(c),_=cr(f),k=cr(s),w=S==null?void 0:S.mediaType(),P=cr(l),M=P==="audio",R=(S==null?void 0:S.name)==="youtube",D=(S==null?void 0:S.name)==="vimeo",H=R||D,O=(S==null?void 0:S.name)==="remotion",z=(S==null?void 0:S.name)==="google-cast",[G,ee]=h.useState(""),[X,se]=h.useState(!1);return h.useEffect(()=>{!z||G||Il(()=>Promise.resolve().then(()=>jdt),void 0,import.meta.url).then(function(B){return B.chromecast}).then(B=>{ee(B.default)})},[z]),h.useEffect(()=>{se(!0)},[]),z?h.createElement("div",{className:"vds-google-cast",ref:B=>{e.load(B)}},h.createElement(aJ,{paths:G}),k!=null&&k.deviceName?h.createElement("span",{className:"vds-google-cast-info"},"Google Cast on"," ",h.createElement("span",{className:"vds-google-cast-device-name"},k.deviceName)):null):O?h.createElement("div",{"data-remotion-canvas":!0},h.createElement("div",{"data-remotion-container":!0,ref:B=>{e.load(B)}},wmt(C)&&_?h.createElement(C.render):null)):H?h.createElement(h.Fragment,null,h.createElement("iframe",{...n,className:(n!=null&&n.className?`${n.className} `:"")+R?"vds-youtube":"vds-vimeo",suppressHydrationWarning:!0,tabIndex:g?void 0:-1,"aria-hidden":"true","data-no-controls":g?void 0:"",ref(B){e.load(B)}}),!g&&!M?h.createElement("div",{className:"vds-blocker"}):null):w?h.createElement(w==="audio"?"audio":"video",{...t,controls:g?!0:null,crossOrigin:typeof v=="boolean"?"":v,poster:w==="video"&&g&&y?y:null,suppressHydrationWarning:!0,children:X?null:p.map(({src:B,type:q})=>mn(B)?h.createElement("source",{src:B,type:q!=="?"?q:void 0,key:B}):null),ref(B){e.load(B)}}):null}qAe.displayName="MediaOutlet";function Sgt(e){const t=_h(),n=h.useMemo(()=>new rx(e),Object.values(e));return h.useEffect(()=>(t.textTracks.add(n),()=>void t.textTracks.remove(n)),[n]),n}function GAe({lang:e,...t}){return Sgt({language:e,...t}),null}GAe.displayName="Track";const _gt=fr(jpt),Cgt=h.forwardRef(({children:e,...t},n)=>h.createElement(_gt,{...t},r=>h.createElement(Tn.button,{...r,ref:ui(r.ref,n)},e)));Cgt.displayName="ToggleButton";const Egt=fr(pmt),ZAe=h.forwardRef(({children:e,...t},n)=>h.createElement(Egt,{src:t.asChild&&h.isValidElement(e)?e.props.src:void 0,...t},(r,i)=>h.createElement(YAe,{...r,instance:i,ref:ui(r.ref,n)},e)));ZAe.displayName="Poster";const YAe=h.forwardRef(({instance:e,children:t,...n},r)=>{const{src:i,img:o,alt:s,crossOrigin:a,hidden:l}=e.$state,u=cr(i),c=cr(s),f=cr(a),p=cr(l);return h.createElement(Tn.img,{...n,src:u||void 0,alt:c||void 0,crossOrigin:f||void 0,ref:ui(o.set,r),style:{display:p?"none":void 0}},t)});YAe.displayName="PosterImg";const kgt=h.forwardRef(({children:e,...t},n)=>h.createElement(Tn.div,{translate:"yes","aria-live":"off","aria-atomic":"true",...t,ref:n},e));kgt.displayName="Caption";const Pgt=h.forwardRef((e,t)=>{const n=Un("textTrack"),[r,i]=h.useState();return h.useEffect(()=>{if(!n)return;function o(){i(n==null?void 0:n.activeCues[0])}return n.addEventListener("cue-change",o),()=>{n.removeEventListener("cue-change",o),i(void 0)}},[n]),h.createElement(Tn.span,{...e,"data-part":"cue",dangerouslySetInnerHTML:{__html:(r==null?void 0:r.text)||""},ref:t})});Pgt.displayName="CaptionText";function XAe(e,t){h.useEffect(()=>{if(!e)return;t();const n=new ResizeObserver(s1(t));return n.observe(e),()=>n.disconnect()},[e,t])}function $gt(e){const[t,n]=h.useState(!1);return h.useEffect(()=>{if(!e)return;const r=new Xr(e).add("transitionstart",()=>n(!0)).add("transitionend",()=>n(!1));return()=>r.abort()},[e]),t}function Tgt(e){const[t,n]=h.useState(!1);return h.useEffect(()=>{if(!e)return;const r=new Xr(e).add("mouseenter",()=>n(!0)).add("mouseleave",()=>n(!1));return()=>r.abort()},[e]),t}function Mgt(e){const[t,n]=h.useState(!1);return h.useEffect(()=>{if(!e)return;const r=new Xr(e).add("focusin",()=>n(!0)).add("focusout",()=>n(!1));return()=>r.abort()},[e]),t}function Lgt(e){const t=Tgt(e),n=Mgt(e),r=h.useRef(!1);return r.current&&!t?!1:(r.current=t,t||n)}function Agt(){const[e,t]=h.useState("dark");return h.useEffect(()=>{const n=window.matchMedia("(prefers-color-scheme: light)");function r(){t(n.matches?"light":"dark")}return r(),no(n,"change",r)},[]),e}function QAe(e){const t=EAe();h.useEffect(()=>{if(t)return Xe(()=>{const n=t.$el;return n==null||n.setAttribute("data-layout",e),()=>n==null?void 0:n.removeAttribute("data-layout")})},[t])}const Igt=_n(null),Rgt=_n(null),b3=h.createContext({});b3.displayName="DefaultLayoutContext";function Wn(){return h.useContext(b3)}function wn(e){const{translations:t}=Wn();return uJ(t,e)}function uJ(e,t){return(e==null?void 0:e[t])??t}function cJ(e){const t=Agt();return e==="default"?null:e==="system"?t:e}function JAe({type:e,smLayoutWhen:t,renderLayout:n}){const r=h.forwardRef(({children:i,className:o,disableTimeSlider:s=!1,hideQualityBitrate:a=!1,icons:l,colorScheme:u="system",download:c=null,menuContainer:f=null,menuGroup:p="bottom",noAudioGain:g=!1,audioGains:v={min:0,max:300,step:25},noGestures:y=!1,noKeyboardAnimations:S=!1,noModal:C=!1,noScrubGesture:_,playbackRates:k={min:0,max:2,step:.25},seekStep:w=10,showMenuDelay:P,showTooltipDelay:M=700,sliderChaptersMinWidth:R=325,slots:D,smallLayoutWhen:H=t,thumbnails:O=null,translations:z,...G},ee)=>{const X=_h(),se=cr(X.$props.load),B=Un("canLoad"),q=Un("viewType"),U=Un("streamType"),K=gD(()=>kC(H)?H:H(X.player.state),[H]),J=zF(!0),oe=zF(!0),he=q===e,me=K(),re=kC(H),ue=se==="play"&&!B,ce=B||re||ue,we=cJ(u),Me=zF(null);return cr(K),h.createElement("div",{...G,className:`vds-${e}-layout`+(we?` ${we}`:"")+(o?` ${o}`:""),"data-match":he?"":null,"data-sm":me?"":null,"data-lg":me?null:"","data-size":me?"sm":"lg","data-no-scrub-gesture":_?"":null,ref:ui(Me.set,ee)},ce&&he?h.createElement(b3.Provider,{value:{disableTimeSlider:s,hideQualityBitrate:a,icons:l,colorScheme:u,download:c,isSmallLayout:me,menuContainer:f,menuGroup:p,noAudioGain:g,audioGains:v,layoutEl:Me,noGestures:y,noKeyboardAnimations:S,noModal:C,noScrubGesture:_,showMenuDelay:P,showTooltipDelay:M,sliderChaptersMinWidth:R,slots:D,seekStep:w,playbackRates:k,thumbnails:O,translations:z,userPrefersAnnouncements:J,userPrefersKeyboardAnimations:oe}},n({streamType:U,isSmallLayout:me,isLoadLayout:ue}),i):null)});return r.displayName="DefaultMediaLayout",r}function eIe(){return h.useContext(b3).slots}function dJ(){return h.useContext(b3).slots}function jt(e,t,n){const r=e==null?void 0:e[t],i=f3(t);return h.createElement(h.Fragment,null,e==null?void 0:e[`before${i}`],Is(r)?n:r,e==null?void 0:e[`after${i}`])}function k7(){const{userPrefersAnnouncements:e,translations:t}=Wn();return cr(e)?h.createElement(kAe,{translations:t}):null}k7.displayName="DefaultAnnouncer";function gf({content:e,placement:t,children:n}){const{showTooltipDelay:r}=Wn();return h.createElement(PAe,{showDelay:r},h.createElement($Ae,{asChild:!0},n),h.createElement(TAe,{className:"vds-tooltip-content",placement:t},e))}gf.displayName="DefaultTooltip";function QT({tooltip:e}){const{icons:t}=Wn(),n=wn("Play"),r=wn("Pause"),i=Un("paused"),o=Un("ended");return h.createElement(gf,{content:i?n:r,placement:e},h.createElement(sAe,{className:"vds-play-button vds-button","aria-label":n},o?h.createElement(t.PlayButton.Replay,{className:"vds-icon"}):i?h.createElement(t.PlayButton.Play,{className:"vds-icon"}):h.createElement(t.PlayButton.Pause,{className:"vds-icon"})))}QT.displayName="DefaultPlayButton";const tIe=h.forwardRef(({tooltip:e},t)=>{const{icons:n}=Wn(),r=wn("Mute"),i=wn("Unmute"),o=Un("muted"),s=Un("volume");return h.createElement(gf,{content:o?i:r,placement:e},h.createElement(uAe,{className:"vds-mute-button vds-button","aria-label":r,ref:t},o||s==0?h.createElement(n.MuteButton.Mute,{className:"vds-icon"}):s<.5?h.createElement(n.MuteButton.VolumeLow,{className:"vds-icon"}):h.createElement(n.MuteButton.VolumeHigh,{className:"vds-icon"})))});tIe.displayName="DefaultMuteButton";function P7({tooltip:e}){const{icons:t}=Wn(),n=wn("Captions"),r=wn("Closed-Captions On"),i=wn("Closed-Captions Off"),o=Un("textTrack"),s=o&&ru(o);return h.createElement(gf,{content:s?r:i,placement:e},h.createElement(aAe,{className:"vds-caption-button vds-button","aria-label":n},s?h.createElement(t.CaptionButton.On,{className:"vds-icon"}):h.createElement(t.CaptionButton.Off,{className:"vds-icon"})))}P7.displayName="DefaultCaptionButton";function nIe({tooltip:e}){const{icons:t}=Wn(),n=wn("PiP"),r=wn("Enter PiP"),i=wn("Exit PiP"),o=Un("pictureInPicture");return h.createElement(gf,{content:o?i:r,placement:e},h.createElement(cAe,{className:"vds-pip-button vds-button","aria-label":n},o?h.createElement(t.PIPButton.Exit,{className:"vds-icon"}):h.createElement(t.PIPButton.Enter,{className:"vds-icon"})))}nIe.displayName="DefaultPIPButton";function fJ({tooltip:e}){const{icons:t}=Wn(),n=wn("Fullscreen"),r=wn("Enter Fullscreen"),i=wn("Exit Fullscreen"),o=Un("fullscreen");return h.createElement(gf,{content:o?i:r,placement:e},h.createElement(lAe,{className:"vds-fullscreen-button vds-button","aria-label":n},o?h.createElement(t.FullscreenButton.Exit,{className:"vds-icon"}):h.createElement(t.FullscreenButton.Enter,{className:"vds-icon"})))}fJ.displayName="DefaultFullscreenButton";function Sq({backward:e,tooltip:t}){const{icons:n,seekStep:r}=Wn(),i=wn("Seek Forward"),o=wn("Seek Backward"),s=(e?-1:1)*r,a=s>=0?i:o;return h.createElement(gf,{content:a,placement:t},h.createElement(dAe,{className:"vds-seek-button vds-button",seconds:s,"aria-label":a},s>=0?h.createElement(n.SeekButton.Forward,{className:"vds-icon"}):h.createElement(n.SeekButton.Backward,{className:"vds-icon"})))}Sq.displayName="DefaultSeekButton";function hJ({tooltip:e}){const{icons:t}=Wn(),n=wn("AirPlay"),r=Un("remotePlaybackState"),i=wn(f3(r)),o=`${n} ${i}`,s=(r==="connecting"?t.AirPlayButton.Connecting:r==="connected"?t.AirPlayButton.Connected:null)??t.AirPlayButton.Default;return h.createElement(gf,{content:n,placement:e},h.createElement(oAe,{className:"vds-airplay-button vds-button","aria-label":o},h.createElement(s,{className:"vds-icon"})))}hJ.displayName="DefaultAirPlayButton";function pJ({tooltip:e}){const{icons:t}=Wn(),n=wn("Google Cast"),r=Un("remotePlaybackState"),i=wn(f3(r)),o=`${n} ${i}`,s=(r==="connecting"?t.GoogleCastButton.Connecting:r==="connected"?t.GoogleCastButton.Connected:null)??t.GoogleCastButton.Default;return h.createElement(gf,{content:n,placement:e},h.createElement(MAe,{className:"vds-google-cast-button vds-button","aria-label":o},h.createElement(s,{className:"vds-icon"})))}pJ.displayName="DefaultGoogleCastButton";function mJ(){const e=Un("live"),t=wn("Skip To Live"),n=wn("LIVE");return e?h.createElement(fAe,{className:"vds-live-button","aria-label":t},h.createElement("span",{className:"vds-live-button-text"},n)):null}mJ.displayName="DefaultLiveButton";function $7(){const{download:e,icons:t}=Wn(),n=Un("source"),r=Un("title"),i=nft({title:r,src:n,download:e}),o=wn("Download");return mn(i==null?void 0:i.url)?h.createElement(gf,{content:o,placement:"top"},h.createElement("a",{role:"button",className:"vds-download-button vds-button","aria-label":o,href:Omt(i.url,{download:i.name}),download:i.name,target:"_blank"},t.DownloadButton?h.createElement(t.DownloadButton.Default,{className:"vds-icon"}):null)):null}$7.displayName="DefaultDownloadButton";function T7(){const e=wn("Captions look like this");return h.createElement(NAe,{className:"vds-captions",exampleText:e})}T7.displayName="DefaultCaptions";function qu(){return h.createElement("div",{className:"vds-controls-spacer"})}qu.displayName="DefaultControlsSpacer";function rIe(){const{layoutEl:e}=Wn(),t=cr(e);return h.useMemo(()=>t==null?void 0:t.closest("dialog"),[t])}function gJ({tooltip:e,placement:t,portalClass:n=""}){const{showMenuDelay:r,noModal:i,isSmallLayout:o,icons:s,menuGroup:a,menuContainer:l,colorScheme:u}=Wn(),c=wn("Chapters"),f=vgt(),p=!f.length,{thumbnails:g}=Wn(),v=Un("currentSrc"),y=Un("viewType"),S=!o&&a==="bottom"&&y==="video"?26:0,C=cr(Igt),_=cJ(u),[k,w]=h.useState(!1),P=rIe();if(p)return null;function M(){ai.flushSync(()=>{w(!0)})}function R(){w(!1)}const D=h.createElement(rm,{className:"vds-chapters-menu-items vds-menu-items",placement:t,offset:S},k?h.createElement(YT,{className:"vds-chapters-radio-group vds-radio-group",value:f.selectedValue,"data-thumbnails":g?"":null},f.map(({cue:H,label:O,value:z,startTimeText:G,durationText:ee,select:X,setProgressVar:se})=>h.createElement(XT,{className:"vds-chapter-radio vds-radio",value:z,key:z,onSelect:X,ref:se},g?h.createElement(gAe,{src:g,className:"vds-thumbnail",time:H.startTime},h.createElement(iJ,null)):C&&iAe(v)?h.createElement(C,{className:"vds-thumbnail",frame:H.startTime*v.fps}):null,h.createElement("div",{className:"vds-chapter-radio-content"},h.createElement("span",{className:"vds-chapter-radio-label"},O),h.createElement("span",{className:"vds-chapter-radio-start-time"},G),h.createElement("span",{className:"vds-chapter-radio-duration"},ee))))):null);return h.createElement(nm,{className:"vds-chapters-menu vds-menu",showDelay:r,onOpen:M,onClose:R},h.createElement(gf,{content:c,placement:e},h.createElement(C7,{className:"vds-menu-button vds-button",disabled:p,"aria-label":c},h.createElement(s.Menu.Chapters,{className:"vds-icon"}))),i||!o?D:h.createElement(oJ,{container:l??P,className:n+(_?` ${_}`:""),disabled:"fullscreen","data-sm":o?"":null,"data-lg":o?null:"","data-size":o?"sm":"lg"},D))}gJ.displayName="DefaultChaptersMenu";const vJ={type:"color"},Dgt={type:"radio",values:{"Monospaced Serif":"mono-serif","Proportional Serif":"pro-serif","Monospaced Sans-Serif":"mono-sans","Proportional Sans-Serif":"pro-sans",Casual:"casual",Cursive:"cursive","Small Capitals":"capitals"}},Ogt={type:"slider",min:0,max:400,step:25,upIcon:null,downIcon:null},yJ={type:"slider",min:0,max:100,step:5,upIcon:null,downIcon:null},jgt={type:"radio",values:["None","Drop Shadow","Raised","Depressed","Outline"]},vD={fontFamily:"pro-sans",fontSize:"100%",textColor:"#ffffff",textOpacity:"100%",textShadow:"none",textBg:"#000000",textBgOpacity:"100%",displayBg:"#000000",displayBgOpacity:"0%"},ox=Object.keys(vD).reduce((e,t)=>({...e,[t]:_n(vD[t])}),{});if(!Ut)for(const e of Object.keys(ox)){const t=localStorage.getItem(`vds-player:${Vg(e)}`);mn(t)&&ox[e].set(t)}function Ngt(){for(const e of Object.keys(ox)){const t=vD[e];ox[e].set(t)}}function HF(e){const{style:t}=new Option;return t.color=e,t.color.match(/\((.*?)\)/)[1].replace(/,/g," ")}let Tle=!1,VF=new Set;function Fgt(){if(Ut)return;const{player:e}=Pi();VF.add(e),Jn(()=>VF.delete(e)),Tle||(Ts(()=>{for(const t of cPe(ox)){const n=ox[t],r=vD[t],i=`--media-user-${Vg(t)}`,o=`vds-player:${Vg(t)}`;Xe(()=>{var u;const s=n(),a=s===r,l=a?null:Bgt(e,t,s);for(const c of VF)(u=c.el)==null||u.style.setProperty(i,l);a?localStorage.removeItem(o):localStorage.setItem(o,s)})}},null),Tle=!0)}function Bgt(e,t,n){var r;switch(t){case"fontFamily":const i=n==="capitals"?"small-caps":"";return(r=e.el)==null||r.style.setProperty("--media-user-font-variant",i),Hgt(n);case"fontSize":case"textOpacity":case"textBgOpacity":case"displayBgOpacity":return zgt(n);case"textColor":return`rgb(${HF(n)} / var(--media-user-text-opacity, 1))`;case"textShadow":return Vgt(n);case"textBg":return`rgb(${HF(n)} / var(--media-user-text-bg-opacity, 1))`;case"displayBg":return`rgb(${HF(n)} / var(--media-user-display-bg-opacity, 1))`}}function zgt(e){return(parseInt(e)/100).toString()}function Hgt(e){switch(e){case"mono-serif":return'"Courier New", Courier, "Nimbus Mono L", "Cutive Mono", monospace';case"mono-sans":return'"Deja Vu Sans Mono", "Lucida Console", Monaco, Consolas, "PT Mono", monospace';case"pro-sans":return'Roboto, "Arial Unicode Ms", Arial, Helvetica, Verdana, "PT Sans Caption", sans-serif';case"casual":return'"Comic Sans MS", Impact, Handlee, fantasy';case"cursive":return'"Monotype Corsiva", "URW Chancery L", "Apple Chancery", "Dancing Script", cursive';case"capitals":return'"Arial Unicode Ms", Arial, Helvetica, Verdana, "Marcellus SC", sans-serif + font-variant=small-caps';default:return'"Times New Roman", Times, Georgia, Cambria, "PT Serif Caption", serif'}}function Vgt(e){switch(e){case"drop shadow":return"rgb(34, 34, 34) 1.86389px 1.86389px 2.79583px, rgb(34, 34, 34) 1.86389px 1.86389px 3.72778px, rgb(34, 34, 34) 1.86389px 1.86389px 4.65972px";case"raised":return"rgb(34, 34, 34) 1px 1px, rgb(34, 34, 34) 2px 2px";case"depressed":return"rgb(204, 204, 204) 1px 1px, rgb(34, 34, 34) -1px -1px";case"outline":return"rgb(34, 34, 34) 0px 0px 1.86389px, rgb(34, 34, 34) 0px 0px 1.86389px, rgb(34, 34, 34) 0px 0px 1.86389px, rgb(34, 34, 34) 0px 0px 1.86389px, rgb(34, 34, 34) 0px 0px 1.86389px";default:return""}}function Gd({label:e,value:t,children:n}){const r=h.useId();return e?h.createElement("section",{className:"vds-menu-section",role:"group","aria-labelledby":r},h.createElement("div",{className:"vds-menu-section-title"},h.createElement("header",{id:r},e),t?h.createElement("div",{className:"vds-menu-section-value"},t):null),h.createElement("div",{className:"vds-menu-section-body"},n)):h.createElement("div",{className:"vds-menu-section"},h.createElement("div",{className:"vds-menu-section-body"},n))}Gd.displayName="DefaultMenuSection";function u1({label:e,hint:t="",Icon:n,disabled:r=!1}){const{icons:i}=h.useContext(b3);return h.createElement(C7,{className:"vds-menu-item",disabled:r},h.createElement(i.Menu.ArrowLeft,{className:"vds-menu-close-icon vds-icon"}),n?h.createElement(n,{className:"vds-menu-item-icon vds-icon"}):null,h.createElement("span",{className:"vds-menu-item-label"},e),h.createElement("span",{className:"vds-menu-item-hint"},t),h.createElement(i.Menu.ArrowRight,{className:"vds-menu-open-icon vds-icon"}))}u1.displayName="DefaultMenuButton";function w3({label:e,children:t}){return h.createElement("div",{className:"vds-menu-item"},h.createElement("div",{className:"vds-menu-item-label"},e),t)}w3.displayName="DefaultMenuItem";function iIe({value:e,options:t,onChange:n}){const{icons:r}=Wn();return h.createElement(YT,{className:"vds-radio-group",value:e,onChange:n},t.map(i=>h.createElement(XT,{className:"vds-radio",value:i.value,key:i.value},h.createElement(r.Menu.RadioCheck,{className:"vds-icon"}),h.createElement("span",{className:"vds-radio-label","data-part":"label"},i.label))))}iIe.displayName="DefaultMenuRadioGroup";function Ugt(e){return h.useMemo(()=>Io(e)?e.map(t=>({label:t,value:t.toLowerCase()})):Object.keys(e).map(t=>({label:t,value:e[t]})),[e])}function JT({label:e,value:t,UpIcon:n,DownIcon:r,children:i,isMin:o,isMax:s}){const a=e||t,l=h.createElement(h.Fragment,null,r?h.createElement(r,{className:"vds-icon down"}):null,i,n?h.createElement(n,{className:"vds-icon up"}):null);return h.createElement("div",{className:`vds-menu-item vds-menu-slider-item${a?" group":""}`,"data-min":o?"":null,"data-max":s?"":null},a?h.createElement(h.Fragment,null,h.createElement("div",{className:"vds-menu-slider-title"},e?h.createElement("div",null,e):null,t?h.createElement("div",null,t):null),h.createElement("div",{className:"vds-menu-slider-body"},l)):l)}JT.displayName="DefaultMenuSliderItem";function e5(){return h.createElement(h.Fragment,null,h.createElement(x7,{className:"vds-slider-track"}),h.createElement(S7,{className:"vds-slider-track-fill vds-slider-track"}),h.createElement(w7,{className:"vds-slider-thumb"}))}e5.displayName="DefaultSliderParts";function t5(){return h.createElement(pAe,{className:"vds-slider-steps"},e=>h.createElement("div",{className:"vds-slider-step",key:String(e)}))}t5.displayName="DefaultSliderSteps";function oIe(){const e=wn("Caption Styles"),t=Un("hasCaptions"),n=wn("Font"),r=wn("Text"),i=wn("Text Background"),o=wn("Display Background");return t?h.createElement(nm,{className:"vds-font-menu vds-menu"},h.createElement(u1,{label:e}),h.createElement(rm,{className:"vds-font-style-items vds-menu-items"},h.createElement(Gd,{label:n},h.createElement(sIe,null),h.createElement(aIe,null)),h.createElement(Gd,{label:r},h.createElement(lIe,null),h.createElement(cIe,null),h.createElement(uIe,null)),h.createElement(Gd,{label:i},h.createElement(dIe,null),h.createElement(fIe,null)),h.createElement(Gd,{label:o},h.createElement(hIe,null),h.createElement(pIe,null)),h.createElement(Gd,null,h.createElement(gIe,null)))):null}oIe.displayName="DefaultFontMenu";function sIe(){return h.createElement(im,{label:"Family",type:"fontFamily",option:Dgt})}sIe.displayName="DefaultFontFamilyMenu";function aIe(){const{icons:e}=Wn(),t={...Ogt,upIcon:e.Menu.FontSizeUp,downIcon:e.Menu.FontSizeDown};return h.createElement(im,{label:"Size",type:"fontSize",option:t})}aIe.displayName="DefaultFontSizeSlider";function lIe(){return h.createElement(im,{label:"Color",type:"textColor",option:vJ})}lIe.displayName="DefaultTextColorInput";function uIe(){const{icons:e}=Wn(),t={...yJ,upIcon:e.Menu.OpacityUp,downIcon:e.Menu.OpacityDown};return h.createElement(im,{label:"Opacity",type:"textOpacity",option:t})}uIe.displayName="DefaultTextOpacitySlider";function cIe(){return h.createElement(im,{label:"Shadow",type:"textShadow",option:jgt})}cIe.displayName="DefaultTextShadowMenu";function dIe(){return h.createElement(im,{label:"Color",type:"textBg",option:vJ})}dIe.displayName="DefaultTextBgInput";function fIe(){const{icons:e}=Wn(),t={...yJ,upIcon:e.Menu.OpacityUp,downIcon:e.Menu.OpacityDown};return h.createElement(im,{label:"Opacity",type:"textBgOpacity",option:t})}fIe.displayName="DefaultTextBgOpacitySlider";function hIe(){return h.createElement(im,{label:"Color",type:"displayBg",option:vJ})}hIe.displayName="DefaultDisplayBgInput";function pIe(){const{icons:e}=Wn(),t={...yJ,upIcon:e.Menu.OpacityUp,downIcon:e.Menu.OpacityDown};return h.createElement(im,{label:"Opacity",type:"displayBgOpacity",option:t})}pIe.displayName="DefaultDisplayBgOpacitySlider";function im({label:e,option:t,type:n}){const r=EAe(),i=ox[n],o=cr(i),s=wn(e),a=h.useCallback(()=>{r==null||r.dispatchEvent(new Event("vds-font-change"))},[r]),l=h.useCallback(u=>{i.set(u),a()},[i,a]);if(t.type==="color"){let u=function(c){l(c.target.value)};return h.createElement(w3,{label:s},h.createElement("input",{className:"vds-color-picker",type:"color",value:o,onChange:u}))}if(t.type==="slider"){let u=function(y){l(y+"%")};const{min:c,max:f,step:p,upIcon:g,downIcon:v}=t;return h.createElement(JT,{label:s,value:o,UpIcon:g,DownIcon:v,isMin:o===c+"%",isMax:o===f+"%"},h.createElement(hAe,{className:"vds-slider",min:c,max:f,step:p,keyStep:p,value:parseInt(o),"aria-label":s,onValueChange:u,onDragValueChange:u},h.createElement(e5,null),h.createElement(t5,null)))}return t.type==="radio"?h.createElement(mIe,{id:Vg(n),label:s,value:o,values:t.values,onChange:l}):null}im.displayName="DefaultFontSetting";function mIe({id:e,label:t,value:n,values:r,onChange:i}){const o=Ugt(r),{translations:s}=Wn(),a=h.useMemo(()=>{var u;const l=((u=o.find(c=>c.value===n))==null?void 0:u.label)||"";return uJ(s,l)},[n,o]);return h.createElement(nm,{className:`vds-${e}-menu vds-menu`},h.createElement(u1,{label:t,hint:a}),h.createElement(rm,{className:"vds-menu-items"},h.createElement(iIe,{value:n,options:o,onChange:i})))}mIe.displayName="DefaultFontRadioGroup";function gIe(){const e=wn("Reset");return h.createElement("button",{className:"vds-menu-item",role:"menuitem",onClick:Ngt},h.createElement("span",{className:"vds-menu-item-label"},e))}gIe.displayName="DefaultResetMenuItem";function n5({label:e,checked:t,storageKey:n,defaultChecked:r=!1,onChange:i}){const[o,s]=h.useState(r),[a,l]=h.useState(!1);h.useEffect(()=>{const p=n?localStorage.getItem(n):null,g=!!(p??r);s(g),i==null||i(g)},[]),h.useEffect(()=>{kC(t)&&s(t)},[t]);function u(p){if(p&&"button"in p&&(p==null?void 0:p.button)===1)return;const g=!o;s(g),n&&localStorage.setItem(n,g?"1":""),i==null||i(g,p==null?void 0:p.nativeEvent),l(!1)}function c(p){p.button===0&&l(!0)}function f(p){m7(p.nativeEvent)&&u()}return h.createElement("div",{className:"vds-menu-checkbox",role:"menuitemcheckbox",tabIndex:0,"aria-label":e,"aria-checked":o?"true":"false","data-active":a?"":null,onPointerUp:u,onPointerDown:c,onKeyDown:f})}n5.displayName="DefaultMenuCheckbox";function vIe({slots:e}){const t=wn("Accessibility"),{icons:n}=Wn();return h.createElement(nm,{className:"vds-accessibility-menu vds-menu"},h.createElement(u1,{label:t,Icon:n.Menu.Accessibility}),h.createElement(rm,{className:"vds-menu-items"},jt(e,"accessibilityMenuItemsStart",null),h.createElement(Gd,null,h.createElement(yIe,null),h.createElement(bIe,null)),h.createElement(Gd,null,h.createElement(oIe,null)),jt(e,"accessibilityMenuItemsEnd",null)))}vIe.displayName="DefaultAccessibilityMenu";function yIe(){const{userPrefersAnnouncements:e}=Wn(),t=wn("Announcements");function n(r){e.set(r)}return h.createElement(w3,{label:t},h.createElement(n5,{label:t,defaultChecked:!0,storageKey:"vds-player::announcements",onChange:n}))}yIe.displayName="DefaultAnnouncementsMenuCheckbox";function bIe(){const e=Un("viewType"),{userPrefersKeyboardAnimations:t,noKeyboardAnimations:n}=Wn(),r=wn("Keyboard Animations");if(e!=="video"||n)return null;function i(o){t.set(o)}return h.createElement(w3,{label:r},h.createElement(n5,{label:r,defaultChecked:!0,storageKey:"vds-player::keyboard-animations",onChange:i}))}bIe.displayName="DefaultKeyboardAnimationsMenuCheckbox";function wIe({slots:e}){const t=wn("Audio"),n=Un("canSetAudioGain"),r=Un("audioTracks"),{noAudioGain:i,icons:o}=Wn(),s=n&&!i;return!s&&r.length<=1?null:h.createElement(nm,{className:"vds-audio-menu vds-menu"},h.createElement(u1,{label:t,Icon:o.Menu.Audio}),h.createElement(rm,{className:"vds-menu-items"},jt(e,"audioMenuItemsStart",null),h.createElement(EIe,null),s?h.createElement(xIe,null):null,jt(e,"audioMenuItemsEnd",null)))}wIe.displayName="DefaultAudioMenu";function xIe(){const e=Un("audioGain"),t=wn("Boost"),n=Math.round(((e??1)-1)*100)+"%",r=Un("canSetAudioGain"),{noAudioGain:i,icons:o}=Wn(),s=!r||i,a=SIe(),l=_Ie();return s?null:h.createElement(Gd,{label:t,value:n},h.createElement(JT,{UpIcon:o.Menu.AudioBoostUp,DownIcon:o.Menu.AudioBoostDown,isMin:((e??1)-1)*100<=a,isMax:((e??1)-1)*100===l},h.createElement(CIe,null)))}xIe.displayName="DefaultAudioBoostMenuSection";function SIe(){const{audioGains:e}=Wn();return(Io(e)?e[0]:e==null?void 0:e.min)??0}function _Ie(){const{audioGains:e}=Wn();return(Io(e)?e[e.length-1]:e==null?void 0:e.max)??300}function Wgt(){const{audioGains:e}=Wn();return(Io(e)?e[1]-e[0]:e==null?void 0:e.step)||25}function CIe(){const e=wn("Audio Boost"),t=SIe(),n=_Ie(),r=Wgt();return h.createElement(AAe,{className:"vds-audio-gain-slider vds-slider","aria-label":e,min:t,max:n,step:r,keyStep:r},h.createElement(e5,null),h.createElement(t5,null))}CIe.displayName="DefaultAudioGainSlider";function EIe(){const{icons:e}=Wn(),t=wn("Track"),n=wn("Default"),r=Un("audioTrack"),i=Qmt();return i.disabled?null:h.createElement(nm,{className:"vds-audio-track-menu vds-menu"},h.createElement(u1,{label:t,hint:(r==null?void 0:r.label)??n,disabled:i.disabled,Icon:e.Menu.Audio}),h.createElement(rm,{className:"vds-menu-items"},h.createElement(YT,{className:"vds-audio-radio-group vds-radio-group",value:i.selectedValue},i.map(({label:o,value:s,select:a})=>h.createElement(XT,{className:"vds-audio-radio vds-radio",value:s,onSelect:a,key:s},h.createElement(e.Menu.RadioCheck,{className:"vds-icon"}),h.createElement("span",{className:"vds-radio-label"},o))))))}EIe.displayName="DefaultAudioTracksMenu";function kIe({slots:e}){var s;const{icons:t}=Wn(),n=wn("Captions"),r=wn("Off"),i=Jmt({off:r}),o=((s=i.selectedTrack)==null?void 0:s.label)??r;return i.disabled?null:h.createElement(nm,{className:"vds-captions-menu vds-menu"},h.createElement(u1,{label:n,hint:o,disabled:i.disabled,Icon:t.Menu.Captions}),h.createElement(rm,{className:"vds-menu-items"},jt(e,"captionsMenuItemsStart",null),h.createElement(YT,{className:"vds-captions-radio-group vds-radio-group",value:i.selectedValue},i.map(({label:a,value:l,select:u})=>h.createElement(XT,{className:"vds-caption-radio vds-radio",value:l,onSelect:u,key:l},h.createElement(t.Menu.RadioCheck,{className:"vds-icon"}),h.createElement("span",{className:"vds-radio-label"},a)))),jt(e,"captionsMenuItemsEnd",null)))}kIe.displayName="DefaultCaptionMenu";function PIe({slots:e}){const t=wn("Playback"),{icons:n}=Wn();return h.createElement(nm,{className:"vds-playback-menu vds-menu"},h.createElement(u1,{label:t,Icon:n.Menu.Playback}),h.createElement(rm,{className:"vds-menu-items"},jt(e,"playbackMenuItemsStart",null),h.createElement(Gd,null,jt(e,"playbackMenuLoop",h.createElement($Ie,null))),h.createElement(Kgt,null),h.createElement(MIe,null),jt(e,"playbackMenuItemsEnd",null)))}PIe.displayName="DefaultPlaybackMenu";function $Ie(){const{remote:e}=_h(),t=wn("Loop");function n(r,i){e.userPrefersLoopChange(r,i)}return h.createElement(w3,{label:t},h.createElement(n5,{label:t,storageKey:"vds-player::user-loop",onChange:n}))}$Ie.displayName="DefaultLoopMenuCheckbox";function TIe(){const{remote:e,qualities:t}=_h(),n=Un("autoQuality"),r=wn("Auto");function i(o,s){o?e.requestAutoQuality(s):e.changeQuality(t.selectedIndex,s)}return h.createElement(w3,{label:r},h.createElement(n5,{label:r,checked:n,onChange:i,defaultChecked:n}))}TIe.displayName="DefaultAutoQualityMenuCheckbox";function MIe(){const{hideQualityBitrate:e,icons:t}=Wn(),n=Un("canSetQuality"),r=Un("qualities"),i=Un("quality"),o=wn("Quality"),s=wn("Auto"),a=h.useMemo(()=>n4e(r),[r]);if(!n||r.length<=1)return null;const l=i==null?void 0:i.height,u=e?null:i==null?void 0:i.bitrate,c=u&&u>0?`${(u/1e6).toFixed(2)} Mbps`:null,f=l?`${l}p${c?` (${c})`:""}`:s,p=a[0]===i,g=a.at(-1)===i;return h.createElement(Gd,{label:o,value:f},h.createElement(JT,{UpIcon:t.Menu.QualityUp,DownIcon:t.Menu.QualityDown,isMin:p,isMax:g},h.createElement(LIe,null)),h.createElement(TIe,null))}MIe.displayName="DefaultQualityMenuSection";function LIe(){const e=wn("Quality");return h.createElement(LAe,{className:"vds-quality-slider vds-slider","aria-label":e},h.createElement(e5,null),h.createElement(t5,null))}LIe.displayName="DefaultQualitySlider";function Kgt(){const{icons:e}=Wn(),t=Un("playbackRate"),n=Un("canSetPlaybackRate"),r=wn("Speed"),i=wn("Normal"),o=AIe(),s=IIe(),a=t===1?i:t+"x";return n?h.createElement(Gd,{label:r,value:a},h.createElement(JT,{UpIcon:e.Menu.SpeedUp,DownIcon:e.Menu.SpeedDown,isMin:t===o,isMax:t===s},h.createElement(RIe,null))):null}function AIe(){const{playbackRates:e}=Wn(),t=e;return(Io(t)?t[0]:t==null?void 0:t.min)??0}function IIe(){const{playbackRates:e}=Wn(),t=e;return(Io(t)?t[t.length-1]:t==null?void 0:t.max)??2}function qgt(){const{playbackRates:e}=Wn(),t=e;return(Io(t)?t[1]-t[0]:t==null?void 0:t.step)||.25}function RIe(){const e=wn("Speed"),t=AIe(),n=IIe(),r=qgt();return h.createElement(IAe,{className:"vds-speed-slider vds-slider","aria-label":e,min:t,max:n,step:r,keyStep:r},h.createElement(e5,null),h.createElement(t5,null))}RIe.displayName="DefaultSpeedSlider";function bJ({tooltip:e,placement:t,portalClass:n="",slots:r}){const{showMenuDelay:i,icons:o,isSmallLayout:s,menuContainer:a,menuGroup:l,noModal:u,colorScheme:c}=Wn(),f=wn("Settings"),p=Un("viewType"),g=!s&&l==="bottom"&&p==="video"?26:0,v=cJ(c),[y,S]=h.useState(!1),C=rIe();mgt(Fgt);function _(){ai.flushSync(()=>{S(!0)})}function k(){S(!1)}const w=h.createElement(rm,{className:"vds-settings-menu-items vds-menu-items",placement:t,offset:g},y?h.createElement(h.Fragment,null,jt(r,"settingsMenuItemsStart",null),jt(r,"settingsMenuStartItems",null),h.createElement(PIe,{slots:r}),h.createElement(vIe,{slots:r}),h.createElement(wIe,{slots:r}),h.createElement(kIe,{slots:r}),jt(r,"settingsMenuEndItems",null),jt(r,"settingsMenuItemsEnd",null)):null);return h.createElement(nm,{className:"vds-settings-menu vds-menu",showDelay:i,onOpen:_,onClose:k},h.createElement(gf,{content:f,placement:e},h.createElement(C7,{className:"vds-menu-button vds-button","aria-label":f},h.createElement(o.Menu.Settings,{className:"vds-icon vds-rotate-icon"}))),u||!s?w:h.createElement(oJ,{className:n+(v?` ${v}`:""),container:a??C,disabled:"fullscreen","data-sm":s?"":null,"data-lg":s?null:"","data-size":s?"sm":"lg","data-view-type":p},w))}bJ.displayName="DefaultSettingsMenu";function M7({tooltip:e,orientation:t,slots:n}){const r=Un("pointer"),i=Un("muted"),o=Un("canSetVolume"),[s,a]=h.useState(null),l=Lgt(s),u=jt(n,"muteButton",h.createElement(tIe,{tooltip:e}));return o?r==="coarse"&&!i?null:h.createElement("div",{className:"vds-volume","data-active":l?"":null,ref:a},u,h.createElement("div",{className:"vds-volume-popup"},jt(n,"volumeSlider",h.createElement(DIe,{orientation:t})))):u}M7.displayName="DefaultVolumePopup";function DIe(e){const t=wn("Volume");return h.createElement(mAe,{className:"vds-volume-slider vds-slider","aria-label":t,...e},h.createElement(x7,{className:"vds-slider-track"}),h.createElement(S7,{className:"vds-slider-track-fill vds-slider-track"}),h.createElement(w7,{className:"vds-slider-thumb"}),h.createElement(nJ,{className:"vds-slider-preview",noClamp:!0},h.createElement(rJ,{className:"vds-slider-value"})))}DIe.displayName="DefaultVolumeSlider";function L7(){const[e,t]=h.useState(null),[n,r]=h.useState(0),i=Un("currentSrc"),{thumbnails:o,sliderChaptersMinWidth:s,disableTimeSlider:a,seekStep:l,noScrubGesture:u}=Wn(),c=wn("Seek"),f=cr(Rgt),p=h.useCallback(()=>{const g=e==null?void 0:e.el;g&&r(g.clientWidth)},[e]);return XAe(e==null?void 0:e.el,p),h.createElement(vAe,{className:"vds-time-slider vds-slider","aria-label":c,disabled:a,noSwipeGesture:u,keyStep:l,ref:t},h.createElement(yAe,{className:"vds-slider-chapters",disabled:n<s},(g,v)=>g.map(y=>h.createElement("div",{className:"vds-slider-chapter",key:y.startTime,ref:v},h.createElement(x7,{className:"vds-slider-track"}),h.createElement(S7,{className:"vds-slider-track-fill vds-slider-track"}),h.createElement(xAe,{className:"vds-slider-progress vds-slider-track"})))),h.createElement(w7,{className:"vds-slider-thumb"}),h.createElement(nJ,{className:"vds-slider-preview"},o?h.createElement(kle.Root,{src:o,className:"vds-slider-thumbnail vds-thumbnail"},h.createElement(kle.Img,null)):f&&iAe(i)?h.createElement(f,{className:"vds-slider-thumbnail vds-thumbnail"}):null,h.createElement(wAe,{className:"vds-slider-chapter-title"}),h.createElement(rJ,{className:"vds-slider-value"})))}L7.displayName="DefaultTimeSlider";function OIe({slots:e}){return Un("duration")?h.createElement("div",{className:"vds-time-group"},jt(e,"currentTime",h.createElement(k4,{className:"vds-time",type:"current"})),jt(e,"timeDivider",h.createElement("div",{className:"vds-time-divider"},"/")),jt(e,"endTime",h.createElement(k4,{className:"vds-time",type:"duration"}))):null}OIe.displayName="DefaultTimeGroup";function wJ({slots:e}){return Un("live")?jt(e,"liveButton",h.createElement(mJ,null)):h.createElement(OIe,{slots:e})}wJ.displayName="DefaultTimeInfo";function jIe({slots:e}){const t=Un("live"),n=Un("duration");return t?jt(e,"liveButton",h.createElement(mJ,null)):jt(e,"endTime",n?h.createElement(k4,{className:"vds-time",type:"current",toggle:!0,remainder:!0}):null)}jIe.displayName="DefaultTimeInvert";JAe({type:"audio",smLayoutWhen({width:e}){return e<576},renderLayout:()=>h.createElement(NIe,null)});function NIe(){const e=eIe();return QAe("audio"),h.createElement(h.Fragment,null,h.createElement(k7,null),h.createElement(T7,null),h.createElement(E7,{className:"vds-controls"},h.createElement(vp,{className:"vds-controls-group"},jt(e,"seekBackwardButton",h.createElement(Sq,{backward:!0,tooltip:"top start"})),jt(e,"playButton",h.createElement(QT,{tooltip:"top center"})),jt(e,"seekForwardButton",h.createElement(Sq,{tooltip:"top center"})),h.createElement(BIe,null),jt(e,"timeSlider",h.createElement(L7,null)),h.createElement(jIe,{slots:e}),h.createElement(M7,{orientation:"vertical",tooltip:"top",slots:e}),jt(e,"captionButton",h.createElement(P7,{tooltip:"top center"})),jt(e,"downloadButton",h.createElement($7,null)),h.createElement(FIe,{slots:e}))))}NIe.displayName="AudioLayout";function FIe({slots:e}){const{isSmallLayout:t,noModal:n}=Wn(),r=n?"top end":t?null:"top end";return h.createElement(h.Fragment,null,jt(e,"chaptersMenu",h.createElement(gJ,{tooltip:"top",placement:r,portalClass:"vds-audio-layout"})),jt(e,"settingsMenu",h.createElement(bJ,{tooltip:"top end",placement:r,portalClass:"vds-audio-layout",slots:e})))}FIe.displayName="DefaultAudioMenus";function BIe(){const[e,t]=h.useState(null),n=_h(),{translations:r}=Wn(),[i,o]=h.useState(!1),s=gD(()=>{const{started:g,currentTime:v}=n.$state;return g()||v()>0}),a=cr(gD(()=>{const{title:g,ended:v}=n.$state;if(!g())return"";const y=v()?"Replay":s()?"Continue":"Play";return`${uJ(r,y)}: ${g()}`})),l=OAe(),u=cr(s),c=u?l:"",f=$gt(e);h.useEffect(()=>{var g;f&&document.activeElement===document.body&&((g=n.player.el)==null||g.focus({preventScroll:!0}))},[]);const p=h.useCallback(()=>{const g=e,v=!!g&&!f&&g.clientWidth<g.children[0].clientWidth;g&&tPe(g,"vds-marquee",v),o(v)},[e,f]);return XAe(e,p),a?h.createElement("span",{className:"vds-title",title:a,ref:t},h.createElement(_q,{title:a,chapterTitle:c}),i&&!f?h.createElement(_q,{title:a,chapterTitle:c}):null):h.createElement(qu,null)}BIe.displayName="DefaultAudioTitle";function _q({title:e,chapterTitle:t}){const n=eIe();return h.createElement("span",{className:"vds-title-text"},jt(n,"title",e),jt(n,"chapterTitle",h.createElement("span",{className:"vds-chapter-title"},t)))}_q.displayName="AudioTitle";const zIe=h.forwardRef(({icons:e,...t},n)=>{const[r,i]=h.useState(!1),[o,s]=h.useState(null),[a,l]=h.useState(0),u=Un("lastKeyboardAction");h.useEffect(()=>{l(v=>v+1)},[u]);const c=h.useMemo(()=>{const v=u==null?void 0:u.action;return v&&r?Vg(v):null},[r,u]),f=h.useMemo(()=>`vds-kb-action${r?"":" hidden"}${t.className?` ${t.className}`:""}`,[r]),p=gD(Ggt),g=cr(p);return pgt(()=>{const v=Zgt(e);s(()=>v)},[e]),h.useEffect(()=>{i(!!u);const v=setTimeout(()=>i(!1),500);return()=>{i(!1),window.clearTimeout(v)}},[u]),o?h.createElement(Tn.div,{...t,className:f,"data-action":c,ref:n},h.createElement("div",{className:"vds-kb-text-wrapper"},h.createElement("div",{className:"vds-kb-text"},g)),h.createElement("div",{className:"vds-kb-bezel",key:a},h.createElement("div",{className:"vds-kb-icon"},h.createElement(o,null)))):null});zIe.displayName="DefaultKeyboardDisplay";function Ggt(){var r;const{$state:e}=Vo(GT),t=(r=e.lastKeyboardAction())==null?void 0:r.action,n=e.audioGain()??1;switch(t){case"toggleMuted":return e.muted()?"0%":Mle(e.volume(),n);case"volumeUp":case"volumeDown":return Mle(e.volume(),n);default:return""}}function Mle(e,t){return`${Math.round(e*t*100)}%`}function Zgt(e){var r;const{$state:t}=Vo(GT);switch((r=t.lastKeyboardAction())==null?void 0:r.action){case"togglePaused":return t.paused()?e.Pause:e.Play;case"toggleMuted":return t.muted()||t.volume()===0?e.Mute:t.volume()>=.5?e.VolumeUp:e.VolumeDown;case"toggleFullscreen":return t.fullscreen()?e.EnterFullscreen:e.ExitFullscreen;case"togglePictureInPicture":return t.pictureInPicture()?e.EnterPiP:e.ExitPiP;case"toggleCaptions":return t.hasCaptions()?t.textTrack()?e.CaptionsOn:e.CaptionsOff:null;case"volumeUp":return e.VolumeUp;case"volumeDown":return e.VolumeDown;case"seekForward":return e.SeekForward;case"seekBackward":return e.SeekBackward;default:return null}}function xJ(){const e=Un("started"),t=Un("title");return sJ("chapters")&&(e||!t)?h.createElement(jAe,{className:"vds-chapter-title"}):h.createElement(RAe,{className:"vds-chapter-title"})}xJ.displayName="DefaultTitle";const Ygt=JAe({type:"video",smLayoutWhen({width:e,height:t}){return e<576||t<380},renderLayout(e){return h.createElement(VIe,{...e})}});function HIe(e){return h.createElement(Ygt,{...e})}HIe.displayName="DefaultVideoLayout";function VIe({streamType:e,isLoadLayout:t,isSmallLayout:n}){return QAe("video"),t?h.createElement(qIe,null):e==="unknown"?h.createElement(r5,null):n?h.createElement(WIe,null):h.createElement(UIe,null)}VIe.displayName="VideoLayout";function UIe(){const{menuGroup:e}=Wn(),t=dJ(),n={...t,...t==null?void 0:t.largeLayout};return h.createElement(h.Fragment,null,h.createElement(k7,null),h.createElement(SJ,null),h.createElement(_J,null),jt(n,"bufferingIndicator",h.createElement(r5,null)),jt(n,"captions",h.createElement(T7,null)),h.createElement(E7,{className:"vds-controls"},h.createElement(vp,{className:"vds-controls-group"},jt(n,"topControlsGroupStart",null),h.createElement(qu,null),jt(n,"topControlsGroupCenter",null),h.createElement(qu,null),jt(n,"topControlsGroupEnd",null),e==="top"&&h.createElement(yD,{slots:n})),h.createElement(qu,null),h.createElement(vp,{className:"vds-controls-group"},jt(n,"centerControlsGroupStart",null),h.createElement(qu,null),jt(n,"centerControlsGroupCenter",null),h.createElement(qu,null),jt(n,"centerControlsGroupEnd",null)),h.createElement(qu,null),h.createElement(vp,{className:"vds-controls-group"},jt(n,"timeSlider",h.createElement(L7,null))),h.createElement(vp,{className:"vds-controls-group"},jt(n,"playButton",h.createElement(QT,{tooltip:"top start"})),h.createElement(M7,{orientation:"horizontal",tooltip:"top",slots:n}),h.createElement(wJ,{slots:n}),jt(n,"chapterTitle",h.createElement(xJ,null)),jt(n,"captionButton",h.createElement(P7,{tooltip:"top"})),e==="bottom"&&h.createElement(yD,{slots:n}),jt(n,"airPlayButton",h.createElement(hJ,{tooltip:"top"})),jt(n,"googleCastButton",h.createElement(pJ,{tooltip:"top"})),jt(n,"downloadButton",h.createElement($7,null)),jt(n,"pipButton",h.createElement(nIe,{tooltip:"top"})),jt(n,"fullscreenButton",h.createElement(fJ,{tooltip:"top end"})))))}UIe.displayName="DefaultVideoLargeLayout";function WIe(){const e=dJ(),t={...e,...e==null?void 0:e.smallLayout};return h.createElement(h.Fragment,null,h.createElement(k7,null),h.createElement(SJ,null),h.createElement(_J,null),jt(t,"bufferingIndicator",h.createElement(r5,null)),jt(t,"captions",h.createElement(T7,null)),h.createElement(E7,{className:"vds-controls"},h.createElement(vp,{className:"vds-controls-group"},jt(t,"topControlsGroupStart",null),jt(t,"airPlayButton",h.createElement(hJ,{tooltip:"top start"})),jt(t,"googleCastButton",h.createElement(pJ,{tooltip:"top start"})),h.createElement(qu,null),jt(t,"topControlsGroupCenter",null),h.createElement(qu,null),jt(t,"captionButton",h.createElement(P7,{tooltip:"bottom"})),jt(t,"downloadButton",h.createElement($7,null)),h.createElement(yD,{slots:t}),h.createElement(M7,{orientation:"vertical",tooltip:"bottom end",slots:t}),jt(t,"topControlsGroupEnd",null)),h.createElement(qu,null),h.createElement(vp,{className:"vds-controls-group",style:{pointerEvents:"none"}},jt(t,"centerControlsGroupStart",null),h.createElement(qu,null),jt(t,"centerControlsGroupCenter",null),jt(t,"playButton",h.createElement(QT,{tooltip:"top"})),h.createElement(qu,null),jt(t,"centerControlsGroupEnd",null)),h.createElement(qu,null),h.createElement(vp,{className:"vds-controls-group"},h.createElement(wJ,{slots:t}),jt(t,"chapterTitle",h.createElement(xJ,null)),jt(t,"fullscreenButton",h.createElement(fJ,{tooltip:"top end"}))),h.createElement(vp,{className:"vds-controls-group"},jt(t,"timeSlider",h.createElement(L7,null)))),jt(t,"startDuration",h.createElement(KIe,null)))}WIe.displayName="DefaultVideoSmallLayout";function KIe(){return Un("duration")===0?null:h.createElement("div",{className:"vds-start-duration"},h.createElement(k4,{className:"vds-time",type:"duration"}))}KIe.displayName="DefaultVideoStartDuration";function SJ(){const{noGestures:e}=Wn();return e?null:h.createElement("div",{className:"vds-gestures"},h.createElement(py,{className:"vds-gesture",event:"pointerup",action:"toggle:paused"}),h.createElement(py,{className:"vds-gesture",event:"pointerup",action:"toggle:controls"}),h.createElement(py,{className:"vds-gesture",event:"dblpointerup",action:"toggle:fullscreen"}),h.createElement(py,{className:"vds-gesture",event:"dblpointerup",action:"seek:-10"}),h.createElement(py,{className:"vds-gesture",event:"dblpointerup",action:"seek:10"}))}SJ.displayName="DefaultVideoGestures";function r5(){return h.createElement("div",{className:"vds-buffering-indicator"},h.createElement(dgt,{className:"vds-buffering-spinner"},h.createElement(fgt,{className:"vds-buffering-track"}),h.createElement(hgt,{className:"vds-buffering-track-fill"})))}r5.displayName="DefaultBufferingIndicator";function yD({slots:e}){const{isSmallLayout:t,noModal:n,menuGroup:r}=Wn(),i=r==="top"||t?"bottom":"top",o=`${i} end`,s=n?`${i} end`:t?null:`${i} end`;return h.createElement(h.Fragment,null,jt(e,"chaptersMenu",h.createElement(gJ,{tooltip:o,placement:s,portalClass:"vds-video-layout"})),jt(e,"settingsMenu",h.createElement(bJ,{tooltip:o,placement:s,portalClass:"vds-video-layout",slots:e})))}yD.displayName="DefaultVideoMenus";function qIe(){const{isSmallLayout:e}=Wn(),t=dJ(),n={...t,...t==null?void 0:t[e?"smallLayout":"largeLayout"]};return h.createElement("div",{className:"vds-load-container"},jt(n,"bufferingIndicator",h.createElement(r5,null)),jt(n,"loadButton",h.createElement(QT,{tooltip:"top"})))}qIe.displayName="DefaultVideoLoadLayout";function _J(){const{noKeyboardAnimations:e,icons:t,userPrefersKeyboardAnimations:n}=Wn(),r=cr(n);return e||!r||!t.KeyboardDisplay?null:h.createElement(zIe,{icons:t.KeyboardDisplay})}_J.displayName="DefaultVideoKeyboardDisplay";function Dn(e){function t(n){return h.createElement(aJ,{paths:e,...n})}return t.displayName="DefaultLayoutIcon",t}const Xgt={AirPlayButton:{Default:Dn(mPe)},GoogleCastButton:{Default:Dn(FQ)},PlayButton:{Play:Dn(uW),Pause:Dn(sW),Replay:Dn(EPe)},MuteButton:{Mute:Dn(oW),VolumeLow:Dn(kA),VolumeHigh:Dn(EA)},CaptionButton:{On:Dn(eW),Off:Dn(CA)},PIPButton:{Enter:Dn(lW),Exit:Dn(aW)},FullscreenButton:{Enter:Dn(iW),Exit:Dn(rW)},SeekButton:{Backward:Dn(kPe),Forward:Dn(PPe)},DownloadButton:{Default:Dn(wPe)},Menu:{Accessibility:Dn(pPe),ArrowLeft:Dn(gPe),ArrowRight:Dn(bPe),Audio:Dn(SPe),Chapters:Dn(vPe),Captions:Dn(CA),Playback:Dn(CPe),Settings:Dn($Pe),AudioBoostUp:Dn(EA),AudioBoostDown:Dn(kA),SpeedUp:Dn(nW),SpeedDown:Dn(tW),QualityUp:Dn(JU),QualityDown:Dn(QU),FontSizeUp:Dn(JU),FontSizeDown:Dn(QU),OpacityUp:Dn(xPe),OpacityDown:Dn(_Pe),RadioCheck:Dn(yPe)},KeyboardDisplay:{Play:Dn(uW),Pause:Dn(sW),Mute:Dn(oW),VolumeUp:Dn(EA),VolumeDown:Dn(kA),EnterFullscreen:Dn(iW),ExitFullscreen:Dn(rW),EnterPiP:Dn(lW),ExitPiP:Dn(aW),CaptionsOn:Dn(eW),CaptionsOff:Dn(CA),SeekForward:Dn(nW),SeekBackward:Dn(tW)}};function Rs({className:e,primary:t,center:n,large:r,children:i,...o}){return d.jsx(Ar,{className:s=>J0("border-none flex gap-1 items-center bg-gray-100 text-me-primary-500 text-sm rounded hover:bg-gray-200",t?"bg-me-primary-500 text-white hover:bg-me-primary-600":"",n?"place-content-center":"",r?"px-4 py-2":"px-2 py-1",s.isDisabled?"opacity-70 cursor-not-allowed pointer-events-none":"",typeof e=="string"?e:e==null?void 0:e(s)),...o,children:i})}var _a=(...e)=>J0(ic(e));function Qgt({initialOpen:e=!1,placement:t="top",open:n,onOpenChange:r}={}){const[i,o]=h.useState(e),s=n??i,a=r??o,l=HX({placement:t,open:s,onOpenChange:a,whileElementsMounted:OO,middleware:[jX(5),FX({crossAxis:t.includes("-"),fallbackAxisSideDirection:"start",padding:5}),NX({padding:5})]}),u=l.context,c=NJe(u,{move:!1,enabled:n==null}),f=tet(u,{enabled:n==null}),p=JJe(u),g=iet(u,{role:"tooltip"}),v=net([c,f,p,g]);return h.useMemo(()=>({open:s,setOpen:a,...v,...l}),[s,a,v,l])}var GIe=h.createContext(null),ZIe=()=>{const e=h.useContext(GIe);if(e==null)throw new Error("Tooltip components must be wrapped in <Tooltip />");return e};function x3({children:e,...t}){const n=Qgt(t);return d.jsx(GIe.Provider,{value:n,children:e})}var S3=h.forwardRef(function({children:t,asChild:n=!1,...r},i){const o=ZIe(),s=t.ref,a=w2e([o.refs.setReference,i,s]);return n&&h.isValidElement(t)?h.cloneElement(t,o.getReferenceProps({ref:a,...r,...t.props,"data-state":o.open?"open":"closed"})):d.jsx(Ar,{ref:a,"data-state":o.open?"open":"closed",...o.getReferenceProps(r),children:t})}),YIe=h.forwardRef(function({style:t,root:n,...r},i){const o=ZIe(),s=w2e([o.refs.setFloating,i]);return o.open?d.jsx(P2e,{root:n,children:d.jsx("div",{ref:s,style:{...o.floatingStyles,...t},...o.getFloatingProps(r)})}):null});function i5(e){return d.jsx(YIe,{root:e.root,className:J0("bg-me-gray-900 text-white text-sm px-3 py-2 rounded opacity-90 z-50",e.className),children:e.children})}function A7({children:e}){return d.jsx("div",{className:"w-full h-full flex flex-col overflow-hidden",children:e})}function o5({children:e,className:t,padding:n}){return d.jsx("div",{className:_a("flex-1 min-h-0 overflow-y-auto pb-64",t,n&&"px-3 pt-3"),children:e})}function I7(e){const{actions:t,title:n}=e;return d.jsxs("div",{className:"bg-me-gray-100 h-12 flex items-center px-3 z-10 text-black border-b-me-gray-300 border-b flex-shrink-0",children:[d.jsx("div",{className:"flex-1",children:n}),d.jsx("div",{className:"ml-auto flex gap-2 items-center",children:t==null?void 0:t.map((r,i)=>d.jsxs(x3,{placement:"bottom",children:[d.jsx(S3,{asChild:!0,children:d.jsx("button",{className:_a("p-1 rounded hover:bg-me-gray-300",r.toggled&&"bg-me-gray-300",r.disabled&&"opacity-50 cursor-not-allowed"),onClick:r.onClick,title:r.title,disabled:r.disabled,children:r.icon},i)}),r.disabled?null:d.jsx(i5,{children:r.title})]},i))})]})}function Jgt(e){return d.jsx(x3,{placement:"right",children:d.jsx(S3,{asChild:!0,children:d.jsxs("button",{className:_a("border-none aspect-square w-full flex justify-center items-center hover:bg-me-primary-100 hover:text-black [&>svg]:text-2xl cursor-default",e.selected?"bg-me-primary-500 hover:bg-me-primary-600 hover:text-white text-white":"text-me-gray-700"),"aria-label":e.label,onMouseDown:e.onClick,children:[e.icon,d.jsx(YIe,{className:"bg-me-gray-900 text-white text-sm px-3 py-2 rounded opacity-90 z-50",children:e.label})]})})})}function evt(e){return d.jsx("div",{className:"bg-white border-me-gray-300 border-t border-r flex flex-col w-12 pb-2","data-open":e.open,children:e.items.map(t=>d.jsxs(d.Fragment,{children:[t.divide?d.jsx("div",{className:"flex-1 block w-2 min-h-1"}):null,d.jsx(Jgt,{label:t.label,selected:t.id===e.current&&e.open,icon:t.icon,onClick:t.onClick},t.id)]},t.id))})}function XIe(e){return e.wide?d.jsx("div",{className:"grid grid-md gap-4 p-4 overflow-y-auto",children:e.children}):d.jsx("div",{className:"grid grid-cols-2 gap-4 p-4",children:e.children})}function QIe(e){return d.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 42 42",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",...e,children:d.jsxs("g",{transform:"translate(2 2)",strokeWidth:5,fill:"none",fillRule:"evenodd",children:[d.jsx("circle",{strokeOpacity:.5,cx:18,cy:18,r:18}),d.jsx("path",{d:"M36 18c0-9.94-8.06-18-18-18",children:d.jsx("animateTransform",{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"1s",repeatCount:"indefinite"})})]})})}function tvt(e){return d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:[d.jsx("title",{children:"Text"}),d.jsx("path",{fill:"currentColor",d:"M3 21v-2h18v2zm0-4v-2h12v2zm0-4v-2h18v2zm0-4V7h12v2zm0-4V3h18v2z"})]})}function nvt({cover:e,fade:t=!0}){return d.jsx(Sx.LazyLoadComponent,{children:d.jsx(rvt,{cover:e,fade:t})})}var kM=new Map;function rvt({cover:e,fade:t=!0}){h.useRef(null);const n=kr(),r=n?!!kM.get(n==null?void 0:n.id):!1,[i,o]=h.useState(!r),s=av({height:256,width:256},!0);let a=s==null?void 0:s.id;n!=null&&n.id&&a?kM.set(n.id,a):n!=null&&n.id&&kM.get(n.id)&&(a=kM.get(n==null?void 0:n.id)),h.useEffect(()=>{a&&!r&&o(!0)},[a,r]);const l=h.useCallback(u=>{u&&!r&&(u.complete||u.naturalWidth>0)&&o(!1)},[r]);return d.jsxs("div",{className:"w-full h-full relative",children:[s!=null&&s.id?d.jsx("img",{onLoad:()=>o(!1),ref:l,src:s==null?void 0:s.id,alt:"",className:`w-full h-full ${e?"object-cover":"object-contain"} ${i?"opacity-0":r?"":"animate-fadeIn"}`}):d.jsx(ivt,{}),!(s!=null&&s.id)||i?d.jsx("div",{className:J0("absolute inset-0 flex items-center justify-center bg-me-gray-100 text-2xl z-10",t&&"animate-fadeIn"),children:d.jsx(QIe,{})}):null]})}function ivt(){const[e]=cQ();return e.type==="textual-content"?d.jsx("div",{className:"text-black/30 flex items-center justify-center h-full bg-me-gray-100 animate-fadeInDelayed absolute inset-0 z-20",children:d.jsx(tvt,{className:"w-16 h-16"})}):d.jsx("div",{className:"text-black/30 flex items-center justify-center h-full bg-me-gray-100 animate-fadeInDelayed absolute inset-0 z-20",children:"No thumbnail"})}function ovt(e){const t=kr();return t?d.jsx(Fn,{className:e.className,as:e.as,children:t.label}):null}function JIe({className:e,shouldTranslate:t,children:n,...r}){const i=h.useRef(null),o=h.useRef(null);return h.useLayoutEffect(()=>{if(!i.current||!o.current)return;let s;function a(g){const v=g.clientX,y=g.clientY,S=v-s.x,C=y-s.y,_={x:S-s.width/2,y:C-s.height/2},k=Math.sqrt(_.x**2+_.y**2);t&&(i.current.style.transform=`
        scale3d(1.07, 1.07, 1.07)
        rotate3d(
          ${_.y/100},
          ${-_.x/100},
          0,
          ${Math.log(k)*2}deg
        )
      `),o.current.style.backgroundImage=`
        radial-gradient(
          circle at
          ${_.x*2+s.width/2}px
          ${_.y*2+s.height/2}px,
          #ffffff66,
          #ffffff00
        )
      `}function l(){i.current.style.transform="",o.current.style.backgroundImage=""}let u=!1;const c=()=>{s=i.current.getBoundingClientRect(),u=!0},f=()=>{u=!1,l()},p=g=>{u&&a(g)};return i.current.addEventListener("mouseenter",c),i.current.addEventListener("mouseleave",f),i.current.addEventListener("mousemove",p),()=>{i.current.removeEventListener("mouseenter",c),i.current.removeEventListener("mouseleave",f),i.current.removeEventListener("mousemove",p)}},[]),d.jsxs("div",{ref:i,className:J0("relative transition-all hover:duration-50",t&&"hover:shadow-xl",e),...r,children:[n,d.jsx("div",{className:"pointer-events-none absolute inset-0 transition-all",style:{backgroundImage:"radial-gradient(circle at 50% -20%, #ffffff00, #ffffff00)"},ref:o})]})}function Cq(e){return d.jsx(Do,{canvas:e.id,children:d.jsxs("div",{onMouseDown:e.onClick,className:"flex flex-col","data-canvas-selected":e.selected,children:[d.jsx("div",{className:"bg-me-gray-100 w-full aspect-square flex-1 overflow-hidden rounded",children:d.jsx(JIe,{"data-canvas-selected":e.active,"aria-selected":e.active,className:_a("border-2 border-transparent  p-1 w-full h-full rounded",e.selected&&"border-me-primary-500"),children:d.jsx(nvt,{})})}),d.jsx(ovt,{className:"text-sm text-center truncate mt-1",as:"div"})]})})}function svt({children:e}){const t=document.getElementById("modal-back-slot");return t?ai.createPortal(e,t):null}function CJ({id:e,title:t,open:n=!0,onClose:r,actions:i,children:o}){return d.jsx(d.Fragment,{children:d.jsxs(Aut,{open:n,onClose:r,id:e,className:"relative z-[500]",children:[d.jsx("div",{className:"fixed inset-0 bg-black/30 animate-fadeIn z-[501]","aria-hidden":"true"}),d.jsx("div",{className:"fixed inset-0 flex w-screen items-center justify-center p-4 z-[502]",children:d.jsx("div",{className:"relative p-4 w-full max-w-4xl max-h-full",children:d.jsxs(dke,{className:"relative bg-white rounded-lg overflow-hidden shadow-2xl max-h-[80vh] flex flex-col",children:[d.jsxs("div",{className:"flex  items-center justify-between gap-3 p-4 rounded-t-lg sticky top-0 bg-white",children:[d.jsx("div",{id:"modal-back-slot"}),d.jsx(fke,{className:"text-xl font-semibold text-gray-900 ",children:t}),d.jsxs(ult,{className:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center",children:[d.jsx("svg",{className:"w-3 h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14",children:d.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})}),d.jsx("span",{className:"sr-only",children:"Close"})]})]}),d.jsx("div",{className:"flex-1 min-h-0 overflow-y-auto flex flex-col",children:o}),i?d.jsx("div",{className:"flex items-center p-4 border-t border-gray-200 rounded-b justify-end",children:i}):null]})})})]})})}function Lle({children:e,className:t,...n}){return d.jsx("button",{className:_a("bg-white border border-me-primary-500 text-xs py-1 px-2 rounded text-me-primary-600 hover:bg-me-primary-50",t),...n,children:e})}function avt(e){return d.jsx("div",{className:_a("flex w-full p-0.5 opacity-0 transition-opacity duration-300 gap-2",e.active&&"opacity-1"),children:e.children})}function lvt(e){return d.jsx(DSe,{orientation:"horizontal","aria-label":e.label,selectionMode:"single",items:e.items,className:"grid grid-sm gap-4 p-4 mb-8",children:t=>d.jsx(uvt,{...t})})}function uvt(e){return d.jsxs(jSe,{id:e.id,onAction:e.onClick,className:t=>J0("bg-white p-2 border-me-gray-300 rounded-md border hover:border-me-primary-500",t.isFocused&&"border-me-primary-500 outline-me-primary-500 outline-2"),children:[d.jsx("div",{className:"rounded bg-me-gray-300 mb-2 flex items-center justify-center py-1 aspect-square",children:d.jsx("div",{className:"text-center [&>svg]:w-16 [&>svg]:h-16",children:e.icon})}),d.jsx("div",{className:"text-center font-semibold text-sm",children:e.title}),d.jsx("div",{className:"text-sm text-center text-black/50",children:e.description})]})}var cvt=e=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"#5f6368",viewBox:"0 -960 960 960",...e,children:d.jsx("path",{d:"M480-320 280-520l56-58 104 104v-326h80v326l104-104 56 58-200 200ZM240-160q-33 0-56.5-23.5T160-240v-120h80v120h480v-120h80v120q0 33-23.5 56.5T720-160H240Z",fill:"currentColor"})});function dvt({label:e,id:t,getData:n,fileName:r,fileType:i}){const o=Ds(t);return d.jsx(x3,{placement:"bottom",children:d.jsxs(S3,{className:"bg-me-gray-100 hover:bg-me-primary-500 hover:text-white p-1 rounded-md text-me-primary-500 text-2xl","aria-label":e,id:o,onPress:()=>fvt(n(),r,i),children:[d.jsx(cvt,{"aria-labelledby":t}),d.jsx(i5,{children:e})]})})}function fvt(e,t,n="text/json"){const r=e instanceof Blob?e:new Blob([e],{type:n}),i=document.createElement("a");i.download=t,i.href=window.URL.createObjectURL(r);const o=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0});i.dispatchEvent(o),i.remove()}function hvt({children:e,controlsId:t}){return d.jsxs("div",{className:"bg-me-gray-100 border-b text-black p-1 flex gap-4 items-center h-12",children:[d.jsx("div",{className:"px-4",children:e}),d.jsx("div",{id:t||"atlas-controls",className:"flex gap-2"})]})}var pvt=({title:e,titleId:t,...n})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 -960 960 960","aria-labelledby":t,...n,children:[e?d.jsx("title",{id:t,children:e}):null,d.jsx("path",{fill:"currentColor",d:"M160-120v-170l527-526q12-12 27-18t30-6q16 0 30.5 6t25.5 18l56 56q12 11 18 25.5t6 30.5q0 15-6 30t-18 27L330-120H160Zm80-80h56l393-392-28-29-29-28-392 393v56Zm560-503-57-57 57 57Zm-139 82-29-28 57 57-28-29ZM560-120q74 0 137-37t63-103q0-36-19-62t-51-45l-59 59q23 10 36 22t13 26q0 23-36.5 41.5T560-200q-17 0-28.5 11.5T520-160q0 17 11.5 28.5T560-120ZM183-426l60-60q-20-8-31.5-16.5T200-520q0-12 18-24t76-37q88-38 117-69t29-70q0-55-44-87.5T280-840q-45 0-80.5 16T145-785q-11 13-9 29t15 26q13 11 29 9t27-13q14-14 31-20t42-6q41 0 60.5 12t19.5 28q0 14-17.5 25.5T262-654q-80 35-111 63.5T120-520q0 32 17 54.5t46 39.5Z"})]}),mvt=({title:e,titleId:t,...n})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 -960 960 960","aria-labelledby":t,...n,children:[e?d.jsx("title",{id:t,children:e}):null,d.jsx("path",{fill:"currentColor",d:"M600-80v-100L320-320H120v-240h172l108-124v-196h240v240H468L360-516v126l240 120v-50h240v240H600ZM480-720h80v-80h-80v80ZM200-400h80v-80h-80v80Zm480 240h80v-80h-80v80ZM520-760ZM240-440Zm480 240Z"})]});function gvt({title:e,titleId:t,...n}){return d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em","aria-labelledby":t,...n,children:[e?d.jsx("title",{id:t,children:e}):null,d.jsxs("g",{fill:"none",fillRule:"evenodd",children:[d.jsx("circle",{cx:4.5,cy:4.5,r:2.5,fill:"currentColor"}),d.jsx("circle",{cx:15.5,cy:15.5,r:2.5,fill:"currentColor"}),d.jsx("path",{stroke:"currentColor",strokeLinecap:"square",strokeWidth:2,d:"m13.5 13.5-9-9"})]})]})}function vvt({title:e,titleId:t,...n}){return d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em","aria-labelledby":t,...n,children:[e?d.jsx("title",{id:t,children:e}):null,d.jsxs("g",{fill:"none",fillRule:"evenodd",children:[d.jsx("path",{d:"M0 0h20v20H0z"}),d.jsx("path",{stroke:"currentColor",strokeLinecap:"square",strokeWidth:2,d:"m8.5 11.5 6-6M16 4v3m0-3h-3m0 14L2 7"}),d.jsx("path",{stroke:"currentColor",strokeOpacity:.407,strokeWidth:2,d:"m2 7 5-5 11 11-5 5z"})]})]})}var yvt=({title:e,titleId:t,...n})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 -960 960 960","aria-labelledby":t,...n,children:[e?d.jsx("title",{id:t,children:e}):null,d.jsx("path",{fill:"currentColor",d:"M600-360ZM320-242q10 1 19.5 1.5t20.5.5q11 0 20.5-.5T400-242v82h400v-400h-82q1-10 1.5-19.5t.5-20.5q0-11-.5-20.5T718-640h82q33 0 56.5 23.5T880-560v400q0 33-23.5 56.5T800-80H400q-33 0-56.5-23.5T320-160v-82Zm40-78q-117 0-198.5-81.5T80-600q0-117 81.5-198.5T360-880q117 0 198.5 81.5T640-600q0 117-81.5 198.5T360-320Zm0-80q83 0 141.5-58.5T560-600q0-83-58.5-141.5T360-800q-83 0-141.5 58.5T160-600q0 83 58.5 141.5T360-400Zm0-200Z"})]}),bvt=({title:e,titleId:t,...n})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 -960 960 960","aria-labelledby":t,...n,children:[e?d.jsx("title",{id:t,children:e}):null,d.jsx("path",{fill:"currentColor",d:"M200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h560q33 0 56.5 23.5T840-760v560q0 33-23.5 56.5T760-120H200Zm0-80h560v-560H200v560Zm0 0v-560 560Z"})]}),wvt=({title:e,titleId:t,...n})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 -960 960 960","aria-labelledby":t,...n,children:[e?d.jsx("title",{id:t,children:e}):null,d.jsx("path",{d:"m80-160 400-640 400 640H80Zm144-80h512L480-650 224-240Zm256-205Z",fill:"currentColor"})]}),xvt=({title:e,titleId:t,...n})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 -960 960 960","aria-labelledby":t,...n,children:[e?d.jsx("title",{id:t,children:e}):null,d.jsx("path",{fill:"currentColor",d:"M272-120 64-480l208-360h416l208 360-208 360H272Zm46-80h324l161-280-161-280H318L156-480l162 280Zm162-280Z"})]});function Svt(e){return d.jsxs("svg",{height:"1em",width:"1em",viewBox:"0 0 24 24",...e,children:[d.jsx("path",{d:"M0 0h24v24H0z",fill:"none"}),d.jsx("path",{d:"M0 0h24v24H0V0z",fill:"none"}),d.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12l1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z",fill:"currentColor"})]})}var _vt='bg-me-gray-100 border hover:bg-me-gray-300 rounded p-1 text-2xl text-me-primary-500 data-[active="true"]:border-me-primary-600',Cvt={DrawIcon:d.jsx(pvt,{}),PolygonIcon:d.jsx(mvt,{}),LineIcon:d.jsx(gvt,{}),LineBoxIcon:d.jsx(vvt,{}),ShapesIcon:d.jsx(yvt,{}),SquareIcon:d.jsx(bvt,{}),TriangleIcon:d.jsx(wvt,{}),HexagonIcon:d.jsx(xvt,{}),DeleteForeverIcon:d.jsx(Svt,{})};function Evt({helper:e,state:t,showShapes:n}){return h.useEffect(()=>{e.stamps.square()},[]),d.jsx(IEe,{icons:Cvt,helper:e,state:t,showShapes:n,classNames:{button:_vt}})}function kvt({onPress:e,children:t}){return d.jsx(Ar,{className:"bg-me-primary-500 px-3 py-1 hover:bg-me-primary-600 text-white rounded",onPress:e,children:t})}function Pvt({onCreate:e,canCreate:t}){return d.jsxs("div",{className:"flex items-center flex-col gap-5 py-16",children:[d.jsx(JIe,{shouldTranslate:!0,onClick:t?e:void 0,className:"border-2 border-dotted bg-black/5 aspect-[3/4] rounded w-32 border-black"}),d.jsx("div",{className:"font-bold text-lg",children:"Let's get started!"}),d.jsx("div",{className:"max-w-xl px-5 my-4",children:"Add a title and top level information for this manifest using the editing panel on the right, and then add some canvases and content."}),t?d.jsx(Ar,{className:"px-8 font-bold py-2 border rounded-lg border-me-primary-500 text-me-primary-500 hover:border-me-primary-600 hover:text-me-primary-600",onPress:e,children:"Start adding content"}):null]})}function $vt({menu:e,menuId:t,selectedKey:n,onSelectionChange:r}){const i=h.useRef(null),[o,s]=h.useState(0),[a,l]=h.useState(null),u=h.useRef([]),c=h.useRef([]),f=h.useMemo(()=>e.findIndex(g=>g.id===n),[e,n]);h.useLayoutEffect(()=>{const g=()=>{if(u.current.length===0){u.current=[];for(const S of c.current)S&&u.current.push(S.getBoundingClientRect().width)}if(u.current.reduce((S,C)=>S+C,0)&&i.current){const C=i.current.getBoundingClientRect().width-20;let _=0,k=0;for(let w=u.current.length-1;w>=0;w--)if(k+=u.current[w],k>C){_=w+1;break}s(_)}};g();const v=setInterval(g,500);return()=>{clearInterval(v)}},[]);const p=e.filter((g,v)=>o>=e.length-v);return d.jsxs(d.Fragment,{children:[d.jsxs(HSe,{className:"w-full flex-1 overflow-hidden flex flex-col",selectedKey:n,onSelectionChange:r,children:[d.jsxs("div",{className:"flex items-center w-full tab-shadow",children:[d.jsx(VSe,{ref:i,className:"flex-1 overflow-hidden w-full flex text-sm whitespace-nowrap",children:e.map((g,v)=>{const y=o>=e.length-v;return d.jsx(XV,{ref:S=>c.current[v]=S,id:g.id,className:S=>_a("border-b-2 px-2 py-1 text-sm text-gray-400 select-none hover:text-black focus:ring-0 focus:outline-none",S.isSelected&&"border-me-primary-500 text-black",S.isFocusVisible&&"ring-0 bg-me-gray-100",y&&"hidden"),children:g.label},g.id)})}),d.jsx("div",{ref:l,id:"hidden-menu"})]}),e.map(g=>d.jsx(QV,{id:g.id,className:"flex-1 overflow-y-auto h-full",children:g.renderComponent},g.id))]},t),a&&o>0?ai.createPortal(d.jsx(Tvt,{hidden:o,menuHidden:p,selectedIndex:f,selectedKey:n,onSelectionChange:r}),a):null]})}var Tvt=Rut(({selectedIndex:e,hidden:t,menuHidden:n,selectedKey:r,onSelectionChange:i})=>d.jsxs(kO,{children:[d.jsx(Ar,{className:_a("border-none rounded bg-gray-100 px-1.5 py-1 mr-2 mb-1 text-me-primary-500 semibold uppercase text-[10px]",e>t&&"bg-me-primary-500 text-white rounded"),children:"MORE"}),d.jsx(MT,{children:n.length?d.jsx(LT,{className:"bg-white rounded shadow-lg flex flex-col gap-0.5 p-0.5 min-w-28",children:n.map(o=>d.jsx(hp,{className:s=>_a("hover:bg-me-gray-100 p-1 rounded-sm text-sm",r===o.id&&"ring ring-me-primary-500"),onAction:()=>i==null?void 0:i(o.id),children:o.label},o.id))}):null})]}));function Mvt({className:e,label:t,children:n,...r}){return d.jsxs("fieldset",{className:_a("hover:ring ring-gray-200 focus-within:ring-me-primary-500 focus-within:ring p-2 rounded mb-2",e),...r,children:[d.jsx(Fn,{className:"text-lg font-bold text-[#333] mb-2",as:"h3",children:t}),n]})}function EJ(e){return d.jsx("div",{className:_a("flex items-center justify-center text-gray-400 text-md",e.$noMargin?"":"m-4",e.$box?"p-4 border border-gray-200 rounded":""),children:e.children})}function Lvt(e){return d.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 206 27",xmlns:"http://www.w3.org/2000/svg",className:"me-logo h-[23px] w-[176px]",...e,children:d.jsxs("g",{fill:"none",children:[d.jsx("path",{d:"M62.558 5.41v14.873h-2.983v-9.675l-3.985 9.675h-2.26l-4.006-9.675v9.675H46.34V5.41h3.388l4.73 11.06L59.19 5.41zm2.173 8.928c0-1.194.238-2.252.714-3.176.476-.923 1.123-1.633 1.94-2.13.816-.498 1.73-.746 2.738-.746.88 0 1.651.177 2.312.532.66.355 1.19.803 1.588 1.343V8.477h3.004v11.806h-3.004v-1.726c-.384.554-.913 1.012-1.588 1.374-.675.363-1.453.544-2.334.544-.994 0-1.9-.256-2.717-.767-.816-.512-1.463-1.233-1.939-2.163-.476-.93-.714-2-.714-3.207Zm9.292.042c0-.724-.143-1.346-.427-1.864a3.005 3.005 0 0 0-1.15-1.194 3.076 3.076 0 0 0-1.556-.415c-.554 0-1.066.135-1.534.405-.47.27-.85.664-1.14 1.182-.292.519-.437 1.133-.437 1.844 0 .71.145 1.331.437 1.864.29.533.674.941 1.15 1.226.476.284.984.426 1.524.426.554 0 1.073-.139 1.556-.416a3.005 3.005 0 0 0 1.15-1.193c.284-.519.427-1.14.427-1.865Zm12.466-6.073c1.406 0 2.543.444 3.41 1.332.866.888 1.3 2.127 1.3 3.718v6.926h-2.984v-6.52c0-.938-.234-1.66-.703-2.164-.47-.504-1.108-.756-1.918-.756-.824 0-1.474.252-1.95.756-.476.505-.714 1.226-.714 2.163v6.521h-2.983V8.477h2.983v1.47a4.121 4.121 0 0 1 1.524-1.203 4.713 4.713 0 0 1 2.035-.437Zm9.057-1.237c-.526 0-.963-.166-1.311-.5a1.657 1.657 0 0 1-.522-1.247c0-.497.174-.912.522-1.246.348-.334.785-.5 1.31-.5.526 0 .963.166 1.311.5.348.334.522.75.522 1.246 0 .498-.174.913-.522 1.247-.348.334-.785.5-1.31.5Zm1.47 1.407v11.806h-2.983V8.477h2.983Zm8.354 2.451h-2.068v9.355h-3.026v-9.355h-1.342v-2.45h1.342V7.88c0-1.45.412-2.515 1.236-3.197.824-.682 2.067-1.001 3.73-.959V6.24c-.725-.014-1.23.106-1.513.362-.284.256-.427.718-.427 1.385v.49h2.068v2.451Zm12.913 3.197c0 .426-.028.81-.085 1.15h-8.63c.07.853.369 1.52.895 2.003.525.483 1.172.725 1.939.725 1.108 0 1.896-.476 2.365-1.428h3.218c-.34 1.137-.994 2.07-1.96 2.802-.967.732-2.153 1.098-3.56 1.098-1.136 0-2.155-.252-3.057-.757a5.325 5.325 0 0 1-2.11-2.141c-.504-.924-.756-1.99-.756-3.197 0-1.222.248-2.294.745-3.218a5.204 5.204 0 0 1 2.089-2.13c.895-.498 1.925-.746 3.09-.746 1.122 0 2.127.241 3.015.724a5.1 5.1 0 0 1 2.067 2.057c.49.887.735 1.907.735 3.058Zm-3.09-.853c-.014-.767-.29-1.381-.83-1.843-.54-.462-1.201-.693-1.982-.693-.74 0-1.36.224-1.865.671-.504.448-.813 1.07-.927 1.865h5.604Zm9.782 7.203c-.966 0-1.833-.174-2.6-.522-.767-.348-1.375-.82-1.822-1.417a3.591 3.591 0 0 1-.735-1.982h3.004c.057.454.281.83.672 1.13.39.298.877.447 1.46.447.568 0 1.012-.114 1.331-.341.32-.227.48-.519.48-.874 0-.383-.196-.671-.586-.863-.391-.192-1.012-.401-1.865-.629-.88-.213-1.602-.433-2.163-.66a3.755 3.755 0 0 1-1.449-1.044c-.405-.47-.607-1.101-.607-1.897 0-.653.188-1.25.564-1.79.377-.54.917-.966 1.62-1.279.703-.312 1.53-.468 2.483-.468 1.406 0 2.528.351 3.367 1.054.838.704 1.3 1.652 1.385 2.845h-2.856c-.042-.469-.238-.841-.586-1.118-.348-.277-.813-.416-1.396-.416-.54 0-.955.1-1.246.298a.951.951 0 0 0-.437.831c0 .398.199.7.597.906.397.206 1.015.416 1.854.629.852.213 1.555.433 2.11.66a3.727 3.727 0 0 1 1.438 1.055c.405.476.614 1.105.628 1.886 0 .682-.188 1.293-.564 1.833-.377.54-.917.962-1.62 1.268-.703.305-1.524.458-2.461.458Zm10.569-9.547v5.711c0 .398.096.686.288.863.192.178.515.267.97.267h1.385v2.514h-1.875c-2.515 0-3.772-1.222-3.772-3.665v-5.69h-1.407v-2.45h1.407v-2.92h3.004v2.92h2.643v2.45h-2.643Zm12.851-3.111v3.73h5.007v2.364h-5.007v3.943h5.647v2.43h-8.631V5.386h8.63v2.43zm7.585 6.521c0-1.194.239-2.252.715-3.176.476-.923 1.126-1.633 1.95-2.13.824-.498 1.74-.746 2.749-.746.767 0 1.498.167 2.194.5.697.334 1.25.778 1.663 1.332V4.514h3.026v15.77h-3.026v-1.748c-.37.582-.888 1.051-1.556 1.406s-1.442.533-2.323.533a5.07 5.07 0 0 1-2.727-.767c-.824-.512-1.474-1.233-1.95-2.163-.476-.93-.714-2-.714-3.207Zm9.292.042c0-.724-.142-1.346-.426-1.864a3.005 3.005 0 0 0-1.151-1.194 3.076 3.076 0 0 0-1.556-.415 3.02 3.02 0 0 0-1.534.405c-.469.27-.849.664-1.14 1.182-.291.519-.437 1.133-.437 1.844 0 .71.146 1.331.437 1.864.291.533.675.941 1.15 1.226a2.93 2.93 0 0 0 1.524.426c.554 0 1.073-.139 1.556-.416a3.005 3.005 0 0 0 1.15-1.193c.285-.519.427-1.14.427-1.865Zm7.438-7.31c-.527 0-.963-.166-1.311-.5a1.657 1.657 0 0 1-.523-1.247c0-.497.174-.912.523-1.246.348-.334.784-.5 1.31-.5s.963.166 1.31.5c.349.334.523.75.523 1.246 0 .498-.174.913-.522 1.247-.348.334-.785.5-1.31.5Zm1.47 1.407v11.806h-2.984V8.477h2.984Zm6.414 2.451v5.711c0 .398.096.686.287.863.192.178.515.267.97.267h1.385v2.514h-1.875c-2.515 0-3.772-1.222-3.772-3.665v-5.69h-1.406v-2.45h1.406v-2.92h3.005v2.92h2.642v2.45h-2.642Zm10.036 9.547c-1.136 0-2.159-.252-3.068-.757a5.447 5.447 0 0 1-2.141-2.141c-.519-.924-.778-1.99-.778-3.197s.266-2.273.799-3.196a5.553 5.553 0 0 1 2.184-2.142c.924-.504 1.954-.756 3.09-.756 1.137 0 2.167.252 3.09.756a5.553 5.553 0 0 1 2.184 2.142c.533.923.8 1.989.8 3.196 0 1.208-.274 2.273-.821 3.197a5.681 5.681 0 0 1-2.216 2.141c-.93.505-1.971.757-3.122.757Zm0-2.6a3.1 3.1 0 0 0 1.524-.394c.476-.263.856-.657 1.14-1.183.285-.526.427-1.165.427-1.918 0-1.122-.295-1.985-.885-2.589a2.907 2.907 0 0 0-2.163-.906c-.852 0-1.566.302-2.141.906-.576.604-.863 1.467-.863 2.59 0 1.122.28 1.985.841 2.588.562.604 1.268.906 2.12.906Zm11.338-7.565a4.194 4.194 0 0 1 1.502-1.47c.618-.356 1.325-.533 2.12-.533v3.132h-.788c-.938 0-1.644.22-2.12.661-.476.44-.714 1.208-.714 2.302v5.881h-2.984V8.477h2.984v1.833Z",fill:"#000"}),d.jsx("path",{fill:"#E94581",className:"me-logo-1",d:"M0 13.343 13.343 0l13.343 13.343-13.343 13.343z"}),d.jsx("path",{fill:"#E94581",className:"me-logo-2",d:"M12.137 13.346 25.48.003l13.343 13.343L25.48 26.69z"}),d.jsx("path",{fill:"#C63E75",className:"me-logo-3",d:"m12.104 13.348 7.311-7.311 7.312 7.311-7.312 7.312z"})]})})}function Avt({className:e,...t}){return d.jsx(Hxe,{className:_a("font-semibold text-sm",e),...t})}function Ivt({className:e,...t}){return d.jsx(UXe,{className:_a("",e),...t})}function Rvt({className:e,...t}){return d.jsx(WXe,{className:n=>_a("outline outline-me-primary-500 outline-offset-2 w-5 h-5 rounded-full bg-white transition-all border-[7px] border-gray-700 group-pressed:border-gray-800 outline-0",e),...t})}function Dvt({className:e,...t}){return d.jsx(lXe,{className:_a("",e),...t})}function Ovt({className:e,...t}){return d.jsx(zxe,{className:_a("p-2 bg-me-gray-100 border-b border-b-me-gray-500","focus:ring-0 outline-0 focus:border-me-primary-500 focus:bg-[#ECEEF5]",e),...t})}function jvt({className:e,...t}){return d.jsx(dXe,{className:_a("p-2 bg-me-gray-100 border-b border-b-me-gray-500","focus:ring-0 outline-0 focus:border-me-primary-500 focus:bg-[#ECEEF5]",e),...t})}function Nvt({horizontal:e,className:t,...n}){return d.jsx("div",{className:_a("flex flex-col gap-2",e&&"flex-row",t),...n})}var PM={Input:Ovt,Form:Dvt,Label:Avt,InputContainer:Nvt,RadioGroup:Ivt,Radio:Rvt,TextArea:jvt},Fvt=new Dut.Converter;Fvt.setFlavor("github");new rD;function Ld({children:e,active:t,label:n,disabled:r,onPress:i,root:o,className:s,placement:a="top"}){return d.jsx(x3,{placement:a,children:d.jsxs(S3,{onClick:i,className:J0("rounded flex items-center bg-white justify-center p-2 hover:bg-gray-100 text-2xl",t?"bg-me-primary-500 bg-opacity-40 hover:bg-opacity-70 hover:bg-me-primary-500":"",r?"opacity-50 pointer-events-none":"",s),children:[e,d.jsx(i5,{root:o,className:"translate-x-3 z-50",children:n})]})})}function Bvt({children:e,handle:t,actions:n,grid:r}){const i=r?"absolute flex p-1 gap-1 bg-white z-1 right-1 top-1 rounded":"flex-shrink-0 flex items-center gap-1 px-1";return d.jsxs("div",{className:r?"relative flex flex-col":"flex items-center",children:[d.jsx("div",{className:"flex-1 min-w-0",style:{flex:1,minWidth:0},children:e}),d.jsxs("div",{className:i,children:[n,t]})]})}var zvt=h.forwardRef(function({className:t,...n},r){return d.jsx("div",{ref:r,className:`relative text-2xl flex p-0.5 rounded-sm aspect-square hover:bg-me-primary-100 aria-expanded:bg-me-primary-500 aria-expanded:text-white ${t||""}`,...n})});function Hvt(e){return d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 -960 960 960","aria-label":"collection",role:"img",...e,children:d.jsx("path",{d:"M320-320h480v-480h-80v280l-100-60-100 60v-280H320v480Zm0 80q-33 0-56.5-23.5T240-320v-480q0-33 23.5-56.5T320-880h480q33 0 56.5 23.5T880-800v480q0 33-23.5 56.5T800-240H320ZM160-80q-33 0-56.5-23.5T80-160v-560h80v560h560v80H160Zm360-720h200-200Zm-200 0h480-480Z",fill:"currentColor"})})}function Ale({isActive:e,onAction:t}){const n=lv({});return d.jsxs(Ar,{className:"border-b-2 border-b-gray-200 flex p-2 gap-3 text-left truncate items-center w-full hover:bg-gray-100 data-[active]:bg-gray-200 data-[active]:border-b-me-primary-500",onPress:t,"data-active":e||void 0,children:[d.jsx(Hvt,{"data-active":e||void 0,className:"flex-shrink-0 text-2xl data-[active]:text-me-primary-500 text-gray-400"}),d.jsx(Fn,{children:n==null?void 0:n.label})]})}function Vvt(e){return d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"20 -910 960 960","aria-label":"manifest",role:"img",...e,children:d.jsx("path",{d:"M480-160q-48-38-104-59t-116-21q-42 0-82.5 11T100-198q-21 11-40.5-1T40-234v-482q0-11 5.5-21T62-752q46-24 96-36t102-12q58 0 113.5 15T480-740v484q51-32 107-48t113-16q36 0 70.5 6t69.5 18v-480q15 5 29.5 10.5T898-752q11 5 16.5 15t5.5 21v482q0 23-19.5 35t-40.5 1q-37-20-77.5-31T700-240q-60 0-116 21t-104 59Zm80-200v-380l200-200v400L560-360Zm-160 65v-396q-33-14-68.5-21.5T260-720q-37 0-72 7t-68 21v397q35-13 69.5-19t70.5-6q36 0 70.5 6t69.5 19Zm0 0v-396 396Z",fill:"currentColor"})})}function Ile({isActive:e,onAction:t}){const n=Li();return d.jsxs(Ar,{className:"border-b-2 border-b-gray-200 flex p-2 gap-3 text-left truncate items-center w-full hover:bg-gray-100 data-[active]:bg-gray-200 data-[active]:border-b-me-primary-500",onPress:t,"data-active":e||void 0,children:[d.jsx(Vvt,{"data-active":e||void 0,className:"flex-shrink-0 text-2xl data-[active]:text-me-primary-500 text-gray-400"}),d.jsx(Fn,{children:n==null?void 0:n.label})]})}function Uvt(){return d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24",children:[d.jsx("path",{d:"M0 0h24v24H0V0z",fill:"none"}),d.jsx("path",{d:"M13 11h-2v3H8v2h3v3h2v-3h3v-2h-3zm1-9H6c-1.1 0-2 .9-2 2v16c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm4 18H6V4h7v5h5v11z",fill:"currentColor"})]})}var kJ=e=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"#5f6368",viewBox:"0 -960 960 960",...e,children:d.jsx("path",{d:"M200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h360v80H200v560h560v-360h80v360q0 33-23.5 56.5T760-120H200Zm480-480v-80h-80v-80h80v-80h80v80h80v80h-80v80h-80ZM240-280h480L570-480 450-320l-90-120-120 160Zm-40-480v560-560Z",fill:"currentColor"})}),eRe=({mono:e=!0,...t})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",xmlSpace:"preserve",width:"1em",height:"1em",...t,viewBox:"0 0 493.36 441.333",children:[d.jsx("path",{d:"m65.242 2178.75 710-263.75-1.25-1900-708.75 261.25v1902.5m738.903 461.34c81.441-240.91-26.473-436.2-241.04-436.2-214.558 0-454.511 195.29-535.953 436.2-81.433 240.89 26.48 436.18 241.039 436.18 214.567 0 454.512-195.29 535.954-436.18",style:{fill:e?"currentColor":"#2873ab",fillOpacity:1,fillRule:"nonzero",stroke:"none"},transform:"matrix(.13333 0 0 -.13333 0 441.333)"}),d.jsx("path",{d:"M1678.58 2178.75 968.578 1915l1.25-1900 708.752 261.25v1902.5m-743.498 461.34c-81.437-240.91 26.477-436.2 241.038-436.2 214.56 0 454.51 195.29 535.96 436.2 81.43 240.89-26.48 436.18-241.04 436.18-214.57 0-454.52-195.29-535.958-436.18",style:{fill:e?"currentColor":"#ed1d33",fillOpacity:1,fillRule:"nonzero",stroke:"none"},transform:"matrix(.13333 0 0 -.13333 0 441.333)"}),d.jsx("path",{d:"m1860.24 2178.75 710-263.75-1.25-1900-708.75 261.25v1902.5m743.5 461.34c81.45-240.91-26.47-436.2-241.03-436.2-214.58 0-454.52 195.29-535.96 436.2-81.44 240.89 26.48 436.18 241.03 436.18 214.57 0 454.51-195.29 535.96-436.18",style:{fill:e?"currentColor":"#2873ab",fillOpacity:1,fillRule:"nonzero",stroke:"none"},transform:"matrix(.13333 0 0 -.13333 0 441.333)"}),d.jsx("path",{d:"M3700.24 3310v-652.5s-230 90-257.5-142.5c-2.5-247.5 0-336.25 0-336.25l257.5 83.75V1690l-258.61-92.5v-1335L2735.24 0v2360s-15 850 965 950",style:{fill:e?"currentColor":"#ed1d33",fillOpacity:1,fillRule:"nonzero",stroke:"none"},transform:"matrix(.13333 0 0 -.13333 0 441.333)"})]}),Wvt=e=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"#5f6368",viewBox:"0 -960 960 960",...e,children:d.jsx("path",{d:"M0-360v-240h60v80h80v-80h60v240h-60v-100H60v100H0Zm310 0v-180h-70v-60h200v60h-70v180h-60Zm170 0v-200q0-17 11.5-28.5T520-600h180q17 0 28.5 11.5T740-560v200h-60v-180h-40v140h-60v-140h-40v180h-60Zm320 0v-240h60v180h100v60H800Z",fill:"currentColor"})}),R7=e=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"#5f6368",viewBox:"0 -960 960 960",...e,children:d.jsx("path",{d:"M200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h200v80H200v560h560v-214l80 80v134q0 33-23.5 56.5T760-120H200Zm40-160 120-160 90 120 120-160 150 200H240Zm622-144L738-548q-21 14-45 21t-51 7q-74 0-126-52.5T464-700q0-75 52.5-127.5T644-880q75 0 127.5 52.5T824-700q0 27-8 52t-20 46l122 122-56 56ZM644-600q42 0 71-29t29-71q0-42-29-71t-71-29q-42 0-71 29t-29 71q0 42 29 71t71 29Z",fill:"currentColor"})});function Kvt({title:e,titleId:t,...n}){return d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em","aria-labelledby":t,...n,children:[e?d.jsx("title",{id:t,children:e}):null,d.jsx("path",{d:"M0 0h24v24H0V0z",fill:"none"}),d.jsx("path",{d:"M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z",fill:"currentColor"})]})}function qvt({title:e,titleId:t,...n}){return d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em","aria-labelledby":t,...n,children:[e?d.jsx("title",{id:t,children:e}):null,d.jsxs("g",{fill:"none",children:[d.jsx("path",{d:"M0 0h24v24H0V0z"}),d.jsx("path",{d:"M0 0h24v24H0V0z",opacity:".87"})]}),d.jsx("path",{d:"M3 13h2v-2H3v2zm0 4h2v-2H3v2zm0-8h2V7H3v2zm4 4h14v-2H7v2zm0 4h14v-2H7v2zM7 7v2h14V7H7zm-4 6h2v-2H3v2zm0 4h2v-2H3v2zm0-8h2V7H3v2zm4 4h14v-2H7v2zm0 4h14v-2H7v2zM7 7v2h14V7H7z",fill:"currentColor"})]})}var Gvt=e=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"#5f6368",viewBox:"0 -960 960 960",...e,children:d.jsx("path",{d:"M616-242q-27 1-51.5 1.5t-43.5.5h-41q-71 0-133-2-53-2-104.5-5.5T168-257q-26-7-45-26t-26-45q-6-23-9.5-56T82-447q-2-36-2-73t2-73q2-30 5.5-63t9.5-56q7-26 26-45t45-26q23-6 74.5-9.5T347-798q62-2 133-2t133 2q53 2 104.5 5.5T792-783q26 7 45 26t26 45q6 23 9.5 56t5.5 63q2 36 2 73v17q-19-8-39-12.5t-41-4.5q-83 0-141.5 58.5T600-320q0 21 4 40.5t12 37.5ZM400-400l208-120-208-120v240Zm360 200v-80h-80v-80h80v-80h80v80h80v80h-80v80h-80Z",fill:"currentColor"})});function Zvt({title:e,titleId:t,...n}){return d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24","aria-labelledby":t,...n,children:[e?d.jsx("title",{id:t,children:e}):null,d.jsx("path",{d:"M0 0h24v24H0V0z",fill:"none"}),d.jsx("path",{d:"M14.06 9.02l.92.92L5.92 19H5v-.92l9.06-9.06M17.66 3c-.25 0-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.2-.2-.45-.29-.71-.29zm-3.6 3.19L3 17.25V21h3.75L17.81 9.94l-3.75-3.75z"})]})}var Yvt=e=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"#5f6368",viewBox:"0 -960 960 960",...e,children:d.jsx("path",{d:"M160-160q-33 0-56.5-23.5T80-240v-480q0-33 23.5-56.5T160-800h480q33 0 56.5 23.5T720-720v180l160-160v440L720-420v180q0 33-23.5 56.5T640-160H160Zm0-80h480v-480H160v480Zm0 0v-480 480Z",fill:"currentColor"})}),Xvt=e=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"#5f6368",viewBox:"0 -960 960 960",...e,children:d.jsx("path",{d:"M480-400q-50 0-85-35t-35-85v-240q0-50 35-85t85-35q50 0 85 35t35 85v240q0 50-35 85t-85 35Zm0-240Zm-40 520v-123q-104-14-172-93t-68-184h80q0 83 58.5 141.5T480-320q83 0 141.5-58.5T680-520h80q0 105-68 184t-172 93v123h-80Zm40-360q17 0 28.5-11.5T520-520v-240q0-17-11.5-28.5T480-800q-17 0-28.5 11.5T440-760v240q0 17 11.5 28.5T480-480Z",fill:"currentColor"})}),tRe=e=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"#5f6368",viewBox:"0 -960 960 960",...e,children:d.jsx("path",{d:"M240-80q-33 0-56.5-23.5T160-160v-640q0-33 23.5-56.5T240-880h320l240 240v480q0 33-23.5 56.5T720-80H240Zm280-520v-200H240v640h480v-440H520ZM240-800v200-200 640-640Z",fill:"currentColor"})});function nRe({className:e,inline:t,height:n=16,color:r="black"}){return d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",height:`${n}px`,viewBox:"0 0 24 24",width:"24px",fill:r,style:{verticalAlign:t?"bottom":void 0},className:e,children:[d.jsx("path",{d:"M0 0h24v24H0z",fill:"none"}),d.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z",fill:"currentColor"})]})}function Qvt(){return d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",height:"1em",viewBox:"0 0 24 24",width:"1em",children:[d.jsx("path",{d:"M0 0h24v24H0z",fill:"none"}),d.jsx("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z",fill:"currentColor"})]})}function rRe(e){return d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:d.jsx("path",{fill:"currentColor",d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5s5 2.24 5 5s-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3s3-1.34 3-3s-1.34-3-3-3"})})}function iRe(e){return d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:d.jsx("path",{fill:"currentColor",d:"M1 5h2v14H1zm4 0h2v14H5zm17 0H10c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h12c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1M11 17l2.5-3.15L15.29 16l2.5-3.22L21 17z"})})}function Jvt(e){return d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:[d.jsx("path",{fill:"currentColor",d:"M10 10h4v4h-4zm0 6h4v4h-4zM4 4h4v4H4zm0 6h4v4H4zm0 6h4v4H4zM16 4h4v4h-4zm0 6h4v4h-4zm0 6h4v4h-4zM10 4h4v4h-4z",opacity:".3"}),d.jsx("path",{fill:"currentColor",d:"M20 2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2M8 20H4v-4h4zm0-6H4v-4h4zm0-6H4V4h4zm6 12h-4v-4h4zm0-6h-4v-4h4zm0-6h-4V4h4zm6 12h-4v-4h4zm0-6h-4v-4h4zm0-6h-4V4h4z"})]})}function eyt(e){return d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:d.jsx("path",{fill:"currentColor",d:"M21 15h2v2h-2zm0-4h2v2h-2zm2 8h-2v2c1 0 2-1 2-2M13 3h2v2h-2zm8 4h2v2h-2zm0-4v2h2c0-1-1-2-2-2M1 7h2v2H1zm16-4h2v2h-2zm0 16h2v2h-2zM3 3C2 3 1 4 1 5h2zm6 0h2v2H9zM5 3h2v2H5zm-4 8v8c0 1.1.9 2 2 2h12V11zm2 8l2.5-3.21l1.79 2.15l2.5-3.22L13 19z"})})}function s5({children:e,small:t=!1,className:n}){return d.jsx("div",{className:J0("bg-red-500 text-white","border-1 drop-shadow border-red-700 w-full rounded-md py-2 px-4 leading-[1.9em] flex items-center","has-[a]:text-white",t&&"text-xs whitespace-nowrap py-1 px-2 leading-[1.6em] w-fit",n),children:e})}function PJ(e,t=24){const[n,r]=h.useState(!1);return h.useLayoutEffect(()=>{e&&setTimeout(()=>{r(!0)},0)},[e]),e?n?e:e.slice(0,t):[]}function tyt(e){const t=e.strategy.items.map(o=>Object.keys(o.text)[0]),[n,r]=h.useState(t[0]),i=e.strategy.items.find(o=>Object.keys(o.text)[0]===n);return d.jsxs("div",{className:"overflow-y-auto bg-white shadow",children:[d.jsx("div",{className:"flex gap-2 border-b",children:t.map(o=>d.jsx(Ar,{className:`py-1 px-3 ${n===o?"bg-me-500 text-white":"bg-white text-black"}`,onPress:()=>r(o),children:o},o))}),d.jsx("div",{className:"p-4 prose",children:d.jsx(Fn,{enableDangerouslySetInnerHTML:!0,defaultText:d.jsx("span",{className:"text-gray-500 my-8",children:"No content available"}),children:i==null?void 0:i.text})})]})}function oRe(e){const t=h.useRef(null),n=e.captions||[],r=e.language,i=h.useRef(e.startTime||0);return d.jsx(WAe,{onTimeUpdate:o=>{const s=Math.round(o.currentTime);i.current!==s&&(i.current=s)},ref:t,lang:r,className:"h-full w-full min-w-[275px] flex radius-0",playsInline:!0,currentTime:e.startTime,duration:e.media.duration,src:[{src:e.media.url,type:e.media.format}],children:d.jsxs(KAe,{className:"w-full h-full [&>video]:w-full [&>video]:h-full [&>video]:object-contain",children:[n.map(o=>d.jsx(GAe,{src:o.id,kind:"subtitles",label:uc(o.label),default:o.language===r,language:o.language},o.id)),e.poster?d.jsx(ZAe,{className:"absolute inset-0 bg-black block h-full w-full opacity-0 transition-opacity data-[visible]:opacity-100 object-contain",src:e.poster}):null,d.jsx(nyt,{}),d.jsx(HIe,{className:"z-1",noGestures:!0,icons:Xgt})]})})}function nyt(){return d.jsxs(d.Fragment,{children:[d.jsx(py,{className:"pointer-coarse:hidden absolute top-0 start-12 bottom-20 right-0 -z-1 block",event:"pointerup",action:"toggle:paused"}),d.jsx(py,{className:"absolute inset-0 z-0 block h-full w-full",event:"dblpointerup",action:"toggle:fullscreen"})]})}var sRe={};Object.defineProperty(sRe,"__esModule",{value:!0});const Oh=h;function ryt(e,t){const[n,r]=(0,Oh.useState)(!1),i=(0,Oh.useRef)(null),o=(0,Oh.useRef)(!0),s=(0,Oh.useRef)(!1),a=(0,Oh.useRef)(null),l=(0,Oh.useMemo)(()=>Array.from({length:e},()=>(0,Oh.createRef)()),[e]),u=y=>y.key!==void 0,c=y=>{var S;i.current=y,(S=l[y].current)===null||S===void 0||S.focus()};(0,Oh.useEffect)(()=>{if(o.current){o.current=!1;return}n&&(!s.current||t!=null&&t.focusFirstItemOnClick)?c(0):n||(s.current=!1)},[n]),(0,Oh.useEffect)(()=>{if(!n)return;const y={removed:!1},S=C=>{setTimeout(()=>{C.target instanceof Element&&(C.target.closest('[role="menu"]')instanceof Element||r(!1))},10)};return setTimeout(()=>{y.removed||document.addEventListener("click",S)},1),()=>{y.removed=!0,document.removeEventListener("click",S)}},[n]),(0,Oh.useEffect)(()=>{const y=S=>{n&&(S.key==="ArrowDown"||S.key==="ArrowUp")&&S.preventDefault()};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[n]);const f=y=>{if(u(y)){const{key:S}=y;if(!["Enter"," ","Tab","ArrowDown","Escape"].includes(S))return;(S==="Tab"||S==="ArrowDown")&&s.current&&n&&(y.preventDefault(),c(0)),(S==="Enter"||S===" ")&&(y.preventDefault(),r(!0)),S==="Escape"&&(y.preventDefault(),r(!1))}else t!=null&&t.focusFirstItemOnClick||(s.current=!n),r(!n)},p=y=>{var S;const{key:C}=y;if(["Tab","Shift","Enter","Escape","ArrowUp","ArrowDown"," "].includes(C)){let _=i.current;if(C==="Escape"){r(!1),(S=a.current)===null||S===void 0||S.focus();return}else if(C==="Tab"){r(!1);return}else if(C==="Enter"||C===" "){y.currentTarget.href||y.currentTarget.click(),r(!1);return}_!==null&&(C==="ArrowUp"?_-=1:C==="ArrowDown"&&(_+=1),_>l.length-1?_=0:_<0&&(_=l.length-1)),_!==null&&c(_);return}if(/[a-zA-Z0-9./<>?;:"'`!@#$%^&*()\\[\]{}_+=|\\-~,]/.test(C)){const _=l.findIndex(k=>{var w,P,M,R,D,H;return((P=(w=k.current)===null||w===void 0?void 0:w.innerText)===null||P===void 0?void 0:P.toLowerCase().startsWith(C.toLowerCase()))||((R=(M=k.current)===null||M===void 0?void 0:M.textContent)===null||R===void 0?void 0:R.toLowerCase().startsWith(C.toLowerCase()))||((H=(D=k.current)===null||D===void 0?void 0:D.getAttribute("aria-label"))===null||H===void 0?void 0:H.toLowerCase().startsWith(C.toLowerCase()))});_!==-1&&c(_)}},g={onKeyDown:f,onClick:f,tabIndex:0,ref:a,role:"button","aria-haspopup":!0,"aria-expanded":n},v=Array.from({length:e},(y,S)=>({onKeyDown:p,tabIndex:-1,role:"menuitem",ref:l[S]}));return{buttonProps:g,itemProps:v,isOpen:n,setIsOpen:r,moveFocus:c}}var P4=sRe.default=ryt,aRe=Symbol.for("immer-nothing"),Rle=Symbol.for("immer-draftable"),cc=Symbol.for("immer-state");function Zd(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var $C=Object.getPrototypeOf;function sx(e){return!!e&&!!e[cc]}function ax(e){var t;return e?lRe(e)||Array.isArray(e)||!!e[Rle]||!!((t=e.constructor)!=null&&t[Rle])||O7(e)||j7(e):!1}var iyt=Object.prototype.constructor.toString();function lRe(e){if(!e||typeof e!="object")return!1;const t=$C(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===iyt}function oyt(e){return sx(e)||Zd(15,e),e[cc].base_}function bD(e,t){D7(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function D7(e){const t=e[cc];return t?t.type_:Array.isArray(e)?1:O7(e)?2:j7(e)?3:0}function Eq(e,t){return D7(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function uRe(e,t,n){const r=D7(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function syt(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function O7(e){return e instanceof Map}function j7(e){return e instanceof Set}function J1(e){return e.copy_||e.base_}function kq(e,t){if(O7(e))return new Map(e);if(j7(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=lRe(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[cc];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const s=i[o],a=r[s];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(r[s]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[s]})}return Object.create($C(e),r)}else{const r=$C(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function $J(e,t=!1){return N7(e)||sx(e)||!ax(e)||(D7(e)>1&&(e.set=e.add=e.clear=e.delete=ayt),Object.freeze(e),t&&Object.entries(e).forEach(([n,r])=>$J(r,!0))),e}function ayt(){Zd(2)}function N7(e){return Object.isFrozen(e)}var lyt={};function lx(e){const t=lyt[e];return t||Zd(0,e),t}var $4;function cRe(){return $4}function uyt(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Dle(e,t){t&&(lx("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Pq(e){$q(e),e.drafts_.forEach(cyt),e.drafts_=null}function $q(e){e===$4&&($4=e.parent_)}function Ole(e){return $4=uyt($4,e)}function cyt(e){const t=e[cc];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function jle(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[cc].modified_&&(Pq(t),Zd(4)),ax(e)&&(e=wD(t,e),t.parent_||xD(t,e)),t.patches_&&lx("Patches").generateReplacementPatches_(n[cc].base_,e,t.patches_,t.inversePatches_)):e=wD(t,n,[]),Pq(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==aRe?e:void 0}function wD(e,t,n){if(N7(t))return t;const r=t[cc];if(!r)return bD(t,(i,o)=>Nle(e,r,t,i,o,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return xD(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let o=i,s=!1;r.type_===3&&(o=new Set(i),i.clear(),s=!0),bD(o,(a,l)=>Nle(e,r,i,a,l,n,s)),xD(e,i,!1),n&&e.patches_&&lx("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function Nle(e,t,n,r,i,o,s){if(sx(i)){const a=o&&t&&t.type_!==3&&!Eq(t.assigned_,r)?o.concat(r):void 0,l=wD(e,i,a);if(uRe(n,r,l),sx(l))e.canAutoFreeze_=!1;else return}else s&&n.add(i);if(ax(i)&&!N7(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;wD(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&xD(e,i)}}function xD(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&$J(t,n)}function dyt(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:cRe(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=TJ;n&&(i=[r],o=T4);const{revoke:s,proxy:a}=Proxy.revocable(i,o);return r.draft_=a,r.revoke_=s,a}var TJ={get(e,t){if(t===cc)return e;const n=J1(e);if(!Eq(n,t))return fyt(e,n,t);const r=n[t];return e.finalized_||!ax(r)?r:r===UF(e.base_,t)?(WF(e),e.copy_[t]=Mq(r,e)):r},has(e,t){return t in J1(e)},ownKeys(e){return Reflect.ownKeys(J1(e))},set(e,t,n){const r=dRe(J1(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=UF(J1(e),t),o=i==null?void 0:i[cc];if(o&&o.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(syt(n,i)&&(n!==void 0||Eq(e.base_,t)))return!0;WF(e),Tq(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return UF(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,WF(e),Tq(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=J1(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Zd(11)},getPrototypeOf(e){return $C(e.base_)},setPrototypeOf(){Zd(12)}},T4={};bD(TJ,(e,t)=>{T4[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});T4.deleteProperty=function(e,t){return T4.set.call(this,e,t,void 0)};T4.set=function(e,t,n){return TJ.set.call(this,e[0],t,n,e[0])};function UF(e,t){const n=e[cc];return(n?J1(n):e)[t]}function fyt(e,t,n){var i;const r=dRe(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function dRe(e,t){if(!(t in e))return;let n=$C(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=$C(n)}}function Tq(e){e.modified_||(e.modified_=!0,e.parent_&&Tq(e.parent_))}function WF(e){e.copy_||(e.copy_=kq(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var hyt=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const o=n;n=t;const s=this;return function(l=o,...u){return s.produce(l,c=>n.call(this,c,...u))}}typeof n!="function"&&Zd(6),r!==void 0&&typeof r!="function"&&Zd(7);let i;if(ax(t)){const o=Ole(this),s=Mq(t,void 0);let a=!0;try{i=n(s),a=!1}finally{a?Pq(o):$q(o)}return Dle(o,r),jle(i,o)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===aRe&&(i=void 0),this.autoFreeze_&&$J(i,!0),r){const o=[],s=[];lx("Patches").generateReplacementPatches_(t,i,o,s),r(o,s)}return i}else Zd(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(s,...a)=>this.produceWithPatches(s,l=>t(l,...a));let r,i;return[this.produce(t,n,(s,a)=>{r=s,i=a}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){ax(e)||Zd(8),sx(e)&&(e=pyt(e));const t=Ole(this),n=Mq(e,void 0);return n[cc].isManual_=!0,$q(t),n}finishDraft(e,t){const n=e&&e[cc];(!n||!n.isManual_)&&Zd(9);const{scope_:r}=n;return Dle(r,t),jle(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=lx("Patches").applyPatches_;return sx(e)?r(e,t):this.produce(e,i=>r(i,t))}};function Mq(e,t){const n=O7(e)?lx("MapSet").proxyMap_(e,t):j7(e)?lx("MapSet").proxySet_(e,t):dyt(e,t);return(t?t.scope_:cRe()).drafts_.push(n),n}function pyt(e){return sx(e)||Zd(10,e),fRe(e)}function fRe(e){if(!ax(e)||N7(e))return e;const t=e[cc];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=kq(e,t.scope_.immer_.useStrictShallowCopy_)}else n=kq(e,!0);return bD(n,(r,i)=>{uRe(n,r,fRe(i))}),t&&(t.finalized_=!1),n}var Jc=new hyt,MJ=Jc.produce;Jc.produceWithPatches.bind(Jc);Jc.setAutoFreeze.bind(Jc);Jc.setUseStrictShallowCopy.bind(Jc);Jc.applyPatches.bind(Jc);Jc.createDraft.bind(Jc);Jc.finishDraft.bind(Jc);function hRe(e){let t=e.points.length,n=!1,r=[];if(t>1){e.iedges=[];let i=e.points[t-1];for(let o=0;o<t;o++){let s=i;if(i=e.points[o],i.length===6){let u=i[2],c=i[3],f=i[4],p=i[5];r.push([o,[i[0]+u,i[1]+c],[i[0]+f,i[1]+p]]),n=!0}let a=[i[0]-s[0],i[1]-s[1]],l=a[0]*a[0]+a[1]*a[1];l>0?e.iedges.push([a[0]/l,a[1]/l]):e.iedges.push([0,0])}}else t===1?e.iedges=[[0,0]]:e.iedges=null;e.isBezier=n,e.bezierLines=r}function myt(e,t){let n=1/0,r=null,i=-1,o=e.points.length;if(o<=1)return[null,n,i];let s=e.points[o-1];for(let a=0;a<o;a++){let l=s;s=e.points[a];let u=l[0]-t[0],c=l[1]-t[1],f=u*u+c*c;f<n&&(r=l,n=f,i=a===0?o-1:a-1)}return[r,n,i]}function SD(e){if(e.points.length>2){let t=Math.min(...e.points.map(o=>o[0])),n=Math.min(...e.points.map(o=>o[1])),r=Math.max(0,...e.points.map(o=>o[0])),i=Math.max(0,...e.points.map(o=>o[1]));e.boundingBox={x:t,y:n,width:r-t,height:i-n};return}e.boundingBox=null}function gyt(e){return e[0]*e[0]+e[1]*e[1]}function Fle(e,t){let n=1/0,r=null,i=-1,o=[],s=e.points.length;if(s<=1)return[null,n,o,i];if(e.iedges===null&&(hRe(e),!e.iedges))return[null,n,o,i];let a=e.points[s-1];for(let l=0;l<s;l++){let u=a;a=e.points[l];let c=(t[0]-u[0])*e.iedges[l][0]+(t[1]-u[1])*e.iedges[l][1],f;c<=0?f=u:c<1?f=[(1-c)*u[0]+c*a[0],(1-c)*u[1]+c*a[1]]:f=a;let p=gyt([f[0]-t[0],f[1]-t[1]]);p<n&&(r=f,n=p,o=[u,a],i=l===0?s-1:l-1)}return[r,n,o,i]}var pRe={type:"move-bounding-box",label:"Move bounding box",isValid(e,t,n){let r=t.polygon.points.length,i=r===t.selectedPoints.length,o=t.polygon.boundingBox;if(r<1||!i||!o)return!1;let s=e[0],a=s[0],l=s[1];return a>=o.x&&a<=o.x+o.width&&l>=o.y&&l<=o.y+o.height},transition(e,t,n){let r=t.transitionOrigin,i=t.polygon.boundingBox,o=e[0],s=o[0]-r[0],a=o[1]-r[1];t.transitionPoints=t.polygon.points.map(l=>l.length===6?[l[0]+s,l[1]+a,l[2],l[3],l[4],l[5]]:[l[0]+s,l[1]+a]),i&&(t.transitionBoundingBox={x:i.x+s,y:i.y+a,width:i.width,height:i.height})},commit(e,t,n){let r=t.transitionPoints;return t.transitionPoints=null,t.transitionBoundingBox=null,{points:r}}},mRe={type:"move-shape",label:"Move shape",isValid(e,t,n){return n.Shift?!1:t.slowState.pointerInsideShape&&(!t.isOpen||t.line===null)},transition(e,t,n){pRe.transition(e,t,n)},commit(e,t,n){let r=t.transitionPoints;return t.transitionPoints=null,t.transitionBoundingBox=null,{points:r}}};function Ble(e,t){return Math.abs(e-t)}function zd(e,t){let n=Ble(e[0],t[0]),r=Ble(e[1],t[1]);return Math.sqrt(Math.pow(n,2)+Math.pow(r,2))}function Lq(e,t){return[e[0]-t[0],e[1]-t[1]]}function vyt(e,t){return e[0]*t[0]+e[1]*t[1]}function gRe(e){return e[0]*e[0]+e[1]*e[1]}function $M(e,t){return gRe(Lq(e,t))}function vRe(e,t){let n,r,i,o;var s=function(v,y,S,C,_){if(C<=S+1)return;let k=S,w=0,P=v*v;n=[y[S],y[C]],r=Lq(n[1],n[0]);let M=gRe(r),R,D,H,O,z;for(let G=S+1;G<C;G++)R=Lq(y[G],n[0]),O=vyt(R,r),O<=0?z=$M(y[G],n[0]):M<=O?z=$M(y[G],n[1]):(H=O/M,D=[n[0][0]+H*r[0],n[0][1]+H*r[1]],z=$M(y[G],D)),!(z<=w)&&(k=G,w=z);w>P&&(_[k]=1,s(v,y,S,k,_),s(v,y,k,C,_))};let a=e.length,l=[],u,c,f,p,g=t*t;for(i=[],o=[],i[0]=e[0],u=c=1,p=0;u<a;u++)$M(e[u],e[p])<g||(i[c++]=e[u],p=u);for(p<a-1&&(i[c++]=e[a-1]),o[0]=o[c-1]=1,s(t,i,0,c-1,o),u=f=0;u<c;u++)o[u]&&(l[f++]=i[u]);return l}var ZA={type:"bounding-box-corners",label:"Drag to resize",modifiers:{Shift:"Maintain aspect ratio",Alt:"Scale from center",Meta:"Rotate"},isValid(e,t,n){if(t.transitionDirection=null,t.transitionRotate=!1,t.isOpen||t.selectedPoints.length!==t.polygon.points.length||!t.polygon.boundingBox)return!1;let r=n.proximity*.5,i=n.proximity*3,o=e[0],s=t.polygon.boundingBox,a=s.x+r,l=s.x+s.width-r*2,u=s.y+r,c=s.y+s.height-r*2;if(o[0]>a&&o[0]<l&&o[1]>u&&o[1]<c)return!1;let f=[s.x+s.width,s.y+s.height],p=[s.x,s.y],g=[s.x+s.width,s.y],v=[s.x,s.y+s.height],y=["ne","nw","se","sw"],S=[zd(e[0],g),zd(e[0],p),zd(e[0],f),zd(e[0],v)],C=Math.min(...S);if(S[0]<i||S[1]<i||S[2]<i||S[3]<i){(C>n.proximity||n.Meta)&&(t.slowState.boxMode||(t.transitionRotate=!0));let _=S.indexOf(Math.min(...S));return t.transitionDirection=_!==-1?y[_]:null,!0}return!1},start(e,t,n){e[0];let r=t.polygon.boundingBox,i=[r.x+r.width,r.y+r.height],o=[r.x,r.y],s=[r.x+r.width,r.y],a=[r.x,r.y+r.height],l=["ne","nw","se","sw"],u=[zd(e[0],s),zd(e[0],o),zd(e[0],i),zd(e[0],a)],c=Math.min(...u),f=u.indexOf(c);t.transitionDirection=f!==-1?l[f]:null,c>n.proximity&&!t.slowState.boxMode&&(t.transitionRotate=!0)},transition(e,t,n){let r=t.polygon.boundingBox,i=[r.x,r.y],o=t.transitionOrigin||e[0],[s,a]=e[0];if((n.Meta||t.transitionRotate)&&!t.slowState.boxMode){i=[r.x+r.width/2,r.y+r.height/2];let v=Math.atan2(o[1]-i[1],o[0]-i[0]),y=Math.atan2(a-i[1],s-i[0]),S=n.Shift,C=Math.PI/(n.Alt?4:12),_=y-v;S&&(_=Math.round(_/C)*C);let k=Math.cos(_),w=Math.sin(_),P=[];for(let M of t.polygon.points){let R=M[0]-i[0],D=M[1]-i[1],H=R*k-D*w,O=R*w+D*k,z=H+i[0],G=O+i[1];if(M.length===6){P.push([z,G,M[2],M[3],M[4],M[5]]);continue}P.push([z,G])}t.transitionPoints=P,SD({points:P,iedges:null,boundingBox:null,isBezier:!1,bezierLines:[]}),t.transitionBoundingBox=t.polygon.boundingBox?{...t.polygon.boundingBox,rotation:_}:null;return}let l=0,u=0;switch(t.transitionDirection){case"se":{i=[r.x,r.y],l=s-o[0],u=a-o[1];break}case"sw":{i=[r.x+r.width,r.y],l=o[0]-s,u=a-o[1];break}case"ne":{i=[r.x,r.y+r.height],l=s-o[0],u=o[1]-a;break}case"nw":{i=[r.x+r.width,r.y+r.height],l=o[0]-s,u=o[1]-a;break}}if(n.Alt&&(i=[r.x+r.width/2,r.y+r.height/2],l*=2,u*=2),n.Shift||t.slowState.fixedAspectRatio){let v=r.width/r.height;Math.abs(r.width/l)>Math.abs(r.height/u)?u=l/v:l=u*v}let c=(r.width+l)/r.width,f=(r.height+u)/r.height,p=[];for(let v of t.polygon.points){let y=v[0]-i[0],S=v[1]-i[1],C=y*c,_=S*f,k=C+i[0],w=_+i[1];if(v.length===6){p.push([k,w,v[2],v[3],v[4],v[5]]);continue}p.push([k,w])}t.transitionPoints=p;let g={points:p,iedges:null,boundingBox:null,bezierLines:[],isBezier:!1};SD(g),t.transitionBoundingBox=g.boundingBox},commit(e,t,n){let r=t.transitionPoints;return t.transitionPoints=null,t.transitionBoundingBox=null,t.transitionRotate=!1,{points:r}}},yyt={type:"move-point",label:"Move point",modifiers:{Shift:"Constrain to axis"},isValid(e,t,n){if(n.Alt)return!1;let r=n.proximity,[i,o]=e[0],s=t.polygon.points;t.selectedPoints;for(let a=0;a<s.length;a++){let l=s[a],u=l[0]-i,c=l[1]-o;if(u*u+c*c<r*r)return!0}return!1},start(e,t,n){if(t.slowState.boxMode)return ZA.start(e,t,n);if(t.selectedPoints.length<2){let[r,i,o]=myt(t.polygon,e[0]);return{selectedPoints:[o]}}if(t.slowState.closestPoint&&!t.selectedPoints.includes(t.slowState.closestPoint))return{selectedPoints:[t.slowState.closestPoint]}},transition(e,t,n){if(t.slowState.boxMode)return ZA.transition(e,t,n);let r=t.transitionOrigin,[i,o]=e[0],s=t.polygon.points,a=t.selectedPoints;if(t.slowState.closestPoint){let f=t.slowState.closestPoint;a.indexOf(f)===-1&&(a=[f])}let l=[],u=i-r[0],c=o-r[1];n.Shift&&(Math.abs(u)>Math.abs(c)?c=0:u=0);for(let f=0;f<s.length;f++){let p=a.indexOf(f)!==-1,g=s[f];p?g.length===6?l.push([g[0]+u,g[1]+c,g[2],g[3],g[4],g[5]]):l.push([g[0]+u,g[1]+c]):l.push(g)}t.transitionPoints=l},commit(e,t,n){if(t.slowState.boxMode)return ZA.commit(e,t,n);let r=t.transitionPoints;return t.transitionPoints=null,t.transitionBoundingBox=null,{points:r}}},zle=10,byt={type:"select-point",label:"Select point",trigger:{type:"click"},modifiers:{Shift:"Add to selection"},isValid(e,t,n){let r=-1;if(t.selectedPoints.length===1){let a=t.selectedPoints[0];a===0&&(r=t.polygon.points.length-1),a===t.polygon.points.length-1&&(r=0)}if(t.slowState.boxMode)return!1;let[i,o]=e[0],s=t.polygon.points;for(let a=0;a<s.length;a++){let l=s[a],u=l[0]-i,c=l[1]-o;if(u*u+c*c<zle*zle)return r!==a}return!1},commit(e,t,n){let r=n.Shift?[...t.selectedPoints]:[],[i,o]=e[0],s=t.polygon.points.map((a,l)=>{let u=a[0]-i,c=a[1]-o;return[u*u+c*c,l]}).sort((a,l)=>a[0]-l[0])[0];if(t.line=null,!r.includes(s[1]))r.push(s[1]);else if(n.Shift)return{selectedPoints:r.filter(a=>a!==s[1])};return{selectedPoints:r}}},yRe={type:"split-line",label:"Split line",isValid(e,t,n){return n.Meta||t.slowState.lineMode||t.slowState.boxMode?!1:!!(t.closestLinePoint&&t.closestLineDistance<n.proximity)},transition(e,t,n){let r=t.transitionOrigin,[i,o]=e[0],s=t.polygon.points,a=[],l=i-r[0],u=o-r[1];for(let c=0;c<s.length;c++)if(a.push(s[c]),t.closestLineIndex===c){let f=t.closestLinePoint;a.push([f[0]+l,f[1]+u])}t.transitionPoints=a},commit(e,t,n){let r=t.transitionPoints;return t.transitionPoints=null,t.transitionBoundingBox=null,{selectedPoints:[t.closestLineIndex+1],points:r}}},wyt={type:"add-open-point",label:"Add point",trigger:{type:"click"},isValid(e,t,n){if(!t.isOpen||t.slowState.boxMode)return!1;if(t.polygon.points.length===0)return!0;if(t.selectedPoints.length!==1||t.polygon.points.length>=2&&t.slowState.lineMode)return!1;let r=t.selectedPoints[0];return r===0||r===t.polygon.points.length-1},commit(e,t,n){let r=t.line?t.line[1]:e[0],i=t.polygon.points;return i.length===0?{selectedPoints:[0],points:[e[0]]}:(n.Shift,t.selectedPoints[0]===0?{selectedPoints:t.slowState.lineMode?[]:[0],points:[r,...i]}:(t.line=null,{selectedPoints:t.slowState.lineMode?[]:[i.length],points:[...i,r]}))}},bRe={type:"close-shape",label:"Close shape",trigger:{type:"click"},isValid(e,t,n){if(!t.isOpen||t.slowState.boxMode||t.selectedPoints.length!==1||t.polygon.points.length<2||n.Meta)return!1;let r=t.selectedPoints[0];if(r===0){let i=t.polygon.points[t.polygon.points.length-1];return zd(e[0],i)<n.proximity}if(r===t.polygon.points.length-1){let i=t.polygon.points[0];return zd(e[0],i)<n.proximity}return!1},commit(e,t,n){let r=t.selectedPoints[0];if(t.line=null,r===0)return{selectedPoints:[],points:t.polygon.points.slice(0).reverse(),isOpen:!1};if(r===t.polygon.points.length-1)return{selectedPoints:[],isOpen:!1}}},xyt={type:"deselect-draw",label:"Deselect draw",trigger:{type:"key",key:"Escape"},isValid(e,t,n){return!0},commit(e,t,n){return{selectedPoints:[]}}},Syt={type:"select-shape",label:"Select shape",trigger:{type:"click"},isValid(e,t,n){return mRe.isValid(e,t,n)},commit(e,t,n){return{selectedPoints:t.polygon.points.map((r,i)=>i)}}},_yt={type:"deselect-bounding-box",label:"Deselect bounding box",trigger:{type:"click"},isValid(e,t,n){return!t.isOpen&&t.selectedPoints.length>2&&t.selectedPoints.length===t.polygon.points.length},commit(e,t,n){return{selectedPoints:[]}}},Cyt={type:"cut-line",label:"Add new point",trigger:{type:"click"},modifiers:{Shift:"Cut line"},isValid(e,t,n){return t.slowState.boxMode?!1:yRe.isValid(e,t,n)},commit(e,t,n){if(n.Shift&&!t.isOpen){let o=t.polygon.points,s=[],a=[],l=!1;for(let u=0;u<o.length;u++)l?a.push(o[u]):s.push(o[u]),t.closestLineIndex===u&&(l=!0);return{isOpen:!0,points:[...a,...s]}}let r=t.polygon.points,i=[];for(let o=0;o<r.length;o++)if(i.push(r[o]),t.closestLineIndex===o){let s=t.closestLinePoint;i.push(s)}return{points:i}}},Eyt={type:"select-multiple-points",label:"Drag to select multiple points",isValid(e,t,n){return t.slowState.lineMode&&t.polygon.points.length>=2?!0:!(t.slowState.boxMode||t.line)},transition(e,t,n){if(!t.transitionOrigin)return;let r=t.transitionOrigin[0],i=t.transitionOrigin[1],o=e[0][0],s=e[0][1],a=Math.min(r,o),l=Math.min(i,s),u=Math.abs(r-o),c=Math.abs(i-s);t.selectionBox={x:a,y:l,width:u,height:c}},commit(e,t,n){if(t.selectionBox){let r=[];n.Shift&&r.push(...t.selectedPoints);for(let i=0;i<t.polygon.points.length;i++){let o=t.polygon.points[i];o[0]>=t.selectionBox.x&&o[0]<=t.selectionBox.x+t.selectionBox.width&&o[1]>=t.selectionBox.y&&o[1]<=t.selectionBox.y+t.selectionBox.height&&r.push(i)}return{selectedPoints:r}}}},kyt={type:"deselect-points",label:"Deselect points",trigger:{type:"click"},isValid(e,t,n){return t.selectedPoints.length>0},commit(e,t,n){return{selectedPoints:[]}}},F7=4,Pyt={type:"nudge-right",label:"Nudge right",trigger:{type:"key",key:"ArrowRight"},modifiers:{Shift:"Nudge right more"},isValid(e,t,n){return t.selectedPoints.length>0},commit(e,t,n){let r=n.proximity*.3,i=t.polygon.points,o=t.selectedPoints;return{points:i.map((s,a)=>o.includes(a)?[s[0]+(n.Shift?F7*r:1),s[1]]:s)}}},$yt={type:"nudge-left",label:"Nudge left",trigger:{type:"key",key:"ArrowLeft"},modifiers:{Shift:"Nudge left more"},isValid(e,t,n){return t.selectedPoints.length>0},commit(e,t,n){let r=n.proximity*.3,i=t.polygon.points,o=t.selectedPoints;return{points:i.map((s,a)=>o.includes(a)?[Math.max(0,s[0]-(n.Shift?F7*r:1)),s[1]]:s)}}},Tyt={type:"nudge-up",label:"Nudge up",trigger:{type:"key",key:"ArrowUp"},modifiers:{Shift:"Nudge up more"},isValid(e,t,n){return t.selectedPoints.length>0},commit(e,t,n){let r=n.proximity*.3,i=t.polygon.points,o=t.selectedPoints;return{points:i.map((s,a)=>{if(o.includes(a)){let l=s[0],u=Math.max(0,s[1]-(n.Shift?F7*r:1));return s.length===6?[l,u,s[2],s[3],s[4],s[5]]:[l,u]}return s})}}},Myt={type:"nudge-down",label:"Nudge down",trigger:{type:"key",key:"ArrowDown"},modifiers:{Shift:"Nudge down more"},isValid(e,t,n){return t.selectedPoints.length>0},commit(e,t,n){let r=n.proximity*.3,i=t.polygon.points,o=t.selectedPoints;return{points:i.map((s,a)=>{let l=s[0],u=Math.max(0,s[1]+(n.Shift?F7*r:1));return o.includes(a)?s.length===6?[l,u,s[2],s[3],s[4],s[5]]:[l,u]:s})}}},Lyt={type:"delete-point",label:"Delete point",trigger:{type:"key",key:"Backspace"},isValid(e,t,n){return t.slowState.boxMode?!1:t.selectedPoints.length>0},commit(e,t,n){let r=t.polygon.points.filter((i,o)=>!t.selectedPoints.includes(o));return{isOpen:r.length<3,selectedPoints:[],points:r}}},Ayt={type:"draw-shape",label:"Draw shape",isValid(e,t,n){let r=n.Alt||t.slowState.drawMode;return!!(t.isOpen&&(t.line||t.polygon.points.length===0)&&r)},start(e,t,n){t.transitionDraw=[]},transition(e,t,n){t.transitionDraw.push(e[0])},commit(e,t,n){let r=vRe(t.transitionDraw,t.scale*3);return t.transitionDraw=[],t.selectedPoints[0]===0?{isOpen:!1,points:[...r,...t.polygon.points.slice(0).reverse()]}:{isOpen:!1,points:[...t.polygon.points,...r]}}},Iyt={type:"stamp-shape",label:"Stamp shape",modifiers:{Shift:"Maintain aspect ratio"},isValid(e,t,n){return t.slowState.selectedStamp!==null},start(e,t,n){let r=e[0];if(r&&t.slowState.selectedStamp){let i=t.slowState.selectedStamp,o=r[0],s=r[1],a=[],l=Math.min(...i.points.map(y=>y[0])),u=Math.min(...i.points.map(y=>y[1])),c=Math.max(...i.points.map(y=>y[0]))-l,f=Math.max(...i.points.map(y=>y[1]))-u,p=c/32;f/32>p&&(p=f/32);let g=[],v=0;for(let y of i.points)g.push(v),a.push([o+(y[0]-l)/p,s+(y[1]-u)/p]),v++;return t.transitionPoints=a,{isOpen:!1,selectedPoints:g,points:a}}},transition(e,t,n){if(!t.transitionOrigin)return;let r=t.polygon.boundingBox,i=[r.x,r.y];t.transitionOrigin||e[0],e[0];let o=t.transitionOrigin[0],s=t.transitionOrigin[1],a=e[0][0],l=e[0][1],u=a-o-32,c=l-s-32;if(n.Shift){let y=r.width/r.height;Math.abs(r.width/u)>Math.abs(r.height/c)?c=u/y:u=c*y}let f=(r.width+u)/r.width,p=(r.height+c)/r.height,g=[];for(let y of t.polygon.points){let S=y[0]-i[0],C=y[1]-i[1],_=S*f,k=C*p,w=_+i[0],P=k+i[1];if(y.length===6){g.push([w,P,y[2],y[3],y[4],y[5]]);continue}g.push([w,P])}t.transitionPoints=g;let v={points:g,iedges:null,boundingBox:null,bezierLines:[],isBezier:!1};SD(v),t.transitionBoundingBox=v.boundingBox},commit(e,t,n){return{isOpen:!1,points:t.transitionPoints}}},Ryt={type:"close-shape-line",label:"Close shape line",trigger:{type:"click"},isValid(e,t,n){return!t.isOpen||t.slowState.boxMode||t.polygon.points.length<3||!t.closestLinePoint||t.closestLineDistance>=n.proximity?!1:(t.closestLineIndex===0||(t.closestLineIndex,t.polygon.points.length-2),!0)},commit(e,t,n){return bRe.commit(e,t,n)}},Dyt={type:"stamp-fixed-size-shape",label:"Stamp fixed size shape",trigger:{type:"click"},isValid(e,t,n){return t.slowState.selectedStamp!==null},commit(e,t,n){let r=e[0],i=t.slowState.selectedStamp;if(!r||!i)return;let o=r[0],s=r[1],a=[],l=Math.min(...i.points.map(v=>v[0])),u=Math.min(...i.points.map(v=>v[1])),c=Math.max(...i.points.map(v=>v[0]))-l,f=Math.max(...i.points.map(v=>v[1]))-u,p=4*n.proximity,g=c/p;f/p>g&&(g=f/p),o-=c/g/2,s-=f/g/2;for(let v of i.points)a.push([o+(v[0]-l)/g,s+(v[1]-u)/g]);return{isOpen:!1,points:a}}},Oyt={type:"move-line",label:"Move line",isValid(e,t,n){return!t.slowState.lineMode||t.slowState.boxMode?!1:!!(t.closestLinePoint&&t.closestLineDistance<n.proximity)},transition(e,t){let n=t.transitionOrigin;t.polygon.boundingBox;let r=e[0],i=r[0]-n[0],o=r[1]-n[1];t.transitionPoints=t.polygon.points.map(s=>s.length===6?[s[0]+i,s[1]+o,s[2],s[3],s[4],s[5]]:[s[0]+i,s[1]+o])},commit(e,t,n){let r=t.transitionPoints;return t.transitionPoints=null,t.transitionBoundingBox=null,{points:r}}},jyt={type:"close-line-box",label:"Close Line Box",trigger:{type:"click"},isValid(e,t,n){return t.slowState.lineBoxMode===!0&&t.polygon.points.length===2&&t.lineBox!==null&&t.slowState.boxMode===!1},commit(e,t,n){return t.lineBox?{isOpen:!1,points:t.lineBox}:{}}},KF={id:"square",open:!1,points:[[0,0],[0,100],[100,100],[100,0]]},Nyt={id:"triangle",open:!1,points:[[50,0],[0,100],[100,100]]},Fyt={id:"pentagon",open:!1,points:[[0,0],[0,100],[100,100],[100,0],[50,-50]]},Byt={id:"hexagon",open:!1,points:[[50,0],[0,25],[0,75],[50,100],[100,75],[100,25]]},zyt={id:"circle",open:!1,points:[[948.949,571.107],[954.545,500],[954.545,500],[948.949,428.893],[948.949,428.893],[932.298,359.538],[932.298,359.538],[905.003,293.641],[905.003,293.641],[867.735,232.825],[867.735,232.825],[821.412,178.588],[821.412,178.588],[767.175,132.265],[767.175,132.265],[706.359,94.997],[706.359,94.997],[640.462,67.702],[640.462,67.702],[571.107,51.051],[571.107,51.051],[500,45.455],[500,45.455],[428.893,51.051],[428.893,51.051],[359.538,67.702],[359.538,67.702],[293.641,94.997],[293.641,94.997],[232.825,132.265],[232.825,132.265],[178.588,178.588],[178.588,178.588],[132.265,232.825],[132.265,232.825],[94.997,293.641],[94.997,293.641],[67.702,359.538],[67.702,359.538],[51.051,428.893],[51.051,428.893],[45.455,500],[45.455,500],[51.051,571.107],[51.051,571.107],[67.702,640.462],[67.702,640.462],[94.997,706.359],[94.997,706.359],[132.265,767.175],[132.265,767.175],[178.588,821.412],[178.588,821.412],[232.825,867.735],[232.825,867.735],[293.641,905.003],[293.641,905.003],[359.538,932.298],[359.538,932.298],[428.893,948.949],[428.893,948.949],[500,954.545],[500,954.545],[571.107,948.949],[571.107,948.949],[640.462,932.298],[640.462,932.298],[706.359,905.003],[706.359,905.003],[767.175,867.735],[767.175,867.735],[821.412,821.412],[821.412,821.412],[867.735,767.175],[867.735,767.175],[905.003,706.359],[905.003,706.359],[932.298,640.462],[932.298,640.462],[948.949,571.107]]};function Hyt(e={}){let t=e.proximityThreshold||10,n=e.closestLinePointFill||{selected:"#fff",unselected:"rgba(255, 255, 255, .5)"},r=e.closestLinePointStroke||{selected:"#000",unselected:"rgba(0, 0, 0, .5)"};function i(v,y,S){v&&y.transitionBoundingBox&&S.transitioning&&(v.setAttribute("x",""+y.transitionBoundingBox.x),v.setAttribute("y",""+y.transitionBoundingBox.y),v.setAttribute("width",""+y.transitionBoundingBox.width),v.setAttribute("height",""+y.transitionBoundingBox.height))}function o(v,y,S){v&&y.polygon.boundingBox&&S.showBoundingBox&&(v.setAttribute("x",""+y.polygon.boundingBox.x),v.setAttribute("y",""+y.polygon.boundingBox.y),v.setAttribute("width",""+y.polygon.boundingBox.width),v.setAttribute("height",""+y.polygon.boundingBox.height))}function s(v,y,S){if(v&&y.polygon.boundingBox&&S.showBoundingBox){let C=y.transitionBoundingBox||y.polygon.boundingBox;C.rotation?(v.style.transformOrigin=`${C.x+C.width/2}px ${C.y+C.height/2}px`,v.style.transform=`rotate(${Math.round(100*C.rotation*(180/Math.PI))/100}deg)`):v.style.transform="",v.setAttribute("points",[[C.x,C.y],[C.x+C.width,C.y],[C.x+C.width,C.y+C.height],[C.x,C.y+C.height]].map(_=>_.join(",")).join(" "))}}function a(v,y,S){v&&y.transitionPoints&&S.transitioning&&v.setAttribute("points",y.transitionPoints.map(C=>C.join(",")).join(" "))}function l(v,y,S){v&&y.closestLinePoint&&S.hasClosestLine&&(v.setAttribute("cx",""+y.closestLinePoint[0]),v.setAttribute("cy",""+y.closestLinePoint[1]),v.setAttribute("fill",y.closestLineDistance<t?n.selected:n.unselected),v.setAttribute("stroke",y.closestLineDistance<t?r.selected:r.unselected))}function u(v,y,S){v&&y.closestLinePoint&&S.hasClosestLine&&v.setAttribute("transform",`translate(${y.closestLinePoint[0]}, ${y.closestLinePoint[1]})`)}function c(v,y,S){v&&y.selectionBox&&S.transitionIntentType==="select-multiple-points"&&(v.setAttribute("x",""+y.selectionBox.x),v.setAttribute("y",""+y.selectionBox.y),v.setAttribute("width",""+y.selectionBox.width),v.setAttribute("height",""+y.selectionBox.height))}function f(v,y,S){if(v&&y.pointer&&y.selectedPoints.length)if(S.actionIntentType==="close-shape"||S.actionIntentType==="close-shape-line"){let C=y.polygon.points[0],_=y.polygon.points[y.polygon.points.length-1];C&&_&&v.setAttribute("points",`${C.join(",")} ${_.join(",")}`)}else if(y.line)v.setAttribute("points",`${y.line[0].join(",")} ${y.line[1].join(",")}`);else{let C=y.polygon.points[y.selectedPoints[0]];C&&C.length&&v.setAttribute("points",`${y.pointer[0]},${y.pointer[1]} ${C.join(",")}`)}}function p(v,y,S,C=3){v&&y.transitionDraw.length&&v.setAttribute("points",vRe(y.transitionDraw,C*3).map(_=>_.join(",")).join(" "))}function g(v,y){v&&y.lineBox&&v.setAttribute("points",y.lineBox.map(S=>S.join(",")).join(" "))}return{updateTransitionBoundingBox:i,updateClosestLinePointTransform:u,updateBoundingBoxPolygon:s,updateBoundingBox:o,updateTransitionShape:a,updateClosestLinePoint:l,updateSelectBox:c,updatePointLine:f,updateDrawPreview:p,updateLineBox:g}}var Vyt=typeof window<"u"?window.requestAnimationFrame:e=>setTimeout(e,16),Uyt=typeof window<"u"?window.cancelAnimationFrame:e=>clearTimeout(e),LJ=[Iyt,ZA,yyt,Oyt,yRe,mRe,pRe,Ayt,Eyt],Wyt=LJ.length,Aq=[jyt,Dyt,bRe,byt,Ryt,Cyt,wyt,Syt,_yt,kyt],YA=[xyt,Pyt,$yt,Tyt,Myt,Lyt],M4={};LJ.forEach(e=>{M4[e.type]=e});Aq.forEach(e=>{M4[e.type]=e});YA.forEach(e=>{M4[e.type]=e});var TM=10;function Kyt(e,t){var Be;let n=(e==null?void 0:e.mode)||"polygon",r=(e==null?void 0:e.fixedAspectRatio)||!1,i={shapeId:(e==null?void 0:e.id)||null,noShape:e===null,transitioning:!1,actionIntentType:null,transitionIntentType:null,selectedPoints:[],hasClosestLine:!1,modifiers:{Alt:!1,Shift:!1,Meta:!1,proximity:TM},showBoundingBox:n==="box"&&((Be=e==null?void 0:e.points)==null?void 0:Be.length)!==0,currentModifiers:{},validIntentKeys:{},pointerInsideShape:!1,closestPoint:null,transitionModifiers:null,selectedStamp:n==="box"?KF:null,lineMode:n==="line",lineBoxMode:n==="linebox",boxMode:n==="box",drawMode:n==="draw",bezierLines:[],fixedAspectRatio:r},o={isOpen:e?e.open:!1,polygon:{points:(e==null?void 0:e.points)||[],iedges:null,boundingBox:null,isBezier:null,bezierLines:[]},scale:1,selectedPoints:[],pointer:null,line:null,lineBox:null,transitionPoints:null,transitionOrigin:null,transitionBoundingBox:null,closestLinePoint:null,closestLineDistance:0,closestLineIndex:-1,transitionRotate:!1,transitionDirection:null,transitionBezierLine:null,selectionBox:null,slowState:i,transitionDraw:[]},s={startTime:0,time:0,shouldUpdate:!1,nextSlowState:null,renderFunc:()=>{},setStateFunc:()=>{},animationFrame:0,actionIntent:null,transitionIntent:null,undoStack:[],undoStackPointer:-1},a={isPressed:!1,isClicking:!1,lastPress:null,pressTimeout:0,noTransition:!1};function l(ge){hRe(ge),ge.isBezier&&u({bezierLines:ge.bezierLines}),SD(ge),s.shouldUpdate=!0}l(o.polygon);function u(ge){let ye=Object.keys(ge);if(ye.length===0)return;let _e=s.nextSlowState||o.slowState,$e=!1;if(ye.length===1&&ye[0]==="validIntentKeys"&&_e.validIntentKeys){let He=Object.keys(_e.validIntentKeys),Ve=Object.keys(ge.validIntentKeys||{});if(He.length===Ve.length){for(let ot of He)_e.validIntentKeys[ot]!==ge.validIntentKeys[ot]&&($e=!0);if(!$e)return}}if(!(ye.length===1&&ye.includes("hasClosestLine")&&ge.hasClosestLine===_e.hasClosestLine)){if(s.nextSlowState){s.nextSlowState={...s.nextSlowState,...ge};return}s.nextSlowState={...o.slowState,...ge}}}function c(ge,ye=!1){s.time+=ge,f(),p(),k(),_(),C(),w(),M(),P(),s.renderFunc(o,o.slowState,ge),!ye&&(s.animationFrame=Vyt(c))}function f(){if(s.shouldUpdate&&(t({id:o.slowState.shapeId||void 0,open:o.isOpen,points:o.polygon.points}),s.shouldUpdate=!1),s.nextSlowState&&s.nextSlowState!==o.slowState){let ge=Object.keys(o.slowState),ye={},_e=!1;for(let $e of ge){let He=o.slowState[$e],Ve=s.nextSlowState[$e];He!==Ve?(_e=!0,ye[$e]=Ve):ye[$e]=He}_e&&(o.slowState=ye,s.nextSlowState=null,s.setStateFunc(o.slowState))}}function p(){o.slowState.showBoundingBox?(o.slowState.noShape||o.selectedPoints.length===0||o.selectedPoints.length!==o.polygon.points.length)&&u({showBoundingBox:!1}):!o.slowState.noShape&&o.polygon.points.length&&o.selectedPoints.length===o.polygon.points.length&&u({showBoundingBox:!0})}function g(ge){o.selectedPoints=ge.selectedPoints,u({selectedPoints:ge.selectedPoints}),o.polygon.points=ge.points,o.polygon.boundingBox=null,o.polygon.iedges=null,o.polygon.isBezier=null,l(o.polygon),u({closestPoint:null}),(ge.isOpen===!0||ge.isOpen===!1)&&(o.isOpen=ge.isOpen,s.shouldUpdate=!0)}function v(){if(s.undoStackPointer===-1)return;s.undoStackPointer--;let ge=s.undoStack[s.undoStackPointer];g(ge)}function y(){if(s.undoStackPointer===s.undoStack.length-1)return;s.undoStackPointer++;let ge=s.undoStack[s.undoStackPointer];g(ge)}function S(ge){s.undoStackPointer++,s.undoStack[s.undoStackPointer]=ge,s.undoStack.length>15&&(s.undoStack.shift(),s.undoStackPointer--)}function C(){if(!o.pointer||o.slowState.noShape){u({pointerInsideShape:!1});return}let[ge,ye]=o.pointer,_e=o.polygon.points,$e=o.polygon.boundingBox;if(!$e){u({pointerInsideShape:!1});return}if(ge<$e.x||ge>$e.x+$e.width||ye<$e.y||ye>$e.height+$e.y){u({pointerInsideShape:!1});return}let He=!1;for(let Ve=0,ot=_e.length-1;Ve<_e.length;ot=Ve++)_e[Ve][1]>ye!=_e[ot][1]>ye&&ge<(_e[ot][0]-_e[Ve][0])*(ye-_e[Ve][1])/(_e[ot][1]-_e[Ve][1])+_e[Ve][0]&&(He=!He);u({pointerInsideShape:He})}function _(){if(o.slowState.noShape||!o.pointer||o.slowState.transitioning||!o.polygon.points||o.polygon.points.length===0)return;let[ge,ye]=o.pointer,_e=o.polygon.points.map(($e,He)=>{let Ve=$e[0]-ge,ot=$e[1]-ye;return[Ve*Ve+ot*ot,He]}).sort(($e,He)=>$e[0]-He[0]);_e.length&&u({closestPoint:_e[0][1]})}function k(){if(!o.pointer||o.slowState.transitioning)return;if(o.slowState.noShape){o.closestLineIndex=-1,o.closestLinePoint=null,o.closestLineDistance=0;return}let[ge,ye,_e,$e]=Fle(o.polygon,o.pointer),He=B()*B();ye<He&&(!o.isOpen||o.slowState.lineMode||o.polygon.points.length-1!==$e)?(o.closestLinePoint=ge,o.closestLineDistance=Math.sqrt(ye),o.closestLineIndex=$e,u({hasClosestLine:!0})):(o.closestLinePoint=null,o.closestLineDistance=0,o.closestLineIndex=-1,u({hasClosestLine:!1}))}function w(){if(!o.pointer||o.slowState.transitioning||o.slowState.noShape)return;let ge=!1;for(let $e=0;$e<Wyt;$e++){let He=LJ[$e];if(He.isValid(a.isPressed?[a.lastPress]:[o.pointer],o,R())){if(s.transitionIntent===He){ge=!0;break}u({transitionIntentType:He.type}),s.transitionIntent=He,ge=!0;break}}ge||s.transitionIntent&&(s.transitionIntent=null,u({transitionIntentType:null}));let ye=!1;for(let $e=0;$e<Aq.length;$e++){let He=Aq[$e];if(H(He)){if(s.actionIntent===He){ye=!0;break}u({actionIntentType:He.type}),s.actionIntent=He,ye=!0;break}}ye||s.actionIntent&&(s.actionIntent=null,u({actionIntentType:null}));let _e={};for(let $e=0;$e<YA.length;$e++){let He=YA[$e];He.trigger.type==="key"&&H(He)&&(_e[He.trigger.key]=He.label)}u({validIntentKeys:_e})}function P(){let ge=o.pointer;if(o.lineBox=null,!ge||z()||o.polygon.points.length!==2)return;let[ye,_e]=ge,[$e,He]=o.polygon.points[0],[Ve,ot]=o.polygon.points[1],[kt,gt,rn,Yt]=Fle(o.polygon,ge);if(!kt)return;let Bt=ye-kt[0],dn=_e-kt[1],Ft=[$e,He],Xt=[Ve,ot],Qe=[Xt[0]+Bt,Xt[1]+dn],Ce=[Ft[0]+Bt,Ft[1]+dn];o.lineBox=[Ft,Xt,Qe,Ce]}function M(){let ge=o.pointer;if(!ge||!z()||o.slowState.noShape)return;let ye=o.selectedPoints[0];if(o.line=[o.polygon.points[ye],ge],o.slowState.modifiers.Shift){let _e=0;if(o.polygon.points.length>1){let Bt=o.selectedPoints[0];Bt===0?_e=Math.atan2(o.polygon.points[1][1]-o.polygon.points[0][1],o.polygon.points[1][0]-o.polygon.points[0][0]):_e=Math.atan2(o.polygon.points[Bt-1][1]-o.polygon.points[Bt][1],o.polygon.points[Bt-1][0]-o.polygon.points[Bt][0])}let $e=ge[0]-o.polygon.points[ye][0],He=ge[1]-o.polygon.points[ye][1],Ve=Math.atan2(He,$e),ot=Math.PI/4,kt=Math.round((Ve-_e)/ot)*ot+_e,gt=zd(o.polygon.points[ye],ge),rn=Math.cos(kt)*gt+o.polygon.points[ye][0],Yt=Math.sin(kt)*gt+o.polygon.points[ye][1];o.line[1]=[rn,Yt]}}function R(){return o.slowState.modifiers}function D(ge){let ye=ge.commit([a.lastPress],o,R());ye&&(ye.selectedPoints&&(o.selectedPoints=ye.selectedPoints,u({selectedPoints:ye.selectedPoints})),ye.points&&(o.polygon.points=ye.points,o.polygon.boundingBox=null,o.polygon.iedges=null,o.polygon.isBezier=null,o.transitionBoundingBox=null,l(o.polygon),u({closestPoint:null,selectedStamp:null})),(ye.isOpen===!0||ye.isOpen===!1)&&(o.isOpen=ye.isOpen,s.shouldUpdate=!0),S({isOpen:o.isOpen,points:o.polygon.points,selectedPoints:o.selectedPoints})),u({transitionModifiers:null})}function H(ge){return ge.isValid(o.pointer?[o.pointer]:[],o,R())}function O(ge){ge==="Delete"&&(ge="Backspace");for(let ye of YA)if(!(ye.trigger.type!=="key"||ye.trigger.key!==ge)&&H(ye))return D(ye),!0}function z(){let ge=o.polygon.points,ye=o.pointer;if(!o.isOpen||!ge.length||o.selectedPoints.length!==1||!ye)return!1;let _e=o.selectedPoints[0],$e=_e===0,He=_e===ge.length-1;return $e||He}let G={reset(){u({modifiers:{Alt:!1,Shift:!1,Meta:!1,proximity:TM}})},getForType(ge){let ye={};if(!ge)return ye;let _e=M4[ge];return!_e||!_e.modifiers?ye:_e.modifiers},set(ge){var ye;ge!=="Shift"&&ge!=="Alt"&&ge!=="Meta"||u({modifiers:{...((ye=s.nextSlowState)==null?void 0:ye.modifiers)||o.slowState.modifiers,[ge]:!0}})},unset(ge){var ye;ge!=="Shift"&&ge!=="Alt"&&ge!=="Meta"||u({modifiers:{...((ye=s.nextSlowState)==null?void 0:ye.modifiers)||o.slowState.modifiers,[ge]:!1}})}},ee={set(ge){o.slowState.boxMode&&ge&&ge.id!=="square"&&ge.id!=="rectangle"||u({selectedStamp:ge})},clear(){ee.set(null)},square(){ee.set(KF)},triangle(){ee.set(Nyt)},pentagon(){ee.set(Fyt)},hexagon(){ee.set(Byt)},circle(){ee.set(zyt)}},X={down(ge){return ge=="Shift"||ge=="Alt"||ge=="Meta"?(G.set(ge),!0):ge==="Control"?(G.set("Meta"),!0):ge==="z"&&o.slowState.modifiers.Meta?(o.slowState.modifiers.Shift?y():v(),!0):O(ge)},up(ge){if(ge==="Control"){G.unset("Meta");return}ge!=="Shift"&&ge!=="Alt"&&ge!=="Meta"||G.unset(ge)}};function se(ge){var ye;o.scale=ge,u({modifiers:{...((ye=s.nextSlowState)==null?void 0:ye.modifiers)||o.slowState.modifiers,proximity:ge*TM}})}function B(){return TM*o.scale}let q={set:ge=>{s.renderFunc=ge},start:(ge,ye)=>{s.startTime=performance.now(),s.time=0,ge&&(s.renderFunc=ge),ye&&(ye(o.slowState),s.setStateFunc=ye),c(0)},stop:()=>{s.animationFrame&&(Uyt(s.animationFrame),s.animationFrame=0)},step:(ge=16)=>{c(ge)}};function U(ge){let ye=ge[0];if(!(!ye||!ye[0]&&ye[0]!==0||!ye[1]&&ye[1]!==0)&&!(Number.isNaN(ye[0])||Number.isNaN(ye[1]))){if(o.pointer=ye||null,o.slowState.transitioning)s.transitionIntent&&s.transitionIntent.transition(ge,o,R());else if(a.isPressed&&!a.noTransition&&(!a.isClicking||zd(a.lastPress,o.pointer)>10))if(clearTimeout(a.pressTimeout),a.isClicking=!1,s.transitionIntent){if(o.transitionOrigin=a.lastPress,u({transitioning:!0}),s.transitionIntent.start){let _e=s.transitionIntent.start([a.lastPress],o,R());_e&&(_e.selectedPoints&&(o.selectedPoints=_e.selectedPoints,u({selectedPoints:_e.selectedPoints})),(_e.isOpen===!0||_e.isOpen===!1)&&(o.isOpen=_e.isOpen,s.shouldUpdate=!0),_e.points&&(o.polygon.points=_e.points,o.polygon.boundingBox=null,o.polygon.iedges=null,l(o.polygon),u({closestPoint:null})))}u({transitionModifiers:s.transitionIntent.modifiers||null}),s.transitionIntent.transition([a.lastPress],o,R())}else a.noTransition=!0}}function K(){o.pointer=null,o.slowState.transitioning||(a.isPressed=!1,a.isClicking=!1,a.lastPress=null,u({transitionIntentType:null,actionIntentType:null}),s.transitionIntent=null,s.actionIntent=null)}function J(){a.isClicking=!0,a.isPressed=!0,a.lastPress=o.pointer,a.pressTimeout=setTimeout(()=>{a.isPressed&&(a.isClicking=!1)},250)}function oe(){o.slowState.transitioning?(u({transitioning:!1}),s.transitionIntent&&D(s.transitionIntent),s.transitionIntent=null,u({transitionIntentType:null})):a.isClicking&&(s.actionIntent&&D(s.actionIntent),s.actionIntent=null,u({actionIntentType:null})),a.isPressed=!1,a.isClicking=!1,a.lastPress=null,a.noTransition=!1,clearTimeout(a.pressTimeout)}function he(ge){o.polygon.points=(ge==null?void 0:ge.points)||[],o.polygon.boundingBox=null,o.polygon.iedges=null,o.isOpen=(ge==null?void 0:ge.open)||!1,l(o.polygon),s.nextSlowState=null,s.undoStack=[],s.undoStackPointer=-1,o.lineBox=null,o.line=null,a.pressTimeout&&clearTimeout(a.pressTimeout),u({noShape:ge===null,shapeId:(ge==null?void 0:ge.id)||null,transitioning:!1,actionIntentType:null,transitionIntentType:null,selectedPoints:[],hasClosestLine:!1,modifiers:{Alt:!1,Shift:!1,Meta:!1,proximity:o.slowState.modifiers.proximity},showBoundingBox:!1,currentModifiers:{},validIntentKeys:{},selectedStamp:n==="box"?KF:null,closestPoint:null,pointerInsideShape:!1,lineMode:n==="line",lineBoxMode:n==="linebox",boxMode:n==="box",drawMode:n==="draw",fixedAspectRatio:r}),f()}function me(ge){if(!ge)return"";let ye=M4[ge];return!ye||!ye.modifiers?ye.label||"":o.slowState.modifiers.Shift&&ye.modifiers.Shift?ye.modifiers.Shift:o.slowState.modifiers.Alt&&ye.modifiers.Alt?ye.modifiers.Alt:o.slowState.modifiers.Meta&&ye.modifiers.Meta?ye.modifiers.Meta:ye.label}function re(){o.slowState.lineMode?u({lineMode:!1,lineBoxMode:!1,drawMode:!1}):u({lineMode:!0,lineBoxMode:!1,drawMode:!1})}function ue(){o.slowState.lineBoxMode?u({lineMode:!1,lineBoxMode:!1,drawMode:!1}):u({lineBoxMode:!0,lineMode:!0,drawMode:!1})}function ce(){o.slowState.boxMode?(u({boxMode:!1,lineBoxMode:!1,lineMode:!1}),ee.clear()):(u({boxMode:!0,lineBoxMode:!1,lineMode:!1}),ee.square())}function we(){u({fixedAspectRatio:!0})}function Me(){u({fixedAspectRatio:!1})}return{draw:{enable(){u({drawMode:!0,lineMode:!1,lineBoxMode:!1})},disable(){u({drawMode:!1})},toggle(){u({drawMode:!o.slowState.drawMode,lineMode:!1,lineBoxMode:!1})}},state:o,modifiers:G,stamps:ee,history:{undo:v,redo:y,get canUndo(){return s.undoStackPointer>-1},get canRedo(){return s.undoStackPointer<s.undoStack.length-1}},key:X,setScale:se,clock:q,pointer:U,blur:K,pointerDown:J,pointerUp:oe,setShape:he,modes:{toggleLineBoxMode:ue,toggleLineMode:re,enableLineMode(){u({lineMode:!0,lineBoxMode:!1,drawMode:!1})},disableLineMode(){u({lineMode:!1,lineBoxMode:!1,drawMode:!1})},enableLineBoxMode(){u({lineMode:!0,lineBoxMode:!0,drawMode:!1})},disableLineBoxMode(){u({lineMode:!1,lineBoxMode:!1,drawMode:!1})},enableBoxMode(){u({boxMode:!0,lineBoxMode:!1,lineMode:!1}),ee.square()},disableBoxMode(){u({boxMode:!1,lineBoxMode:!1,lineMode:!1}),ee.clear()},toggleBoxMode:ce,lockAspectRatio:we,unlockAspectRatio:Me},label:me}}var qyt=Object.defineProperty,Gyt=(e,t,n)=>t in e?qyt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Dt=(e,t,n)=>(Gyt(e,typeof t!="symbol"?t+"":t,n),n),c1=class{constructor(t){Dt(this,"config"),t.validators||(t.validators=[]),this.config=t}entity(){const t=this.ref();return this.config.vault.get(t,{skipSelfReturn:!1})}ref(){return this.config.reference}getId(){return this.ref().id}getType(){return this.ref().type}focusId(){return`${this.getId()}_${this.getType()}`}_observe(t,n,r=!0){return this.config.vault.subscribe(()=>t(this.entity(),this.config.context,this.config.vault),i=>{n(i,this.entity(),this.config.context)},r)}},Zyt={Collection:["label"],Manifest:["label"],Canvas:[],Annotation:[],AnnotationPage:[],Range:[],AnnotationCollection:[],ContentResource:[],Agent:["label"]},Yyt={Collection:["metadata","summary","provider","thumbnail"],Manifest:["metadata","summary","provider","thumbnail"],Canvas:["label"],Annotation:[],AnnotationPage:[],Range:["label"],AnnotationCollection:["label"],ContentResource:["label"],Agent:[]},Xyt={Collection:["requiredStatement","rights","navDate","placeholderCanvas","accompanyingCanvas"],Manifest:["requiredStatement","rights","navDate","placeholderCanvas","accompanyingCanvas"],Canvas:["metadata","summary","requiredStatement","rights","navDate","provider","thumbnail","placeholderCanvas","accompanyingCanvas"],Annotation:["label","metadata","summary","requiredStatement","rights","provider","thumbnail"],AnnotationPage:["label","metadata","summary","requiredStatement","rights","provider","thumbnail"],Range:["metadata","summary","requiredStatement","rights","navDate","provider","thumbnail","placeholderCanvas","accompanyingCanvas"],AnnotationCollection:["metadata","summary","requiredStatement","rights","provider","thumbnail"],ContentResource:["label","metadata","summary","requiredStatement","rights","provider","thumbnail"],Agent:[]},Qyt={Collection:["language"],Manifest:["language"],Canvas:["language"],Annotation:["navDate","language","placeholderCanvas","accompanyingCanvas"],AnnotationPage:["navDate","language","placeholderCanvas","accompanyingCanvas"],Range:["language"],AnnotationCollection:["navDate","placeholderCanvas","accompanyingCanvas"],ContentResource:["navDate","placeholderCanvas","accompanyingCanvas"],Agent:["provider","language","metadata","summary","thumbnail","requiredStatement","rights","navDate","placeholderCanvas","accompanyingCanvas"]},Jyt=["label","summary","metadata","requiredStatement","rights","navDate","language","thumbnail","provider","placeholderCanvas","accompanyingCanvas"],a0={all:Jyt,required:Zyt,recommended:Yyt,optional:Xyt,notAllowed:Qyt},Yi=class extends c1{constructor(e,t){super(e),Dt(this,"property"),this.property=t}getProperty(){return this.property}observe(e,t=!0){this._observe(n=>n&&n[this.property],e,t)}focusId(){return`${super.focusId()}_${this.property}`}containerId(){return`container_${super.focusId()}_${this.property}`}getContainerProps(){return{"data-property":this.property,"data-resource-id":this.getId(),"data-resource-type":this.getType()}}isRequired(){const e=this.getType();return(a0.required[e]||[]).indexOf(this.property)!==-1}isRecommended(){const e=this.getType();return(a0.recommended[e]||[]).indexOf(this.property)!==-1}isNotAllowed(){const e=this.getType();return(a0.notAllowed[e]||[]).indexOf(this.property)!==-1}isOptional(e=!1){const t=this.getType(),n=a0.optional[t]||[];return!n&&e?this.isRecommended():n.indexOf(this.property)!==-1}validate(){const e=this.config.validators,t=this.entity(),n=t==null?void 0:t.type,r={isError:!1,isWarning:!1,warnings:[],errors:[]};if(t&&n&&e.length&&n){for(const i of e)if(i.types.includes(n)&&i.properties.includes(this.property))try{i.valid(t,this.config.vault,this.config.context)||(i.error?(r.isError=!0,r.errors.push(i.message)):i.warning&&(r.isWarning=!0,r.warnings.push(i.message)))}catch(o){r.isWarning=!0,r.warnings.push(`Validation error: ${o||"unknown"}`)}}return r}getWithoutTracking(){const e=this.entity();return e&&e[this.property]}get(){return this.config.tracker.track(this.property),this.getWithoutTracking()}set(e){this.config.vault.modifyEntityField(this.config.reference,this.property,e)}};function wRe(){return`${Math.random().toString(36).substr(2)}-${Date.now().toString(36)}`}var e0t=class extends Yi{constructor(e){super(e,"metadata"),Dt(this,"cachedList"),Dt(this,"cachedSortableList",[]),Dt(this,"idCache",new Map)}_getId(e){if(this.idCache.has(e))return this.idCache.get(e);const t=wRe();return this.idCache.set(e,t),t}getSortable(){const e=this.get();return this.cachedList!==e&&(this.cachedSortableList=(e||[]).map(t=>t.id?t:{id:this._getId(t),...t})),this.cachedSortableList}add(e,t,n){const r=this.ref();this.config.vault.dispatch(ks.addMetadata({id:r.id,label:e,value:t,type:r.type,beforeIndex:n}))}update(e,t,n){const r=this.ref();this.config.vault.dispatch(ks.updateMetadata({id:r.id,label:t,value:n,type:r.type,atIndex:e}))}deleteAtIndex(e){const t=this.ref();this.config.vault.dispatch(ks.removeMetadata({id:t.id,type:t.type,atIndex:e}))}moveToStart(e){this.reorder(e,0)}moveToEnd(e){const t=this.getWithoutTracking().length;this.reorder(e,t)}reorder(e,t){const n=this.ref();this.config.vault.dispatch(ks.reorderMetadata({id:n.id,type:n.type,startIndex:e,endIndex:t}))}},t0t=class extends Yi{constructor(e){super(e,"requiredStatement")}updateLabel(e){const t=this.getWithoutTracking(),n={value:{none:[""]},...t||{},label:typeof e=="string"?{none:[e]}:e};this.set(n)}update(e){const t=this.getWithoutTracking(),n={label:{none:[""]},...t||{},value:typeof e=="string"?{none:[e]}:e};this.set(n)}},xRe="http://creativecommons.org/publicdomain/zero/1.0/",SRe="http://creativecommons.org/licenses/by/4.0/",_Re="http://creativecommons.org/licenses/by-sa/4.0/",CRe="http://creativecommons.org/licenses/by-nd/4.0/",ERe="http://creativecommons.org/licenses/by-nc/4.0/",kRe="http://creativecommons.org/licenses/by-nc-sa/4.0/",PRe="http://creativecommons.org/licenses/by-nc-nd/4.0/",n0t=[xRe,SRe,_Re,CRe,ERe,kRe,PRe],Hle=[{label:"Public Domain",shortLabel:"CC0",description:"The person who associated a work with this deed has dedicated the work to the public domain by waiving all of his or her rights to the work worldwide under copyright law, including all related and neighboring rights, to the extent allowed by law.",icon:"https://licensebuttons.net/p/zero/1.0/88x31.png",value:xRe,url:"https://creativecommons.org/publicdomain/zero/1.0/",legal:"https://creativecommons.org/publicdomain/zero/1.0/legalcode"},{label:"Attribution",shortLabel:"CC BY",description:"This license lets others distribute, remix, adapt, and build upon your work, even commercially, as long as they credit you for the original creation. This is the most accommodating of licenses offered. Recommended for maximum dissemination and use of licensed materials.",icon:"https://licensebuttons.net/l/by/3.0/88x31.png",value:SRe,url:"https://creativecommons.org/licenses/by/4.0/",legal:"http://creativecommons.org/licenses/by/4.0/legalcode"},{label:"Attribution-ShareAlike",shortLabel:"CC BY-SA",description:"This license lets others remix, adapt, and build upon your work even for commercial purposes, as long as they credit you and license their new creations under the identical terms. This license is often compared to copyleft free and open source software licenses. All new works based on yours will carry the same license, so any derivatives will also allow commercial use. This is the license used by Wikipedia, and is recommended for materials that would benefit from incorporating content from Wikipedia and similarly licensed projects.",icon:"https://licensebuttons.net/l/by-sa/3.0/88x31.png",value:_Re,url:"https://creativecommons.org/licenses/by-sa/4.0/",legal:"http://creativecommons.org/licenses/by-sa/4.0/legalcode"},{label:"Attribution-NoDerivs",shortLabel:"CC BY-ND",description:"This license lets others reuse the work for any purpose, including commercially; however, it cannot be shared with others in adapted form, and credit must be provided to you.",icon:"https://licensebuttons.net/l/by-nd/3.0/88x31.png",value:CRe,url:"https://creativecommons.org/licenses/by-nd/4.0/",legal:"http://creativecommons.org/licenses/by-nd/4.0/legalcode"},{label:"Attribution-NonCommercial",shortLabel:"CC BY-NC",description:"This license lets others remix, adapt, and build upon your work non-commercially, and although their new works must also acknowledge you and be non-commercial, they dont have to license their derivative works on the same terms.",icon:"https://licensebuttons.net/l/by-nc/3.0/88x31.png",value:ERe,url:"https://creativecommons.org/licenses/by-nc/4.0/",legal:"http://creativecommons.org/licenses/by-nc/4.0/legalcode"},{label:"Attribution-NonCommercial-ShareAlike",shortLabel:"CC BY-NC-SA",description:"This license lets others remix, adapt, and build upon your work non-commercially, as long as they credit you and license their new creations under the identical terms.",icon:"https://licensebuttons.net/l/by-nc-sa/3.0/88x31.png",value:kRe,url:"https://creativecommons.org/licenses/by-nc-sa/4.0/",legal:"http://creativecommons.org/licenses/by-nc-sa/4.0/legalcode"},{label:"Attribution-NonCommercial-NoDerivs",shortLabel:"CC BY-NC-ND",description:"This license is the most restrictive of our six main licenses, only allowing others to download your works and share them with others as long as they credit you, but they cant change them in any way or use them commercially.",icon:"https://licensebuttons.net/l/by-nc-nd/3.0/88x31.png",value:PRe,url:"https://creativecommons.org/licenses/by-nc-nd/4.0/",legal:"http://creativecommons.org/licenses/by-nc-nd/4.0/legalcode"}],r0t=class extends Yi{constructor(e){super(e,"rights")}getClean(){let e=this.get();return e&&(e.replace(/https/,"http"),e.endsWith("/")||(e+="/")),e}getDefinition(){const e=this.getClean();return Hle.find(t=>t.value===e)||null}getIcon(){const e=this.getDefinition();if(e)return e.icon}getOptions(){return Hle}},i0t=class extends Yi{constructor(e){super(e,"navDate")}setDate(e){if(!e){this.set(null);return}this.set(e.toISOString())}getDate(){const e=this.get();return e?new Date(e):null}modifyAsDate(e){const t=this.getWithoutTracking(),n=t?new Date(t):new Date;e(n),this.setDate(n)}},Vle=class extends Yi{constructor(e,t){super(e,t)}},Wu=class extends Yi{constructor(e,t){super(e,t),Dt(this,"cachedList"),Dt(this,"cachedSortableList"),Dt(this,"idCache",new Map)}focusId(){return`${super.focusId()}_${this.property}_list`}_getId(e){if(this.idCache.has(e))return this.idCache.get(e);const t=wRe();return this.idCache.set(e,t),t}getSortable(){const e=this.get();return this.cachedList!==e&&(this.cachedSortableList=(e||[]).map(t=>t.id?t:{id:this._getId(t),...t})),this.cachedSortableList}get(){this.config.tracker.track(this.property);const e=this.entity();return e&&e[this.property]}set(){throw new Error("Cannot set directly")}moveToStart(e){this.config.vault.dispatch(ks.reorderEntityField({id:this.getId(),type:this.getType(),startIndex:e,endIndex:0,key:this.property}))}moveToEnd(e){const t=this.getWithoutTracking();this.config.vault.dispatch(ks.reorderEntityField({id:this.getId(),type:this.getType(),startIndex:e,endIndex:t.length,key:this.property}))}deleteAtIndex(e){const n=this.getWithoutTracking()[e];n&&this.config.vault.dispatch(ks.removeReference({id:this.getId(),type:this.getType(),key:this.property,reference:n,index:e}))}addAfter(e,t){this.config.vault.dispatch(ks.addReference({id:this.getId(),type:this.getType(),key:this.property,reference:t,index:e}))}addBefore(e,t){this.config.vault.dispatch(ks.addReference({id:this.getId(),type:this.getType(),key:this.property,reference:t,index:e-1}))}add(e){this.config.vault.dispatch(ks.addReference({id:this.getId(),type:this.getType(),key:this.property,reference:e}))}reorder(e,t){this.config.vault.dispatch(ks.reorderEntityField({id:this.getId(),type:this.getType(),startIndex:e,endIndex:t,key:this.property}))}moveUpBy(e,t){this.config.vault.dispatch(ks.reorderEntityField({id:this.getId(),type:this.getType(),startIndex:e,endIndex:Math.max(0,e-t),key:this.property}))}moveDownBy(e,t){const n=this.getWithoutTracking();this.config.vault.dispatch(ks.reorderEntityField({id:this.getId(),type:this.getType(),startIndex:e,endIndex:Math.min(n.length+1,e+t),key:this.property}))}duplicate(e){throw new Error("Not implemented")}updateReference(e,t){this.config.vault.dispatch(ks.updateReference({id:this.getId(),type:this.getType(),reference:t,index:e,key:this.property}))}batchInsertAtIndex(e,t){let n=t;for(;n!==-1&&e.indexOf(n)!==-1;)n--;const r=this.getWithoutTracking();throw n===-1||r[n],new Error("Not yet implemented")}},o0t=class extends c1{constructor(e){super(e),Dt(this,"label"),Dt(this,"summary"),Dt(this,"metadata"),Dt(this,"requiredStatement"),Dt(this,"rights"),Dt(this,"navDate"),Dt(this,"language"),Dt(this,"thumbnail"),Dt(this,"provider"),Dt(this,"placeholderCanvas"),Dt(this,"accompanyingCanvas"),Dt(this,"value"),this.label=new Vle(e,"label"),this.metadata=new e0t(e),this.summary=new Vle(e,"summary"),this.requiredStatement=new t0t(e),this.rights=new r0t(e),this.navDate=new i0t(e),this.language=new Yi(e,"language"),this.thumbnail=new Wu(e,"thumbnail"),this.provider=new Yi(e,"provider"),this.placeholderCanvas=new Yi(e,"placeholderCanvas"),this.accompanyingCanvas=new Yi(e,"accompanyingCanvas"),this.value=new Yi(e,"value")}},s0t=class{constructor(e,t){Dt(this,"observed"),Dt(this,"vault"),Dt(this,"entity"),Dt(this,"key",""),this.vault=e,this.observed=[],this.entity=t}subscribe(e){return this.vault.subscribe(()=>this.vault.get(this.entity),e,!0)}start(e){let t=this.vault.get(this.entity),n=[];return this.vault.subscribe(()=>{const r=this.vault.get(this.entity);if(r===t)return n;t=r;const i=[];for(const o of this.observed){i.push(o);const s=r[o];Array.isArray(s)?i.push(...s):i.push(s)}return n=i,i},e,!0)}track(e){this.observed.includes(e)||this.observed.push(e)}reset(){this.observed=[]}},Ule="Invariant failed";function XA(e,t){if(!e){var n=typeof t=="function"?t():t,r=n?"".concat(Ule,": ").concat(n):Ule;throw new Error(r)}}var a0t={key:"",observed:[],reset(){},start(){return()=>{}},subscribe(){return()=>{}},track(){}},l0t=class{constructor(e){Dt(this,"index"),Dt(this,"editor"),Dt(this,"config"),XA(e.context.parent,"Parent is required"),XA(typeof e.context.index<"u","Parent index is required"),XA(e.context.parentProperty,"Parent is required"),this.editor=new Wu({...e,reference:e.context.parent,tracker:a0t,context:{resource:{type:"SpecificResource",source:e.context.parent}}},e.context.parentProperty),this.config=e,this.index=e.context.index}getSelector(){const e=this.config.context.resource;return e.selector?e.selector:null}updateReference(e){this.editor.updateReference(this.index,e)}moveToStart(){this.editor.moveToStart(this.index),this.index=0}moveToEnd(){this.editor.moveToEnd(this.index),this.index=this.editor.getWithoutTracking().length-1}moveUpBy(e){this.editor.moveUpBy(this.index,e),this.index=Math.max(0,this.index-e)}moveDownBy(e){this.editor.moveDownBy(this.index,e),this.index=Math.min(this.editor.getWithoutTracking().length+1,this.index+e)}removeFromParent(){this.editor.deleteAtIndex(this.index)}addAfter(e){this.editor.addAfter(this.index,e)}addBefore(e){this.editor.addBefore(this.index,e),this.index++}},u0t=class extends Yi{set(){throw new Error("Read only")}},c0t=["auto-advance","no-auto-advance"],d0t=["repeat","no-repeat"],AJ=["unordered","individuals","continuous","paged"],f0t=["facing-pages","paged","non-paged"],h0t=["multi-part","together"],p0t=["sequence","thumbnail-nav","no-nav"],m0t=["hidden"],g0t=AJ,v0t=AJ;function dv(e){return{label:{none:[e]},value:e}}var MM={id:"@iiif/auto-advance",label:{en:["Auto-advance"]},type:"choice",addNone:!0,items:c0t.map(dv)},Wle={id:"@iiif/repeat",label:{en:["Repeat"]},type:"choice",addNone:!0,items:d0t.map(dv)},y0t={id:"@iiif/manifest-ordering",label:{en:["Manifest ordering"]},type:"choice",addNone:!0,items:AJ.map(dv)},b0t={id:"@iiif/canvas-ordering",label:{en:["Canvas ordering"]},type:"choice",addNone:!0,items:f0t.map(dv)},w0t={id:"@iiif/range",label:{en:["Collection"]},type:"choice",addNone:!0,items:h0t.map(dv)},x0t={id:"@iiif/range",label:{en:["Range"]},type:"choice",addNone:!0,items:p0t.map(dv)},S0t={id:"@iiif/collection-ordering",label:{en:["Collection ordering"]},type:"choice",addNone:!0,items:g0t.map(dv)},_0t={id:"@iiif/range-ordering",label:{en:["Range ordering"]},type:"choice",addNone:!0,items:v0t.map(dv)},LM={id:"@iiif/range-hidden",label:{en:["Visibility"]},type:"choice",addNone:!0,items:m0t.map(dv)},C0t={Collection:[S0t,w0t,Wle,MM],Manifest:[y0t,Wle,MM],Canvas:[b0t,MM],Annotation:[LM],AnnotationPage:[LM],Range:[_0t,x0t,MM],AnnotationCollection:[LM],ContentResource:[LM]},E0t=class extends Yi{constructor(t){super(t,"behavior")}getSupported(){return C0t[this.getType()]||[]}fix(t){if(!t)return[];if(typeof t=="string")return[t];if(!Array.isArray(t))return[];const n=t[0];return n?Array.isArray(n)?this.fix(n):t.filter(r=>typeof r=="string"):[]}get(){const t=super.get();return this.fix(t)}set(t){super.set(this.fix(t))}},k0t=class extends c1{constructor(e){super(e),Dt(this,"id"),Dt(this,"type"),Dt(this,"mediaType"),Dt(this,"format"),Dt(this,"profile"),Dt(this,"height"),Dt(this,"width"),Dt(this,"duration"),Dt(this,"viewingDirection"),Dt(this,"behavior"),Dt(this,"timeMode"),Dt(this,"motivation"),this.id=new u0t(e,"id"),this.type=this.entity().type||e.reference.type,this.mediaType=new Yi(e,"type"),this.format=new Yi(e,"format"),this.profile=new Yi(e,"profile"),this.height=new Yi(e,"height"),this.width=new Yi(e,"width"),this.duration=new Yi(e,"duration"),this.viewingDirection=new Yi(e,"viewingDirection"),this.behavior=new E0t(e),this.timeMode=new Yi(e,"timeMode"),this.motivation=new Yi(e,"motivation")}},P0t=class extends c1{constructor(e){super(e),Dt(this,"seeAlso"),Dt(this,"service"),Dt(this,"services"),Dt(this,"rendering"),Dt(this,"partOf"),Dt(this,"start"),Dt(this,"supplementary"),Dt(this,"homepage"),Dt(this,"logo"),this.seeAlso=new Wu(e,"seeAlso"),this.service=new Wu(e,"service"),this.services=new Wu(e,"services"),this.rendering=new Wu(e,"rendering"),this.partOf=new Wu(e,"partOf"),this.start=new Yi(e,"start"),this.supplementary=new Wu(e,"supplementary"),this.homepage=new Wu(e,"homepage"),this.logo=new Wu(e,"logo")}},$0t=class extends c1{constructor(e){super(e),Dt(this,"items"),Dt(this,"annotations"),Dt(this,"structures"),this.items=new Wu(e,"items"),this.annotations=new Wu(e,"annotations"),this.structures=new Wu(e,"structures")}},T0t={Collection:[],Manifest:[],Canvas:[],Annotation:[],AnnotationPage:[],Range:[],AnnotationCollection:[],ContentResource:[],Agent:[]},M0t={Collection:[],Manifest:[],Canvas:[],Annotation:[],AnnotationPage:[],Range:[],AnnotationCollection:[],ContentResource:[],Agent:[]},L0t={Collection:["navPlace"],Manifest:["navPlace"],Canvas:["navPlace"],Annotation:["textGranularity"],AnnotationPage:[],Range:["navPlace"],AnnotationCollection:[],ContentResource:[],Agent:[]},A0t={Collection:["textGranularity"],Manifest:["textGranularity"],Canvas:["textGranularity"],Annotation:["navPlace"],AnnotationPage:["textGranularity","navPlace"],Range:["textGranularity"],AnnotationCollection:["textGranularity","navPlace"],ContentResource:["textGranularity","navPlace"],Agent:["textGranularity","navPlace"]},I0t=["navPlace","textGranularity"],AM={all:I0t,required:T0t,recommended:M0t,optional:L0t,notAllowed:A0t},R0t={Collection:[],Manifest:[],Canvas:[],Annotation:[],AnnotationPage:[],Range:[],AnnotationCollection:[],ContentResource:[],Agent:[]},D0t={Collection:[],Manifest:[],Canvas:[],Annotation:[],AnnotationPage:[],Range:[],AnnotationCollection:[],ContentResource:[],Agent:["homepage","logo"]},O0t={Collection:["seeAlso","service","homepage","rendering","partOf","services"],Manifest:["seeAlso","service","homepage","rendering","partOf","start","services"],Canvas:["seeAlso","service","homepage","rendering","partOf"],Annotation:["seeAlso","service","homepage","rendering","partOf"],AnnotationPage:["seeAlso","service","homepage","rendering","partOf"],Range:["seeAlso","service","homepage","rendering","partOf","start","supplementary"],AnnotationCollection:["seeAlso","service","homepage","rendering","partOf"],ContentResource:["seeAlso","service","homepage","rendering","partOf"],Agent:["seeAlso"]},j0t={Collection:["supplementary","logo"],Manifest:["supplementary","logo"],Canvas:["start","supplementary","services","logo"],Annotation:["start","supplementary","services","logo"],AnnotationPage:["start","supplementary","services","logo"],Range:["services","logo"],AnnotationCollection:["start","supplementary","services","logo"],ContentResource:["start","supplementary","services","logo"],Agent:["service","homepage","rendering","partOf","services","start","supplementary"]},N0t=["seeAlso","service","services","rendering","partOf","start","supplementary","homepage","logo"],IM={all:N0t,required:R0t,recommended:D0t,optional:O0t,notAllowed:j0t},F0t={Collection:["items"],Manifest:["items"],Canvas:[],Annotation:["target"],AnnotationPage:[],Range:[],AnnotationCollection:[],ContentResource:[],Agent:[]},B0t={Collection:[],Manifest:[],Canvas:["items"],Annotation:["body"],AnnotationPage:["items"],Range:[],AnnotationCollection:[],ContentResource:[],Agent:[]},z0t={Collection:["annotations"],Manifest:["structures","annotations"],Canvas:["annotations"],Annotation:[],AnnotationPage:[],Range:["annotations"],AnnotationCollection:[],ContentResource:["annotations"],Agent:[]},H0t={Collection:["structures","target","body"],Manifest:["target","body"],Canvas:["structures","target","body"],Annotation:["items","structures","annotations"],AnnotationPage:["structures","annotations","target","body"],Range:["structures","target","body"],AnnotationCollection:["structures","annotations","target","body"],ContentResource:["items","structures","target","body"],Agent:["items","structures","annotations","target","body"]},V0t=["annotations","items","structures"],RM={all:V0t,required:F0t,recommended:B0t,optional:z0t,notAllowed:H0t},U0t={Collection:["id","type"],Manifest:["id","type"],Canvas:["id","type"],Annotation:["id","type"],AnnotationPage:["id","type"],Range:["id","type"],AnnotationCollection:["id","type"],ContentResource:["id","type"],Agent:["id","type"]},W0t={Collection:[],Manifest:[],Canvas:[],Annotation:[],AnnotationPage:[],Range:[],AnnotationCollection:[],ContentResource:[],Agent:[]},K0t={Collection:["viewingDirection","behavior"],Manifest:["viewingDirection","behavior"],Canvas:["height","width","duration","behavior"],Annotation:["behavior","timeMode"],AnnotationPage:["behavior"],Range:["viewingDirection","behavior"],AnnotationCollection:["behavior"],ContentResource:["format","height","width","duration","behavior"],Agent:[]},Ov=["motivation"],q0t={Collection:["format","profile","height","width","duration","timeMode",...Ov],Manifest:["format","profile","height","width","duration","timeMode",...Ov],Canvas:["format","profile","viewingDirection","timeMode",...Ov],Annotation:["format","profile","height","width","duration","viewingDirection"],AnnotationPage:["format","profile","height","width","duration","viewingDirection","timeMode",...Ov],Range:["format","profile","height","width","duration","timeMode",...Ov],AnnotationCollection:["format","profile","height","width","duration","viewingDirection","timeMode",...Ov],ContentResource:["viewingDirection","timeMode",...Ov],Agent:["viewingDirection","format","profile","height","width","duration","timeMode","behavior",...Ov]},G0t=["id","type","format","profile","height","width","duration","viewingDirection","behavior","timeMode","motivation"],DM={all:G0t,required:U0t,recommended:W0t,optional:K0t,notAllowed:q0t},Z0t=["Collection","Manifest","Canvas","Annotation","AnnotationPage","Range","AnnotationCollection","ContentResource","Agent"];function om(e){const t=[...DM.required[e]||[],...a0.required[e]||[],...IM.required[e]||[],...RM.required[e]||[],...AM.required[e]||[]],n=[...DM.recommended[e]||[],...a0.recommended[e]||[],...IM.recommended[e]||[],...RM.recommended[e]||[],...AM.recommended[e]||[]],r=[...DM.notAllowed[e]||[],...a0.notAllowed[e]||[],...IM.notAllowed[e]||[],...RM.notAllowed[e]||[],...AM.notAllowed[e]||[]],i=[...DM.optional[e]||[],...a0.optional[e]||[],...IM.optional[e]||[],...RM.optional[e]||[],...AM.optional[e]||[]],o=[...t,...n,...i];return{all:[...o,...r],allowed:o,required:t,recommended:n,notAllowed:r,optional:i}}var Y0t=om("Collection"),X0t=om("Manifest"),Q0t=om("Canvas"),J0t=om("Annotation"),e1t=om("AnnotationPage"),t1t=om("Range"),n1t=om("AnnotationCollection"),r1t=om("ContentResource"),i1t=om("Agent"),Kle={all:Z0t,getSupported:om,supported:{Collection:Y0t,Manifest:X0t,Canvas:Q0t,Annotation:J0t,AnnotationPage:e1t,Range:t1t,AnnotationCollection:n1t,ContentResource:r1t,Agent:i1t}},o1t=class extends Yi{constructor(t){super(t,"target")}getSourceId(){const{source:t}=this.get()||{};return t==null?void 0:t.id}removeSelector(){const t=this.getWithoutTracking();this.set({...t,selector:void 0})}getParsedSelector(){var n;const t=this.get();return t.selector?(n=j2(t.selector))==null?void 0:n.selector:null}setSelector(t){const n=this.getWithoutTracking();n&&n.source&&this.set({...n,selector:Array.isArray(t)?t:[t]})}setSvgSelector(t,n){const r=this.getWithoutTracking();if(r&&r.source){const i=t.open?"polyline":"polygon";this.set({...r,selector:{type:"SvgSelector",value:`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 ${n.width} ${n.height}" width="${n.width}" height="${n.height}"><${i} points="${t.points.map(o=>o.join(",")).join(" ")}" /></svg>`}})}}setPosition(t){const n=this.getWithoutTracking();n&&n.source&&this.set({...n,selector:{type:"FragmentSelector",value:`xywh=${[~~t.x,~~t.y,~~t.width,~~t.height].join(",")}`}})}},s1t=class extends Wu{constructor(e){super(e,"body")}isSpatial(){if(!this.hasBody())return!1;try{const e=this.getFirst(),t=this.config.vault.get(e),n=Oi(t);return(n==null?void 0:n.type)==="Video"||(n==null?void 0:n.type)==="Image"}catch{return!1}}getIIIFSelectorHeightWidth(){try{const t=this.getFirst().selector;if(!t||t["@context"]!=="http://iiif.io/api/annex/openannotation/context.json")return null;const[n,r,i,o]=t.region.split(",").map(Number);return{height:o,width:i}}catch{return null}}hasIIIFSelector(){const t=this.getFirst().selector;return!(!t||t["@context"]!=="http://iiif.io/api/annex/openannotation/context.json")}updateIIIFSelector(e){const t=this.getFirst(),n=Oi(t);if(!n)return;const r=t.selector;if(!r||r["@context"]!=="http://iiif.io/api/annex/openannotation/context.json")return;const i={...r,region:`${~~e.x},${~~e.y},${~~e.width},${~~e.height}`};this.config.vault.modifyEntityField(n,"selector",i)}hasBody(){return!!this.get()[0]}getFirst(){const e=this.get();return XA(e[0],"Body not found"),e[0]}getFirstOrNone(){const e=this.get();if(e)return e[0]||void 0}},a1t=class extends c1{constructor(e){super(e),Dt(this,"target"),Dt(this,"body"),this.target=new o1t(e),this.body=new s1t(e)}},l1t=class extends Yi{constructor(t){super(t,"navPlace")}},u1t=class extends c1{constructor(e){super(e),Dt(this,"navPlace"),Dt(this,"textGranularity"),this.navPlace=new l1t(e),this.textGranularity=new Yi(e,"textGranularity")}},_3=class extends c1{constructor(e){const t=e;t.context=t.context||{},t.context.resource=t.context.resource||{type:"SpecificResource",source:t.reference},t.tracker=t.tracker||new s0t(t.vault,t.reference),super(t),Dt(this,"technical"),Dt(this,"descriptive"),Dt(this,"metadata"),Dt(this,"linking"),Dt(this,"structural"),Dt(this,"annotation"),Dt(this,"extensions"),Dt(this,"required"),Dt(this,"recommended"),Dt(this,"notAllowed"),Dt(this,"optional"),Dt(this,"allowed"),Dt(this,"isMultiple"),Dt(this,"context"),Dt(this,"observe"),this.observe=t.tracker,this.technical=new k0t(t),this.descriptive=new o0t(t),this.metadata=this.descriptive.metadata,this.linking=new P0t(t),this.structural=new $0t(t),this.extensions=new u1t(t),this.isMultiple=!1,t.context.parent&&t.context.parentProperty&&typeof t.context.index<"u"&&(this.context=new l0t(t));const n=this.getType();n==="Annotation"&&(this.annotation=new a1t(t));const r=Kle.supported[n]||Kle.getSupported(n);this.required=r.required,this.recommended=r.recommended,this.notAllowed=r.notAllowed,this.allowed=r.allowed,this.optional=r.optional}getPartOf(){const e=this.config.vault.get(this.ref());if(e&&e[Mo]){const t=e[Mo][0];if(t)return t[dh]||null}return null}ref(){return this.config.reference}validate(){const e=this.config.validators,t=this.entity(),n=t==null?void 0:t.type,r={isError:!1,isWarning:!1,problems:[]};if(t&&n&&e.length&&n){for(const i of e)if(i.types.includes(n))try{i.valid(t,this.config.vault,this.config.context)||(i.error?r.isError=!0:i.warning&&(r.isWarning=!0),r.problems.push({isError:i.error||!1,isWarning:i.warning||!1,message:i.message,properties:i.properties}))}catch(o){r.isWarning=!0,r.problems.push({isWarning:!0,isError:!1,message:`Validation error: ${o||"unknown"}`,properties:i.properties})}}return r}},c1t=["thumbnail","seeAlso","rendering","partOf","supplementary","homepage","logo","body","annotations"],d1t=["service","services"],f1t=["target","provider","placeholderCanvas","accompanyingCanvas","partOf","start","items","structures","annotations"],h1t=["target","thumbnail","provider","placeholderCanvas","accompanyingCanvas","seeAlso","service","services","rendering","partOf","start","body","supplementary","homepage","logo","items","structures","annotations"],p1t=["start","target"],jv={all:h1t,single:p1t,inlineProperties:d1t,externalProperties:c1t,internalProperties:f1t},m1t=Object.defineProperty,g1t=(e,t,n)=>t in e?m1t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ji=(e,t,n)=>(g1t(e,typeof t!="symbol"?t+"":t,n),n),Id=class{constructor(e,t){Ji(this,"vault"),Ji(this,"original"),Ji(this,"reference"),Ji(this,"resource"),this.vault=t,this.original=e,this.reference=os(e)?e.source:e,this.resource=os(e)?e:{type:"SpecificResource",source:this.reference}}ref(){return this.reference}specificResource(){return this.resource}optionalSpecificResource(){var e,t;return os(this.original)?{...this.original,source:{id:(e=this.original.source)==null?void 0:e.id,type:(t=this.original.source)==null?void 0:t.type}}:this.original}get(){return this.vault.get(this.resource)}};function i2(e){switch(e){case"Image":case"Video":case"Sound":case"Dataset":case"Text":case"TextualBody":case"Composite":case"List":case"Independents":case"Audience":return"ContentResource";case"ImageService1":case"ImageService2":case"ImageService3":return"Service"}return e}var v1t={Annotation:g_e,AnnotationPage:qX,Canvas:v_e,Collection:y_e,Manifest:b_e,Range:w_e,ResourceProvider:x_e,Service:S_e};function y1t(e){const t=i2(e);return v1t[t]||{}}function b1t(){return`${Math.random().toString(36).substr(2)}-${Date.now().toString(36)}`}function IJ(e,t,n){const r=[];if(t.length===0)return[];const i=Oi(e.parent),o=e.property,s=e.filter;for(const a of t)if(!(s&&(!a.tags||!a.tags.includes(s)))&&i&&o){if(a.supports.parentTypes&&!a.supports.parentTypes.includes(i.type)||a.supports.parentFields&&!a.supports.parentFields.includes(o))continue;if(a.supports.parentFieldMap){const l=a.supports.parentFieldMap[i.type];if(!l||!l.includes(o))continue}if(a.supports.disallowPainting&&e.isPainting||a.supports.custom&&!a.supports.custom({property:o,resource:i,atIndex:e.index},n.vault)||!a.supports.initialData&&Object.keys(e.initialData||{}).length!==0||a.resourceType!==e.type&&!(a.additionalTypes||[]).includes(e.type))continue;r.push(a)}return r}function L4(e,t,n,r){return(i,o={})=>{var s;return typeof t!="string"&&(o.parent={property:n,resource:t,atIndex:(s=o==null?void 0:o.parent)==null?void 0:s.atIndex}),e.create(r,i,o)}}var Ek=class QA{constructor(t,n){if(Ji(this,"resource"),Ji(this,"warnings",[]),Ji(this,"errors",[]),Ji(this,"partOf"),Ji(this,"references",[]),Ji(this,"embedded",[]),Ji(this,"vault"),Ji(this,"specificResource"),this.vault=n,t.type==="SpecificResource"){const o=t.source;this.specificResource={...t,source:{id:o.id,type:i2(o.type)}},t=o}const r=Object.keys(t),i=y1t(t.type);for(const o of r)if(!(jv.inlineProperties.includes(o)||!jv.all.includes(o))){if(t.type==="Range"&&o==="items"){const s=[];for(const a of t[o]){if(a instanceof Id){this.references.push(a),s.push(a);continue}const l=new Id(a,n);s.push(l),t[o]=l}t[o]=s;continue}if(t.type==="Manifest"&&o==="start"){const s=t[o];if(s instanceof Id){this.references.push(s);continue}const a=new Id(s,n);t[o]=a;continue}if(t.type==="Annotation"&&o==="target"){let s=t[o];if(s instanceof Id){this.references.push(s);continue}typeof s=="string"&&(s={id:s,type:"Canvas"});const a=new Id(s,n);t[o]=a;continue}if(!jv.single.includes(o)&&(jv.externalProperties.includes(o)||jv.internalProperties.includes(o))){const s=t[o]||[],a=Array.isArray(s)?s:[s],l=[];for(const u of a){if(u instanceof Id){this.references.push(u),l.push(u);continue}if(u instanceof QA){this.embedded.push(u),l.push(u);continue}if(this.vault.get(u,{skipSelfReturn:!0})){const f=i2(u.type),p=new Id({id:u.id,type:f},n);this.references.push(p),l.push(p)}else{const f=new QA(u,n);this.embedded.push(f),l.push(f)}}t[o]=l}}this.resource={...i,...t}}get(){return this.resource}ref(){return this.specificResource?this.specificResource:{id:this.resource.id,type:i2(this.resource.type)}}getAllReferencedResources(){return this.references}getAllEmbeddedResources(){const t=[];for(const n of this.embedded)t.push(...n.getAllEmbeddedResources());return t.push(...this.embedded),t}getVaultResource(){const t=this.resource,n=Object.keys(t),r={};for(const i of n){if(jv.inlineProperties.includes(i)||!jv.all.includes(i)){r[i]=t[i];continue}if(jv.single.includes(i)){const o=t[i];o instanceof Id?t.type==="Manifest"&&i==="start"||t.type==="Annotation"&&i==="target"?r[i]=o.specificResource():r[i]=o.optionalSpecificResource():r[i]=t[i];continue}if(t[i]){r[i]=[];for(const o of t[i]||[])o instanceof Id&&r[i].push(o.optionalSpecificResource()),o instanceof QA&&r[i].push(o.ref())}}return this.partOf&&(r[Mo]=r[Mo]||[],r[Mo].push(this.partOf)),r}setPartOf(t){const n=this.ref();this.partOf={id:n.id,type:i2(n.type),[dh]:t}}},w1t=class{constructor(e,t,n,r){Ji(this,"vault"),Ji(this,"previewVault"),Ji(this,"configs"),Ji(this,"options"),this.vault=e,this.previewVault=r,this.options=t,this.configs=n}getPreviewVault(){return this.previewVault}getTarget(){var n,r,i,o;const e=this.options.target||((n=this.options.parent)==null?void 0:n.resource),t=(r=this.options.initialData)==null?void 0:r.selector;if(t&&t.type==="polygon"){const s=(i=this.options.initialData)==null?void 0:i.selector,{width:a,height:l}=((o=this.options.initialData)==null?void 0:o.on)||{};if(s.shape.points.length===0)return e;if(s.shape.points.length===1){const c=s.shape.points[0];return{type:"SpecificResource",source:e,selector:{type:"PointSelector",x:c[0],y:c[1]}}}if(s.shape.points.length===4){const[c,f,p,g]=s.shape.points;if(c[0]===f[0]&&c[1]===g[1]&&f[1]===p[1]&&g[0]===p[0]){const v=Math.min(c[0],f[0],p[0],g[0]),y=Math.min(c[1],f[1],p[1],g[1]),S=Math.max(c[0],f[0],p[0],g[0]),C=Math.max(c[1],f[1],p[1],g[1]),_=S-v,k=C-y;return{type:"SpecificResource",source:e,selector:{type:"FragmentSelector",value:`xywh=${[~~v,~~y,~~_,~~k].join(",")}`}}}}const u=s.shape.open?"polyline":"polygon";return{type:"SpecificResource",source:e,selector:{type:"SvgSelector",value:`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 ${a} ${l}" width="${a}" height="${l}"><${u} points="${s.shape.points.map(c=>c.join(",")).join(" ")}" /></svg>`}}}return e&&t?{type:"SpecificResource",source:e,selector:{type:"FragmentSelector",value:`xywh=${[~~t.x,~~t.y,~~t.width,~~t.height].join(",")}`}}:e}getParent(){var e;return(e=this.options.parent)==null?void 0:e.resource}getParentResource(){const e=this.getParent();if(e)return{type:"SpecificResource",source:e}}generateId(e,t){var n,r;return t&&t instanceof Id&&(t=t.ref()),`${(r=t||((n=this.options.parent)==null?void 0:n.resource))==null?void 0:r.id}/${e}/${b1t()}`}ref(e){let t="",n="";typeof e=="string"?t=e:(t=e.id,n=e.type);const i=this.vault.getState().iiif.mapping[t];return i?n=i:n=n||"unknown",new Id({id:t,type:n},this.vault)}embed(e){return new Ek(e,this.vault)}async create(e,t,n){const r=this.configs.find(o=>o.id===e);if(!r)throw new Error(`Creator config ${e} not found`);return await new $Re(this.vault,r,t,this.configs,this.previewVault,n).run()}},$Re=class{constructor(e,t,n,r,i,o){Ji(this,"resource",null),Ji(this,"payload"),Ji(this,"vault"),Ji(this,"previewVault"),Ji(this,"definition"),Ji(this,"options"),Ji(this,"configs"),this.vault=e,this.previewVault=i,this.definition=t,this.payload=n,this.configs=r,this.options={targetType:(o==null?void 0:o.targetType)||t.resourceType,...o||{}}}async run(){const e=new w1t(this.vault,this.options,this.configs,this.previewVault),t=await this.definition.create(this.payload,e);if(Array.isArray(t)){const n=[];for(const r of t)r instanceof Ek?n.push(r):n.push(new Ek(r,this.vault));return this.resource=n,this.resource}return t instanceof Ek?this.resource=t:this.resource=new Ek(t,this.vault),this.resource}getActions(){if(!this.resource)return[];const e=Array.isArray(this.resource)?this.resource:[this.resource],t=[],n={},r={};for(const i of e){this.options.parent&&i.setPartOf(this.options.parent.resource.id);const s=[...i.getAllEmbeddedResources(),i];for(const a of s){const l=a.getVaultResource();if(!l.type||!l.id)continue;const u=i2(l.type);n[u]=n[u]?n[u]:{},n[u][l.id]=l,r[l.id]=u}t.push(b4({entities:n})),t.push(F_e({mapping:r}))}return t}commit(e=[]){if(!this.resource)throw new Error("Creator has not been run");const t=this.getActions();return this.vault.dispatch(xC({actions:[...t,...e]})),Array.isArray(this.resource)?this.resource.map(n=>n.ref()):this.resource.ref()}},x1t=class{constructor(e,t,n){Ji(this,"configs"),Ji(this,"vault"),Ji(this,"previewVault"),this.configs=t||[],this.vault=e,this.previewVault=n||new fh}matchBasedOnResource(e){return IJ(e,this.configs||[],{vault:this.vault})}async create(e,t,n){const r=this.configs.find(u=>u.id===e);if(!r)throw new Error(`Creator config ${e} not found`);if(n!=null&&n.parent){if(r.supports.parentTypes&&!r.supports.parentTypes.includes(n.parent.resource.type))throw new Error(`Definition ${e} does not support parent type ${n.parent.resource.type}`);if(r.supports.parentFields&&!r.supports.parentFields.includes(n.parent.property))throw new Error(`Definition ${e} does not support parent field ${n.parent.property}`);if(r.supports.parentFieldMap){const u=r.supports.parentFieldMap[n.parent.resource.type];if(!u||!u.includes(n.parent.property))throw new Error(`Definition ${e} does not support parent ${n.parent.property} / ${n.parent.property}`)}if(r.supports.custom&&!r.supports.custom(n.parent,this.vault))throw new Error("Definition does not support resource")}const i=new $Re(this.vault,r,t,this.configs,this.previewVault,n),o=await i.run(),s=Array.isArray(o)?o:[o],a=[];for(const u of s)n!=null&&n.parent&&(n.parent.property==="start"||n.parent.property==="target"?a.push(ks.modifyEntityField({id:n.parent.resource.id,type:n.parent.resource.type,value:u.ref(),key:n.parent.property})):a.push(ks.addReference({id:n.parent.resource.id,type:n.parent.resource.type,reference:u.ref(),key:n.parent.property,index:n.parent.atIndex})));const l=i.commit(a);if(n!=null&&n.parent&&r.sideEffects){for(const u of r.sideEffects)if(u.run){const c=Array.isArray(l)?l:[l];for(const f of c)await u.run(f,{vault:this.vault,options:n})}}return l}};const qle={disabled:!1},TRe=ne.createContext(null);var S1t=function(t){return t.scrollTop},kk="unmounted",eb="exited",tb="entering",OS="entered",Iq="exiting",jp=function(e){Dke(t,e);function t(r,i){var o;o=e.call(this,r,i)||this;var s=i,a=s&&!s.isMounting?r.enter:r.appear,l;return o.appearStatus=null,r.in?a?(l=eb,o.appearStatus=tb):l=OS:r.unmountOnExit||r.mountOnEnter?l=kk:l=eb,o.state={status:l},o.nextCallback=null,o}t.getDerivedStateFromProps=function(i,o){var s=i.in;return s&&o.status===kk?{status:eb}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var o=null;if(i!==this.props){var s=this.state.status;this.props.in?s!==tb&&s!==OS&&(o=tb):(s===tb||s===OS)&&(o=Iq)}this.updateStatus(!1,o)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,o,s,a;return o=s=a=i,i!=null&&typeof i!="number"&&(o=i.exit,s=i.enter,a=i.appear!==void 0?i.appear:s),{exit:o,enter:s,appear:a}},n.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null)if(this.cancelNextCallback(),o===tb){if(this.props.unmountOnExit||this.props.mountOnEnter){var s=this.props.nodeRef?this.props.nodeRef.current:e2.findDOMNode(this);s&&S1t(s)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===eb&&this.setState({status:kk})},n.performEnter=function(i){var o=this,s=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[e2.findDOMNode(this),a],u=l[0],c=l[1],f=this.getTimeouts(),p=a?f.appear:f.enter;if(!i&&!s||qle.disabled){this.safeSetState({status:OS},function(){o.props.onEntered(u)});return}this.props.onEnter(u,c),this.safeSetState({status:tb},function(){o.props.onEntering(u,c),o.onTransitionEnd(p,function(){o.safeSetState({status:OS},function(){o.props.onEntered(u,c)})})})},n.performExit=function(){var i=this,o=this.props.exit,s=this.getTimeouts(),a=this.props.nodeRef?void 0:e2.findDOMNode(this);if(!o||qle.disabled){this.safeSetState({status:eb},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:Iq},function(){i.props.onExiting(a),i.onTransitionEnd(s.exit,function(){i.safeSetState({status:eb},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},n.setNextCallback=function(i){var o=this,s=!0;return this.nextCallback=function(a){s&&(s=!1,o.nextCallback=null,i(a))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},n.onTransitionEnd=function(i,o){this.setNextCallback(o);var s=this.props.nodeRef?this.props.nodeRef.current:e2.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!s||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],u=l[0],c=l[1];this.props.addEndListener(u,c)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===kk)return null;var o=this.props,s=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var a=kQ(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return ne.createElement(TRe.Provider,{value:null},typeof s=="function"?s(i,a):ne.cloneElement(ne.Children.only(s),a))},t}(ne.Component);jp.contextType=TRe;jp.propTypes={};function fS(){}jp.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:fS,onEntering:fS,onEntered:fS,onExit:fS,onExiting:fS,onExited:fS};jp.UNMOUNTED=kk;jp.EXITED=eb;jp.ENTERING=tb;jp.ENTERED=OS;jp.EXITING=Iq;var _1t=Object.defineProperty,C1t=(e,t,n)=>t in e?_1t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,zc=(e,t,n)=>(C1t(e,typeof t!="symbol"?t+"":t,n),n);globalThis.MS_LS_EMITTER=globalThis.MS_LS_EMITTER||nv();var qF=globalThis.MS_LS_EMITTER;function B7(e,t){const n=h.useRef();!n.current&&t&&(n.current=JSON.stringify(t));const[r,i]=h.useState(()=>{try{if(typeof window>"u"||typeof window.localStorage>"u")return t;const s=window.localStorage.getItem(e);return s&&(n.current=s),s?JSON.parse(s):t}catch(s){return console.log(s),t}}),o=s=>{try{if(typeof window<"u"&&typeof window.localStorage<"u"){let a=t;try{a=typeof n.current>"u"?t:JSON.parse(n.current)}catch{}const l=s instanceof Function?s(a):s;i(l);const u=JSON.stringify(l);window.localStorage.setItem(e,u),u!==n.current&&(n.current=u,qF.emit(`change:${e}`,{valueJson:u}))}}catch(a){console.log(a)}};return h.useEffect(()=>{const s=({valueJson:a})=>{if(a&&a!==n.current)try{i(JSON.parse(a)),n.current=a}catch{}};return qF.on(`change:${e}`,s),()=>{qF.off(`change:${e}`,s)}},[e]),[r,o,n]}var Gle="Invariant failed";function $l(e,t){if(!e){var n=typeof t=="function"?t():t,r=n?"".concat(Gle,": ").concat(n):Gle;throw new Error(r)}}var MRe={previews:[],behaviorPresets:["auto-advance","no-auto-advance","repeat","no-repeat","unordered","individuals","continuous","paged","non-paged","facing-pages","multi-part","together","sequence","thumbnail-nav","no-nav","hidden"],defaultPreview:null,editorConfig:{},newTemplates:null,i18n:{advancedLanguageMode:!1,availableLanguages:["en","cy","nl","fr"],defaultLanguage:"en"},editorFeatureFlags:{enableMultiImageCanvases:!0,enableMultiMediaCanvases:!0},uploadBackends:[],export:{baseIdentifier:null,version:3}},LRe=h.createContext(MRe),E1t=h.createContext(()=>{});function Px(){return h.useContext(LRe)}function ARe({children:e,config:t,saveConfig:n}){const[r,i]=h.useState(null),o=h.useMemo(()=>({...MRe,...t||{},...r||{}}),[t,r]),s=h.useCallback(a=>{i(a),n&&n(a)},[t]);return d.jsx(E1t.Provider,{value:s,children:d.jsx(LRe.Provider,{value:o,children:e})})}var IRe=h.createContext(null),RRe=h.createContext(null),DRe=h.createContext({state:null,setState:()=>{}});function k1t(){const e=h.useContext(RRe);return $l(e,"Hook useAppInstance must be used inside <AppProvider />"),e}function d1(){const e=h.useContext(IRe);return $l(e,"Hook useApp must be used inside <AppProvider />"),e}function RJ(){return h.useContext(DRe)}function P1t(e){const[t,n,r]=B7(`app-state/${e.appId}/${e.instanceId}`,e.initialState||{}),i=h.useCallback(s=>{const a=r.current?JSON.parse(r.current||"{}"):{},l=(typeof s=="function"?s(a):s)||{};n({...a,...l})},[]);h.useEffect(()=>{e.args&&i(e.args)},[e.appId]);const o=h.useMemo(()=>({state:t||{},setState:i}),[i,t]);return d.jsx(DRe.Provider,{value:o,children:e.children})}function $1t({instanceId:e,appId:t,args:n,definition:r,children:i,initialState:o}){const s=h.useMemo(()=>({instanceId:e,appId:t,args:n}),[e,t,n]),a=h.useMemo(()=>o||{},[e]);return d.jsx(ARe,{config:r.config||{},children:d.jsx(IRe.Provider,{value:r,children:d.jsx(RRe.Provider,{value:s,children:d.jsx(P1t,{instanceId:s.instanceId,appId:s.appId,args:s.args,initialState:a,children:i})})})})}h.createContext(null);var T1t=Se.div`
  display: flex;
  align-items: center;
  height: 3em;
  padding: 0.5em;
`,M1t=Se.div`
  display: flex;
  padding: 0.25em;
  flex-direction: column;
`;Se.button`
  height: 1.75em;
  width: 1.75em;
  background: #e9e9e9;
  border-radius: 3px;
  display: flex;
  text-align: center;
  align-items: center;
  font-size: 1.1em;
  border: none;
  justify-content: center;

  &:focus {
    background: #e94581;
    color: #fff;
    svg {
      fill: #fff;
    }
  }
`;Se.div`
  flex: 1;
`;var L1t=Se.div`
  color: #6e6e6e;
  display: flex;
  align-items: center;
  margin-left: 1em;
  font-weight: bold;
  text-rendering: geometricPrecision;
  letter-spacing: -0.5px;
  user-select: none;
  cursor: pointer;
  margin-right: 0.5em;
`;Se.div`
  margin: 0 auto;
  padding: 3px;
  background: #f4f4f4;
  border: 1px solid #e0e0e0;
  border-radius: 5px;
  width: 26em;
  display: flex;
  flex-direction: row;

  @media (max-width: 450px) {
    display: none;
  }
`;Se.button`
  background: #e7fff4;
  border: 1px solid #c5e3cd;
  box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.06);
  border-radius: 4px;
  color: #666666;
  padding: 0.35em 0.7em;
  letter-spacing: -0.42px;
`;var a5=({height:e=16})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",height:e,viewBox:"0 0 24 24",width:"24px",fill:"#000000",children:[d.jsx("path",{d:"M0 0h24v24H0z",fill:"none"}),d.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})]}),z7=({rotate:e=0,...t})=>d.jsx("svg",{version:"1.2",xmlns:"http://www.w3.org/2000/svg",overflow:"visible",preserveAspectRatio:"none",viewBox:"0 0 24 24",width:"1em",height:"1em",style:{fill:"rgba(0, 0, 0, 0.6)",transform:`rotate(${e}deg)`,transition:"transform 0.2s"},...t,children:d.jsx("path",{d:"M8.12 9.29 12 13.17l3.88-3.88a.996.996 0 1 1 1.41 1.41l-4.59 4.59a.996.996 0 0 1-1.41 0L6.7 10.7a.996.996 0 0 1 0-1.41c.39-.38 1.03-.39 1.42 0z",fill:"currentColor"})}),DJ=h.createContext(null),A1t=h.createContext(null);function ORe(){const e=h.useContext(A1t),t=h.useContext(DJ),n=e||(t==null?void 0:t.id);return $l(n,"useResourceInstance can only be called from inside <ResourceProvider />"),n}function jRe(){const e=h.useContext(DJ);return $l(e,"useResource can only be called from inside <ResourceProvider />"),e}function I1t({resource:e,children:t}){const n=em();let r=t;return e&&e.type==="Manifest"&&(r=d.jsx(Ip,{vault:n||void 0,children:d.jsx(hh,{manifest:e.id||"",children:t})})),e&&e.type==="Collection"&&(r=d.jsx(Ip,{vault:n||void 0,children:d.jsx(QR,{collection:e.id||"",children:t})})),d.jsx(DJ.Provider,{value:e,children:r})}var R1t=class{constructor({id:e,config:t,label:n}){zc(this,"id"),zc(this,"label"),zc(this,"type","external-manifest-preview"),zc(this,"focusable",!0),zc(this,"serviceUrl"),zc(this,"windows",{}),this.id=e,this.label=n,this.serviceUrl=t.url}isPreviewValid(e){const t=this.windows[e];return!!(t&&t.window&&!t.window.closed)}getRequires(){return["readOnlyManifest"]}getProvides(){return[]}async createPreview(e,t,n,r){const i=`${this.serviceUrl}`.replace(/\{manifestId}/,r.readOnlyManifest).replace(/\{time}/,`${Date.now()}`),o=window.open(i,this.id);return this.windows[e]={location:i,window:o},{id:this.id,type:"external-manifest-preview",data:{url:i}}}async focus(e){const t=this.windows[e];t&&t.window&&t.window.focus()}async updatePreview(e,t,n,r){var o;const i=this.windows[e];if(i)try{(o=i.window)==null||o.close()}catch{}return this.createPreview(e,t,n,r)}async deletePreview(e){const t=this.windows[e];t&&t.window&&(t.window.close(),delete this.windows[e])}},D1t=class{constructor({id:e,config:t,label:n}){zc(this,"id"),zc(this,"label"),zc(this,"type","iiif-preview-service"),zc(this,"focusable",!1),zc(this,"serviceUrl"),zc(this,"cache",{}),this.id=e,this.label=n,this.serviceUrl=t.url}getRequires(){return[]}getProvides(){return["readOnlyManifest"]}async isPreviewValid(e,t){if(this.cache[e])return!0;if(!t||!t.data||!t.data.readOnlyManifest)return!1;const n=t.data.readOnlyManifest;try{return(await fetch(n,{cache:"no-cache"})).ok}catch{return!1}}async createPreview(e,t,n){const r=n.toPresentation3(t),i=await fetch(this.serviceUrl,{method:"POST",headers:{"Content-Type":"application/json",Origin:"*"},body:JSON.stringify(r)});$l(i.ok,"Unknown error creating preview");const o=await i.json();return $l(o.location,"Missing IIIF location while creating preview"),this.cache[e]={...o,time:Date.now()},{id:this.id,type:"external-manifest-preview",data:{readOnlyManifest:`${o.location}/${Date.now()}`}}}async focus(){}async updatePreview(e,t,n){const r=this.cache[e];if(!r||Date.now()>r.expirationTtl+r.time||!r.updateLocation)return this.createPreview(e,t,n);const i=r.updateLocation,o=n.toPresentation3(t),s=await fetch(i,{method:"PUT",headers:{"Content-Type":"application/json",Origin:"*"},body:JSON.stringify(o)});$l(s.ok,"Unknown error updating preview");const a=await s.json();$l(a.location),a.updateLocation&&(r.updateLocation=a.updateLocation);const l=`${a.location}/${Date.now()}`;return await fetch(l,{cache:"no-cache"}),{id:this.id,type:"external-manifest-preview",data:{readOnlyManifest:`${a.location}/${Date.now()}`}}}async deletePreview(e){const t=this.cache[e];if(t&&t.deleteLocation)try{await fetch(t.deleteLocation,{method:"DELETE",headers:{"Content-Type":"application/json",Origin:"*"}})}catch{}}};function O1t(e,t,n,r,i){const o=jRe(),s=ORe(),a=$n(),l=h.useMemo(()=>({setPreview:C=>{C&&i(_=>[..._.filter(k=>k.id!==C.id),C])},removePreview:C=>{i(_=>_.filter(k=>k.id!==C))}}),[i,s]),[u,c]=h.useMemo(()=>{const C={},_={};for(const k of n){C[k.id]=k;const w=k.getProvides();if(w.length)for(const P of w)_[P]||(_[P]=k.id)}return[C,_]},[n]);async function f(){const C=e.selected,_=r.find(k=>k.id===C);if(r&&r.length&&_){const w=u[_.id].getRequires(),P={};for(const R of r){const D=u[R.id];if(D){const H=D.getProvides();for(const O of H)if(w.indexOf(O)!==-1){const z=await D.updatePreview(s,o,a,P);z&&(l.setPreview(z),t({type:"activatePreview",payload:z.id}),Object.assign(P,z.data||{}))}}}const M=u[_.id];if(M){const R=await M.updatePreview(s,o,a,P);R?l.setPreview(R):(l.removePreview(_.id),await M.deletePreview(s))}}}async function p(C){u[C]&&s&&(t({type:"selectPreview",payload:C}),await S(C))}async function g(){const C=c.readOnlyManifest,_=C?u[C]:null;if(_&&s){const k=r.find(w=>w.type==="iiif-preview-service");if(!k||!await _.isPreviewValid(s,k)){const w=await _.createPreview(s,o,a,{});if(w)return w.data.readOnlyManifest}}return null}function v(C){const _=u[C];_&&s&&(l.removePreview(C),_.deletePreview(s).then(()=>{t({type:"deletePreview",payload:C})}))}async function y(C){const _=u[C];u[C]&&s&&_&&(await _.focus(s),t({type:"focusPreview",payload:C}))}async function S(C){const _=u[C];if(_&&s){const k=r.find(w=>w.id===C);if(!k||!_.isPreviewValid(s,k)){const w={},P=_.getRequires();for(const R of P){const D=c[R],H=D?u[D]:null;$l(H,`Missing handler for Preview requirement "${R}"`);const O=r.find(z=>z.id===D);if(!O||!await H.isPreviewValid(s,O)){const z=await H.createPreview(s,o,a,w);Object.assign(w,(z==null?void 0:z.data)||{}),l.setPreview(z),t({type:"activatePreview",payload:z.id})}else Object.assign(w,(O==null?void 0:O.data)||{}),t({type:"activatePreview",payload:O.id})}const M=await _.createPreview(s,o,a,w);M&&(l.setPreview(M),t({type:"activatePreview",payload:M.id}))}}}return h.useMemo(()=>({selectPreview:p,deletePreview:v,focusPreview:y,activatePreview:S,updatePreviews:f,getPreviewLink:g}),[u,s,a,e.selected,r])}function j1t(e){return h.useMemo(()=>{const t=[];for(const n of e)switch(n.type){case"iiif-preview-service":t.push(new D1t(n));break;case"external-manifest-preview":t.push(new R1t(n));break}return t},[])}var N1t=MJ(function(t,n){switch(n.type){case"focusPreview":break;case"deletePreview":{t.selected===n.payload&&(t.selected=null),t.active=t.active.filter(r=>r!==n.payload);break}case"activatePreview":{t.active.indexOf(n.payload)===-1&&t.active.push(n.payload);break}case"selectPreview":{t.selected=n.payload,t.active.indexOf(n.payload)===-1&&t.active.push(n.payload);break}}});function F1t(){return{active:[],selected:null}}var NRe=h.createContext(null),B1t=h.createContext([]),z1t=h.memo(function({children:t,configs:n=[]}){const r=ORe(),i=j1t(n),[o,s]=B7(`preview-${r}`,[]),[a,l]=h.useReducer(N1t,void 0,F1t),u=O1t(a,l,i,o,s),c=h.useMemo(()=>({configs:n,actions:u,handlers:i,...a}),[u,n,i,a]);return h.useEffect(()=>{for(const f of o)if(!a.active.includes(f.id)){const p=i.find(g=>g.id===f.id);p&&Promise.resolve(p.isPreviewValid(r,f)).then(g=>{g?l({type:"activatePreview",payload:f.id}):s(v=>v.filter(y=>y.id!==f.id))})}},[r]),d.jsx(B1t.Provider,{value:o,children:d.jsx(NRe.Provider,{value:c,children:t})})});function H1t(){const e=h.useContext(NRe);return $l(e,"usePreviewContext() can only be called from inside <PreviewProvider />"),e}var OJ=Se.button`
  border: none;
  outline: none;
  background-color: transparent;
  margin: 0;
  padding: 0;
  font-size: inherit;
  color: inherit;
  cursor: pointer;
  &:hover {
    color: inherit;
  }
`,Kd=Se.button`
  padding: 0.5rem 1rem;
  color: ${e=>e.theme.color.main||"none"};
  background-color: ${e=>e.theme.color.white||"white"};
  border-radius: inherit;
  border: none;
  cursor: pointer;
  display: flex;
  align-items: center;
  font-size: 0.85em;
  :disabled {
    opacity: 0.65;
    cursor: not-allowed;
  }

  &:hover {
    background: #eee;
  }
`;Se(Kd)`
  padding: 0.25em ${e=>e.theme.padding.xs||"0.4em"};
  height: unset;
  background: none;
`;Se(Kd)`
   {
    padding: 0 ${e=>e.theme.padding.medium||"1rem"};
    color: ${e=>e.theme.color.main||"#B84C74;"};
    background-color: ${e=>e.theme.color.white||"white"};
    border: 1px solid ${e=>e.theme.color.main||"#B84C74;"};
    border-radius: 0.25rem;
    cursor: pointer;
    height: 2rem;
    display: flex;
    align-items: center;
    white-space: nowrap;
    font-size: 0.75rem;

    :disabled {
      opacity: 0.65;
      cursor: not-allowed;
    }
  }
`;var V1t=Se(Kd)`
  padding: 0 ${e=>e.theme.padding.medium||"1rem"};
  color: ${e=>e.theme.color.white||"white"};
  background-color: ${e=>e.theme.color.main||"#B84C74;"};
  border: 1px solid #eee;
  border-radius: 0.25rem;
  cursor: pointer;
  justify-content: center;
  display: flex;
  align-items: center;
  &:hover {
    background-color: ${e=>e.theme.color.mainHover||"#B84C74;"};
  }
`;Se.div`
  display: flex;
  flex-direction: row;
  flex-wrap: wrap;
  align-items: flex-start;
  justify-content: ${e=>e.$right?"flex-end":"flex-start"};
`;var U1t=Se.div`
  display: flex;
  position: relative;
  width: 10em;
`,W1t=Se(OJ)`
  flex: 1;
  padding: 0.5em 0.8em;
  background: #b84c74;
  color: #fff;
  border-top-left-radius: 5px;
  font-size: 0.875em;
  border-bottom-left-radius: 5px;
  border: 1px solid #b84c74;
  border-right-width: 0;

  &:hover {
    color: #fff;
    background: #892c4e;
    border-color: #892c4e;
  }

  &:active {
    background: #892c4e;
    box-shadow: inset 0 2px 8px 0 rgba(0, 0, 0, 0.15);
  }
`,K1t=Se(OJ)`
  background: #b84c74;
  border-top-right-radius: 5px;
  border-bottom-right-radius: 5px;
  border: 1px solid #b84c74;
  border-left: 1px solid #fff;
  padding: 0.4em;
  color: #fff;
  svg {
    fill: currentColor;
  }
  &:hover {
    color: #fff;
    background: #892c4e;
  }

  &:active {
    background: #892c4e;
    box-shadow: inset 0 2px 8px 0 rgba(0, 0, 0, 0.15);
  }

  ${e=>e.$open&&ln`
      background: #892c4e;
      box-shadow: inset 0 2px 8px 0 rgba(0, 0, 0, 0.15);
    `}
`,q1t=Se.div`
  position: absolute;
  opacity: 0;
  top: 100%;
  margin-top: 0.3em;
  border-radius: 3px;
  left: -50%;
  width: 150%;
  pointer-events: none;
  box-shadow:
    0 4px 15px 0 rgba(0, 0, 0, 0.18),
    0 0px 0px 1px rgba(0, 0, 0, 0.15),
    inset 0 0 0 1px rgba(255, 255, 255, 0.2);
  background: #fff;
  overflow: hidden;

  ${e=>e.$open&&ln`
      opacity: 1;
      pointer-events: visible;
    `}
`,G1t=Se.div`
  display: flex;
  background: #fff;
  padding: 0.4em;
  align-items: center;

  &:hover {
    background: #f9f9f9;
  }
`,Z1t={available:"#ddd",configured:"#e37266",active:"#4cb235"},Y1t=Se.div`
  margin: 0.2em 0.5em;
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background-color: ${e=>Z1t[e.$status]};
`,X1t=Se.div`
  flex: 1;
  font-size: 0.925em;
  padding: 0.2em;
  text-overflow: ellipsis;
  cursor: pointer;
  white-space: nowrap;
  overflow: hidden;
`,Q1t=Se.div`
  background: #f9f9f9;
  font-size: 0.8em;
`,J1t=Se.div`
  color: #999;
  font-size: 0.8em;
  padding: 0.6em 0.8em;
  border: 2px dashed #f9f9f9;
  border-radius: 5px;
  user-select: none;
  cursor: not-allowed;
`;function ebt({downloadEnabled:e,fileName:t}){const{active:n,configs:r,actions:i,selected:o}=H1t(),s=$n(),a=Px(),l=jRe(),u=r.filter(g=>g.type==="external-manifest-preview"),{isOpen:c,buttonProps:f,itemProps:p}=P4(u.length);return u.length===0?d.jsx(J1t,{children:"Preview not available"}):d.jsxs(d.Fragment,{children:[e?d.jsx("div",{className:"mr-4",children:d.jsx(dvt,{fileName:t||"manifest.json",label:"Download manifest",getData:()=>a.export&&a.export.version===2?JSON.stringify(s.toPresentation2(l),null,2):JSON.stringify(s.toPresentation3(l),null,2)})}):null,d.jsxs(U1t,{children:[d.jsx(W1t,{onClick:()=>{if(!o){const g=a.defaultPreview;if(g){const v=r.find(y=>y.id===g);if(v){i.selectPreview(v.id);return}}i.selectPreview(r[0].id)}i.updatePreviews()},children:"Preview"}),d.jsx(K1t,{$open:c,...f,children:d.jsx(z7,{})}),d.jsx(q1t,{$open:c,children:u.map((g,v)=>{const y=n.indexOf(g.id)===-1;return d.jsxs(G1t,{...p[v],children:[d.jsx(Y1t,{$status:y?"available":g.id===o?"active":"configured"}),d.jsx(X1t,{onClick:()=>{i.selectPreview(g.id)},children:g.label}),y?null:d.jsx(Q1t,{onClick:()=>i.deletePreview(g.id),children:d.jsx(a5,{})})]},g.id)})})]})]})}h.memo(function(t){return B7("menu-hidden"),d.jsx(M1t,{children:d.jsxs(T1t,{children:[d.jsx(L1t,{onClick:t.onClickLogo,children:d.jsx(Lvt,{})}),d.jsx(ebt,{})]})})});h.createContext(null);function jJ(e){if(!e)return null;if(e.points.length>2){const t=Math.min(...e.points.map(o=>o[0])),n=Math.min(...e.points.map(o=>o[1])),r=Math.max(0,...e.points.map(o=>o[0])),i=Math.max(0,...e.points.map(o=>o[1]));return{x:t,y:n,width:r-t,height:i-n}}return null}function Rq(e){return e?{type:"SvgSelector",value:`<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'><g><path d='M${e.points.map(t=>t.join(",")).join(" ")}${e.open?"":" Z"}' /></g></svg>`}:null}function tbt(e){if(e.type==="polygon")return{polygon:{points:e.points||[],open:e.open||!1},requestType:"polygon",boundingBox:jJ({points:e.points||[],open:!1}),target:Rq({points:e.points||[],open:!1})};const t=e.selector;if(t){const n=[[t.x,t.y],[t.x+t.width,t.y],[t.x+t.width,t.y+t.height],[t.x,t.y+t.height]];return{polygon:{points:n,open:!1},requestType:e.type,boundingBox:t,target:Rq({points:n,open:!1})}}return{polygon:{points:[],open:!1},requestType:e.type,boundingBox:null,target:null}}var nbt={shapeId:null,noShape:!0,transitioning:!1,actionIntentType:null,transitionIntentType:null,selectedPoints:[],hasClosestLine:!1,modifiers:{Alt:!1,Shift:!1,Meta:!1,proximity:0},showBoundingBox:!1,currentModifiers:{},validIntentKeys:{},pointerInsideShape:!1,closestPoint:null,transitionModifiers:null,selectedStamp:null,lineMode:!1,lineBoxMode:!1,drawMode:!1,bezierLines:[],boxMode:!1,fixedAspectRatio:!1};function rbt({events:e}){const t=wh((r,i)=>{let o=null;const a=Kyt(null,l=>{r(u=>u.tool.requestId?{polygon:{...l,id:u.tool.requestId}}:{polygon:{id:void 0,points:[],open:!0}})});return{mode:"explore",tool:{enabled:!1,requestId:null,canvasId:null},requestType:null,history:a.history,polygon:null,validRequestIds:[],stableViewport:null,canvasRelativePositions:{},canvasViewports:{},polygons:a,polygonState:nbt,setToolCanvasId:l=>{r(u=>({tool:{...u.tool,canvasId:l}}))},switchTool:{draw(){r({mode:"sketch"}),n.stamps.clear(),n.draw.enable()},polygon(){r({mode:"sketch"}),n.stamps.clear(),n.draw.disable(),n.modes.disableLineBoxMode(),n.modes.disableLineMode()},line(){r({mode:"sketch"}),n.modes.enableLineMode()},lineBox(){r({mode:"sketch"}),n.modes.enableLineBoxMode()},square(){r({mode:"sketch"}),n.stamps.square()},triangle(){r({mode:"sketch"}),n.stamps.triangle()},hexagon(){r({mode:"sketch"}),n.stamps.hexagon()},circle(){r({mode:"sketch"}),n.stamps.circle()},remove(){n.key.down("Backspace")}},reset:()=>{const l=i();l.tool.requestId&&l.cancelRequest(l.tool.requestId)},setPolygonState:l=>r({polygonState:typeof l=="function"?l(i().polygonState):l}),getRequestId:()=>{const l=Math.random().toString(36).slice(2);return r(u=>({validRequestIds:[...u.validRequestIds,l]})),{requestId:l,clear:()=>{i().tool.requestId,r(u=>({tool:u.tool.requestId===l?{enabled:!1,requestId:null,canvasId:null}:u.tool,validRequestIds:u.validRequestIds.filter(c=>c!==l)}))}}},cancelRequest:l=>{r(u=>({mode:"explore",tool:u.tool.requestId===l?{enabled:!1,requestId:null,canvasId:null}:u.tool,validRequestIds:u.validRequestIds.filter(c=>c!==l)})),e.emit("atlas.request-cancelled",{id:l})},requestAnnotation:async(l,u)=>{var f,p;const c=tbt(l);try{const{points:g=[],open:v=!0}=c.polygon||{},{requestId:y,canvasId:S=null,toolId:C}=u,_=i();return!_.validRequestIds.includes(y)||_.tool.enabled?null:(a.setShape({id:y,points:g,open:v}),l.type==="box"&&a.modes.enableBoxMode(),l.type==="target"&&(a.modes.enableBoxMode(),a.modes.lockAspectRatio()),e.emit("atlas.annotation-request",{id:y}),r({polygon:{id:y,points:g,open:v},mode:"sketch",requestType:l.type,tool:{enabled:!0,requestId:y,canvasId:S}}),C?(p=(f=_.switchTool)[C])==null||p.call(f):g.length===0&&_.switchTool.square(),new Promise(w=>{const P=R=>{R.id===y&&(r({mode:"explore",tool:{requestId:null,enabled:!1,canvasId:null}}),e.off("atlas.request-cancelled",P),e.off("atlas.annotation-completed",M),w(null))},M=R=>{R.id===y&&(r({mode:"explore",tool:{requestId:null,enabled:!1,canvasId:null}}),e.off("atlas.annotation-completed",M),e.off("atlas.request-cancelled",P),w(R))};e.on("atlas.request-cancelled",P),e.on("atlas.annotation-completed",M)}))}catch{return null}},completeRequest:l=>{if(typeof l=="string"&&l&&l!==i().tool.requestId)return;const u=i().polygon;u&&e.emit("atlas.annotation-completed",{id:u.id,polygon:u,requestType:i().requestType,target:Rq(u),canvasId:i().tool.canvasId,boundingBox:jJ(u)})},setAtlasRuntime:l=>{o=l,e.emit("atlas.ready",{runtime:l}),o.world.addLayoutSubscriber((u,c)=>{(u==="event-activation"||u==="zoom-to"||u==="go-home")&&o!=null&&o._lastGoodScale&&!Number.isNaN(o._lastGoodScale)&&n.setScale(1/o._lastGoodScale)})},clearAtlasRuntime:()=>{o=null,r({stableViewport:null})},setCanvasRelativePosition:(l,u)=>{r(c=>({canvasRelativePositions:{...c.canvasRelativePositions,[l]:u}}))},clearCanvasRelativePosition:l=>{r(u=>{const c={...u.canvasRelativePositions};return delete c[l],{canvasRelativePositions:c}})},changeMode:l=>{r({mode:l})},nudgeLeft:()=>{},nudgeRight:()=>{},nudgeUp:()=>{},nudgeDown:()=>{},zoomIn:()=>{var l;(l=o==null?void 0:o.world)==null||l.zoomIn()},zoomOut:()=>{var l;(l=o==null?void 0:o.world)==null||l.zoomOut()},goHome:()=>{var l;(l=o==null?void 0:o.world)==null||l.goHome()}}}),n=t.getState().polygons;return e.on("atlas.annotation-request",()=>{n.clock.start((r,i,o)=>{e.emit("atlas.polygon-render",{state:r,slowState:i,dt:o})},t.getState().setPolygonState)}),e.on("atlas.annotation-completed",()=>{n.clock.stop()}),e.on("atlas.request-cancelled",()=>{n.clock.stop()}),t}var ibt=nv(),FRe=h.createContext(ibt);function obt(){return h.useContext(FRe)}function sbt(e,t,n=[]){const r=h.useContext(FRe);h.useEffect(()=>{const i=o=>{t(o)};return r.on(e,i),()=>{r.off(e,i)}},[r,e,...n])}var l5=h.createContext(null);function $x(){return h.useContext(l5)}function abt({children:e}){const t=obt(),n=h.useMemo(()=>rbt({events:t}),[]);return d.jsx(l5.Provider,{value:n,children:e})}var NJ=h.createContext(null),u5=h.createContext(null);function lbt(){return h.useContext(u5)}function vu(){return h.useContext(NJ)}function BRe(){const e=d1(),t=e.layout,n=h.useContext(NJ),r=h.useContext(u5);return h.useMemo(()=>({actions:n,state:r,...t}),[e,r])}var Zle=e=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",height:"1em",width:"1em",viewBox:"0 0 24 24",...e,children:[d.jsx("path",{d:"M0 0h24v24H0z",fill:"none"}),d.jsx("path",{d:"M0 0h24v24H0z",fill:"none"}),d.jsx("path",{d:"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z",fill:"currentColor"})]}),zRe=({style:e})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",height:"1rem",viewBox:"0 0 24 24",width:"1rem",fill:"#000000",style:e,children:[d.jsx("path",{d:"M0 0h24v24H0z",fill:"none"}),d.jsx("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"})]}),ubt=Se.div`
  padding: 0 0.7em;
  margin: 0.7em 0;
  flex: 1;
  overflow: visible;
`;function cbt(e){let t=e.error.toString();return h.useState(!1),d.jsxs(ubt,{children:[d.jsx(s5,{className:"mb-2",children:t}),d.jsx(V1t,{onClick:e.resetErrorBoundary,children:"Try again"})]})}function dbt(e){return e&&e.pinnable}function Dq({initial:e,fallback:t,options:n={}}){return Math.max(n.minWidth||0,Math.min(n.maxWidth||1/0,e||t))}function Oq(e){return typeof e=="string"?h.createElement("div",{dangerouslySetInnerHTML:{__html:e}}):e}var fbt=Se.div`
  position: relative;
  display: inline-block;
`;Se.div`
  display: flex;
  flex-direction: column;
  position: absolute;
  background-color: ${e=>e.theme.color.white||"white"};
  color: ${e=>e.theme.color.black||" black"};
  font-size: 0.75rem;
  min-width: 160px;
  box-shadow: 0px 8px 16px 0px rgba(0, 0, 0, 0.2);
  z-index: 150;
  button {
    &:hover {
      background-color: ${e=>e.theme.color.lightgrey||"lightgrey"};
    }
  }
`;var hbt=Se.button`
  padding: 0 ${e=>e.theme.padding.small||"0.5rem"};
  color: ${e=>e.theme.color.main||"none"};
  background-color: ${e=>e.theme.color.white||"white"};
  border-radius: 0;
  border: none;
  cursor: pointer;
  display: flex;
  padding: 0.65em 1em;
  align-items: center;
  :disabled {
    opacity: 0.65;
    cursor: not-allowed;
  }

  &:hover {
    background-color: ${e=>e.theme.color.lightgrey||"lightgrey"};
  }

  ${e=>e.$active&&ln`
      background: #b84c74;
      color: #fff;
      &:hover {
        background: #b84c74;
        color: #fff;
      }
    `}
`,pbt=Se.div`
  display: none;
  flex-direction: column;
  position: absolute;
  background: #fff;
  color: ${e=>e.theme.color.black||" black"};
  font-size: 0.75rem;
  min-width: 190px;
  top: calc(100% + 0.5em);
  box-shadow:
    0 4px 15px 0 rgba(0, 0, 0, 0.18),
    0 0px 0px 1px rgba(0, 0, 0, 0.15),
    inset 0 0 0 1px rgba(255, 255, 255, 0.2);
  border-radius: 3px;
  z-index: 150;
  overflow: hidden;
  padding-bottom: 3px;

  ${Kd} {
    &:hover {
      background-color: ${e=>e.theme.color.lightgrey||"lightgrey"};
    }
  }

  ${e=>e.$open&&ln`
      display: flex;
    `}
`,mbt=Se.div`
  color: #999;
  text-transform: uppercase;
  font-weight: 600;
  padding: 0.7em;
  font-size: 0.875em;
`,gbt=Se.div`
  height: 1px;
  margin: 0 0.5em;
  background: #eee;
`,vbt="ModularPanel_OverrideScrollbar",HRe=h.createContext(null);function VRe(){return h.useContext(HRe)}var ybt=Se.div`
  display: flex;
  flex-direction: column;
  position: relative;
  height: 100%;
  overflow: hidden;
  transition: transform 300ms;

  &[data-header="false"] {
    border-top: 1px solid #e4e7f0;
  }

  &[data-floating="true"] {
    margin: 10px;
    border-radius: 5px;
    overflow: hidden;
    background: #fff;
  }

  &[data-state="entering"],
  &[data-state="entered"] {
    transform: translateX(0);
  }

  &[data-state="exiting"],
  &[data-state="exited"] {
    transform: translateX(100%);
  }

  &[data-state="exiting"][data-flipped="true"],
  &[data-state="exited"][data-flipped="true"] {
    transform: translateX(0);
  }

  &[data-state="exiting"][data-flipped="false"],
  &[data-state="exited"][data-flipped="false"] {
    transform: translateX(100%);
  }

  &[data-state="entering"][data-flipped="true"],
  &[data-state="entered"][data-flipped="true"] {
    transform: translateX(0);
  }

  &[data-state="entering"][data-flipped="false"],
  &[data-state="entered"][data-flipped="false"] {
    transform: translateX(100%);
  }

  &[data-state="unmounted"] {
    transform: translateX(100%);
  }
`,URe=Se.div`
  background: #fff;
  display: flex;
  height: 2.8em;
  align-items: center;
  z-index: 2;

  &[data-tabs="true"] {
    box-shadow: inset 0 1px 0 0 rgba(0, 0, 0, 0.17);
  }

  &[data-tabs="false"] {
    box-shadow:
      inset 0 -1px 0 0 rgba(0, 0, 0, 0.17),
      inset 0 1px 0 0 rgba(0, 0, 0, 0.17);
  }

  &[data-error="true"] {
    color: #b61717;
    background: #ffc2d2;
    box-shadow: inset 0 -5px 10px 0 rgba(255, 255, 255, 0.5);
  }
`,o2=Se.button`
  border: none;
  background: transparent;
  padding: 0 0.4em;
  margin: 0.3em;
  border-radius: 3px;
  &:hover {
    background: #eee;
  }
  svg {
    font-size: 1.2em;
  }
`,bbt=Se.div`
  flex: 1 1 0px;
`,Yle=Se.div`
  font-size: 0.875em;
  flex: 1 1 0px;
  padding-left: 1em;
  text-align: center;
  align-self: center;
`,wbt=Se.div`
  flex: 1 1 0px;
  display: flex;

  min-height: 0;
  overflow-y: auto;
  overflow-x: hidden;

  > * {
    min-width: 0;
  }
`;function GF({panel:e,state:t,actions:n,isLeft:r,pinActions:i=n,transition:o,close:s,available:a=[],style:l,noHeader:u}){const c=h.useContext(a3)||null,[f,p]=h.useState(!1),g=RJ(),v=BRe(),{tabs:y,pinnable:S,hideHeader:C}=(e==null?void 0:e.options)||{},_=[g.state.canvasId,e==null?void 0:e.id],k=h.useMemo(()=>(a||[]).filter(se=>!se.requiresState),[a]),{itemProps:w,isOpen:P,setIsOpen:M}=P4(k.length),[R,D]=h.useState(""),H=h.useRef();h.useEffect(()=>p(!1),_),h.useEffect(()=>D(""),[e]),h.useEffect(()=>(H.current=D,()=>{H.current=void 0}),[]);const O=h.useCallback(se=>{H.current&&H.current(se)},[]),z=h.useCallback(se=>{const B=e?t.stack.length?n.popStack:e.backAction?()=>e&&e.backAction&&e.backAction(t,{...v,current:n},g):null:null;se&&(!B||se.metaKey)&&k.length?(se.preventDefault(),M(!0)):B&&B()},[n,g,v,e,M,t,k.length]),G=se=>{n.change({id:se.id,state:se.defaultState,stacked:!!(t.stack.length||e!=null&&e.backAction)})};if(!e||!t.current)return null;const ee=e.backAction||t.stack.length?d.jsx(o2,{onClick:z,children:d.jsx(zRe,{})}):null,X=d.jsx(o2,{onClick:s||n.close,children:d.jsx(a5,{})});return d.jsx(HRe.Provider,{value:O,children:d.jsxs(ybt,{"data-state":o,"data-flipped":r,style:l,"data-header":!u,children:[u?null:d.jsxs(URe,{"data-tabs":!!y,"data-error":f,children:[d.jsxs(fbt,{style:{display:"flex",height:"100%"},children:[e.renderBackAction?e.renderBackAction({backAction:z,fallback:ee}):ee,k.length?d.jsxs(pbt,{$open:P,style:{left:"0.5em"},children:[d.jsx(mbt,{children:"All panels"}),d.jsx(gbt,{}),k.map((se,B)=>d.jsx(hbt,{...w[B],onClick:()=>G(se),$active:e.id===se.id,children:se.label},B))]}):null]}),R?d.jsx(Yle,{children:R}):C?d.jsx(bbt,{}):d.jsx(Yle,{children:e.label}),S?t.pinned?d.jsx(o2,{onClick:i.unpin,children:d.jsx(Zle,{fill:"orange"})}):d.jsx(o2,{onClick:()=>i.pin({id:e.id,state:t.state}),children:d.jsx(Zle,{fill:"#ddd"})}):null,e.renderCloseAction?e.renderCloseAction({closeAction:s||n.close,fallback:X}):X]}),d.jsx(wbt,{className:vbt,children:d.jsx(DT,{onError:()=>p(!0),FallbackComponent:cbt,resetKeys:_,onReset:()=>p(!1),children:Oq(e.render(t.state||e.defaultState||{},{...v,current:n,vault:c,transition:o},g))})})]})})}function xbt(e,t,n){var r;return`create_${e}_${t}_${((r=Oi(n))==null?void 0:r.type)||"unknown"}`}function OM(e,t,n="text/json"){const r=e instanceof Blob?e:new Blob([e],{type:n}),i=document.createElement("a");i.download=t,i.href=window.URL.createObjectURL(r);const o=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0});i.dispatchEvent(o),i.remove()}async function Xle(e){return navigator.clipboard.writeText(typeof e=="string"?e:JSON.stringify(e,null,2))}function Sbt(){return`${Math.random().toString(36).substr(2)}-${Date.now().toString(36)}`}function WRe(e,t){const{default:n,config:r,...i}=e;return{metadata:n,layout:{leftPanels:[],rightPanels:[],centerPanels:[],...i},config:r}}var A4=YO(e=>({regions:{},resources:[],setRegion:(t,n)=>{e(r=>({...r.regions,regions:{[t]:n||null}}))},setHighlight:t=>{e({resources:Array.isArray(t)?t:[t]})},highlight:t=>{e(n=>n.resources.indexOf(t)!==-1?n:{resources:[...n.resources,t]})},clearHighlight:t=>{e(n=>({resources:n.resources.filter(r=>r!==t)}))}}));function _bt(e){const t=h.useMemo(()=>Sbt(),[]),n=A4(i=>i.regions[t]),r=A4(i=>i.setRegion);h.useEffect(()=>{n&&e?n!==e&&(n.x!==e.x||n.y!==e.y||n.width!==e.width||n.height!==e.height)&&r(t,e||null):r(t,e||null)},[n]),h.useEffect(()=>()=>r(t,null),[])}function Cbt(e){const t=A4(r=>r.highlight),n=A4(r=>r.clearHighlight);return h.useEffect(()=>()=>{e&&n(e)},[n,e]),h.useMemo(()=>({onMouseEnter(){e&&t(e)},onMouseLeave(){e&&n(e)}}),[e,t,n])}function Ebt(e="vault://homepage-collection.json"){const t=new fh,n=window.localStorage.getItem("preview-vault-collection");let r=!1;if(n)try{const a=JSON.parse(n);if(a.id&&a.id===e){t.dispatch(vU({id:a.id}));const l=bU(a.id,a);t.dispatch(xC({actions:l})),r=!0}}catch{}if(!r){const a=bU(e,{"@context":"http://iiif.io/api/presentation/3/context.json",id:e,type:"Collection",label:{en:["Recent items"]},items:[]});t.dispatch(vU({id:e})),t.dispatch(xC({actions:a}))}const i=()=>{t.dispatch(D_e({id:e,type:"Collection",key:"items",value:[]})),window.localStorage.setItem("preview-vault-collection",JSON.stringify(t.toPresentation3({id:e,type:"Collection"})))},o=(a,l)=>{const u=t.getState();if(a&&l&&(l==="Collection"||l==="Manifest")){const c=u.iiif.entities.Collection[e];if(c){const f=c.items.findIndex(p=>p.id===a);f===-1?t.dispatch(zR({id:e,type:"Collection",reference:{id:a,type:l},key:"items",index:0})):t.dispatch(O_e({id:e,type:"Collection",key:"items",startIndex:f,endIndex:0})),window.localStorage.setItem("preview-vault-collection",JSON.stringify(t.toPresentation3({id:e,type:"Collection"})))}}};return t.on("after:@iiif/REMOVE_REFERENCE",a=>{a.action.payload.id===e&&window.localStorage.setItem("preview-vault-collection",JSON.stringify(t.toPresentation3({id:e,type:"Collection"})))}),{vault:t,unsubscribe:()=>{},addHistory:o,clearHistory:i}}function KRe(){return h.useContext(qRe)}var qRe=h.createContext(new fh),kbt=h.createContext({addHistory:(e,t)=>{},clearHistory:()=>{}}),Pbt="manifest-editor://homepage-collection.json";function $bt(e){const{vault:t,unsubscribe:n,addHistory:r,clearHistory:i}=h.useMemo(()=>Ebt(Pbt),[]);return h.useEffect(()=>n,[]),d.jsx(kbt.Provider,{value:{addHistory:r,clearHistory:i},children:d.jsx(qRe.Provider,{value:t,children:e.children})})}function FJ({children:e}){const t=KRe();return d.jsx(Ip,{vault:t,children:e})}function ed(e,t,n,r,i){const o=$n(),s=d1(),{create:a,edit:l}=vu(),u=h.useMemo(()=>IJ({type:n,parent:e,index:0,property:t},s.layout.creators||[],{vault:o}),[e,t,s.layout.creators,n,o]),c=e&&u.length!==0,f=h.useCallback((S,C)=>{e&&a({type:n,parent:Oi(e),property:t,index:S,target:r,initialData:C,...i||{}})},[a,e,t,n,i,r]),p=h.useCallback((S,C,_)=>{e&&a({type:n,filter:S,parent:Oi(e),property:t,index:C,target:r,initialData:_,...i||{}})},[a,e,t,n,i,r]),g=h.useCallback((S,C)=>{l(S,e?{parent:Oi(e),property:t,index:C}:void 0)},[l,e,t]),v=h.useCallback((S,C)=>{e&&a({type:n,initialCreator:S,parent:Oi(e),property:t,target:r,initialData:C,...i||{}})},[n,t,e,r,a,i]),y=h.useMemo(()=>({"data-action-id":xbt(n,t,e)}),[n,t,e]);return[c,{create:f,edit:g,createFiltered:p,creator:v,buttonProps:y}]}function BJ(){const e=$n(),t=KRe(),n=d1();return h.useMemo(()=>new x1t(e,n.layout.creators||[],t),[n.layout.creators,e])}var Qle=h.memo(function(t){var S;const n=$n(),{edit:r,modal:i}=vu(),[o,s]=h.useState(!1),[a,l]=h.useState(null),u=BJ(),c=h.useRef(!1),f=(S=t.resource.initialData)==null?void 0:S.selector;_bt(f);const p={targetType:t.resource.type,parent:t.resource.parent?{property:t.resource.property,atIndex:t.resource.index,resource:t.resource.parent}:void 0,target:t.resource.target,initialData:t.resource.initialData},g=C=>{try{if(o||c.current)return;s(!0),c.current=!0,u.create(t.creator.id,C,p).catch(_=>(l((_==null?void 0:_.message)||"Unknown error"),null)).then(async _=>{if(!_)return;const k=Array.isArray(_)?_[0]:_;s(!1),i.popStack(),i.close(),k&&r(k,{parent:Oi(t.resource.parent),property:t.resource.property,index:t.resource.index})})}catch(_){l((_==null?void 0:_.message)||"Unknown error")}},v=async()=>!0;if(h.useEffect(()=>{!t.creator.render&&!o&&g({})},[t.creator]),a)return d.jsx("div",{className:"flex flex-col items-center p-4",children:d.jsx(s5,{children:a})});const y=d.jsx("div",{className:"flex flex-col items-center py-8",children:d.jsxs("div",{className:"flex gap-2 items-center",children:[d.jsx(QIe,{})," ",d.jsx("span",{children:"Loading"})]})});return o?y:t.creator.render?d.jsx(d.Fragment,{children:d.jsx(h.Suspense,{fallback:y,children:t.creator.render({vault:n,runCreate:g,validate:v,options:p})})}):d.jsx("div",{children:d.jsx(Kd,{onClick:()=>g({}),children:"Create"})})});function Tbt(e){const t=d1(),n=$n(),[r,i]=h.useState(e.resource.initialCreator||""),o=VRe(),s=h.useMemo(()=>IJ(e.resource,t.layout.creators||[],{vault:n}),[e.resource,t.layout.creators,n]);s.length===1&&!r&&i(s[0].id);const a=s.find(u=>u.id===r);if(h.useEffect(()=>{a&&(o==null||o(a.label))}),s.length===0)return d.jsx("div",{children:"Not currently supported"});const l=d.jsx(svt,{children:d.jsx(Ld,{root:document.getElementById("headlessui-portal-root")||void 0,label:"Back to Add content options",className:"group",placement:"right",onPress:()=>i(""),children:d.jsx(Jvt,{className:"text-2xl opacity-50 group-hover:opacity-70"})})});return a?a.hiddenModal?d.jsxs(d.Fragment,{children:[l,d.jsx(Qle,{creator:a,resource:e.resource})]}):d.jsxs("div",{children:[l,d.jsx("div",{className:"p-2 py-6",children:d.jsx(Qle,{creator:a,resource:e.resource})})]}):d.jsx(lvt,{label:"Select a type",items:s.map(u=>({id:u.id,title:u.label,description:u.summary||"",icon:u.icon,onClick:()=>i(u.id)}))})}var GRe={id:"@manifest-editor/creator",label:"Add content",options:{hideHeader:!0,tabs:!1},render(e){return d.jsx(Tbt,{resource:e})}};function Mbt(e,t){var n,r,i,o,s,a,l;switch(t.type){case"edit":{let u=t.payload.reset;return(((r=(n=t.payload.resource)==null?void 0:n.resource.source)==null?void 0:r.type)==="Manifest"||((o=(i=t.payload.resource)==null?void 0:i.resource.source)==null?void 0:o.type)==="Canvas")&&(u=!0),((s=e.current)==null?void 0:s.resource.source.id)===((a=t.payload.resource)==null?void 0:a.resource.source.id)?{...e,current:t.payload.resource}:{...e,current:t.payload.resource,stack:u?[]:e.current?[e.current,...e.stack]:e.stack}}case"syncRemoval":{const u=Oi(t.payload.resource.resource);if(!u||!e.stack.find(g=>{var v;return((v=Oi(g.resource))==null?void 0:v.id)===u.id}))return e;const f=((l=e.current)==null?void 0:l.resource.id)===u.id?null:e.current,p=Lbt(e.stack.filter(g=>{var v;return((v=Oi(g.resource))==null?void 0:v.id)!==u.id}),f);return{...e,stack:p,current:f}}case"updateCurrent":return{...e,current:t.payload.resource};case"back":{const u=e.stack[0];return{...e,stack:e.stack.slice(1),current:u||null}}case"close":return{...e,stack:[],current:null};case"create":return t.payload.resource===null?{...e,create:null}:{...e,create:t.payload}}return e}function Lbt(e,t){const n=[];let r=null;for(const i of e)(r==null?void 0:r.resource.id)!==i.resource.id&&(n.push(i),r=i);return r&&r.resource.id===(t==null?void 0:t.resource.id)?n.slice(0,n.length-1):n}var ZRe={stack:[],current:null,create:null},zJ=h.createContext(ZRe),YRe=h.createContext({edit(){},close(){},back(){},updateCurrent(){},create(){return()=>{}}});function XRe(){return h.useContext(YRe)}function fd(){return h.useContext(zJ).current}function HJ(){return h.useContext(zJ).stack}function H7(){const{manifest:e}=xh(),t=$n(),[n,r]=h.useReducer(o=>o+1,0);$l(e,"Manifest not found");const i=h.useMemo(()=>new _3({reference:{id:e,type:"Manifest"},vault:t}),[e,t]);return h.useEffect(()=>i.observe.start(r),[i]),i.observe.key=`${n}`,i.observe.reset(),i}function VJ(){const{collection:e}=xh(),t=$n(),[n,r]=h.useReducer(o=>o+1,0);$l(e,"Collection not found");const i=h.useMemo(()=>new _3({reference:{id:e,type:"Collection"},vault:t}),[e,t]);return h.useEffect(()=>i.observe.start(r),[i]),i.observe.key=`${n}`,i.observe.reset(),i}function Tx(e,t={}){const n=$n(),[r,i]=h.useReducer(s=>s+1,0);$l(e,"Resource not found");const o=h.useMemo(()=>new _3({reference:Oi(e),vault:n,context:{resource:e,parent:t.parent,index:t.index,parentProperty:t.parentProperty}}),[e,n]);return h.useEffect(()=>o.observe.start(i),[o]),o.observe.key=`${r}`,o.observe.reset(),o}function Abt(){const{annotationPage:e}=xh();return $l(e,"Annotation page not found"),Tx({id:e,type:"AnnotationPage"})}function hc(){const e=fd(),t=$n(),[n,r]=h.useReducer(o=>o+1,0);$l(e,"No resource selected");const i=h.useMemo(()=>new _3({reference:e.resource.source||e.resource,vault:t}),[e,t]);return h.useEffect(()=>i.observe.start(r),[i]),i.observe.key=`${n}`,i.observe.reset(),i}function Ibt(e){const t=$n(),[n,r]=h.useReducer(Mbt,ZRe),i=h.useCallback(p=>{r(p)},[]);h.useEffect(()=>t.on("@iiif/REMOVE_REFERENCE",p=>{const g=p.action,v={id:g.payload.id,type:g.payload.type},y=g.payload.reference;r({type:"syncRemoval",payload:{resource:{parent:v,resource:y}}})}),[t]);const o=h.useCallback((p,g=!1)=>i({type:"edit",payload:{resource:p,reset:g}}),[]),s=h.useCallback(p=>i({type:"updateCurrent",payload:{resource:p}}),[]),a=h.useCallback(()=>i({type:"close"}),[]),l=h.useCallback(()=>i({type:"back"}),[]),u=h.useCallback((p,g)=>(i({type:"create",payload:{resource:p,options:g}}),()=>{i({type:"create",payload:{resource:null}})}),[]),c=h.useMemo(()=>({edit:o,updateCurrent:s,close:a,back:l,create:u}),[]),{instanceId:f}=k1t();return d.jsx(YRe.Provider,{value:c,children:d.jsx(zJ.Provider,{value:n,children:e.children})},f)}function Rbt({fallback:e,backAction:t}){const n=HJ(),{back:r}=XRe();return n.length?d.jsx(o2,{onClick:r,children:d.jsx(zRe,{})}):e}function Dbt({closeAction:e,fallback:t}){const n=HJ();return fd()||n.length?d.jsx(o2,{onClick:()=>{e()},children:d.jsx(a5,{})}):t}function Obt(e,t,n,r){const i=t.filter(o=>o.resourceType===e.resource.source.type);if(i.length===0)return null;for(const o of i){const s=[],a={},l=(o.editors||[]).filter(c=>{if(r.hideTabs&&r.hideTabs.includes(c.id)||r.onlyTabs&&!r.onlyTabs.includes(c.id))return!1;if(c.supports.sortKey){if(s.includes(c.supports.sortKey))return!1;c.supports.sortFallback&&(a[c.supports.sortKey]=c)}return!c.supports.edit||c.supports.custom&&c.supports.custom(e,n.vault)===!1?!1:(c.supports.sortKey&&s.push(c.supports.sortKey),!0)}),u=Object.keys(a);for(const c of u)!s.includes(c)&&a[c]&&!l.includes(a[c])&&l.push(a[c]);if(l.length)return{...o,editors:l}}return null}function jbt({currentTab:e=void 0}){var p,g,v,y;const t=fd(),n=h.useContext(_4),r=d1(),i=$n(),{change:o}=vu(),s=VRe(),{editorConfig:a}=Px(),l=((p=t==null?void 0:t.resource.source)!=null&&p.type?a[(g=t==null?void 0:t.resource.source)==null?void 0:g.type]:a.All)||{},u=h.useMemo(()=>{const S={...n},C=t==null?void 0:t.resource.source.id,_=t==null?void 0:t.resource.source.type,k={Collection:"collection",Manifest:"manifest",Range:"range",Canvas:"canvas",Annotation:"annotation",AnnotationPage:"annotationPage"};return _&&k[_]&&(S[k[_]]=C),S},[t,n]);function c(S){return t?d.jsx(_4.Provider,{value:u,children:S}):S}const f=h.useMemo(()=>{if(!t)return null;const S=r.layout.editors||[],_=(r.layout.resources||[]).map(k=>typeof k=="string"?{id:"@default/"+k,label:k,resourceType:k,auto:!0,editors:S.filter(w=>w.supports.resourceTypes.includes(k))}:k);return Obt(t,_,{edit:!0,vault:i},l)},[t,r]);if(h.useEffect(()=>{s((f==null?void 0:f.label)||"")}),h.useEffect(()=>{const S=(f==null?void 0:f.editors.map((_,k)=>_.id+k))||[];S.find(_=>_===e)||o("@manifest-editor/editor",{currentTab:S[0]})},[f==null?void 0:f.editors,e,o]),!t||!f)return null;if(l.singleTab){const S=((f==null?void 0:f.editors)||[]).find(C=>C.id===l.singleTab);if(S)return c(d.jsx("div",{className:"w-full",children:S.component(l)},(v=t.resource.source)==null?void 0:v.id))}return c(d.jsx($vt,{menuId:t.resource.source.id,menu:((f==null?void 0:f.editors)||[]).map((S,C)=>({id:S.id+C,label:S.label,renderComponent:()=>S.component(l)})),selectedKey:e,onSelectionChange:S=>{o("@manifest-editor/editor",{currentTab:S})}},(y=t.resource.source)==null?void 0:y.id))}var QRe={id:"@manifest-editor/editor",label:"Editor",options:{hideHeader:!0,tabs:!0,minWidth:400},renderBackAction:({backAction:e,fallback:t})=>d.jsx(Rbt,{backAction:e,fallback:t}),renderCloseAction:({closeAction:e,fallback:t})=>d.jsx(Dbt,{closeAction:e,fallback:t}),render({currentTab:e}){return d.jsx(jbt,{currentTab:e})}};function Nbt(e){const[t,n]=h.useState(!1),r=h.useRef(),i=h.useRef(0);function o(a){i.current--,!(a&&i.current!==0)&&(r.current&&(clearTimeout(r.current),r.current=0),r.current=setTimeout(()=>{n(!1)},e))}function s(){i.current++,r.current&&clearTimeout(r.current),n(!0)}return h.useMemo(()=>[t,{set:s,clear:o}],[t])}var jM={CenterPanelContainer:"CenterPanelContainer_CenterPanelContainer",CenterPanelHeader:"CenterPanelContainer_CenterPanelHeader",CenterPanelClose:"CenterPanelContainer_CenterPanelClose",CenterPanelTitle:"CenterPanelContainer_CenterPanelTitle"};function Fbt(e){return d.jsxs("div",{className:jM.CenterPanelContainer,children:[e.title||e.close?d.jsxs("div",{className:jM.CenterPanelHeader,children:[e.title?d.jsx("h2",{className:jM.CenterPanelTitle,children:e.title}):null,e.close?d.jsx(Kd,{className:jM.CenterPanelClose,onClick:e.close,children:d.jsx(a5,{})}):null]}):null,e.children]})}var Bbt=Se.div`
  flex: 1;
  display: flex;
  width: 100%;
  flex-direction: column;
  position: relative;
`,zbt=Se.div`
  background: #fff;
  position: relative;
  border-bottom: 1px solid #d0d0d0;
  border-top: 1px solid #d0d0d0;

  & ~ & {
    border-top: none;
  }

  &[data-large="true"] {
    background: #f7f7f7;
    border: none;
    margin-bottom: 1em;
    //display: flex;
    //flex-direction: column;
    //justify-content: center;
  }
`,Hbt=Se.p`
  font-size: 0.9em;
  color: #777;
  font-weight: 400;
`,Vbt=Se.button`
  color: inherit;
  text-rendering: geometricPrecision;
  border: none;
  text-align: left;
  background: transparent;
  font: inherit;
  text-transform: uppercase;
  padding: 0.6em 1.2em;
  flex: 1;
  font-size: 0.8em;
  font-weight: 600;
  white-space: nowrap;
  text-overflow: ellipsis;
  min-width: 0;
  overflow: hidden;

  &:focus {
    outline: none;
  }

  p {
    display: none;
  }

  [data-large="true"] & {
    //padding: 1.5em;
    padding: 0.85em 1.25em;
    display: block;
    text-transform: initial;
    font-size: 1em;
    margin-bottom: 0;
    color: #000;

    p {
      display: block;
      color: #999;
      font-size: 0.9em;
      margin: 0;
      margin-top: 0.5em;
    }
  }
`,Ubt=Se.div`
  font-size: 1.4em;
  padding-right: 0.3em;
  display: flex;
  align-items: center;

  [data-large="true"] & {
    font-size: 2em;
  }
`,Wbt=Se.div`
  width: 2em;
  align-items: center;
  //padding-top: 0.5em;
  display: flex;
  justify-content: center;
  margin-left: 1.5em;
  svg {
    width: 1.75em;
    height: 1.75em;
    fill: #999;
    color: #999;
  }
`,Kbt=Se.div`
  min-height: 0;
  overflow: visible;
  display: flex;
`,qbt=Se.div`
  min-height: 0;
  overflow: visible;
  flex: 1;
  padding: 1em 1em 1.5em;

  &[data-full="true"] {
    margin: 0;
  }

  &[data-max-height="true"] {
    overflow-y: auto;
  }
`,Gbt=Se.section`
  display: grid;
  grid-template-rows: 0fr;
  overflow: hidden;
  opacity: 0;
  visibility: hidden;

  [data-open="true"] & {
    opacity: 1;
    grid-template-rows: 1fr;
    visibility: visible;
    &[data-overflow="true"] {
      overflow: visible;
    }
  }

  transition:
    all 0.4s,
    visibility 0.8s;

  &[data-has-icon="true"] {
    padding-left: 4em;
  }

  box-shadow: inset 0px 2px 0px 0 rgba(0, 0, 0, 0);
  &[data-scrolled="true"] {
    box-shadow: inset 0px 2px 0px 0 rgba(0, 0, 0, 0.1);
  }
`,Zbt=Se.div`
  position: sticky;
  display: flex;
  top: 0;
  background: #fff;
  min-width: 0;
  width: 100%;
  color: #757575;
  z-index: 1;
  &:hover {
    color: #333;
  }

  [data-large="true"] & {
    border: 1px solid #d0d0d0;
    &:after {
      display: none;
    }
  }

  [data-large="true"]:focus-within & {
    border-color: #3579f6;
  }

  [data-open="true"] & {
    color: #333;
    &:after {
      content: "";
      height: 1px;
      background: #eee;
      position: absolute;
      top: 100%;
      left: 0.5em;
      right: 0.5em;
    }
  }
`,Ybt=()=>{},Xbt=0;function Qbt(){return h.useMemo(()=>Xbt++,[])}function Jbt(e,t=!1){const[n,r]=h.useState([]),i=h.useRef(-1),o=v=>{var C,_,k,w;const y=document.activeElement,S=n.findIndex(P=>{var M,R;return((R=(M=P.current)==null?void 0:M.button)==null?void 0:R.current)===y});if(S!==-1)switch(v.code){case"Home":{n[0]&&((C=n[0].current)==null||C.focus());break}case"End":{const P=e-1;n[P]&&((_=n[P].current)==null||_.focus());break}case"ArrowDown":{if(S!==e-1){const P=S+1;n[P]&&((k=n[P].current)==null||k.focus())}break}case"ArrowUp":{if(S!==0){const P=S-1;n[P]&&((w=n[P].current)==null||w.focus())}break}case"ArrowLeft":{const P=n[S];P&&P.current&&P.current.close();break}case"ArrowRight":{const P=n[S];P&&P.current&&P.current.open();break}}},s=(v,y)=>{var S;if(t&&y&&v!==i.current){i.current=v;for(let C=0;C<n.length;C++){const _=n[C];C!==v&&((S=_.current)==null||S.close())}}};return h.useEffect(()=>{r(v=>Array(e).fill(0).map((y,S)=>v[S]||h.createRef()))},[e]),{open:v=>{const y=n[v];y&&y.current&&y.current.open()},close:v=>{const y=n[v];y&&y.current&&y.current.close()},toggle:v=>{const y=n[v];y&&y.current&&y.current.toggle()},focus:v=>{const y=n[v];y&&y.current&&y.current.focus()},openAll:()=>{var v;for(let y=0;y<n.length;y++)(v=n[y].current)==null||v.open()},closeAll:()=>{var v;for(let y=0;y<n.length;y++)(v=n[y].current)==null||v.close()},onKeyDown:o,getItemProps:v=>({ref:n[v],onChange:y=>s(v,y)})}}var ewt=h.forwardRef(function(t,n){const r=h.useRef(null),i=h.useRef(null),o=Qbt(),[s,a]=h.useState(t.initialOpen||!1),l=t.onChange||Ybt,u=()=>{l(!s),a(v=>!v)},c=t.maxHeight,[f,p]=h.useState(!1);h.useImperativeHandle(n,()=>({open(){l(!0),a(!0)},close(){l(!1),a(!1)},toggle(){u()},focus(){i.current&&i.current.focus()},button:i}));const g=v=>{v.target.scrollTop>0?p(!0):p(!1)};return d.jsxs(zbt,{"data-large":t.large,"data-open":s,children:[d.jsxs(Zbt,{"data-open":s,children:[t.icon?d.jsx(Wbt,{onClick:u,children:t.icon}):null,d.jsxs(Vbt,{ref:i,onClick:u,"aria-expanded":s,"aria-controls":`accordion-${o}`,children:[t.label,t.description?d.jsx(Hbt,{children:t.description}):null]}),d.jsx(Ubt,{onClick:u,children:d.jsx(z7,{width:"1em",height:"1em",rotate:s?0:180})})]}),d.jsx(Gbt,{"aria-labelledby":`accordion-${o}`,"aria-hidden":!s,"data-overflow":!!t.overflow,"data-has-icon":!!t.icon,onScroll:g,ref:r,$initial:!s,"data-scrolled":f,hidden:!s,children:d.jsx(Kbt,{children:d.jsx(qbt,{"data-max-height":!!c,"data-full":t.fullWidth,style:{maxHeight:c||void 0},children:t.children})})})]})});function twt(e){const{getItemProps:t,onKeyDown:n}=Jbt(e.items.length,e.singleMode);return d.jsx(Bbt,{onKeyDown:n,children:e.items.map((r,i)=>d.jsx(ewt,{overflow:e.overflow,maxHeight:e.maxHeight,...r,...t(i),children:r.children},i))})}function Jle(){return d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"48",viewBox:"0 -960 960 960",width:"48",children:d.jsx("path",{d:"M220-160q-24 0-42-18t-18-42v-143h60v143h520v-143h60v143q0 24-18 42t-42 18H220Zm260-153L287-506l43-43 120 120v-371h60v371l120-120 43 43-193 193Z"})})}var eue=Se.div`
  padding: 0.3em;

  display: flex;
  background: #e4e7ef;
  border-radius: 3px;
  margin: 0.3em 0;
  gap: 0.3em;

  button,
  a {
    //

    & ~ & {
      margin-left: 0.3em;
    }
  }

  &[data-sticky="true"] {
    position: sticky;
    bottom: 0;
  }
`;function JRe(e){const t=Li(),n=$n(),r=vu(),i=h.useMemo(()=>JSON.stringify(n.toPresentation3(t),null,2),[t,n]),o=h.useMemo(()=>JSON.stringify(n.toPresentation2(t),null,2),[t,n]);return d.jsx(Fbt,{title:"Export manifest",close:r.centerPanel.popStack,children:d.jsx("div",{style:{flex:1,overflowY:"auto"},children:d.jsx(twt,{items:[{label:"Presentation 3",description:'Download this version by clicking the "Download" button.',maxHeight:400,large:!0,initialOpen:!0,overflow:!0,icon:d.jsx(Kd,{onClick:()=>OM(i,"manifest.json"),children:d.jsx(Jle,{})}),children:d.jsxs("div",{style:{maxWidth:"100%"},children:[d.jsx("pre",{style:{whiteSpace:"pre-wrap"},children:JSON.stringify(n.toPresentation3(t),null,2)}),d.jsxs(eue,{"data-sticky":"true",children:[d.jsx(Kd,{onClick:()=>Xle(i),children:"Copy to clipboard"}),d.jsx(Kd,{onClick:()=>OM(i,"manifest.json"),children:"Download"})]})]})},{label:"Presentation 2",description:'Download this version by clicking the "Download" button.',maxHeight:400,large:!0,icon:d.jsx(Kd,{onClick:()=>OM(o,"manifest.json"),children:d.jsx(Jle,{})}),children:d.jsxs("div",{style:{maxWidth:"100%"},children:[d.jsx("pre",{style:{whiteSpace:"pre-wrap"},children:JSON.stringify(n.toPresentation2(t),null,2)}),d.jsxs(eue,{"data-sticky":"true",children:[d.jsx(Kd,{onClick:()=>Xle(o),children:"Copy to clipboard"}),d.jsx(Kd,{onClick:()=>OM(o,"manifest.json"),children:"Download"})]})]})}]})})})}function nwt(e){return d.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 42 42",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",...e,children:d.jsxs("g",{transform:"translate(2 2)",strokeWidth:5,fill:"none",fillRule:"evenodd",children:[d.jsx("circle",{strokeOpacity:.5,cx:18,cy:18,r:18}),d.jsx("path",{d:"M36 18c0-9.94-8.06-18-18-18",children:d.jsx("animateTransform",{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"1s",repeatCount:"indefinite"})})]})})}var hS={ghostLoadingBlock:"GhostBlocks_ghostLoadingBlock","ghost-loading":"GhostBlocks_ghost-loading",ghostBlockList:"GhostBlocks_ghostBlockList"};function tue(){return d.jsxs(d.Fragment,{children:[d.jsx("div",{"data-header":"true",className:hS.ghostLoadingBlock}),d.jsxs("div",{className:hS.ghostBlockList,children:[d.jsx("div",{className:hS.ghostLoadingBlock}),d.jsx("div",{className:hS.ghostLoadingBlock}),d.jsx("div",{className:hS.ghostLoadingBlock}),d.jsx("div",{className:hS.ghostLoadingBlock})]})]})}function rwt(e,t=[]){const n=t.length?t:Array(e.length).fill(!1);if(typeof window>"u")return n;const r=e.map(a=>window.matchMedia(a)),i=()=>r.map(l=>l.matches),[o,s]=h.useState(i);return h.useLayoutEffect(()=>{const a=()=>s(i);return r.forEach(l=>l.addListener(a)),()=>r.forEach(l=>l.removeListener(a))},[]),o}var iwt=Se.div`
  position: relative;
  display: flex;
  flex: 1;
  overflow: hidden;
  flex-direction: column;
`,owt=Se.div`
  flex: 1;
  position: relative;
  z-index: 7;
`,swt=Se.div`
  display: flex;
  justify-content: space-around;
  width: 100%;
  background: #fff;
  border-top: 1px solid #cbcbcb;
  padding: 0.5em;
  height: 3.4rem;
`,awt=Se.button`
  //background: red;
  padding: 0.5em 1em;
  width: 32%;

  border-radius: 5px;
  border: none;
  background: #ffffff;
`,lwt=Se.button`
  padding: 0.5em 1em;
  width: 32%;

  border-radius: 5px;

  background: #5e59c2;
  border: 1px solid rgba(0, 0, 0, 0.21);
  color: #ffffff;
`,uwt=Se.div`
  position: relative;
  width: 32%;
  margin: 0 0.75em;
  z-index: 9;
`,cwt=Se.button`
  padding: 0.4em 1em 0.65em;
  position: absolute;
  width: 100%;
  bottom: 1em;
  background: #ffffff;
  box-shadow: 0 3px 18px 0 rgba(0, 0, 0, 0.04);
  border-radius: 5px;
  border: 1px solid #979797;
  letter-spacing: -0.46px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;

  svg {
    display: block;
    margin: auto;
    font-size: 1.8em;
  }
`,dwt=Se.div`
  background: #fff;
  display: flex;
  position: absolute;
  transform: translateY(100%);
  overflow-y: auto;
  left: 0;
  right: 0;
  top: 7em;
  z-index: 10;
  box-shadow:
    0 -5px 15px 0 rgba(0, 0, 0, 0),
    0 -3px 5px 0 rgba(0, 0, 0, 0);
  bottom: 0;
  transition:
    0.3s transform ease-in-out,
    0.3s box-shadow;
  ${e=>e.$open&&ln`
      box-shadow:
        0 -5px 15px 0 rgba(0, 0, 0, 0.1),
        0 -3px 5px 0 rgba(0, 0, 0, 0.1);
      transform: translateY(0);
    `}

  ${URe} {
    box-shadow: none;
    padding-left: 0.5em;
    padding-right: 0.5em;
    font-size: 1.1em;
  }
`,fwt=Se.div`
  position: absolute;
  transform: translateX(-100%);
  background: #fff;
  left: 0;
  top: 0;
  bottom: 0;
  z-index: 10;
  overflow-y: auto;
  transition: 0.5s transform;
  ${e=>e.$open&&ln`
      transform: translateX(0);
    `}
`,hwt=Se.div`
  background: rgba(0, 0, 0, 0.4);
  pointer-events: none;
  position: absolute;
  z-index: 8;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  opacity: 0;
  transition: opacity 0.5s;

  ${e=>e.$open&&ln`
      pointer-events: visible;
      opacity: 1;
    `}
`,nue=Se.div`
  display: flex;
  flex-direction: column;
  flex: 1;
  min-height: 0;

  max-width: 100%;
  min-width: 0;
  overflow: hidden;
`,rue=Se.header`
  //box-shadow: 0 3px 2px 0 rgba(0, 0, 0, 0.04), 0 1px 0 0 rgba(0, 0, 0, 0.17);
  z-index: 200;
`,pwt=Se.div`
  background: #fff;
`,iue=Se.div`
  display: flex;
  flex: 1 1 0;
  min-height: 0;
`,mwt=Se.div`
  background: #fff;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  max-width: 720px;
  align-items: flex-end;

  ${e=>e.$motion?ln`
          transition: max-width 400ms;
        `:""}

  ${e=>{switch(e.$state){case"entering":return ln`
          max-width: ${e.$width};
        `;case"exiting":return ln`
          max-width: 0;
        `;case"unmounted":case"exited":return ln`
          max-width: 0;
        `}}}
`,gwt=Se.div`
  flex: 1 1 0;
  background: #e3e7f0;
  // background: #efefef;
  // box-shadow:
  //   inset 0 3px 2px 0 rgba(0, 0, 0, 0.04),
  //   inset 0 1px 0 0 rgba(0, 0, 0, 0.14);
  padding-top: 1px;
  // background: linear-gradient(0deg, rgba(251, 242, 237, 1) 0%, rgba(240, 229, 245, 1) 50%, rgba(236, 245, 255, 1) 100%);

  min-width: 320px;
  display: flex;

  min-height: 0;
  overflow: hidden;

  > * {
    min-width: 0;
  }
`,vwt=Se.div`
  background: #fff;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  max-width: 720px;

  ${e=>e.$motion?"transition: max-width 400ms;":""}

  ${e=>{switch(e.$state){case"entering":return ln`
          max-width: ${e.$width};
        `;case"exiting":return ln`
          max-width: 0;
        `;case"unmounted":case"exited":return ln`
          max-width: 0;
        `}}}
`,ZF=Se.div`
  display: flex;
  flex: 1;
  height: 100%;
  min-width: 50px;
  transition: min-width 400ms;
  overflow: hidden;

  ${e=>{switch(e.$menu){case"top":return ln`
          flex-direction: column;
          ${Pb} {
            flex-direction: column;
          }
        `;case"left":return ln`
          flex-direction: row;
          ${Pb} {
            flex-direction: row;
          }
        `;default:case"bottom":return ln`
          flex-direction: column-reverse;
          ${Pb} {
            flex-direction: column;
          }
        `;case"right":return ln`
          flex-direction: row-reverse;
          ${Pb} {
            flex-direction: row;
          }
        `}}}
`;Se.div`
  background: #fff;
  border-top: 1px solid #e3e7f0;
  border-right: 1px solid #e3e7f0;
  display: flex;
  flex-direction: column;
  width: 3em;
  /* width: 3.35em;
  padding: 0.3em;
  gap: 0.3em; */
`;Se.button`
  cursor: pointer;
  aspect-ratio: 1;
  width: 3em;
  height: 3em;
  display: flex;
  justify-content: center;
  align-items: center;
  &:hover {
    background: #fff6f9;
  }

  &:hover svg {
    color: #000;
  }

  &[data-selected="true"] {
    background: #b84c74;
    svg {
      color: #ffffff;
    }
  }

  & svg {
    font-size: 1.5em;
    color: #999;
  }
`;var Pb=Se.div`
  display: flex;
  box-shadow:
    0 -3px 2px 0 rgba(0, 0, 0, 0.04),
    0 -1px 0 0 rgba(0, 0, 0, 0.17);

  ${e=>!e.$open&&(e.$position==="top"||e.$position==="bottom")?ln`
          display: none;
        `:""}
`,LE=Se.div`
  display: flex;
  flex-direction: column;
  flex: 1;
  min-width: 0;
  overflow: hidden;
`,ywt=e=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",height:"1em",width:"1em",viewBox:"0 0 24 24",...e,children:[d.jsx("path",{d:"M0 0h24v24H0V0z",fill:"none"}),d.jsx("path",{d:"M12 5V2L8 6l4 4V7c3.31 0 6 2.69 6 6 0 2.97-2.17 5.43-5 5.91v2.02c3.95-.49 7-3.85 7-7.93 0-4.42-3.58-8-8-8zM6 13c0-1.65.67-3.15 1.76-4.24L6.34 7.34A8.014 8.014 0 0 0 4 13c0 4.08 3.05 7.44 7 7.93v-2.02c-2.83-.48-5-2.94-5-5.91z"})]}),bwt=Se.div`
  position: relative;
  width: 1px;
  background: rgba(0, 0, 0, 0.2);
  z-index: 50;
`,V7=Se(OJ)`
  transition:
    opacity 300ms,
    transform 300ms;
  margin-block-start: 0.2em;
  margin-block-end: 0.2em;
  user-select: none;
  opacity: 0;
  transform: scaleY(70%);
  &:focus {
    outline: 2px solid salmon;
  }
`,wwt=Se(V7)`
  position: relative;
  background: #fff;
  height: 40px;
  width: 15px;
  border-radius: 3px;
  box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.2);
  user-select: none;
`,oue=Se(V7)`
  background: #fff;
  width: 30px;
  height: 30px;
  border-radius: 50%;
  display: flex;
  justify-content: center;
  align-items: center;
  box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.2);
  cursor: default;

  svg {
    fill: #9999;
  }
`,xwt=Se(V7)`
  position: relative;
  display: flex;
  opacity: 1;
  background: #fff;
  height: 55px;
  pointer-events: visible;
  width: 21px;
  margin-bottom: auto;
  margin-top: 4.5em;
  cursor: pointer;
  border-radius: ${e=>e.$dir==="right"?"5px 0 0 5px":"0 5px 5px 0"};

  align-items: center;
  justify-content: center;
  box-shadow: 0 2px 3px 0 rgba(0, 0, 0, 0.2);
  transform: scaleX(100%);
  transform-origin: ${e=>e.$dir==="right"?"right":"left"};

  &:hover {
    background: #f9f9f9;
    transform: scaleX(125%);
  }

  svg {
    font-size: 1.5em;
  }
`,Swt=Se.div`
  background: rgba(0, 0, 0, 0);
  position: absolute;
  width: 21px;
  left: ${e=>e.$open?"-10px":e.$dir==="left"?0:"-20px"};
  top: 0;
  bottom: 0;
  z-index: 50; // This will always be quite high.
  transition:
    background-color 300ms,
    transform 300ms;
  transform: scaleX(70%);

  cursor: ${e=>e.$open?"col-resize":"pointer"};

  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;

  &:hover {
    transform: scaleX(100%);
    background: rgba(0, 0, 0, 0.1);
    ${V7} {
      transform: scaleX(100%);
      opacity: 1;
    }
  }
`,_wt=Se.div`
  background: rgba(0, 0, 0, 0);
  position: absolute;
  pointer-events: none;
  width: 21px;
  left: ${e=>e.$open?"-10px":e.$dir==="left"?0:"-20px"};
  top: 0;
  bottom: 0;
  z-index: 51; // This will always be quite high.
`,sue=h.forwardRef(function({dir:t,open:n,actions:r,reset:i},o){return d.jsxs(bwt,{onClick:()=>r.open(),children:[d.jsx(_wt,{$open:n,$dir:t,children:n?null:d.jsx(xwt,{$dir:t,onClick:s=>{s.stopPropagation(),r.open()},children:d.jsx(z7,{rotate:t==="right"?90:270})})}),d.jsxs(Swt,{ref:o,$open:n,$dir:t,children:[n?d.jsx(oue,{onClick:s=>{s.stopPropagation(),r.close()},children:d.jsx(a5,{})}):null,i&&n?d.jsx(oue,{onClick:s=>{s.stopPropagation(),i()},children:d.jsx(ywt,{})}):null,n?d.jsx(wwt,{}):null]})]})});function YF(e,t,n,r=[]){h.useLayoutEffect(()=>{const i=e.current;if(i)return i.addEventListener(t,n),()=>{i.removeEventListener(t,n)}},[t,...r])}function Cwt(e,t,n,r){return Math.sqrt(Math.pow(Math.abs(n-e),2)+Math.pow(Math.abs(r-t),2))}function NM(e,t,n,r){return n||(r?r/e:t)}function aue(e,t={}){const n=h.useRef(null),r=h.useRef(null),i=h.useRef(null),o=h.useRef(null),s=h.useRef(.5),[a,l]=h.useState(!1),u=h.useRef(!1),c=h.useRef(0),f=h.useRef({x:0,y:0}),[{widthA:p,widthB:g},v]=B7(`resize-layout/${e}`,{widthA:"auto",widthB:`${Dq({initial:t.widthA,fallback:320,options:{minWidth:t.minWidthPx,maxWidth:t.maxWidthPx}})}px`}),{loading:y=!1}=t;return YF(o,"mousedown",S=>{f.current.x=S.pageX,f.current.y=S.pageY,c.current&&(clearTimeout(c.current),c.current=0),c.current=setTimeout(()=>{l(!0),u.current=!0},350)},[y]),YF({current:typeof window<"u"?window:void 0},"mouseup",()=>{const S=n.current;if(S&&u.current){const{x:C,width:_}=S.getBoundingClientRect(),k=NM(_,.8,t.maxWidthPct,t.maxWidthPx)*_,w=NM(_,.2,t.minWidthPct,t.minWidthPx)*_;if(t.left){const P=s.current*_;v({widthA:`${(1-s.current)*_}`,widthB:`${P>k?k:P<w?w:P}px`})}else{const P=1-s.current*_;v({widthA:`${P>k?k:P<w?w:P}px`,widthB:`${s.current*_}px`})}l(!1),u.current=!1,t.onDragEnd&&t.onDragEnd()}clearTimeout(c.current),c.current=0},[y]),YF(n,"mousemove",S=>{if(!u.current&&c.current&&Cwt(f.current.x,f.current.y,S.pageX,S.pageY)>20&&(l(!0),u.current=!0,clearTimeout(c.current),c.current=0),u.current&&r.current){const C=n.current;if(C){const{x:_,width:k}=C.getBoundingClientRect(),w=t.left||!1,P=NM(k,.8,t.maxWidthPct,t.maxWidthPx),M=NM(k,.2,t.minWidthPct,t.minWidthPx);s.current=(k+_-S.pageX-5)/k,w&&(s.current=1-s.current),s.current=s.current<M?M:s.current,s.current=s.current>P?P:s.current,r.current.style.width=`${s.current*k}px`}}},[a,y]),{refs:{container:n,resizer:o,resizableDiv:r,otherDiv:i},setWidths:v,isDragging:a,widthA:p,widthB:g}}var Ewt=h.memo(function(t){var X,se,B,q;const n=RJ(),r=BRe(),{vault:i}=h.useContext(a3),o=i||void 0,{loading:s,state:a,leftPanels:l,centerPanels:u,rightPanels:c,modals:f=[],actions:p}=r,g=l.find(U=>U.id===a.leftPanel.current),v=c.find(U=>U.id===a.rightPanel.current),y=u.find(U=>U.id===a.centerPanel.current),S=f.find(U=>U.id===a.modal.current),C=!0,_=a.pinnedRightPanel.pinned?c.find(U=>U.id===a.pinnedRightPanel.current):void 0,[k]=rwt(["(max-width: 1020px)"]),w=t.isLoading||!1,P=aue(`left-panel/${g==null?void 0:g.id}`,{left:!0,minWidthPx:((X=g==null?void 0:g.options)==null?void 0:X.minWidth)||200,maxWidthPx:((se=g==null?void 0:g.options)==null?void 0:se.maxWidth)||720,loading:s}),M=aue(`right-panel/${v==null?void 0:v.id}`,{left:!1,minWidthPx:((B=v==null?void 0:v.options)==null?void 0:B.minWidth)||320,maxWidthPx:((q=v==null?void 0:v.options)==null?void 0:q.maxWidth)||720,loading:s}),R=v&&((_==null?void 0:_.id)!==v.id||!kKe(a.pinnedRightPanel.state,a.rightPanel.state)),D=P.widthB!=="auto"?()=>P.setWidths({widthA:"auto",widthB:Dq({options:g==null?void 0:g.options,fallback:320})}):void 0,H=M.widthB!=="auto"?()=>M.setWidths({widthA:"auto",widthB:Dq({options:v==null?void 0:v.options,fallback:320})}):void 0;if(h.useLayoutEffect(()=>{k&&a.leftPanel.open&&a.rightPanel.open&&(p.leftPanel.close(),p.rightPanel.close())},[k]),h.useLayoutEffect(()=>{if(y&&y.onMount)return y.onMount(a.centerPanel.state||y.defaultState||{},{...r,current:p.centerPanel,vault:o},n)},[a.centerPanel.current]),h.useLayoutEffect(()=>{c.length&&p.rightPanel.change({id:c[0].id}),l.length&&p.leftPanel.change({id:l[0].id}),u.length&&p.centerPanel.change({id:u[0].id})},[]),s)return null;const O=U=>{var K;return d.jsx(ZF,{$menu:t.leftPanelMenuPosition||"bottom",ref:P.refs.resizableDiv,className:U&&C?`transition transition-${U}`:"",style:{width:a.leftPanel.open||U!=="exited"?P.widthB:void 0,minWidth:(K=g==null?void 0:g.options)==null?void 0:K.minWidth},children:w?d.jsx(LE,{children:d.jsx(tue,{})}):d.jsxs(d.Fragment,{children:[t.leftPanelMenu?d.jsx(Pb,{$open:a.leftPanel.open&&U!=="exited",$position:t.leftPanelMenuPosition||"bottom",children:t.leftPanelMenu}):null,d.jsx(LE,{children:a.leftPanel.open||U!=="exited"?d.jsx(d.Fragment,{children:g?d.jsx(GF,{isLeft:!0,noHeader:!0,transition:U,panel:g,state:a.leftPanel,actions:p.leftPanel}):null}):null})]})})},z=()=>!S||a.modal.open===!1?null:d.jsx(CJ,{title:S.label,onClose:()=>p.modal.close(),children:Oq(S.render(a.modal.state||S.defaultState||{},{...r,current:p.modal,vault:o},n))}),G=()=>d.jsxs(ZF,{$menu:t.centerPanelMenuPosition||"top",children:[t.centerPanelMenu?d.jsx(Pb,{$open:a.centerPanel.open,$position:t.centerPanelMenuPosition||"top",children:t.centerPanelMenu}):null,d.jsx(LE,{children:w?d.jsx("div",{style:{display:"flex",flex:1,justifyContent:"center",alignItems:"center"},children:d.jsx(nwt,{stroke:"rgba(0,0,0,.3)",fontSize:"2em"})}):a.centerPanel.open&&y?Oq(y.render(a.centerPanel.state||y.defaultState||{},{...r,current:p.centerPanel,vault:o},n)):null})]}),ee=U=>{var K;return d.jsx(ZF,{$menu:t.rightPanelMenuPosition||"bottom",ref:M.refs.resizableDiv,className:U&&C?`transition transition-${U}`:"",style:{width:a.rightPanel.open||U!=="exited"?M.widthB:void 0,minWidth:(K=v==null?void 0:v.options)==null?void 0:K.minWidth},children:w?d.jsx(LE,{children:d.jsx(tue,{})}):d.jsxs(d.Fragment,{children:[t.rightPanelMenu?d.jsx(Pb,{$open:a.rightPanel.open,$position:t.rightPanelMenuPosition||"bottom",children:t.rightPanelMenu}):null,d.jsx(LE,{children:a.rightPanel.open||U!=="exited"?d.jsxs(d.Fragment,{children:[R?d.jsx(GF,{panel:v,state:a.rightPanel,actions:p.rightPanel,pinActions:p.pinnedRightPanel,available:c}):null,_?d.jsx(GF,{panel:_,state:a.pinnedRightPanel,actions:p.pinnedRightPanel,close:p.rightPanel.close}):null]}):null})]})})};return k?d.jsxs(nue,{children:[t.hideHeader?null:d.jsxs(rue,{children:[t.header||null,t.menu?d.jsx("menu",{children:t.menu}):null]}),d.jsx(iue,{children:d.jsxs(iwt,{children:[d.jsx(owt,{children:G()}),d.jsxs(swt,{children:[l.length>0?d.jsx(awt,{onClick:p.leftPanel.toggle,children:g==null?void 0:g.label}):null,c.length>0?d.jsx(uwt,{children:d.jsxs(cwt,{onClick:p.rightPanel.toggle,children:[d.jsx(z7,{rotate:180}),v==null?void 0:v.label]})}):null,d.jsx(lwt,{children:"Preview"})]}),c.length>0?d.jsx(dwt,{$open:a.rightPanel.open,children:ee()}):null,l.length>0?d.jsx(fwt,{$open:a.leftPanel.open,children:O()}):null,l.length>0||c.length>0?d.jsx(hwt,{$open:a.leftPanel.open||a.rightPanel.open,onClick:()=>{p.leftPanel.close(),p.rightPanel.close()}}):null]})})]}):d.jsxs(nue,{className:`manifest-editor ${t.className}`,children:[t.hideHeader?null:d.jsxs(rue,{children:[t.header||null,t.menu?d.jsx("menu",{children:t.menu}):null]}),d.jsxs(iue,{ref:U=>{P.refs.container.current=U,M.refs.container.current=U},children:[l.length>0?d.jsx(evt,{current:a.leftPanel.current,items:l.map(U=>({id:U.id,label:U.label,icon:U.icon,divide:U.divide,onClick:()=>{a.leftPanel.current===U.id?p.leftPanel.toggle():p.leftPanel.change({id:U.id})}})),open:a.leftPanel.open}):null,l.length>0?d.jsx(jp,{in:a.leftPanel.open,timeout:400,unmountOnExit:!1,children:U=>d.jsxs(d.Fragment,{children:[d.jsx(mwt,{$width:P.widthB,$state:U,$motion:C,children:O(U)}),d.jsx(sue,{ref:P.refs.resizer,reset:D,dir:"left",transition:U,open:a.leftPanel.open||U!=="exited",actions:p.leftPanel})]})}):null,d.jsx(gwt,{children:G()}),c.length>0?d.jsx(jp,{in:a.rightPanel.open,timeout:400,unmountOnExit:!1,children:U=>d.jsxs(d.Fragment,{children:[d.jsx(sue,{ref:M.refs.resizer,dir:"right",reset:H,open:a.rightPanel.open,actions:p.rightPanel}),d.jsx(vwt,{$width:M.widthB,$state:U,$motion:C,children:ee(U)})]})}):null]}),d.jsx(pwt,{children:t.footer||null}),d.jsx(d.Fragment,{children:z()})]})});function AE(e,t){function n(){t({type:"popStack",panel:e,payload:void 0})}function r(g){t({type:"change",panel:e,payload:g})}function i(g){t({type:"open",panel:e,payload:g})}function o(){t({type:"close",panel:e,payload:void 0})}function s(){t({type:"toggle",panel:e,payload:void 0})}function a(){t({type:"minimise",panel:e,payload:void 0})}function l(g){t({type:"maximise",panel:e,payload:g})}function u(g){t({type:"setCustomWidth",panel:e,payload:g})}function c(){t({type:"resetSize",panel:e,payload:void 0})}function f(g){t({type:"pin",panel:e,payload:g})}function p(){t({type:"unpin",panel:e,payload:void 0})}return h.useMemo(()=>({popStack:n,change:r,open:i,close:o,toggle:s,minimise:a,maximise:l,setCustomWidth:u,resetSize:c,pin:f,unpin:p}),[])}function lue(e,t){if(t.payload&&t.payload.stacked){if(e.current){const n=e.stack[e.stack.length-1];if(n&&n.id===e.current)return;t.payload.unique&&(e.stack=e.stack.filter(r=>r.id!==e.current)),e.stack.push({id:e.current,state:e.state?{...oyt(e.state)}:{}})}}else e.stack=[]}function IE(e,t){switch(t.type){case"popStack":{if(e.stack.length){const n=e.stack[e.stack.length-1];n&&(e.current=n.id,e.state=n.state),e.stack=e.stack.slice(0,-1)}break}case"change":{t.payload.id!==e.current&&lue(e,t),e.state=t.payload.state,e.current=t.payload.id;break}case"close":{e.open=!1;break}case"open":{e.open=!0,t.payload&&(t.payload.id!==e.current&&lue(e,t),e.state=t.payload.state,e.current=t.payload.id);break}case"toggle":{e.open=!e.open;break}case"maximise":{e.minimised=!1,t.payload&&(e.state=t.payload.state,e.current=t.payload.id);break}case"minimise":{e.minimised=!0;break}case"setCustomWidth":{e.customWidth=t.payload;break}case"resetSize":e.customWidth=void 0}if(dbt(e))switch(t.type){case"pin":{e.pinned=!0,e.state=t.payload.state,e.current=t.payload.id;break}case"unpin":{e.pinned=!1,e.state=void 0;break}}}var kwt=MJ((e,t)=>{switch(t.panel){case"centerPanel":{IE(e.centerPanel,t);break}case"leftPanel":{IE(e.leftPanel,t);break}case"rightPanel":{IE(e.rightPanel,t);break}case"modal":{IE(e.modal,t);break}case"pinnedRightPanel":{IE(e.pinnedRightPanel,t);break}}});function RE(){return{customWidth:void 0,minimised:!1,open:!0,current:null,state:null,stack:[]}}function Pwt(){return{leftPanel:RE(),centerPanel:RE(),rightPanel:RE(),modal:RE(),pinnedRightPanel:{...RE(),pinnable:!0,pinned:!1}}}var eDe=h.createContext({resource:null}),$wt=class extends h.Component{constructor(){super(...arguments),zc(this,"state",{hasError:!1})}static getDerivedStateFromError(e){return console.error(e),{hasError:!0}}componentDidCatch(e,t){console.error("Uncaught error:",e,t)}render(){return this.state.hasError?d.jsx("h1",{children:"Sorry.. there was an error"}):this.props.children}};function DE(e,t){return typeof e=="string"?{id:e,state:t}:e}var Twt=h.memo(function(t){const r=d1().layout,[i,o]=h.useReducer(kwt,void 0,Pwt),s={centerPanel:AE("centerPanel",o),leftPanel:AE("leftPanel",o),rightPanel:AE("rightPanel",o),pinnedRightPanel:AE("pinnedRightPanel",o),modal:AE("modal",o),editingStack:XRe()};function a(S){const C=r.rightPanels.find(w=>w.id===S);if(C)return[C,s.rightPanel,s.pinnedRightPanel];const _=r.centerPanels.find(w=>w.id===S);if(_)return[_,s.centerPanel];const k=r.leftPanels.find(w=>w.id===S);if(k)return[k,s.leftPanel];$l(!1,`Was not able to find panel with id "${S}"`)}function l(S,C){var D;const{id:_,state:k,stacked:w}=DE(S,C),[P,M,R]=a(_);R&&((D=P.options)!=null&&D.openPinned)?R.pin({id:_,state:{...P.defaultState||{},...k||{}}}):M.open({id:_,state:{...P.defaultState||{},...k||{}},stacked:w})}function u(S,C){const{id:_,state:k}=DE(S,C),[w,P]=a(_);P.open({id:_,state:{...w.defaultState||{},...k||{}},stacked:!0})}function c(S,C){const{id:_,state:k,stacked:w}=DE(S,C),[P,M]=a(_);M.change({id:_,state:{...P.defaultState||{},...k||{}},stacked:w})}function f(S,C){const{id:_}=DE(S,C),[,k]=a(_);k.close()}function p(S,C){const{id:_}=DE(S,C),[,k]=a(_);k.toggle()}function g(S,C={},{reset:_,property:k,stacked:w}={}){const P={resource:os(S)?S:{type:"SpecificResource",source:S},...C};s.editingStack.edit(P,_),r.rightPanels.find(M=>M.id==="@manifest-editor/editor")&&s.rightPanel.open({id:"@manifest-editor/editor",stacked:w!==!1,state:{property:k},unique:!0})}function v(S){var C;s.editingStack.create(S,{}),(C=r.modals)!=null&&C.find(_=>_.id==="@manifest-editor/creator")?s.modal.open({id:"@manifest-editor/creator",stacked:!0,unique:!0,state:S}):r.rightPanels.find(_=>_.id==="@manifest-editor/creator")&&s.rightPanel.open({id:"@manifest-editor/creator",stacked:!0,unique:!0,state:S})}const y={open:l,change:c,close:f,toggle:p,stack:u,edit:g,create:v};return d.jsx(NJ.Provider,{value:h.useMemo(()=>({...s,...y}),[r]),children:d.jsx(u5.Provider,{value:i,children:t.children})})}),Mwt={color:{main:"#B84C74",mainHover:"#4a89ff",logoPink:"#E94581",white:"white",grey:"grey",black:"black",lightgrey:"#F8F9FA",mediumgrey:"#dddddd",danger:"#a90e21",warning:"#e38627",lightdanger:"#ffeaea",lightsuccess:"#c5e8c5",success:"#6ccd55",greyOverlay:"rgba(0, 0, 0, 0.2)",highlight:"#faeed7"},iiifColor:{manifest:"rgba(0, 0, 0, 0.2)",canvas:"rgba(255, 222, 219, 0.8)",service:"rgba(13, 110, 253, 0.8)",annotation:"rgba(247, 226, 173, 0.8)",contentResource:"rgba(207, 247, 255, 0.8)",ranges:"rgba(144, 213, 157, 0.8)"},padding:{xs:"0.25rem",small:"0.5rem",medium:"1rem",large:"2rem"},device:{mobile:"375px",tablet:"768px",laptop:"992px",desktop:"1200px"},shadows:{standard:"rgba(0, 0, 0, 0.1) 0px 1px 3px 0px, rgba(0, 0, 0, 0.05) 0px 5px 15px 0px",bottom:"rgba(0, 0, 0, 0.1) 0px 4px 2px -2px"}},Lwt=[{id:"universal-viewer",config:{url:"https://universalviewer.dev/#?iiifManifestId={manifestId}"},type:"external-manifest-preview",label:"Universal viewer"},{id:"mirador-3",type:"external-manifest-preview",label:"Mirador 3",config:{url:"https://tomcrane.github.io/scratch/mirador3/?iiif-content={manifestId}"}},{id:"annona",type:"external-manifest-preview",label:"Annona",config:{url:"https://ncsu-libraries.github.io/annona/tools/#/display?url={manifestId}&viewtype=iiif-storyboard&settings=%7B%22fullpage%22%3Atrue%7D"}},{id:"iiif-preview",config:{url:"https://iiif-preview.digirati.services/store"},type:"iiif-preview-service",label:"IIIF Preview"}],Awt=new n3e({approximateServices:!0,verificationsRequired:8,enableFetching:!0});function Iwt({config:e,saveConfig:t,children:n,theme:r,previews:i,resource:o,editing:s}){const a=Px(),l=h.useMemo(()=>({...a,...e,previews:(e==null?void 0:e.previews)||a.previews||Lwt}),[a,e]);return d.jsx($wt,{children:d.jsx(iEe.Provider,{value:Awt,children:d.jsx(I1t,{resource:o,children:d.jsx($bt,{children:d.jsx(Eqe,{theme:r||Mwt,children:d.jsx(ARe,{config:l,saveConfig:t,children:d.jsx(Ibt,{children:d.jsx(Twt,{children:d.jsx(z1t,{previews:i||[],configs:l.previews,children:d.jsx(abt,{children:n})})})})})})})})})})}var OE={},Rwt=h.createContext("global");function Dwt(){return h.useContext(Rwt)}function Owt(e){const t=Dwt(),[,n]=h.useReducer(i=>i+1,0),r=h.useMemo(()=>(OE[t]||(OE[t]={}),OE[t][e]||(OE[t][e]={name:e,emitter:nv(),status:"idle",promise:Promise.resolve(),abort:new AbortController,reject:()=>{},resolve:()=>{}}),OE[t][e]),[t,e]);return Pk(r,"abort",n),Pk(r,"error",n),Pk(r,"complete",n),Pk(r,"running",n),r}function Pk(e,t,n){const r=h.useCallback(()=>n(e),[n]);h.useEffect(()=>{const i=e.emitter;return i.on(t,r),()=>i.off(t,r)},[t,r,e.emitter])}function jwt(e,t){const n=Owt(e);return Pk(n,"running",t),[o=>{n.status==="running"&&(n.response=o,n.status="complete",n.resolve())},n,(o,s)=>{n.status==="running"&&(n.error=s||o,n.status="error",n.reject(o))}]}var Nwt=async e=>new Promise((t,n)=>{const r=document.createElement("img");r.onload=()=>t(r),r.onerror=()=>n(),r.src=e,r.complete&&t(r)});async function Fwt(e,t){try{const i=(await fetch(e,{method:"HEAD",mode:"no-cors"})).headers.get("Content-type");if(i)return i}catch{}const n=e.toLowerCase();return n.endsWith("jpg")||n.endsWith("jpeg")?"image/jpeg":n.endsWith("png")?"image/png":"image/jpeg"}async function Bwt(e){try{const t=await Nwt(e);if(t)return{width:t.naturalWidth||t.width,height:t.naturalHeight||t.height}}catch{return null}return null}var zwt={label:"URL",supportedTypes:["Collection","Manifest","Canvas","ImageService"],format:async(e,t)=>{if(!(Array.isArray(e)?e[0]:e))return null;const r=e.parent;return r&&t.resolvable&&(e.type!=="Manifest"||e.type!=="Collection"||e.type!=="ImageService")?r.id||r["@id"]:e.id||e["@id"]}},Hwt={label:"Content state",supportedTypes:["Collection","Manifest","Canvas","CanvasRegion","CanvasList"],format:async(e,t,n)=>{var s;const r=n.get(e,{skipSelfReturn:!1}),i=e.parent,o={"@context":"http://iiif.io/api/presentation/3/context.json",id:"",type:"Annotation",motivation:["contentState"],target:{}};return r.type==="Collection"&&(o.target={id:r.id,type:"Collection"}),r.type==="Manifest"&&((s=e.listing)!=null&&s.length?o.target=e.listing.map(a=>uue(a,n.get(a),a.parent||r)):o.target={id:r.id,type:"Manifest"}),r.type==="Canvas"&&(o.target=uue(e,r,i)),t.encoded?lCe(o):JSON.stringify(o,null,t.pretty?2:0)}};function uue(e,t,n){let r="";return e.selector&&e.selector.type==="BoxSelector"&&(r=`#xywh=${[e.selector.spatial.x,e.selector.spatial.y,e.selector.spatial.width,e.selector.spatial.height].join(",")}`),n&&n.type==="Manifest"?{id:t.id+r,type:"Canvas",partOf:[{id:n.id,type:"Manifest"}]}:{id:t.id+r,type:"Canvas"}}var Vwt={label:"JSON",supportedTypes:["Manifest","Canvas","CanvasList"],format:async(e,t,n)=>{const r=typeof e.listing<"u"?n.get(e.listing,{skipSelfReturn:!1}):n.get(e,{skipSelfReturn:!1});return e.parent,JSON.stringify(r,null,t.pretty?2:0)}},Uwt={label:"Custom",format:(e,t,n)=>t.format(e,e.parent,n),supportedTypes:["Collection","Manifest","Canvas","ImageService","CanvasRegion","ImageServiceRegion"]},Wwt={label:"Thumbnail",format:async(e,t,n)=>{const r=await n1(n).getBestThumbnailAtSize(e,t.options||{width:256});return r.best?r.best.id:null},supportedTypes:["Manifest","Canvas","ImageService"]},Kwt=Object.defineProperty,qwt=(e,t,n)=>t in e?Kwt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,FM=(e,t,n)=>(qwt(e,typeof t!="symbol"?t+"":t,n),n);function my(e){return e.endsWith("info.json")?e:e.endsWith("/")?`${e}info.json`:`${e}/info.json`}var Gwt="http://library.stanford.edu/iiif/image-api/compliance.html#level0",tDe="http://library.stanford.edu/iiif/image-api/compliance.html#level1",nDe="http://library.stanford.edu/iiif/image-api/compliance.html#level2",Zwt="http://library.stanford.edu/iiif/image-api/conformance.html#level0",rDe="http://library.stanford.edu/iiif/image-api/conformance.html#level1",iDe="http://library.stanford.edu/iiif/image-api/conformance.html#level2",Ywt="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0",oDe="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level1",sDe="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level2",Xwt="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level0",aDe="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level1",lDe="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level2",Qwt="http://iiif.io/api/image/1/level0.json",Jwt="http://iiif.io/api/image/1/profiles/level0.json",uDe="http://iiif.io/api/image/1/level1.json",cDe="http://iiif.io/api/image/1/profiles/level1.json",dDe="http://iiif.io/api/image/1/level2.json",fDe="http://iiif.io/api/image/1/profiles/level2.json",ext="http://iiif.io/api/image/2/level0.json",txt="http://iiif.io/api/image/2/profiles/level0.json",hDe="http://iiif.io/api/image/2/level1.json",pDe="http://iiif.io/api/image/2/profiles/level1.json",mDe="http://iiif.io/api/image/2/level2.json",gDe="http://iiif.io/api/image/2/profiles/level2.json",nxt="level0",vDe="level1",yDe="level2",rxt="http://iiif.io/api/image/2/level0",bDe="http://iiif.io/api/image/2/level1",wDe="http://iiif.io/api/image/2/level2",ixt="https://iiif.io/api/image/1.1/compliance/#level0",xDe="https://iiif.io/api/image/1.1/compliance/#level1",SDe="https://iiif.io/api/image/1.1/compliance/#level2",_De=[wDe,nDe,iDe,sDe,lDe,dDe,fDe,mDe,gDe,yDe,SDe],CDe=[..._De,bDe,tDe,rDe,oDe,aDe,uDe,cDe,hDe,pDe,vDe,xDe],oxt=[rxt,bDe,wDe,Gwt,tDe,nDe,Zwt,rDe,iDe,Ywt,oDe,sDe,Xwt,aDe,lDe,Qwt,Jwt,uDe,cDe,dDe,fDe,ext,txt,hDe,pDe,mDe,gDe,nxt,vDe,yDe,ixt,xDe,SDe],sxt={extraFormats:["jpg"],extraQualities:["default"],extraFeatures:["sizeByWhListed"]},axt={extraFormats:["jpg"],extraQualities:["default"],extraFeatures:["baseUriRedirect","cors","jsonldMediaType","regionByPx","regionSquare","sizeByWhListed","sizeByH","sizeByW","sizeByWh"]},lxt={extraFormats:["jpg","png"],extraQualities:["default"],extraFeatures:["baseUriRedirect","cors","jsonldMediaType","regionByPct","regionByPx","regionSquare","rotationBy90s","sizeByWhListed","sizeByConfinedWh","sizeByH","sizeByPct","sizeByW","sizeByWh"]};function uxt(e){return _De.indexOf(e)!==-1?lxt:CDe.indexOf(e)!==-1?axt:sxt}function cxt(e){let t=e?Array.isArray(e.profile)?e.profile:[e.profile]:[],n={extraQualities:[],extraFormats:[],extraFeatures:[]};for(let r of t)if(typeof r=="string"&&(r=uxt(r)),!!r){if(r.formats)for(let i of r.formats)n.extraFormats.indexOf(i)===-1&&n.extraFormats.push(i);if(r.qualities)for(let i of r.qualities)n.extraQualities.indexOf(i)===-1&&n.extraQualities.push(i);if(r.supports)for(let i of r.supports)n.extraFeatures.indexOf(i)===-1&&n.extraFeatures.push(i);if(r.maxHeight&&(n.maxHeight=r.maxHeight),r.maxWidth&&(n.maxWidth=r.maxWidth),r.maxArea&&(n.maxArea=r.maxArea),r.extraFormats)for(let i of r.extraFormats)n.extraFormats.indexOf(i)===-1&&n.extraFormats.push(i);if(r.extraQualities)for(let i of r.extraQualities)n.extraQualities.indexOf(i)===-1&&n.extraQualities.push(i);if(r.extraFeatures)for(let i of r.extraFeatures)n.extraFeatures.indexOf(i)===-1&&n.extraFeatures.push(i);r.maxHeight&&(n.maxHeight=r.maxHeight),r.maxWidth&&(n.maxWidth=r.maxWidth),r.maxArea&&(n.maxArea=r.maxArea)}if(e.extraFormats)for(let r of e.extraFormats)n.extraFormats.indexOf(r)===-1&&n.extraFormats.push(r);if(e.extraFeatures)for(let r of e.extraFeatures)n.extraFeatures.indexOf(r)===-1&&n.extraFeatures.push(r);if(e.extraQualities)for(let r of e.extraQualities)n.extraQualities.indexOf(r)===-1&&n.extraQualities.push(r);return n}function dxt(e){try{if(e==="full")return{full:!0};if(e==="square")return{square:!0};let t=e.startsWith("pct:"),n=e.substr(t?4:0).split(",").map(r=>parseFloat(r));return{x:n[0],y:n[1],w:n[2],h:n[3],percent:t}}catch{throw new Error("Expected 'full', 'square' or 'x,y,w,h'. Found "+e)}}function fxt(e){let t={upscaled:!1,max:!1,confined:!1};if(e[0]==="^"&&(t.upscaled=!0,e=e.slice(1)),e==="max"||e==="full")return t.max=!0,t.serialiseAsFull=e==="full",t;if(e[0]==="!"&&(t.confined=!0,e=e.slice(1)),e[0]==="p")return t.percentScale=parseFloat(e.slice(4)),t;let n=e.split(",").map(r=>r.trim());return n.length&&typeof n[0]<"u"&&(n[0]!==""&&(t.width=parseInt(n[0],10)),typeof n[1]<"u"&&n[1]!==""?(t.height=parseInt(n[1],10),t.version=2):t.version=3),t}function hxt(e){let t={angle:0};if(e[0]==="!"&&(t.mirror=!0,e=e.substr(1)),t.angle=parseFloat(e)%360,Number.isNaN(t.angle))throw new Error(`Invalid rotation ${e}`);return t}function pxt(e,t=""){let n=e.match(/^(([a-zA-Z]+):\/\/([^/]+))?((.*)+)/);if(!n)throw new Error(`Invalid or unknown input ${e}`);let r=n[2],i=n[3],o=n[4];if(o[0]==="/"&&(o=o.substring(1)),t.length>0){if(t[0]==="/"&&(t=t.substring(1)),t!==o.substring(0,t.length))throw new Error(`Path does not start with prefix (path: ${o}, prefix: ${t})`);o=o.substring(t.length)}return{scheme:r,server:i,path:o,prefix:t}}function mxt(e,t=""){let{path:n,scheme:r,server:i,prefix:o}=pxt(e,t),s=(n||"").split("/").reverse(),[a,l,u,c,...f]=s,p=f.reverse().filter(Boolean).join("/");if(s.length===1||a==="")return{type:"base",scheme:r,server:i,prefix:o,identifier:p};if(a==="info.json"){let[,...v]=s;return{type:"info",scheme:r,server:i,prefix:o,identifier:v.reverse().filter(Boolean).join("/")}}let g=(a||"").split(".");if(typeof g[1]>"u"||typeof g[0]>"u"||typeof c>"u"||typeof u>"u"||typeof l>"u")throw new Error("Invalid image request");return{type:"image",scheme:r,server:i,prefix:o,identifier:p,originalPath:n,region:dxt(c),size:fxt(u),rotation:hxt(l),quality:g[0],format:g[1]}}function gxt(e){let t=mxt(my(e.id));if(t.type!=="info")throw new Error("Invalid service URL");let n=cxt(e);return{identifier:t.identifier,originalPath:"",server:t.server,prefix:t.prefix,scheme:t.scheme,type:"image",quality:n.extraQualities.indexOf("default")===-1?n.extraQualities[0]:"default",region:{full:!0},size:{max:!0,upscaled:!1,confined:!1},format:"jpg",rotation:{angle:0}}}function vxt(e,t,n){let r=n.length,i=[];for(let o=0;o<r;o++){let s=n[o];if(s){let a=s.width;i.push(e/a)}}return i}function yxt(e,t,n){let r=n.length,i=[];for(let o=0;o<r;o++){let s=n[o];s&&i.push({width:Math.floor(e/s),height:Math.floor(t/s)})}return i}function ns(e){if(e["@id"])return e["@id"];if(e.id)return e.id}function U7(e){if(!e||!e.profile||!ns(e))return!1;let t=Array.isArray(e.profile)?e.profile:[e.profile];for(let n of t)if(typeof n=="string"&&oxt.indexOf(n)!==-1)return!0;return!1}function bxt(e){if(!U7(e))return!1;let t=Array.isArray(e.profile)?e.profile:[e.profile];for(let n of t)if(typeof n=="string"){if(CDe.indexOf(n)!==-1)return!0}else{let r=[...n.supports||[],...n.extraFeatures||[]];if(r.indexOf("regionByPx")!==-1&&(r.indexOf("sizeByW")!==-1||r.indexOf("sizeByWh")!==-1))return!0}return!1}function JA(e,t){if(t&&t.profile){let n=t.profile;if(n){let r=Array.isArray(n)?n:[n];return r.includes(`level${e}`)||r.includes(`http://iiif.io/api/image/2/level${e}.json`)||r.includes(`http://iiif.io/api/image/1/level${e}.json`)||r.includes(`http://iiif.io/api/image/1/profiles/level${e}.json`)}}return!1}function jq(e){return U7(e)?JA(0,e)?0:JA(1,e)?1:JA(2,e)?2:null:null}function EDe(e){return(e["@context"]?Array.isArray(e["@context"])?e["@context"]:[e["@context"]]:[]).indexOf("http://iiif.io/api/image/3/context.json")!==-1}function wxt(e){if(!bxt(e))return[];let t=[],n=Array.isArray(e.profile)?e.profile:[e.profile],r=n.length;for(let i=0;i<r;i++){let o=n[i];if(o&&typeof o!="string"&&(o.maxHeight||o.maxWidth))return[{id:ns(e),type:"variable",minWidth:0,minHeight:0,maxHeight:o.maxHeight||o.maxWidth,maxWidth:o.maxWidth||o.maxHeight,level:jq(e),version:e["@context"]==="http://iiif.io/api/image/3/context.json"?3:2}]}if(e.tiles){let i=e.tiles.length;for(let o=0;o<i;o++){let s=e.tiles[o];s&&(s.height||s.width)&&t.push({id:ns(e),type:"variable",minHeight:0,minWidth:0,maxHeight:s.height||s.width,maxWidth:s.width,level:jq(e),version:EDe(e)?3:2})}}return t}function cue(e){let t=/^.*\/(full)\/(((\d+),(\d+)?)|max)\/(\d+)\/default\.(jpg|png|jpeg)$/,n=e.match(t);if(n&&n[4]&&n[5]){let r=n[1],i=parseInt(n[4],10),o=parseInt(n[5],10),s=n[7];if((r==="max"||r==="full")&&i&&o&&s)return{type:"fixed",id:e,height:o,width:i}}return{type:"unknown",id:e}}function xxt(e){if(e["@type"])return e["@type"];if(e.type)return e.type}function Sxt(e){if(typeof e=="string")return cue(e);let t=xxt(e);if(t!=="Image"&&t!=="sc:Image")return null;let n=e,r=ns(n);return r?r&&n.width&&n.height?{id:r,type:"fixed",width:n.width,height:n.height,unsafe:!0}:cue(r):null}function _xt(e){return U7(e)?(e&&e.sizes?e.sizes:[]).map(t=>({id:ns(e),type:"fixed-service",height:t.height,width:t.width,level:jq(e),version:EDe(e)?3:2})):[]}function due(e){let t=[],n=e.length;for(let r=0;r<n;r++){let i=e[r];if(!i)continue;let o=_xt(i);o.length&&t.push(...o);let s=wxt(i);s.length&&t.push(...s)}return t}function UJ(e){let t=e.service?Array.isArray(e.service)?e.service:[e.service]:[],n=t.length,r=[];for(let i=0;i<n;i++)U7(t[i])&&r.push(t[i]);return r}function Cxt(e,t=!0,n){let r=[],i=Sxt(e);if(i===null)return r;let o=e;if(r.push(i),t&&o&&o.width&&o.height){let s=[],a=UJ(o);for(let l of a){let u={id:ns(l),width:o.width,height:o.height};if(n.canLoadSync(u)){let c=n.loadServiceSync(u);c&&(c.height||(c.height=o.height),c.width||(c.width=o.width),s.push(...due([c])))}}if(s.length)return r.push(...s),r}return o.service&&r.push(...due(o.service)),r}function Ext({x:e=0,y:t=0,w:n,h:r,full:i,square:o,percent:s}){if(i)return"full";if(o)return"square";if(typeof n>"u"||typeof r>"u")throw new Error("RegionParameter: invalid region");let a=`${e},${t},${n},${r}`;return s?`pct:${a}`:a}function kxt({max:e,percentScale:t,upscaled:n,confined:r,width:i,height:o,serialiseAsFull:s,version:a}){let l=[];return n&&l.push("^"),e?(l.push(s?"full":"max"),l.join("")):(r&&l.push("!"),t&&l.push(`pct:${t}`),i&&l.push(`${i}`),l.push(","),o&&a===3&&l.push(`${o}`),l.join(""))}function Pxt(e){return`${e.mirror?"!":""}${(e.angle||0)%360}`}function $xt(e,t){let n=e.prefix.startsWith("/")?e.prefix.substr(1):e.prefix,r=`${e.scheme}://${e.server}/${n?`${n}/`:""}${e.identifier}`;if(e.type==="base")return r;if(e.type==="info")return`${r}/info.json`;let{size:i}=e,{region:o,rotation:s,format:a,quality:l}=e;return[r,Ext(o),kxt(i),Pxt(s),`${l}.${a}`].filter(Boolean).join("/")}function XF(e,t,n){let r=gxt({"@context":e.version===3?"http://iiif.io/api/image/3/context.json":"http://iiif.io/api/image/2/context.json",id:my(ns(e)),profile:e.level===null||typeof e.level>"u"?"level0":`level${e.level}`,type:e.version===3?"ImageService3":"ImageService2"});if(r.type!=="image")throw new Error("Invalid service");return r.size.max=!1,r.size.width=t,r.size.height=n,{id:$xt(r),type:"fixed",width:t,height:n||e.height/(e.width||1)*t,unsafe:e.width>t}}function pS(e){let t=e.replace(/(https?:\/\/)?(www.)?/i,"");return t.indexOf("/")!==-1?t.split("/")[0]:t}function Txt(e,t,n){let r=e.width?e.width:e.maxWidth;return n.height<=e.maxHeight&&n.width<=e.maxWidth&&n.height>=e.minHeight&&n.width>=e.minWidth&&(!t||Math.abs(n.width-r)<Math.abs(t.width-r))}function Mxt(e,t){let n=[],r=Object.assign({unsafeImageService:!1,atAnyCost:!0,fallback:!0,minHeight:64,minWidth:64,maxHeight:1/0,maxWidth:1/0,returnAllOptions:!1,preferFixedSize:!1,allowUnsafe:!1,explain:!1,height:0,width:0},e),i=(c,f=0)=>r.explain?n.push(new Array(f).fill(0).map(p=>"    ").join("")+c().trim()):void 0,o=[],s=[],a=null;i(()=>`Using configuration: ${JSON.stringify(r,null,2)}`);let l=(c,f)=>{if(i(()=>"Swapping choice",3),Txt(r,f,c)){if(r.preferFixedSize&&c.unsafe){i(()=>`We found an image that was marked as unsafe, but it was the best size. (${c.id})`,4),s.push(c);return}r.returnAllOptions&&f&&s.push(f),i(()=>`We found a new image that was the best size. (${c.id})`,4),a=c}else r.returnAllOptions&&s.push(c)};i(()=>`The input shows we have ${t.length} list(s) of candidates to choose from.`);let u=t.length;for(let c=0;c<u;c++){let f=t[c]();i(()=>`Candidate group ${c}: ${JSON.stringify(f,null,2)}`,1);let p=f.length;i(()=>`Checking candidate list number ${c} and found ${p} potential ways of creating image(s)`,1);for(let g=0;g<p;g++){let v=f[g];if(i(()=>`-> Checking candidate ${g}`,1),v.type==="unknown"&&r.atAnyCost&&(i(()=>`We've found an unknown image type, adding this to the "last resort" list`,2),o.push(v)),v.type==="fixed"&&(v.unsafe?(i(()=>`We've found an unsafe fixed image type, adding this to the "last resort" list`,2),o.push(v)):(i(()=>"We've found a fixed size image, checking if it matches the request",2),l(v,a))),v.type==="fixed-service")if(r.unsafeImageService){i(()=>"Checking for an image from the tile source, without calculating the right height and width (unsafeImageService)",2);let y=XF(v,r.width,r.height);l(y,a)}else{i(()=>"Checking for an image from the tile source 3",2);let y=XF(v,v.width,v.height);l(y,a)}if(v.type==="variable"&&v.maxWidth){let y=XF({id:v.id,type:"fixed-service",width:v.maxWidth,height:v.maxWidth,level:v.level,version:v.version},v.maxWidth);l(y,a)}}if(a&&!r.returnAllOptions){if(a.unsafe||r.allowUnsafe)continue;i(()=>`We found a match in choice list number ${c}, no searching any more`);break}}return r.atAnyCost&&s.length===0?(i(()=>a?`We found an image! ${a.id} of type ${a.type}`:'We found no images, but "atAnyCost" is set, so returning that'),{best:a||o[0]||null,fallback:o.slice(1),log:n}):r.returnAllOptions?(i(()=>"Returning all options that we have found"),{best:(r.atAnyCost?a||s[0]||o[0]:a||s[0])||null,fallback:[...s,...o],log:n}):(i(()=>"Returning the best image that we found, and a fallback"),{best:a||s[0]||null,fallback:a?s:s.slice(1),log:n})}function Lxt(e,t,n){let r=e>t?e:t,i=n.length,o=[];for(let s=0;s<i;s++){let a=n[s];if(!a||a.scaleFactors.length===0)continue;let l=a.scaleFactors[0];if(!l)continue;let u=r/l,c=[l];for(;u>=a.width;)l=l*2,c.push(l),u=u/2;o.push({...a,scaleFactors:c})}return o}function Axt(e,t){if(e.length!==t.length)return!1;if(e.length===0&&t.length===0)return!0;let n=e.length,r=!0;for(let o=0;o<n;o++){let s=e[o],a=t[o];if(s.width!==a.width||s.height!==a.height){r=!1;break}}if(r)return!0;let i=0;for(let o=0;o<n;o++)for(let s=0;s<n;s++)if(e[o].width===t[s].width&&e[o].height===t[s].height){i++;break}return i===n}function fue(e){return JA(0,e)}var Ixt=class{constructor(t={}){FM(this,"config",{verificationsRequired:1,approximateServices:!1,enableFetching:!0,disableThrottling:!1}),FM(this,"fetchingCount",0),FM(this,"imageServices",{}),FM(this,"knownImageServers",{}),this.config=Object.assign(this.config,t)}setConfig(t){Object.assign(this.config,t)}sample(t,n,r=!0){let i=pS(ns(t)),o=my(ns(t)),s=this.knownImageServers[i];return this.imageServices[o]=Object.assign(t,{real:!0}),!s&&t.tiles&&!fue(t)?(this.knownImageServers[i]={verifications:0,malformed:!1,root:i,preLoaded:r,sampledId:ns(t),verified:!1,server:null,result:{context:t["@context"]||[],sampledProfile:t.profile,resourceServiceRatio:n&&t.height?n.height/t.height:1,sampledSizes:t.sizes||[],sizeRatios:vxt(t.width,t.height,t.sizes||[]),sampledTiles:t.tiles||[]}},!0):this.verify(t)}preLoad(t,n=!0){this.knownImageServers[t.root]=t,n&&(this.knownImageServers[t.root].malformed=!1,this.knownImageServers[t.root].verifications=this.config.verificationsRequired)}predict(t,n=!1,r=!1){let i=t==null?void 0:t.source,o=pS(ns(t)),s=this.knownImageServers[o],a=my(ns(t));return this.imageServices[a]?this.imageServices[a]||null:!this.config.approximateServices||!s||!s.result||!(i!=null&&i.height||t.height)||!(i!=null&&i.width||t.width)||!r&&(s.malformed||s.verifications<this.config.verificationsRequired)||fue(t.source)?null:(this.imageServices[a]||(this.imageServices[a]={"@context":s.result.context,"@id":ns(t),id:ns(t),protocol:"http://iiif.io/api/image",tiles:(i==null?void 0:i.tiles)||Lxt(t.width,t.height,s.result.sampledTiles),sizes:(i==null?void 0:i.sizes)||yxt(Math.round(t.width/s.result.resourceServiceRatio),Math.round(t.height/s.result.resourceServiceRatio),s.result.sizeRatios),profile:(i==null?void 0:i.profile)||s.result.sampledProfile,height:(i==null?void 0:i.height)||t.height,width:(i==null?void 0:i.width)||t.width,real:!1}),this.imageServices[a]||null)}async getThumbnailFromResource(t,n,r=!0,i=[]){let o=t?await this.getImageCandidates(t,r):[];return Mxt(n,[()=>i,()=>o])}async getImageCandidates(t,n=!0){let r=t;if(n&&r&&r.height&&r.width){let i=UJ(r);for(let o of i){let s={id:ns(o),width:o.width?o.width:r.width,height:o.height?o.height:r.height,source:o};await this.loadService(s)}}return Cxt(t,n,this)}async verify(t){let n=this.predict(t,!1,!0),r=await this.fetchService(ns(t));if(!n)return!1;let i=n.height===r.height&&n.width===r.width&&n["@context"]===r["@context"]&&Axt(n.sizes||[],r.sizes||[]);if(i){let o=pS(ns(t)),s=this.knownImageServers[o];s&&(s.verifications+=1,s.verifications>=this.config.verificationsRequired&&(s.verified=!0))}return i}canLoadSync(t){let n=typeof t=="string"?t:ns(t),r=my(n);if(this.imageServices[r])return!0;let i=this.knownImageServers[pS(n)];return!!(i&&!i.malformed&&i.verifications>=this.config.verificationsRequired)}async markAsMalformed(t){return this.knownImageServers[pS(ns(t))].malformed=!0,this.loadService(t,!0)}async fetchService(t,n=!1){let r=my(t),i=this.imageServices[r];if(i&&(!n||i.real))return i;if(!this.config.enableFetching)throw new Error("Fetching is not enabled");let o=await this.fetch(r).then(s=>s.json());return!o.id&&o["@id"]&&(o.id=o["@id"]),o.id!==t&&(o.id=t,o["@id"]&&(o["@id"]=t)),this.imageServices[r]=Object.assign(o,{real:!0}),this.imageServices[r]}async fetch(t,n){return fetch(t,n)}async loadService(t,n=!1){if(!this.config.disableThrottling){let o=!0;for(;o;)if(this.fetchingCount>=this.config.verificationsRequired)await new Promise(s=>setTimeout(s,500));else{o=!1;break}}let r=this.knownImageServers[pS(ns(t))];if(r&&!r.malformed&&!n){await r.result;let o=this.loadServiceSync(t);if(o)return o}this.fetchingCount++;let i=await this.fetchService(ns(t),n);return this.fetchingCount--,i.real&&this.sample(i,t),i}loadServiceSync(t){let n=my(ns(t));return this.imageServices[n]?this.imageServices[n]:this.config.approximateServices?this.predict(t):null}};new Ixt;var Rxt={label:"Image service",format:async(e,t,n)=>{const r=n.get(e),s=WX(n).getPaintables(r).items[0];if(!s)throw new Error("Resource not found");if(s.type!=="image"||s.resource.type!=="Image")throw new Error("Resource is not an image");const a=UJ(s.resource)[0];if(t.allowImageFallback)return s.resource.id||s.resource["@id"];if(!a)throw new Error("Image service not found");const l=a.id||a["@id"];return t.skipCanonical?l:my(a.id||a["@id"])},supportedTypes:["Canvas","CanvasRegion"]},Dxt={"content-state":Hwt,custom:Uwt,json:Vwt,url:zwt,thumbnail:Wwt,"image-service":Rxt},Oxt={label:"Copy to clipboard",action:e=>navigator.clipboard.writeText(typeof e=="string"?e:JSON.stringify(e,null,2))},jxt={label:"Select",action:(e,t,n)=>n.cb(e)},Nxt={label:"Select",action:(e,t,n)=>{n.el&&n.el.current&&(n.el.current.value=typeof e=="string"?e:JSON.stringify(e))}},Fxt={label:"Open",action:(e,t,n,r)=>{const i=n.urlPattern||"{RESULT}",o=r.get(t,{skipSelfReturn:!1}),s=t.parent;let a="",l="",u="",c="";if(t.type==="Canvas"&&t.selector&&t.selector.spatial&&(c=[~~t.selector.spatial.x,~~t.selector.spatial.y,~~(t.selector.spatial.width||1),~~(t.selector.spatial.height||1)].join(",")),(s==null?void 0:s.type)==="Manifest"){u=s==null?void 0:s.id,a=t.id;const g=r.get(u);if(g){const v=g.items.findIndex(y=>y.id===a);v!==-1&&(l=`${v}`)}}else u=e;let f=i.replace(/{RESULT}/,e);o.type==="Collection"&&(f=f.replace(/{COLLECTION}/,o.id||"")),f=f.replace(/{MANIFEST}/,u||""),f=f.replace(/{CANVAS}/,a||""),f=f.replace(/{CANVAS_INDEX}/,l||""),f=f.replace(/{XYWH}/,c||"");const p=window.open(f,n.target||"_blank",n.features||"noreferrer");n.cb&&n.cb(o,p)}},Bxt={label:"Select",action:(e,t,n)=>{const r=n.eventName||"iiif-resource-selected",i={resource:e,ref:t,timestamp:new Date().toISOString()},o=new CustomEvent(r,{detail:i,bubbles:n.bubbles!==!1,cancelable:n.cancelable!==!1}),s=n.eventTarget||document;return s&&s.dispatchEvent(o),!0}},zxt={label:"Download",action:(e,t,n)=>{const r=n.filename||"iiif-resource.json",i=typeof e=="string"?e:JSON.stringify(e,null,2),o=new Blob([i],{type:"application/json"}),s=URL.createObjectURL(o),a=document.createElement("a");a.href=s,a.download=r,document.body.appendChild(a),a.click(),setTimeout(()=>{document.body.removeChild(a),URL.revokeObjectURL(s)},0)}},Hxt={clipboard:Oxt,callback:jxt,input:Nxt,"open-new-window":Fxt,download:zxt,eventEmitter:Bxt};function Vxt(e){return d.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 42 42",xmlns:"http://www.w3.org/2000/svg",stroke:"#fff",...e,children:d.jsxs("g",{transform:"translate(2 2)",strokeWidth:5,fill:"none",fillRule:"evenodd",children:[d.jsx("circle",{strokeOpacity:.5,cx:18,cy:18,r:18}),d.jsx("path",{d:"M36 18c0-9.94-8.06-18-18-18",children:d.jsx("animateTransform",{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"1s",repeatCount:"indefinite"})})]})})}var Uxt="Invariant failed";function Wxt(e,t){if(!e){var n=Uxt;throw new Error(n)}}function Kxt(e){return d.jsx("svg",{viewBox:"0 0 24 24",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",...e,children:d.jsx("g",{id:"Design-3.0",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:d.jsxs("g",{id:"Artboard",children:[d.jsxs("g",{id:"folder-icon",transform:"translate(5.000000, 6.000000)",fillRule:"nonzero",children:[d.jsx("path",{d:"M1.125,12 C0.825,12 0.5625,11.884375 0.3375,11.653125 C0.1125,11.421875 0,11.1625 0,10.875 L0,1.125 C0,0.8375 0.1125,0.578125 0.3375,0.346875 C0.5625,0.115625 0.825,0 1.125,0 L6.375,0 L7.5,2.125 L13.875,2.125 C14.1625,2.125 14.421875,2.240625 14.653125,2.471875 C14.884375,2.703125 15,2.9625 15,3.25 L15,10.875 C15,11.1625 14.884375,11.421875 14.653125,11.653125 C14.421875,11.884375 14.1625,12 13.875,12 L1.125,12 Z",id:"Path",fill:"#717171"}),d.jsx("path",{d:"M1.125,12 C0.825,12 0.5625,11.884375 0.3375,11.653125 C0.1125,11.421875 0,11.1625 0,10.875 L0,1.99558699 L13.875,1.99558699 C14.1625,1.99558699 14.421875,2.11121199 14.653125,2.34246199 C14.884375,2.57371199 15,2.83308699 15,3.12058699 L15,10.875 C15,11.1625 14.884375,11.421875 14.653125,11.653125 C14.421875,11.884375 14.1625,12 13.875,12 L1.125,12 Z",id:"Path",fill:"#AAAAAA"})]}),d.jsx("rect",{id:"Rectangle",x:"0",y:"0",width:"24",height:"24"})]})})})}var WJ={};Object.defineProperty(WJ,"__esModule",{value:!0});WJ.parse=Jxt;WJ.serialize=eSt;const qxt=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,Gxt=/^[\u0021-\u003A\u003C-\u007E]*$/,Zxt=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,Yxt=/^[\u0020-\u003A\u003D-\u007E]*$/,Xxt=Object.prototype.toString,Qxt=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function Jxt(e,t){const n=new Qxt,r=e.length;if(r<2)return n;const i=(t==null?void 0:t.decode)||tSt;let o=0;do{const s=e.indexOf("=",o);if(s===-1)break;const a=e.indexOf(";",o),l=a===-1?r:a;if(s>l){o=e.lastIndexOf(";",s-1)+1;continue}const u=hue(e,o,s),c=pue(e,s,u),f=e.slice(u,c);if(n[f]===void 0){let p=hue(e,s+1,l),g=pue(e,l,p);const v=i(e.slice(p,g));n[f]=v}o=l+1}while(o<r);return n}function hue(e,t,n){do{const r=e.charCodeAt(t);if(r!==32&&r!==9)return t}while(++t<n);return n}function pue(e,t,n){for(;t>n;){const r=e.charCodeAt(--t);if(r!==32&&r!==9)return t+1}return n}function eSt(e,t,n){const r=(n==null?void 0:n.encode)||encodeURIComponent;if(!qxt.test(e))throw new TypeError(`argument name is invalid: ${e}`);const i=r(t);if(!Gxt.test(i))throw new TypeError(`argument val is invalid: ${t}`);let o=e+"="+i;if(!n)return o;if(n.maxAge!==void 0){if(!Number.isInteger(n.maxAge))throw new TypeError(`option maxAge is invalid: ${n.maxAge}`);o+="; Max-Age="+n.maxAge}if(n.domain){if(!Zxt.test(n.domain))throw new TypeError(`option domain is invalid: ${n.domain}`);o+="; Domain="+n.domain}if(n.path){if(!Yxt.test(n.path))throw new TypeError(`option path is invalid: ${n.path}`);o+="; Path="+n.path}if(n.expires){if(!nSt(n.expires)||!Number.isFinite(n.expires.valueOf()))throw new TypeError(`option expires is invalid: ${n.expires}`);o+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(o+="; HttpOnly"),n.secure&&(o+="; Secure"),n.partitioned&&(o+="; Partitioned"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():void 0){case"low":o+="; Priority=Low";break;case"medium":o+="; Priority=Medium";break;case"high":o+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${n.priority}`)}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"none":o+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${n.sameSite}`)}return o}function tSt(e){if(e.indexOf("%")===-1)return e;try{return decodeURIComponent(e)}catch{return e}}function nSt(e){return Xxt.call(e)==="[object Date]"}function ss(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function mh(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Nq({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function c5(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function kDe(e,t,n="/"){return rSt(e,t,n,!1)}function rSt(e,t,n,r){let i=typeof t=="string"?c5(t):t,o=Ug(i.pathname||"/",n);if(o==null)return null;let s=PDe(e);iSt(s);let a=null;for(let l=0;a==null&&l<s.length;++l){let u=mSt(o);a=hSt(s[l],u,r)}return a}function PDe(e,t=[],n=[],r=""){let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(ss(l.relativePath.startsWith(r),`Absolute route path "${l.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(r.length));let u=Eg([r,l.relativePath]),c=n.concat(l);o.children&&o.children.length>0&&(ss(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),PDe(o.children,t,c,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:dSt(u,o.index),routesMeta:c})};return e.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of $De(o.path))i(o,s,l)}),t}function $De(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=$De(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function iSt(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:fSt(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var oSt=/^:[\w-]+$/,sSt=3,aSt=2,lSt=1,uSt=10,cSt=-2,mue=e=>e==="*";function dSt(e,t){let n=e.split("/"),r=n.length;return n.some(mue)&&(r+=cSt),t&&(r+=aSt),n.filter(i=>!mue(i)).reduce((i,o)=>i+(oSt.test(o)?sSt:o===""?lSt:uSt),r)}function fSt(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function hSt(e,t,n=!1){let{routesMeta:r}=e,i={},o="/",s=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,c=o==="/"?t:t.slice(o.length)||"/",f=_D({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),p=l.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=_D({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!f)return null;Object.assign(i,f.params),s.push({params:i,pathname:Eg([o,f.pathname]),pathnameBase:bSt(Eg([o,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(o=Eg([o,f.pathnameBase]))}return s}function _D(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=pSt(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,{paramName:c,isOptional:f},p)=>{if(c==="*"){let v=a[p]||"";s=o.slice(0,o.length-v.length).replace(/(.)\/+$/,"$1")}const g=a[p];return f&&!g?u[c]=void 0:u[c]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:s,pattern:e}}function pSt(e,t=!1,n=!0){mh(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function mSt(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return mh(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Ug(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function gSt(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?c5(e):e;return{pathname:n?n.startsWith("/")?n:vSt(n,t):t,search:wSt(r),hash:xSt(i)}}function vSt(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function QF(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ySt(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function TDe(e){let t=ySt(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function MDe(e,t,n,r=!1){let i;typeof e=="string"?i=c5(e):(i={...e},ss(!i.pathname||!i.pathname.includes("?"),QF("?","pathname","search",i)),ss(!i.pathname||!i.pathname.includes("#"),QF("#","pathname","hash",i)),ss(!i.search||!i.search.includes("#"),QF("#","search","hash",i)));let o=e===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let f=t.length-1;if(!r&&s.startsWith("..")){let p=s.split("/");for(;p[0]==="..";)p.shift(),f-=1;i.pathname=p.join("/")}a=f>=0?t[f]:"/"}let l=gSt(i,a),u=s&&s!=="/"&&s.endsWith("/"),c=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}var Eg=e=>e.join("/").replace(/\/\/+/g,"/"),bSt=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),wSt=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,xSt=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function SSt(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var LDe=["POST","PUT","PATCH","DELETE"];new Set(LDe);var _St=["GET",...LDe];new Set(_St);var C3=h.createContext(null);C3.displayName="DataRouter";var W7=h.createContext(null);W7.displayName="DataRouterState";var ADe=h.createContext({isTransitioning:!1});ADe.displayName="ViewTransition";var CSt=h.createContext(new Map);CSt.displayName="Fetchers";var ESt=h.createContext(null);ESt.displayName="Await";var sm=h.createContext(null);sm.displayName="Navigation";var d5=h.createContext(null);d5.displayName="Location";var fv=h.createContext({outlet:null,matches:[],isDataRoute:!1});fv.displayName="Route";var KJ=h.createContext(null);KJ.displayName="RouteError";function kSt(e,{relative:t}={}){ss(f5(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=h.useContext(sm),{hash:i,pathname:o,search:s}=h5(e,{relative:t}),a=o;return n!=="/"&&(a=o==="/"?n:Eg([n,o])),r.createHref({pathname:a,search:s,hash:i})}function f5(){return h.useContext(d5)!=null}function hv(){return ss(f5(),"useLocation() may be used only in the context of a <Router> component."),h.useContext(d5).location}var IDe="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function RDe(e){h.useContext(sm).static||h.useLayoutEffect(e)}function qJ(){let{isDataRoute:e}=h.useContext(fv);return e?FSt():PSt()}function PSt(){ss(f5(),"useNavigate() may be used only in the context of a <Router> component.");let e=h.useContext(C3),{basename:t,navigator:n}=h.useContext(sm),{matches:r}=h.useContext(fv),{pathname:i}=hv(),o=JSON.stringify(TDe(r)),s=h.useRef(!1);return RDe(()=>{s.current=!0}),h.useCallback((l,u={})=>{if(mh(s.current,IDe),!s.current)return;if(typeof l=="number"){n.go(l);return}let c=MDe(l,JSON.parse(o),i,u.relative==="path");e==null&&t!=="/"&&(c.pathname=c.pathname==="/"?t:Eg([t,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[t,n,o,i,e])}h.createContext(null);function h5(e,{relative:t}={}){let{matches:n}=h.useContext(fv),{pathname:r}=hv(),i=JSON.stringify(TDe(n));return h.useMemo(()=>MDe(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function $St(e,t){return DDe(e,t)}function DDe(e,t,n,r){var _;ss(f5(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:o}=h.useContext(sm),{matches:s}=h.useContext(fv),a=s[s.length-1],l=a?a.params:{},u=a?a.pathname:"/",c=a?a.pathnameBase:"/",f=a&&a.route;{let k=f&&f.path||"";ODe(u,!f||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let p=hv(),g;if(t){let k=typeof t=="string"?c5(t):t;ss(c==="/"||((_=k.pathname)==null?void 0:_.startsWith(c)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${c}" but pathname "${k.pathname}" was given in the \`location\` prop.`),g=k}else g=p;let v=g.pathname||"/",y=v;if(c!=="/"){let k=c.replace(/^\//,"").split("/");y="/"+v.replace(/^\//,"").split("/").slice(k.length).join("/")}let S=!o&&n&&n.matches&&n.matches.length>0?n.matches:kDe(e,{pathname:y});mh(f||S!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),mh(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=ISt(S&&S.map(k=>Object.assign({},k,{params:Object.assign({},l,k.params),pathname:Eg([c,i.encodeLocation?i.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?c:Eg([c,i.encodeLocation?i.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),s,n,r);return t&&C?h.createElement(d5.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},C):C}function TSt(){let e=NSt(),t=SSt(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=h.createElement(h.Fragment,null,h.createElement("p",null," Hey developer "),h.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",h.createElement("code",{style:o},"ErrorBoundary")," or"," ",h.createElement("code",{style:o},"errorElement")," prop on your route.")),h.createElement(h.Fragment,null,h.createElement("h2",null,"Unexpected Application Error!"),h.createElement("h3",{style:{fontStyle:"italic"}},t),n?h.createElement("pre",{style:i},n):null,s)}var MSt=h.createElement(TSt,null),LSt=class extends h.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?h.createElement(fv.Provider,{value:this.props.routeContext},h.createElement(KJ.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ASt({routeContext:e,match:t,children:n}){let r=h.useContext(C3);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),h.createElement(fv.Provider,{value:e},n)}function ISt(e,t=[],n=null,r=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,o=n==null?void 0:n.errors;if(o!=null){let l=i.findIndex(u=>u.route.id&&(o==null?void 0:o[u.route.id])!==void 0);ss(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,l+1))}let s=!1,a=-1;if(n)for(let l=0;l<i.length;l++){let u=i[l];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(a=l),u.route.id){let{loaderData:c,errors:f}=n,p=u.route.loader&&!c.hasOwnProperty(u.route.id)&&(!f||f[u.route.id]===void 0);if(u.route.lazy||p){s=!0,a>=0?i=i.slice(0,a+1):i=[i[0]];break}}}return i.reduceRight((l,u,c)=>{let f,p=!1,g=null,v=null;n&&(f=o&&u.route.id?o[u.route.id]:void 0,g=u.route.errorElement||MSt,s&&(a<0&&c===0?(ODe("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,v=null):a===c&&(p=!0,v=u.route.hydrateFallbackElement||null)));let y=t.concat(i.slice(0,c+1)),S=()=>{let C;return f?C=g:p?C=v:u.route.Component?C=h.createElement(u.route.Component,null):u.route.element?C=u.route.element:C=l,h.createElement(ASt,{match:u,routeContext:{outlet:l,matches:y,isDataRoute:n!=null},children:C})};return n&&(u.route.ErrorBoundary||u.route.errorElement||c===0)?h.createElement(LSt,{location:n.location,revalidation:n.revalidation,component:g,error:f,children:S(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):S()},null)}function GJ(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function RSt(e){let t=h.useContext(C3);return ss(t,GJ(e)),t}function DSt(e){let t=h.useContext(W7);return ss(t,GJ(e)),t}function OSt(e){let t=h.useContext(fv);return ss(t,GJ(e)),t}function ZJ(e){let t=OSt(e),n=t.matches[t.matches.length-1];return ss(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function jSt(){return ZJ("useRouteId")}function NSt(){var r;let e=h.useContext(KJ),t=DSt("useRouteError"),n=ZJ("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function FSt(){let{router:e}=RSt("useNavigate"),t=ZJ("useNavigate"),n=h.useRef(!1);return RDe(()=>{n.current=!0}),h.useCallback(async(i,o={})=>{mh(n.current,IDe),n.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...o}))},[e,t])}var gue={};function ODe(e,t,n){!t&&!gue[e]&&(gue[e]=!0,mh(!1,n))}h.memo(BSt);function BSt({routes:e,future:t,state:n}){return DDe(e,void 0,n,t)}function jDe(e){ss(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function zSt({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:o=!1}){ss(!f5(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=e.replace(/^\/*/,"/"),a=h.useMemo(()=>({basename:s,navigator:i,static:o,future:{}}),[s,i,o]);typeof n=="string"&&(n=c5(n));let{pathname:l="/",search:u="",hash:c="",state:f=null,key:p="default"}=n,g=h.useMemo(()=>{let v=Ug(l,s);return v==null?null:{location:{pathname:v,search:u,hash:c,state:f,key:p},navigationType:r}},[s,l,u,c,f,p,r]);return mh(g!=null,`<Router basename="${s}"> is not able to match the URL "${l}${u}${c}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:h.createElement(sm.Provider,{value:a},h.createElement(d5.Provider,{children:t,value:g}))}function HSt({children:e,location:t}){return $St(Fq(e),t)}function Fq(e,t=[]){let n=[];return h.Children.forEach(e,(r,i)=>{if(!h.isValidElement(r))return;let o=[...t,i];if(r.type===h.Fragment){n.push.apply(n,Fq(r.props.children,o));return}ss(r.type===jDe,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ss(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=Fq(r.props.children,o)),n.push(s)}),n}var eI="get",tI="application/x-www-form-urlencoded";function K7(e){return e!=null&&typeof e.tagName=="string"}function VSt(e){return K7(e)&&e.tagName.toLowerCase()==="button"}function USt(e){return K7(e)&&e.tagName.toLowerCase()==="form"}function WSt(e){return K7(e)&&e.tagName.toLowerCase()==="input"}function KSt(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function qSt(e,t){return e.button===0&&(!t||t==="_self")&&!KSt(e)}function Bq(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function GSt(e,t){let n=Bq(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(o=>{n.append(i,o)})}),n}var BM=null;function ZSt(){if(BM===null)try{new FormData(document.createElement("form"),0),BM=!1}catch{BM=!0}return BM}var YSt=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function JF(e){return e!=null&&!YSt.has(e)?(mh(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${tI}"`),null):e}function XSt(e,t){let n,r,i,o,s;if(USt(e)){let a=e.getAttribute("action");r=a?Ug(a,t):null,n=e.getAttribute("method")||eI,i=JF(e.getAttribute("enctype"))||tI,o=new FormData(e)}else if(VSt(e)||WSt(e)&&(e.type==="submit"||e.type==="image")){let a=e.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||a.getAttribute("action");if(r=l?Ug(l,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||eI,i=JF(e.getAttribute("formenctype"))||JF(a.getAttribute("enctype"))||tI,o=new FormData(a,e),!ZSt()){let{name:u,type:c,value:f}=e;if(c==="image"){let p=u?`${u}.`:"";o.append(`${p}x`,"0"),o.append(`${p}y`,"0")}else u&&o.append(u,f)}}else{if(K7(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=eI,r=null,i=tI,s=e}return o&&i==="text/plain"&&(s=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:s}}function YJ(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function QSt(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function JSt(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function e2t(e,t,n){let r=await Promise.all(e.map(async i=>{let o=t.routes[i.route.id];if(o){let s=await QSt(o,n);return s.links?s.links():[]}return[]}));return i2t(r.flat(1).filter(JSt).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function vue(e,t,n,r,i,o){let s=(l,u)=>n[u]?l.route.id!==n[u].route.id:!0,a=(l,u)=>{var c;return n[u].pathname!==l.pathname||((c=n[u].route.path)==null?void 0:c.endsWith("*"))&&n[u].params["*"]!==l.params["*"]};return o==="assets"?t.filter((l,u)=>s(l,u)||a(l,u)):o==="data"?t.filter((l,u)=>{var f;let c=r.routes[l.route.id];if(!c||!c.hasLoader)return!1;if(s(l,u)||a(l,u))return!0;if(l.route.shouldRevalidate){let p=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function t2t(e,t,{includeHydrateFallback:n}={}){return n2t(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function n2t(e){return[...new Set(e)]}function r2t(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function i2t(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let o=JSON.stringify(r2t(i));return n.has(o)||(n.add(o),r.push({key:o,link:i})),r},[])}var o2t=new Set([100,101,204,205]);function s2t(e,t){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname="_root.data":t&&Ug(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function NDe(){let e=h.useContext(C3);return YJ(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function a2t(){let e=h.useContext(W7);return YJ(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var XJ=h.createContext(void 0);XJ.displayName="FrameworkContext";function FDe(){let e=h.useContext(XJ);return YJ(e,"You must render this element inside a <HydratedRouter> element"),e}function l2t(e,t){let n=h.useContext(XJ),[r,i]=h.useState(!1),[o,s]=h.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:u,onMouseLeave:c,onTouchStart:f}=t,p=h.useRef(null);h.useEffect(()=>{if(e==="render"&&s(!0),e==="viewport"){let y=C=>{C.forEach(_=>{s(_.isIntersecting)})},S=new IntersectionObserver(y,{threshold:.5});return p.current&&S.observe(p.current),()=>{S.disconnect()}}},[e]),h.useEffect(()=>{if(r){let y=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(y)}}},[r]);let g=()=>{i(!0)},v=()=>{i(!1),s(!1)};return n?e!=="intent"?[o,p,{}]:[o,p,{onFocus:jE(a,g),onBlur:jE(l,v),onMouseEnter:jE(u,g),onMouseLeave:jE(c,v),onTouchStart:jE(f,g)}]:[!1,p,{}]}function jE(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function u2t({page:e,...t}){let{router:n}=NDe(),r=h.useMemo(()=>kDe(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?h.createElement(d2t,{page:e,matches:r,...t}):null}function c2t(e){let{manifest:t,routeModules:n}=FDe(),[r,i]=h.useState([]);return h.useEffect(()=>{let o=!1;return e2t(e,t,n).then(s=>{o||i(s)}),()=>{o=!0}},[e,t,n]),r}function d2t({page:e,matches:t,...n}){let r=hv(),{manifest:i,routeModules:o}=FDe(),{basename:s}=NDe(),{loaderData:a,matches:l}=a2t(),u=h.useMemo(()=>vue(e,t,l,i,r,"data"),[e,t,l,i,r]),c=h.useMemo(()=>vue(e,t,l,i,r,"assets"),[e,t,l,i,r]),f=h.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let v=new Set,y=!1;if(t.forEach(C=>{var k;let _=i.routes[C.route.id];!_||!_.hasLoader||(!u.some(w=>w.route.id===C.route.id)&&C.route.id in a&&((k=o[C.route.id])!=null&&k.shouldRevalidate)||_.hasClientLoader?y=!0:v.add(C.route.id))}),v.size===0)return[];let S=s2t(e,s);return y&&v.size>0&&S.searchParams.set("_routes",t.filter(C=>v.has(C.route.id)).map(C=>C.route.id).join(",")),[S.pathname+S.search]},[s,a,r,i,u,t,e,o]),p=h.useMemo(()=>t2t(c,i),[c,i]),g=c2t(c);return h.createElement(h.Fragment,null,f.map(v=>h.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...n})),p.map(v=>h.createElement("link",{key:v,rel:"modulepreload",href:v,...n})),g.map(({key:v,link:y})=>h.createElement("link",{key:v,...y})))}function f2t(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var BDe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{BDe&&(window.__reactRouterVersion="7.5.3")}catch{}var zDe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,HDe=h.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:o,replace:s,state:a,target:l,to:u,preventScrollReset:c,viewTransition:f,...p},g){let{basename:v}=h.useContext(sm),y=typeof u=="string"&&zDe.test(u),S,C=!1;if(typeof u=="string"&&y&&(S=u,BDe))try{let H=new URL(window.location.href),O=u.startsWith("//")?new URL(H.protocol+u):new URL(u),z=Ug(O.pathname,v);O.origin===H.origin&&z!=null?u=z+O.search+O.hash:C=!0}catch{mh(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let _=kSt(u,{relative:i}),[k,w,P]=l2t(r,p),M=g2t(u,{replace:s,state:a,target:l,preventScrollReset:c,relative:i,viewTransition:f});function R(H){t&&t(H),H.defaultPrevented||M(H)}let D=h.createElement("a",{...p,...P,href:S||_,onClick:C||o?t:R,ref:f2t(g,w),target:l,"data-discover":!y&&n==="render"?"true":void 0});return k&&!y?h.createElement(h.Fragment,null,D,h.createElement(u2t,{page:_})):D});HDe.displayName="Link";var h2t=h.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:o,to:s,viewTransition:a,children:l,...u},c){let f=h5(s,{relative:u.relative}),p=hv(),g=h.useContext(W7),{navigator:v,basename:y}=h.useContext(sm),S=g!=null&&x2t(f)&&a===!0,C=v.encodeLocation?v.encodeLocation(f).pathname:f.pathname,_=p.pathname,k=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;n||(_=_.toLowerCase(),k=k?k.toLowerCase():null,C=C.toLowerCase()),k&&y&&(k=Ug(k,y)||k);const w=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let P=_===C||!i&&_.startsWith(C)&&_.charAt(w)==="/",M=k!=null&&(k===C||!i&&k.startsWith(C)&&k.charAt(C.length)==="/"),R={isActive:P,isPending:M,isTransitioning:S},D=P?t:void 0,H;typeof r=="function"?H=r(R):H=[r,P?"active":null,M?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let O=typeof o=="function"?o(R):o;return h.createElement(HDe,{...u,"aria-current":D,className:H,ref:c,style:O,to:s,viewTransition:a},typeof l=="function"?l(R):l)});h2t.displayName="NavLink";var p2t=h.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:o,method:s=eI,action:a,onSubmit:l,relative:u,preventScrollReset:c,viewTransition:f,...p},g)=>{let v=b2t(),y=w2t(a,{relative:u}),S=s.toLowerCase()==="get"?"get":"post",C=typeof a=="string"&&zDe.test(a),_=k=>{if(l&&l(k),k.defaultPrevented)return;k.preventDefault();let w=k.nativeEvent.submitter,P=(w==null?void 0:w.getAttribute("formmethod"))||s;v(w||k.currentTarget,{fetcherKey:t,method:P,navigate:n,replace:i,state:o,relative:u,preventScrollReset:c,viewTransition:f})};return h.createElement("form",{ref:g,method:S,action:y,onSubmit:r?l:_,...p,"data-discover":!C&&e==="render"?"true":void 0})});p2t.displayName="Form";function m2t(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function VDe(e){let t=h.useContext(C3);return ss(t,m2t(e)),t}function g2t(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:o,viewTransition:s}={}){let a=qJ(),l=hv(),u=h5(e,{relative:o});return h.useCallback(c=>{if(qSt(c,t)){c.preventDefault();let f=n!==void 0?n:Nq(l)===Nq(u);a(e,{replace:f,state:r,preventScrollReset:i,relative:o,viewTransition:s})}},[l,a,u,n,r,t,e,i,o,s])}function f1(e){mh(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=h.useRef(Bq(e)),n=h.useRef(!1),r=hv(),i=h.useMemo(()=>GSt(r.search,n.current?null:t.current),[r.search]),o=qJ(),s=h.useCallback((a,l)=>{const u=Bq(typeof a=="function"?a(i):a);n.current=!0,o("?"+u,l)},[o,i]);return[i,s]}var v2t=0,y2t=()=>`__${String(++v2t)}__`;function b2t(){let{router:e}=VDe("useSubmit"),{basename:t}=h.useContext(sm),n=jSt();return h.useCallback(async(r,i={})=>{let{action:o,method:s,encType:a,formData:l,body:u}=XSt(r,t);if(i.navigate===!1){let c=i.fetcherKey||y2t();await e.fetch(c,n,i.action||o,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||s,formEncType:i.encType||a,flushSync:i.flushSync})}else await e.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||s,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}function w2t(e,{relative:t}={}){let{basename:n}=h.useContext(sm),r=h.useContext(fv);ss(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...h5(e||".",{relative:t})},s=hv();if(e==null){o.search=s.search;let a=new URLSearchParams(o.search),l=a.getAll("index");if(l.some(c=>c==="")){a.delete("index"),l.filter(f=>f).forEach(f=>a.append("index",f));let c=a.toString();o.search=c?`?${c}`:""}}return(!e||e===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:Eg([n,o.pathname])),Nq(o)}function x2t(e,t={}){let n=h.useContext(ADe);ss(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=VDe("useViewTransitionState"),i=h5(e,{relative:t.relative});if(!n.isTransitioning)return!1;let o=Ug(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=Ug(n.nextLocation.pathname,r)||n.nextLocation.pathname;return _D(i.pathname,s)!=null||_D(i.pathname,o)!=null}new TextEncoder;[...o2t];const QJ="-",S2t=e=>{const t=C2t(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:s=>{const a=s.split(QJ);return a[0]===""&&a.length!==1&&a.shift(),UDe(a,t)||_2t(s)},getConflictingClassGroupIds:(s,a)=>{const l=n[s]||[];return a&&r[s]?[...l,...r[s]]:l}}},UDe=(e,t)=>{var s;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),i=r?UDe(e.slice(1),r):void 0;if(i)return i;if(t.validators.length===0)return;const o=e.join(QJ);return(s=t.validators.find(({validator:a})=>a(o)))==null?void 0:s.classGroupId},yue=/^\[(.+)\]$/,_2t=e=>{if(yue.test(e)){const t=yue.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},C2t=e=>{const{theme:t,classGroups:n}=e,r={nextPart:new Map,validators:[]};for(const i in n)zq(n[i],r,i,t);return r},zq=(e,t,n,r)=>{e.forEach(i=>{if(typeof i=="string"){const o=i===""?t:bue(t,i);o.classGroupId=n;return}if(typeof i=="function"){if(E2t(i)){zq(i(r),t,n,r);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([o,s])=>{zq(s,bue(t,o),n,r)})})},bue=(e,t)=>{let n=e;return t.split(QJ).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},E2t=e=>e.isThemeGetter,k2t=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const i=(o,s)=>{n.set(o,s),t++,t>e&&(t=0,r=n,n=new Map)};return{get(o){let s=n.get(o);if(s!==void 0)return s;if((s=r.get(o))!==void 0)return i(o,s),s},set(o,s){n.has(o)?n.set(o,s):i(o,s)}}},Hq="!",Vq=":",P2t=Vq.length,$2t=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=i=>{const o=[];let s=0,a=0,l=0,u;for(let v=0;v<i.length;v++){let y=i[v];if(s===0&&a===0){if(y===Vq){o.push(i.slice(l,v)),l=v+P2t;continue}if(y==="/"){u=v;continue}}y==="["?s++:y==="]"?s--:y==="("?a++:y===")"&&a--}const c=o.length===0?i:i.substring(l),f=T2t(c),p=f!==c,g=u&&u>l?u-l:void 0;return{modifiers:o,hasImportantModifier:p,baseClassName:f,maybePostfixModifierPosition:g}};if(t){const i=t+Vq,o=r;r=s=>s.startsWith(i)?o(s.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:s,maybePostfixModifierPosition:void 0}}if(n){const i=r;r=o=>n({className:o,parseClassName:i})}return r},T2t=e=>e.endsWith(Hq)?e.substring(0,e.length-1):e.startsWith(Hq)?e.substring(1):e,M2t=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const i=[];let o=[];return r.forEach(s=>{s[0]==="["||t[s]?(i.push(...o.sort(),s),o=[]):o.push(s)}),i.push(...o.sort()),i}},L2t=e=>({cache:k2t(e.cacheSize),parseClassName:$2t(e),sortModifiers:M2t(e),...S2t(e)}),A2t=/\s+/,I2t=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:o}=t,s=[],a=e.trim().split(A2t);let l="";for(let u=a.length-1;u>=0;u-=1){const c=a[u],{isExternal:f,modifiers:p,hasImportantModifier:g,baseClassName:v,maybePostfixModifierPosition:y}=n(c);if(f){l=c+(l.length>0?" "+l:l);continue}let S=!!y,C=r(S?v.substring(0,y):v);if(!C){if(!S){l=c+(l.length>0?" "+l:l);continue}if(C=r(v),!C){l=c+(l.length>0?" "+l:l);continue}S=!1}const _=o(p).join(":"),k=g?_+Hq:_,w=k+C;if(s.includes(w))continue;s.push(w);const P=i(C,S);for(let M=0;M<P.length;++M){const R=P[M];s.push(k+R)}l=c+(l.length>0?" "+l:l)}return l};function R2t(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=WDe(t))&&(r&&(r+=" "),r+=n);return r}const WDe=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=WDe(e[r]))&&(n&&(n+=" "),n+=t);return n};function D2t(e,...t){let n,r,i,o=s;function s(l){const u=t.reduce((c,f)=>f(c),e());return n=L2t(u),r=n.cache.get,i=n.cache.set,o=a,a(l)}function a(l){const u=r(l);if(u)return u;const c=I2t(l,n);return i(l,c),c}return function(){return o(R2t.apply(null,arguments))}}const qs=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},KDe=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,qDe=/^\((?:(\w[\w-]*):)?(.+)\)$/i,O2t=/^\d+\/\d+$/,j2t=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,N2t=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,F2t=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,B2t=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,z2t=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,mS=e=>O2t.test(e),_r=e=>!!e&&!Number.isNaN(Number(e)),Nv=e=>!!e&&Number.isInteger(Number(e)),eB=e=>e.endsWith("%")&&_r(e.slice(0,-1)),wm=e=>j2t.test(e),H2t=()=>!0,V2t=e=>N2t.test(e)&&!F2t.test(e),GDe=()=>!1,U2t=e=>B2t.test(e),W2t=e=>z2t.test(e),K2t=e=>!Gt(e)&&!Zt(e),q2t=e=>E3(e,XDe,GDe),Gt=e=>KDe.test(e),j1=e=>E3(e,QDe,V2t),tB=e=>E3(e,Q2t,_r),wue=e=>E3(e,ZDe,GDe),G2t=e=>E3(e,YDe,W2t),zM=e=>E3(e,JDe,U2t),Zt=e=>qDe.test(e),NE=e=>k3(e,QDe),Z2t=e=>k3(e,J2t),xue=e=>k3(e,ZDe),Y2t=e=>k3(e,XDe),X2t=e=>k3(e,YDe),HM=e=>k3(e,JDe,!0),E3=(e,t,n)=>{const r=KDe.exec(e);return r?r[1]?t(r[1]):n(r[2]):!1},k3=(e,t,n=!1)=>{const r=qDe.exec(e);return r?r[1]?t(r[1]):n:!1},ZDe=e=>e==="position"||e==="percentage",YDe=e=>e==="image"||e==="url",XDe=e=>e==="length"||e==="size"||e==="bg-size",QDe=e=>e==="length",Q2t=e=>e==="number",J2t=e=>e==="family-name",JDe=e=>e==="shadow",e_t=()=>{const e=qs("color"),t=qs("font"),n=qs("text"),r=qs("font-weight"),i=qs("tracking"),o=qs("leading"),s=qs("breakpoint"),a=qs("container"),l=qs("spacing"),u=qs("radius"),c=qs("shadow"),f=qs("inset-shadow"),p=qs("text-shadow"),g=qs("drop-shadow"),v=qs("blur"),y=qs("perspective"),S=qs("aspect"),C=qs("ease"),_=qs("animate"),k=()=>["auto","avoid","all","avoid-page","page","left","right","column"],w=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],P=()=>[...w(),Zt,Gt],M=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto","contain","none"],D=()=>[Zt,Gt,l],H=()=>[mS,"full","auto",...D()],O=()=>[Nv,"none","subgrid",Zt,Gt],z=()=>["auto",{span:["full",Nv,Zt,Gt]},Nv,Zt,Gt],G=()=>[Nv,"auto",Zt,Gt],ee=()=>["auto","min","max","fr",Zt,Gt],X=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],se=()=>["start","end","center","stretch","center-safe","end-safe"],B=()=>["auto",...D()],q=()=>[mS,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...D()],U=()=>[e,Zt,Gt],K=()=>[...w(),xue,wue,{position:[Zt,Gt]}],J=()=>["no-repeat",{repeat:["","x","y","space","round"]}],oe=()=>["auto","cover","contain",Y2t,q2t,{size:[Zt,Gt]}],he=()=>[eB,NE,j1],me=()=>["","none","full",u,Zt,Gt],re=()=>["",_r,NE,j1],ue=()=>["solid","dashed","dotted","double"],ce=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],we=()=>[_r,eB,xue,wue],Me=()=>["","none",v,Zt,Gt],Be=()=>["none",_r,Zt,Gt],ge=()=>["none",_r,Zt,Gt],ye=()=>[_r,Zt,Gt],_e=()=>[mS,"full",...D()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[wm],breakpoint:[wm],color:[H2t],container:[wm],"drop-shadow":[wm],ease:["in","out","in-out"],font:[K2t],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[wm],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[wm],shadow:[wm],spacing:["px",_r],text:[wm],"text-shadow":[wm],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",mS,Gt,Zt,S]}],container:["container"],columns:[{columns:[_r,Gt,Zt,a]}],"break-after":[{"break-after":k()}],"break-before":[{"break-before":k()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:P()}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:H()}],"inset-x":[{"inset-x":H()}],"inset-y":[{"inset-y":H()}],start:[{start:H()}],end:[{end:H()}],top:[{top:H()}],right:[{right:H()}],bottom:[{bottom:H()}],left:[{left:H()}],visibility:["visible","invisible","collapse"],z:[{z:[Nv,"auto",Zt,Gt]}],basis:[{basis:[mS,"full","auto",a,...D()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[_r,mS,"auto","initial","none",Gt]}],grow:[{grow:["",_r,Zt,Gt]}],shrink:[{shrink:["",_r,Zt,Gt]}],order:[{order:[Nv,"first","last","none",Zt,Gt]}],"grid-cols":[{"grid-cols":O()}],"col-start-end":[{col:z()}],"col-start":[{"col-start":G()}],"col-end":[{"col-end":G()}],"grid-rows":[{"grid-rows":O()}],"row-start-end":[{row:z()}],"row-start":[{"row-start":G()}],"row-end":[{"row-end":G()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":ee()}],"auto-rows":[{"auto-rows":ee()}],gap:[{gap:D()}],"gap-x":[{"gap-x":D()}],"gap-y":[{"gap-y":D()}],"justify-content":[{justify:[...X(),"normal"]}],"justify-items":[{"justify-items":[...se(),"normal"]}],"justify-self":[{"justify-self":["auto",...se()]}],"align-content":[{content:["normal",...X()]}],"align-items":[{items:[...se(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...se(),{baseline:["","last"]}]}],"place-content":[{"place-content":X()}],"place-items":[{"place-items":[...se(),"baseline"]}],"place-self":[{"place-self":["auto",...se()]}],p:[{p:D()}],px:[{px:D()}],py:[{py:D()}],ps:[{ps:D()}],pe:[{pe:D()}],pt:[{pt:D()}],pr:[{pr:D()}],pb:[{pb:D()}],pl:[{pl:D()}],m:[{m:B()}],mx:[{mx:B()}],my:[{my:B()}],ms:[{ms:B()}],me:[{me:B()}],mt:[{mt:B()}],mr:[{mr:B()}],mb:[{mb:B()}],ml:[{ml:B()}],"space-x":[{"space-x":D()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":D()}],"space-y-reverse":["space-y-reverse"],size:[{size:q()}],w:[{w:[a,"screen",...q()]}],"min-w":[{"min-w":[a,"screen","none",...q()]}],"max-w":[{"max-w":[a,"screen","none","prose",{screen:[s]},...q()]}],h:[{h:["screen",...q()]}],"min-h":[{"min-h":["screen","none",...q()]}],"max-h":[{"max-h":["screen",...q()]}],"font-size":[{text:["base",n,NE,j1]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Zt,tB]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",eB,Gt]}],"font-family":[{font:[Z2t,Gt,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Zt,Gt]}],"line-clamp":[{"line-clamp":[_r,"none",Zt,tB]}],leading:[{leading:[o,...D()]}],"list-image":[{"list-image":["none",Zt,Gt]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Zt,Gt]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:U()}],"text-color":[{text:U()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ue(),"wavy"]}],"text-decoration-thickness":[{decoration:[_r,"from-font","auto",Zt,j1]}],"text-decoration-color":[{decoration:U()}],"underline-offset":[{"underline-offset":[_r,"auto",Zt,Gt]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Zt,Gt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Zt,Gt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:K()}],"bg-repeat":[{bg:J()}],"bg-size":[{bg:oe()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Nv,Zt,Gt],radial:["",Zt,Gt],conic:[Nv,Zt,Gt]},X2t,G2t]}],"bg-color":[{bg:U()}],"gradient-from-pos":[{from:he()}],"gradient-via-pos":[{via:he()}],"gradient-to-pos":[{to:he()}],"gradient-from":[{from:U()}],"gradient-via":[{via:U()}],"gradient-to":[{to:U()}],rounded:[{rounded:me()}],"rounded-s":[{"rounded-s":me()}],"rounded-e":[{"rounded-e":me()}],"rounded-t":[{"rounded-t":me()}],"rounded-r":[{"rounded-r":me()}],"rounded-b":[{"rounded-b":me()}],"rounded-l":[{"rounded-l":me()}],"rounded-ss":[{"rounded-ss":me()}],"rounded-se":[{"rounded-se":me()}],"rounded-ee":[{"rounded-ee":me()}],"rounded-es":[{"rounded-es":me()}],"rounded-tl":[{"rounded-tl":me()}],"rounded-tr":[{"rounded-tr":me()}],"rounded-br":[{"rounded-br":me()}],"rounded-bl":[{"rounded-bl":me()}],"border-w":[{border:re()}],"border-w-x":[{"border-x":re()}],"border-w-y":[{"border-y":re()}],"border-w-s":[{"border-s":re()}],"border-w-e":[{"border-e":re()}],"border-w-t":[{"border-t":re()}],"border-w-r":[{"border-r":re()}],"border-w-b":[{"border-b":re()}],"border-w-l":[{"border-l":re()}],"divide-x":[{"divide-x":re()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":re()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ue(),"hidden","none"]}],"divide-style":[{divide:[...ue(),"hidden","none"]}],"border-color":[{border:U()}],"border-color-x":[{"border-x":U()}],"border-color-y":[{"border-y":U()}],"border-color-s":[{"border-s":U()}],"border-color-e":[{"border-e":U()}],"border-color-t":[{"border-t":U()}],"border-color-r":[{"border-r":U()}],"border-color-b":[{"border-b":U()}],"border-color-l":[{"border-l":U()}],"divide-color":[{divide:U()}],"outline-style":[{outline:[...ue(),"none","hidden"]}],"outline-offset":[{"outline-offset":[_r,Zt,Gt]}],"outline-w":[{outline:["",_r,NE,j1]}],"outline-color":[{outline:U()}],shadow:[{shadow:["","none",c,HM,zM]}],"shadow-color":[{shadow:U()}],"inset-shadow":[{"inset-shadow":["none",f,HM,zM]}],"inset-shadow-color":[{"inset-shadow":U()}],"ring-w":[{ring:re()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:U()}],"ring-offset-w":[{"ring-offset":[_r,j1]}],"ring-offset-color":[{"ring-offset":U()}],"inset-ring-w":[{"inset-ring":re()}],"inset-ring-color":[{"inset-ring":U()}],"text-shadow":[{"text-shadow":["none",p,HM,zM]}],"text-shadow-color":[{"text-shadow":U()}],opacity:[{opacity:[_r,Zt,Gt]}],"mix-blend":[{"mix-blend":[...ce(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ce()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[_r]}],"mask-image-linear-from-pos":[{"mask-linear-from":we()}],"mask-image-linear-to-pos":[{"mask-linear-to":we()}],"mask-image-linear-from-color":[{"mask-linear-from":U()}],"mask-image-linear-to-color":[{"mask-linear-to":U()}],"mask-image-t-from-pos":[{"mask-t-from":we()}],"mask-image-t-to-pos":[{"mask-t-to":we()}],"mask-image-t-from-color":[{"mask-t-from":U()}],"mask-image-t-to-color":[{"mask-t-to":U()}],"mask-image-r-from-pos":[{"mask-r-from":we()}],"mask-image-r-to-pos":[{"mask-r-to":we()}],"mask-image-r-from-color":[{"mask-r-from":U()}],"mask-image-r-to-color":[{"mask-r-to":U()}],"mask-image-b-from-pos":[{"mask-b-from":we()}],"mask-image-b-to-pos":[{"mask-b-to":we()}],"mask-image-b-from-color":[{"mask-b-from":U()}],"mask-image-b-to-color":[{"mask-b-to":U()}],"mask-image-l-from-pos":[{"mask-l-from":we()}],"mask-image-l-to-pos":[{"mask-l-to":we()}],"mask-image-l-from-color":[{"mask-l-from":U()}],"mask-image-l-to-color":[{"mask-l-to":U()}],"mask-image-x-from-pos":[{"mask-x-from":we()}],"mask-image-x-to-pos":[{"mask-x-to":we()}],"mask-image-x-from-color":[{"mask-x-from":U()}],"mask-image-x-to-color":[{"mask-x-to":U()}],"mask-image-y-from-pos":[{"mask-y-from":we()}],"mask-image-y-to-pos":[{"mask-y-to":we()}],"mask-image-y-from-color":[{"mask-y-from":U()}],"mask-image-y-to-color":[{"mask-y-to":U()}],"mask-image-radial":[{"mask-radial":[Zt,Gt]}],"mask-image-radial-from-pos":[{"mask-radial-from":we()}],"mask-image-radial-to-pos":[{"mask-radial-to":we()}],"mask-image-radial-from-color":[{"mask-radial-from":U()}],"mask-image-radial-to-color":[{"mask-radial-to":U()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":w()}],"mask-image-conic-pos":[{"mask-conic":[_r]}],"mask-image-conic-from-pos":[{"mask-conic-from":we()}],"mask-image-conic-to-pos":[{"mask-conic-to":we()}],"mask-image-conic-from-color":[{"mask-conic-from":U()}],"mask-image-conic-to-color":[{"mask-conic-to":U()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:K()}],"mask-repeat":[{mask:J()}],"mask-size":[{mask:oe()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Zt,Gt]}],filter:[{filter:["","none",Zt,Gt]}],blur:[{blur:Me()}],brightness:[{brightness:[_r,Zt,Gt]}],contrast:[{contrast:[_r,Zt,Gt]}],"drop-shadow":[{"drop-shadow":["","none",g,HM,zM]}],"drop-shadow-color":[{"drop-shadow":U()}],grayscale:[{grayscale:["",_r,Zt,Gt]}],"hue-rotate":[{"hue-rotate":[_r,Zt,Gt]}],invert:[{invert:["",_r,Zt,Gt]}],saturate:[{saturate:[_r,Zt,Gt]}],sepia:[{sepia:["",_r,Zt,Gt]}],"backdrop-filter":[{"backdrop-filter":["","none",Zt,Gt]}],"backdrop-blur":[{"backdrop-blur":Me()}],"backdrop-brightness":[{"backdrop-brightness":[_r,Zt,Gt]}],"backdrop-contrast":[{"backdrop-contrast":[_r,Zt,Gt]}],"backdrop-grayscale":[{"backdrop-grayscale":["",_r,Zt,Gt]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[_r,Zt,Gt]}],"backdrop-invert":[{"backdrop-invert":["",_r,Zt,Gt]}],"backdrop-opacity":[{"backdrop-opacity":[_r,Zt,Gt]}],"backdrop-saturate":[{"backdrop-saturate":[_r,Zt,Gt]}],"backdrop-sepia":[{"backdrop-sepia":["",_r,Zt,Gt]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":D()}],"border-spacing-x":[{"border-spacing-x":D()}],"border-spacing-y":[{"border-spacing-y":D()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Zt,Gt]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[_r,"initial",Zt,Gt]}],ease:[{ease:["linear","initial",C,Zt,Gt]}],delay:[{delay:[_r,Zt,Gt]}],animate:[{animate:["none",_,Zt,Gt]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[y,Zt,Gt]}],"perspective-origin":[{"perspective-origin":P()}],rotate:[{rotate:Be()}],"rotate-x":[{"rotate-x":Be()}],"rotate-y":[{"rotate-y":Be()}],"rotate-z":[{"rotate-z":Be()}],scale:[{scale:ge()}],"scale-x":[{"scale-x":ge()}],"scale-y":[{"scale-y":ge()}],"scale-z":[{"scale-z":ge()}],"scale-3d":["scale-3d"],skew:[{skew:ye()}],"skew-x":[{"skew-x":ye()}],"skew-y":[{"skew-y":ye()}],transform:[{transform:[Zt,Gt,"","none","gpu","cpu"]}],"transform-origin":[{origin:P()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:_e()}],"translate-x":[{"translate-x":_e()}],"translate-y":[{"translate-y":_e()}],"translate-z":[{"translate-z":_e()}],"translate-none":["translate-none"],accent:[{accent:U()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:U()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Zt,Gt]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Zt,Gt]}],fill:[{fill:["none",...U()]}],"stroke-w":[{stroke:[_r,NE,j1,tB]}],stroke:[{stroke:["none",...U()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},j0=D2t(e_t);var pg;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(pg||(pg={}));var Sue=function(e){return e};function _ue(e){e===void 0&&(e={});var t=e,n=t.initialEntries,r=n===void 0?["/"]:n,i=t.initialIndex,o=r.map(function(k){var w=Sue(Dp({pathname:"/",search:"",hash:"",state:null,key:kue()},typeof k=="string"?Pue(k):k));return w}),s=Cue(i??o.length-1,0,o.length-1),a=pg.Pop,l=o[s],u=Eue(),c=Eue();function f(k){return typeof k=="string"?k:t_t(k)}function p(k,w){return w===void 0&&(w=null),Sue(Dp({pathname:l.pathname,search:"",hash:""},typeof k=="string"?Pue(k):k,{state:w,key:kue()}))}function g(k,w,P){return!c.length||(c.call({action:k,location:w,retry:P}),!1)}function v(k,w){a=k,l=w,u.call({action:a,location:l})}function y(k,w){var P=pg.Push,M=p(k,w);function R(){y(k,w)}g(P,M,R)&&(s+=1,o.splice(s,o.length,M),v(P,M))}function S(k,w){var P=pg.Replace,M=p(k,w);function R(){S(k,w)}g(P,M,R)&&(o[s]=M,v(P,M))}function C(k){var w=Cue(s+k,0,o.length-1),P=pg.Pop,M=o[w];function R(){C(k)}g(P,M,R)&&(s=w,v(P,M))}var _={get index(){return s},get action(){return a},get location(){return l},createHref:f,push:y,replace:S,go:C,back:function(){C(-1)},forward:function(){C(1)},listen:function(w){return u.push(w)},block:function(w){return c.push(w)}};return _}function Cue(e,t,n){return Math.min(Math.max(e,t),n)}function Eue(){var e=[];return{get length(){return e.length},push:function(n){return e.push(n),function(){e=e.filter(function(r){return r!==n})}},call:function(n){e.forEach(function(r){return r&&r(n)})}}}function kue(){return Math.random().toString(36).substr(2,8)}function t_t(e){var t=e.pathname,n=t===void 0?"/":t,r=e.search,i=r===void 0?"":r,o=e.hash,s=o===void 0?"":o;return i&&i!=="?"&&(n+=i.charAt(0)==="?"?i:"?"+i),s&&s!=="#"&&(n+=s.charAt(0)==="#"?s:"#"+s),n}function Pue(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var h1={};Object.defineProperty(h1,"__esModule",{value:!0});h1.TokenData=void 0;h1.parse=nee;var n_t=h1.compile=l_t,r_t=h1.match=c_t;h1.pathToRegexp=n9e;h1.stringify=h_t;const JJ="/",eee=e=>e,e9e=/^[$_\p{ID_Start}]$/u,tee=/^[$\u200c\u200d\p{ID_Continue}]$/u,CD="https://git.new/pathToRegexpError",i_t={"{":"{","}":"}","(":"(",")":")","[":"[","]":"]","+":"+","?":"?","!":"!"};function o_t(e){return e.replace(/[{}()\[\]+?!:*]/g,"\\$&")}function Gh(e){return e.replace(/[.+*?^${}()[\]|/\\]/g,"\\$&")}function*s_t(e){const t=[...e];let n=0;function r(){let i="";if(e9e.test(t[++n]))for(i+=t[n];tee.test(t[++n]);)i+=t[n];else if(t[n]==='"'){let o=n;for(;n<t.length;){if(t[++n]==='"'){n++,o=0;break}t[n]==="\\"?i+=t[++n]:i+=t[n]}if(o)throw new TypeError(`Unterminated quote at ${o}: ${CD}`)}if(!i)throw new TypeError(`Missing parameter name at ${n}: ${CD}`);return i}for(;n<t.length;){const i=t[n],o=i_t[i];if(o)yield{type:o,index:n++,value:i};else if(i==="\\")yield{type:"ESCAPED",index:n++,value:t[n++]};else if(i===":"){const s=r();yield{type:"PARAM",index:n,value:s}}else if(i==="*"){const s=r();yield{type:"WILDCARD",index:n,value:s}}else yield{type:"CHAR",index:n,value:t[n++]}}return{type:"END",index:n,value:""}}class a_t{constructor(t){this.tokens=t}peek(){if(!this._peek){const t=this.tokens.next();this._peek=t.value}return this._peek}tryConsume(t){const n=this.peek();if(n.type===t)return this._peek=void 0,n.value}consume(t){const n=this.tryConsume(t);if(n!==void 0)return n;const{type:r,index:i}=this.peek();throw new TypeError(`Unexpected ${r} at ${i}, expected ${t}: ${CD}`)}text(){let t="",n;for(;n=this.tryConsume("CHAR")||this.tryConsume("ESCAPED");)t+=n;return t}}class q7{constructor(t){this.tokens=t}}h1.TokenData=q7;function nee(e,t={}){const{encodePath:n=eee}=t,r=new a_t(s_t(e));function i(s){const a=[];for(;;){const l=r.text();l&&a.push({type:"text",value:n(l)});const u=r.tryConsume("PARAM");if(u){a.push({type:"param",name:u});continue}const c=r.tryConsume("WILDCARD");if(c){a.push({type:"wildcard",name:c});continue}if(r.tryConsume("{")){a.push({type:"group",tokens:i("}")});continue}return r.consume(s),a}}const o=i("END");return new q7(o)}function l_t(e,t={}){const{encode:n=encodeURIComponent,delimiter:r=JJ}=t,i=e instanceof q7?e:nee(e,t),o=t9e(i.tokens,r,n);return function(a={}){const[l,...u]=o(a);if(u.length)throw new TypeError(`Missing parameters: ${u.join(", ")}`);return l}}function t9e(e,t,n){const r=e.map(i=>u_t(i,t,n));return i=>{const o=[""];for(const s of r){const[a,...l]=s(i);o[0]+=a,o.push(...l)}return o}}function u_t(e,t,n){if(e.type==="text")return()=>[e.value];if(e.type==="group"){const i=t9e(e.tokens,t,n);return o=>{const[s,...a]=i(o);return a.length?[""]:[s]}}const r=n||eee;return e.type==="wildcard"&&n!==!1?i=>{const o=i[e.name];if(o==null)return["",e.name];if(!Array.isArray(o)||o.length===0)throw new TypeError(`Expected "${e.name}" to be a non-empty array`);return[o.map((s,a)=>{if(typeof s!="string")throw new TypeError(`Expected "${e.name}/${a}" to be a string`);return r(s)}).join(t)]}:i=>{const o=i[e.name];if(o==null)return["",e.name];if(typeof o!="string")throw new TypeError(`Expected "${e.name}" to be a string`);return[r(o)]}}function c_t(e,t={}){const{decode:n=decodeURIComponent,delimiter:r=JJ}=t,{regexp:i,keys:o}=n9e(e,t),s=o.map(a=>n===!1?eee:a.type==="param"?n:l=>l.split(r).map(n));return function(l){const u=i.exec(l);if(!u)return!1;const c=u[0],f=Object.create(null);for(let p=1;p<u.length;p++){if(u[p]===void 0)continue;const g=o[p-1],v=s[p-1];f[g.name]=v(u[p])}return{path:c,params:f}}}function n9e(e,t={}){const{delimiter:n=JJ,end:r=!0,sensitive:i=!1,trailing:o=!0}=t,s=[],a=[],l=i?"":"i",c=(Array.isArray(e)?e:[e]).map(g=>g instanceof q7?g:nee(g,t));for(const{tokens:g}of c)for(const v of nI(g,0,[])){const y=d_t(v,n,s);a.push(y)}let f=`^(?:${a.join("|")})`;return o&&(f+=`(?:${Gh(n)}$)?`),f+=r?"$":`(?=${Gh(n)}|$)`,{regexp:new RegExp(f,l),keys:s}}function*nI(e,t,n){if(t===e.length)return yield n;const r=e[t];if(r.type==="group"){const i=n.slice();for(const o of nI(r.tokens,0,i))yield*nI(e,t+1,o)}else n.push(r);yield*nI(e,t+1,n)}function d_t(e,t,n){let r="",i="",o=!0;for(let s=0;s<e.length;s++){const a=e[s];if(a.type==="text"){r+=Gh(a.value),i+=a.value,o||(o=a.value.includes(t));continue}if(a.type==="param"||a.type==="wildcard"){if(!o&&!i)throw new TypeError(`Missing text after "${a.name}": ${CD}`);a.type==="param"?r+=`(${f_t(t,o?"":i)}+)`:r+="([\\s\\S]+)",n.push(a),i="",o=!1;continue}}return r}function f_t(e,t){return t.length<2?e.length<2?`[^${Gh(e+t)}]`:`(?:(?!${Gh(e)})[^${Gh(t)}])`:e.length<2?`(?:(?!${Gh(t)})[^${Gh(e)}])`:`(?:(?!${Gh(t)}|${Gh(e)})[\\s\\S])`}function h_t(e){return e.tokens.map(function t(n,r,i){if(n.type==="text")return o_t(n.value);if(n.type==="group")return`{${n.tokens.map(t).join("")}}`;const s=p_t(n.name)&&m_t(i[r+1])?n.name:JSON.stringify(n.name);if(n.type==="param")return`:${s}`;if(n.type==="wildcard")return`*${s}`;throw new TypeError(`Unexpected token: ${n}`)}).join("")}function p_t(e){const[t,...n]=e;return e9e.test(t)?n.every(r=>tee.test(r)):!1}function m_t(e){return(e==null?void 0:e.type)!=="text"?!0:!tee.test(e.value[0])}const g_t="ENTRIES",r9e="KEYS",i9e="VALUES",qa="";class nB{constructor(t,n){const r=t._tree,i=Array.from(r.keys());this.set=t,this._type=n,this._path=i.length>0?[{node:r,keys:i}]:[]}next(){const t=this.dive();return this.backtrack(),t}dive(){if(this._path.length===0)return{done:!0,value:void 0};const{node:t,keys:n}=gS(this._path);if(gS(n)===qa)return{done:!1,value:this.result()};const r=t.get(gS(n));return this._path.push({node:r,keys:Array.from(r.keys())}),this.dive()}backtrack(){if(this._path.length===0)return;const t=gS(this._path).keys;t.pop(),!(t.length>0)&&(this._path.pop(),this.backtrack())}key(){return this.set._prefix+this._path.map(({keys:t})=>gS(t)).filter(t=>t!==qa).join("")}value(){return gS(this._path).node.get(qa)}result(){switch(this._type){case i9e:return this.value();case r9e:return this.key();default:return[this.key(),this.value()]}}[Symbol.iterator](){return this}}const gS=e=>e[e.length-1],v_t=(e,t,n)=>{const r=new Map;if(t===void 0)return r;const i=t.length+1,o=i+n,s=new Uint8Array(o*i).fill(n+1);for(let a=0;a<i;++a)s[a]=a;for(let a=1;a<o;++a)s[a*i]=a;return o9e(e,t,n,r,s,1,i,""),r},o9e=(e,t,n,r,i,o,s,a)=>{const l=o*s;e:for(const u of e.keys())if(u===qa){const c=i[l-1];c<=n&&r.set(a,[e.get(u),c])}else{let c=o;for(let f=0;f<u.length;++f,++c){const p=u[f],g=s*c,v=g-s;let y=i[g];const S=Math.max(0,c-n-1),C=Math.min(s-1,c+n);for(let _=S;_<C;++_){const k=p!==t[_],w=i[v+_]+ +k,P=i[v+_+1]+1,M=i[g+_]+1,R=i[g+_+1]=Math.min(w,P,M);R<y&&(y=R)}if(y>n)continue e}o9e(e.get(u),t,n,r,i,c,s,a+u)}};class l0{constructor(t=new Map,n=""){this._size=void 0,this._tree=t,this._prefix=n}atPrefix(t){if(!t.startsWith(this._prefix))throw new Error("Mismatched prefix");const[n,r]=ED(this._tree,t.slice(this._prefix.length));if(n===void 0){const[i,o]=ree(r);for(const s of i.keys())if(s!==qa&&s.startsWith(o)){const a=new Map;return a.set(s.slice(o.length),i.get(s)),new l0(a,t)}}return new l0(n,t)}clear(){this._size=void 0,this._tree.clear()}delete(t){return this._size=void 0,y_t(this._tree,t)}entries(){return new nB(this,g_t)}forEach(t){for(const[n,r]of this)t(n,r,this)}fuzzyGet(t,n){return v_t(this._tree,t,n)}get(t){const n=Uq(this._tree,t);return n!==void 0?n.get(qa):void 0}has(t){const n=Uq(this._tree,t);return n!==void 0&&n.has(qa)}keys(){return new nB(this,r9e)}set(t,n){if(typeof t!="string")throw new Error("key must be a string");return this._size=void 0,rB(this._tree,t).set(qa,n),this}get size(){if(this._size)return this._size;this._size=0;const t=this.entries();for(;!t.next().done;)this._size+=1;return this._size}update(t,n){if(typeof t!="string")throw new Error("key must be a string");this._size=void 0;const r=rB(this._tree,t);return r.set(qa,n(r.get(qa))),this}fetch(t,n){if(typeof t!="string")throw new Error("key must be a string");this._size=void 0;const r=rB(this._tree,t);let i=r.get(qa);return i===void 0&&r.set(qa,i=n()),i}values(){return new nB(this,i9e)}[Symbol.iterator](){return this.entries()}static from(t){const n=new l0;for(const[r,i]of t)n.set(r,i);return n}static fromObject(t){return l0.from(Object.entries(t))}}const ED=(e,t,n=[])=>{if(t.length===0||e==null)return[e,n];for(const r of e.keys())if(r!==qa&&t.startsWith(r))return n.push([e,r]),ED(e.get(r),t.slice(r.length),n);return n.push([e,t]),ED(void 0,"",n)},Uq=(e,t)=>{if(t.length===0||e==null)return e;for(const n of e.keys())if(n!==qa&&t.startsWith(n))return Uq(e.get(n),t.slice(n.length))},rB=(e,t)=>{const n=t.length;e:for(let r=0;e&&r<n;){for(const o of e.keys())if(o!==qa&&t[r]===o[0]){const s=Math.min(n-r,o.length);let a=1;for(;a<s&&t[r+a]===o[a];)++a;const l=e.get(o);if(a===o.length)e=l;else{const u=new Map;u.set(o.slice(a),l),e.set(t.slice(r,r+a),u),e.delete(o),e=u}r+=a;continue e}const i=new Map;return e.set(t.slice(r),i),i}return e},y_t=(e,t)=>{const[n,r]=ED(e,t);if(n!==void 0){if(n.delete(qa),n.size===0)s9e(r);else if(n.size===1){const[i,o]=n.entries().next().value;a9e(r,i,o)}}},s9e=e=>{if(e.length===0)return;const[t,n]=ree(e);if(t.delete(n),t.size===0)s9e(e.slice(0,-1));else if(t.size===1){const[r,i]=t.entries().next().value;r!==qa&&a9e(e.slice(0,-1),r,i)}},a9e=(e,t,n)=>{if(e.length===0)return;const[r,i]=ree(e);r.set(i+t,n),r.delete(i)},ree=e=>e[e.length-1],iee="or",l9e="and",b_t="and_not";class B2{constructor(t){if((t==null?void 0:t.fields)==null)throw new Error('MiniSearch: option "fields" must be provided');const n=t.autoVacuum==null||t.autoVacuum===!0?sB:t.autoVacuum;this._options={...oB,...t,autoVacuum:n,searchOptions:{...$ue,...t.searchOptions||{}},autoSuggestOptions:{...C_t,...t.autoSuggestOptions||{}}},this._index=new l0,this._documentCount=0,this._documentIds=new Map,this._idToShortId=new Map,this._fieldIds={},this._fieldLength=new Map,this._avgFieldLength=[],this._nextId=0,this._storedFields=new Map,this._dirtCount=0,this._currentVacuum=null,this._enqueuedVacuum=null,this._enqueuedVacuumConditions=Kq,this.addFields(this._options.fields)}add(t){const{extractField:n,tokenize:r,processTerm:i,fields:o,idField:s}=this._options,a=n(t,s);if(a==null)throw new Error(`MiniSearch: document does not have ID field "${s}"`);if(this._idToShortId.has(a))throw new Error(`MiniSearch: duplicate ID ${a}`);const l=this.addDocumentId(a);this.saveStoredFields(l,t);for(const u of o){const c=n(t,u);if(c==null)continue;const f=r(c.toString(),u),p=this._fieldIds[u],g=new Set(f).size;this.addFieldLength(l,p,this._documentCount-1,g);for(const v of f){const y=i(v,u);if(Array.isArray(y))for(const S of y)this.addTerm(p,l,S);else y&&this.addTerm(p,l,y)}}}addAll(t){for(const n of t)this.add(n)}addAllAsync(t,n={}){const{chunkSize:r=10}=n,i={chunk:[],promise:Promise.resolve()},{chunk:o,promise:s}=t.reduce(({chunk:a,promise:l},u,c)=>(a.push(u),(c+1)%r===0?{chunk:[],promise:l.then(()=>new Promise(f=>setTimeout(f,0))).then(()=>this.addAll(a))}:{chunk:a,promise:l}),i);return s.then(()=>this.addAll(o))}remove(t){const{tokenize:n,processTerm:r,extractField:i,fields:o,idField:s}=this._options,a=i(t,s);if(a==null)throw new Error(`MiniSearch: document does not have ID field "${s}"`);const l=this._idToShortId.get(a);if(l==null)throw new Error(`MiniSearch: cannot remove document with ID ${a}: it is not in the index`);for(const u of o){const c=i(t,u);if(c==null)continue;const f=n(c.toString(),u),p=this._fieldIds[u],g=new Set(f).size;this.removeFieldLength(l,p,this._documentCount,g);for(const v of f){const y=r(v,u);if(Array.isArray(y))for(const S of y)this.removeTerm(p,l,S);else y&&this.removeTerm(p,l,y)}}this._storedFields.delete(l),this._documentIds.delete(l),this._idToShortId.delete(a),this._fieldLength.delete(l),this._documentCount-=1}removeAll(t){if(t)for(const n of t)this.remove(n);else{if(arguments.length>0)throw new Error("Expected documents to be present. Omit the argument to remove all documents.");this._index=new l0,this._documentCount=0,this._documentIds=new Map,this._idToShortId=new Map,this._fieldLength=new Map,this._avgFieldLength=[],this._storedFields=new Map,this._nextId=0}}discard(t){const n=this._idToShortId.get(t);if(n==null)throw new Error(`MiniSearch: cannot discard document with ID ${t}: it is not in the index`);this._idToShortId.delete(t),this._documentIds.delete(n),this._storedFields.delete(n),(this._fieldLength.get(n)||[]).forEach((r,i)=>{this.removeFieldLength(n,i,this._documentCount,r)}),this._fieldLength.delete(n),this._documentCount-=1,this._dirtCount+=1,this.maybeAutoVacuum()}maybeAutoVacuum(){if(this._options.autoVacuum===!1)return;const{minDirtFactor:t,minDirtCount:n,batchSize:r,batchWait:i}=this._options.autoVacuum;this.conditionalVacuum({batchSize:r,batchWait:i},{minDirtCount:n,minDirtFactor:t})}discardAll(t){const n=this._options.autoVacuum;try{this._options.autoVacuum=!1;for(const r of t)this.discard(r)}finally{this._options.autoVacuum=n}this.maybeAutoVacuum()}replace(t){const{idField:n,extractField:r}=this._options,i=r(t,n);this.discard(i),this.add(t)}vacuum(t={}){return this.conditionalVacuum(t)}conditionalVacuum(t,n){return this._currentVacuum?(this._enqueuedVacuumConditions=this._enqueuedVacuumConditions&&n,this._enqueuedVacuum!=null?this._enqueuedVacuum:(this._enqueuedVacuum=this._currentVacuum.then(()=>{const r=this._enqueuedVacuumConditions;return this._enqueuedVacuumConditions=Kq,this.performVacuuming(t,r)}),this._enqueuedVacuum)):this.vacuumConditionsMet(n)===!1?Promise.resolve():(this._currentVacuum=this.performVacuuming(t),this._currentVacuum)}async performVacuuming(t,n){const r=this._dirtCount;if(this.vacuumConditionsMet(n)){const i=t.batchSize||Wq.batchSize,o=t.batchWait||Wq.batchWait;let s=1;for(const[a,l]of this._index){for(const[u,c]of l)for(const[f]of c)this._documentIds.has(f)||(c.size<=1?l.delete(u):c.delete(f));this._index.get(a).size===0&&this._index.delete(a),s%i===0&&await new Promise(u=>setTimeout(u,o)),s+=1}this._dirtCount-=r}await null,this._currentVacuum=this._enqueuedVacuum,this._enqueuedVacuum=null}vacuumConditionsMet(t){if(t==null)return!0;let{minDirtCount:n,minDirtFactor:r}=t;return n=n||sB.minDirtCount,r=r||sB.minDirtFactor,this.dirtCount>=n&&this.dirtFactor>=r}get isVacuuming(){return this._currentVacuum!=null}get dirtCount(){return this._dirtCount}get dirtFactor(){return this._dirtCount/(1+this._documentCount+this._dirtCount)}has(t){return this._idToShortId.has(t)}getStoredFields(t){const n=this._idToShortId.get(t);if(n!=null)return this._storedFields.get(n)}search(t,n={}){const{searchOptions:r}=this._options,i={...r,...n},o=this.executeQuery(t,n),s=[];for(const[a,{score:l,terms:u,match:c}]of o){const f=u.length||1,p={id:this._documentIds.get(a),score:l*f,terms:Object.keys(c),queryTerms:u,match:c};Object.assign(p,this._storedFields.get(a)),(i.filter==null||i.filter(p))&&s.push(p)}return t===B2.wildcard&&i.boostDocument==null||s.sort(Mue),s}autoSuggest(t,n={}){n={...this._options.autoSuggestOptions,...n};const r=new Map;for(const{score:o,terms:s}of this.search(t,n)){const a=s.join(" "),l=r.get(a);l!=null?(l.score+=o,l.count+=1):r.set(a,{score:o,terms:s,count:1})}const i=[];for(const[o,{score:s,terms:a,count:l}]of r)i.push({suggestion:o,terms:a,score:s/l});return i.sort(Mue),i}get documentCount(){return this._documentCount}get termCount(){return this._index.size}static loadJSON(t,n){if(n==null)throw new Error("MiniSearch: loadJSON should be given the same options used when serializing the index");return this.loadJS(JSON.parse(t),n)}static async loadJSONAsync(t,n){if(n==null)throw new Error("MiniSearch: loadJSON should be given the same options used when serializing the index");return this.loadJSAsync(JSON.parse(t),n)}static getDefault(t){if(oB.hasOwnProperty(t))return iB(oB,t);throw new Error(`MiniSearch: unknown option "${t}"`)}static loadJS(t,n){const{index:r,documentIds:i,fieldLength:o,storedFields:s,serializationVersion:a}=t,l=this.instantiateMiniSearch(t,n);l._documentIds=VM(i),l._fieldLength=VM(o),l._storedFields=VM(s);for(const[u,c]of l._documentIds)l._idToShortId.set(c,u);for(const[u,c]of r){const f=new Map;for(const p of Object.keys(c)){let g=c[p];a===1&&(g=g.ds),f.set(parseInt(p,10),VM(g))}l._index.set(u,f)}return l}static async loadJSAsync(t,n){const{index:r,documentIds:i,fieldLength:o,storedFields:s,serializationVersion:a}=t,l=this.instantiateMiniSearch(t,n);l._documentIds=await UM(i),l._fieldLength=await UM(o),l._storedFields=await UM(s);for(const[c,f]of l._documentIds)l._idToShortId.set(f,c);let u=0;for(const[c,f]of r){const p=new Map;for(const g of Object.keys(f)){let v=f[g];a===1&&(v=v.ds),p.set(parseInt(g,10),await UM(v))}++u%1e3===0&&await u9e(0),l._index.set(c,p)}return l}static instantiateMiniSearch(t,n){const{documentCount:r,nextId:i,fieldIds:o,averageFieldLength:s,dirtCount:a,serializationVersion:l}=t;if(l!==1&&l!==2)throw new Error("MiniSearch: cannot deserialize an index created with an incompatible version");const u=new B2(n);return u._documentCount=r,u._nextId=i,u._idToShortId=new Map,u._fieldIds=o,u._avgFieldLength=s,u._dirtCount=a||0,u._index=new l0,u}executeQuery(t,n={}){if(t===B2.wildcard)return this.executeWildcardQuery(n);if(typeof t!="string"){const p={...n,...t,queries:void 0},g=t.queries.map(v=>this.executeQuery(v,p));return this.combineResults(g,p.combineWith)}const{tokenize:r,processTerm:i,searchOptions:o}=this._options,s={tokenize:r,processTerm:i,...o,...n},{tokenize:a,processTerm:l}=s,f=a(t).flatMap(p=>l(p)).filter(p=>!!p).map(__t(s)).map(p=>this.executeQuerySpec(p,s));return this.combineResults(f,s.combineWith)}executeQuerySpec(t,n){const r={...this._options.searchOptions,...n},i=(r.fields||this._options.fields).reduce((y,S)=>({...y,[S]:iB(r.boost,S)||1}),{}),{boostDocument:o,weights:s,maxFuzzy:a,bm25:l}=r,{fuzzy:u,prefix:c}={...$ue.weights,...s},f=this._index.get(t.term),p=this.termResults(t.term,t.term,1,t.termBoost,f,i,o,l);let g,v;if(t.prefix&&(g=this._index.atPrefix(t.term)),t.fuzzy){const y=t.fuzzy===!0?.2:t.fuzzy,S=y<1?Math.min(a,Math.round(t.term.length*y)):y;S&&(v=this._index.fuzzyGet(t.term,S))}if(g)for(const[y,S]of g){const C=y.length-t.term.length;if(!C)continue;v==null||v.delete(y);const _=c*y.length/(y.length+.3*C);this.termResults(t.term,y,_,t.termBoost,S,i,o,l,p)}if(v)for(const y of v.keys()){const[S,C]=v.get(y);if(!C)continue;const _=u*y.length/(y.length+C);this.termResults(t.term,y,_,t.termBoost,S,i,o,l,p)}return p}executeWildcardQuery(t){const n=new Map,r={...this._options.searchOptions,...t};for(const[i,o]of this._documentIds){const s=r.boostDocument?r.boostDocument(o,"",this._storedFields.get(i)):1;n.set(i,{score:s,terms:[],match:{}})}return n}combineResults(t,n=iee){if(t.length===0)return new Map;const r=n.toLowerCase(),i=w_t[r];if(!i)throw new Error(`Invalid combination operator: ${n}`);return t.reduce(i)||new Map}toJSON(){const t=[];for(const[n,r]of this._index){const i={};for(const[o,s]of r)i[o]=Object.fromEntries(s);t.push([n,i])}return{documentCount:this._documentCount,nextId:this._nextId,documentIds:Object.fromEntries(this._documentIds),fieldIds:this._fieldIds,fieldLength:Object.fromEntries(this._fieldLength),averageFieldLength:this._avgFieldLength,storedFields:Object.fromEntries(this._storedFields),dirtCount:this._dirtCount,index:t,serializationVersion:2}}termResults(t,n,r,i,o,s,a,l,u=new Map){if(o==null)return u;for(const c of Object.keys(s)){const f=s[c],p=this._fieldIds[c],g=o.get(p);if(g==null)continue;let v=g.size;const y=this._avgFieldLength[p];for(const S of g.keys()){if(!this._documentIds.has(S)){this.removeTerm(p,S,n),v-=1;continue}const C=a?a(this._documentIds.get(S),n,this._storedFields.get(S)):1;if(!C)continue;const _=g.get(S),k=this._fieldLength.get(S)[p],w=S_t(_,v,this._documentCount,k,y,l),P=r*i*f*C*w,M=u.get(S);if(M){M.score+=P,E_t(M.terms,t);const R=iB(M.match,n);R?R.push(c):M.match[n]=[c]}else u.set(S,{score:P,terms:[t],match:{[n]:[c]}})}}return u}addTerm(t,n,r){const i=this._index.fetch(r,Lue);let o=i.get(t);if(o==null)o=new Map,o.set(n,1),i.set(t,o);else{const s=o.get(n);o.set(n,(s||0)+1)}}removeTerm(t,n,r){if(!this._index.has(r)){this.warnDocumentChanged(n,t,r);return}const i=this._index.fetch(r,Lue),o=i.get(t);o==null||o.get(n)==null?this.warnDocumentChanged(n,t,r):o.get(n)<=1?o.size<=1?i.delete(t):o.delete(n):o.set(n,o.get(n)-1),this._index.get(r).size===0&&this._index.delete(r)}warnDocumentChanged(t,n,r){for(const i of Object.keys(this._fieldIds))if(this._fieldIds[i]===n){this._options.logger("warn",`MiniSearch: document with ID ${this._documentIds.get(t)} has changed before removal: term "${r}" was not present in field "${i}". Removing a document after it has changed can corrupt the index!`,"version_conflict");return}}addDocumentId(t){const n=this._nextId;return this._idToShortId.set(t,n),this._documentIds.set(n,t),this._documentCount+=1,this._nextId+=1,n}addFields(t){for(let n=0;n<t.length;n++)this._fieldIds[t[n]]=n}addFieldLength(t,n,r,i){let o=this._fieldLength.get(t);o==null&&this._fieldLength.set(t,o=[]),o[n]=i;const a=(this._avgFieldLength[n]||0)*r+i;this._avgFieldLength[n]=a/(r+1)}removeFieldLength(t,n,r,i){if(r===1){this._avgFieldLength[n]=0;return}const o=this._avgFieldLength[n]*r-i;this._avgFieldLength[n]=o/(r-1)}saveStoredFields(t,n){const{storeFields:r,extractField:i}=this._options;if(r==null||r.length===0)return;let o=this._storedFields.get(t);o==null&&this._storedFields.set(t,o={});for(const s of r){const a=i(n,s);a!==void 0&&(o[s]=a)}}}B2.wildcard=Symbol("*");const iB=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0,w_t={[iee]:(e,t)=>{for(const n of t.keys()){const r=e.get(n);if(r==null)e.set(n,t.get(n));else{const{score:i,terms:o,match:s}=t.get(n);r.score=r.score+i,r.match=Object.assign(r.match,s),Tue(r.terms,o)}}return e},[l9e]:(e,t)=>{const n=new Map;for(const r of t.keys()){const i=e.get(r);if(i==null)continue;const{score:o,terms:s,match:a}=t.get(r);Tue(i.terms,s),n.set(r,{score:i.score+o,terms:i.terms,match:Object.assign(i.match,a)})}return n},[b_t]:(e,t)=>{for(const n of t.keys())e.delete(n);return e}},x_t={k:1.2,b:.7,d:.5},S_t=(e,t,n,r,i,o)=>{const{k:s,b:a,d:l}=o;return Math.log(1+(n-t+.5)/(t+.5))*(l+e*(s+1)/(e+s*(1-a+a*r/i)))},__t=e=>(t,n,r)=>{const i=typeof e.fuzzy=="function"?e.fuzzy(t,n,r):e.fuzzy||!1,o=typeof e.prefix=="function"?e.prefix(t,n,r):e.prefix===!0,s=typeof e.boostTerm=="function"?e.boostTerm(t,n,r):1;return{term:t,fuzzy:i,prefix:o,termBoost:s}},oB={idField:"id",extractField:(e,t)=>e[t],tokenize:e=>e.split(k_t),processTerm:e=>e.toLowerCase(),fields:void 0,searchOptions:void 0,storeFields:[],logger:(e,t)=>{typeof(console==null?void 0:console[e])=="function"&&console[e](t)},autoVacuum:!0},$ue={combineWith:iee,prefix:!1,fuzzy:!1,maxFuzzy:6,boost:{},weights:{fuzzy:.45,prefix:.375},bm25:x_t},C_t={combineWith:l9e,prefix:(e,t,n)=>t===n.length-1},Wq={batchSize:1e3,batchWait:10},Kq={minDirtFactor:.1,minDirtCount:20},sB={...Wq,...Kq},E_t=(e,t)=>{e.includes(t)||e.push(t)},Tue=(e,t)=>{for(const n of t)e.includes(n)||e.push(n)},Mue=({score:e},{score:t})=>t-e,Lue=()=>new Map,VM=e=>{const t=new Map;for(const n of Object.keys(e))t.set(parseInt(n,10),e[n]);return t},UM=async e=>{const t=new Map;let n=0;for(const r of Object.keys(e))t.set(parseInt(r,10),e[r]),++n%1e3===0&&await u9e(0);return t},u9e=e=>new Promise(t=>setTimeout(t,e)),k_t=/[\n\r\p{Z}\p{P}]+/u;function WM(e){const t=new Date(e);if(!Number.isNaN(t.valueOf()))return t;const n=String(e).match(/\d+/g);if(n==null||n.length<=2)return t;{const[r,i,...o]=n.map(l=>parseInt(l)),s=[r,i-1,...o];return new Date(Date.UTC(...s))}}const FE=(e,t,n)=>{const r=e!==1?t+"s":t;return e+" "+r+" "+n};function qq(){return qq=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qq.apply(null,arguments)}const $k=60,Tk=$k*60,z2=Tk*24,KM=z2*7,Aue=z2*30,Iue=z2*365,P_t=()=>Date.now();function $_t({date:e,formatter:t,component:n="time",live:r=!0,minPeriod:i=0,maxPeriod:o=KM,title:s,now:a=P_t,...l}){const[u,c]=h.useState(a());h.useEffect(()=>{if(!r)return;const R=(()=>{const D=WM(e).valueOf();if(!D)return console.warn("[react-timeago] Invalid Date provided"),0;const H=Math.round(Math.abs(u-D)/1e3),O=H<$k?1e3:H<Tk?1e3*$k:H<z2?1e3*Tk:1e3*KM,z=Math.min(Math.max(O,i*1e3),o*1e3);return z?setTimeout(()=>{c(a())},z):0})();return()=>{R&&clearTimeout(R)}},[e,r,o,i,a,u]),h.useEffect(()=>{c(a())},[e]);const f=n,p=WM(e).valueOf();if(!p)return null;const g=Math.round(Math.abs(u-p)/1e3),v=p<u?"ago":"from now",[y,S]=g<$k?[Math.round(g),"second"]:g<Tk?[Math.round(g/$k),"minute"]:g<z2?[Math.round(g/Tk),"hour"]:g<KM?[Math.round(g/z2),"day"]:g<Aue?[Math.round(g/KM),"week"]:g<Iue?[Math.round(g/Aue),"month"]:[Math.round(g/Iue),"year"],C=typeof s>"u"?typeof e=="string"?e:WM(e).toISOString().substring(0,16).replace("T"," "):s,_=f==="time"?{...l,dateTime:WM(e).toISOString()}:l,k=(M=M,R=R,D=D,H=p,O=FE,z=z)=>FE(M,R,D),w=t||FE;let P;try{P=w(y,S,v,p,k,a),P||(P=FE(y,S,v,p,k,a))}catch(M){console.error("[react-timeago] Formatter threw an error:",M),P=FE(y,S,v)}return h.createElement(f,qq({},_,{title:C}),P)}var c9e=h.createContext(null);function T_t(){return h.useContext(c9e)}var M_t=function(t){const[n,r]=h.useState(null);return d.jsx(c9e.Provider,{value:n,children:d.jsx("div",{className:j0("bg-white flex-1 flex flex-col min-h-[400px] min-w-[350px] relative border rounded-lg border-slate-200 overflow-hidden",t.className),ref:r,children:t.children})})};function L_t({debug:e}){const t=nv();return e&&t.on("*",(n,r)=>console.log(`%c${n}`,"background: palevioletred;color:white;padding:2px 8px;",r)),t}var d9e=[{type:"fixed",url:"/",router:"iiif://home",title:"Home"},{type:"fixed",url:"/about",router:"iiif://about",title:"About"},{type:"fixed",url:"/history",router:"iiif://history",title:"History"},{type:"fixed",url:"/not-found",router:"iiif://not-found",title:"Not Found",fallback:!0}],Rue=[...d9e,{type:"resource",resource:"Collection",url:"/collection"},{type:"resource",resource:"Manifest",url:"/manifest"},{type:"resource",resource:"ImageService1",url:"/image-service"},{type:"resource",resource:"ImageService2",url:"/image-service"},{type:"resource",resource:"ImageService3",url:"/image-service"}],Due=new Map;function Oue(e){const t=Due.get(e);if(t)return t;const n={compile:n_t(e),match:r_t(e)};return Due.set(e,n),n}function A_t(e,t,n){const r=new URL(e).protocol,i=e.replace(/^https?:\/\//,""),o=Object.entries(t);for(const[s,a]of o)try{const u=Oue(s).match(i);if(u){const f=Oue(a).compile({...n,...u.params});return`${r}//${f}`}}catch(l){console.error(`Error compiling pattern "${s}":`,l)}return e}function I_t(e){if(e)try{return Ju({type:"SpecificResource",source:{id:"a",type:"any"},selector:{type:"FragmentSelector",value:`xywh=${e}`}}).selector}catch{}}function R_t(e,{key:t="@v1/iiif-browser-linear-history"}){try{const n=localStorage.getItem(t)||"[]",r=JSON.parse(n);return r.length===0?e:r}catch{return e}}function D_t(e,{key:t="@v1/iiif-browser-linear-history",limit:n=100}={}){const r=e.slice(0,n);try{localStorage.setItem(t,JSON.stringify(r))}catch{}}function O_t(e,t={}){const{key:n="@v1/iiif-browser-history"}=t;try{const r=localStorage.getItem(n)||"[]",i=JSON.parse(r);return i.history.length===0?{history:e,cursor:0}:i}catch{return{history:e,cursor:0}}}function j_t(e,t={}){const{key:n="@v1/iiif-browser-history",limit:r=100}=t,i=e.history.slice(0,r);try{localStorage.setItem(n,JSON.stringify({history:i,cursor:e.cursor}))}catch{}}function N_t(e){const{historyLimit:t,initialHistory:n,initialHistoryCursor:r,localStorageKey:i,restoreFromLocalStorage:o,saveToLocalStorage:s}=e,a=n.length===0?[{resource:null,route:"/",url:"iiif://home",timestamp:new Date().toISOString()}]:n;if(!o)return[_ue({initialEntries:a.map(y=>y.route),initialIndex:r}),{savedHistory:a,initialIndex:r,initialPage:a[r],linearHistory:[]}];const{history:l,cursor:u}=O_t(a,{key:`${i}_history`}),c=R_t(a,{key:`${i}_linear`}),f=l[u],p=l.map(v=>v.route);return[_ue({initialEntries:p,initialIndex:u}),{savedHistory:l,initialIndex:u,initialPage:f,linearHistory:c}]}function F_t(e){const{vault:t=new fh,requestInitOptions:n={},emitter:r,preprocessManifest:i,preprocessCollection:o,collectionUrlMapping:s,collectionUrlMappingParams:a,seedCollections:l=[],saveToLocalStorage:u,localStorageKey:c,beforeFetchUrl:f,debug:p=!1}=e,[g,{initialIndex:v,initialPage:y,linearHistory:S,savedHistory:C}]=N_t(e),_=Object.keys(e.collectionUrlMapping||{}).length>0;let k;const w=Rue.filter(D=>D.type==="fixed"),P=Rue.filter(D=>D.type==="resource"),M=w.find(D=>D.fallback),R=wh((D,H)=>{const O={};for(const B of l)t.loadSync(B.id,B),O[B.id]={url:B.id,error:null,resource:{id:B.id,type:B.type,label:B.label},retries:0};const z=(B,q)=>{D({browserState:"ERROR"}),g.push(M.url)},G=(B,q,U=!1)=>{console.log(q),D(K=>({browserState:"ERROR",loaded:{...K.loaded,[B]:{url:B,error:q,resource:null,retries:0,retrying:!1}}})),U?g.replace(`${M.url}?id=${encodeURIComponent(B)}`):g.push(`${M.url}?id=${encodeURIComponent(B)}`)},ee=(B,q,U,K)=>{const J={browserState:"LOADED"};B&&(J.lastUrl=U?`view-source:${B}`:B,J.omnibarValue=B),q&&(J.loaded={...H().loaded,[q.id]:{url:q.id,error:null,resource:{id:q.id,type:q.type,label:q.label||{en:["Untitled"]}},retries:0}}),D(J),(q==null?void 0:q.type)==="Collection"&&r.emit("collection.change",{id:q.id,type:q.type,label:q.label||{en:["Untitled"]}}),(q==null?void 0:q.type)==="Manifest"&&r.emit("manifest.change",{id:q.id,type:q.type,label:q.label||{en:["Untitled"]}}),(q==null?void 0:q.type)==="Canvas"&&r.emit("canvas.change",{id:q.id,type:q.type,label:q.label||{en:["Untitled"]},parent:{id:(K==null?void 0:K.id)||"",type:(K==null?void 0:K.type)||"",label:(K==null?void 0:K.label)||{en:["Untitled"]}},selector:q.selector||void 0}),q&&((q==null?void 0:q.type)||"").startsWith("ImageService")&&r.emit("image-service.change",{id:q.id})},X=(B,q,U)=>{D({lastUrl:B,browserState:"LOADING"});const K=U||new URLSearchParams;K.set("id",B);const J=K.toString();g.push(`/loading?${J}`,{parent:q})},se=async(B,q)=>{const{viewSource:U=!1,parent:K}=q||{};try{k&&k.abort(),k=(q==null?void 0:q.abortController)||new AbortController;const J=k,oe=l.find(ge=>ge.id===B);if(oe){const ge=P.find($e=>$e.resource===oe.type);if(!ge)return G(B,`No route found for ${oe.type}`,!0);const ye=(q==null?void 0:q.searchParams)||new URLSearchParams;ye.set("id",oe.id);const _e=ye.toString();ee(B,oe,U),g.replace(`${ge.url}?${_e}`,{parent:K});return}const he=f?await f(B):B,me=await fetch(he,{signal:J.signal,...n||{}});if(J.signal.aborted)return;if(!me.ok)return G(B,`HTTP error ${me.status}`,!0);const re=me.headers.get("Content-Type");if(!(re!=null&&re.includes("text/plain"))&&!(re!=null&&re.includes("/json"))&&!(re!=null&&re.includes("/ld+json")))return G(B,`Unexpected content type ${re}`,!0);const ue=await me.json();if(J.signal.aborted)return;ue.id!==B&&(ue.id=B),i3(ue)&&(ue.type=ue.type||"ImageService3"),!ue.items&&(ue["@type"]==="sc:Collection"||ue["@type"]==="sc:Manifest"||ue.type==="Collection"||ue.type==="Manifest")&&(ue.items=[]);let ce=ltt(ue);if(!ce.id||!ce.type)return G(B,"Unsupported Resource type",!0);ce.type==="Manifest"&&i&&(ce=await i(ce)),ce.type==="Collection"&&o&&(ce=await o(ce)),ce.type==="Collection"&&_&&(ce.items=ce.items.map(ge=>(ge.id=A_t(ge.id,s,a),ge)));const we=P.find(ge=>ge.resource===ce.type);if(!we)return G(B,`Unsupported Resource type: ${ce.type}`,!0);t.loadSync(ce.id,ce);const Me=(q==null?void 0:q.searchParams)||new URLSearchParams;Me.set("id",ce.id);const Be=Me.toString();J===k&&(k=void 0),ee(B,ce,U),g.replace(`${we.url}?${Be}`,{parent:K});return}catch(J){return(J==null?void 0:J.name)==="AbortError"?void 0:G(B,(J==null?void 0:J.message)||"Unknown error")}};return{vault:t,history:g,lastUrl:y.url,browserState:"IDLE",omnibarValue:y.url,historyList:C,linearHistory:S,historyIndex:v,router:{action:g.action,location:g.location||{}},browser:{isLoading:!1,isLoaded:!1,didError:!1,didRetry:!1},loaded:O,loadResource:se,async resolve(B,{force:q=!1,parent:U=void 0,searchParams:K}={}){const J=B.startsWith("view-source:"),oe=J?B.slice(12):B;if(k&&k.abort(),(U==null?void 0:U.type)==="Manifest"){const he=U.id,me=oe,re=new URLSearchParams(K);if(re.set("id",he),re.set("canvas",me),H().loaded[he]&&!q){const ce=t.get(U);if(!ce)return G(oe,"Unknown resource");const we=P.find(Me=>Me.resource==="Manifest");if(!we)return G(oe,"Unsupported resource type Manifest");g.push(`${we.url}?${re.toString()}`,{parent:U}),re.get("xywh"),ee(oe,ce,J,U);return}return X(oe,U,K)}if(oe.startsWith("https://")||oe.startsWith("http://")){if(t.get({id:oe,type:"Canvas"}))return;const me=H().loaded[oe];if(me&&!q){const re=me.resource;if(re===null||me.error)return z();const ue=t.get(re);if(!ue)return G(oe,"Unknown resource");const ce=re.type,we=P.find(Be=>Be.resource===ce);if(!we)return G(oe,`Unsupported resource type ${ce}`);const Me=new URLSearchParams(K);Me.set("id",ue.id),J&&Me.set("view-source","true"),g.push(`${we.url}?${Me.toString()}`,{parent:U}),ee(oe,ue,J);return}return X(oe,U,K)}for(const he of w)if(he.router===oe){g.push(he.url,{parent:U}),ee(oe);return}g.push(M.url,{parent:U})},mapToRoute(B,q){const U=(B||"").toLowerCase();for(const he of w)if(he.url===U)return[he.router,null];const K=new URLSearchParams(q),J=K.get("id"),oe=K.get("view-source");if(J){const he=H().getLoadedResource(J);if(he!=null&&he.error)return[M.url,null];if(he!=null&&he.resource){for(const me of P)if(me.resource===he.resource.type)return oe==="true"?[`view-source:${he.resource.id}`,null]:[he.resource.id,he.resource]}else if(H().browserState==="LOADING")return[J,null]}return[null,null]},getLoadedResource(B){const q=H().loaded[B];if(q)return q;const U=t.get(B);if(U){const K={retries:0,url:B,resource:{id:U.id,type:U.type,label:U.label},error:null};return D(J=>({loaded:{[B]:K,...J.loaded}})),K}},setOmnibarValue(B){D({omnibarValue:B})},updateHistoryMetadata(B,q){const K=H().historyList.map(he=>he.resource===B?{...he,metadata:q}:he),oe=H().linearHistory.map(he=>he.resource===B?{...he,metadata:q}:he);D({historyList:K,linearHistory:oe}),H().persistHistory()},persistHistory(){const{historyList:B,linearHistory:q,historyIndex:U}=H();u&&(D_t(q,{key:`${c}_linear`}),j_t({history:B,cursor:U},{key:`${c}_history`}))},clearHistory(){const B=H().historyList[H().historyIndex],q=B.url==="iiif://home"?[B]:[B,{resource:null,route:"/",url:"iiif://home",timestamp:new Date().toISOString()}];D({historyList:q,linearHistory:q,historyIndex:0}),u&&H().persistHistory(),r.emit("history.clear")}}});return g.listen(D=>{var q;const[H,O]=R.getState().mapToRoute(D.location.pathname,D.location.search);p&&console.log(`%c${D.action}`,"background: purple;color:white;padding:2px 8px;",{resolved:H,resource:O,location:D.location});const z=D.location.pathname+D.location.search,G=R.getState().historyList,ee=R.getState().historyIndex;let X=[...G],se=ee;if(D.action===pg.Pop){const U=X.findIndex(K=>K.route===z);if(U!==-1){se=U;const K=X[se],J=K.resource,oe=t.get(J);r.emit("history.change",{item:K,source:"history.listen.pop"}),(oe==null?void 0:oe.type)==="Collection"&&r.emit("collection.change",oe),(oe==null?void 0:oe.type)==="Manifest"&&r.emit("manifest.change",oe)}}else if(H){const U=(q=D.location.state)==null?void 0:q.parent,K={resource:H!=null&&H.startsWith("https://")||H!=null&&H.startsWith("http://")?H:null,route:z,url:H,parent:U,metadata:{type:O==null?void 0:O.type,label:O==null?void 0:O.label},timestamp:new Date().toISOString()};switch(D.action){case pg.Push:{const J=ee<G.length?G[ee]:null;if((J==null?void 0:J.route)===z)break;X=[...X.slice(0,ee+1),K],se=ee+1,R.setState(oe=>({linearHistory:[K,...oe.linearHistory]})),r.emit("history.change",{item:K,source:"history.listen.push"});break}case pg.Replace:{ee<X.length?X[ee]=K:(X.push(K),se=X.length-1),S.length>0?R.setState(J=>({linearHistory:[K,...J.linearHistory.slice(1)]})):R.setState(J=>({linearHistory:[K,...J.linearHistory]})),r.emit("history.change",{item:K,source:"history.listen.replace"});break}}if((O==null?void 0:O.type)==="Collection"&&r.emit("collection.change",O),(O==null?void 0:O.type)==="Manifest"){r.emit("manifest.change",O);const J=new URLSearchParams(D.location.search),oe=J.get("canvas"),he=J.get("xywh");if(oe){const me=I_t(he);r.emit("canvas.change",{id:oe,type:"Canvas",parent:O,selector:me})}}O&&((O==null?void 0:O.type)||"").startsWith("ImageService")&&r.emit("image-service.change",{id:O.id})}const B={historyList:X,historyIndex:se,router:{action:D.action,location:D.location}};if(H&&(B.lastUrl=H,B.omnibarValue=H),D.location.pathname==="/loading"){const K=new URLSearchParams(D.location.search).get("id");K&&(B.lastUrl=K,B.omnibarValue=K)}R.setState(B),u&&R.getState().persistHistory()}),r.on("history.change",({item:D})=>{D.resource||r.emit("history.page",D)}),r.on("collection.change",D=>{r.emit("resource.change",D)}),r.on("manifest.change",D=>{r.emit("resource.change",D)}),r.on("ready",()=>{g.replace(y.route)}),R}var jue={fields:["label","type","subLabel","actionLabel","keywords","url","route"],storeFields:["id"],autoSuggestOptions:{prefix:!0,fields:["label","type","subLabel","actionLabel","keywords","url","route"],boost:{label:2,url:1.5},fuzzy:.2}};function B_t(e){const t=e.emitter,n=e.numberOfResults||30;return wh((i,o)=>{const s=new B2(jue),a=new Map;let l=[],u=e.initialHistory;const c=e.staticItems.filter(S=>S.showWhenEmpty),f=new Map,p=()=>{for(const S of e.staticItems)s.add(S),a.set(S.id,S)},g=S=>{var C,_;if(S.resource){const k=e.vault.get(S.resource),w=((C=S.metadata)==null?void 0:C.label)||(k==null?void 0:k.label);if(w){const P={type:"resource",id:S.url,label:uc(w),resource:{id:S.resource,type:((_=S.metadata)==null?void 0:_.type)||(k==null?void 0:k.type)},source:"history",keywords:[]};s.has(P.id)||s.add(P),a.has(P.id)||a.set(P.id,P)}}},v=()=>{a.clear(),s.removeAll(),p(),i({isIndexing:!0}),t.emit("search.index-start");for(const S of l)a.set(S.id,S);for(const S of a.values())try{s.has(S.id)||s.add(S)}catch{}for(const S of u)try{g(S)}catch{}t.emit("search.index-complete")},y=S=>{const C=o().sourceFilter;if(!S&&!C||S===o().currentCollectionId){const k=[],w=[];if(S)for(const P of l.slice(0,n-c.length))w.includes(P.id)||(w.push(P.id),k.push(P));for(const P of u){const M=a.get(P.url);M&&!w.includes(M.id)&&(w.push(M.id),k.push(M))}for(const P of c)w.includes(P.id)||(w.push(P.id),k.push(P));i({query:S,rawResults:[],results:C?k.filter(P=>P.source===C):k});return}if(S.startsWith("https://")||S.startsWith("http://")){i({query:S,rawResults:[],results:[{id:S,resource:{id:S,type:"unknown"},label:`Open ${S}`,type:"resource",source:"dynamic"}]});return}if(!S.trim()&&C){const k=l.filter(w=>w.source===C);i({query:S,rawResults:[],results:k.slice(0,n)});return}const _=s.search(S,jue.autoSuggestOptions);i({query:S,rawResults:_,results:_.slice(0,n).map(k=>a.get(k.id)).filter(k=>C?k.source===C:!0)})};p(),t.on("search.index-complete",()=>{y(o().query)}),t.on("history.page",S=>{i({currentCollectionId:null}),l=[],v()}),t.on("history.clear",()=>{u=[],v()}),t.on("history.change",({item:S})=>{u.find(C=>C.url===S.url)||u.push(S),g(S),i({route:S,query:S.url})}),t.on("collection.change",S=>{if(!S){l=[],v();return}const C=e.vault.get(S);if(C){const _=e.vault.get(C.items||[]),k=f.get(C.id)||[];if(k.length===0)for(const w of _)k.push({id:w.id,label:uc(w.label),resource:{id:w.id,type:w.type},type:"resource",keywords:[],source:"collection"});l=k,v(),i({currentCollectionId:C.id})}});for(const S of u)g(S);return{isEnabled:!1,isOpen:!1,isIndexing:!1,query:"",results:null,rawResults:null,currentCollectionId:null,sourceFilter:null,route:e.initialRoute,enable(){i({isEnabled:!0})},disable(){i({isEnabled:!1})},updateQuery:S=>{y(S)},setRoute:S=>{i({route:S})},setDynamicItems:S=>{l=S,v()},getResult(S){return a.get(S)},open(S){i({query:S,isOpen:!0}),y(S)},openWithFilter(S,C){i({query:S,sourceFilter:C,isOpen:!0}),y(S)},close(){i({isOpen:!1,sourceFilter:null})}}})}function z_t({children:e,...t}){return d.jsx(wXe,{...t,children:({isIndeterminate:n,isSelected:r,isFocusVisible:i})=>d.jsxs(d.Fragment,{children:[d.jsx("div",{className:j0(`text-2xl p-0.5 ${r?"text-blue-600":"text-gray-500"}`,i?"ring ring-blue-600":""),children:d.jsxs("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24","aria-hidden":"true",children:[d.jsx("rect",{x:"4",y:"4",width:"16",height:"16",fill:"#fff"}),r?d.jsx("path",{fill:"currentColor",d:"M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2m-9 14l-5-5l1.41-1.41L10 14.17l7.59-7.59L19 8z"}):d.jsx("path",{fill:"currentColor",d:"M19 5v14H5V5zm0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2"})]})}),e]})})}function f9e(e,t){for(const r of t||[]){const i=r.replace("https://","").replace("http://","");if(e.replace("https://","").replace("http://","").startsWith(i))return!0}return!1}function kD({children:e,resource:t,as:n="span",disablePreloadOnHover:r,withoutContext:i,search:o,parent:s,manualLink:a,isReactAria:l,ignoreAlwaysShowNavigationArrow:u,...c}){$n();const f=G7(),p=Mx(),g=x9e(),v=w9e(),y=dee(),S=T9e(),C=h.useMemo(()=>{if(s)return{id:s.id,type:s.type}},[s]),_=h.useMemo(()=>({...t,parent:t.parent&&!C?{id:t.parent.id,type:t.parent.type}:C}),[]),k=h.useCallback(()=>{if(f.clickToSelect){if(!f.multiSelect){S.replaceSelectedItems([_]);return}S.replaceSelectedItems([_]);return}f.clickToNavigate&&p(_.id,{parent:C})},[f.clickToSelect,S,f.multiSelect,f.clickToNavigate,p,_,C]),{isPressed:w,pressProps:P}=Lp({onPress:se=>{const B=se.shiftKey,q=se.ctrlKey,U=se.metaKey;if(f.clickToSelect){if(!f.multiSelect){q||U?S.toggleItemSelection(_,!0):S.replaceSelectedItems([_]);return}B||q||U?S.toggleItemSelection(_):S.replaceSelectedItems([_]);return}f.clickToNavigate&&p(_.id,{parent:C})}}),M=h.useMemo(()=>({onDoubleClick:()=>{f.doubleClickToNavigate&&p(_.id,{parent:C})}}),[f.doubleClickToNavigate,p,_.id,C]),{isHovered:R,hoverProps:D}=ud({onHoverStart:()=>{}}),H=h.useMemo(()=>f.markedResources.includes(_.id),[f,_.id]),O=h.useMemo(()=>g(_),[g,_]),z=h.useMemo(()=>v(_),[v,_]),G=h.useMemo(()=>!!y.find(se=>se.id===_.id),[y,_.id]),ee={isSelected:G,isNavigating:!1,canSelect:z,canNavigate:O,isMarked:H,showNavigationArrow:u?f.doubleClickToNavigate:f.alwaysShowNavigationArrow||f.doubleClickToNavigate,doubleClickToNavigate:f.doubleClickToNavigate,renderCheckbox:()=>d.jsx(z_t,{slot:"selection",isDisabled:!z,isSelected:G,onChange:()=>S.toggleItemSelection(_,!f.multiSelect)}),renderDotsMenu:()=>d.jsx("div",{}),navigate:()=>{p(_.id,{parent:C})},setSelected:se=>{S.toggleItemSelection(_,!f.multiSelect)}},X={};return l?X.onAction=k:Object.assign(X,P),d.jsx(n,{...c,...D,...M,...X,children:typeof e=="function"?e(ee):e})}function H_t(e,t,n){let r=e;if(typeof r=="string"&&(r={id:r,type:"unknown"}),t.customCanNavigate)try{const o=t.customCanNavigate(r,n);if(typeof o=="boolean")return o}catch(o){console.error("Error in customCanNavigate:",o)}if(!t.allowNavigationToBuiltInPages&&!r.id.startsWith("http")||t.disallowedResources.includes(r.id)||!t.canNavigateToCanvas&&r.type==="Canvas"||!t.canNavigateToCollection&&r.type==="Collection"||!t.canNavigateToManifest&&r.type==="Manifest")return!1;let i=!0;return t.onlyAllowedDomains&&(i=f9e(r.id,t.allowedDomains)),i}function h9e(e,t,n){let r=e;if(typeof r=="string"&&(r={id:r,type:"unknown"}),t.customCanSelect)try{const o=t.customCanSelect(r,n);if(typeof o=="boolean")return o}catch(o){console.error("Error in customCanSelect:",o)}if(t.disallowedResources.includes(r.id)||!t.canSelectCanvas&&r.type==="Canvas"||!t.canSelectCollection&&r.type==="Collection"||!t.canSelectManifest&&r.type==="Manifest")return!1;let i=!0;return t.canSelectOnlyAllowedDomains&&(i=f9e(r.id,t.allowedDomains)),i}function V_t(e){const{output:t,emitter:n,linkConfig:r,vault:i}=e;function o(a){return h9e(a,r,i)}const s=wh((a,l)=>({defaultSelectedItem:null,selectedItems:[],wasManuallySelected:!1,allOutputs:t,availableOutputs:t,async runTargetAction(u){const c=l().selectedItems,f=u.format,p=Dxt[f.type],g=Hxt[u.type],v=c.length===1?c[0]:c;if(!c.length)return;if(!p||!g)throw new Error(`Unsupported output: ${f.type} / ${u.type}`);const y=await p.format(v,f,i);await g.action(y,v,u,i)},replaceSelectedItems(u){const c=u.filter(o);a({selectedItems:c,wasManuallySelected:!0}),n.emit("output.replace-selected-items",c),n.emit("output.selection-change")},selectItem(u){const c=l().wasManuallySelected;o(u)&&(a({selectedItems:c?[...l().selectedItems,u]:[u],wasManuallySelected:!0}),n.emit("output.select-item",u),n.emit("output.selection-change"))},deselectItem(u){const c=l().selectedItems.findIndex(f=>f.id===u.id);c!==-1&&(a({selectedItems:[...l().selectedItems.slice(0,c),...l().selectedItems.slice(c+1)],wasManuallySelected:!0}),n.emit("output.deselect-item",u),n.emit("output.selection-change"),l().selectedItems.length===0&&l().resetSelection())},refineSelectedItem(u,c){const f=l().selectedItems.find(p=>p.id===u);f&&(a({selectedItems:[...l().selectedItems.filter(p=>p.id!==u),{...f,selector:c||void 0}],wasManuallySelected:!0}),n.emit("output.refine-selected-item",f),n.emit("output.selection-change"))},resetSelection(){const u=l().defaultSelectedItem;a({selectedItems:u&&o(u)?[u]:[],wasManuallySelected:!1}),n.emit("output.reset-selection"),n.emit("output.selection-change")},toggleItemSelection(u,c){l().selectedItems.findIndex(p=>p.id===u.id)===-1?c?l().replaceSelectedItems([u]):l().selectItem(u):l().deselectItem(u)}}));return n.on("output.selection-change",()=>{const{selectedItems:a}=s.getState();if(a.length===0){s.setState({availableOutputs:[]});return}const l=t.filter(u=>{if(a.length===1){const f=a[0];return!!u.supportedTypes.includes(f.type)}const c=[];for(const f of a)c.includes(f.type)||c.push(f.type);if(c.length===1){const p=`${c[0]}List`;if(!u.supportedTypes.includes(p))return!1}return u.supportedTypes.includes("All"),!0});s.setState({availableOutputs:l})}),n.on("canvas.change",a=>{if(!a){s.setState({defaultSelectedItem:null,selectedItems:[],wasManuallySelected:!1}),n.emit("output.deselect-all-items");return}if(!r.canSelectCanvas)return;const l={id:a.id,type:"Canvas",parent:a.parent,selector:a.selector};s.setState({defaultSelectedItem:l,selectedItems:o(l)?[l]:[],wasManuallySelected:!1}),n.emit("output.select-item",l),n.emit("output.selection-change")}),n.on("image-service.change",a=>{if(!r.canSelectImageService)return;const l={id:a.id,type:"ImageService"};s.setState({defaultSelectedItem:l,selectedItems:o(l)?[l]:[],wasManuallySelected:!1}),n.emit("output.select-item",l),n.emit("output.selection-change")}),n.on("resource.change",a=>{if(!a){s.setState({defaultSelectedItem:null,selectedItems:[],wasManuallySelected:!1}),n.emit("output.deselect-all-items");return}const l={id:a.id,type:a.type};s.setState({defaultSelectedItem:l,selectedItems:o(l)?[l]:[],wasManuallySelected:!1}),n.emit("output.select-item",l),n.emit("output.selection-change")}),n.emit("output.selection-change"),s}var p9e=h.createContext(null),m9e=h.createContext(null),g9e=h.createContext(null),v9e=h.createContext(null),TC=h.createContext(null),U_t=h.createContext(null),y9e=h.createContext(null),oee=YO(e=>({mode:"explore",setMode:t=>e({mode:t}),setEditMode:t=>e({mode:t?"sketch":"explore"})}));function Ch(){const e=h.useContext(g9e);if(!e)throw new Error("useStoreContext must be used within a StoreProvider");return e}function p5(){const e=h.useContext(p9e);if(!e)throw new Error("useUIConfigContext must be used within a UIConfigProvider");return e}function G7(){const e=h.useContext(m9e);if(!e)throw new Error("useLinkConfigContext must be used within a LinkConfigProvider");return e}function see(){const e=Ch();return yt(e,t=>t.linearHistory)}function aee(){const e=Ch();return yt(e,t=>t.historyList)}function b9e(){const e=Ch();return yt(e,t=>t.clearHistory)}function lee(){const e=Ch();return yt(e,t=>t.historyIndex)}function P3(){const e=Ch();return yt(e,t=>t.history)}function w9e(){const e=$n(),t=G7();return h.useCallback(n=>h9e(n,t,e),[t,e])}function x9e(){const e=$n(),t=G7();return h.useCallback(n=>H_t(n,t,e),[t,e])}function Mx(){const e=x9e(),t=Ch(),n=$n(),r=yt(t,i=>i.resolve);return h.useCallback((...i)=>{let o=i[0];if(typeof o=="string"){const s=n.get(o);s&&(o={id:s.id,type:s.type})}e(o)&&r(...i)},[r,e,n])}function m5(){const e=Ch();return yt(e,t=>t.lastUrl)}function W_t(){const e=Ch();return yt(e,t=>t.router)}function S9e(){const e=Ch();return yt(e,t=>t.browserState)==="LOADING"}function K_t(){const[e]=f1(),t=e.get("id"),n=e.get("view-source")==="true",r=_9e();return h.useEffect(()=>{const i=new AbortController;return t&&r(t,{viewSource:n,abortController:i,searchParams:e}),()=>{i.abort()}},[t,r,n,e]),{id:t,viewSource:n,searchParams:e}}function _9e(){const e=Ch();return yt(e,t=>t.loadResource)}function $3(){const e=h.useContext(v9e);if(!e)throw new Error("useOmnisearchStore must be used within a StoreProvider");return e}function C9e(){const e=$3();return yt(e,t=>({isIndexing:t.isIndexing}))}function uee(){const e=$3();return yt(e,t=>({isOpen:t.isOpen,open:t.open,close:t.close,openWithFilter:t.openWithFilter}))}function E9e(){const e=$3();return yt(e,t=>[t.query,t.updateQuery])}function q_t(){const e=$3();return yt(e,t=>t.sourceFilter)}function G_t(){const e=$3();return yt(e,t=>t.getResult)}function Z_t(){const e=$3();return yt(e,t=>t.results)}function k9e(){const e=h.useContext(y9e);if(!e)throw new Error("useBrowserEmitter must be used within a BrowserEventsProvider");return e}function T3(){const e=h.useContext(TC);if(!e)throw new Error("useOutputStore must be used within a StoreProvider");return e}function P9e(){const e=T3();return yt(e,t=>t.refineSelectedItem)}function cee(e){const t=T3();return yt(t,n=>{var r;return(r=n.selectedItems.find(i=>i.id===(e==null?void 0:e.id)))==null?void 0:r.selector})}function $9e(){const e=T3();return yt(e,t=>t.availableOutputs)}function Y_t(){const e=T3();return yt(e,t=>t.allOutputs)}function dee(){const e=T3();return yt(e,t=>t.selectedItems)}function T9e(){const e=T3();return yt(e,t=>({selectItem:t.selectItem,toggleItemSelection:t.toggleItemSelection,replaceSelectedItems:t.replaceSelectedItems,deselectItem:t.deselectItem,resetSelection:t.resetSelection,runTargetAction:t.runTargetAction}))}function X_t({vault:e,uiConfig:t,browserConfig:n,linkConfig:r,outputConfig:i,debug:o,children:s}){const a=h.useRef(!1),l=em(e),u=h.useMemo(()=>L_t({debug:o??!1}),[]),c=h.useMemo(()=>{const{defaultPages:C,..._}=t||{};return{defaultPages:{about:!0,bookmarks:!0,history:!0,homepage:!0,viewSource:!0,...C},reloadButton:!1,menuButton:!0,backButton:!0,homeButton:!0,forwardButton:!0,bookmarkButton:!1,showFilterButton:!1,buttonClassName:"",collectionPaginationSize:25,manifestPaginationSize:25,paginationNavigationType:"replace",homeLink:"iiif://home",collectionSearchTagEnabled:!0,portalIcons:!0,..._}},[t]),f=h.useMemo(()=>({saveToLocalStorage:!0,restoreFromLocalStorage:!0,requestInitOptions:{},localStorageKey:"@v1/iiif-browser-history",initialHistoryCursor:0,initialHistory:[{resource:null,route:"/",url:"iiif://home"}],historyLimit:100,collectionUrlMappingParams:{},collectionUrlMapping:{},preprocessManifest:void 0,preprocessCollection:void 0,beforeFetchUrl:void 0,seedCollections:[],...n||{}}),[n]),p=h.useMemo(()=>!i||!(i!=null&&i.length)?[{label:"Open Manifest in Theseus",type:"open-new-window",urlPattern:"https://theseusviewer.org/?iiif-content={MANIFEST}",format:{type:"url",resolvable:!0},supportedTypes:["Manifest"]},{label:"Open Collection in Theseus",type:"open-new-window",urlPattern:"https://theseusviewer.org/?iiif-content={COLLECTION}",format:{type:"url",resolvable:!1},supportedTypes:["Collection"]},{label:"Open Canvas in Theseus",type:"open-new-window",urlPattern:"https://theseusviewer.org/?iiif-content={MANIFEST}&canvas={CANVAS}",format:{type:"url",resolvable:!0},supportedTypes:["Canvas"]},{label:"Open Image in Theseus",type:"open-new-window",urlPattern:"https://theseusviewer.org/?iiif-content={MANIFEST}",format:{type:"url",resolvable:!0},supportedTypes:["ImageService"]}]:i,[i]),g=h.useMemo(()=>Object.assign({allowNavigationToBuiltInPages:!0,onlyAllowedDomains:!1,canSelectOnlyAllowedDomains:!1,allowedDomains:[],markedResources:[],disallowedResources:[],doubleClickToNavigate:!1,clickToSelect:!1,clickToNavigate:!0,canNavigateToCollection:!0,canNavigateToManifest:!0,canNavigateToCanvas:!0,canSelectCollection:!0,canSelectManifest:!0,canSelectCanvas:!0,canSelectImageService:!0,multiSelect:!1,canCropImage:!1,alwaysShowNavigationArrow:!0,customCanSelect:null,customCanNavigate:null},r),[r]),v=h.useMemo(()=>F_t({vault:l,emitter:u,debug:o,...f}),[]),y=h.useMemo(()=>V_t({vault:l,emitter:u,linkConfig:g,output:p}),[]),S=h.useMemo(()=>B_t({vault:l,emitter:u,initialRoute:v.getState().historyList[0],history:v.getState().history,initialHistory:v.getState().linearHistory,staticItems:[c.defaultPages.homepage?{id:"iiif://home",type:"page",label:"Homepage",url:"iiif://home",route:"/",showWhenEmpty:!0,source:"static"}:null,c.defaultPages.about?{id:"iiif://about",type:"page",label:"About IIIF Browser",url:"iiif://about",route:"/about",showWhenEmpty:!0,source:"static"}:null,c.defaultPages.history?{id:"iiif://history",type:"page",label:"History",url:"iiif://history",route:"/history",showWhenEmpty:!0,source:"static"}:null].filter(Boolean)}),[]);return a.current||(u.emit("ready"),a.current=!0),d.jsx(p9e.Provider,{value:c,children:d.jsx(y9e.Provider,{value:u,children:d.jsx(U_t.Provider,{value:f,children:d.jsx(m9e.Provider,{value:g,children:d.jsx(TC.Provider,{value:y,children:d.jsx(Ip,{vault:l,children:d.jsx(g9e.Provider,{value:v,children:d.jsx(v9e.Provider,{value:S,children:d.jsx(Q_t,{basename:"/",children:s})})})})})})})})})}function Q_t({basename:e,children:t}){const n=P3(),{action:r,location:i}=W_t();return d.jsx(zSt,{navigationType:r,basename:e,navigator:n,location:i,children:t})}function J_t(){const e=$9e(),{runTargetAction:t}=T9e(),{buttonClassName:n}=p5(),r=e[0];if(!r)return d.jsx("div",{className:"px-4 text-sm opacity-40 whitespace-nowrap",children:"No actions available"});const i=r.buttonClassName||n;return d.jsx("div",{"aria-label":"Output actions",className:"flex-shrink-0 flex gap-2 items-center whitespace-nowrap",children:d.jsx(Ar,{"aria-label":r.label,className:j0("bg-blue-500 hover:bg-blue-700 text-white py-2 px-4 rounded",i),onPress:()=>t(r),children:r.label})})}var M9e=({title:e,...t})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 96 960 960",height:"1em",width:"1em",...t,children:[d.jsx("path",{d:"M0 0h24v24H0z",fill:"none"}),d.jsx("path",{d:"M674.5 1017.91V861.5h-389q-37.783 0-64.391-26.609Q194.5 808.283 194.5 770.5v-389H38.087v-91H194.5V134.087h91V770.5h636.413v91H765.5v156.41h-91Zm0-327.41v-309h-309v-91h309q37.783 0 64.391 26.609Q765.5 343.717 765.5 381.5v309h-91Z",fill:"currentColor"}),e?d.jsx("title",{children:e}):null]});function eCt(e){return d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:d.jsx("path",{fill:"currentColor",d:"m15.96 10.29l-2.75 3.54l-1.96-2.36L8.5 15h11zM3 5H1v18h18v-2H3zm20-4H5v18h18zm-2 16H7V3h14z"})})}var N0=({type:e,isFolder:t,external:n,noFill:r,className:i})=>{const o=n?"#a1a1a1":"";switch(t&&(e="folder"),e.toLowerCase()){case"folder":return d.jsx(rCt,{fill:r?"currentColor":o||"#FFD075",className:`${i} shrink-0 text-2xl`});case"manifest":return d.jsx(iCt,{fill:r?"currentColor":o||"#C63E75",className:`${i} shrink-0 text-2xl`});case"collection":return d.jsx(nCt,{fill:r?"currentColor":o||"#31539F",className:`${i} shrink-0 text-2xl`});default:return d.jsx(tCt,{fill:r?"currentColor":o||"#F58962",className:`${i} shrink-0 text-2xl`})}},tCt=e=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"#5f6368",viewBox:"0 -960 960 960","aria-label":"canvas",role:"img",...e,children:d.jsx("path",{d:"M603-160h56v-83l102-24q21-5 43.5-11.5T827-299q0-8-8-14.5T792-326q-38-11-58-34t-18-49q2-21 19.5-37.5T785-474q28-10 41.5-22.5T840-526q0-20-17-30.5t-37-3.5q-6 2-12.5 3t-12.5 1q-26 0-43.5-20T700-625q0-26 13.5-47.5T727-720q0-17-14.5-28.5T677-760q-29 0-40.5 12.5T625-700q0 17 1.5 33t1.5 33q0 45-16 66t-50 21q-11 0-23-3t-23-3q-6 0-9.5 2.5T503-543q0 10 12 20t23 19q26 23 38 44t12 42q0 27-19.5 46T521-353q-11 0-21-2t-21-3q-28-2-43 5t-15 21q0 14 13 23t38 13l131 21v115Zm-450 40-73-33 200-440 73 33-200 440Zm370 40v-128l-57-8q-55-8-89.5-39.5T342-329q0-48 39.5-80.5T476-439q5 0 8.5.5t7.5 1.5q-8-8-15-14.5T464-465q-20-22-29-40.5t-9-37.5q0-38 21.5-62.5T504-630q7 0 19 .5t26 2.5q2-20 0-41t-2-41q0-63 34-97t97-34q56 0 93.5 32t36.5 78q0 23-8 45t-18 43q5-1 10.5-1.5t10.5-.5q48 0 82.5 34.5T920-525q0 43-30.5 77.5T818-402q7 2 13 4t12 5q29 14 47 39.5t18 55.5q0 38-33.5 66.5T779-188l-40 10v98H523ZM138-537q-29-29-43.5-65.5T80-679q0-84 58-142.5T280-880q40 0 76.5 15t65.5 44l-56 56q-17-17-39.5-26t-46.5-9q-50 0-85 35t-35 85q0 24 9 46.5t26 39.5l-57 57Zm493 128Z"})}),nCt=e=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 -960 960 960","aria-label":"collection",role:"img",...e,children:d.jsx("path",{d:"M320-320h480v-480h-80v280l-100-60-100 60v-280H320v480Zm0 80q-33 0-56.5-23.5T240-320v-480q0-33 23.5-56.5T320-880h480q33 0 56.5 23.5T880-800v480q0 33-23.5 56.5T800-240H320ZM160-80q-33 0-56.5-23.5T80-160v-560h80v560h560v80H160Zm360-720h200-200Zm-200 0h480-480Z"})}),rCt=e=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"75 -910 960 960","aria-label":"folder",role:"img",...e,children:d.jsx("path",{d:"M160-160q-33 0-56.5-23.5T80-240v-480q0-33 23.5-56.5T160-800h240l80 80h320q33 0 56.5 23.5T880-640v400q0 33-23.5 56.5T800-160H160Zm0-80h640v-400H447l-80-80H160v480Zm0 0v-480 480Z"})}),iCt=e=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"20 -910 960 960","aria-label":"manifest",role:"img",...e,children:d.jsx("path",{d:"M480-160q-48-38-104-59t-116-21q-42 0-82.5 11T100-198q-21 11-40.5-1T40-234v-482q0-11 5.5-21T62-752q46-24 96-36t102-12q58 0 113.5 15T480-740v484q51-32 107-48t113-16q36 0 70.5 6t69.5 18v-480q15 5 29.5 10.5T898-752q11 5 16.5 15t5.5 21v482q0 23-19.5 35t-40.5 1q-37-20-77.5-31T700-240q-60 0-116 21t-104 59Zm80-200v-380l200-200v400L560-360Zm-160 65v-396q-33-14-68.5-21.5T260-720q-37 0-72 7t-68 21v397q35-13 69.5-19t70.5-6q36 0 70.5 6t69.5 19Zm0 0v-396 396Z"})});function oCt(){const e=dee();if(e.length===1){const t=e[0];return t.type==="Manifest"?d.jsx(sCt,{id:t.id}):t.type==="Collection"?d.jsx(aCt,{id:t.id}):t.type==="Canvas"?d.jsx(lCt,{item:t}):d.jsx("div",{})}return d.jsx(uCt,{items:e})}function sCt({id:e}){const t=Li({id:e});return t?d.jsxs("div",{className:"flex flex-row items-center gap-2 w-full overflow-hidden truncate",children:[d.jsx(N0,{type:"manifest"}),d.jsxs("div",{className:"flex flex-col flex-1 w-full overflow-hidden",children:[d.jsx("div",{className:"flex items-center gap-2 w-full",children:d.jsx(Fn,{as:"span",className:"truncate",children:t.label})}),d.jsx("a",{"aria-label":"Selected Manifest URL",className:"text-blue-500 hover:underline truncate text-xs",href:t.id,target:"_blank",rel:"noopener noreferrer",children:t.id})]})]}):d.jsx("div",{})}function aCt({id:e}){const t=lv({id:e});return t?d.jsxs("div",{className:"flex flex-row items-center gap-2 w-full overflow-hidden truncate",children:[d.jsx(N0,{type:"collection"}),d.jsxs("div",{className:"flex flex-col flex-1 w-full overflow-hidden",children:[d.jsx("div",{className:"flex items-center gap-2 w-full",children:d.jsx(Fn,{as:"span",className:"truncate",children:t.label})}),d.jsx("a",{"aria-label":"Selected Collection URL",className:"text-blue-500 hover:underline truncate text-xs",href:t.id,target:"_blank",rel:"noopener noreferrer",children:t.id})]})]}):d.jsx("div",{})}function lCt({item:e}){var r;const t=Li({id:(r=e.parent)==null?void 0:r.id}),n=kr({id:e.id});return d.jsxs("div",{className:"flex flex-row items-center gap-2 w-full overflow-hidden truncate",children:[e.selector?d.jsx("div",{className:"text-3xl text-[#F58962]",children:d.jsx(M9e,{})}):d.jsx(N0,{type:"canvas"}),d.jsxs("div",{className:"flex flex-col flex-1 w-full overflow-hidden",children:[d.jsxs("div",{className:"flex items-center gap-2 w-full",children:[t?d.jsxs(d.Fragment,{children:[d.jsx(Fn,{as:"span",className:"truncate",children:t.label})," - "]}):null,d.jsx(Fn,{children:n.label})]}),d.jsx("span",{"aria-label":"Selected Canvas ID",className:"text-blue-500 truncate text-xs",children:e.id})]})]})}function uCt({items:e}){return e.length===0?d.jsx("div",{}):d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(eCt,{className:"text-2xl text-[#C63E75]"}),d.jsxs("span",{"aria-label":"Multiple items selected",children:[e.length," items selected"]})]})}function cCt({types:e,targets:t,format:n,output:r,onSelect:i}){const[o]=f1();return o.get("id")?d.jsxs("div",{className:"p-2 border-t bg-gray-100 flex gap-2 relative justify-between min-h-16 items-center z-30",children:[d.jsx(oCt,{}),d.jsx(J_t,{})]}):null}function dCt(){return d.jsx("a",{href:"#browser-container",target:"_self",className:"sr-only focus-visible:not-sr-only focus-visible:outline rounded-sm focus-visible:p-2 text-sm focus-visible:absolute z-20 left-3 bg-white focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-500",children:"Skip to main content"})}function L9e({historyItem:e}){const t=Ki((n,r)=>e.resource?r.get(e.resource):null,[e]);if(!e.resource){if(e.route.startsWith("/loading"))return null;const n=d9e.find(r=>r.router===e.url);return d.jsx("div",{children:d.jsxs("div",{className:"flex gap-3 items-center",children:[d.jsx("div",{className:"truncate flex-1",children:(n==null?void 0:n.title)||"Unknown"}),d.jsx("div",{className:"flex-shrink-0 rounded text-sm px-2 py-0.5 text-gray-500",children:(n==null?void 0:n.router)||""})]})})}return t?d.jsxs("div",{className:"flex gap-3 items-center",children:[d.jsx(Fn,{className:"truncate flex-1",children:t.label}),d.jsx("div",{className:"flex-shrink-0 rounded text-sm px-2 py-0.5 border",children:t.type})]}):d.jsx("div",{className:"flex gap-3 items-center",children:d.jsx("div",{className:"truncate flex-1",children:e.url})})}function fCt(e){return d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:d.jsx("path",{fill:"currentColor",d:"m7.825 13l5.6 5.6L12 20l-8-8l8-8l1.425 1.4l-5.6 5.6H20v2z"})})}function Z7({children:e,...t}){return d.jsx(Ar,{className:"flex-shrink-0 disabled:text-gray-400 disabled:cursor-not-allowed disabled:hover:bg-white aria-expanded:bg-slate-200 outline-none focus:ring ring-blue-300 text-2xl rounded hover:bg-slate-100 p-1.5 m-1",...t,children:e})}function hCt(){const e=P3(),t=aee(),n=lee(),r=h.useMemo(()=>t.slice(0,n).reverse(),[t,n]);return d.jsxs(kO,{trigger:"longPress",children:[d.jsx(Z7,{"aria-label":"Go Back",isDisabled:r.length<=0,onPress:()=>{e.back()},children:d.jsx(fCt,{})}),d.jsx(MT,{placement:"bottom start",className:j0("bg-white drop-shadow-lg shadow-slate-600 p-1 rounded text-sm max-w-96 text-slate-600",r.length<=0?"hidden":""),children:d.jsx(LT,{className:"flex flex-col gap-1 outline-none",children:r.map((i,o)=>d.jsx(hp,{onAction:()=>e.go(-(o+1)),className:"outline-none focus:bg-slate-100 hover:bg-slate-100 px-3 py-1.5 rounded",children:d.jsx(L9e,{historyItem:i})},o))})})]})}function pCt(e){return d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:d.jsx("path",{fill:"currentColor",d:"M4 18q-.425 0-.712-.288T3 17t.288-.712T4 16h16q.425 0 .713.288T21 17t-.288.713T20 18zm0-5q-.425 0-.712-.288T3 12t.288-.712T4 11h16q.425 0 .713.288T21 12t-.288.713T20 13zm0-5q-.425 0-.712-.288T3 7t.288-.712T4 6h16q.425 0 .713.288T21 7t-.288.713T20 8z"})})}function mCt(){const e=Mx(),t=m5(),n=p5();return d.jsxs(kO,{children:[d.jsx(Ar,{"aria-label":"Menu",className:"flex-shrink-0 aria-expanded:bg-slate-200 outline-none focus:ring ring-blue-300 text-2xl rounded hover:bg-slate-100 p-1.5 m-1",children:d.jsx(pCt,{})}),d.jsx(MT,{placement:"bottom end",className:"bg-white drop-shadow-lg shadow-slate-600 p-1 rounded text-sm w-36 text-slate-600",children:d.jsxs(LT,{className:"flex flex-col gap-1 outline-none",children:[d.jsx(hp,{"aria-label":"Refresh",onAction:()=>e(t),className:"outline-none focus:bg-slate-100 hover:bg-slate-100 px-3 py-1.5 rounded",children:"Refresh"}),n.defaultPages.homepage?d.jsx(hp,{"aria-label":"View Homepage",onAction:()=>e("iiif://home"),className:"outline-none focus:bg-slate-100 hover:bg-slate-100 px-3 py-1.5 rounded",children:"View Homepage"}):null,n.defaultPages.history?d.jsx(hp,{"aria-label":"View History",onAction:()=>e("iiif://history"),className:"outline-none focus:bg-slate-100 hover:bg-slate-100 px-3 py-1.5 rounded",children:"View History"}):null,n.defaultPages.viewSource?d.jsx(hp,{"aria-label":"View Source",onAction:()=>e(`view-source:${t}`),isDisabled:t.startsWith("iiif://")||t.startsWith("view-source:"),className:"outline-none focus:bg-slate-100 hover:bg-slate-100 aria-disabled:opacity-30 px-3 py-1.5 rounded",children:"View Source"}):null,n.defaultPages.about?d.jsx(hp,{"aria-label":"View About",onAction:()=>e("iiif://about"),className:"outline-none focus:bg-slate-100 hover:bg-slate-100 px-3 py-1.5 rounded",children:"About"}):null]})})]})}function Y7(e){return d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:d.jsx("path",{fill:"currentColor",d:"m12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"})})}function gCt(){const e=P3(),t=aee(),n=lee(),r=h.useMemo(()=>t.slice(n+1,10),[t,n]);return d.jsxs(kO,{trigger:"longPress",children:[d.jsx(Z7,{"aria-label":"Go Forward",isDisabled:r.length<=0,onPress:()=>{e.forward()},children:d.jsx(Y7,{})}),d.jsx(MT,{placement:"bottom start",className:j0("bg-white drop-shadow-lg shadow-slate-600 p-1 rounded text-sm max-w-96 text-slate-600",r.length<=0?"hidden":""),children:d.jsx(LT,{className:"flex flex-col gap-1 outline-none",children:r.map((i,o)=>d.jsx(hp,{onAction:()=>e.go(o+1),className:"outline-none focus:bg-slate-100 hover:bg-slate-100 px-3 py-1.5 rounded",children:d.jsx(L9e,{historyItem:i})},o))})})]})}function A9e(e){return d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:d.jsx("path",{fill:"currentColor",d:"M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1"})})}function vCt({href:e}){const t=Mx();hv();const n=m5();return d.jsx(Z7,{isDisabled:e===n,onPress:()=>t(e),"aria-label":"Go Home",children:d.jsx(A9e,{})})}function I9e(e){return d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:d.jsx("path",{fill:"currentColor",d:"M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"})})}function yCt(){const[e]=f1(),t=e.get("id"),n=_9e();return d.jsx(Z7,{"aria-label":"Reload resource",isDisabled:!t,onPress:()=>n(t),children:d.jsx(I9e,{})})}function bCt(e){return d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:d.jsx("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4"})})}function R9e(e){return d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:d.jsx("path",{fill:"currentColor",d:"m19.6 21l-6.3-6.3q-.75.6-1.725.95T9.5 16q-2.725 0-4.612-1.888T3 9.5t1.888-4.612T9.5 3t4.613 1.888T16 9.5q0 1.1-.35 2.075T14.7 13.3l6.3 6.3zM9.5 14q1.875 0 3.188-1.312T14 9.5t-1.312-3.187T9.5 5T6.313 6.313T5 9.5t1.313 3.188T9.5 14"})})}function PD(e){return d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:d.jsx("path",{fill:"currentColor",d:"M13 3a9 9 0 0 0-9 9H1l3.89 3.89l.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7s-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42A8.95 8.95 0 0 0 13 21a9 9 0 0 0 0-18m-1 5v5l4.28 2.54l.72-1.21l-3.5-2.08V8z"})})}function wCt(e){return d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:d.jsx("path",{fill:"currentColor",d:"M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10s10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8s8 3.59 8 8s-3.59 8-8 8"})})}function xCt(e){return d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:d.jsx("path",{fill:"currentColor",d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8zm4 18H6V4h7v5h5z"})})}function SCt({item:e,className:t}){return e.icon?e.icon:e.source==="history"?d.jsx(PD,{className:`text-2xl ${t}`}):e.type==="resource"?d.jsx(N0,{noFill:!0,className:`${t}`,type:e.resource.type}):e.id==="iiif://home"?d.jsx(A9e,{className:`text-2xl ${t}`}):e.id==="iiif://about"?d.jsx(wCt,{className:`text-2xl ${t}`}):e.id==="iiif://history"?d.jsx(PD,{className:`text-2xl ${t}`}):d.jsx(xCt,{className:`text-2xl ${t}`})}function _Ct({children:e,className:t,onSelect:n,wasLastOpenRef:r,onClose:i}){const o=T_t(),[s,a]=E9e(),{collectionSearchTagEnabled:l}=p5(),{isIndexing:u}=C9e(),c=h.useRef(null),f=Z_t(),p=G_t(),g=q_t(),{isOpen:v,close:y}=uee(),S=l&&!g,C=h.useCallback(k=>{k!==!0&&(y(),r.current=!0,i==null||i())},[y,i,r]),_=h.useCallback(k=>{k&&(n(k),C(),a(k.id))},[C,a,n]);return d.jsxs(RXe,{isOpen:v,onOpenChange:C,children:[e,d.jsx(MT,{className:j0("bg-white inset-0 flex flex-col overflow-hidden",t),UNSTABLE_portalContainer:o||void 0,shouldUpdatePosition:!1,children:d.jsx(DXe,{"aria-label":"Omnisearch Modal",className:"focus:outline-none flex-1 flex overflow-hidden",children:d.jsx(yXe,{defaultInputValue:s,inputValue:s,onInputChange:a,children:d.jsxs("div",{className:"flex flex-1 flex-col overflow-hidden",children:[d.jsxs("div",{className:"flex h-14 border-b shadow bg-gray-50",children:[d.jsx("div",{className:"w-11 ml-0.5 text-xl flex items-center justify-center text-slate-500",children:d.jsx(R9e,{className:"not-sr-only"})}),d.jsx(fXe,{"aria-label":"Search commands or enter a URL to a IIIF Manifest or Collection",className:"relative flex-1 min-w-0 translate-y-[-1px] translate-x-[-1px] text-sm",children:d.jsx(zxe,{ref:c,autoFocus:!0,className:"p-1 relative flex-1 w-full h-full bg-transparent z-20 text-slate-600 focus:outline-none",onKeyDown:k=>{k.key==="Escape"&&(C(),r.current=!0)},onFocus:k=>k.target.select(),onChange:k=>a(k.target.value)},location.pathname+location.search)}),d.jsx(Ar,{"aria-label":"Close Omnisearch",onPress:()=>C(),className:"text-2xl rounded focus:outline-none focus:bg-gray-200 flex-shrink-0 px-3 text-slate-500 hover:text-slate-700 m-1",children:d.jsx(bCt,{})})]}),d.jsx(LT,{selectionMode:"single",items:f||void 0,onAction:k=>{if(k&&typeof k=="string"){const w=p(k);w&&_(w)}},className:"flex-1 overflow-auto min-h-0 p-2 gap-2",dependencies:[s,f,u],children:k=>{const w=p(k.id)||k;return w?d.jsx(hp,{"aria-label":w.label,onAction:()=>{_(w)},className:({isFocused:P})=>[P?"bg-blue-500 text-white":"","flex items-center gap-4 py-2 px-4 rounded overflow-hidden"].join(" "),children:({isFocused:P})=>d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"flex items-center",children:d.jsx(SCt,{item:w,className:`${P?"opacity-100":"opacity-50"}`})}),d.jsxs("div",{className:"flex-1 min-w-0 truncate select-none",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("strong",{className:"truncate",children:w.label}),w.source==="collection"&&S?d.jsx("div",{className:"flex-shrink-0 text-xs min-w-0 bg-gray-50 text-gray-500 rounded-sm px-2",children:"current collection"}):null,w.source==="history"?d.jsx("div",{className:"flex-shrink-0 text-xs min-w-0 bg-gray-50 text-gray-500 rounded-sm px-2",children:"history"}):null]}),d.jsx("div",{className:`text-sm ${P?"opacity-100 underline":"opacity-50"}`,children:w.subLabel?w.subLabel:w.id})]}),d.jsxs("div",{className:"flex items-center justify-end gap-4",children:[d.jsx("div",{className:`text-sm ${P?"opacity-100":"opacity-50"}`,children:w.actionLabel||"Open"}),d.jsx("div",{className:"flex items-center text-2xl rounded justify-center p-2 bg-gray-100 text-black/50",children:d.jsx(Y7,{className:`h-4 w-4 ${P?"text-blue-500":"text-gray-500"}`})})]})]})}):d.jsx(hp,{})}})]})})})})]})}function CCt(){const[e,t]=E9e(),{isIndexing:n}=C9e(),r=m5(),i=Mx(),o=h.useRef(!1),{isOpen:s,open:a,close:l}=uee(),u=S9e(),c=h.useMemo(()=>r.replace(/^https?:\/\//,""),[r]),f=h.useMemo(()=>u?e.replace(/^https?:\/\//,""):c,[u,e,c]),p=h.useCallback(S=>{S?a(r):(l(),o.current=!0)},[r,a,l]),g=h.useCallback(S=>{S&&(S.type==="resource"&&i(S.resource.id),S.type==="action"&&S.action(),S.type==="page"&&i(S.url))},[i]);h.useEffect(()=>{const S=C=>{C.key==="k"&&(C.metaKey||C.ctrlKey)&&(C.preventDefault(),p(!s))};return document.addEventListener("keydown",S),()=>document.removeEventListener("keydown",S)},[s,p]);const v=h.useCallback(()=>{s||(o.current=!1)},[s]);h.useEffect(()=>{s?o.current=!0:t(r)},[s,r,t,n]),h.useEffect(()=>{},[s]);const y=h.useCallback(()=>{},[]);return d.jsx(_Ct,{wasLastOpenRef:o,onSelect:g,onClose:y,children:d.jsxs("div",{children:[d.jsx(Hxe,{className:"sr-only",children:"Search"}),d.jsx(Ar,{"aria-label":"Edit URL and show search",onBlur:v,onFocus:()=>{o.current||p(!0)},onPress:()=>{o.current&&p(!0)},className:"p-1 text-sm focus:outline-none text-slate-600 z-10 w-full text-left",children:d.jsx("span",{"aria-label":"Current URL",className:"flex-1 overflow-hidden whitespace-nowrap text-ellipsis block truncate",children:f})})]})})}function ECt(e){return d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:d.jsx("path",{fill:"currentColor",d:"M5 21V5q0-.825.588-1.412T7 3h10q.825 0 1.413.588T19 5v16l-7-3zm2-3.05l5-2.15l5 2.15V5H7zM7 5h10z"})})}function kCt(e){return d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 14 14",width:"1em",height:"1em",...e,children:d.jsxs("g",{fill:"none",fillRule:"evenodd",children:[d.jsx("path",{d:"M0 0h14v14H0z"}),d.jsx("path",{d:"M0 0h14v14H0z",opacity:.87}),d.jsx("path",{fill:"#67E291",fillRule:"nonzero",d:"M3 12h7V6H3v6Zm3.5-4.2c.642 0 1.167.54 1.167 1.2 0 .66-.525 1.2-1.167 1.2S5.333 9.66 5.333 9c0-.66.525-1.2 1.167-1.2Z",opacity:.3}),d.jsx("path",{fill:"#2EA449",fillRule:"nonzero",d:"M9.875 5h-.563V3.857C9.313 2.28 8.053 1 6.5 1 4.947 1 3.687 2.28 3.687 3.857V5h-.562C2.506 5 2 5.514 2 6.143v5.714C2 12.486 2.506 13 3.125 13h6.75c.619 0 1.125-.514 1.125-1.143V6.143C11 5.514 10.494 5 9.875 5ZM4.812 3.857c0-.948.754-1.714 1.688-1.714.934 0 1.688.766 1.688 1.714V5H4.812V3.857Zm5.063 8h-6.75V6.143h6.75v5.714ZM6.5 10.143c.619 0 1.125-.514 1.125-1.143S7.119 7.857 6.5 7.857 5.375 8.371 5.375 9s.506 1.143 1.125 1.143Z"})]})})}function PCt({showBookmarkButton:e}){const t=S9e();return d.jsxs("div",{className:j0("flex-1 min-w-0 w-full relative my-2 bg-white rounded border border-slate-300 shadow-sm flex gap-1.5 py-1 px-2 items-center","transition-colors hover:bg-blue-50","after:content-[''] after:bottom-0 after:absolute after:left-0 after:h-0.5 after:bg-gradient-to-r after:rounded-r-lg after:shadow-sm","after:bg-transparent after:w-0 after:duration-1000 after:opacity-0 after:transition-none",t&&"after:w-64 after:bg-blue-500 after:transition-all after:opacity-100"),children:[d.jsx("div",{className:"text-md p-1 flex-shink-0",children:d.jsx(kCt,{className:"not-sr-only"})}),d.jsx("div",{className:"flex-1 overflow-hidden min-w-32",children:d.jsx(CCt,{})}),e&&d.jsx(Ar,{"aria-label":"Bookmark current resource",className:j0("text-xl relative rounded text-slate-300 hover:text-slate-500 z-20 flex-shrink-0"),children:d.jsx(ECt,{})})]})}function $Ct(){const{menuButton:e,backButton:t,bookmarkButton:n,reloadButton:r,forwardButton:i,homeButton:o,defaultPages:s,homeLink:a}=p5();return d.jsxs("div",{className:"flex w-full items-center justify-between border-b shadow-sm gap-1 px-1",children:[d.jsx(dCt,{}),(s.homepage||a)&&o&&d.jsx(vCt,{href:a}),t&&d.jsx(hCt,{}),i&&d.jsx(gCt,{}),r&&d.jsx(yCt,{}),d.jsx(PCt,{showBookmarkButton:!1}),e&&d.jsx(mCt,{})]})}function TCt(e){return d.jsx("div",{id:"browser-container",className:"flex-1 relative overflow-auto flex flex-col [&>*]:flex-1 focus:outline-none focus-visible:ring","aria-label":"IIIF Browser window",children:e.children})}function Nue(e){const[t,n]=h.useState(null);return h.useLayoutEffect(()=>{const r=document.getElementById(e);r&&n(r)},[e]),t}function MCt(){const e=Nue("iiif-browser__debug-history"),t=Nue("iiif-browser__debug-selected");return d.jsxs(d.Fragment,{children:[e&&ai.createPortal(d.jsx(ACt,{}),e),t&&ai.createPortal(d.jsx(LCt,{}),t)]})}function LCt(){const e=dee(),t=$9e(),n=Y_t();return d.jsxs("div",{className:"w-full min-w-96 max-w-lg bg-white rounded-xl p-2 drop-shadow-lg m-4 overflow-hidden",children:[d.jsx("div",{className:"flex gap-4 p-2",children:d.jsx("div",{className:"flex flex-col gap-2",children:d.jsx("div",{className:"text-lg font-bold",children:"Debug selected items"})})}),d.jsxs("div",{className:"mb-8 p-2",children:[e.map(r=>{const{id:i,type:o}=r;return d.jsxs("div",{className:"flex gap-2",children:[d.jsx(N0,{type:o}),d.jsx("div",{className:"text-sm text-gray-500",children:o}),d.jsx("div",{className:"text-sm text-gray-500",children:i})]},i)}),e.length===0&&d.jsx("div",{className:"text-sm text-gray-500",children:"No selected items"})]}),d.jsx("h3",{className:"text-md font-bold",children:"Debug available outputs"}),d.jsx("pre",{className:"text-sm text-gray-500",children:JSON.stringify(t,null,2)}),d.jsx("h3",{className:"text-md font-bold",children:"Debug all outputs"}),d.jsx("pre",{className:"text-sm text-gray-500",children:JSON.stringify(n,null,2)}),d.jsx("h3",{className:"text-md font-bold",children:"Debug selected items"}),d.jsx("pre",{className:"text-sm text-gray-500",children:JSON.stringify(e,null,2)})]})}function ACt(){const e=m5(),t=see(),n=aee(),r=lee(),i=P3(),o=Mx(),s=b9e(),a=k9e(),[l,u]=h.useState([]);return h.useEffect(()=>a.on("history.change",c=>{u(f=>[{type:"history.change",data:c},...f])}),[a]),d.jsxs("div",{className:"w-full min-w-96 max-w-lg bg-white rounded-xl p-2 drop-shadow-lg m-4",children:[d.jsx("div",{className:"flex gap-4 p-2",children:d.jsxs("div",{className:"flex flex-col gap-2",children:[d.jsx("div",{className:"text-lg font-bold",children:"Debug History"}),d.jsxs("div",{className:"text-xs text-gray-500",children:["Index: ",r]}),d.jsxs("div",{className:"text-xs text-gray-500",children:["Last URL: ",e]}),d.jsxs("div",{className:"flex gap-1",children:[d.jsx(Ar,{onPress:()=>i.go(-1),className:"bg-blue-500 px-2 py-1 rounded text-white",children:"Back"}),d.jsx(Ar,{onPress:()=>i.go(1),className:"bg-blue-500 px-2 py-1 rounded text-white",children:"Forward"}),d.jsx(Ar,{onPress:s,className:"bg-blue-500 px-2 py-1 rounded text-white",children:"Clear history"})]})]})}),d.jsxs(HSe,{children:[d.jsxs(VSe,{children:[d.jsx(XV,{id:"history",children:"History"}),d.jsx(XV,{id:"linear-history",children:"Linear History"})]}),d.jsxs(QV,{id:"history",children:[n.map((c,f)=>{var p,g;return d.jsxs(Ar,{onPress:()=>i.go(f-r),className:`flex gap-4 w-full rounded text-start p-2 ${f===r?"bg-gray-300":""}`,children:[d.jsxs("div",{className:"truncate overflow-ellipsis",title:c.route,children:[(p=c.metadata)!=null&&p.label?d.jsxs(d.Fragment,{children:[d.jsx(Fn,{className:"font-semibold text-sm",children:(g=c.metadata)==null?void 0:g.label}),d.jsx("br",{})]}):null," ",c.url]}),c.parent&&d.jsxs("span",{className:"truncate overflow-ellipsis",children:[c.parent.id," (",c.parent.type,")"]}),d.jsxs("span",{className:"text-gray-500 flex-shrink-0 ml-auto",children:["Index: ",f," / go(",f-r,")"]})]},f)}),d.jsxs("div",{className:"whitespace-pre-wrap text-xs overflow-auto",children:[d.jsx(Ar,{onPress:()=>u([]),className:"bg-blue-500 px-2 py-1 rounded text-white",children:"Clear"}),l.map((c,f)=>d.jsxs("pre",{className:"whitespace-pre-wrap",children:[c.type,"/",c.data.source," - ",JSON.stringify(c.data)]},l.length-f))]})]}),d.jsx(QV,{id:"linear-history",children:t.map((c,f)=>{var p,g;return d.jsxs(Ar,{onPress:()=>o(c.url),className:"flex gap-4 flex-col text-start hover:bg-blue-100 justify-start w-full rounded p-2",children:[d.jsxs("div",{className:"truncate overflow-ellipsis",title:c.route,children:[(p=c.metadata)!=null&&p.label?d.jsxs(d.Fragment,{children:[d.jsx(Fn,{className:"font-semibold text-sm",children:(g=c.metadata)==null?void 0:g.label}),d.jsx("br",{})]}):null," ",c.url]}),c.parent&&d.jsxs("span",{className:"truncate overflow-ellipsis",children:[c.parent.id," (",c.parent.type,")"]})]},f)})})]})]})}function ICt(){const e=Ch(),t=m5(),[n]=f1(),r=n.get("error"),i=n.get("id"),o=yt(e,s=>s.loaded[t]);return r?d.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[d.jsx("h1",{className:"text-4xl font-bold",children:"Error"}),d.jsx("p",{className:"text-lg",children:r})]}):o!=null&&o.error?d.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[d.jsx("h1",{className:"text-4xl font-bold",children:"Error"}),d.jsx("p",{className:"text-lg",children:o.error})]}):d.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[d.jsx("h1",{className:"text-4xl font-bold",children:"404"}),d.jsx("p",{className:"text-lg",children:"Page not found"}),i&&d.jsx("a",{href:`/collections/${i}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 underline text-sm",children:i})]})}function RCt(){return d.jsxs("div",{className:"p-8",children:[d.jsx("h1",{className:"text-2xl font-bold mb-4",children:"About"}),d.jsx("p",{className:"mb-4",children:"The IIIF Browser is a web application that allows users to browse and search IIIF content. It is built by Digirati using React and TypeScript."}),d.jsxs("div",{className:"flex gap-3 text-blue-500 underline",children:[d.jsx("a",{href:"https://github.com/digirati-co-uk/iiif-browser",target:"_blank",rel:"noreferrer",children:"View on GitHub"}),d.jsx("a",{href:"https://digirati.com",target:"_blank",rel:"noreferrer",children:"Digirati"})]})]})}function DCt(e){return d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:d.jsx("path",{fill:"currentColor",d:"M3 21h4.675v-4.675H3zm6.675 0h4.65v-4.675h-4.65zm6.65 0H21v-4.675h-4.675zM3 14.325h4.675v-4.65H3zm6.675 0h4.65v-4.65h-4.65zm6.65 0H21v-4.65h-4.675zM3 7.675h4.675V3H3zm6.675 0h4.65V3h-4.65zm6.65 0H21V3h-4.675z"})})}function OCt(e){return d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:d.jsx("path",{fill:"currentColor",d:"M9 20h13v-4H9zM2 8h5V4H2zm0 6h5v-4H2zm0 6h5v-4H2zm7-6h13v-4H9zm0-6h13V4H9z"})})}function D9e({isListView:e,setIsListView:t}){return d.jsxs(USe,{className:"inline-flex border rounded border-gray-300 overflow-hidden p-0.5",children:[d.jsx(Ar,{"aria-label":"Grid view","aria-selected":!e,className:`p-2 rounded-sm ${e?"":"bg-gray-200"}`,onPress:()=>t(!1),children:d.jsx(DCt,{})}),d.jsx(Ar,{"aria-label":"List view","aria-selected":e,className:`p-2 rounded-sm ${e?"bg-gray-200":""}`,onPress:()=>t(!0),children:d.jsx(OCt,{})})]})}function O9e(e,t){const n=h.useRef(null),[r,i]=f1(),o=Number.parseInt(r.get("page")||"1",10),s=Math.ceil(e.length/t),a=h.useCallback(c=>{var f;c>=1&&c<=s&&(i(p=>(p.set("page",c.toString()),p)),(f=n.current)==null||f.scrollIntoView({behavior:"instant",inline:"start",block:"nearest"}))},[i,s]),l=h.useMemo(()=>{const c=(o-1)*t,f=c+t;return e.slice(c,f)},[e,o,t]),u=h.useMemo(()=>{function c(){o<s&&a(o+1)}function f(){o>1&&a(o-1)}function p(y){y>=1&&y<=s&&a(y)}function g(){a(1)}function v(){a(s)}return{currentPage:o,totalPages:s,nextPage:c,prevPage:f,pageSize:t,goToPage:p,goToFirstPage:g,goToLastPage:v,topRef:n}},[o,t,s,a]);return[l,u]}function jCt({enabled:e,...t}){return d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...t,children:e?d.jsx("path",{fill:"currentColor",d:"M4.25 5.61C6.57 8.59 10 13 10 13v5c0 1.1.9 2 2 2s2-.9 2-2v-5s3.43-4.41 5.75-7.39c.51-.66.04-1.61-.8-1.61H5.04c-.83 0-1.3.95-.79 1.61"}):d.jsx("path",{fill:"currentColor",d:"M19.79 5.61A.998.998 0 0 0 19 4H6.83l7.97 7.97zm.7 14.88L3.51 3.51A.996.996 0 1 0 2.1 4.92L10 13v5c0 1.1.9 2 2 2s2-.9 2-2v-1.17l5.07 5.07c.39.39 1.02.39 1.41 0s.4-1.02.01-1.41"})})}globalThis.MS_LS_EMITTER=globalThis.MS_LS_EMITTER||nv();var aB=globalThis.MS_LS_EMITTER;function j9e(e,t){const n=h.useRef();!n.current&&t&&(n.current=JSON.stringify(t));const[r,i]=h.useState(()=>{try{if(typeof window>"u"||typeof window.localStorage>"u")return t;const s=window.localStorage.getItem(e);return s&&(n.current=s),s?JSON.parse(s):t}catch(s){return console.log(s),t}}),o=s=>{try{if(typeof window<"u"&&typeof window.localStorage<"u"){let a=t;try{a=typeof n.current>"u"?t:JSON.parse(n.current)}catch{}const l=s instanceof Function?s(a):s;i(l);const u=JSON.stringify(l);window.localStorage.setItem(e,u),u!==n.current&&(n.current=u,aB.emit(`change:${e}`,{valueJson:u}))}}catch(a){console.log(a)}};return h.useEffect(()=>{const s=({valueJson:a})=>{if(a&&a!==n.current)try{i(JSON.parse(a)),n.current=a}catch{}};return aB.on(`change:${e}`,s),()=>{aB.off(`change:${e}`,s)}},[e]),[r,o,n]}function fee({resource:e,parent:t,thumbnail:n,hideLabel:r,className:i}){const o=h.useMemo(()=>({id:e.id,type:e.type,parent:t}),[e.id,e.type,t]);return d.jsx(kD,{as:BSe,"aria-label":e.label?uc(e.label):"Resource",isReactAria:!0,ignoreAlwaysShowNavigationArrow:!0,resource:o,parent:t,className:i,children:({canNavigate:s,canSelect:a,isMarked:l,isNavigating:u,isSelected:c,doubleClickToNavigate:f,showNavigationArrow:p,navigate:g,renderCheckbox:v,renderDotsMenu:y})=>d.jsxs("div",{className:`rounded-md cursor-pointer p-1 group relative${a&&" hover:bg-slate-200"}${s?" hover:bg-blue-200":" opacity-50"}${c?" bg-blue-50":""}${r?"":" mb-4"}`,children:[d.jsxs("div",{className:"relative overflow-hidden rounded aspect-square bg-slate-50 group-hover:bg-slate-100",children:[n,a?d.jsx("div",{"aria-selected":c,className:`w-8 h-8 rounded aria-selected:opacity-100 flex-shrink-0 flex z-20 absolute bottom-0 start-1${f?" group-hover:opacity-100 opacity-10":" opacity-50 hover:opacity-100"}`,children:v()}):null,d.jsxs("div",{className:"flex items-center gap-2 absolute top-1 right-1",children:[y(),p&&s?d.jsx(Ar,{onPress:g,className:"ml-auto bg-gray-300/50 p-2 rounded hover:bg-gray-300/100",children:d.jsx(Y7,{})}):null]})]}),d.jsx("div",{className:`text-center overflow-hidden text-xs line-clamp-2 ${r?"sr-only":""}`,children:d.jsx(Fn,{children:e.label})})]})})}function NCt({id:e}){const t=lv({id:e});return t?d.jsx(fee,{resource:t,thumbnail:d.jsx(Kxt,{})}):null}function hee({resource:e,large:t=!1,parent:n}){const r=h.useMemo(()=>({id:e.id,type:e.type,parent:n}),[e.id,e.type,n]);return d.jsx(kD,{"aria-label":e.label?uc(e.label):"Resource",as:BSe,isReactAria:!0,resource:r,parent:n,children:({canNavigate:i,canSelect:o,isMarked:s,isNavigating:a,isSelected:l,doubleClickToNavigate:u,showNavigationArrow:c,navigate:f,renderCheckbox:p,renderDotsMenu:g})=>d.jsxs("div",{className:`flex h-12 items-center gap-3 px-2 group${i?" hover:bg-blue-100":" opacity-50"}${l?" bg-blue-50":""}${t?" py-8":""}`,children:[o?d.jsx("div",{"aria-selected":l,className:`w-8 aria-selected:opacity-100 flex-shrink-0 flex ${u?"group-hover:opacity-100 opacity-10":"opacity-50 hover:opacity-100"}`,children:p()}):null,d.jsx(N0,{type:e.type,isFolder:(e.behavior||[]).includes("storage-collection"),external:!i}),d.jsxs("div",{className:"flex flex-col min-w-0",children:[d.jsx("div",{className:"overflow-hidden text-md truncate flex-1",children:d.jsx(Fn,{children:e.label})}),t?d.jsx("div",{className:"overflow-hidden text-md truncate flex-1 text-sm text-black/50",children:e.id}):null]}),c&&i?d.jsx(Ar,{"aria-label":"Navigate to resource",onPress:f,className:"ml-auto bg-gray-500/10 p-2",children:d.jsx(Y7,{})}):null,g()]})})}function FCt({id:e}){const t=lv({id:e});return t?d.jsx(hee,{resource:t}):null}function BCt(e,t,{canvasId:n,manifestId:r}={}){const i=$n(),o=oEe(),s=h.useMemo(()=>n1(i,{imageServiceLoader:o}),[i,o]),[a,l]=h.useState(!1),[u,c]=h.useState(),f=Li(r?{id:r}:void 0),p=kr(n?{id:n}:void 0),g=p||f,v=h.useRef(!1);if(h.useEffect(()=>(v.current=!1,()=>{v.current=!0}),[]),!g)throw new Error("Must be called under a manifest or canvas context.");return rEe(y=>{s.getBestThumbnailAtSize(g,e,t).then(S=>{S.best&&!v.current&&c(S.best),l(!0)})},[g]),{thumbnail:u,isLoaded:a}}function zCt(e){return d.jsx("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",...e,children:d.jsxs("g",{id:"Artboard-Copy-5",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:[d.jsx("rect",{id:"Rectangle",x:"0",y:"0",width:"24",height:"24"}),d.jsxs("g",{id:"Group",transform:"translate(6.000000, 4.000000)",children:[d.jsx("rect",{id:"Rectangle",fill:"#717171",x:"2",y:"7",width:"8",height:"6"}),d.jsx("path",{d:"M2.98125,11.8125 L9.01875,11.8125 L9.01875,10.6875 L2.98125,10.6875 L2.98125,11.8125 Z M2.98125,8.625 L9.01875,8.625 L9.01875,7.5 L2.98125,7.5 L2.98125,8.625 Z M1.125,15 C0.825,15 0.5625,14.8875 0.3375,14.6625 C0.1125,14.4375 0,14.175 0,13.875 L0,1.125 C0,0.825 0.1125,0.5625 0.3375,0.3375 C0.5625,0.1125 0.825,0 1.125,0 L7.89375,0 L12,4.10625 L12,13.875 C12,14.175 11.8875,14.4375 11.6625,14.6625 C11.4375,14.8875 11.175,15 10.875,15 L1.125,15 Z M7.33125,4.6125 L10.875,4.6125 L7.33125,1.125 L7.33125,4.6125 Z",id:"Shape",fill:"#AAAAAA",fillRule:"nonzero"})]})]})})}var HCt=["https://iiif.ub.uni-leipzig.de"];function VCt(){var o;const e=$n(),t=Li(),n=BCt({width:256,height:256,maxWidth:600,maxHeight:600},!0),[r,i]=h.useState(!1);return h.useEffect(()=>{if(t&&n.isLoaded&&!n.thumbnail){if(HCt.find(s=>t.id.includes(s)))return;e.load(t.id)}},[n.isLoaded]),r||!n.thumbnail?d.jsx("div",{className:"w-full h-full flex items-center justify-center text-3xl text-OnBaseText",children:d.jsx(zCt,{width:"50%",height:"50%"})}):n.isLoaded?d.jsx("img",{src:(o=n.thumbnail)==null?void 0:o.id,alt:"",className:"w-full h-full object-contain",onError:()=>i(!0)}):d.jsx(Vxt,{})}var Fue=new Set,UCt=["view.nls.uk","iiif.bodleian.ox.ac.uk","iiif.ub.uni-leipzig.de"];function WCt({manifestId:e,children:t,skip:n,...r}){const[i,o]=h.useState(Fue.has(e||"")),s=e;if(!s)return t;const a=UCt.find(f=>s.includes(f)),u=`https://mt.iiifcdn.org/image/${btoa(s)}/default.jpg`,c=()=>{o(!0),Fue.add(s)};return i||!a||n?t:d.jsx("img",{alt:"",...r,src:u,onError:c})}function KCt(){const e=Li(),t=e==null?void 0:e.thumbnail.length;return e?d.jsx(fee,{resource:e,thumbnail:d.jsx(WCt,{manifestId:(e==null?void 0:e.id)||"",className:"w-full h-full object-contain",skip:!!t,children:d.jsx(VCt,{})})}):null}function qCt(){const e=Li();return e?d.jsx(hee,{resource:e}):null}function GCt({id:e}){const[t,n]=h.useState(null),r=lv({id:e}),i=w9e(),[o,s]=j9e("list-view-toggle",!0),[a,l]=h.useState(!1),{showFilterButton:u}=p5(),c=h.useMemo(()=>{const y=(r==null?void 0:r.items)||[];return a?y.filter(S=>i(S)):y},[a,r,i]),[f,p]=O9e(c,48),{openWithFilter:g}=uee(),v=h.useCallback(y=>{n(y)},[]);return r?d.jsxs("div",{ref:v,className:"px-2",children:[d.jsx("div",{ref:p.topRef}),d.jsx(Fn,{as:"h1",className:"text-2xl font-bold p-3 text-center",children:r.label}),p.totalPages>1?d.jsxs("div",{className:"grid grid-cols-3 z-20 sticky left-0 right-0 top-2 bg-white p-4 rounded-full items-center mb-4 shadow",children:[d.jsx(Ar,{className:"text-blue-600 hover:underline disabled:text-gray-300 text-start focus:outline-none px-4",onPress:p.prevPage,isDisabled:p.currentPage===1,"aria-label":"Previous page",children:"Previous"}),d.jsxs("div",{className:"text-center text-sm text-gray-400","aria-label":"Page number",children:["Page ",p.currentPage," of ",p.totalPages]}),d.jsx(Ar,{className:"text-blue-600 hover:underline disabled:text-gray-300 text-end focus:outline-none px-4",onPress:p.nextPage,isDisabled:p.currentPage===p.totalPages,"aria-label":"Next page",children:"Next"})]}):null,d.jsxs("div",{className:"flex px-4 py-4 justify-between",children:[d.jsx("div",{children:d.jsxs(Ar,{"aria-label":"Search current collection",className:"text-blue-600 hover:underline flex items-center gap-2",onPress:()=>g("","collection"),children:[d.jsx(R9e,{}),d.jsx("span",{children:"Search collection"})]})}),d.jsxs("div",{className:"flex items-center gap-1",children:[u?d.jsx(Ar,{"aria-label":"Filter items not selectable",onPress:()=>l(!a),className:"border rounded border-gray-300 overflow-hidden py-1 px-3 self-stretch",children:d.jsx(jCt,{enabled:!a})}):null,d.jsx(D9e,{isListView:o,setIsListView:s})]})]}),o?d.jsx(LR,{selectionMode:"multiple",layout:"stack",children:f.map(y=>y.type==="Collection"?d.jsx(FCt,{id:y.id},y.id):d.jsx(hh,{manifest:y.id,children:d.jsx(qCt,{})},y.id))}):d.jsx(LR,{className:"grid grid-sm gap-2",selectionMode:"multiple",layout:"grid",children:f.map(y=>y.type==="Collection"?d.jsx(NCt,{id:y.id},y.id):d.jsx(hh,{manifest:y.id,children:d.jsx(KCt,{})},y.id))})]}):null}function ZCt(){const e=$n(),[t]=f1(),n=P3(),r=t.get("id"),i=t.get("view-source")==="true",o=lv({id:r});h.useEffect(()=>{o||n.replace(`/loading?${t.toString()}`)},[t,n.replace,o]);const s=h.useMemo(()=>!i||!o?null:e.toPresentation3(o),[e,o,i]);return i?d.jsx("pre",{className:"p-4 m-4 border bg-gray-50 border-gray-100 overflow-scroll rounded-lg text-xs",children:JSON.stringify(s,null,2)}):d.jsx(GCt,{id:r})}function YCt(){const e=see(),t=b9e(),n=Mx();return d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex items-center justify-between sticky top-0 p-4 bg-white z-10",children:[d.jsxs("h1",{className:"font-semibold text-lg flex items-center gap-3",children:[d.jsx(PD,{className:"text-2xl"}),"IIIF Browser History"]}),d.jsx(Ar,{className:"bg-blue-500 hover:bg-blue-700 text-white py-2 px-4 rounded",onPress:t,children:"Clear history"})]}),d.jsx(DSe,{className:"w-full p-2",children:e.map((r,i)=>{var o,s;return r.url==="iiif://history"?null:d.jsxs(jSe,{onAction:()=>n(r.url),className:"flex items-center hover:bg-blue-100 p-2",children:[d.jsxs("div",{className:"flex flex-col flex-1",children:[(o=r.metadata)!=null&&o.label?d.jsx(Fn,{className:"font-semibold",children:(s=r.metadata)==null?void 0:s.label}):"",d.jsx("div",{className:"text-sm underline",children:r.url})]}),d.jsx("div",{className:"flex-shrink-0 text-xs opacity-50",children:r.timestamp?d.jsx($_t,{date:r.timestamp}):""})]},i)})})]})}var XCt=()=>{const e=see(),t=Mx(),{recentCollections:n,recentManifests:r}=h.useMemo(()=>{const i=[],o=[],s=[],a=e.filter(u=>{var c;return((c=u.metadata)==null?void 0:c.type)==="Collection"}),l=e.filter(u=>{var c;return((c=u.metadata)==null?void 0:c.type)==="Manifest"});for(const u of a)i.includes(u.url)||(i.push(u.url),o.push(u));for(const u of l)i.includes(u.url)||(i.push(u.url),s.push(u));return{recentCollections:o.slice(0,10),recentManifests:s.slice(0,10)}},[e]);return d.jsxs("div",{className:"p-8",children:[d.jsx("h1",{className:"text-3xl font-bold",children:"IIIF Browser"}),d.jsx("p",{className:"text-lg mb-12",children:"Enter a URL in the bar above to explore IIIF resources."}),n.length>0?d.jsxs("div",{className:"mb-8",children:[d.jsxs("h2",{className:"text-xl font-bold flex items-center gap-3 mb-2",children:[d.jsx(N0,{type:"collection"}),"Recent Collections"]}),n.map(i=>d.jsx("div",{children:d.jsx(kD,{resource:{id:i.url,type:"Collection"},children:({canNavigate:o})=>{var s;return d.jsx(Fn,{className:o?"text-blue-500 hover:underline":"text-gray-500",children:(s=i.metadata)==null?void 0:s.label})}})},i.url))]}):null,r.length>0?d.jsxs("div",{className:"mb-8",children:[d.jsxs("h2",{className:"text-xl font-bold flex items-center gap-3 mb-2",children:[d.jsx(N0,{type:"manifest"}),"Recent Manifests"]}),r.map(i=>d.jsx("div",{children:d.jsx(kD,{resource:{id:i.url,type:"Manifest"},children:({canNavigate:o})=>{var s;return d.jsx(Fn,{className:o?"text-blue-500 hover:underline":"text-gray-500",children:(s=i.metadata)==null?void 0:s.label})}})},i.url))]}):null,e.length>3?d.jsx("div",{className:"py-8",children:d.jsxs(Ar,{className:"text-blue-500 flex items-center gap-2",onPress:()=>t("iiif://history"),children:[d.jsx(PD,{}),"View history"]})}):null]})};function QCt(e){return d.jsxs("svg",{height:"1em",width:"1em",viewBox:"0 0 24 24",...e,children:[d.jsx("path",{d:"M0 0h24v24H0z",fill:"none"}),d.jsx("path",{d:"M0 0h24v24H0V0z",fill:"none"}),d.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12l1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z",fill:"currentColor"})]})}function JCt(e){return d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:d.jsx("path",{fill:"currentColor",d:"M12 2.5L8 7h8zM7 8l-4.5 4L7 16zm10 0v8l4.5-4zm-5 2a2 2 0 0 0-2 2a2 2 0 0 0 2 2a2 2 0 0 0 2-2a2 2 0 0 0-2-2m-4 7l4 4.5l4-4.5z"})})}var e3t=({title:e,...t})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",viewBox:"0 0 24 24",...t,children:[d.jsx("path",{d:"M0 0h24v24H0z",fill:"none"}),d.jsx("path",{d:"M19 13H5v-2h14v2z",fill:"currentColor"}),e?d.jsx("title",{children:e}):null]}),t3t=({title:e,...t})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",viewBox:"0 0 24 24",...t,children:[d.jsx("path",{d:"M0 0h24v24H0z",fill:"none"}),d.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z",fill:"currentColor"}),e?d.jsx("title",{children:e}):null]});function n3t(){let e="";return{c(t){return e=t,t},v(){return e}}}function N9e({id:e}){const t=kr(),n=NT(),{canCropImage:r}=G7(),{mode:i,setEditMode:o}=oee(),s=cee(t),a=P9e(),l=i==="sketch",u=n3t();return d.jsxs(USe,{className:"absolute bottom-0 flex gap-1 p-2 z-50",children:[d.jsx(Ar,{className:u.c("disabled:opacity-40 bg-white/80 hover:bg-white/100 text-black text-2xl flex gap-2 items-center px-2 py-1 rounded-sm"),onPress:()=>n==null?void 0:n.runtime.world.zoomTo(.75),children:d.jsx(t3t,{})}),d.jsx(Ar,{className:u.v(),onPress:()=>n==null?void 0:n.runtime.world.zoomTo(1/.75),children:d.jsx(e3t,{})}),d.jsx(Ar,{className:u.v(),onPress:()=>n==null?void 0:n.runtime.world.goHome(),children:d.jsx(I9e,{})}),r?d.jsxs(d.Fragment,{children:[d.jsx(Ar,{className:u.v(),isDisabled:l&&!s,onPress:()=>o(!l),children:s?d.jsxs("span",{className:"text-sm",children:[" ",l?"Confirm":"Edit crop"]}):d.jsx(M9e,{})}),d.jsx(Ar,{className:u.v(),isDisabled:!l,onPress:()=>o(!1),children:d.jsx(JCt,{})}),d.jsx(Ar,{className:u.v(),isDisabled:!s,onPress:()=>{confirm("Remove crop?")&&(e?a(e,null):t&&a(t.id,null))},children:d.jsx(QCt,{})})]}):null]})}function r3t({id:e,interactive:t,region:n,onClick:r,onHover:i,onSave:o,maintainAspectRatio:s,disableCardinalControls:a,isEditing:l,style:u={backgroundColor:"rgba(0,0,0,.5)"}}){const c=h.useCallback(f=>{l&&o({id:n.id,x:n.x,y:n.y,height:n.height,width:n.width,...f})},[o,l,n.id,n.x,n.y,n.height,n.width]);return d.jsx(S3e,{id:e,x:n.x,y:n.y,width:n.width,height:n.height,resizable:l,onSave:c,maintainAspectRatio:s,disableCardinalControls:a,children:d.jsx("box",{interactive:t,onClick:f=>{f.preventDefault(),f.stopPropagation(),r==null||r(n)},relativeStyle:!0,onMouseEnter:()=>{i==null||i(n)},target:{x:0,y:0,width:n.width,height:n.height},style:u})})}function F9e({id:e,highlightStyle:t,editMode:n,setEditMode:r}){const i=kr(),o=P9e(),s=h.useMemo(()=>e?{id:e}:i||null,[e,i]),a=cee(s),l=h.useCallback(u=>{if(s){o(s.id,u);return}},[s,o]);return d.jsxs(d.Fragment,{children:[n&&!a?d.jsx(iQ,{onCreate:u=>{s&&(l({type:"BoxSelector",spatial:u}),r(!1))}}):null,(a==null?void 0:a.type)==="BoxSelector"?d.jsx(r3t,{region:{...a.spatial},isEditing:!0,onSave:u=>l({type:"BoxSelector",spatial:u}),style:t||{outline:"2px solid #4E80EE",background:"rgba(255, 255, 255, .1)"},disableCardinalControls:!0,onClick:()=>{}}):null]})}function i3t(){const[e]=f1(),t=e.get("id"),n=h.useContext(TC),r=k9e(),{mode:i,setEditMode:o}=oee(),s=i==="sketch";return h.useEffect(()=>{t&&r.emit("image-service.change",{id:t})},[t,r]),t?d.jsx("div",{className:"flex h-full flex-col",children:d.jsx("div",{className:"atlas-viewer-container flex w-full flex-1 h-full",children:d.jsx(jEe,{renderPreset:"default-preset",src:t,fluid:!0,mode:s?"sketch":"explore",renderViewerControls:()=>d.jsx(N9e,{}),className:"flex-1",height:"auto",children:d.jsx(TC.Provider,{value:n,children:d.jsx(F9e,{id:t,editMode:s,setEditMode:o})})})})}):null}function o3t(){return K_t(),d.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[d.jsx("h1",{className:"text-4xl font-bold",children:"Loading..."}),d.jsx("p",{className:"text-lg",children:"Please wait while we load the data."})]})}function s3t(){const e=Li(),t=h.useContext(TC),{sequence:n,items:r,currentSequenceIndex:i}=aQ(),o=qJ(),{mode:s,setEditMode:a}=oee(),l=s==="sketch",u=n[i],c=r[u[0]],f=cee(c),p=f?[~~f.spatial.x,~~f.spatial.y,~~f.spatial.width,~~f.spatial.height].join(","):"";return h.useEffect(()=>{if(c){const g=new URLSearchParams;g.set("id",e.id),g.set("canvas",c.id),f&&g.set("xywh",p),o({search:g.toString()},{replace:!0})}},[c,o,r,p]),d.jsxs("div",{className:"flex h-full flex-col",children:[d.jsx("div",{className:"flex w-full flex-1 min-h-0",children:d.jsx(Ko.Viewer,{height:"auto",mode:s,children:d.jsx(Ko.RenderCanvas,{renderViewerControls:()=>d.jsx(N9e,{}),children:d.jsx(TC.Provider,{value:t,children:d.jsx(F9e,{editMode:l,setEditMode:a})})})})}),d.jsx("div",{className:"flex-shrink-0 h-32 items-center flex",children:d.jsx(Pat,{classes:{container:"flex gap-1 overflow-x-auto items-center px-[50%]",row:"flex gap-2 border border-gray-200 flex-none h-24 w-24 items-center justify-center rounded overflow-hidden p-1",img:"max-h-24 max-w-24 object-contain h-full w-full",selected:{row:"flex gap-2 border border-blue-400 flex-none bg-blue-100 h-24 w-24 items-center justify-center rounded overflow-hidden p-1"}}})})]})}function a3t(){kr();const e=av({height:120,width:120},!1);return d.jsx(Sx.LazyLoadComponent,{children:d.jsx("img",{className:"w-full h-full object-contain",src:e==null?void 0:e.id,alt:""})})}function l3t({manifest:e}){const t=kr();return t?d.jsx(fee,{className:"rounded-md cursor-pointer hover:bg-slate-200 p-1 group aspect-square items-center",resource:t,parent:e,thumbnail:d.jsx(Do,{canvas:t.id,children:d.jsx(a3t,{})}),hideLabel:!0}):null}function u3t({manifest:e}){const t=kr();return t?d.jsx(hee,{resource:t,parent:e}):null}function c3t(){const e=Li(),[t,n]=O9e((e==null?void 0:e.items)||[],48),[r,i]=j9e("list-view-toggle-canvas",!1);return Wxt(e),d.jsxs("div",{className:"p-2",children:[d.jsx("div",{ref:n.topRef}),d.jsx(Fn,{as:"h1",className:"text-2xl font-bold m-3 text-center",children:e.label}),d.jsx(D9e,{isListView:r,setIsListView:i}),n.totalPages>1?d.jsxs("div",{className:"grid grid-cols-3 sticky left-0 right-0 top-2 bg-white p-4 rounded-full items-center mb-4 shadow z-20",children:[d.jsx(Ar,{className:"text-blue-600 hover:underline disabled:text-gray-300 text-start focus:outline-none px-4",onPress:n.prevPage,isDisabled:n.currentPage===1,"aria-label":"Previous page",children:"Previous"}),d.jsxs("div",{className:"text-center text-sm text-gray-400","aria-label":"Page number",children:["Page ",n.currentPage," of ",n.totalPages]}),d.jsx(Ar,{className:"text-blue-600 hover:underline disabled:text-gray-300 text-end focus:outline-none px-4",onPress:n.nextPage,isDisabled:n.currentPage===n.totalPages,"aria-label":"Next page",children:"Next"})]}):null,r?d.jsx(LR,{selectionMode:"multiple",layout:"stack",children:t.map(o=>d.jsx(Do,{canvas:o.id,children:d.jsx(u3t,{manifest:e})},o.id))}):d.jsx(LR,{className:"grid grid-sm gap-0.5",selectionMode:"multiple",layout:"grid",items:t,children:o=>d.jsx(Do,{canvas:o.id,children:d.jsx(l3t,{manifest:e})},o.id)})]})}function d3t(){const[e]=f1(),t=e.get("id"),n=e.get("canvas"),r=$n(),i=P3(),o=e.get("view-source")==="true",s=Li({id:t}),a=h.useMemo(()=>!o||!s?null:r.toPresentation3(s),[r,s,o]);return h.useEffect(()=>{s||i.replace(`/loading?${e.toString()}`)},[e,i.replace,s]),s?o?d.jsx("pre",{className:"p-4 m-4 border bg-gray-50 border-gray-100 overflow-scroll rounded-lg text-xs",children:JSON.stringify(a,null,2)}):d.jsx(hh,{manifest:s.id,children:n?d.jsx(I3e,{manifest:t,startCanvas:n,pagingEnabled:!1,children:d.jsx(s3t,{})}):d.jsx(c3t,{})}):null}function f3t(e){return h.useMemo(()=>Object.entries({"/":d.jsx(XCt,{}),"/about":d.jsx(RCt,{}),"/collection":d.jsx(ZCt,{}),"/manifest":d.jsx(d3t,{}),"/history":d.jsx(YCt,{}),"/image-service":d.jsx(i3t,{}),"/not-found":d.jsx(ICt,{}),"/loading":d.jsx(o3t,{}),...e||{}}),[e])}function B9e({ui:e,history:t,navigation:n,output:r,customPages:i,debug:o,className:s,vault:a}){const l=f3t(i);return d.jsx(X_t,{vault:a,outputConfig:r,uiConfig:e,browserConfig:t,linkConfig:n,debug:o,children:d.jsxs(M_t,{className:s,children:[d.jsx($Ct,{}),d.jsx(TCt,{children:d.jsx(HSt,{children:l.map(([u,c])=>d.jsx(jDe,{path:u,element:c},u))})}),d.jsx(cCt,{targets:p3t,types:h3t,format:m3t}),d.jsx(MCt,{})]})})}var h3t=["Collection","Manifest","Canvas","CanvasRegion"],p3t=[{type:"open-new-window",urlPattern:"https://theseusviewer.org/?iiif-content={MANIFEST}",label:"Open in Theseus"},{type:"open-new-window",urlPattern:"https://universalviewer.dev/#?iiifManifestId={MANIFEST}&cv={CANVAS_INDEX}&xywh={XYWH}",label:"Open in UV"},{type:"open-new-window",label:"Open in Clover",urlPattern:"https://samvera-labs.github.io/clover-iiif/?iiif-content={MANIFEST}"},{type:"open-new-window",label:"Open in Mirador",urlPattern:"https://tomcrane.github.io/scratch/mirador3/index.html?iiif-content={MANIFEST}"},{type:"open-new-window",label:"Open JSON-LD",urlPattern:"{RESULT}"}],m3t={type:"url",resolvable:!1};function z9e(e){const t=h.useMemo(()=>new fh,[]),n=h.useMemo(()=>[{type:"callback",label:"Select",supportedTypes:["Manifest","Collection"],cb:o=>e.runCreate({output:o}),format:{type:"content-state"}}],[e.runCreate]),r=h.useMemo(()=>({canCropImage:!1,canSelectCanvas:!1,canSelectManifest:!0,canSelectCollection:!0,multiSelect:!1}),[]),i=h.useMemo(()=>({buttonClassName:"bg-me-primary-500 text-white hover:bg-me-primary-600"}),[]);return d.jsx(FJ,{children:d.jsx(B9e,{debug:!0,ui:i,vault:t,className:"iiif-browser border-none border-t rounded-none h-[70vh] min-h-[60vh] max-h-full max-w-full",output:n,navigation:r})})}function g3t(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return h.useMemo(()=>r=>{t.forEach(i=>i(r))},t)}const X7=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function M3(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function pee(e){return"nodeType"in e}function pc(e){var t,n;return e?M3(e)?e:pee(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function mee(e){const{Document:t}=pc(e);return e instanceof t}function g5(e){return M3(e)?!1:e instanceof pc(e).HTMLElement}function H9e(e){return e instanceof pc(e).SVGElement}function L3(e){return e?M3(e)?e.document:pee(e)?mee(e)?e:g5(e)||H9e(e)?e.ownerDocument:document:document:document}const Np=X7?h.useLayoutEffect:h.useEffect;function gee(e){const t=h.useRef(e);return Np(()=>{t.current=e}),h.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current==null?void 0:t.current(...r)},[])}function v3t(){const e=h.useRef(null),t=h.useCallback((r,i)=>{e.current=setInterval(r,i)},[]),n=h.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function I4(e,t){t===void 0&&(t=[e]);const n=h.useRef(e);return Np(()=>{n.current!==e&&(n.current=e)},t),n}function v5(e,t){const n=h.useRef();return h.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function $D(e){const t=gee(e),n=h.useRef(null),r=h.useCallback(i=>{i!==n.current&&(t==null||t(i,n.current)),n.current=i},[]);return[n,r]}function Gq(e){const t=h.useRef();return h.useEffect(()=>{t.current=e},[e]),t.current}let lB={};function y5(e,t){return h.useMemo(()=>{if(t)return t;const n=lB[e]==null?0:lB[e]+1;return lB[e]=n,e+"-"+n},[e,t])}function V9e(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.reduce((o,s)=>{const a=Object.entries(s);for(const[l,u]of a){const c=o[l];c!=null&&(o[l]=c+e*u)}return o},{...t})}}const H2=V9e(1),R4=V9e(-1);function y3t(e){return"clientX"in e&&"clientY"in e}function vee(e){if(!e)return!1;const{KeyboardEvent:t}=pc(e.target);return t&&e instanceof t}function b3t(e){if(!e)return!1;const{TouchEvent:t}=pc(e.target);return t&&e instanceof t}function Zq(e){if(b3t(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return y3t(e)?{x:e.clientX,y:e.clientY}:null}const D4=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[D4.Translate.toString(e),D4.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),Bue="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function w3t(e){return e.matches(Bue)?e:e.querySelector(Bue)}const x3t={display:"none"};function S3t(e){let{id:t,value:n}=e;return ne.createElement("div",{id:t,style:x3t},n)}function _3t(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return ne.createElement("div",{id:t,style:i,role:"status","aria-live":r,"aria-atomic":!0},n)}function C3t(){const[e,t]=h.useState("");return{announce:h.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const U9e=h.createContext(null);function E3t(e){const t=h.useContext(U9e);h.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function k3t(){const[e]=h.useState(()=>new Set),t=h.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[h.useCallback(r=>{let{type:i,event:o}=r;e.forEach(s=>{var a;return(a=s[i])==null?void 0:a.call(s,o)})},[e]),t]}const P3t={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},$3t={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function T3t(e){let{announcements:t=$3t,container:n,hiddenTextDescribedById:r,screenReaderInstructions:i=P3t}=e;const{announce:o,announcement:s}=C3t(),a=y5("DndLiveRegion"),[l,u]=h.useState(!1);if(h.useEffect(()=>{u(!0)},[]),E3t(h.useMemo(()=>({onDragStart(f){let{active:p}=f;o(t.onDragStart({active:p}))},onDragMove(f){let{active:p,over:g}=f;t.onDragMove&&o(t.onDragMove({active:p,over:g}))},onDragOver(f){let{active:p,over:g}=f;o(t.onDragOver({active:p,over:g}))},onDragEnd(f){let{active:p,over:g}=f;o(t.onDragEnd({active:p,over:g}))},onDragCancel(f){let{active:p,over:g}=f;o(t.onDragCancel({active:p,over:g}))}}),[o,t])),!l)return null;const c=ne.createElement(ne.Fragment,null,ne.createElement(S3t,{id:r,value:i.draggable}),ne.createElement(_3t,{id:a,announcement:s}));return n?ai.createPortal(c,n):c}var Zs;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(Zs||(Zs={}));function TD(){}function zue(e,t){return h.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function M3t(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return h.useMemo(()=>[...t].filter(r=>r!=null),[...t])}const gh=Object.freeze({x:0,y:0});function W9e(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function K9e(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function L3t(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function Hue(e){let{left:t,top:n,height:r,width:i}=e;return[{x:t,y:n},{x:t+i,y:n},{x:t,y:n+r},{x:t+i,y:n+r}]}function q9e(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function Vue(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const A3t=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const i=Vue(t,t.left,t.top),o=[];for(const s of r){const{id:a}=s,l=n.get(a);if(l){const u=W9e(Vue(l),i);o.push({id:a,data:{droppableContainer:s,value:u}})}}return o.sort(K9e)},I3t=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const i=Hue(t),o=[];for(const s of r){const{id:a}=s,l=n.get(a);if(l){const u=Hue(l),c=i.reduce((p,g,v)=>p+W9e(u[v],g),0),f=Number((c/4).toFixed(4));o.push({id:a,data:{droppableContainer:s,value:f}})}}return o.sort(K9e)};function R3t(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),i=Math.min(t.left+t.width,e.left+e.width),o=Math.min(t.top+t.height,e.top+e.height),s=i-r,a=o-n;if(r<i&&n<o){const l=t.width*t.height,u=e.width*e.height,c=s*a,f=c/(l+u-c);return Number(f.toFixed(4))}return 0}const D3t=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const i=[];for(const o of r){const{id:s}=o,a=n.get(s);if(a){const l=R3t(a,t);l>0&&i.push({id:s,data:{droppableContainer:o,value:l}})}}return i.sort(L3t)};function O3t(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function G9e(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:gh}function j3t(e){return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return i.reduce((s,a)=>({...s,top:s.top+e*a.y,bottom:s.bottom+e*a.y,left:s.left+e*a.x,right:s.right+e*a.x}),{...n})}}const N3t=j3t(1);function F3t(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function B3t(e,t,n){const r=F3t(t);if(!r)return e;const{scaleX:i,scaleY:o,x:s,y:a}=r,l=e.left-s-(1-i)*parseFloat(n),u=e.top-a-(1-o)*parseFloat(n.slice(n.indexOf(" ")+1)),c=i?e.width/i:e.width,f=o?e.height/o:e.height;return{width:c,height:f,top:u,right:l+c,bottom:u+f,left:l}}const z3t={ignoreTransform:!1};function A3(e,t){t===void 0&&(t=z3t);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:u,transformOrigin:c}=pc(e).getComputedStyle(e);u&&(n=B3t(n,u,c))}const{top:r,left:i,width:o,height:s,bottom:a,right:l}=n;return{top:r,left:i,width:o,height:s,bottom:a,right:l}}function Uue(e){return A3(e,{ignoreTransform:!0})}function H3t(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function V3t(e,t){return t===void 0&&(t=pc(e).getComputedStyle(e)),t.position==="fixed"}function U3t(e,t){t===void 0&&(t=pc(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const o=t[i];return typeof o=="string"?n.test(o):!1})}function Q7(e,t){const n=[];function r(i){if(t!=null&&n.length>=t||!i)return n;if(mee(i)&&i.scrollingElement!=null&&!n.includes(i.scrollingElement))return n.push(i.scrollingElement),n;if(!g5(i)||H9e(i)||n.includes(i))return n;const o=pc(e).getComputedStyle(i);return i!==e&&U3t(i,o)&&n.push(i),V3t(i,o)?n:r(i.parentNode)}return e?r(e):n}function Z9e(e){const[t]=Q7(e,1);return t??null}function uB(e){return!X7||!e?null:M3(e)?e:pee(e)?mee(e)||e===L3(e).scrollingElement?window:g5(e)?e:null:null}function Y9e(e){return M3(e)?e.scrollX:e.scrollLeft}function X9e(e){return M3(e)?e.scrollY:e.scrollTop}function Yq(e){return{x:Y9e(e),y:X9e(e)}}var ya;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(ya||(ya={}));function Q9e(e){return!X7||!e?!1:e===document.scrollingElement}function J9e(e){const t={x:0,y:0},n=Q9e(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},i=e.scrollTop<=t.y,o=e.scrollLeft<=t.x,s=e.scrollTop>=r.y,a=e.scrollLeft>=r.x;return{isTop:i,isLeft:o,isBottom:s,isRight:a,maxScroll:r,minScroll:t}}const W3t={x:.2,y:.2};function K3t(e,t,n,r,i){let{top:o,left:s,right:a,bottom:l}=n;r===void 0&&(r=10),i===void 0&&(i=W3t);const{isTop:u,isBottom:c,isLeft:f,isRight:p}=J9e(e),g={x:0,y:0},v={x:0,y:0},y={height:t.height*i.y,width:t.width*i.x};return!u&&o<=t.top+y.height?(g.y=ya.Backward,v.y=r*Math.abs((t.top+y.height-o)/y.height)):!c&&l>=t.bottom-y.height&&(g.y=ya.Forward,v.y=r*Math.abs((t.bottom-y.height-l)/y.height)),!p&&a>=t.right-y.width?(g.x=ya.Forward,v.x=r*Math.abs((t.right-y.width-a)/y.width)):!f&&s<=t.left+y.width&&(g.x=ya.Backward,v.x=r*Math.abs((t.left+y.width-s)/y.width)),{direction:g,speed:v}}function q3t(e){if(e===document.scrollingElement){const{innerWidth:o,innerHeight:s}=window;return{top:0,left:0,right:o,bottom:s,width:o,height:s}}const{top:t,left:n,right:r,bottom:i}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:i,width:e.clientWidth,height:e.clientHeight}}function eOe(e){return e.reduce((t,n)=>H2(t,Yq(n)),gh)}function G3t(e){return e.reduce((t,n)=>t+Y9e(n),0)}function Z3t(e){return e.reduce((t,n)=>t+X9e(n),0)}function Y3t(e,t){if(t===void 0&&(t=A3),!e)return;const{top:n,left:r,bottom:i,right:o}=t(e);Z9e(e)&&(i<=0||o<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const X3t=[["x",["left","right"],G3t],["y",["top","bottom"],Z3t]];class yee{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=Q7(n),i=eOe(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[o,s,a]of X3t)for(const l of s)Object.defineProperty(this,l,{get:()=>{const u=a(r),c=i[o]-u;return this.rect[l]+c},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class bP{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var i;(i=this.target)==null||i.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function Q3t(e){const{EventTarget:t}=pc(e);return e instanceof t?e:L3(e)}function cB(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var Vd;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(Vd||(Vd={}));function Wue(e){e.preventDefault()}function J3t(e){e.stopPropagation()}var zr;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(zr||(zr={}));const tOe={start:[zr.Space,zr.Enter],cancel:[zr.Esc],end:[zr.Space,zr.Enter,zr.Tab]},eEt=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case zr.Right:return{...n,x:n.x+25};case zr.Left:return{...n,x:n.x-25};case zr.Down:return{...n,y:n.y+25};case zr.Up:return{...n,y:n.y-25}}};class bee{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new bP(L3(n)),this.windowListeners=new bP(pc(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Vd.Resize,this.handleCancel),this.windowListeners.add(Vd.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Vd.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&Y3t(r),n(gh)}handleKeyDown(t){if(vee(t)){const{active:n,context:r,options:i}=this.props,{keyboardCodes:o=tOe,coordinateGetter:s=eEt,scrollBehavior:a="smooth"}=i,{code:l}=t;if(o.end.includes(l)){this.handleEnd(t);return}if(o.cancel.includes(l)){this.handleCancel(t);return}const{collisionRect:u}=r.current,c=u?{x:u.left,y:u.top}:gh;this.referenceCoordinates||(this.referenceCoordinates=c);const f=s(t,{active:n,context:r.current,currentCoordinates:c});if(f){const p=R4(f,c),g={x:0,y:0},{scrollableAncestors:v}=r.current;for(const y of v){const S=t.code,{isTop:C,isRight:_,isLeft:k,isBottom:w,maxScroll:P,minScroll:M}=J9e(y),R=q3t(y),D={x:Math.min(S===zr.Right?R.right-R.width/2:R.right,Math.max(S===zr.Right?R.left:R.left+R.width/2,f.x)),y:Math.min(S===zr.Down?R.bottom-R.height/2:R.bottom,Math.max(S===zr.Down?R.top:R.top+R.height/2,f.y))},H=S===zr.Right&&!_||S===zr.Left&&!k,O=S===zr.Down&&!w||S===zr.Up&&!C;if(H&&D.x!==f.x){const z=y.scrollLeft+p.x,G=S===zr.Right&&z<=P.x||S===zr.Left&&z>=M.x;if(G&&!p.y){y.scrollTo({left:z,behavior:a});return}G?g.x=y.scrollLeft-z:g.x=S===zr.Right?y.scrollLeft-P.x:y.scrollLeft-M.x,g.x&&y.scrollBy({left:-g.x,behavior:a});break}else if(O&&D.y!==f.y){const z=y.scrollTop+p.y,G=S===zr.Down&&z<=P.y||S===zr.Up&&z>=M.y;if(G&&!p.x){y.scrollTo({top:z,behavior:a});return}G?g.y=y.scrollTop-z:g.y=S===zr.Down?y.scrollTop-P.y:y.scrollTop-M.y,g.y&&y.scrollBy({top:-g.y,behavior:a});break}}this.handleMove(t,H2(R4(f,this.referenceCoordinates),g))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}bee.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=tOe,onActivation:i}=t,{active:o}=n;const{code:s}=e.nativeEvent;if(r.start.includes(s)){const a=o.activatorNode.current;return a&&e.target!==a?!1:(e.preventDefault(),i==null||i({event:e.nativeEvent}),!0)}return!1}}];function Kue(e){return!!(e&&"distance"in e)}function que(e){return!!(e&&"delay"in e)}class wee{constructor(t,n,r){var i;r===void 0&&(r=Q3t(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:o}=t,{target:s}=o;this.props=t,this.events=n,this.document=L3(s),this.documentListeners=new bP(this.document),this.listeners=new bP(r),this.windowListeners=new bP(pc(s)),this.initialCoordinates=(i=Zq(o))!=null?i:gh,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(Vd.Resize,this.handleCancel),this.windowListeners.add(Vd.DragStart,Wue),this.windowListeners.add(Vd.VisibilityChange,this.handleCancel),this.windowListeners.add(Vd.ContextMenu,Wue),this.documentListeners.add(Vd.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(que(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(Kue(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:r,onPending:i}=this.props;i(r,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(Vd.Click,J3t,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Vd.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:i,props:o}=this,{onMove:s,options:{activationConstraint:a}}=o;if(!i)return;const l=(n=Zq(t))!=null?n:gh,u=R4(i,l);if(!r&&a){if(Kue(a)){if(a.tolerance!=null&&cB(u,a.tolerance))return this.handleCancel();if(cB(u,a.distance))return this.handleStart()}if(que(a)&&cB(u,a.tolerance))return this.handleCancel();this.handlePending(a,u);return}t.cancelable&&t.preventDefault(),s(l)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===zr.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const tEt={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class xee extends wee{constructor(t){const{event:n}=t,r=L3(n.target);super(t,tEt,r)}}xee.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const nEt={move:{name:"mousemove"},end:{name:"mouseup"}};var Xq;(function(e){e[e.RightClick=2]="RightClick"})(Xq||(Xq={}));class rEt extends wee{constructor(t){super(t,nEt,L3(t.event.target))}}rEt.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===Xq.RightClick?!1:(r==null||r({event:n}),!0)}}];const dB={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class iEt extends wee{constructor(t){super(t,dB)}static setup(){return window.addEventListener(dB.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(dB.move.name,t)};function t(){}}}iEt.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:i}=n;return i.length>1?!1:(r==null||r({event:n}),!0)}}];var wP;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(wP||(wP={}));var MD;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(MD||(MD={}));function oEt(e){let{acceleration:t,activator:n=wP.Pointer,canScroll:r,draggingRect:i,enabled:o,interval:s=5,order:a=MD.TreeOrder,pointerCoordinates:l,scrollableAncestors:u,scrollableAncestorRects:c,delta:f,threshold:p}=e;const g=aEt({delta:f,disabled:!o}),[v,y]=v3t(),S=h.useRef({x:0,y:0}),C=h.useRef({x:0,y:0}),_=h.useMemo(()=>{switch(n){case wP.Pointer:return l?{top:l.y,bottom:l.y,left:l.x,right:l.x}:null;case wP.DraggableRect:return i}},[n,i,l]),k=h.useRef(null),w=h.useCallback(()=>{const M=k.current;if(!M)return;const R=S.current.x*C.current.x,D=S.current.y*C.current.y;M.scrollBy(R,D)},[]),P=h.useMemo(()=>a===MD.TreeOrder?[...u].reverse():u,[a,u]);h.useEffect(()=>{if(!o||!u.length||!_){y();return}for(const M of P){if((r==null?void 0:r(M))===!1)continue;const R=u.indexOf(M),D=c[R];if(!D)continue;const{direction:H,speed:O}=K3t(M,D,_,t,p);for(const z of["x","y"])g[z][H[z]]||(O[z]=0,H[z]=0);if(O.x>0||O.y>0){y(),k.current=M,v(w,s),S.current=O,C.current=H;return}}S.current={x:0,y:0},C.current={x:0,y:0},y()},[t,w,r,y,o,s,JSON.stringify(_),JSON.stringify(g),v,u,P,c,JSON.stringify(p)])}const sEt={x:{[ya.Backward]:!1,[ya.Forward]:!1},y:{[ya.Backward]:!1,[ya.Forward]:!1}};function aEt(e){let{delta:t,disabled:n}=e;const r=Gq(t);return v5(i=>{if(n||!r||!i)return sEt;const o={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[ya.Backward]:i.x[ya.Backward]||o.x===-1,[ya.Forward]:i.x[ya.Forward]||o.x===1},y:{[ya.Backward]:i.y[ya.Backward]||o.y===-1,[ya.Forward]:i.y[ya.Forward]||o.y===1}}},[n,t,r])}function lEt(e,t){const n=t!=null?e.get(t):void 0,r=n?n.node.current:null;return v5(i=>{var o;return t==null?null:(o=r??i)!=null?o:null},[r,t])}function uEt(e,t){return h.useMemo(()=>e.reduce((n,r)=>{const{sensor:i}=r,o=i.activators.map(s=>({eventName:s.eventName,handler:t(s.handler,r)}));return[...n,...o]},[]),[e,t])}var O4;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(O4||(O4={}));var Qq;(function(e){e.Optimized="optimized"})(Qq||(Qq={}));const Gue=new Map;function cEt(e,t){let{dragging:n,dependencies:r,config:i}=t;const[o,s]=h.useState(null),{frequency:a,measure:l,strategy:u}=i,c=h.useRef(e),f=S(),p=I4(f),g=h.useCallback(function(C){C===void 0&&(C=[]),!p.current&&s(_=>_===null?C:_.concat(C.filter(k=>!_.includes(k))))},[p]),v=h.useRef(null),y=v5(C=>{if(f&&!n)return Gue;if(!C||C===Gue||c.current!==e||o!=null){const _=new Map;for(let k of e){if(!k)continue;if(o&&o.length>0&&!o.includes(k.id)&&k.rect.current){_.set(k.id,k.rect.current);continue}const w=k.node.current,P=w?new yee(l(w),w):null;k.rect.current=P,P&&_.set(k.id,P)}return _}return C},[e,o,n,f,l]);return h.useEffect(()=>{c.current=e},[e]),h.useEffect(()=>{f||g()},[n,f]),h.useEffect(()=>{o&&o.length>0&&s(null)},[JSON.stringify(o)]),h.useEffect(()=>{f||typeof a!="number"||v.current!==null||(v.current=setTimeout(()=>{g(),v.current=null},a))},[a,f,g,...r]),{droppableRects:y,measureDroppableContainers:g,measuringScheduled:o!=null};function S(){switch(u){case O4.Always:return!1;case O4.BeforeDragging:return n;default:return!n}}}function nOe(e,t){return v5(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function dEt(e,t){return nOe(e,t)}function fEt(e){let{callback:t,disabled:n}=e;const r=gee(t),i=h.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:o}=window;return new o(r)},[r,n]);return h.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function J7(e){let{callback:t,disabled:n}=e;const r=gee(t),i=h.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:o}=window;return new o(r)},[n]);return h.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function hEt(e){return new yee(A3(e),e)}function Zue(e,t,n){t===void 0&&(t=hEt);const[r,i]=h.useState(null);function o(){i(l=>{if(!e)return null;if(e.isConnected===!1){var u;return(u=l??n)!=null?u:null}const c=t(e);return JSON.stringify(l)===JSON.stringify(c)?l:c})}const s=fEt({callback(l){if(e)for(const u of l){const{type:c,target:f}=u;if(c==="childList"&&f instanceof HTMLElement&&f.contains(e)){o();break}}}}),a=J7({callback:o});return Np(()=>{o(),e?(a==null||a.observe(e),s==null||s.observe(document.body,{childList:!0,subtree:!0})):(a==null||a.disconnect(),s==null||s.disconnect())},[e]),r}function pEt(e){const t=nOe(e);return G9e(e,t)}const Yue=[];function mEt(e){const t=h.useRef(e),n=v5(r=>e?r&&r!==Yue&&e&&t.current&&e.parentNode===t.current.parentNode?r:Q7(e):Yue,[e]);return h.useEffect(()=>{t.current=e},[e]),n}function gEt(e){const[t,n]=h.useState(null),r=h.useRef(e),i=h.useCallback(o=>{const s=uB(o.target);s&&n(a=>a?(a.set(s,Yq(s)),new Map(a)):null)},[]);return h.useEffect(()=>{const o=r.current;if(e!==o){s(o);const a=e.map(l=>{const u=uB(l);return u?(u.addEventListener("scroll",i,{passive:!0}),[u,Yq(u)]):null}).filter(l=>l!=null);n(a.length?new Map(a):null),r.current=e}return()=>{s(e),s(o)};function s(a){a.forEach(l=>{const u=uB(l);u==null||u.removeEventListener("scroll",i)})}},[i,e]),h.useMemo(()=>e.length?t?Array.from(t.values()).reduce((o,s)=>H2(o,s),gh):eOe(e):gh,[e,t])}function Xue(e,t){t===void 0&&(t=[]);const n=h.useRef(null);return h.useEffect(()=>{n.current=null},t),h.useEffect(()=>{const r=e!==gh;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?R4(e,n.current):gh}function vEt(e){h.useEffect(()=>{if(!X7)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function yEt(e,t){return h.useMemo(()=>e.reduce((n,r)=>{let{eventName:i,handler:o}=r;return n[i]=s=>{o(s,t)},n},{}),[e,t])}function rOe(e){return h.useMemo(()=>e?H3t(e):null,[e])}const Que=[];function bEt(e,t){t===void 0&&(t=A3);const[n]=e,r=rOe(n?pc(n):null),[i,o]=h.useState(Que);function s(){o(()=>e.length?e.map(l=>Q9e(l)?r:new yee(t(l),l)):Que)}const a=J7({callback:s});return Np(()=>{a==null||a.disconnect(),s(),e.forEach(l=>a==null?void 0:a.observe(l))},[e]),i}function wEt(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return g5(t)?t:e}function xEt(e){let{measure:t}=e;const[n,r]=h.useState(null),i=h.useCallback(u=>{for(const{target:c}of u)if(g5(c)){r(f=>{const p=t(c);return f?{...f,width:p.width,height:p.height}:p});break}},[t]),o=J7({callback:i}),s=h.useCallback(u=>{const c=wEt(u);o==null||o.disconnect(),c&&(o==null||o.observe(c)),r(c?t(c):null)},[t,o]),[a,l]=$D(s);return h.useMemo(()=>({nodeRef:a,rect:n,setRef:l}),[n,a,l])}const SEt=[{sensor:xee,options:{}},{sensor:bee,options:{}}],_Et={current:{}},rI={draggable:{measure:Uue},droppable:{measure:Uue,strategy:O4.WhileDragging,frequency:Qq.Optimized},dragOverlay:{measure:A3}};class xP extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const CEt={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new xP,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:TD},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:rI,measureDroppableContainers:TD,windowRect:null,measuringScheduled:!1},EEt={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:TD,draggableNodes:new Map,over:null,measureDroppableContainers:TD},e8=h.createContext(EEt),iOe=h.createContext(CEt);function kEt(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new xP}}}function PEt(e,t){switch(t.type){case Zs.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Zs.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case Zs.DragEnd:case Zs.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Zs.RegisterDroppable:{const{element:n}=t,{id:r}=n,i=new xP(e.droppable.containers);return i.set(r,n),{...e,droppable:{...e.droppable,containers:i}}}case Zs.SetDroppableDisabled:{const{id:n,key:r,disabled:i}=t,o=e.droppable.containers.get(n);if(!o||r!==o.key)return e;const s=new xP(e.droppable.containers);return s.set(n,{...o,disabled:i}),{...e,droppable:{...e.droppable,containers:s}}}case Zs.UnregisterDroppable:{const{id:n,key:r}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;const o=new xP(e.droppable.containers);return o.delete(n),{...e,droppable:{...e.droppable,containers:o}}}default:return e}}function $Et(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:i}=h.useContext(e8),o=Gq(r),s=Gq(n==null?void 0:n.id);return h.useEffect(()=>{if(!t&&!r&&o&&s!=null){if(!vee(o)||document.activeElement===o.target)return;const a=i.get(s);if(!a)return;const{activatorNode:l,node:u}=a;if(!l.current&&!u.current)return;requestAnimationFrame(()=>{for(const c of[l.current,u.current]){if(!c)continue;const f=w3t(c);if(f){f.focus();break}}})}},[r,t,i,s,o]),null}function TEt(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((i,o)=>o({transform:i,...r}),n):n}function MEt(e){return h.useMemo(()=>({draggable:{...rI.draggable,...e==null?void 0:e.draggable},droppable:{...rI.droppable,...e==null?void 0:e.droppable},dragOverlay:{...rI.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function LEt(e){let{activeNode:t,measure:n,initialRect:r,config:i=!0}=e;const o=h.useRef(!1),{x:s,y:a}=typeof i=="boolean"?{x:i,y:i}:i;Np(()=>{if(!s&&!a||!t){o.current=!1;return}if(o.current||!r)return;const u=t==null?void 0:t.node.current;if(!u||u.isConnected===!1)return;const c=n(u),f=G9e(c,r);if(s||(f.x=0),a||(f.y=0),o.current=!0,Math.abs(f.x)>0||Math.abs(f.y)>0){const p=Z9e(u);p&&p.scrollBy({top:f.y,left:f.x})}},[t,s,a,r,n])}const oOe=h.createContext({...gh,scaleX:1,scaleY:1});var ay;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(ay||(ay={}));const AEt=h.memo(function(t){var n,r,i,o;let{id:s,accessibility:a,autoScroll:l=!0,children:u,sensors:c=SEt,collisionDetection:f=D3t,measuring:p,modifiers:g,...v}=t;const y=h.useReducer(PEt,void 0,kEt),[S,C]=y,[_,k]=k3t(),[w,P]=h.useState(ay.Uninitialized),M=w===ay.Initialized,{draggable:{active:R,nodes:D,translate:H},droppable:{containers:O}}=S,z=R!=null?D.get(R):null,G=h.useRef({initial:null,translated:null}),ee=h.useMemo(()=>{var $t;return R!=null?{id:R,data:($t=z==null?void 0:z.data)!=null?$t:_Et,rect:G}:null},[R,z]),X=h.useRef(null),[se,B]=h.useState(null),[q,U]=h.useState(null),K=I4(v,Object.values(v)),J=y5("DndDescribedBy",s),oe=h.useMemo(()=>O.getEnabled(),[O]),he=MEt(p),{droppableRects:me,measureDroppableContainers:re,measuringScheduled:ue}=cEt(oe,{dragging:M,dependencies:[H.x,H.y],config:he.droppable}),ce=lEt(D,R),we=h.useMemo(()=>q?Zq(q):null,[q]),Me=on(),Be=dEt(ce,he.draggable.measure);LEt({activeNode:R!=null?D.get(R):null,config:Me.layoutShiftCompensation,initialRect:Be,measure:he.draggable.measure});const ge=Zue(ce,he.draggable.measure,Be),ye=Zue(ce?ce.parentElement:null),_e=h.useRef({activatorEvent:null,active:null,activeNode:ce,collisionRect:null,collisions:null,droppableRects:me,draggableNodes:D,draggingNode:null,draggingNodeRect:null,droppableContainers:O,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),$e=O.getNodeFor((n=_e.current.over)==null?void 0:n.id),He=xEt({measure:he.dragOverlay.measure}),Ve=(r=He.nodeRef.current)!=null?r:ce,ot=M?(i=He.rect)!=null?i:ge:null,kt=!!(He.nodeRef.current&&He.rect),gt=pEt(kt?null:ge),rn=rOe(Ve?pc(Ve):null),Yt=mEt(M?$e??ce:null),Bt=bEt(Yt),dn=TEt(g,{transform:{x:H.x-gt.x,y:H.y-gt.y,scaleX:1,scaleY:1},activatorEvent:q,active:ee,activeNodeRect:ge,containerNodeRect:ye,draggingNodeRect:ot,over:_e.current.over,overlayNodeRect:He.rect,scrollableAncestors:Yt,scrollableAncestorRects:Bt,windowRect:rn}),Ft=we?H2(we,H):null,Xt=gEt(Yt),Qe=Xue(Xt),Ce=Xue(Xt,[ge]),ze=H2(dn,Qe),Ne=ot?N3t(ot,dn):null,ct=ee&&Ne?f({active:ee,collisionRect:Ne,droppableRects:me,droppableContainers:oe,pointerCoordinates:Ft}):null,Ct=q9e(ct,"id"),[Et,Ie]=h.useState(null),Ae=kt?dn:H2(dn,Ce),dt=O3t(Ae,(o=Et==null?void 0:Et.rect)!=null?o:null,ge),it=h.useRef(null),ut=h.useCallback(($t,Wt)=>{let{sensor:Kt,options:sr}=Wt;if(X.current==null)return;const Jt=D.get(X.current);if(!Jt)return;const zn=$t.nativeEvent,Ln=new Kt({active:X.current,activeNode:Jt,event:zn,options:sr,context:_e,onAbort(_t){if(!D.get(_t))return;const{onDragAbort:Hn}=K.current,Bn={id:_t};Hn==null||Hn(Bn),_({type:"onDragAbort",event:Bn})},onPending(_t,Fr,Hn,Bn){if(!D.get(_t))return;const{onDragPending:mt}=K.current,hr={id:_t,constraint:Fr,initialCoordinates:Hn,offset:Bn};mt==null||mt(hr),_({type:"onDragPending",event:hr})},onStart(_t){const Fr=X.current;if(Fr==null)return;const Hn=D.get(Fr);if(!Hn)return;const{onDragStart:Bn}=K.current,ar={activatorEvent:zn,active:{id:Fr,data:Hn.data,rect:G}};ai.unstable_batchedUpdates(()=>{Bn==null||Bn(ar),P(ay.Initializing),C({type:Zs.DragStart,initialCoordinates:_t,active:Fr}),_({type:"onDragStart",event:ar}),B(it.current),U(zn)})},onMove(_t){C({type:Zs.DragMove,coordinates:_t})},onEnd:Ot(Zs.DragEnd),onCancel:Ot(Zs.DragCancel)});it.current=Ln;function Ot(_t){return async function(){const{active:Hn,collisions:Bn,over:ar,scrollAdjustedTranslate:mt}=_e.current;let hr=null;if(Hn&&mt){const{cancelDrop:Ii}=K.current;hr={activatorEvent:zn,active:Hn,collisions:Bn,delta:mt,over:ar},_t===Zs.DragEnd&&typeof Ii=="function"&&await Promise.resolve(Ii(hr))&&(_t=Zs.DragCancel)}X.current=null,ai.unstable_batchedUpdates(()=>{C({type:_t}),P(ay.Uninitialized),Ie(null),B(null),U(null),it.current=null;const Ii=_t===Zs.DragEnd?"onDragEnd":"onDragCancel";if(hr){const Rr=K.current[Ii];Rr==null||Rr(hr),_({type:Ii,event:hr})}})}}},[D]),vt=h.useCallback(($t,Wt)=>(Kt,sr)=>{const Jt=Kt.nativeEvent,zn=D.get(sr);if(X.current!==null||!zn||Jt.dndKit||Jt.defaultPrevented)return;const Ln={active:zn};$t(Kt,Wt.options,Ln)===!0&&(Jt.dndKit={capturedBy:Wt.sensor},X.current=sr,ut(Kt,Wt))},[D,ut]),Mn=uEt(c,vt);vEt(c),Np(()=>{ge&&w===ay.Initializing&&P(ay.Initialized)},[ge,w]),h.useEffect(()=>{const{onDragMove:$t}=K.current,{active:Wt,activatorEvent:Kt,collisions:sr,over:Jt}=_e.current;if(!Wt||!Kt)return;const zn={active:Wt,activatorEvent:Kt,collisions:sr,delta:{x:ze.x,y:ze.y},over:Jt};ai.unstable_batchedUpdates(()=>{$t==null||$t(zn),_({type:"onDragMove",event:zn})})},[ze.x,ze.y]),h.useEffect(()=>{const{active:$t,activatorEvent:Wt,collisions:Kt,droppableContainers:sr,scrollAdjustedTranslate:Jt}=_e.current;if(!$t||X.current==null||!Wt||!Jt)return;const{onDragOver:zn}=K.current,Ln=sr.get(Ct),Ot=Ln&&Ln.rect.current?{id:Ln.id,rect:Ln.rect.current,data:Ln.data,disabled:Ln.disabled}:null,_t={active:$t,activatorEvent:Wt,collisions:Kt,delta:{x:Jt.x,y:Jt.y},over:Ot};ai.unstable_batchedUpdates(()=>{Ie(Ot),zn==null||zn(_t),_({type:"onDragOver",event:_t})})},[Ct]),Np(()=>{_e.current={activatorEvent:q,active:ee,activeNode:ce,collisionRect:Ne,collisions:ct,droppableRects:me,draggableNodes:D,draggingNode:Ve,draggingNodeRect:ot,droppableContainers:O,over:Et,scrollableAncestors:Yt,scrollAdjustedTranslate:ze},G.current={initial:ot,translated:Ne}},[ee,ce,ct,Ne,D,Ve,ot,me,O,Et,Yt,ze]),oEt({...Me,delta:H,draggingRect:Ne,pointerCoordinates:Ft,scrollableAncestors:Yt,scrollableAncestorRects:Bt});const Kn=h.useMemo(()=>({active:ee,activeNode:ce,activeNodeRect:ge,activatorEvent:q,collisions:ct,containerNodeRect:ye,dragOverlay:He,draggableNodes:D,droppableContainers:O,droppableRects:me,over:Et,measureDroppableContainers:re,scrollableAncestors:Yt,scrollableAncestorRects:Bt,measuringConfiguration:he,measuringScheduled:ue,windowRect:rn}),[ee,ce,ge,q,ct,ye,He,D,O,me,Et,re,Yt,Bt,he,ue,rn]),Qt=h.useMemo(()=>({activatorEvent:q,activators:Mn,active:ee,activeNodeRect:ge,ariaDescribedById:{draggable:J},dispatch:C,draggableNodes:D,over:Et,measureDroppableContainers:re}),[q,Mn,ee,ge,C,J,D,Et,re]);return ne.createElement(U9e.Provider,{value:k},ne.createElement(e8.Provider,{value:Qt},ne.createElement(iOe.Provider,{value:Kn},ne.createElement(oOe.Provider,{value:dt},u)),ne.createElement($Et,{disabled:(a==null?void 0:a.restoreFocus)===!1})),ne.createElement(T3t,{...a,hiddenTextDescribedById:J}));function on(){const $t=(se==null?void 0:se.autoScrollEnabled)===!1,Wt=typeof l=="object"?l.enabled===!1:l===!1,Kt=M&&!$t&&!Wt;return typeof l=="object"?{...l,enabled:Kt}:{enabled:Kt}}}),IEt=h.createContext(null),Jue="button",REt="Draggable";function DEt(e){let{id:t,data:n,disabled:r=!1,attributes:i}=e;const o=y5(REt),{activators:s,activatorEvent:a,active:l,activeNodeRect:u,ariaDescribedById:c,draggableNodes:f,over:p}=h.useContext(e8),{role:g=Jue,roleDescription:v="draggable",tabIndex:y=0}=i??{},S=(l==null?void 0:l.id)===t,C=h.useContext(S?oOe:IEt),[_,k]=$D(),[w,P]=$D(),M=yEt(s,t),R=I4(n);Np(()=>(f.set(t,{id:t,key:o,node:_,activatorNode:w,data:R}),()=>{const H=f.get(t);H&&H.key===o&&f.delete(t)}),[f,t]);const D=h.useMemo(()=>({role:g,tabIndex:y,"aria-disabled":r,"aria-pressed":S&&g===Jue?!0:void 0,"aria-roledescription":v,"aria-describedby":c.draggable}),[r,g,y,S,v,c.draggable]);return{active:l,activatorEvent:a,activeNodeRect:u,attributes:D,isDragging:S,listeners:r?void 0:M,node:_,over:p,setNodeRef:k,setActivatorNodeRef:P,transform:C}}function OEt(){return h.useContext(iOe)}const jEt="Droppable",NEt={timeout:25};function FEt(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:i}=e;const o=y5(jEt),{active:s,dispatch:a,over:l,measureDroppableContainers:u}=h.useContext(e8),c=h.useRef({disabled:n}),f=h.useRef(!1),p=h.useRef(null),g=h.useRef(null),{disabled:v,updateMeasurementsFor:y,timeout:S}={...NEt,...i},C=I4(y??r),_=h.useCallback(()=>{if(!f.current){f.current=!0;return}g.current!=null&&clearTimeout(g.current),g.current=setTimeout(()=>{u(Array.isArray(C.current)?C.current:[C.current]),g.current=null},S)},[S]),k=J7({callback:_,disabled:v||!s}),w=h.useCallback((D,H)=>{k&&(H&&(k.unobserve(H),f.current=!1),D&&k.observe(D))},[k]),[P,M]=$D(w),R=I4(t);return h.useEffect(()=>{!k||!P.current||(k.disconnect(),f.current=!1,k.observe(P.current))},[P,k]),h.useEffect(()=>(a({type:Zs.RegisterDroppable,element:{id:r,key:o,disabled:n,node:P,rect:p,data:R}}),()=>a({type:Zs.UnregisterDroppable,key:o,id:r})),[r]),h.useEffect(()=>{n!==c.current.disabled&&(a({type:Zs.SetDroppableDisabled,id:r,key:o,disabled:n}),c.current.disabled=n)},[r,o,n,a]),{active:s,rect:p,isOver:(l==null?void 0:l.id)===r,node:P,over:l,setNodeRef:M}}function sOe(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function BEt(e,t){return e.reduce((n,r,i)=>{const o=t.get(r);return o&&(n[i]=o),n},Array(e.length))}function qM(e){return e!==null&&e>=0}function zEt(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function HEt(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const See=e=>{let{rects:t,activeIndex:n,overIndex:r,index:i}=e;const o=sOe(t,r,n),s=t[i],a=o[i];return!a||!s?null:{x:a.left-s.left,y:a.top-s.top,scaleX:a.width/s.width,scaleY:a.height/s.height}},aOe="Sortable",lOe=ne.createContext({activeIndex:-1,containerId:aOe,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:See,disabled:{draggable:!1,droppable:!1}});function VEt(e){let{children:t,id:n,items:r,strategy:i=See,disabled:o=!1}=e;const{active:s,dragOverlay:a,droppableRects:l,over:u,measureDroppableContainers:c}=OEt(),f=y5(aOe,n),p=a.rect!==null,g=h.useMemo(()=>r.map(M=>typeof M=="object"&&"id"in M?M.id:M),[r]),v=s!=null,y=s?g.indexOf(s.id):-1,S=u?g.indexOf(u.id):-1,C=h.useRef(g),_=!zEt(g,C.current),k=S!==-1&&y===-1||_,w=HEt(o);Np(()=>{_&&v&&c(g)},[_,g,v,c]),h.useEffect(()=>{C.current=g},[g]);const P=h.useMemo(()=>({activeIndex:y,containerId:f,disabled:w,disableTransforms:k,items:g,overIndex:S,useDragOverlay:p,sortedRects:BEt(g,l),strategy:i}),[y,f,w.draggable,w.droppable,k,g,S,l,p,i]);return ne.createElement(lOe.Provider,{value:P},t)}const UEt=e=>{let{id:t,items:n,activeIndex:r,overIndex:i}=e;return sOe(n,r,i).indexOf(t)},WEt=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:i,items:o,newIndex:s,previousItems:a,previousContainerId:l,transition:u}=e;return!u||!r||a!==o&&i===s?!1:n?!0:s!==i&&t===l},KEt={duration:200,easing:"ease"},uOe="transform",qEt=D4.Transition.toString({property:uOe,duration:0,easing:"linear"}),GEt={roleDescription:"sortable"};function ZEt(e){let{disabled:t,index:n,node:r,rect:i}=e;const[o,s]=h.useState(null),a=h.useRef(n);return Np(()=>{if(!t&&n!==a.current&&r.current){const l=i.current;if(l){const u=A3(r.current,{ignoreTransform:!0}),c={x:l.left-u.left,y:l.top-u.top,scaleX:l.width/u.width,scaleY:l.height/u.height};(c.x||c.y)&&s(c)}}n!==a.current&&(a.current=n)},[t,n,r,i]),h.useEffect(()=>{o&&s(null)},[o]),o}function YEt(e){let{animateLayoutChanges:t=WEt,attributes:n,disabled:r,data:i,getNewIndex:o=UEt,id:s,strategy:a,resizeObserverConfig:l,transition:u=KEt}=e;const{items:c,containerId:f,activeIndex:p,disabled:g,disableTransforms:v,sortedRects:y,overIndex:S,useDragOverlay:C,strategy:_}=h.useContext(lOe),k=XEt(r,g),w=c.indexOf(s),P=h.useMemo(()=>({sortable:{containerId:f,index:w,items:c},...i}),[f,i,w,c]),M=h.useMemo(()=>c.slice(c.indexOf(s)),[c,s]),{rect:R,node:D,isOver:H,setNodeRef:O}=FEt({id:s,data:P,disabled:k.droppable,resizeObserverConfig:{updateMeasurementsFor:M,...l}}),{active:z,activatorEvent:G,activeNodeRect:ee,attributes:X,setNodeRef:se,listeners:B,isDragging:q,over:U,setActivatorNodeRef:K,transform:J}=DEt({id:s,data:P,attributes:{...GEt,...n},disabled:k.draggable}),oe=g3t(O,se),he=!!z,me=he&&!v&&qM(p)&&qM(S),re=!C&&q,ue=re&&me?J:null,we=me?ue??(a??_)({rects:y,activeNodeRect:ee,activeIndex:p,overIndex:S,index:w}):null,Me=qM(p)&&qM(S)?o({id:s,items:c,activeIndex:p,overIndex:S}):w,Be=z==null?void 0:z.id,ge=h.useRef({activeId:Be,items:c,newIndex:Me,containerId:f}),ye=c!==ge.current.items,_e=t({active:z,containerId:f,isDragging:q,isSorting:he,id:s,index:w,items:c,newIndex:ge.current.newIndex,previousItems:ge.current.items,previousContainerId:ge.current.containerId,transition:u,wasDragging:ge.current.activeId!=null}),$e=ZEt({disabled:!_e,index:w,node:D,rect:R});return h.useEffect(()=>{he&&ge.current.newIndex!==Me&&(ge.current.newIndex=Me),f!==ge.current.containerId&&(ge.current.containerId=f),c!==ge.current.items&&(ge.current.items=c)},[he,Me,f,c]),h.useEffect(()=>{if(Be===ge.current.activeId)return;if(Be&&!ge.current.activeId){ge.current.activeId=Be;return}const Ve=setTimeout(()=>{ge.current.activeId=Be},50);return()=>clearTimeout(Ve)},[Be]),{active:z,activeIndex:p,attributes:X,data:P,rect:R,index:w,newIndex:Me,items:c,isOver:H,isSorting:he,isDragging:q,listeners:B,node:D,overIndex:S,over:U,setNodeRef:oe,setActivatorNodeRef:K,setDroppableNodeRef:O,setDraggableNodeRef:se,transform:$e??we,transition:He()};function He(){if($e||ye&&ge.current.newIndex===w)return qEt;if(!(re&&!vee(G)||!u)&&(he||_e))return D4.Transition.toString({...u,property:uOe})}}function XEt(e,t){var n,r;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(r=e==null?void 0:e.droppable)!=null?r:t.droppable}}function LD(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const QEt=[zr.Down,zr.Right,zr.Up,zr.Left],JEt=(e,t)=>{let{context:{active:n,collisionRect:r,droppableRects:i,droppableContainers:o,over:s,scrollableAncestors:a}}=t;if(QEt.includes(e.code)){if(e.preventDefault(),!n||!r)return;const l=[];o.getEnabled().forEach(f=>{if(!f||f!=null&&f.disabled)return;const p=i.get(f.id);if(p)switch(e.code){case zr.Down:r.top<p.top&&l.push(f);break;case zr.Up:r.top>p.top&&l.push(f);break;case zr.Left:r.left>p.left&&l.push(f);break;case zr.Right:r.left<p.left&&l.push(f);break}});const u=I3t({active:n,collisionRect:r,droppableRects:i,droppableContainers:l,pointerCoordinates:null});let c=q9e(u,"id");if(c===(s==null?void 0:s.id)&&u.length>1&&(c=u[1].id),c!=null){const f=o.get(n.id),p=o.get(c),g=p?i.get(p.id):null,v=p==null?void 0:p.node.current;if(v&&g&&f&&p){const S=Q7(v).some((M,R)=>a[R]!==M),C=cOe(f,p),_=ekt(f,p),k=S||!C?{x:0,y:0}:{x:_?r.width-g.width:0,y:_?r.height-g.height:0},w={x:g.left,y:g.top};return k.x&&k.y?w:R4(w,k)}}}};function cOe(e,t){return!LD(e)||!LD(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function ekt(e,t){return!LD(e)||!LD(t)||!cOe(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}function tkt(e,t,n){const r={...e};return t.top+e.y<=n.top?r.y=n.top-t.top:t.bottom+e.y>=n.top+n.height&&(r.y=n.top+n.height-t.bottom),t.left+e.x<=n.left?r.x=n.left-t.left:t.right+e.x>=n.left+n.width&&(r.x=n.left+n.width-t.right),r}const nkt=e=>{let{containerNodeRect:t,draggingNodeRect:n,transform:r}=e;return!n||!t?r:tkt(r,n,t)};/*! @license DOMPurify 3.1.0 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.1.0/LICENSE */const{entries:dOe,setPrototypeOf:ece,isFrozen:rkt,getPrototypeOf:ikt,getOwnPropertyDescriptor:okt}=Object;let{freeze:cu,seal:of,create:fOe}=Object,{apply:Jq,construct:eG}=typeof Reflect<"u"&&Reflect;cu||(cu=function(t){return t});of||(of=function(t){return t});Jq||(Jq=function(t,n,r){return t.apply(n,r)});eG||(eG=function(t,n){return new t(...n)});const GM=td(Array.prototype.forEach),tce=td(Array.prototype.pop),BE=td(Array.prototype.push),iI=td(String.prototype.toLowerCase),fB=td(String.prototype.toString),nce=td(String.prototype.match),zE=td(String.prototype.replace),skt=td(String.prototype.indexOf),akt=td(String.prototype.trim),If=td(Object.prototype.hasOwnProperty),Ru=td(RegExp.prototype.test),HE=lkt(TypeError);function td(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return Jq(e,t,r)}}function lkt(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return eG(e,n)}}function Dr(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:iI;ece&&ece(e,null);let r=t.length;for(;r--;){let i=t[r];if(typeof i=="string"){const o=n(i);o!==i&&(rkt(t)||(t[r]=o),i=o)}e[i]=!0}return e}function ukt(e){for(let t=0;t<e.length;t++)If(e,t)||(e[t]=null);return e}function nb(e){const t=fOe(null);for(const[n,r]of dOe(e))If(e,n)&&(Array.isArray(r)?t[n]=ukt(r):r&&typeof r=="object"&&r.constructor===Object?t[n]=nb(r):t[n]=r);return t}function ZM(e,t){for(;e!==null;){const r=okt(e,t);if(r){if(r.get)return td(r.get);if(typeof r.value=="function")return td(r.value)}e=ikt(e)}function n(){return null}return n}const rce=cu(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),hB=cu(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),pB=cu(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),ckt=cu(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),mB=cu(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),dkt=cu(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),ice=cu(["#text"]),oce=cu(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),gB=cu(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),sce=cu(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),YM=cu(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),fkt=of(/\{\{[\w\W]*|[\w\W]*\}\}/gm),hkt=of(/<%[\w\W]*|[\w\W]*%>/gm),pkt=of(/\${[\w\W]*}/gm),mkt=of(/^data-[\-\w.\u00B7-\uFFFF]/),gkt=of(/^aria-[\-\w]+$/),hOe=of(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),vkt=of(/^(?:\w+script|data):/i),ykt=of(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),pOe=of(/^html$/i),bkt=of(/^[a-z][.\w]*(-[.\w]+)+$/i);var ace=Object.freeze({__proto__:null,MUSTACHE_EXPR:fkt,ERB_EXPR:hkt,TMPLIT_EXPR:pkt,DATA_ATTR:mkt,ARIA_ATTR:gkt,IS_ALLOWED_URI:hOe,IS_SCRIPT_OR_DATA:vkt,ATTR_WHITESPACE:ykt,DOCTYPE_NAME:pOe,CUSTOM_ELEMENT:bkt});const wkt=function(){return typeof window>"u"?null:window},xkt=function(t,n){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let r=null;const i="data-tt-policy-suffix";n&&n.hasAttribute(i)&&(r=n.getAttribute(i));const o="dompurify"+(r?"#"+r:"");try{return t.createPolicy(o,{createHTML(s){return s},createScriptURL(s){return s}})}catch{return console.warn("TrustedTypes policy "+o+" could not be created."),null}};function mOe(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:wkt();const t=Ue=>mOe(Ue);if(t.version="3.1.0",t.removed=[],!e||!e.document||e.document.nodeType!==9)return t.isSupported=!1,t;let{document:n}=e;const r=n,i=r.currentScript,{DocumentFragment:o,HTMLTemplateElement:s,Node:a,Element:l,NodeFilter:u,NamedNodeMap:c=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:f,DOMParser:p,trustedTypes:g}=e,v=l.prototype,y=ZM(v,"cloneNode"),S=ZM(v,"nextSibling"),C=ZM(v,"childNodes"),_=ZM(v,"parentNode");if(typeof s=="function"){const Ue=n.createElement("template");Ue.content&&Ue.content.ownerDocument&&(n=Ue.content.ownerDocument)}let k,w="";const{implementation:P,createNodeIterator:M,createDocumentFragment:R,getElementsByTagName:D}=n,{importNode:H}=r;let O={};t.isSupported=typeof dOe=="function"&&typeof _=="function"&&P&&P.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:z,ERB_EXPR:G,TMPLIT_EXPR:ee,DATA_ATTR:X,ARIA_ATTR:se,IS_SCRIPT_OR_DATA:B,ATTR_WHITESPACE:q,CUSTOM_ELEMENT:U}=ace;let{IS_ALLOWED_URI:K}=ace,J=null;const oe=Dr({},[...rce,...hB,...pB,...mB,...ice]);let he=null;const me=Dr({},[...oce,...gB,...sce,...YM]);let re=Object.seal(fOe(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ue=null,ce=null,we=!0,Me=!0,Be=!1,ge=!0,ye=!1,_e=!0,$e=!1,He=!1,Ve=!1,ot=!1,kt=!1,gt=!1,rn=!0,Yt=!1;const Bt="user-content-";let dn=!0,Ft=!1,Xt={},Qe=null;const Ce=Dr({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let ze=null;const Ne=Dr({},["audio","video","img","source","image","track"]);let ct=null;const Ct=Dr({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Et="http://www.w3.org/1998/Math/MathML",Ie="http://www.w3.org/2000/svg",Ae="http://www.w3.org/1999/xhtml";let dt=Ae,it=!1,ut=null;const vt=Dr({},[Et,Ie,Ae],fB);let Mn=null;const Kn=["application/xhtml+xml","text/html"],Qt="text/html";let on=null,$t=null;const Wt=n.createElement("form"),Kt=function(ke){return ke instanceof RegExp||ke instanceof Function},sr=function(){let ke=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!($t&&$t===ke)){if((!ke||typeof ke!="object")&&(ke={}),ke=nb(ke),Mn=Kn.indexOf(ke.PARSER_MEDIA_TYPE)===-1?Qt:ke.PARSER_MEDIA_TYPE,on=Mn==="application/xhtml+xml"?fB:iI,J=If(ke,"ALLOWED_TAGS")?Dr({},ke.ALLOWED_TAGS,on):oe,he=If(ke,"ALLOWED_ATTR")?Dr({},ke.ALLOWED_ATTR,on):me,ut=If(ke,"ALLOWED_NAMESPACES")?Dr({},ke.ALLOWED_NAMESPACES,fB):vt,ct=If(ke,"ADD_URI_SAFE_ATTR")?Dr(nb(Ct),ke.ADD_URI_SAFE_ATTR,on):Ct,ze=If(ke,"ADD_DATA_URI_TAGS")?Dr(nb(Ne),ke.ADD_DATA_URI_TAGS,on):Ne,Qe=If(ke,"FORBID_CONTENTS")?Dr({},ke.FORBID_CONTENTS,on):Ce,ue=If(ke,"FORBID_TAGS")?Dr({},ke.FORBID_TAGS,on):{},ce=If(ke,"FORBID_ATTR")?Dr({},ke.FORBID_ATTR,on):{},Xt=If(ke,"USE_PROFILES")?ke.USE_PROFILES:!1,we=ke.ALLOW_ARIA_ATTR!==!1,Me=ke.ALLOW_DATA_ATTR!==!1,Be=ke.ALLOW_UNKNOWN_PROTOCOLS||!1,ge=ke.ALLOW_SELF_CLOSE_IN_ATTR!==!1,ye=ke.SAFE_FOR_TEMPLATES||!1,_e=ke.SAFE_FOR_XML!==!1,$e=ke.WHOLE_DOCUMENT||!1,ot=ke.RETURN_DOM||!1,kt=ke.RETURN_DOM_FRAGMENT||!1,gt=ke.RETURN_TRUSTED_TYPE||!1,Ve=ke.FORCE_BODY||!1,rn=ke.SANITIZE_DOM!==!1,Yt=ke.SANITIZE_NAMED_PROPS||!1,dn=ke.KEEP_CONTENT!==!1,Ft=ke.IN_PLACE||!1,K=ke.ALLOWED_URI_REGEXP||hOe,dt=ke.NAMESPACE||Ae,re=ke.CUSTOM_ELEMENT_HANDLING||{},ke.CUSTOM_ELEMENT_HANDLING&&Kt(ke.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(re.tagNameCheck=ke.CUSTOM_ELEMENT_HANDLING.tagNameCheck),ke.CUSTOM_ELEMENT_HANDLING&&Kt(ke.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(re.attributeNameCheck=ke.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),ke.CUSTOM_ELEMENT_HANDLING&&typeof ke.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(re.allowCustomizedBuiltInElements=ke.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ye&&(Me=!1),kt&&(ot=!0),Xt&&(J=Dr({},ice),he=[],Xt.html===!0&&(Dr(J,rce),Dr(he,oce)),Xt.svg===!0&&(Dr(J,hB),Dr(he,gB),Dr(he,YM)),Xt.svgFilters===!0&&(Dr(J,pB),Dr(he,gB),Dr(he,YM)),Xt.mathMl===!0&&(Dr(J,mB),Dr(he,sce),Dr(he,YM))),ke.ADD_TAGS&&(J===oe&&(J=nb(J)),Dr(J,ke.ADD_TAGS,on)),ke.ADD_ATTR&&(he===me&&(he=nb(he)),Dr(he,ke.ADD_ATTR,on)),ke.ADD_URI_SAFE_ATTR&&Dr(ct,ke.ADD_URI_SAFE_ATTR,on),ke.FORBID_CONTENTS&&(Qe===Ce&&(Qe=nb(Qe)),Dr(Qe,ke.FORBID_CONTENTS,on)),dn&&(J["#text"]=!0),$e&&Dr(J,["html","head","body"]),J.table&&(Dr(J,["tbody"]),delete ue.tbody),ke.TRUSTED_TYPES_POLICY){if(typeof ke.TRUSTED_TYPES_POLICY.createHTML!="function")throw HE('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof ke.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw HE('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');k=ke.TRUSTED_TYPES_POLICY,w=k.createHTML("")}else k===void 0&&(k=xkt(g,i)),k!==null&&typeof w=="string"&&(w=k.createHTML(""));cu&&cu(ke),$t=ke}},Jt=Dr({},["mi","mo","mn","ms","mtext"]),zn=Dr({},["foreignobject","desc","title","annotation-xml"]),Ln=Dr({},["title","style","font","a","script"]),Ot=Dr({},[...hB,...pB,...ckt]),_t=Dr({},[...mB,...dkt]),Fr=function(ke){let rt=_(ke);(!rt||!rt.tagName)&&(rt={namespaceURI:dt,tagName:"template"});const nt=iI(ke.tagName),Rn=iI(rt.tagName);return ut[ke.namespaceURI]?ke.namespaceURI===Ie?rt.namespaceURI===Ae?nt==="svg":rt.namespaceURI===Et?nt==="svg"&&(Rn==="annotation-xml"||Jt[Rn]):!!Ot[nt]:ke.namespaceURI===Et?rt.namespaceURI===Ae?nt==="math":rt.namespaceURI===Ie?nt==="math"&&zn[Rn]:!!_t[nt]:ke.namespaceURI===Ae?rt.namespaceURI===Ie&&!zn[Rn]||rt.namespaceURI===Et&&!Jt[Rn]?!1:!_t[nt]&&(Ln[nt]||!Ot[nt]):!!(Mn==="application/xhtml+xml"&&ut[ke.namespaceURI]):!1},Hn=function(ke){BE(t.removed,{element:ke});try{ke.parentNode.removeChild(ke)}catch{ke.remove()}},Bn=function(ke,rt){try{BE(t.removed,{attribute:rt.getAttributeNode(ke),from:rt})}catch{BE(t.removed,{attribute:null,from:rt})}if(rt.removeAttribute(ke),ke==="is"&&!he[ke])if(ot||kt)try{Hn(rt)}catch{}else try{rt.setAttribute(ke,"")}catch{}},ar=function(ke){let rt=null,nt=null;if(Ve)ke="<remove></remove>"+ke;else{const lr=nce(ke,/^[\r\n\t ]+/);nt=lr&&lr[0]}Mn==="application/xhtml+xml"&&dt===Ae&&(ke='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+ke+"</body></html>");const Rn=k?k.createHTML(ke):ke;if(dt===Ae)try{rt=new p().parseFromString(Rn,Mn)}catch{}if(!rt||!rt.documentElement){rt=P.createDocument(dt,"template",null);try{rt.documentElement.innerHTML=it?w:Rn}catch{}}const qn=rt.body||rt.documentElement;return ke&&nt&&qn.insertBefore(n.createTextNode(nt),qn.childNodes[0]||null),dt===Ae?D.call(rt,$e?"html":"body")[0]:$e?rt.documentElement:qn},mt=function(ke){return M.call(ke.ownerDocument||ke,ke,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT|u.SHOW_PROCESSING_INSTRUCTION|u.SHOW_CDATA_SECTION,null)},hr=function(ke){return ke instanceof f&&(typeof ke.nodeName!="string"||typeof ke.textContent!="string"||typeof ke.removeChild!="function"||!(ke.attributes instanceof c)||typeof ke.removeAttribute!="function"||typeof ke.setAttribute!="function"||typeof ke.namespaceURI!="string"||typeof ke.insertBefore!="function"||typeof ke.hasChildNodes!="function")},Ii=function(ke){return typeof a=="function"&&ke instanceof a},Rr=function(ke,rt,nt){O[ke]&&GM(O[ke],Rn=>{Rn.call(t,rt,nt,$t)})},Fs=function(ke){let rt=null;if(Rr("beforeSanitizeElements",ke,null),hr(ke))return Hn(ke),!0;const nt=on(ke.nodeName);if(Rr("uponSanitizeElement",ke,{tagName:nt,allowedTags:J}),ke.hasChildNodes()&&!Ii(ke.firstElementChild)&&Ru(/<[/\w]/g,ke.innerHTML)&&Ru(/<[/\w]/g,ke.textContent)||ke.nodeType===7||_e&&ke.nodeType===8&&Ru(/<[/\w]/g,ke.data))return Hn(ke),!0;if(!J[nt]||ue[nt]){if(!ue[nt]&&at(nt)&&(re.tagNameCheck instanceof RegExp&&Ru(re.tagNameCheck,nt)||re.tagNameCheck instanceof Function&&re.tagNameCheck(nt)))return!1;if(dn&&!Qe[nt]){const Rn=_(ke)||ke.parentNode,qn=C(ke)||ke.childNodes;if(qn&&Rn){const lr=qn.length;for(let Pr=lr-1;Pr>=0;--Pr)Rn.insertBefore(y(qn[Pr],!0),S(ke))}}return Hn(ke),!0}return ke instanceof l&&!Fr(ke)||(nt==="noscript"||nt==="noembed"||nt==="noframes")&&Ru(/<\/no(script|embed|frames)/i,ke.innerHTML)?(Hn(ke),!0):(ye&&ke.nodeType===3&&(rt=ke.textContent,GM([z,G,ee],Rn=>{rt=zE(rt,Rn," ")}),ke.textContent!==rt&&(BE(t.removed,{element:ke.cloneNode()}),ke.textContent=rt)),Rr("afterSanitizeElements",ke,null),!1)},Bs=function(ke,rt,nt){if(rn&&(rt==="id"||rt==="name")&&(nt in n||nt in Wt))return!1;if(!(Me&&!ce[rt]&&Ru(X,rt))){if(!(we&&Ru(se,rt))){if(!he[rt]||ce[rt]){if(!(at(ke)&&(re.tagNameCheck instanceof RegExp&&Ru(re.tagNameCheck,ke)||re.tagNameCheck instanceof Function&&re.tagNameCheck(ke))&&(re.attributeNameCheck instanceof RegExp&&Ru(re.attributeNameCheck,rt)||re.attributeNameCheck instanceof Function&&re.attributeNameCheck(rt))||rt==="is"&&re.allowCustomizedBuiltInElements&&(re.tagNameCheck instanceof RegExp&&Ru(re.tagNameCheck,nt)||re.tagNameCheck instanceof Function&&re.tagNameCheck(nt))))return!1}else if(!ct[rt]){if(!Ru(K,zE(nt,q,""))){if(!((rt==="src"||rt==="xlink:href"||rt==="href")&&ke!=="script"&&skt(nt,"data:")===0&&ze[ke])){if(!(Be&&!Ru(B,zE(nt,q,"")))){if(nt)return!1}}}}}}return!0},at=function(ke){return ke!=="annotation-xml"&&nce(ke,U)},lt=function(ke){Rr("beforeSanitizeAttributes",ke,null);const{attributes:rt}=ke;if(!rt)return;const nt={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:he};let Rn=rt.length;for(;Rn--;){const qn=rt[Rn],{name:lr,namespaceURI:Pr,value:Br}=qn,$i=on(lr);let tr=lr==="value"?Br:akt(Br);if(nt.attrName=$i,nt.attrValue=tr,nt.keepAttr=!0,nt.forceKeepAttr=void 0,Rr("uponSanitizeAttribute",ke,nt),tr=nt.attrValue,nt.forceKeepAttr||(Bn(lr,ke),!nt.keepAttr))continue;if(!ge&&Ru(/\/>/i,tr)){Bn(lr,ke);continue}ye&&GM([z,G,ee],il=>{tr=zE(tr,il," ")});const di=on(ke.nodeName);if(Bs(di,$i,tr)){if(Yt&&($i==="id"||$i==="name")&&(Bn(lr,ke),tr=Bt+tr),k&&typeof g=="object"&&typeof g.getAttributeType=="function"&&!Pr)switch(g.getAttributeType(di,$i)){case"TrustedHTML":{tr=k.createHTML(tr);break}case"TrustedScriptURL":{tr=k.createScriptURL(tr);break}}try{Pr?ke.setAttributeNS(Pr,lr,tr):ke.setAttribute(lr,tr),tce(t.removed)}catch{}}}Rr("afterSanitizeAttributes",ke,null)},bt=function Ue(ke){let rt=null;const nt=mt(ke);for(Rr("beforeSanitizeShadowDOM",ke,null);rt=nt.nextNode();)Rr("uponSanitizeShadowNode",rt,null),!Fs(rt)&&(rt.content instanceof o&&Ue(rt.content),lt(rt));Rr("afterSanitizeShadowDOM",ke,null)};return t.sanitize=function(Ue){let ke=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},rt=null,nt=null,Rn=null,qn=null;if(it=!Ue,it&&(Ue="<!-->"),typeof Ue!="string"&&!Ii(Ue))if(typeof Ue.toString=="function"){if(Ue=Ue.toString(),typeof Ue!="string")throw HE("dirty is not a string, aborting")}else throw HE("toString is not a function");if(!t.isSupported)return Ue;if(He||sr(ke),t.removed=[],typeof Ue=="string"&&(Ft=!1),Ft){if(Ue.nodeName){const Br=on(Ue.nodeName);if(!J[Br]||ue[Br])throw HE("root node is forbidden and cannot be sanitized in-place")}}else if(Ue instanceof a)rt=ar("<!---->"),nt=rt.ownerDocument.importNode(Ue,!0),nt.nodeType===1&&nt.nodeName==="BODY"||nt.nodeName==="HTML"?rt=nt:rt.appendChild(nt);else{if(!ot&&!ye&&!$e&&Ue.indexOf("<")===-1)return k&&gt?k.createHTML(Ue):Ue;if(rt=ar(Ue),!rt)return ot?null:gt?w:""}rt&&Ve&&Hn(rt.firstChild);const lr=mt(Ft?Ue:rt);for(;Rn=lr.nextNode();)Fs(Rn)||(Rn.content instanceof o&&bt(Rn.content),lt(Rn));if(Ft)return Ue;if(ot){if(kt)for(qn=R.call(rt.ownerDocument);rt.firstChild;)qn.appendChild(rt.firstChild);else qn=rt;return(he.shadowroot||he.shadowrootmode)&&(qn=H.call(r,qn,!0)),qn}let Pr=$e?rt.outerHTML:rt.innerHTML;return $e&&J["!doctype"]&&rt.ownerDocument&&rt.ownerDocument.doctype&&rt.ownerDocument.doctype.name&&Ru(pOe,rt.ownerDocument.doctype.name)&&(Pr="<!DOCTYPE "+rt.ownerDocument.doctype.name+`>
`+Pr),ye&&GM([z,G,ee],Br=>{Pr=zE(Pr,Br," ")}),k&&gt?k.createHTML(Pr):Pr},t.setConfig=function(){let Ue=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};sr(Ue),He=!0},t.clearConfig=function(){$t=null,He=!1},t.isValidAttribute=function(Ue,ke,rt){$t||sr({});const nt=on(Ue),Rn=on(ke);return Bs(nt,Rn,rt)},t.addHook=function(Ue,ke){typeof ke=="function"&&(O[Ue]=O[Ue]||[],BE(O[Ue],ke))},t.removeHook=function(Ue){if(O[Ue])return tce(O[Ue])},t.removeHooks=function(Ue){O[Ue]&&(O[Ue]=[])},t.removeAllHooks=function(){O={}},t}var Skt=mOe(),_kt=function(e,t,n,r,i,o,s,a){if(!e){var l;if(t===void 0)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,i,o,s,a],c=0;l=new Error(t.replace(/%s/g,function(){return u[c++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}},Ckt=_kt;const vh=Dl(Ckt);var yh={},I3={};/**
 * @license React
 * react-dom-server-legacy.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gOe=h;function or(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Vu=Object.prototype.hasOwnProperty,Ekt=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,lce={},uce={};function vOe(e){return Vu.call(uce,e)?!0:Vu.call(lce,e)?!1:Ekt.test(e)?uce[e]=!0:(lce[e]=!0,!1)}function yu(e,t,n,r,i,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var tl={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){tl[e]=new yu(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];tl[t]=new yu(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){tl[e]=new yu(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){tl[e]=new yu(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){tl[e]=new yu(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){tl[e]=new yu(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){tl[e]=new yu(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){tl[e]=new yu(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){tl[e]=new yu(e,5,!1,e.toLowerCase(),null,!1,!1)});var _ee=/[\-:]([a-z])/g;function Cee(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(_ee,Cee);tl[t]=new yu(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(_ee,Cee);tl[t]=new yu(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(_ee,Cee);tl[t]=new yu(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){tl[e]=new yu(e,1,!1,e.toLowerCase(),null,!1,!1)});tl.xlinkHref=new yu("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){tl[e]=new yu(e,1,!1,e.toLowerCase(),null,!0,!0)});var oI={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},kkt=["Webkit","ms","Moz","O"];Object.keys(oI).forEach(function(e){kkt.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),oI[t]=oI[e]})});var Pkt=/["'&<>]/;function eu(e){if(typeof e=="boolean"||typeof e=="number")return""+e;e=""+e;var t=Pkt.exec(e);if(t){var n="",r,i=0;for(r=t.index;r<e.length;r++){switch(e.charCodeAt(r)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}i!==r&&(n+=e.substring(i,r)),i=r+1,n+=t}e=i!==r?n+e.substring(i,r):n}return e}var $kt=/([A-Z])/g,Tkt=/^ms-/,tG=Array.isArray;function xm(e,t){return{insertionMode:e,selectedValue:t}}function Mkt(e,t,n){switch(t){case"select":return xm(1,n.value!=null?n.value:n.defaultValue);case"svg":return xm(2,null);case"math":return xm(3,null);case"foreignObject":return xm(1,null);case"table":return xm(4,null);case"thead":case"tbody":case"tfoot":return xm(5,null);case"colgroup":return xm(7,null);case"tr":return xm(6,null)}return 4<=e.insertionMode||e.insertionMode===0?xm(1,null):e}var cce=new Map;function yOe(e,t,n){if(typeof n!="object")throw Error(or(62));t=!0;for(var r in n)if(Vu.call(n,r)){var i=n[r];if(i!=null&&typeof i!="boolean"&&i!==""){if(r.indexOf("--")===0){var o=eu(r);i=eu((""+i).trim())}else{o=r;var s=cce.get(o);s!==void 0||(s=eu(o.replace($kt,"-$1").toLowerCase().replace(Tkt,"-ms-")),cce.set(o,s)),o=s,i=typeof i=="number"?i===0||Vu.call(oI,r)?""+i:i+"px":eu((""+i).trim())}t?(t=!1,e.push(' style="',o,":",i)):e.push(";",o,":",i)}}t||e.push('"')}function Ec(e,t,n,r){switch(n){case"style":yOe(e,t,r);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N"){if(t=tl.hasOwnProperty(n)?tl[n]:null,t!==null){switch(typeof r){case"function":case"symbol":return;case"boolean":if(!t.acceptsBooleans)return}switch(n=t.attributeName,t.type){case 3:r&&e.push(" ",n,'=""');break;case 4:r===!0?e.push(" ",n,'=""'):r!==!1&&e.push(" ",n,'="',eu(r),'"');break;case 5:isNaN(r)||e.push(" ",n,'="',eu(r),'"');break;case 6:!isNaN(r)&&1<=r&&e.push(" ",n,'="',eu(r),'"');break;default:t.sanitizeURL&&(r=""+r),e.push(" ",n,'="',eu(r),'"')}}else if(vOe(n)){switch(typeof r){case"function":case"symbol":return;case"boolean":if(t=n.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-")return}e.push(" ",n,'="',eu(r),'"')}}}function sI(e,t,n){if(t!=null){if(n!=null)throw Error(or(60));if(typeof t!="object"||!("__html"in t))throw Error(or(61));t=t.__html,t!=null&&e.push(""+t)}}function Lkt(e){var t="";return gOe.Children.forEach(e,function(n){n!=null&&(t+=n)}),t}function vB(e,t,n,r){e.push(zh(n));var i=n=null,o;for(o in t)if(Vu.call(t,o)){var s=t[o];if(s!=null)switch(o){case"children":n=s;break;case"dangerouslySetInnerHTML":i=s;break;default:Ec(e,r,o,s)}}return e.push(">"),sI(e,i,n),typeof n=="string"?(e.push(eu(n)),null):n}var Akt=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,dce=new Map;function zh(e){var t=dce.get(e);if(t===void 0){if(!Akt.test(e))throw Error(or(65,e));t="<"+e,dce.set(e,t)}return t}function Ikt(e,t,n,r,i){switch(t){case"select":e.push(zh("select"));var o=null,s=null;for(c in n)if(Vu.call(n,c)){var a=n[c];if(a!=null)switch(c){case"children":o=a;break;case"dangerouslySetInnerHTML":s=a;break;case"defaultValue":case"value":break;default:Ec(e,r,c,a)}}return e.push(">"),sI(e,s,o),o;case"option":s=i.selectedValue,e.push(zh("option"));var l=a=null,u=null,c=null;for(o in n)if(Vu.call(n,o)){var f=n[o];if(f!=null)switch(o){case"children":a=f;break;case"selected":u=f;break;case"dangerouslySetInnerHTML":c=f;break;case"value":l=f;default:Ec(e,r,o,f)}}if(s!=null)if(n=l!==null?""+l:Lkt(a),tG(s)){for(r=0;r<s.length;r++)if(""+s[r]===n){e.push(' selected=""');break}}else""+s===n&&e.push(' selected=""');else u&&e.push(' selected=""');return e.push(">"),sI(e,c,a),a;case"textarea":e.push(zh("textarea")),c=s=o=null;for(a in n)if(Vu.call(n,a)&&(l=n[a],l!=null))switch(a){case"children":c=l;break;case"value":o=l;break;case"defaultValue":s=l;break;case"dangerouslySetInnerHTML":throw Error(or(91));default:Ec(e,r,a,l)}if(o===null&&s!==null&&(o=s),e.push(">"),c!=null){if(o!=null)throw Error(or(92));if(tG(c)&&1<c.length)throw Error(or(93));o=""+c}return typeof o=="string"&&o[0]===`
`&&e.push(`
`),o!==null&&e.push(eu(""+o)),null;case"input":e.push(zh("input")),l=c=a=o=null;for(s in n)if(Vu.call(n,s)&&(u=n[s],u!=null))switch(s){case"children":case"dangerouslySetInnerHTML":throw Error(or(399,"input"));case"defaultChecked":l=u;break;case"defaultValue":a=u;break;case"checked":c=u;break;case"value":o=u;break;default:Ec(e,r,s,u)}return c!==null?Ec(e,r,"checked",c):l!==null&&Ec(e,r,"checked",l),o!==null?Ec(e,r,"value",o):a!==null&&Ec(e,r,"value",a),e.push("/>"),null;case"menuitem":e.push(zh("menuitem"));for(var p in n)if(Vu.call(n,p)&&(o=n[p],o!=null))switch(p){case"children":case"dangerouslySetInnerHTML":throw Error(or(400));default:Ec(e,r,p,o)}return e.push(">"),null;case"title":e.push(zh("title")),o=null;for(f in n)if(Vu.call(n,f)&&(s=n[f],s!=null))switch(f){case"children":o=s;break;case"dangerouslySetInnerHTML":throw Error(or(434));default:Ec(e,r,f,s)}return e.push(">"),o;case"listing":case"pre":e.push(zh(t)),s=o=null;for(l in n)if(Vu.call(n,l)&&(a=n[l],a!=null))switch(l){case"children":o=a;break;case"dangerouslySetInnerHTML":s=a;break;default:Ec(e,r,l,a)}if(e.push(">"),s!=null){if(o!=null)throw Error(or(60));if(typeof s!="object"||!("__html"in s))throw Error(or(61));n=s.__html,n!=null&&(typeof n=="string"&&0<n.length&&n[0]===`
`?e.push(`
`,n):e.push(""+n))}return typeof o=="string"&&o[0]===`
`&&e.push(`
`),o;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":e.push(zh(t));for(var g in n)if(Vu.call(n,g)&&(o=n[g],o!=null))switch(g){case"children":case"dangerouslySetInnerHTML":throw Error(or(399,t));default:Ec(e,r,g,o)}return e.push("/>"),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return vB(e,n,t,r);case"html":return i.insertionMode===0&&e.push("<!DOCTYPE html>"),vB(e,n,t,r);default:if(t.indexOf("-")===-1&&typeof n.is!="string")return vB(e,n,t,r);e.push(zh(t)),s=o=null;for(u in n)if(Vu.call(n,u)&&(a=n[u],a!=null))switch(u){case"children":o=a;break;case"dangerouslySetInnerHTML":s=a;break;case"style":yOe(e,r,a);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:vOe(u)&&typeof a!="function"&&typeof a!="symbol"&&e.push(" ",u,'="',eu(a),'"')}return e.push(">"),sI(e,s,o),o}}function fce(e,t,n){if(e.push('<!--$?--><template id="'),n===null)throw Error(or(395));return e.push(n),e.push('"></template>')}function Rkt(e,t,n,r){switch(n.insertionMode){case 0:case 1:return e.push('<div hidden id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 2:return e.push('<svg aria-hidden="true" style="display:none" id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 3:return e.push('<math aria-hidden="true" style="display:none" id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 4:return e.push('<table hidden id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 5:return e.push('<table hidden><tbody id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 6:return e.push('<table hidden><tr id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 7:return e.push('<table hidden><colgroup id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');default:throw Error(or(397))}}function Dkt(e,t){switch(t.insertionMode){case 0:case 1:return e.push("</div>");case 2:return e.push("</svg>");case 3:return e.push("</math>");case 4:return e.push("</table>");case 5:return e.push("</tbody></table>");case 6:return e.push("</tr></table>");case 7:return e.push("</colgroup></table>");default:throw Error(or(397))}}var Okt=/[<\u2028\u2029]/g;function yB(e){return JSON.stringify(e).replace(Okt,function(t){switch(t){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}function jkt(e,t){return t=t===void 0?"":t,{bootstrapChunks:[],startInlineScript:"<script>",placeholderPrefix:t+"P:",segmentPrefix:t+"S:",boundaryPrefix:t+"B:",idPrefix:t,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1,generateStaticMarkup:e}}function hce(e,t,n,r){return n.generateStaticMarkup?(e.push(eu(t)),!1):(t===""?e=r:(r&&e.push("<!-- -->"),e.push(eu(t)),e=!0),e)}var SP=Object.assign,Nkt=Symbol.for("react.element"),bOe=Symbol.for("react.portal"),wOe=Symbol.for("react.fragment"),xOe=Symbol.for("react.strict_mode"),SOe=Symbol.for("react.profiler"),_Oe=Symbol.for("react.provider"),COe=Symbol.for("react.context"),EOe=Symbol.for("react.forward_ref"),kOe=Symbol.for("react.suspense"),POe=Symbol.for("react.suspense_list"),$Oe=Symbol.for("react.memo"),Eee=Symbol.for("react.lazy"),Fkt=Symbol.for("react.scope"),Bkt=Symbol.for("react.debug_trace_mode"),zkt=Symbol.for("react.legacy_hidden"),Hkt=Symbol.for("react.default_value"),pce=Symbol.iterator;function nG(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case wOe:return"Fragment";case bOe:return"Portal";case SOe:return"Profiler";case xOe:return"StrictMode";case kOe:return"Suspense";case POe:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case COe:return(e.displayName||"Context")+".Consumer";case _Oe:return(e._context.displayName||"Context")+".Provider";case EOe:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case $Oe:return t=e.displayName||null,t!==null?t:nG(e.type)||"Memo";case Eee:t=e._payload,e=e._init;try{return nG(e(t))}catch{}}return null}var TOe={};function mce(e,t){if(e=e.contextTypes,!e)return TOe;var n={},r;for(r in e)n[r]=t[r];return n}var $b=null;function t8(e,t){if(e!==t){e.context._currentValue2=e.parentValue,e=e.parent;var n=t.parent;if(e===null){if(n!==null)throw Error(or(401))}else{if(n===null)throw Error(or(401));t8(e,n)}t.context._currentValue2=t.value}}function MOe(e){e.context._currentValue2=e.parentValue,e=e.parent,e!==null&&MOe(e)}function LOe(e){var t=e.parent;t!==null&&LOe(t),e.context._currentValue2=e.value}function AOe(e,t){if(e.context._currentValue2=e.parentValue,e=e.parent,e===null)throw Error(or(402));e.depth===t.depth?t8(e,t):AOe(e,t)}function IOe(e,t){var n=t.parent;if(n===null)throw Error(or(402));e.depth===n.depth?t8(e,n):IOe(e,n),t.context._currentValue2=t.value}function AD(e){var t=$b;t!==e&&(t===null?LOe(e):e===null?MOe(t):t.depth===e.depth?t8(t,e):t.depth>e.depth?AOe(t,e):IOe(t,e),$b=e)}var gce={isMounted:function(){return!1},enqueueSetState:function(e,t){e=e._reactInternals,e.queue!==null&&e.queue.push(t)},enqueueReplaceState:function(e,t){e=e._reactInternals,e.replace=!0,e.queue=[t]},enqueueForceUpdate:function(){}};function vce(e,t,n,r){var i=e.state!==void 0?e.state:null;e.updater=gce,e.props=n,e.state=i;var o={queue:[],replace:!1};e._reactInternals=o;var s=t.contextType;if(e.context=typeof s=="object"&&s!==null?s._currentValue2:r,s=t.getDerivedStateFromProps,typeof s=="function"&&(s=s(n,i),i=s==null?i:SP({},i,s),e.state=i),typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function"&&(typeof e.UNSAFE_componentWillMount=="function"||typeof e.componentWillMount=="function"))if(t=e.state,typeof e.componentWillMount=="function"&&e.componentWillMount(),typeof e.UNSAFE_componentWillMount=="function"&&e.UNSAFE_componentWillMount(),t!==e.state&&gce.enqueueReplaceState(e,e.state,null),o.queue!==null&&0<o.queue.length)if(t=o.queue,s=o.replace,o.queue=null,o.replace=!1,s&&t.length===1)e.state=t[0];else{for(o=s?t[0]:e.state,i=!0,s=s?1:0;s<t.length;s++){var a=t[s];a=typeof a=="function"?a.call(e,o,n,r):a,a!=null&&(i?(i=!1,o=SP({},o,a)):SP(o,a))}e.state=o}else o.queue=null}var Vkt={id:1,overflow:""};function rG(e,t,n){var r=e.id;e=e.overflow;var i=32-aI(r)-1;r&=~(1<<i),n+=1;var o=32-aI(t)+i;if(30<o){var s=i-i%5;return o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,{id:1<<32-aI(t)+i|n<<i|r,overflow:o+e}}return{id:1<<o|n<<i|r,overflow:e}}var aI=Math.clz32?Math.clz32:Kkt,Ukt=Math.log,Wkt=Math.LN2;function Kkt(e){return e>>>=0,e===0?32:31-(Ukt(e)/Wkt|0)|0}function qkt(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Gkt=typeof Object.is=="function"?Object.is:qkt,Wg=null,kee=null,lI=null,Xi=null,Mk=!1,ID=!1,j4=0,u0=null,n8=0;function hb(){if(Wg===null)throw Error(or(321));return Wg}function yce(){if(0<n8)throw Error(or(312));return{memoizedState:null,queue:null,next:null}}function Pee(){return Xi===null?lI===null?(Mk=!1,lI=Xi=yce()):(Mk=!0,Xi=lI):Xi.next===null?(Mk=!1,Xi=Xi.next=yce()):(Mk=!0,Xi=Xi.next),Xi}function $ee(){kee=Wg=null,ID=!1,lI=null,n8=0,Xi=u0=null}function ROe(e,t){return typeof t=="function"?t(e):t}function bce(e,t,n){if(Wg=hb(),Xi=Pee(),Mk){var r=Xi.queue;if(t=r.dispatch,u0!==null&&(n=u0.get(r),n!==void 0)){u0.delete(r),r=Xi.memoizedState;do r=e(r,n.action),n=n.next;while(n!==null);return Xi.memoizedState=r,[r,t]}return[Xi.memoizedState,t]}return e=e===ROe?typeof t=="function"?t():t:n!==void 0?n(t):t,Xi.memoizedState=e,e=Xi.queue={last:null,dispatch:null},e=e.dispatch=Zkt.bind(null,Wg,e),[Xi.memoizedState,e]}function wce(e,t){if(Wg=hb(),Xi=Pee(),t=t===void 0?null:t,Xi!==null){var n=Xi.memoizedState;if(n!==null&&t!==null){var r=n[1];e:if(r===null)r=!1;else{for(var i=0;i<r.length&&i<t.length;i++)if(!Gkt(t[i],r[i])){r=!1;break e}r=!0}if(r)return n[0]}}return e=e(),Xi.memoizedState=[e,t],e}function Zkt(e,t,n){if(25<=n8)throw Error(or(301));if(e===Wg)if(ID=!0,e={action:n,next:null},u0===null&&(u0=new Map),n=u0.get(t),n===void 0)u0.set(t,e);else{for(t=n;t.next!==null;)t=t.next;t.next=e}}function Ykt(){throw Error(or(394))}function XM(){}var xce={readContext:function(e){return e._currentValue2},useContext:function(e){return hb(),e._currentValue2},useMemo:wce,useReducer:bce,useRef:function(e){Wg=hb(),Xi=Pee();var t=Xi.memoizedState;return t===null?(e={current:e},Xi.memoizedState=e):t},useState:function(e){return bce(ROe,e)},useInsertionEffect:XM,useLayoutEffect:function(){},useCallback:function(e,t){return wce(function(){return e},t)},useImperativeHandle:XM,useEffect:XM,useDebugValue:XM,useDeferredValue:function(e){return hb(),e},useTransition:function(){return hb(),[!1,Ykt]},useId:function(){var e=kee.treeContext,t=e.overflow;e=e.id,e=(e&~(1<<32-aI(e)-1)).toString(32)+t;var n=uI;if(n===null)throw Error(or(404));return t=j4++,e=":"+n.idPrefix+"R"+e,0<t&&(e+="H"+t.toString(32)),e+":"},useMutableSource:function(e,t){return hb(),t(e._source)},useSyncExternalStore:function(e,t,n){if(n===void 0)throw Error(or(407));return n()}},uI=null,bB=gOe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function Xkt(e){return console.error(e),null}function Lk(){}function Qkt(e,t,n,r,i,o,s,a,l){var u=[],c=new Set;return t={destination:null,responseState:t,progressiveChunkSize:r===void 0?12800:r,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:c,pingedTasks:u,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:i===void 0?Xkt:i,onAllReady:Lk,onShellReady:s===void 0?Lk:s,onShellError:Lk,onFatalError:Lk},n=RD(t,0,null,n,!1,!1),n.parentFlushed=!0,e=Tee(t,e,null,n,c,TOe,null,Vkt),u.push(e),t}function Tee(e,t,n,r,i,o,s,a){e.allPendingTasks++,n===null?e.pendingRootTasks++:n.pendingTasks++;var l={node:t,ping:function(){var u=e.pingedTasks;u.push(l),u.length===1&&jOe(e)},blockedBoundary:n,blockedSegment:r,abortSet:i,legacyContext:o,context:s,treeContext:a};return i.add(l),l}function RD(e,t,n,r,i,o){return{status:0,id:-1,index:t,parentFlushed:!1,chunks:[],children:[],formatContext:r,boundary:n,lastPushedText:i,textEmbedded:o}}function N4(e,t){if(e=e.onError(t),e!=null&&typeof e!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof e+'" instead');return e}function DD(e,t){var n=e.onShellError;n(t),n=e.onFatalError,n(t),e.destination!==null?(e.status=2,e.destination.destroy(t)):(e.status=1,e.fatalError=t)}function Sce(e,t,n,r,i){for(Wg={},kee=t,j4=0,e=n(r,i);ID;)ID=!1,j4=0,n8+=1,Xi=null,e=n(r,i);return $ee(),e}function _ce(e,t,n,r){var i=n.render(),o=r.childContextTypes;if(o!=null){var s=t.legacyContext;if(typeof n.getChildContext!="function")r=s;else{n=n.getChildContext();for(var a in n)if(!(a in o))throw Error(or(108,nG(r)||"Unknown",a));r=SP({},s,n)}t.legacyContext=r,jc(e,t,i),t.legacyContext=s}else jc(e,t,i)}function Cce(e,t){if(e&&e.defaultProps){t=SP({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function iG(e,t,n,r,i){if(typeof n=="function")if(n.prototype&&n.prototype.isReactComponent){i=mce(n,t.legacyContext);var o=n.contextType;o=new n(r,typeof o=="object"&&o!==null?o._currentValue2:i),vce(o,n,r,i),_ce(e,t,o,n)}else{o=mce(n,t.legacyContext),i=Sce(e,t,n,r,o);var s=j4!==0;if(typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0)vce(i,n,r,o),_ce(e,t,i,n);else if(s){r=t.treeContext,t.treeContext=rG(r,1,0);try{jc(e,t,i)}finally{t.treeContext=r}}else jc(e,t,i)}else if(typeof n=="string"){switch(i=t.blockedSegment,o=Ikt(i.chunks,n,r,e.responseState,i.formatContext),i.lastPushedText=!1,s=i.formatContext,i.formatContext=Mkt(s,n,r),oG(e,t,o),i.formatContext=s,n){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:i.chunks.push("</",n,">")}i.lastPushedText=!1}else{switch(n){case zkt:case Bkt:case xOe:case SOe:case wOe:jc(e,t,r.children);return;case POe:jc(e,t,r.children);return;case Fkt:throw Error(or(343));case kOe:e:{n=t.blockedBoundary,i=t.blockedSegment,o=r.fallback,r=r.children,s=new Set;var a={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:s,errorDigest:null},l=RD(e,i.chunks.length,a,i.formatContext,!1,!1);i.children.push(l),i.lastPushedText=!1;var u=RD(e,0,null,i.formatContext,!1,!1);u.parentFlushed=!0,t.blockedBoundary=a,t.blockedSegment=u;try{if(oG(e,t,r),e.responseState.generateStaticMarkup||u.lastPushedText&&u.textEmbedded&&u.chunks.push("<!-- -->"),u.status=1,OD(a,u),a.pendingTasks===0)break e}catch(c){u.status=4,a.forceClientRender=!0,a.errorDigest=N4(e,c)}finally{t.blockedBoundary=n,t.blockedSegment=i}t=Tee(e,o,n,l,s,t.legacyContext,t.context,t.treeContext),e.pingedTasks.push(t)}return}if(typeof n=="object"&&n!==null)switch(n.$$typeof){case EOe:if(r=Sce(e,t,n.render,r,i),j4!==0){n=t.treeContext,t.treeContext=rG(n,1,0);try{jc(e,t,r)}finally{t.treeContext=n}}else jc(e,t,r);return;case $Oe:n=n.type,r=Cce(n,r),iG(e,t,n,r,i);return;case _Oe:if(i=r.children,n=n._context,r=r.value,o=n._currentValue2,n._currentValue2=r,s=$b,$b=r={parent:s,depth:s===null?0:s.depth+1,context:n,parentValue:o,value:r},t.context=r,jc(e,t,i),e=$b,e===null)throw Error(or(403));r=e.parentValue,e.context._currentValue2=r===Hkt?e.context._defaultValue:r,e=$b=e.parent,t.context=e;return;case COe:r=r.children,r=r(n._currentValue2),jc(e,t,r);return;case Eee:i=n._init,n=i(n._payload),r=Cce(n,r),iG(e,t,n,r,void 0);return}throw Error(or(130,n==null?n:typeof n,""))}}function jc(e,t,n){if(t.node=n,typeof n=="object"&&n!==null){switch(n.$$typeof){case Nkt:iG(e,t,n.type,n.props,n.ref);return;case bOe:throw Error(or(257));case Eee:var r=n._init;n=r(n._payload),jc(e,t,n);return}if(tG(n)){Ece(e,t,n);return}if(n===null||typeof n!="object"?r=null:(r=pce&&n[pce]||n["@@iterator"],r=typeof r=="function"?r:null),r&&(r=r.call(n))){if(n=r.next(),!n.done){var i=[];do i.push(n.value),n=r.next();while(!n.done);Ece(e,t,i)}return}throw e=Object.prototype.toString.call(n),Error(or(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}typeof n=="string"?(r=t.blockedSegment,r.lastPushedText=hce(t.blockedSegment.chunks,n,e.responseState,r.lastPushedText)):typeof n=="number"&&(r=t.blockedSegment,r.lastPushedText=hce(t.blockedSegment.chunks,""+n,e.responseState,r.lastPushedText))}function Ece(e,t,n){for(var r=n.length,i=0;i<r;i++){var o=t.treeContext;t.treeContext=rG(o,r,i);try{oG(e,t,n[i])}finally{t.treeContext=o}}}function oG(e,t,n){var r=t.blockedSegment.formatContext,i=t.legacyContext,o=t.context;try{return jc(e,t,n)}catch(l){if($ee(),typeof l=="object"&&l!==null&&typeof l.then=="function"){n=l;var s=t.blockedSegment,a=RD(e,s.chunks.length,null,s.formatContext,s.lastPushedText,!0);s.children.push(a),s.lastPushedText=!1,e=Tee(e,t.node,t.blockedBoundary,a,t.abortSet,t.legacyContext,t.context,t.treeContext).ping,n.then(e,e),t.blockedSegment.formatContext=r,t.legacyContext=i,t.context=o,AD(o)}else throw t.blockedSegment.formatContext=r,t.legacyContext=i,t.context=o,AD(o),l}}function Jkt(e){var t=e.blockedBoundary;e=e.blockedSegment,e.status=3,OOe(this,t,e)}function DOe(e,t,n){var r=e.blockedBoundary;e.blockedSegment.status=3,r===null?(t.allPendingTasks--,t.status!==2&&(t.status=2,t.destination!==null&&t.destination.push(null))):(r.pendingTasks--,r.forceClientRender||(r.forceClientRender=!0,e=n===void 0?Error(or(432)):n,r.errorDigest=t.onError(e),r.parentFlushed&&t.clientRenderedBoundaries.push(r)),r.fallbackAbortableTasks.forEach(function(i){return DOe(i,t,n)}),r.fallbackAbortableTasks.clear(),t.allPendingTasks--,t.allPendingTasks===0&&(r=t.onAllReady,r()))}function OD(e,t){if(t.chunks.length===0&&t.children.length===1&&t.children[0].boundary===null){var n=t.children[0];n.id=t.id,n.parentFlushed=!0,n.status===1&&OD(e,n)}else e.completedSegments.push(t)}function OOe(e,t,n){if(t===null){if(n.parentFlushed){if(e.completedRootSegment!==null)throw Error(or(389));e.completedRootSegment=n}e.pendingRootTasks--,e.pendingRootTasks===0&&(e.onShellError=Lk,t=e.onShellReady,t())}else t.pendingTasks--,t.forceClientRender||(t.pendingTasks===0?(n.parentFlushed&&n.status===1&&OD(t,n),t.parentFlushed&&e.completedBoundaries.push(t),t.fallbackAbortableTasks.forEach(Jkt,e),t.fallbackAbortableTasks.clear()):n.parentFlushed&&n.status===1&&(OD(t,n),t.completedSegments.length===1&&t.parentFlushed&&e.partialBoundaries.push(t)));e.allPendingTasks--,e.allPendingTasks===0&&(e=e.onAllReady,e())}function jOe(e){if(e.status!==2){var t=$b,n=bB.current;bB.current=xce;var r=uI;uI=e.responseState;try{var i=e.pingedTasks,o;for(o=0;o<i.length;o++){var s=i[o],a=e,l=s.blockedSegment;if(l.status===0){AD(s.context);try{jc(a,s,s.node),a.responseState.generateStaticMarkup||l.lastPushedText&&l.textEmbedded&&l.chunks.push("<!-- -->"),s.abortSet.delete(s),l.status=1,OOe(a,s.blockedBoundary,l)}catch(v){if($ee(),typeof v=="object"&&v!==null&&typeof v.then=="function"){var u=s.ping;v.then(u,u)}else{s.abortSet.delete(s),l.status=4;var c=s.blockedBoundary,f=v,p=N4(a,f);if(c===null?DD(a,f):(c.pendingTasks--,c.forceClientRender||(c.forceClientRender=!0,c.errorDigest=p,c.parentFlushed&&a.clientRenderedBoundaries.push(c))),a.allPendingTasks--,a.allPendingTasks===0){var g=a.onAllReady;g()}}}finally{}}}i.splice(0,o),e.destination!==null&&Mee(e,e.destination)}catch(v){N4(e,v),DD(e,v)}finally{uI=r,bB.current=n,n===xce&&AD(t)}}}function QM(e,t,n){switch(n.parentFlushed=!0,n.status){case 0:var r=n.id=e.nextSegmentId++;return n.lastPushedText=!1,n.textEmbedded=!1,e=e.responseState,t.push('<template id="'),t.push(e.placeholderPrefix),e=r.toString(16),t.push(e),t.push('"></template>');case 1:n.status=2;var i=!0;r=n.chunks;var o=0;n=n.children;for(var s=0;s<n.length;s++){for(i=n[s];o<i.index;o++)t.push(r[o]);i=r8(e,t,i)}for(;o<r.length-1;o++)t.push(r[o]);return o<r.length&&(i=t.push(r[o])),i;default:throw Error(or(390))}}function r8(e,t,n){var r=n.boundary;if(r===null)return QM(e,t,n);if(r.parentFlushed=!0,r.forceClientRender)return e.responseState.generateStaticMarkup||(r=r.errorDigest,t.push("<!--$!-->"),t.push("<template"),r&&(t.push(' data-dgst="'),r=eu(r),t.push(r),t.push('"')),t.push("></template>")),QM(e,t,n),e=e.responseState.generateStaticMarkup?!0:t.push("<!--/$-->"),e;if(0<r.pendingTasks){r.rootSegmentID=e.nextSegmentId++,0<r.completedSegments.length&&e.partialBoundaries.push(r);var i=e.responseState,o=i.nextSuspenseID++;return i=i.boundaryPrefix+o.toString(16),r=r.id=i,fce(t,e.responseState,r),QM(e,t,n),t.push("<!--/$-->")}if(r.byteSize>e.progressiveChunkSize)return r.rootSegmentID=e.nextSegmentId++,e.completedBoundaries.push(r),fce(t,e.responseState,r.id),QM(e,t,n),t.push("<!--/$-->");if(e.responseState.generateStaticMarkup||t.push("<!--$-->"),n=r.completedSegments,n.length!==1)throw Error(or(391));return r8(e,t,n[0]),e=e.responseState.generateStaticMarkup?!0:t.push("<!--/$-->"),e}function kce(e,t,n){return Rkt(t,e.responseState,n.formatContext,n.id),r8(e,t,n),Dkt(t,n.formatContext)}function Pce(e,t,n){for(var r=n.completedSegments,i=0;i<r.length;i++)NOe(e,t,n,r[i]);if(r.length=0,e=e.responseState,r=n.id,n=n.rootSegmentID,t.push(e.startInlineScript),e.sentCompleteBoundaryFunction?t.push('$RC("'):(e.sentCompleteBoundaryFunction=!0,t.push('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("')),r===null)throw Error(or(395));return n=n.toString(16),t.push(r),t.push('","'),t.push(e.segmentPrefix),t.push(n),t.push('")<\/script>')}function NOe(e,t,n,r){if(r.status===2)return!0;var i=r.id;if(i===-1){if((r.id=n.rootSegmentID)===-1)throw Error(or(392));return kce(e,t,r)}return kce(e,t,r),e=e.responseState,t.push(e.startInlineScript),e.sentCompleteSegmentFunction?t.push('$RS("'):(e.sentCompleteSegmentFunction=!0,t.push('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("')),t.push(e.segmentPrefix),i=i.toString(16),t.push(i),t.push('","'),t.push(e.placeholderPrefix),t.push(i),t.push('")<\/script>')}function Mee(e,t){try{var n=e.completedRootSegment;if(n!==null&&e.pendingRootTasks===0){r8(e,t,n),e.completedRootSegment=null;var r=e.responseState.bootstrapChunks;for(n=0;n<r.length-1;n++)t.push(r[n]);n<r.length&&t.push(r[n])}var i=e.clientRenderedBoundaries,o;for(o=0;o<i.length;o++){var s=i[o];r=t;var a=e.responseState,l=s.id,u=s.errorDigest,c=s.errorMessage,f=s.errorComponentStack;if(r.push(a.startInlineScript),a.sentClientRenderFunction?r.push('$RX("'):(a.sentClientRenderFunction=!0,r.push('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("')),l===null)throw Error(or(395));if(r.push(l),r.push('"'),u||c||f){r.push(",");var p=yB(u||"");r.push(p)}if(c||f){r.push(",");var g=yB(c||"");r.push(g)}if(f){r.push(",");var v=yB(f);r.push(v)}if(!r.push(")<\/script>")){e.destination=null,o++,i.splice(0,o);return}}i.splice(0,o);var y=e.completedBoundaries;for(o=0;o<y.length;o++)if(!Pce(e,t,y[o])){e.destination=null,o++,y.splice(0,o);return}y.splice(0,o);var S=e.partialBoundaries;for(o=0;o<S.length;o++){var C=S[o];e:{i=e,s=t;var _=C.completedSegments;for(a=0;a<_.length;a++)if(!NOe(i,s,C,_[a])){a++,_.splice(0,a);var k=!1;break e}_.splice(0,a),k=!0}if(!k){e.destination=null,o++,S.splice(0,o);return}}S.splice(0,o);var w=e.completedBoundaries;for(o=0;o<w.length;o++)if(!Pce(e,t,w[o])){e.destination=null,o++,w.splice(0,o);return}w.splice(0,o)}finally{e.allPendingTasks===0&&e.pingedTasks.length===0&&e.clientRenderedBoundaries.length===0&&e.completedBoundaries.length===0&&t.push(null)}}function ePt(e,t){try{var n=e.abortableTasks;n.forEach(function(r){return DOe(r,e,t)}),n.clear(),e.destination!==null&&Mee(e,e.destination)}catch(r){N4(e,r),DD(e,r)}}function tPt(){}function FOe(e,t,n,r){var i=!1,o=null,s="",a={push:function(u){return u!==null&&(s+=u),!0},destroy:function(u){i=!0,o=u}},l=!1;if(e=Qkt(e,jkt(n,t?t.identifierPrefix:void 0),{insertionMode:1,selectedValue:null},1/0,tPt,void 0,function(){l=!0}),jOe(e),ePt(e,r),e.status===1)e.status=2,a.destroy(e.fatalError);else if(e.status!==2&&e.destination===null){e.destination=a;try{Mee(e,a)}catch(u){N4(e,u),DD(e,u)}}if(i)throw o;if(!l)throw Error(or(426));return s}I3.renderToNodeStream=function(){throw Error(or(207))};I3.renderToStaticMarkup=function(e,t){return FOe(e,t,!0,'The server used "renderToStaticMarkup" which does not support Suspense. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')};I3.renderToStaticNodeStream=function(){throw Error(or(208))};I3.renderToString=function(e,t){return FOe(e,t,!1,'The server used "renderToString" which does not support Suspense. If you intended for this Suspense boundary to render the fallback content on the server consider throwing an Error somewhere within the Suspense boundary. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')};I3.version="18.3.1";var Lee={};/**
 * @license React
 * react-dom-server.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BOe=h;function Er(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Nc=null,Fc=0;function tn(e,t){if(t.length!==0)if(512<t.length)0<Fc&&(e.enqueue(new Uint8Array(Nc.buffer,0,Fc)),Nc=new Uint8Array(512),Fc=0),e.enqueue(t);else{var n=Nc.length-Fc;n<t.length&&(n===0?e.enqueue(Nc):(Nc.set(t.subarray(0,n),Fc),e.enqueue(Nc),t=t.subarray(n)),Nc=new Uint8Array(512),Fc=0),Nc.set(t,Fc),Fc+=t.length}}function wo(e,t){return tn(e,t),!0}function $ce(e){Nc&&0<Fc&&(e.enqueue(new Uint8Array(Nc.buffer,0,Fc)),Nc=null,Fc=0)}var zOe=new TextEncoder;function Lr(e){return zOe.encode(e)}function Pt(e){return zOe.encode(e)}function HOe(e,t){typeof e.error=="function"?e.error(t):e.close()}var Uu=Object.prototype.hasOwnProperty,nPt=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Tce={},Mce={};function VOe(e){return Uu.call(Mce,e)?!0:Uu.call(Tce,e)?!1:nPt.test(e)?Mce[e]=!0:(Tce[e]=!0,!1)}function bu(e,t,n,r,i,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var nl={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){nl[e]=new bu(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];nl[t]=new bu(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){nl[e]=new bu(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){nl[e]=new bu(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){nl[e]=new bu(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){nl[e]=new bu(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){nl[e]=new bu(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){nl[e]=new bu(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){nl[e]=new bu(e,5,!1,e.toLowerCase(),null,!1,!1)});var Aee=/[\-:]([a-z])/g;function Iee(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Aee,Iee);nl[t]=new bu(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Aee,Iee);nl[t]=new bu(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Aee,Iee);nl[t]=new bu(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){nl[e]=new bu(e,1,!1,e.toLowerCase(),null,!1,!1)});nl.xlinkHref=new bu("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){nl[e]=new bu(e,1,!1,e.toLowerCase(),null,!0,!0)});var cI={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rPt=["Webkit","ms","Moz","O"];Object.keys(cI).forEach(function(e){rPt.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),cI[t]=cI[e]})});var iPt=/["'&<>]/;function Za(e){if(typeof e=="boolean"||typeof e=="number")return""+e;e=""+e;var t=iPt.exec(e);if(t){var n="",r,i=0;for(r=t.index;r<e.length;r++){switch(e.charCodeAt(r)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}i!==r&&(n+=e.substring(i,r)),i=r+1,n+=t}e=i!==r?n+e.substring(i,r):n}return e}var oPt=/([A-Z])/g,sPt=/^ms-/,sG=Array.isArray,aPt=Pt("<script>"),lPt=Pt("<\/script>"),uPt=Pt('<script src="'),cPt=Pt('<script type="module" src="'),Lce=Pt('" async=""><\/script>'),dPt=/(<\/|<)(s)(cript)/gi;function fPt(e,t,n,r){return""+t+(n==="s"?"\\u0073":"\\u0053")+r}function hPt(e,t,n,r,i){e=e===void 0?"":e,t=t===void 0?aPt:Pt('<script nonce="'+Za(t)+'">');var o=[];if(n!==void 0&&o.push(t,Lr((""+n).replace(dPt,fPt)),lPt),r!==void 0)for(n=0;n<r.length;n++)o.push(uPt,Lr(Za(r[n])),Lce);if(i!==void 0)for(r=0;r<i.length;r++)o.push(cPt,Lr(Za(i[r])),Lce);return{bootstrapChunks:o,startInlineScript:t,placeholderPrefix:Pt(e+"P:"),segmentPrefix:Pt(e+"S:"),boundaryPrefix:e+"B:",idPrefix:e,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1}}function Hh(e,t){return{insertionMode:e,selectedValue:t}}function pPt(e){return Hh(e==="http://www.w3.org/2000/svg"?2:e==="http://www.w3.org/1998/Math/MathML"?3:0,null)}function mPt(e,t,n){switch(t){case"select":return Hh(1,n.value!=null?n.value:n.defaultValue);case"svg":return Hh(2,null);case"math":return Hh(3,null);case"foreignObject":return Hh(1,null);case"table":return Hh(4,null);case"thead":case"tbody":case"tfoot":return Hh(5,null);case"colgroup":return Hh(7,null);case"tr":return Hh(6,null)}return 4<=e.insertionMode||e.insertionMode===0?Hh(1,null):e}var Ree=Pt("<!-- -->");function Ace(e,t,n,r){return t===""?r:(r&&e.push(Ree),e.push(Lr(Za(t))),!0)}var Ice=new Map,gPt=Pt(' style="'),Rce=Pt(":"),vPt=Pt(";");function UOe(e,t,n){if(typeof n!="object")throw Error(Er(62));t=!0;for(var r in n)if(Uu.call(n,r)){var i=n[r];if(i!=null&&typeof i!="boolean"&&i!==""){if(r.indexOf("--")===0){var o=Lr(Za(r));i=Lr(Za((""+i).trim()))}else{o=r;var s=Ice.get(o);s!==void 0||(s=Pt(Za(o.replace(oPt,"-$1").toLowerCase().replace(sPt,"-ms-"))),Ice.set(o,s)),o=s,i=typeof i=="number"?i===0||Uu.call(cI,r)?Lr(""+i):Lr(i+"px"):Lr(Za((""+i).trim()))}t?(t=!1,e.push(gPt,o,Rce,i)):e.push(vPt,o,Rce,i)}}t||e.push(pb)}var Yv=Pt(" "),jS=Pt('="'),pb=Pt('"'),Dce=Pt('=""');function kc(e,t,n,r){switch(n){case"style":UOe(e,t,r);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N"){if(t=nl.hasOwnProperty(n)?nl[n]:null,t!==null){switch(typeof r){case"function":case"symbol":return;case"boolean":if(!t.acceptsBooleans)return}switch(n=Lr(t.attributeName),t.type){case 3:r&&e.push(Yv,n,Dce);break;case 4:r===!0?e.push(Yv,n,Dce):r!==!1&&e.push(Yv,n,jS,Lr(Za(r)),pb);break;case 5:isNaN(r)||e.push(Yv,n,jS,Lr(Za(r)),pb);break;case 6:!isNaN(r)&&1<=r&&e.push(Yv,n,jS,Lr(Za(r)),pb);break;default:t.sanitizeURL&&(r=""+r),e.push(Yv,n,jS,Lr(Za(r)),pb)}}else if(VOe(n)){switch(typeof r){case"function":case"symbol":return;case"boolean":if(t=n.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-")return}e.push(Yv,Lr(n),jS,Lr(Za(r)),pb)}}}var Xv=Pt(">"),Oce=Pt("/>");function dI(e,t,n){if(t!=null){if(n!=null)throw Error(Er(60));if(typeof t!="object"||!("__html"in t))throw Error(Er(61));t=t.__html,t!=null&&e.push(Lr(""+t))}}function yPt(e){var t="";return BOe.Children.forEach(e,function(n){n!=null&&(t+=n)}),t}var wB=Pt(' selected=""');function xB(e,t,n,r){e.push(Vh(n));var i=n=null,o;for(o in t)if(Uu.call(t,o)){var s=t[o];if(s!=null)switch(o){case"children":n=s;break;case"dangerouslySetInnerHTML":i=s;break;default:kc(e,r,o,s)}}return e.push(Xv),dI(e,i,n),typeof n=="string"?(e.push(Lr(Za(n))),null):n}var SB=Pt(`
`),bPt=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,jce=new Map;function Vh(e){var t=jce.get(e);if(t===void 0){if(!bPt.test(e))throw Error(Er(65,e));t=Pt("<"+e),jce.set(e,t)}return t}var wPt=Pt("<!DOCTYPE html>");function xPt(e,t,n,r,i){switch(t){case"select":e.push(Vh("select"));var o=null,s=null;for(c in n)if(Uu.call(n,c)){var a=n[c];if(a!=null)switch(c){case"children":o=a;break;case"dangerouslySetInnerHTML":s=a;break;case"defaultValue":case"value":break;default:kc(e,r,c,a)}}return e.push(Xv),dI(e,s,o),o;case"option":s=i.selectedValue,e.push(Vh("option"));var l=a=null,u=null,c=null;for(o in n)if(Uu.call(n,o)){var f=n[o];if(f!=null)switch(o){case"children":a=f;break;case"selected":u=f;break;case"dangerouslySetInnerHTML":c=f;break;case"value":l=f;default:kc(e,r,o,f)}}if(s!=null)if(n=l!==null?""+l:yPt(a),sG(s)){for(r=0;r<s.length;r++)if(""+s[r]===n){e.push(wB);break}}else""+s===n&&e.push(wB);else u&&e.push(wB);return e.push(Xv),dI(e,c,a),a;case"textarea":e.push(Vh("textarea")),c=s=o=null;for(a in n)if(Uu.call(n,a)&&(l=n[a],l!=null))switch(a){case"children":c=l;break;case"value":o=l;break;case"defaultValue":s=l;break;case"dangerouslySetInnerHTML":throw Error(Er(91));default:kc(e,r,a,l)}if(o===null&&s!==null&&(o=s),e.push(Xv),c!=null){if(o!=null)throw Error(Er(92));if(sG(c)&&1<c.length)throw Error(Er(93));o=""+c}return typeof o=="string"&&o[0]===`
`&&e.push(SB),o!==null&&e.push(Lr(Za(""+o))),null;case"input":e.push(Vh("input")),l=c=a=o=null;for(s in n)if(Uu.call(n,s)&&(u=n[s],u!=null))switch(s){case"children":case"dangerouslySetInnerHTML":throw Error(Er(399,"input"));case"defaultChecked":l=u;break;case"defaultValue":a=u;break;case"checked":c=u;break;case"value":o=u;break;default:kc(e,r,s,u)}return c!==null?kc(e,r,"checked",c):l!==null&&kc(e,r,"checked",l),o!==null?kc(e,r,"value",o):a!==null&&kc(e,r,"value",a),e.push(Oce),null;case"menuitem":e.push(Vh("menuitem"));for(var p in n)if(Uu.call(n,p)&&(o=n[p],o!=null))switch(p){case"children":case"dangerouslySetInnerHTML":throw Error(Er(400));default:kc(e,r,p,o)}return e.push(Xv),null;case"title":e.push(Vh("title")),o=null;for(f in n)if(Uu.call(n,f)&&(s=n[f],s!=null))switch(f){case"children":o=s;break;case"dangerouslySetInnerHTML":throw Error(Er(434));default:kc(e,r,f,s)}return e.push(Xv),o;case"listing":case"pre":e.push(Vh(t)),s=o=null;for(l in n)if(Uu.call(n,l)&&(a=n[l],a!=null))switch(l){case"children":o=a;break;case"dangerouslySetInnerHTML":s=a;break;default:kc(e,r,l,a)}if(e.push(Xv),s!=null){if(o!=null)throw Error(Er(60));if(typeof s!="object"||!("__html"in s))throw Error(Er(61));n=s.__html,n!=null&&(typeof n=="string"&&0<n.length&&n[0]===`
`?e.push(SB,Lr(n)):e.push(Lr(""+n)))}return typeof o=="string"&&o[0]===`
`&&e.push(SB),o;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":e.push(Vh(t));for(var g in n)if(Uu.call(n,g)&&(o=n[g],o!=null))switch(g){case"children":case"dangerouslySetInnerHTML":throw Error(Er(399,t));default:kc(e,r,g,o)}return e.push(Oce),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return xB(e,n,t,r);case"html":return i.insertionMode===0&&e.push(wPt),xB(e,n,t,r);default:if(t.indexOf("-")===-1&&typeof n.is!="string")return xB(e,n,t,r);e.push(Vh(t)),s=o=null;for(u in n)if(Uu.call(n,u)&&(a=n[u],a!=null))switch(u){case"children":o=a;break;case"dangerouslySetInnerHTML":s=a;break;case"style":UOe(e,r,a);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:VOe(u)&&typeof a!="function"&&typeof a!="symbol"&&e.push(Yv,Lr(u),jS,Lr(Za(a)),pb)}return e.push(Xv),dI(e,s,o),o}}var SPt=Pt("</"),_Pt=Pt(">"),CPt=Pt('<template id="'),EPt=Pt('"></template>'),kPt=Pt("<!--$-->"),PPt=Pt('<!--$?--><template id="'),$Pt=Pt('"></template>'),TPt=Pt("<!--$!-->"),MPt=Pt("<!--/$-->"),LPt=Pt("<template"),APt=Pt('"'),IPt=Pt(' data-dgst="');Pt(' data-msg="');Pt(' data-stck="');var RPt=Pt("></template>");function Nce(e,t,n){if(tn(e,PPt),n===null)throw Error(Er(395));return tn(e,n),wo(e,$Pt)}var DPt=Pt('<div hidden id="'),OPt=Pt('">'),jPt=Pt("</div>"),NPt=Pt('<svg aria-hidden="true" style="display:none" id="'),FPt=Pt('">'),BPt=Pt("</svg>"),zPt=Pt('<math aria-hidden="true" style="display:none" id="'),HPt=Pt('">'),VPt=Pt("</math>"),UPt=Pt('<table hidden id="'),WPt=Pt('">'),KPt=Pt("</table>"),qPt=Pt('<table hidden><tbody id="'),GPt=Pt('">'),ZPt=Pt("</tbody></table>"),YPt=Pt('<table hidden><tr id="'),XPt=Pt('">'),QPt=Pt("</tr></table>"),JPt=Pt('<table hidden><colgroup id="'),e4t=Pt('">'),t4t=Pt("</colgroup></table>");function n4t(e,t,n,r){switch(n.insertionMode){case 0:case 1:return tn(e,DPt),tn(e,t.segmentPrefix),tn(e,Lr(r.toString(16))),wo(e,OPt);case 2:return tn(e,NPt),tn(e,t.segmentPrefix),tn(e,Lr(r.toString(16))),wo(e,FPt);case 3:return tn(e,zPt),tn(e,t.segmentPrefix),tn(e,Lr(r.toString(16))),wo(e,HPt);case 4:return tn(e,UPt),tn(e,t.segmentPrefix),tn(e,Lr(r.toString(16))),wo(e,WPt);case 5:return tn(e,qPt),tn(e,t.segmentPrefix),tn(e,Lr(r.toString(16))),wo(e,GPt);case 6:return tn(e,YPt),tn(e,t.segmentPrefix),tn(e,Lr(r.toString(16))),wo(e,XPt);case 7:return tn(e,JPt),tn(e,t.segmentPrefix),tn(e,Lr(r.toString(16))),wo(e,e4t);default:throw Error(Er(397))}}function r4t(e,t){switch(t.insertionMode){case 0:case 1:return wo(e,jPt);case 2:return wo(e,BPt);case 3:return wo(e,VPt);case 4:return wo(e,KPt);case 5:return wo(e,ZPt);case 6:return wo(e,QPt);case 7:return wo(e,t4t);default:throw Error(Er(397))}}var i4t=Pt('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("'),o4t=Pt('$RS("'),s4t=Pt('","'),a4t=Pt('")<\/script>'),l4t=Pt('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("'),u4t=Pt('$RC("'),c4t=Pt('","'),d4t=Pt('")<\/script>'),f4t=Pt('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("'),h4t=Pt('$RX("'),p4t=Pt('"'),m4t=Pt(")<\/script>"),_B=Pt(","),g4t=/[<\u2028\u2029]/g;function CB(e){return JSON.stringify(e).replace(g4t,function(t){switch(t){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}var _P=Object.assign,v4t=Symbol.for("react.element"),WOe=Symbol.for("react.portal"),KOe=Symbol.for("react.fragment"),qOe=Symbol.for("react.strict_mode"),GOe=Symbol.for("react.profiler"),ZOe=Symbol.for("react.provider"),YOe=Symbol.for("react.context"),XOe=Symbol.for("react.forward_ref"),QOe=Symbol.for("react.suspense"),JOe=Symbol.for("react.suspense_list"),e7e=Symbol.for("react.memo"),Dee=Symbol.for("react.lazy"),y4t=Symbol.for("react.scope"),b4t=Symbol.for("react.debug_trace_mode"),w4t=Symbol.for("react.legacy_hidden"),x4t=Symbol.for("react.default_value"),Fce=Symbol.iterator;function aG(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case KOe:return"Fragment";case WOe:return"Portal";case GOe:return"Profiler";case qOe:return"StrictMode";case QOe:return"Suspense";case JOe:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case YOe:return(e.displayName||"Context")+".Consumer";case ZOe:return(e._context.displayName||"Context")+".Provider";case XOe:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case e7e:return t=e.displayName||null,t!==null?t:aG(e.type)||"Memo";case Dee:t=e._payload,e=e._init;try{return aG(e(t))}catch{}}return null}var t7e={};function Bce(e,t){if(e=e.contextTypes,!e)return t7e;var n={},r;for(r in e)n[r]=t[r];return n}var Tb=null;function i8(e,t){if(e!==t){e.context._currentValue=e.parentValue,e=e.parent;var n=t.parent;if(e===null){if(n!==null)throw Error(Er(401))}else{if(n===null)throw Error(Er(401));i8(e,n)}t.context._currentValue=t.value}}function n7e(e){e.context._currentValue=e.parentValue,e=e.parent,e!==null&&n7e(e)}function r7e(e){var t=e.parent;t!==null&&r7e(t),e.context._currentValue=e.value}function i7e(e,t){if(e.context._currentValue=e.parentValue,e=e.parent,e===null)throw Error(Er(402));e.depth===t.depth?i8(e,t):i7e(e,t)}function o7e(e,t){var n=t.parent;if(n===null)throw Error(Er(402));e.depth===n.depth?i8(e,n):o7e(e,n),t.context._currentValue=t.value}function jD(e){var t=Tb;t!==e&&(t===null?r7e(e):e===null?n7e(t):t.depth===e.depth?i8(t,e):t.depth>e.depth?i7e(t,e):o7e(t,e),Tb=e)}var zce={isMounted:function(){return!1},enqueueSetState:function(e,t){e=e._reactInternals,e.queue!==null&&e.queue.push(t)},enqueueReplaceState:function(e,t){e=e._reactInternals,e.replace=!0,e.queue=[t]},enqueueForceUpdate:function(){}};function Hce(e,t,n,r){var i=e.state!==void 0?e.state:null;e.updater=zce,e.props=n,e.state=i;var o={queue:[],replace:!1};e._reactInternals=o;var s=t.contextType;if(e.context=typeof s=="object"&&s!==null?s._currentValue:r,s=t.getDerivedStateFromProps,typeof s=="function"&&(s=s(n,i),i=s==null?i:_P({},i,s),e.state=i),typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function"&&(typeof e.UNSAFE_componentWillMount=="function"||typeof e.componentWillMount=="function"))if(t=e.state,typeof e.componentWillMount=="function"&&e.componentWillMount(),typeof e.UNSAFE_componentWillMount=="function"&&e.UNSAFE_componentWillMount(),t!==e.state&&zce.enqueueReplaceState(e,e.state,null),o.queue!==null&&0<o.queue.length)if(t=o.queue,s=o.replace,o.queue=null,o.replace=!1,s&&t.length===1)e.state=t[0];else{for(o=s?t[0]:e.state,i=!0,s=s?1:0;s<t.length;s++){var a=t[s];a=typeof a=="function"?a.call(e,o,n,r):a,a!=null&&(i?(i=!1,o=_P({},o,a)):_P(o,a))}e.state=o}else o.queue=null}var S4t={id:1,overflow:""};function lG(e,t,n){var r=e.id;e=e.overflow;var i=32-fI(r)-1;r&=~(1<<i),n+=1;var o=32-fI(t)+i;if(30<o){var s=i-i%5;return o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,{id:1<<32-fI(t)+i|n<<i|r,overflow:o+e}}return{id:1<<o|n<<i|r,overflow:e}}var fI=Math.clz32?Math.clz32:E4t,_4t=Math.log,C4t=Math.LN2;function E4t(e){return e>>>=0,e===0?32:31-(_4t(e)/C4t|0)|0}function k4t(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var P4t=typeof Object.is=="function"?Object.is:k4t,Kg=null,Oee=null,hI=null,Qi=null,Ak=!1,ND=!1,F4=0,c0=null,o8=0;function mb(){if(Kg===null)throw Error(Er(321));return Kg}function Vce(){if(0<o8)throw Error(Er(312));return{memoizedState:null,queue:null,next:null}}function jee(){return Qi===null?hI===null?(Ak=!1,hI=Qi=Vce()):(Ak=!0,Qi=hI):Qi.next===null?(Ak=!1,Qi=Qi.next=Vce()):(Ak=!0,Qi=Qi.next),Qi}function Nee(){Oee=Kg=null,ND=!1,hI=null,o8=0,Qi=c0=null}function s7e(e,t){return typeof t=="function"?t(e):t}function Uce(e,t,n){if(Kg=mb(),Qi=jee(),Ak){var r=Qi.queue;if(t=r.dispatch,c0!==null&&(n=c0.get(r),n!==void 0)){c0.delete(r),r=Qi.memoizedState;do r=e(r,n.action),n=n.next;while(n!==null);return Qi.memoizedState=r,[r,t]}return[Qi.memoizedState,t]}return e=e===s7e?typeof t=="function"?t():t:n!==void 0?n(t):t,Qi.memoizedState=e,e=Qi.queue={last:null,dispatch:null},e=e.dispatch=$4t.bind(null,Kg,e),[Qi.memoizedState,e]}function Wce(e,t){if(Kg=mb(),Qi=jee(),t=t===void 0?null:t,Qi!==null){var n=Qi.memoizedState;if(n!==null&&t!==null){var r=n[1];e:if(r===null)r=!1;else{for(var i=0;i<r.length&&i<t.length;i++)if(!P4t(t[i],r[i])){r=!1;break e}r=!0}if(r)return n[0]}}return e=e(),Qi.memoizedState=[e,t],e}function $4t(e,t,n){if(25<=o8)throw Error(Er(301));if(e===Kg)if(ND=!0,e={action:n,next:null},c0===null&&(c0=new Map),n=c0.get(t),n===void 0)c0.set(t,e);else{for(t=n;t.next!==null;)t=t.next;t.next=e}}function T4t(){throw Error(Er(394))}function JM(){}var Kce={readContext:function(e){return e._currentValue},useContext:function(e){return mb(),e._currentValue},useMemo:Wce,useReducer:Uce,useRef:function(e){Kg=mb(),Qi=jee();var t=Qi.memoizedState;return t===null?(e={current:e},Qi.memoizedState=e):t},useState:function(e){return Uce(s7e,e)},useInsertionEffect:JM,useLayoutEffect:function(){},useCallback:function(e,t){return Wce(function(){return e},t)},useImperativeHandle:JM,useEffect:JM,useDebugValue:JM,useDeferredValue:function(e){return mb(),e},useTransition:function(){return mb(),[!1,T4t]},useId:function(){var e=Oee.treeContext,t=e.overflow;e=e.id,e=(e&~(1<<32-fI(e)-1)).toString(32)+t;var n=pI;if(n===null)throw Error(Er(404));return t=F4++,e=":"+n.idPrefix+"R"+e,0<t&&(e+="H"+t.toString(32)),e+":"},useMutableSource:function(e,t){return mb(),t(e._source)},useSyncExternalStore:function(e,t,n){if(n===void 0)throw Error(Er(407));return n()}},pI=null,EB=BOe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function M4t(e){return console.error(e),null}function Ik(){}function L4t(e,t,n,r,i,o,s,a,l){var u=[],c=new Set;return t={destination:null,responseState:t,progressiveChunkSize:r===void 0?12800:r,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:c,pingedTasks:u,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:i===void 0?M4t:i,onAllReady:o===void 0?Ik:o,onShellReady:s===void 0?Ik:s,onShellError:a===void 0?Ik:a,onFatalError:l===void 0?Ik:l},n=FD(t,0,null,n,!1,!1),n.parentFlushed=!0,e=Fee(t,e,null,n,c,t7e,null,S4t),u.push(e),t}function Fee(e,t,n,r,i,o,s,a){e.allPendingTasks++,n===null?e.pendingRootTasks++:n.pendingTasks++;var l={node:t,ping:function(){var u=e.pingedTasks;u.push(l),u.length===1&&u7e(e)},blockedBoundary:n,blockedSegment:r,abortSet:i,legacyContext:o,context:s,treeContext:a};return i.add(l),l}function FD(e,t,n,r,i,o){return{status:0,id:-1,index:t,parentFlushed:!1,chunks:[],children:[],formatContext:r,boundary:n,lastPushedText:i,textEmbedded:o}}function B4(e,t){if(e=e.onError(t),e!=null&&typeof e!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof e+'" instead');return e}function BD(e,t){var n=e.onShellError;n(t),n=e.onFatalError,n(t),e.destination!==null?(e.status=2,HOe(e.destination,t)):(e.status=1,e.fatalError=t)}function qce(e,t,n,r,i){for(Kg={},Oee=t,F4=0,e=n(r,i);ND;)ND=!1,F4=0,o8+=1,Qi=null,e=n(r,i);return Nee(),e}function Gce(e,t,n,r){var i=n.render(),o=r.childContextTypes;if(o!=null){var s=t.legacyContext;if(typeof n.getChildContext!="function")r=s;else{n=n.getChildContext();for(var a in n)if(!(a in o))throw Error(Er(108,aG(r)||"Unknown",a));r=_P({},s,n)}t.legacyContext=r,Bc(e,t,i),t.legacyContext=s}else Bc(e,t,i)}function Zce(e,t){if(e&&e.defaultProps){t=_P({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function uG(e,t,n,r,i){if(typeof n=="function")if(n.prototype&&n.prototype.isReactComponent){i=Bce(n,t.legacyContext);var o=n.contextType;o=new n(r,typeof o=="object"&&o!==null?o._currentValue:i),Hce(o,n,r,i),Gce(e,t,o,n)}else{o=Bce(n,t.legacyContext),i=qce(e,t,n,r,o);var s=F4!==0;if(typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0)Hce(i,n,r,o),Gce(e,t,i,n);else if(s){r=t.treeContext,t.treeContext=lG(r,1,0);try{Bc(e,t,i)}finally{t.treeContext=r}}else Bc(e,t,i)}else if(typeof n=="string"){switch(i=t.blockedSegment,o=xPt(i.chunks,n,r,e.responseState,i.formatContext),i.lastPushedText=!1,s=i.formatContext,i.formatContext=mPt(s,n,r),cG(e,t,o),i.formatContext=s,n){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:i.chunks.push(SPt,Lr(n),_Pt)}i.lastPushedText=!1}else{switch(n){case w4t:case b4t:case qOe:case GOe:case KOe:Bc(e,t,r.children);return;case JOe:Bc(e,t,r.children);return;case y4t:throw Error(Er(343));case QOe:e:{n=t.blockedBoundary,i=t.blockedSegment,o=r.fallback,r=r.children,s=new Set;var a={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:s,errorDigest:null},l=FD(e,i.chunks.length,a,i.formatContext,!1,!1);i.children.push(l),i.lastPushedText=!1;var u=FD(e,0,null,i.formatContext,!1,!1);u.parentFlushed=!0,t.blockedBoundary=a,t.blockedSegment=u;try{if(cG(e,t,r),u.lastPushedText&&u.textEmbedded&&u.chunks.push(Ree),u.status=1,zD(a,u),a.pendingTasks===0)break e}catch(c){u.status=4,a.forceClientRender=!0,a.errorDigest=B4(e,c)}finally{t.blockedBoundary=n,t.blockedSegment=i}t=Fee(e,o,n,l,s,t.legacyContext,t.context,t.treeContext),e.pingedTasks.push(t)}return}if(typeof n=="object"&&n!==null)switch(n.$$typeof){case XOe:if(r=qce(e,t,n.render,r,i),F4!==0){n=t.treeContext,t.treeContext=lG(n,1,0);try{Bc(e,t,r)}finally{t.treeContext=n}}else Bc(e,t,r);return;case e7e:n=n.type,r=Zce(n,r),uG(e,t,n,r,i);return;case ZOe:if(i=r.children,n=n._context,r=r.value,o=n._currentValue,n._currentValue=r,s=Tb,Tb=r={parent:s,depth:s===null?0:s.depth+1,context:n,parentValue:o,value:r},t.context=r,Bc(e,t,i),e=Tb,e===null)throw Error(Er(403));r=e.parentValue,e.context._currentValue=r===x4t?e.context._defaultValue:r,e=Tb=e.parent,t.context=e;return;case YOe:r=r.children,r=r(n._currentValue),Bc(e,t,r);return;case Dee:i=n._init,n=i(n._payload),r=Zce(n,r),uG(e,t,n,r,void 0);return}throw Error(Er(130,n==null?n:typeof n,""))}}function Bc(e,t,n){if(t.node=n,typeof n=="object"&&n!==null){switch(n.$$typeof){case v4t:uG(e,t,n.type,n.props,n.ref);return;case WOe:throw Error(Er(257));case Dee:var r=n._init;n=r(n._payload),Bc(e,t,n);return}if(sG(n)){Yce(e,t,n);return}if(n===null||typeof n!="object"?r=null:(r=Fce&&n[Fce]||n["@@iterator"],r=typeof r=="function"?r:null),r&&(r=r.call(n))){if(n=r.next(),!n.done){var i=[];do i.push(n.value),n=r.next();while(!n.done);Yce(e,t,i)}return}throw e=Object.prototype.toString.call(n),Error(Er(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}typeof n=="string"?(r=t.blockedSegment,r.lastPushedText=Ace(t.blockedSegment.chunks,n,e.responseState,r.lastPushedText)):typeof n=="number"&&(r=t.blockedSegment,r.lastPushedText=Ace(t.blockedSegment.chunks,""+n,e.responseState,r.lastPushedText))}function Yce(e,t,n){for(var r=n.length,i=0;i<r;i++){var o=t.treeContext;t.treeContext=lG(o,r,i);try{cG(e,t,n[i])}finally{t.treeContext=o}}}function cG(e,t,n){var r=t.blockedSegment.formatContext,i=t.legacyContext,o=t.context;try{return Bc(e,t,n)}catch(l){if(Nee(),typeof l=="object"&&l!==null&&typeof l.then=="function"){n=l;var s=t.blockedSegment,a=FD(e,s.chunks.length,null,s.formatContext,s.lastPushedText,!0);s.children.push(a),s.lastPushedText=!1,e=Fee(e,t.node,t.blockedBoundary,a,t.abortSet,t.legacyContext,t.context,t.treeContext).ping,n.then(e,e),t.blockedSegment.formatContext=r,t.legacyContext=i,t.context=o,jD(o)}else throw t.blockedSegment.formatContext=r,t.legacyContext=i,t.context=o,jD(o),l}}function A4t(e){var t=e.blockedBoundary;e=e.blockedSegment,e.status=3,l7e(this,t,e)}function a7e(e,t,n){var r=e.blockedBoundary;e.blockedSegment.status=3,r===null?(t.allPendingTasks--,t.status!==2&&(t.status=2,t.destination!==null&&t.destination.close())):(r.pendingTasks--,r.forceClientRender||(r.forceClientRender=!0,e=n===void 0?Error(Er(432)):n,r.errorDigest=t.onError(e),r.parentFlushed&&t.clientRenderedBoundaries.push(r)),r.fallbackAbortableTasks.forEach(function(i){return a7e(i,t,n)}),r.fallbackAbortableTasks.clear(),t.allPendingTasks--,t.allPendingTasks===0&&(r=t.onAllReady,r()))}function zD(e,t){if(t.chunks.length===0&&t.children.length===1&&t.children[0].boundary===null){var n=t.children[0];n.id=t.id,n.parentFlushed=!0,n.status===1&&zD(e,n)}else e.completedSegments.push(t)}function l7e(e,t,n){if(t===null){if(n.parentFlushed){if(e.completedRootSegment!==null)throw Error(Er(389));e.completedRootSegment=n}e.pendingRootTasks--,e.pendingRootTasks===0&&(e.onShellError=Ik,t=e.onShellReady,t())}else t.pendingTasks--,t.forceClientRender||(t.pendingTasks===0?(n.parentFlushed&&n.status===1&&zD(t,n),t.parentFlushed&&e.completedBoundaries.push(t),t.fallbackAbortableTasks.forEach(A4t,e),t.fallbackAbortableTasks.clear()):n.parentFlushed&&n.status===1&&(zD(t,n),t.completedSegments.length===1&&t.parentFlushed&&e.partialBoundaries.push(t)));e.allPendingTasks--,e.allPendingTasks===0&&(e=e.onAllReady,e())}function u7e(e){if(e.status!==2){var t=Tb,n=EB.current;EB.current=Kce;var r=pI;pI=e.responseState;try{var i=e.pingedTasks,o;for(o=0;o<i.length;o++){var s=i[o],a=e,l=s.blockedSegment;if(l.status===0){jD(s.context);try{Bc(a,s,s.node),l.lastPushedText&&l.textEmbedded&&l.chunks.push(Ree),s.abortSet.delete(s),l.status=1,l7e(a,s.blockedBoundary,l)}catch(v){if(Nee(),typeof v=="object"&&v!==null&&typeof v.then=="function"){var u=s.ping;v.then(u,u)}else{s.abortSet.delete(s),l.status=4;var c=s.blockedBoundary,f=v,p=B4(a,f);if(c===null?BD(a,f):(c.pendingTasks--,c.forceClientRender||(c.forceClientRender=!0,c.errorDigest=p,c.parentFlushed&&a.clientRenderedBoundaries.push(c))),a.allPendingTasks--,a.allPendingTasks===0){var g=a.onAllReady;g()}}}finally{}}}i.splice(0,o),e.destination!==null&&Bee(e,e.destination)}catch(v){B4(e,v),BD(e,v)}finally{pI=r,EB.current=n,n===Kce&&jD(t)}}}function eL(e,t,n){switch(n.parentFlushed=!0,n.status){case 0:var r=n.id=e.nextSegmentId++;return n.lastPushedText=!1,n.textEmbedded=!1,e=e.responseState,tn(t,CPt),tn(t,e.placeholderPrefix),e=Lr(r.toString(16)),tn(t,e),wo(t,EPt);case 1:n.status=2;var i=!0;r=n.chunks;var o=0;n=n.children;for(var s=0;s<n.length;s++){for(i=n[s];o<i.index;o++)tn(t,r[o]);i=s8(e,t,i)}for(;o<r.length-1;o++)tn(t,r[o]);return o<r.length&&(i=wo(t,r[o])),i;default:throw Error(Er(390))}}function s8(e,t,n){var r=n.boundary;if(r===null)return eL(e,t,n);if(r.parentFlushed=!0,r.forceClientRender)r=r.errorDigest,wo(t,TPt),tn(t,LPt),r&&(tn(t,IPt),tn(t,Lr(Za(r))),tn(t,APt)),wo(t,RPt),eL(e,t,n);else if(0<r.pendingTasks){r.rootSegmentID=e.nextSegmentId++,0<r.completedSegments.length&&e.partialBoundaries.push(r);var i=e.responseState,o=i.nextSuspenseID++;i=Pt(i.boundaryPrefix+o.toString(16)),r=r.id=i,Nce(t,e.responseState,r),eL(e,t,n)}else if(r.byteSize>e.progressiveChunkSize)r.rootSegmentID=e.nextSegmentId++,e.completedBoundaries.push(r),Nce(t,e.responseState,r.id),eL(e,t,n);else{if(wo(t,kPt),n=r.completedSegments,n.length!==1)throw Error(Er(391));s8(e,t,n[0])}return wo(t,MPt)}function Xce(e,t,n){return n4t(t,e.responseState,n.formatContext,n.id),s8(e,t,n),r4t(t,n.formatContext)}function Qce(e,t,n){for(var r=n.completedSegments,i=0;i<r.length;i++)c7e(e,t,n,r[i]);if(r.length=0,e=e.responseState,r=n.id,n=n.rootSegmentID,tn(t,e.startInlineScript),e.sentCompleteBoundaryFunction?tn(t,u4t):(e.sentCompleteBoundaryFunction=!0,tn(t,l4t)),r===null)throw Error(Er(395));return n=Lr(n.toString(16)),tn(t,r),tn(t,c4t),tn(t,e.segmentPrefix),tn(t,n),wo(t,d4t)}function c7e(e,t,n,r){if(r.status===2)return!0;var i=r.id;if(i===-1){if((r.id=n.rootSegmentID)===-1)throw Error(Er(392));return Xce(e,t,r)}return Xce(e,t,r),e=e.responseState,tn(t,e.startInlineScript),e.sentCompleteSegmentFunction?tn(t,o4t):(e.sentCompleteSegmentFunction=!0,tn(t,i4t)),tn(t,e.segmentPrefix),i=Lr(i.toString(16)),tn(t,i),tn(t,s4t),tn(t,e.placeholderPrefix),tn(t,i),wo(t,a4t)}function Bee(e,t){Nc=new Uint8Array(512),Fc=0;try{var n=e.completedRootSegment;if(n!==null&&e.pendingRootTasks===0){s8(e,t,n),e.completedRootSegment=null;var r=e.responseState.bootstrapChunks;for(n=0;n<r.length-1;n++)tn(t,r[n]);n<r.length&&wo(t,r[n])}var i=e.clientRenderedBoundaries,o;for(o=0;o<i.length;o++){var s=i[o];r=t;var a=e.responseState,l=s.id,u=s.errorDigest,c=s.errorMessage,f=s.errorComponentStack;if(tn(r,a.startInlineScript),a.sentClientRenderFunction?tn(r,h4t):(a.sentClientRenderFunction=!0,tn(r,f4t)),l===null)throw Error(Er(395));tn(r,l),tn(r,p4t),(u||c||f)&&(tn(r,_B),tn(r,Lr(CB(u||"")))),(c||f)&&(tn(r,_B),tn(r,Lr(CB(c||"")))),f&&(tn(r,_B),tn(r,Lr(CB(f)))),wo(r,m4t)}i.splice(0,o);var p=e.completedBoundaries;for(o=0;o<p.length;o++)Qce(e,t,p[o]);p.splice(0,o),$ce(t),Nc=new Uint8Array(512),Fc=0;var g=e.partialBoundaries;for(o=0;o<g.length;o++){var v=g[o];e:{i=e,s=t;var y=v.completedSegments;for(a=0;a<y.length;a++)if(!c7e(i,s,v,y[a])){a++,y.splice(0,a);var S=!1;break e}y.splice(0,a),S=!0}if(!S){e.destination=null,o++,g.splice(0,o);return}}g.splice(0,o);var C=e.completedBoundaries;for(o=0;o<C.length;o++)Qce(e,t,C[o]);C.splice(0,o)}finally{$ce(t),e.allPendingTasks===0&&e.pingedTasks.length===0&&e.clientRenderedBoundaries.length===0&&e.completedBoundaries.length===0&&t.close()}}function Jce(e,t){try{var n=e.abortableTasks;n.forEach(function(r){return a7e(r,e,t)}),n.clear(),e.destination!==null&&Bee(e,e.destination)}catch(r){B4(e,r),BD(e,r)}}Lee.renderToReadableStream=function(e,t){return new Promise(function(n,r){var i,o,s=new Promise(function(c,f){o=c,i=f}),a=L4t(e,hPt(t?t.identifierPrefix:void 0,t?t.nonce:void 0,t?t.bootstrapScriptContent:void 0,t?t.bootstrapScripts:void 0,t?t.bootstrapModules:void 0),pPt(t?t.namespaceURI:void 0),t?t.progressiveChunkSize:void 0,t?t.onError:void 0,o,function(){var c=new ReadableStream({type:"bytes",pull:function(f){if(a.status===1)a.status=2,HOe(f,a.fatalError);else if(a.status!==2&&a.destination===null){a.destination=f;try{Bee(a,f)}catch(p){B4(a,p),BD(a,p)}}},cancel:function(){Jce(a)}},{highWaterMark:0});c.allReady=s,n(c)},function(c){s.catch(function(){}),r(c)},i);if(t&&t.signal){var l=t.signal,u=function(){Jce(a,l.reason),l.removeEventListener("abort",u)};l.addEventListener("abort",u)}u7e(a)})};Lee.version="18.3.1";var R3,d7e;R3=I3,d7e=Lee;yh.version=R3.version;yh.renderToString=R3.renderToString;yh.renderToStaticMarkup=R3.renderToStaticMarkup;yh.renderToNodeStream=R3.renderToNodeStream;yh.renderToStaticNodeStream=R3.renderToStaticNodeStream;yh.renderToReadableStream=d7e.renderToReadableStream;var f7e={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(dg,function(){var n=Array.prototype.slice;function r($,j){j&&($.prototype=Object.create(j.prototype)),$.prototype.constructor=$}function i($){return l($)?$:$e($)}r(o,i);function o($){return u($)?$:He($)}r(s,i);function s($){return c($)?$:Ve($)}r(a,i);function a($){return l($)&&!f($)?$:ot($)}function l($){return!!($&&$[g])}function u($){return!!($&&$[v])}function c($){return!!($&&$[y])}function f($){return u($)||c($)}function p($){return!!($&&$[S])}i.isIterable=l,i.isKeyed=u,i.isIndexed=c,i.isAssociative=f,i.isOrdered=p,i.Keyed=o,i.Indexed=s,i.Set=a;var g="@@__IMMUTABLE_ITERABLE__@@",v="@@__IMMUTABLE_KEYED__@@",y="@@__IMMUTABLE_INDEXED__@@",S="@@__IMMUTABLE_ORDERED__@@",C="delete",_=5,k=1<<_,w=k-1,P={},M={value:!1},R={value:!1};function D($){return $.value=!1,$}function H($){$&&($.value=!0)}function O(){}function z($,j){j=j||0;for(var Z=Math.max(0,$.length-j),te=new Array(Z),ie=0;ie<Z;ie++)te[ie]=$[ie+j];return te}function G($){return $.size===void 0&&($.size=$.__iterate(X)),$.size}function ee($,j){if(typeof j!="number"){var Z=j>>>0;if(""+Z!==j||Z===4294967295)return NaN;j=Z}return j<0?G($)+j:j}function X(){return!0}function se($,j,Z){return($===0||Z!==void 0&&$<=-Z)&&(j===void 0||Z!==void 0&&j>=Z)}function B($,j){return U($,j,0)}function q($,j){return U($,j,j)}function U($,j,Z){return $===void 0?Z:$<0?Math.max(0,j+$):j===void 0?$:Math.min(j,$)}var K=0,J=1,oe=2,he=typeof Symbol=="function"&&Symbol.iterator,me="@@iterator",re=he||me;function ue($){this.next=$}ue.prototype.toString=function(){return"[Iterator]"},ue.KEYS=K,ue.VALUES=J,ue.ENTRIES=oe,ue.prototype.inspect=ue.prototype.toSource=function(){return this.toString()},ue.prototype[re]=function(){return this};function ce($,j,Z,te){var ie=$===0?j:$===1?Z:[j,Z];return te?te.value=ie:te={value:ie,done:!1},te}function we(){return{value:void 0,done:!0}}function Me($){return!!ye($)}function Be($){return $&&typeof $.next=="function"}function ge($){var j=ye($);return j&&j.call($)}function ye($){var j=$&&(he&&$[he]||$[me]);if(typeof j=="function")return j}function _e($){return $&&typeof $.length=="number"}r($e,i);function $e($){return $==null?Xt():l($)?$.toSeq():ze($)}$e.of=function(){return $e(arguments)},$e.prototype.toSeq=function(){return this},$e.prototype.toString=function(){return this.__toString("Seq {","}")},$e.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},$e.prototype.__iterate=function($,j){return ct(this,$,j,!0)},$e.prototype.__iterator=function($,j){return Ct(this,$,j,!0)},r(He,$e);function He($){return $==null?Xt().toKeyedSeq():l($)?u($)?$.toSeq():$.fromEntrySeq():Qe($)}He.prototype.toKeyedSeq=function(){return this},r(Ve,$e);function Ve($){return $==null?Xt():l($)?u($)?$.entrySeq():$.toIndexedSeq():Ce($)}Ve.of=function(){return Ve(arguments)},Ve.prototype.toIndexedSeq=function(){return this},Ve.prototype.toString=function(){return this.__toString("Seq [","]")},Ve.prototype.__iterate=function($,j){return ct(this,$,j,!1)},Ve.prototype.__iterator=function($,j){return Ct(this,$,j,!1)},r(ot,$e);function ot($){return($==null?Xt():l($)?u($)?$.entrySeq():$:Ce($)).toSetSeq()}ot.of=function(){return ot(arguments)},ot.prototype.toSetSeq=function(){return this},$e.isSeq=dn,$e.Keyed=He,$e.Set=ot,$e.Indexed=Ve;var kt="@@__IMMUTABLE_SEQ__@@";$e.prototype[kt]=!0,r(gt,Ve);function gt($){this._array=$,this.size=$.length}gt.prototype.get=function($,j){return this.has($)?this._array[ee(this,$)]:j},gt.prototype.__iterate=function($,j){for(var Z=this._array,te=Z.length-1,ie=0;ie<=te;ie++)if($(Z[j?te-ie:ie],ie,this)===!1)return ie+1;return ie},gt.prototype.__iterator=function($,j){var Z=this._array,te=Z.length-1,ie=0;return new ue(function(){return ie>te?we():ce($,ie,Z[j?te-ie++:ie++])})},r(rn,He);function rn($){var j=Object.keys($);this._object=$,this._keys=j,this.size=j.length}rn.prototype.get=function($,j){return j!==void 0&&!this.has($)?j:this._object[$]},rn.prototype.has=function($){return this._object.hasOwnProperty($)},rn.prototype.__iterate=function($,j){for(var Z=this._object,te=this._keys,ie=te.length-1,pe=0;pe<=ie;pe++){var xe=te[j?ie-pe:pe];if($(Z[xe],xe,this)===!1)return pe+1}return pe},rn.prototype.__iterator=function($,j){var Z=this._object,te=this._keys,ie=te.length-1,pe=0;return new ue(function(){var xe=te[j?ie-pe:pe];return pe++>ie?we():ce($,xe,Z[xe])})},rn.prototype[S]=!0,r(Yt,Ve);function Yt($){this._iterable=$,this.size=$.length||$.size}Yt.prototype.__iterateUncached=function($,j){if(j)return this.cacheResult().__iterate($,j);var Z=this._iterable,te=ge(Z),ie=0;if(Be(te))for(var pe;!(pe=te.next()).done&&$(pe.value,ie++,this)!==!1;);return ie},Yt.prototype.__iteratorUncached=function($,j){if(j)return this.cacheResult().__iterator($,j);var Z=this._iterable,te=ge(Z);if(!Be(te))return new ue(we);var ie=0;return new ue(function(){var pe=te.next();return pe.done?pe:ce($,ie++,pe.value)})},r(Bt,Ve);function Bt($){this._iterator=$,this._iteratorCache=[]}Bt.prototype.__iterateUncached=function($,j){if(j)return this.cacheResult().__iterate($,j);for(var Z=this._iterator,te=this._iteratorCache,ie=0;ie<te.length;)if($(te[ie],ie++,this)===!1)return ie;for(var pe;!(pe=Z.next()).done;){var xe=pe.value;if(te[ie]=xe,$(xe,ie++,this)===!1)break}return ie},Bt.prototype.__iteratorUncached=function($,j){if(j)return this.cacheResult().__iterator($,j);var Z=this._iterator,te=this._iteratorCache,ie=0;return new ue(function(){if(ie>=te.length){var pe=Z.next();if(pe.done)return pe;te[ie]=pe.value}return ce($,ie,te[ie++])})};function dn($){return!!($&&$[kt])}var Ft;function Xt(){return Ft||(Ft=new gt([]))}function Qe($){var j=Array.isArray($)?new gt($).fromEntrySeq():Be($)?new Bt($).fromEntrySeq():Me($)?new Yt($).fromEntrySeq():typeof $=="object"?new rn($):void 0;if(!j)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+$);return j}function Ce($){var j=Ne($);if(!j)throw new TypeError("Expected Array or iterable object of values: "+$);return j}function ze($){var j=Ne($)||typeof $=="object"&&new rn($);if(!j)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+$);return j}function Ne($){return _e($)?new gt($):Be($)?new Bt($):Me($)?new Yt($):void 0}function ct($,j,Z,te){var ie=$._cache;if(ie){for(var pe=ie.length-1,xe=0;xe<=pe;xe++){var Le=ie[Z?pe-xe:xe];if(j(Le[1],te?Le[0]:xe,$)===!1)return xe+1}return xe}return $.__iterateUncached(j,Z)}function Ct($,j,Z,te){var ie=$._cache;if(ie){var pe=ie.length-1,xe=0;return new ue(function(){var Le=ie[Z?pe-xe:xe];return xe++>pe?we():ce(j,te?Le[0]:xe-1,Le[1])})}return $.__iteratorUncached(j,Z)}function Et($,j){return j?Ie(j,$,"",{"":$}):Ae($)}function Ie($,j,Z,te){return Array.isArray(j)?$.call(te,Z,Ve(j).map(function(ie,pe){return Ie($,ie,pe,j)})):dt(j)?$.call(te,Z,He(j).map(function(ie,pe){return Ie($,ie,pe,j)})):j}function Ae($){return Array.isArray($)?Ve($).map(Ae).toList():dt($)?He($).map(Ae).toMap():$}function dt($){return $&&($.constructor===Object||$.constructor===void 0)}function it($,j){if($===j||$!==$&&j!==j)return!0;if(!$||!j)return!1;if(typeof $.valueOf=="function"&&typeof j.valueOf=="function"){if($=$.valueOf(),j=j.valueOf(),$===j||$!==$&&j!==j)return!0;if(!$||!j)return!1}return!!(typeof $.equals=="function"&&typeof j.equals=="function"&&$.equals(j))}function ut($,j){if($===j)return!0;if(!l(j)||$.size!==void 0&&j.size!==void 0&&$.size!==j.size||$.__hash!==void 0&&j.__hash!==void 0&&$.__hash!==j.__hash||u($)!==u(j)||c($)!==c(j)||p($)!==p(j))return!1;if($.size===0&&j.size===0)return!0;var Z=!f($);if(p($)){var te=$.entries();return j.every(function(je,Ze){var tt=te.next().value;return tt&&it(tt[1],je)&&(Z||it(tt[0],Ze))})&&te.next().done}var ie=!1;if($.size===void 0)if(j.size===void 0)typeof $.cacheResult=="function"&&$.cacheResult();else{ie=!0;var pe=$;$=j,j=pe}var xe=!0,Le=j.__iterate(function(je,Ze){if(Z?!$.has(je):ie?!it(je,$.get(Ze,P)):!it($.get(Ze,P),je))return xe=!1,!1});return xe&&$.size===Le}r(vt,Ve);function vt($,j){if(!(this instanceof vt))return new vt($,j);if(this._value=$,this.size=j===void 0?1/0:Math.max(0,j),this.size===0){if(Mn)return Mn;Mn=this}}vt.prototype.toString=function(){return this.size===0?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},vt.prototype.get=function($,j){return this.has($)?this._value:j},vt.prototype.includes=function($){return it(this._value,$)},vt.prototype.slice=function($,j){var Z=this.size;return se($,j,Z)?this:new vt(this._value,q(j,Z)-B($,Z))},vt.prototype.reverse=function(){return this},vt.prototype.indexOf=function($){return it(this._value,$)?0:-1},vt.prototype.lastIndexOf=function($){return it(this._value,$)?this.size:-1},vt.prototype.__iterate=function($,j){for(var Z=0;Z<this.size;Z++)if($(this._value,Z,this)===!1)return Z+1;return Z},vt.prototype.__iterator=function($,j){var Z=this,te=0;return new ue(function(){return te<Z.size?ce($,te++,Z._value):we()})},vt.prototype.equals=function($){return $ instanceof vt?it(this._value,$._value):ut($)};var Mn;function Kn($,j){if(!$)throw new Error(j)}r(Qt,Ve);function Qt($,j,Z){if(!(this instanceof Qt))return new Qt($,j,Z);if(Kn(Z!==0,"Cannot step a Range by 0"),$=$||0,j===void 0&&(j=1/0),Z=Z===void 0?1:Math.abs(Z),j<$&&(Z=-Z),this._start=$,this._end=j,this._step=Z,this.size=Math.max(0,Math.ceil((j-$)/Z-1)+1),this.size===0){if(on)return on;on=this}}Qt.prototype.toString=function(){return this.size===0?"Range []":"Range [ "+this._start+"..."+this._end+(this._step>1?" by "+this._step:"")+" ]"},Qt.prototype.get=function($,j){return this.has($)?this._start+ee(this,$)*this._step:j},Qt.prototype.includes=function($){var j=($-this._start)/this._step;return j>=0&&j<this.size&&j===Math.floor(j)},Qt.prototype.slice=function($,j){return se($,j,this.size)?this:($=B($,this.size),j=q(j,this.size),j<=$?new Qt(0,0):new Qt(this.get($,this._end),this.get(j,this._end),this._step))},Qt.prototype.indexOf=function($){var j=$-this._start;if(j%this._step===0){var Z=j/this._step;if(Z>=0&&Z<this.size)return Z}return-1},Qt.prototype.lastIndexOf=function($){return this.indexOf($)},Qt.prototype.__iterate=function($,j){for(var Z=this.size-1,te=this._step,ie=j?this._start+Z*te:this._start,pe=0;pe<=Z;pe++){if($(ie,pe,this)===!1)return pe+1;ie+=j?-te:te}return pe},Qt.prototype.__iterator=function($,j){var Z=this.size-1,te=this._step,ie=j?this._start+Z*te:this._start,pe=0;return new ue(function(){var xe=ie;return ie+=j?-te:te,pe>Z?we():ce($,pe++,xe)})},Qt.prototype.equals=function($){return $ instanceof Qt?this._start===$._start&&this._end===$._end&&this._step===$._step:ut(this,$)};var on;r($t,i);function $t(){throw TypeError("Abstract")}r(Wt,$t);function Wt(){}r(Kt,$t);function Kt(){}r(sr,$t);function sr(){}$t.Keyed=Wt,$t.Indexed=Kt,$t.Set=sr;var Jt=typeof Math.imul=="function"&&Math.imul(4294967295,2)===-2?Math.imul:function(j,Z){j=j|0,Z=Z|0;var te=j&65535,ie=Z&65535;return te*ie+((j>>>16)*ie+te*(Z>>>16)<<16>>>0)|0};function zn($){return $>>>1&1073741824|$&3221225471}function Ln($){if($===!1||$===null||$===void 0||typeof $.valueOf=="function"&&($=$.valueOf(),$===!1||$===null||$===void 0))return 0;if($===!0)return 1;var j=typeof $;if(j==="number"){var Z=$|0;for(Z!==$&&(Z^=$*4294967295);$>4294967295;)$/=4294967295,Z^=$;return zn(Z)}if(j==="string")return $.length>Fs?Ot($):_t($);if(typeof $.hashCode=="function")return $.hashCode();if(j==="object")return Fr($);if(typeof $.toString=="function")return _t($.toString());throw new Error("Value type "+j+" cannot be hashed.")}function Ot($){var j=lt[$];return j===void 0&&(j=_t($),at===Bs&&(at=0,lt={}),at++,lt[$]=j),j}function _t($){for(var j=0,Z=0;Z<$.length;Z++)j=31*j+$.charCodeAt(Z)|0;return zn(j)}function Fr($){var j;if(mt&&(j=hr.get($),j!==void 0)||(j=$[Rr],j!==void 0)||!Bn&&(j=$.propertyIsEnumerable&&$.propertyIsEnumerable[Rr],j!==void 0||(j=ar($),j!==void 0)))return j;if(j=++Ii,Ii&1073741824&&(Ii=0),mt)hr.set($,j);else{if(Hn!==void 0&&Hn($)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(Bn)Object.defineProperty($,Rr,{enumerable:!1,configurable:!1,writable:!1,value:j});else if($.propertyIsEnumerable!==void 0&&$.propertyIsEnumerable===$.constructor.prototype.propertyIsEnumerable)$.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},$.propertyIsEnumerable[Rr]=j;else if($.nodeType!==void 0)$[Rr]=j;else throw new Error("Unable to set a non-enumerable property on object.")}return j}var Hn=Object.isExtensible,Bn=function(){try{return Object.defineProperty({},"@",{}),!0}catch{return!1}}();function ar($){if($&&$.nodeType>0)switch($.nodeType){case 1:return $.uniqueID;case 9:return $.documentElement&&$.documentElement.uniqueID}}var mt=typeof WeakMap=="function",hr;mt&&(hr=new WeakMap);var Ii=0,Rr="__immutablehash__";typeof Symbol=="function"&&(Rr=Symbol(Rr));var Fs=16,Bs=255,at=0,lt={};function bt($){Kn($!==1/0,"Cannot perform this action with an infinite size.")}r(Ue,Wt);function Ue($){return $==null?Eo():ke($)&&!p($)?$:Eo().withMutations(function(j){var Z=o($);bt(Z.size),Z.forEach(function(te,ie){return j.set(ie,te)})})}Ue.prototype.toString=function(){return this.__toString("Map {","}")},Ue.prototype.get=function($,j){return this._root?this._root.get(0,void 0,$,j):j},Ue.prototype.set=function($,j){return zs(this,$,j)},Ue.prototype.setIn=function($,j){return this.updateIn($,P,function(){return j})},Ue.prototype.remove=function($){return zs(this,$,P)},Ue.prototype.deleteIn=function($){return this.updateIn($,function(){return P})},Ue.prototype.update=function($,j,Z){return arguments.length===1?$(this):this.updateIn([$],j,Z)},Ue.prototype.updateIn=function($,j,Z){Z||(Z=j,j=void 0);var te=Nl(this,S1($),j,Z);return te===P?void 0:te},Ue.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):Eo()},Ue.prototype.merge=function(){return Pa(this,void 0,arguments)},Ue.prototype.mergeWith=function($){var j=n.call(arguments,1);return Pa(this,$,j)},Ue.prototype.mergeIn=function($){var j=n.call(arguments,1);return this.updateIn($,Eo(),function(Z){return typeof Z.merge=="function"?Z.merge.apply(Z,j):j[j.length-1]})},Ue.prototype.mergeDeep=function(){return Pa(this,en,arguments)},Ue.prototype.mergeDeepWith=function($){var j=n.call(arguments,1);return Pa(this,fi($),j)},Ue.prototype.mergeDeepIn=function($){var j=n.call(arguments,1);return this.updateIn($,Eo(),function(Z){return typeof Z.mergeDeep=="function"?Z.mergeDeep.apply(Z,j):j[j.length-1]})},Ue.prototype.sort=function($){return An(as(this,$))},Ue.prototype.sortBy=function($,j){return An(as(this,j,$))},Ue.prototype.withMutations=function($){var j=this.asMutable();return $(j),j.wasAltered()?j.__ensureOwner(this.__ownerID):this},Ue.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new O)},Ue.prototype.asImmutable=function(){return this.__ensureOwner()},Ue.prototype.wasAltered=function(){return this.__altered},Ue.prototype.__iterator=function($,j){return new $i(this,$,j)},Ue.prototype.__iterate=function($,j){var Z=this,te=0;return this._root&&this._root.iterate(function(ie){return te++,$(ie[1],ie[0],Z)},j),te},Ue.prototype.__ensureOwner=function($){return $===this.__ownerID?this:$?il(this.size,this._root,$,this.__hash):(this.__ownerID=$,this.__altered=!1,this)};function ke($){return!!($&&$[rt])}Ue.isMap=ke;var rt="@@__IMMUTABLE_MAP__@@",nt=Ue.prototype;nt[rt]=!0,nt[C]=nt.remove,nt.removeIn=nt.deleteIn;function Rn($,j){this.ownerID=$,this.entries=j}Rn.prototype.get=function($,j,Z,te){for(var ie=this.entries,pe=0,xe=ie.length;pe<xe;pe++)if(it(Z,ie[pe][0]))return ie[pe][1];return te},Rn.prototype.update=function($,j,Z,te,ie,pe,xe){for(var Le=ie===P,je=this.entries,Ze=0,tt=je.length;Ze<tt&&!it(te,je[Ze][0]);Ze++);var xt=Ze<tt;if(xt?je[Ze][1]===ie:Le)return this;if(H(xe),(Le||!xt)&&H(pe),!(Le&&je.length===1)){if(!xt&&!Le&&je.length>=qi)return so($,je,te,ie);var At=$&&$===this.ownerID,yn=At?je:z(je);return xt?Le?Ze===tt-1?yn.pop():yn[Ze]=yn.pop():yn[Ze]=[te,ie]:yn.push([te,ie]),At?(this.entries=yn,this):new Rn($,yn)}};function qn($,j,Z){this.ownerID=$,this.bitmap=j,this.nodes=Z}qn.prototype.get=function($,j,Z,te){j===void 0&&(j=Ln(Z));var ie=1<<(($===0?j:j>>>$)&w),pe=this.bitmap;return pe&ie?this.nodes[ko(pe&ie-1)].get($+_,j,Z,te):te},qn.prototype.update=function($,j,Z,te,ie,pe,xe){Z===void 0&&(Z=Ln(te));var Le=(j===0?Z:Z>>>j)&w,je=1<<Le,Ze=this.bitmap,tt=(Ze&je)!==0;if(!tt&&ie===P)return this;var xt=ko(Ze&je-1),At=this.nodes,yn=tt?At[xt]:void 0,Nn=br(yn,$,j+_,Z,te,ie,pe,xe);if(Nn===yn)return this;if(!tt&&Nn&&At.length>=yc)return ia($,At,Ze,Le,Nn);if(tt&&!Nn&&At.length===2&&Nt(At[xt^1]))return At[xt^1];if(tt&&Nn&&At.length===1&&Nt(Nn))return Nn;var kn=$&&$===this.ownerID,Jr=tt?Nn?Ze:Ze^je:Ze|je,ii=tt?Nn?um(At,xt,Nn,kn):xu(At,xt,kn):ws(At,xt,Nn,kn);return kn?(this.bitmap=Jr,this.nodes=ii,this):new qn($,Jr,ii)};function lr($,j,Z){this.ownerID=$,this.count=j,this.nodes=Z}lr.prototype.get=function($,j,Z,te){j===void 0&&(j=Ln(Z));var ie=($===0?j:j>>>$)&w,pe=this.nodes[ie];return pe?pe.get($+_,j,Z,te):te},lr.prototype.update=function($,j,Z,te,ie,pe,xe){Z===void 0&&(Z=Ln(te));var Le=(j===0?Z:Z>>>j)&w,je=ie===P,Ze=this.nodes,tt=Ze[Le];if(je&&!tt)return this;var xt=br(tt,$,j+_,Z,te,ie,pe,xe);if(xt===tt)return this;var At=this.count;if(!tt)At++;else if(!xt&&(At--,At<Su))return ao($,Ze,At,Le);var yn=$&&$===this.ownerID,Nn=um(Ze,Le,xt,yn);return yn?(this.count=At,this.nodes=Nn,this):new lr($,At,Nn)};function Pr($,j,Z){this.ownerID=$,this.keyHash=j,this.entries=Z}Pr.prototype.get=function($,j,Z,te){for(var ie=this.entries,pe=0,xe=ie.length;pe<xe;pe++)if(it(Z,ie[pe][0]))return ie[pe][1];return te},Pr.prototype.update=function($,j,Z,te,ie,pe,xe){Z===void 0&&(Z=Ln(te));var Le=ie===P;if(Z!==this.keyHash)return Le?this:(H(xe),H(pe),$r(this,$,j,Z,[te,ie]));for(var je=this.entries,Ze=0,tt=je.length;Ze<tt&&!it(te,je[Ze][0]);Ze++);var xt=Ze<tt;if(xt?je[Ze][1]===ie:Le)return this;if(H(xe),(Le||!xt)&&H(pe),Le&&tt===2)return new Br($,this.keyHash,je[Ze^1]);var At=$&&$===this.ownerID,yn=At?je:z(je);return xt?Le?Ze===tt-1?yn.pop():yn[Ze]=yn.pop():yn[Ze]=[te,ie]:yn.push([te,ie]),At?(this.entries=yn,this):new Pr($,this.keyHash,yn)};function Br($,j,Z){this.ownerID=$,this.keyHash=j,this.entry=Z}Br.prototype.get=function($,j,Z,te){return it(Z,this.entry[0])?this.entry[1]:te},Br.prototype.update=function($,j,Z,te,ie,pe,xe){var Le=ie===P,je=it(te,this.entry[0]);if(je?ie===this.entry[1]:Le)return this;if(H(xe),Le){H(pe);return}return je?$&&$===this.ownerID?(this.entry[1]=ie,this):new Br($,this.keyHash,[te,ie]):(H(pe),$r(this,$,j,Ln(te),[te,ie]))},Rn.prototype.iterate=Pr.prototype.iterate=function($,j){for(var Z=this.entries,te=0,ie=Z.length-1;te<=ie;te++)if($(Z[j?ie-te:te])===!1)return!1},qn.prototype.iterate=lr.prototype.iterate=function($,j){for(var Z=this.nodes,te=0,ie=Z.length-1;te<=ie;te++){var pe=Z[j?ie-te:te];if(pe&&pe.iterate($,j)===!1)return!1}},Br.prototype.iterate=function($,j){return $(this.entry)},r($i,ue);function $i($,j,Z){this._type=j,this._reverse=Z,this._stack=$._root&&di($._root)}$i.prototype.next=function(){for(var $=this._type,j=this._stack;j;){var Z=j.node,te=j.index++,ie;if(Z.entry){if(te===0)return tr($,Z.entry)}else if(Z.entries){if(ie=Z.entries.length-1,te<=ie)return tr($,Z.entries[this._reverse?ie-te:te])}else if(ie=Z.nodes.length-1,te<=ie){var pe=Z.nodes[this._reverse?ie-te:te];if(pe){if(pe.entry)return tr($,pe.entry);j=this._stack=di(pe,j)}continue}j=this._stack=this._stack.__prev}return we()};function tr($,j){return ce($,j[0],j[1])}function di($,j){return{node:$,index:0,__prev:j}}function il($,j,Z,te){var ie=Object.create(nt);return ie.size=$,ie._root=j,ie.__ownerID=Z,ie.__hash=te,ie.__altered=!1,ie}var ol;function Eo(){return ol||(ol=il(0))}function zs($,j,Z){var te,ie;if($._root){var pe=D(M),xe=D(R);if(te=br($._root,$.__ownerID,0,void 0,j,Z,pe,xe),!xe.value)return $;ie=$.size+(pe.value?Z===P?-1:1:0)}else{if(Z===P)return $;ie=1,te=new Rn($.__ownerID,[[j,Z]])}return $.__ownerID?($.size=ie,$._root=te,$.__hash=void 0,$.__altered=!0,$):te?il(ie,te):Eo()}function br($,j,Z,te,ie,pe,xe,Le){return $?$.update(j,Z,te,ie,pe,xe,Le):pe===P?$:(H(Le),H(xe),new Br(j,te,[ie,pe]))}function Nt($){return $.constructor===Br||$.constructor===Pr}function $r($,j,Z,te,ie){if($.keyHash===te)return new Pr(j,te,[$.entry,ie]);var pe=(Z===0?$.keyHash:$.keyHash>>>Z)&w,xe=(Z===0?te:te>>>Z)&w,Le,je=pe===xe?[$r($,j,Z+_,te,ie)]:(Le=new Br(j,te,ie),pe<xe?[$,Le]:[Le,$]);return new qn(j,1<<pe|1<<xe,je)}function so($,j,Z,te){$||($=new O);for(var ie=new Br($,Ln(Z),[Z,te]),pe=0;pe<j.length;pe++){var xe=j[pe];ie=ie.update($,0,void 0,xe[0],xe[1])}return ie}function ao($,j,Z,te){for(var ie=0,pe=0,xe=new Array(Z),Le=0,je=1,Ze=j.length;Le<Ze;Le++,je<<=1){var tt=j[Le];tt!==void 0&&Le!==te&&(ie|=je,xe[pe++]=tt)}return new qn($,ie,xe)}function ia($,j,Z,te,ie){for(var pe=0,xe=new Array(k),Le=0;Z!==0;Le++,Z>>>=1)xe[Le]=Z&1?j[pe++]:void 0;return xe[te]=ie,new lr($,pe+1,xe)}function Pa($,j,Z){for(var te=[],ie=0;ie<Z.length;ie++){var pe=Z[ie],xe=o(pe);l(pe)||(xe=xe.map(function(Le){return Et(Le)})),te.push(xe)}return wf($,j,te)}function en($,j,Z){return $&&$.mergeDeep&&l(j)?$.mergeDeep(j):it($,j)?$:j}function fi($){return function(j,Z,te){if(j&&j.mergeDeepWith&&l(Z))return j.mergeDeepWith($,Z);var ie=$(j,Z,te);return it(j,ie)?j:ie}}function wf($,j,Z){return Z=Z.filter(function(te){return te.size!==0}),Z.length===0?$:$.size===0&&!$.__ownerID&&Z.length===1?$.constructor(Z[0]):$.withMutations(function(te){for(var ie=j?function(xe,Le){te.update(Le,P,function(je){return je===P?xe:j(je,xe,Le)})}:function(xe,Le){te.set(Le,xe)},pe=0;pe<Z.length;pe++)Z[pe].forEach(ie)})}function Nl($,j,Z,te){var ie=$===P,pe=j.next();if(pe.done){var xe=ie?Z:$,Le=te(xe);return Le===xe?$:Le}Kn(ie||$&&$.set,"invalid keyPath");var je=pe.value,Ze=ie?P:$.get(je,P),tt=Nl(Ze,j,Z,te);return tt===Ze?$:tt===P?$.remove(je):(ie?Eo():$).set(je,tt)}function ko($){return $=$-($>>1&1431655765),$=($&858993459)+($>>2&858993459),$=$+($>>4)&252645135,$=$+($>>8),$=$+($>>16),$&127}function um($,j,Z,te){var ie=te?$:z($);return ie[j]=Z,ie}function ws($,j,Z,te){var ie=$.length+1;if(te&&j+1===ie)return $[j]=Z,$;for(var pe=new Array(ie),xe=0,Le=0;Le<ie;Le++)Le===j?(pe[Le]=Z,xe=-1):pe[Le]=$[Le+xe];return pe}function xu($,j,Z){var te=$.length-1;if(Z&&j===te)return $.pop(),$;for(var ie=new Array(te),pe=0,xe=0;xe<te;xe++)xe===j&&(pe=1),ie[xe]=$[xe+pe];return ie}var qi=k/4,yc=k/2,Su=k/4;r(wr,Kt);function wr($){var j=md();if($==null)return j;if(_u($))return $;var Z=s($),te=Z.size;return te===0?j:(bt(te),te>0&&te<k?Bl(0,te,_,null,new oa(Z.toArray())):j.withMutations(function(ie){ie.setSize(te),Z.forEach(function(pe,xe){return ie.set(xe,pe)})}))}wr.of=function(){return this(arguments)},wr.prototype.toString=function(){return this.__toString("List [","]")},wr.prototype.get=function($,j){if($=ee(this,$),$>=0&&$<this.size){$+=this._origin;var Z=xs(this,$);return Z&&Z.array[$&w]}return j},wr.prototype.set=function($,j){return bc(this,$,j)},wr.prototype.remove=function($){return this.has($)?$===0?this.shift():$===this.size-1?this.pop():this.splice($,1):this},wr.prototype.insert=function($,j){return this.splice($,0,j)},wr.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=_,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):md()},wr.prototype.push=function(){var $=arguments,j=this.size;return this.withMutations(function(Z){rr(Z,0,j+$.length);for(var te=0;te<$.length;te++)Z.set(j+te,$[te])})},wr.prototype.pop=function(){return rr(this,0,-1)},wr.prototype.unshift=function(){var $=arguments;return this.withMutations(function(j){rr(j,-$.length);for(var Z=0;Z<$.length;Z++)j.set(Z,$[Z])})},wr.prototype.shift=function(){return rr(this,1)},wr.prototype.merge=function(){return gd(this,void 0,arguments)},wr.prototype.mergeWith=function($){var j=n.call(arguments,1);return gd(this,$,j)},wr.prototype.mergeDeep=function(){return gd(this,en,arguments)},wr.prototype.mergeDeepWith=function($){var j=n.call(arguments,1);return gd(this,fi($),j)},wr.prototype.setSize=function($){return rr(this,0,$)},wr.prototype.slice=function($,j){var Z=this.size;return se($,j,Z)?this:rr(this,B($,Z),q(j,Z))},wr.prototype.__iterator=function($,j){var Z=0,te=xf(this,j);return new ue(function(){var ie=te();return ie===sl?we():ce($,Z++,ie)})},wr.prototype.__iterate=function($,j){for(var Z=0,te=xf(this,j),ie;(ie=te())!==sl&&$(ie,Z++,this)!==!1;);return Z},wr.prototype.__ensureOwner=function($){return $===this.__ownerID?this:$?Bl(this._origin,this._capacity,this._level,this._root,this._tail,$,this.__hash):(this.__ownerID=$,this)};function _u($){return!!($&&$[Fl])}wr.isList=_u;var Fl="@@__IMMUTABLE_LIST__@@",jo=wr.prototype;jo[Fl]=!0,jo[C]=jo.remove,jo.setIn=nt.setIn,jo.deleteIn=jo.removeIn=nt.removeIn,jo.update=nt.update,jo.updateIn=nt.updateIn,jo.mergeIn=nt.mergeIn,jo.mergeDeepIn=nt.mergeDeepIn,jo.withMutations=nt.withMutations,jo.asMutable=nt.asMutable,jo.asImmutable=nt.asImmutable,jo.wasAltered=nt.wasAltered;function oa($,j){this.array=$,this.ownerID=j}oa.prototype.removeBefore=function($,j,Z){if(Z===j?1<<j:this.array.length===0)return this;var te=Z>>>j&w;if(te>=this.array.length)return new oa([],$);var ie=te===0,pe;if(j>0){var xe=this.array[te];if(pe=xe&&xe.removeBefore($,j-_,Z),pe===xe&&ie)return this}if(ie&&!pe)return this;var Le=fn(this,$);if(!ie)for(var je=0;je<te;je++)Le.array[je]=void 0;return pe&&(Le.array[te]=pe),Le},oa.prototype.removeAfter=function($,j,Z){if(Z===(j?1<<j:0)||this.array.length===0)return this;var te=Z-1>>>j&w;if(te>=this.array.length)return this;var ie;if(j>0){var pe=this.array[te];if(ie=pe&&pe.removeAfter($,j-_,Z),ie===pe&&te===this.array.length-1)return this}var xe=fn(this,$);return xe.array.splice(te+1),ie&&(xe.array[te]=ie),xe};var sl={};function xf($,j){var Z=$._origin,te=$._capacity,ie=Hs(te),pe=$._tail;return xe($._root,$._level,0);function xe(Ze,tt,xt){return tt===0?Le(Ze,xt):je(Ze,tt,xt)}function Le(Ze,tt){var xt=tt===ie?pe&&pe.array:Ze&&Ze.array,At=tt>Z?0:Z-tt,yn=te-tt;return yn>k&&(yn=k),function(){if(At===yn)return sl;var Nn=j?--yn:At++;return xt&&xt[Nn]}}function je(Ze,tt,xt){var At,yn=Ze&&Ze.array,Nn=xt>Z?0:Z-xt>>tt,kn=(te-xt>>tt)+1;return kn>k&&(kn=k),function(){do{if(At){var Jr=At();if(Jr!==sl)return Jr;At=null}if(Nn===kn)return sl;var ii=j?--kn:Nn++;At=xe(yn&&yn[ii],tt-_,xt+(ii<<tt))}while(!0)}}}function Bl($,j,Z,te,ie,pe,xe){var Le=Object.create(jo);return Le.size=j-$,Le._origin=$,Le._capacity=j,Le._level=Z,Le._root=te,Le._tail=ie,Le.__ownerID=pe,Le.__hash=xe,Le.__altered=!1,Le}var sa;function md(){return sa||(sa=Bl(0,0,_))}function bc($,j,Z){if(j=ee($,j),j!==j)return $;if(j>=$.size||j<0)return $.withMutations(function(xe){j<0?rr(xe,j).set(0,Z):rr(xe,0,j+1).set(j,Z)});j+=$._origin;var te=$._tail,ie=$._root,pe=D(R);return j>=Hs($._capacity)?te=nr(te,$.__ownerID,0,j,Z,pe):ie=nr(ie,$.__ownerID,$._level,j,Z,pe),pe.value?$.__ownerID?($._root=ie,$._tail=te,$.__hash=void 0,$.__altered=!0,$):Bl($._origin,$._capacity,$._level,ie,te):$}function nr($,j,Z,te,ie,pe){var xe=te>>>Z&w,Le=$&&xe<$.array.length;if(!Le&&ie===void 0)return $;var je;if(Z>0){var Ze=$&&$.array[xe],tt=nr(Ze,j,Z-_,te,ie,pe);return tt===Ze?$:(je=fn($,j),je.array[xe]=tt,je)}return Le&&$.array[xe]===ie?$:(H(pe),je=fn($,j),ie===void 0&&xe===je.array.length-1?je.array.pop():je.array[xe]=ie,je)}function fn($,j){return j&&$&&j===$.ownerID?$:new oa($?$.array.slice():[],j)}function xs($,j){if(j>=Hs($._capacity))return $._tail;if(j<1<<$._level+_){for(var Z=$._root,te=$._level;Z&&te>0;)Z=Z.array[j>>>te&w],te-=_;return Z}}function rr($,j,Z){j!==void 0&&(j=j|0),Z!==void 0&&(Z=Z|0);var te=$.__ownerID||new O,ie=$._origin,pe=$._capacity,xe=ie+j,Le=Z===void 0?pe:Z<0?pe+Z:ie+Z;if(xe===ie&&Le===pe)return $;if(xe>=Le)return $.clear();for(var je=$._level,Ze=$._root,tt=0;xe+tt<0;)Ze=new oa(Ze&&Ze.array.length?[void 0,Ze]:[],te),je+=_,tt+=1<<je;tt&&(xe+=tt,ie+=tt,Le+=tt,pe+=tt);for(var xt=Hs(pe),At=Hs(Le);At>=1<<je+_;)Ze=new oa(Ze&&Ze.array.length?[Ze]:[],te),je+=_;var yn=$._tail,Nn=At<xt?xs($,Le-1):At>xt?new oa([],te):yn;if(yn&&At>xt&&xe<pe&&yn.array.length){Ze=fn(Ze,te);for(var kn=Ze,Jr=je;Jr>_;Jr-=_){var ii=xt>>>Jr&w;kn=kn.array[ii]=fn(kn.array[ii],te)}kn.array[xt>>>_&w]=yn}if(Le<pe&&(Nn=Nn&&Nn.removeAfter(te,0,Le)),xe>=At)xe-=At,Le-=At,je=_,Ze=null,Nn=Nn&&Nn.removeBefore(te,0,xe);else if(xe>ie||At<xt){for(tt=0;Ze;){var Pf=xe>>>je&w;if(Pf!==At>>>je&w)break;Pf&&(tt+=(1<<je)*Pf),je-=_,Ze=Ze.array[Pf]}Ze&&xe>ie&&(Ze=Ze.removeBefore(te,je,xe-tt)),Ze&&At<xt&&(Ze=Ze.removeAfter(te,je,At-tt)),tt&&(xe-=tt,Le-=tt)}return $.__ownerID?($.size=Le-xe,$._origin=xe,$._capacity=Le,$._level=je,$._root=Ze,$._tail=Nn,$.__hash=void 0,$.__altered=!0,$):Bl(xe,Le,je,Ze,Nn)}function gd($,j,Z){for(var te=[],ie=0,pe=0;pe<Z.length;pe++){var xe=Z[pe],Le=s(xe);Le.size>ie&&(ie=Le.size),l(xe)||(Le=Le.map(function(je){return Et(je)})),te.push(Le)}return ie>$.size&&($=$.setSize(ie)),wf($,j,te)}function Hs($){return $<k?0:$-1>>>_<<_}r(An,Ue);function An($){return $==null?zl():vd($)?$:zl().withMutations(function(j){var Z=o($);bt(Z.size),Z.forEach(function(te,ie){return j.set(ie,te)})})}An.of=function(){return this(arguments)},An.prototype.toString=function(){return this.__toString("OrderedMap {","}")},An.prototype.get=function($,j){var Z=this._map.get($);return Z!==void 0?this._list.get(Z)[1]:j},An.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):zl()},An.prototype.set=function($,j){return Bi(this,$,j)},An.prototype.remove=function($){return Bi(this,$,P)},An.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},An.prototype.__iterate=function($,j){var Z=this;return this._list.__iterate(function(te){return te&&$(te[1],te[0],Z)},j)},An.prototype.__iterator=function($,j){return this._list.fromEntrySeq().__iterator($,j)},An.prototype.__ensureOwner=function($){if($===this.__ownerID)return this;var j=this._map.__ensureOwner($),Z=this._list.__ensureOwner($);return $?al(j,Z,$,this.__hash):(this.__ownerID=$,this._map=j,this._list=Z,this)};function vd($){return ke($)&&p($)}An.isOrderedMap=vd,An.prototype[S]=!0,An.prototype[C]=An.prototype.remove;function al($,j,Z,te){var ie=Object.create(An.prototype);return ie.size=$?$.size:0,ie._map=$,ie._list=j,ie.__ownerID=Z,ie.__hash=te,ie}var yd;function zl(){return yd||(yd=al(Eo(),md()))}function Bi($,j,Z){var te=$._map,ie=$._list,pe=te.get(j),xe=pe!==void 0,Le,je;if(Z===P){if(!xe)return $;ie.size>=k&&ie.size>=te.size*2?(je=ie.filter(function(Ze,tt){return Ze!==void 0&&pe!==tt}),Le=je.toKeyedSeq().map(function(Ze){return Ze[0]}).flip().toMap(),$.__ownerID&&(Le.__ownerID=je.__ownerID=$.__ownerID)):(Le=te.remove(j),je=pe===ie.size-1?ie.pop():ie.set(pe,void 0))}else if(xe){if(Z===ie.get(pe)[1])return $;Le=te,je=ie.set(pe,[j,Z])}else Le=te.set(j,ie.size),je=ie.set(ie.size,[j,Z]);return $.__ownerID?($.size=Le.size,$._map=Le,$._list=je,$.__hash=void 0,$):al(Le,je)}r(Qr,He);function Qr($,j){this._iter=$,this._useKeys=j,this.size=$.size}Qr.prototype.get=function($,j){return this._iter.get($,j)},Qr.prototype.has=function($){return this._iter.has($)},Qr.prototype.valueSeq=function(){return this._iter.valueSeq()},Qr.prototype.reverse=function(){var $=this,j=Tt(this,!0);return this._useKeys||(j.valueSeq=function(){return $._iter.toSeq().reverse()}),j},Qr.prototype.map=function($,j){var Z=this,te=We(this,$,j);return this._useKeys||(te.valueSeq=function(){return Z._iter.toSeq().map($,j)}),te},Qr.prototype.__iterate=function($,j){var Z=this,te;return this._iter.__iterate(this._useKeys?function(ie,pe){return $(ie,pe,Z)}:(te=j?Vs(this):0,function(ie){return $(ie,j?--te:te++,Z)}),j)},Qr.prototype.__iterator=function($,j){if(this._useKeys)return this._iter.__iterator($,j);var Z=this._iter.__iterator(J,j),te=j?Vs(this):0;return new ue(function(){var ie=Z.next();return ie.done?ie:ce($,j?--te:te++,ie.value,ie)})},Qr.prototype[S]=!0,r(Cu,Ve);function Cu($){this._iter=$,this.size=$.size}Cu.prototype.includes=function($){return this._iter.includes($)},Cu.prototype.__iterate=function($,j){var Z=this,te=0;return this._iter.__iterate(function(ie){return $(ie,te++,Z)},j)},Cu.prototype.__iterator=function($,j){var Z=this._iter.__iterator(J,j),te=0;return new ue(function(){var ie=Z.next();return ie.done?ie:ce($,te++,ie.value,ie)})},r(wc,ot);function wc($){this._iter=$,this.size=$.size}wc.prototype.has=function($){return this._iter.includes($)},wc.prototype.__iterate=function($,j){var Z=this;return this._iter.__iterate(function(te){return $(te,te,Z)},j)},wc.prototype.__iterator=function($,j){var Z=this._iter.__iterator(J,j);return new ue(function(){var te=Z.next();return te.done?te:ce($,te.value,te.value,te)})},r(ve,He);function ve($){this._iter=$,this.size=$.size}ve.prototype.entrySeq=function(){return this._iter.toSeq()},ve.prototype.__iterate=function($,j){var Z=this;return this._iter.__iterate(function(te){if(te){vv(te);var ie=l(te);return $(ie?te.get(1):te[1],ie?te.get(0):te[0],Z)}},j)},ve.prototype.__iterator=function($,j){var Z=this._iter.__iterator(J,j);return new ue(function(){for(;;){var te=Z.next();if(te.done)return te;var ie=te.value;if(ie){vv(ie);var pe=l(ie);return ce($,pe?ie.get(0):ie[0],pe?ie.get(1):ie[1],te)}}})},Cu.prototype.cacheResult=Qr.prototype.cacheResult=wc.prototype.cacheResult=ve.prototype.cacheResult=bd;function Te($){var j=Tr($);return j._iter=$,j.size=$.size,j.flip=function(){return $},j.reverse=function(){var Z=$.reverse.apply(this);return Z.flip=function(){return $.reverse()},Z},j.has=function(Z){return $.includes(Z)},j.includes=function(Z){return $.has(Z)},j.cacheResult=bd,j.__iterateUncached=function(Z,te){var ie=this;return $.__iterate(function(pe,xe){return Z(xe,pe,ie)!==!1},te)},j.__iteratorUncached=function(Z,te){if(Z===oe){var ie=$.__iterator(Z,te);return new ue(function(){var pe=ie.next();if(!pe.done){var xe=pe.value[0];pe.value[0]=pe.value[1],pe.value[1]=xe}return pe})}return $.__iterator(Z===J?K:J,te)},j}function We($,j,Z){var te=Tr($);return te.size=$.size,te.has=function(ie){return $.has(ie)},te.get=function(ie,pe){var xe=$.get(ie,P);return xe===P?pe:j.call(Z,xe,ie,$)},te.__iterateUncached=function(ie,pe){var xe=this;return $.__iterate(function(Le,je,Ze){return ie(j.call(Z,Le,je,Ze),je,xe)!==!1},pe)},te.__iteratorUncached=function(ie,pe){var xe=$.__iterator(oe,pe);return new ue(function(){var Le=xe.next();if(Le.done)return Le;var je=Le.value,Ze=je[0];return ce(ie,Ze,j.call(Z,je[1],Ze,$),Le)})},te}function Tt($,j){var Z=Tr($);return Z._iter=$,Z.size=$.size,Z.reverse=function(){return $},$.flip&&(Z.flip=function(){var te=Te($);return te.reverse=function(){return $.flip()},te}),Z.get=function(te,ie){return $.get(j?te:-1-te,ie)},Z.has=function(te){return $.has(j?te:-1-te)},Z.includes=function(te){return $.includes(te)},Z.cacheResult=bd,Z.__iterate=function(te,ie){var pe=this;return $.__iterate(function(xe,Le){return te(xe,Le,pe)},!ie)},Z.__iterator=function(te,ie){return $.__iterator(te,!ie)},Z}function Yn($,j,Z,te){var ie=Tr($);return te&&(ie.has=function(pe){var xe=$.get(pe,P);return xe!==P&&!!j.call(Z,xe,pe,$)},ie.get=function(pe,xe){var Le=$.get(pe,P);return Le!==P&&j.call(Z,Le,pe,$)?Le:xe}),ie.__iterateUncached=function(pe,xe){var Le=this,je=0;return $.__iterate(function(Ze,tt,xt){if(j.call(Z,Ze,tt,xt))return je++,pe(Ze,te?tt:je-1,Le)},xe),je},ie.__iteratorUncached=function(pe,xe){var Le=$.__iterator(oe,xe),je=0;return new ue(function(){for(;;){var Ze=Le.next();if(Ze.done)return Ze;var tt=Ze.value,xt=tt[0],At=tt[1];if(j.call(Z,At,xt,$))return ce(pe,te?xt:je++,At,Ze)}})},ie}function zt($,j,Z){var te=Ue().asMutable();return $.__iterate(function(ie,pe){te.update(j.call(Z,ie,pe,$),0,function(xe){return xe+1})}),te.asImmutable()}function xr($,j,Z){var te=u($),ie=(p($)?An():Ue()).asMutable();$.__iterate(function(xe,Le){ie.update(j.call(Z,xe,Le,$),function(je){return je=je||[],je.push(te?[Le,xe]:xe),je})});var pe=Po($);return ie.map(function(xe){return ir($,pe(xe))})}function hn($,j,Z,te){var ie=$.size;if(j!==void 0&&(j=j|0),Z!==void 0&&(Z=Z|0),se(j,Z,ie))return $;var pe=B(j,ie),xe=q(Z,ie);if(pe!==pe||xe!==xe)return hn($.toSeq().cacheResult(),j,Z,te);var Le=xe-pe,je;Le===Le&&(je=Le<0?0:Le);var Ze=Tr($);return Ze.size=je===0?je:$.size&&je||void 0,!te&&dn($)&&je>=0&&(Ze.get=function(tt,xt){return tt=ee(this,tt),tt>=0&&tt<je?$.get(tt+pe,xt):xt}),Ze.__iterateUncached=function(tt,xt){var At=this;if(je===0)return 0;if(xt)return this.cacheResult().__iterate(tt,xt);var yn=0,Nn=!0,kn=0;return $.__iterate(function(Jr,ii){if(!(Nn&&(Nn=yn++<pe)))return kn++,tt(Jr,te?ii:kn-1,At)!==!1&&kn!==je}),kn},Ze.__iteratorUncached=function(tt,xt){if(je!==0&&xt)return this.cacheResult().__iterator(tt,xt);var At=je!==0&&$.__iterator(tt,xt),yn=0,Nn=0;return new ue(function(){for(;yn++<pe;)At.next();if(++Nn>je)return we();var kn=At.next();return te||tt===J?kn:tt===K?ce(tt,Nn-1,void 0,kn):ce(tt,Nn-1,kn.value[1],kn)})},Ze}function Sr($,j,Z){var te=Tr($);return te.__iterateUncached=function(ie,pe){var xe=this;if(pe)return this.cacheResult().__iterate(ie,pe);var Le=0;return $.__iterate(function(je,Ze,tt){return j.call(Z,je,Ze,tt)&&++Le&&ie(je,Ze,xe)}),Le},te.__iteratorUncached=function(ie,pe){var xe=this;if(pe)return this.cacheResult().__iterator(ie,pe);var Le=$.__iterator(oe,pe),je=!0;return new ue(function(){if(!je)return we();var Ze=Le.next();if(Ze.done)return Ze;var tt=Ze.value,xt=tt[0],At=tt[1];return j.call(Z,At,xt,xe)?ie===oe?Ze:ce(ie,xt,At,Ze):(je=!1,we())})},te}function Go($,j,Z,te){var ie=Tr($);return ie.__iterateUncached=function(pe,xe){var Le=this;if(xe)return this.cacheResult().__iterate(pe,xe);var je=!0,Ze=0;return $.__iterate(function(tt,xt,At){if(!(je&&(je=j.call(Z,tt,xt,At))))return Ze++,pe(tt,te?xt:Ze-1,Le)}),Ze},ie.__iteratorUncached=function(pe,xe){var Le=this;if(xe)return this.cacheResult().__iterator(pe,xe);var je=$.__iterator(oe,xe),Ze=!0,tt=0;return new ue(function(){var xt,At,yn;do{if(xt=je.next(),xt.done)return te||pe===J?xt:pe===K?ce(pe,tt++,void 0,xt):ce(pe,tt++,xt.value[1],xt);var Nn=xt.value;At=Nn[0],yn=Nn[1],Ze&&(Ze=j.call(Z,yn,At,Le))}while(Ze);return pe===oe?xt:ce(pe,At,yn,xt)})},ie}function Zo($,j){var Z=u($),te=[$].concat(j).map(function(xe){return l(xe)?Z&&(xe=o(xe)):xe=Z?Qe(xe):Ce(Array.isArray(xe)?xe:[xe]),xe}).filter(function(xe){return xe.size!==0});if(te.length===0)return $;if(te.length===1){var ie=te[0];if(ie===$||Z&&u(ie)||c($)&&c(ie))return ie}var pe=new gt(te);return Z?pe=pe.toKeyedSeq():c($)||(pe=pe.toSetSeq()),pe=pe.flatten(!0),pe.size=te.reduce(function(xe,Le){if(xe!==void 0){var je=Le.size;if(je!==void 0)return xe+je}},0),pe}function lo($,j,Z){var te=Tr($);return te.__iterateUncached=function(ie,pe){var xe=0,Le=!1;function je(Ze,tt){var xt=this;Ze.__iterate(function(At,yn){return(!j||tt<j)&&l(At)?je(At,tt+1):ie(At,Z?yn:xe++,xt)===!1&&(Le=!0),!Le},pe)}return je($,0),xe},te.__iteratorUncached=function(ie,pe){var xe=$.__iterator(ie,pe),Le=[],je=0;return new ue(function(){for(;xe;){var Ze=xe.next();if(Ze.done!==!1){xe=Le.pop();continue}var tt=Ze.value;if(ie===oe&&(tt=tt[1]),(!j||Le.length<j)&&l(tt))Le.push(xe),xe=tt.__iterator(ie,pe);else return Z?Ze:ce(ie,je++,tt,Ze)}return we()})},te}function Ss($,j,Z){var te=Po($);return $.toSeq().map(function(ie,pe){return te(j.call(Z,ie,pe,$))}).flatten(!0)}function ll($,j){var Z=Tr($);return Z.size=$.size&&$.size*2-1,Z.__iterateUncached=function(te,ie){var pe=this,xe=0;return $.__iterate(function(Le,je){return(!xe||te(j,xe++,pe)!==!1)&&te(Le,xe++,pe)!==!1},ie),xe},Z.__iteratorUncached=function(te,ie){var pe=$.__iterator(J,ie),xe=0,Le;return new ue(function(){return(!Le||xe%2)&&(Le=pe.next(),Le.done)?Le:xe%2?ce(te,xe++,j):ce(te,xe++,Le.value,Le)})},Z}function as($,j,Z){j||(j=aa);var te=u($),ie=0,pe=$.toSeq().map(function(xe,Le){return[Le,xe,ie++,Z?Z(xe,Le,$):xe]}).toArray();return pe.sort(function(xe,Le){return j(xe[3],Le[3])||xe[2]-Le[2]}).forEach(te?function(xe,Le){pe[Le].length=2}:function(xe,Le){pe[Le]=xe[1]}),te?He(pe):c($)?Ve(pe):ot(pe)}function ul($,j,Z){if(j||(j=aa),Z){var te=$.toSeq().map(function(ie,pe){return[ie,Z(ie,pe,$)]}).reduce(function(ie,pe){return Eu(j,ie[1],pe[1])?pe:ie});return te&&te[0]}else return $.reduce(function(ie,pe){return Eu(j,ie,pe)?pe:ie})}function Eu($,j,Z){var te=$(Z,j);return te===0&&Z!==j&&(Z==null||Z!==Z)||te>0}function gv($,j,Z){var te=Tr($);return te.size=new gt(Z).map(function(ie){return ie.size}).min(),te.__iterate=function(ie,pe){for(var xe=this.__iterator(J,pe),Le,je=0;!(Le=xe.next()).done&&ie(Le.value,je++,this)!==!1;);return je},te.__iteratorUncached=function(ie,pe){var xe=Z.map(function(Ze){return Ze=i(Ze),ge(pe?Ze.reverse():Ze)}),Le=0,je=!1;return new ue(function(){var Ze;return je||(Ze=xe.map(function(tt){return tt.next()}),je=Ze.some(function(tt){return tt.done})),je?we():ce(ie,Le++,j.apply(null,Ze.map(function(tt){return tt.value})))})},te}function ir($,j){return dn($)?j:$.constructor(j)}function vv($){if($!==Object($))throw new TypeError("Expected [K, V] tuple: "+$)}function Vs($){return bt($.size),G($)}function Po($){return u($)?o:c($)?s:a}function Tr($){return Object.create((u($)?He:c($)?Ve:ot).prototype)}function bd(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):$e.prototype.cacheResult.call(this)}function aa($,j){return $>j?1:$<j?-1:0}function S1($){var j=ge($);if(!j){if(!_e($))throw new TypeError("Expected iterable or array-like: "+$);j=ge(i($))}return j}r(Us,Wt);function Us($,j){var Z,te=function(xe){if(xe instanceof te)return xe;if(!(this instanceof te))return new te(xe);if(!Z){Z=!0;var Le=Object.keys($);kh(ie,Le),ie.size=Le.length,ie._name=j,ie._keys=Le,ie._defaultValues=$}this._map=Ue(xe)},ie=te.prototype=Object.create($o);return ie.constructor=te,te}Us.prototype.toString=function(){return this.__toString(_1(this)+" {","}")},Us.prototype.has=function($){return this._defaultValues.hasOwnProperty($)},Us.prototype.get=function($,j){if(!this.has($))return j;var Z=this._defaultValues[$];return this._map?this._map.get($,Z):Z},Us.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var $=this.constructor;return $._empty||($._empty=Eh(this,Eo()))},Us.prototype.set=function($,j){if(!this.has($))throw new Error('Cannot set unknown key "'+$+'" on '+_1(this));var Z=this._map&&this._map.set($,j);return this.__ownerID||Z===this._map?this:Eh(this,Z)},Us.prototype.remove=function($){if(!this.has($))return this;var j=this._map&&this._map.remove($);return this.__ownerID||j===this._map?this:Eh(this,j)},Us.prototype.wasAltered=function(){return this._map.wasAltered()},Us.prototype.__iterator=function($,j){var Z=this;return o(this._defaultValues).map(function(te,ie){return Z.get(ie)}).__iterator($,j)},Us.prototype.__iterate=function($,j){var Z=this;return o(this._defaultValues).map(function(te,ie){return Z.get(ie)}).__iterate($,j)},Us.prototype.__ensureOwner=function($){if($===this.__ownerID)return this;var j=this._map&&this._map.__ensureOwner($);return $?Eh(this,j,$):(this.__ownerID=$,this._map=j,this)};var $o=Us.prototype;$o[C]=$o.remove,$o.deleteIn=$o.removeIn=nt.removeIn,$o.merge=nt.merge,$o.mergeWith=nt.mergeWith,$o.mergeIn=nt.mergeIn,$o.mergeDeep=nt.mergeDeep,$o.mergeDeepWith=nt.mergeDeepWith,$o.mergeDeepIn=nt.mergeDeepIn,$o.setIn=nt.setIn,$o.update=nt.update,$o.updateIn=nt.updateIn,$o.withMutations=nt.withMutations,$o.asMutable=nt.asMutable,$o.asImmutable=nt.asImmutable;function Eh($,j,Z){var te=Object.create(Object.getPrototypeOf($));return te._map=j,te.__ownerID=Z,te}function _1($){return $._name||$.constructor.name||"Record"}function kh($,j){try{j.forEach(Hx.bind(void 0,$))}catch{}}function Hx($,j){Object.defineProperty($,j,{get:function(){return this.get(j)},set:function(Z){Kn(this.__ownerID,"Cannot set on an immutable record."),this.set(j,Z)}})}r(Kr,sr);function Kr($){return $==null?dm():Ph($)&&!p($)?$:dm().withMutations(function(j){var Z=a($);bt(Z.size),Z.forEach(function(te){return j.add(te)})})}Kr.of=function(){return this(arguments)},Kr.fromKeys=function($){return this(o($).keySeq())},Kr.prototype.toString=function(){return this.__toString("Set {","}")},Kr.prototype.has=function($){return this._map.has($)},Kr.prototype.add=function($){return C1(this,this._map.set($,!0))},Kr.prototype.remove=function($){return C1(this,this._map.remove($))},Kr.prototype.clear=function(){return C1(this,this._map.clear())},Kr.prototype.union=function(){var $=n.call(arguments,0);return $=$.filter(function(j){return j.size!==0}),$.length===0?this:this.size===0&&!this.__ownerID&&$.length===1?this.constructor($[0]):this.withMutations(function(j){for(var Z=0;Z<$.length;Z++)a($[Z]).forEach(function(te){return j.add(te)})})},Kr.prototype.intersect=function(){var $=n.call(arguments,0);if($.length===0)return this;$=$.map(function(Z){return a(Z)});var j=this;return this.withMutations(function(Z){j.forEach(function(te){$.every(function(ie){return ie.includes(te)})||Z.remove(te)})})},Kr.prototype.subtract=function(){var $=n.call(arguments,0);if($.length===0)return this;$=$.map(function(Z){return a(Z)});var j=this;return this.withMutations(function(Z){j.forEach(function(te){$.some(function(ie){return ie.includes(te)})&&Z.remove(te)})})},Kr.prototype.merge=function(){return this.union.apply(this,arguments)},Kr.prototype.mergeWith=function($){var j=n.call(arguments,1);return this.union.apply(this,j)},Kr.prototype.sort=function($){return cl(as(this,$))},Kr.prototype.sortBy=function($,j){return cl(as(this,j,$))},Kr.prototype.wasAltered=function(){return this._map.wasAltered()},Kr.prototype.__iterate=function($,j){var Z=this;return this._map.__iterate(function(te,ie){return $(ie,ie,Z)},j)},Kr.prototype.__iterator=function($,j){return this._map.map(function(Z,te){return te}).__iterator($,j)},Kr.prototype.__ensureOwner=function($){if($===this.__ownerID)return this;var j=this._map.__ensureOwner($);return $?this.__make(j,$):(this.__ownerID=$,this._map=j,this)};function Ph($){return!!($&&$[cm])}Kr.isSet=Ph;var cm="@@__IMMUTABLE_SET__@@",Gi=Kr.prototype;Gi[cm]=!0,Gi[C]=Gi.remove,Gi.mergeDeep=Gi.merge,Gi.mergeDeepWith=Gi.mergeWith,Gi.withMutations=nt.withMutations,Gi.asMutable=nt.asMutable,Gi.asImmutable=nt.asImmutable,Gi.__empty=dm,Gi.__make=ku;function C1($,j){return $.__ownerID?($.size=j.size,$._map=j,$):j===$._map?$:j.size===0?$.__empty():$.__make(j)}function ku($,j){var Z=Object.create(Gi);return Z.size=$?$.size:0,Z._map=$,Z.__ownerID=j,Z}var _s;function dm(){return _s||(_s=ku(Eo()))}r(cl,Kr);function cl($){return $==null?wd():Sf($)?$:wd().withMutations(function(j){var Z=a($);bt(Z.size),Z.forEach(function(te){return j.add(te)})})}cl.of=function(){return this(arguments)},cl.fromKeys=function($){return this(o($).keySeq())},cl.prototype.toString=function(){return this.__toString("OrderedSet {","}")};function Sf($){return Ph($)&&p($)}cl.isOrderedSet=Sf;var _f=cl.prototype;_f[S]=!0,_f.__empty=wd,_f.__make=Cf;function Cf($,j){var Z=Object.create(_f);return Z.size=$?$.size:0,Z._map=$,Z.__ownerID=j,Z}var fm;function wd(){return fm||(fm=Cf(zl()))}r(zi,Kt);function zi($){return $==null?la():yv($)?$:la().unshiftAll($)}zi.of=function(){return this(arguments)},zi.prototype.toString=function(){return this.__toString("Stack [","]")},zi.prototype.get=function($,j){var Z=this._head;for($=ee(this,$);Z&&$--;)Z=Z.next;return Z?Z.value:j},zi.prototype.peek=function(){return this._head&&this._head.value},zi.prototype.push=function(){if(arguments.length===0)return this;for(var $=this.size+arguments.length,j=this._head,Z=arguments.length-1;Z>=0;Z--)j={value:arguments[Z],next:j};return this.__ownerID?(this.size=$,this._head=j,this.__hash=void 0,this.__altered=!0,this):Ef($,j)},zi.prototype.pushAll=function($){if($=s($),$.size===0)return this;bt($.size);var j=this.size,Z=this._head;return $.reverse().forEach(function(te){j++,Z={value:te,next:Z}}),this.__ownerID?(this.size=j,this._head=Z,this.__hash=void 0,this.__altered=!0,this):Ef(j,Z)},zi.prototype.pop=function(){return this.slice(1)},zi.prototype.unshift=function(){return this.push.apply(this,arguments)},zi.prototype.unshiftAll=function($){return this.pushAll($)},zi.prototype.shift=function(){return this.pop.apply(this,arguments)},zi.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):la()},zi.prototype.slice=function($,j){if(se($,j,this.size))return this;var Z=B($,this.size),te=q(j,this.size);if(te!==this.size)return Kt.prototype.slice.call(this,$,j);for(var ie=this.size-Z,pe=this._head;Z--;)pe=pe.next;return this.__ownerID?(this.size=ie,this._head=pe,this.__hash=void 0,this.__altered=!0,this):Ef(ie,pe)},zi.prototype.__ensureOwner=function($){return $===this.__ownerID?this:$?Ef(this.size,this._head,$,this.__hash):(this.__ownerID=$,this.__altered=!1,this)},zi.prototype.__iterate=function($,j){if(j)return this.reverse().__iterate($);for(var Z=0,te=this._head;te&&$(te.value,Z++,this)!==!1;)te=te.next;return Z},zi.prototype.__iterator=function($,j){if(j)return this.reverse().__iterator($);var Z=0,te=this._head;return new ue(function(){if(te){var ie=te.value;return te=te.next,ce($,Z++,ie)}return we()})};function yv($){return!!($&&$[$a])}zi.isStack=yv;var $a="@@__IMMUTABLE_STACK__@@",Ta=zi.prototype;Ta[$a]=!0,Ta.withMutations=nt.withMutations,Ta.asMutable=nt.asMutable,Ta.asImmutable=nt.asImmutable,Ta.wasAltered=nt.wasAltered;function Ef($,j,Z,te){var ie=Object.create(Ta);return ie.size=$,ie._head=j,ie.__ownerID=Z,ie.__hash=te,ie.__altered=!1,ie}var Ws;function la(){return Ws||(Ws=Ef(0))}function uo($,j){var Z=function(te){$.prototype[te]=j[te]};return Object.keys(j).forEach(Z),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(j).forEach(Z),$}i.Iterator=ue,uo(i,{toArray:function(){bt(this.size);var $=new Array(this.size||0);return this.valueSeq().__iterate(function(j,Z){$[Z]=j}),$},toIndexedSeq:function(){return new Cu(this)},toJS:function(){return this.toSeq().map(function($){return $&&typeof $.toJS=="function"?$.toJS():$}).__toJS()},toJSON:function(){return this.toSeq().map(function($){return $&&typeof $.toJSON=="function"?$.toJSON():$}).__toJS()},toKeyedSeq:function(){return new Qr(this,!0)},toMap:function(){return Ue(this.toKeyedSeq())},toObject:function(){bt(this.size);var $={};return this.__iterate(function(j,Z){$[Z]=j}),$},toOrderedMap:function(){return An(this.toKeyedSeq())},toOrderedSet:function(){return cl(u(this)?this.valueSeq():this)},toSet:function(){return Kr(u(this)?this.valueSeq():this)},toSetSeq:function(){return new wc(this)},toSeq:function(){return c(this)?this.toIndexedSeq():u(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return zi(u(this)?this.valueSeq():this)},toList:function(){return wr(u(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function($,j){return this.size===0?$+j:$+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+j},concat:function(){var $=n.call(arguments,0);return ir(this,Zo(this,$))},includes:function($){return this.some(function(j){return it(j,$)})},entries:function(){return this.__iterator(oe)},every:function($,j){bt(this.size);var Z=!0;return this.__iterate(function(te,ie,pe){if(!$.call(j,te,ie,pe))return Z=!1,!1}),Z},filter:function($,j){return ir(this,Yn(this,$,j,!0))},find:function($,j,Z){var te=this.findEntry($,j);return te?te[1]:Z},findEntry:function($,j){var Z;return this.__iterate(function(te,ie,pe){if($.call(j,te,ie,pe))return Z=[ie,te],!1}),Z},findLastEntry:function($,j){return this.toSeq().reverse().findEntry($,j)},forEach:function($,j){return bt(this.size),this.__iterate(j?$.bind(j):$)},join:function($){bt(this.size),$=$!==void 0?""+$:",";var j="",Z=!0;return this.__iterate(function(te){Z?Z=!1:j+=$,j+=te!=null?te.toString():""}),j},keys:function(){return this.__iterator(K)},map:function($,j){return ir(this,We(this,$,j))},reduce:function($,j,Z){bt(this.size);var te,ie;return arguments.length<2?ie=!0:te=j,this.__iterate(function(pe,xe,Le){ie?(ie=!1,te=pe):te=$.call(Z,te,pe,xe,Le)}),te},reduceRight:function($,j,Z){var te=this.toKeyedSeq().reverse();return te.reduce.apply(te,arguments)},reverse:function(){return ir(this,Tt(this,!0))},slice:function($,j){return ir(this,hn(this,$,j,!0))},some:function($,j){return!this.every($h($),j)},sort:function($){return ir(this,as(this,$))},values:function(){return this.__iterator(J)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return this.size!==void 0?this.size===0:!this.some(function(){return!0})},count:function($,j){return G($?this.toSeq().filter($,j):this)},countBy:function($,j){return zt(this,$,j)},equals:function($){return ut(this,$)},entrySeq:function(){var $=this;if($._cache)return new gt($._cache);var j=$.toSeq().map(Vl).toIndexedSeq();return j.fromEntrySeq=function(){return $.toSeq()},j},filterNot:function($,j){return this.filter($h($),j)},findLast:function($,j,Z){return this.toKeyedSeq().reverse().find($,j,Z)},first:function(){return this.find(X)},flatMap:function($,j){return ir(this,Ss(this,$,j))},flatten:function($){return ir(this,lo(this,$,!0))},fromEntrySeq:function(){return new ve(this)},get:function($,j){return this.find(function(Z,te){return it(te,$)},void 0,j)},getIn:function($,j){for(var Z=this,te=S1($),ie;!(ie=te.next()).done;){var pe=ie.value;if(Z=Z&&Z.get?Z.get(pe,P):P,Z===P)return j}return Z},groupBy:function($,j){return xr(this,$,j)},has:function($){return this.get($,P)!==P},hasIn:function($){return this.getIn($,P)!==P},isSubset:function($){return $=typeof $.includes=="function"?$:i($),this.every(function(j){return $.includes(j)})},isSuperset:function($){return $=typeof $.isSubset=="function"?$:i($),$.isSubset(this)},keySeq:function(){return this.toSeq().map(Hl).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},max:function($){return ul(this,$)},maxBy:function($,j){return ul(this,j,$)},min:function($){return ul(this,$?Pu($):kf)},minBy:function($,j){return ul(this,j?Pu(j):kf,$)},rest:function(){return this.slice(1)},skip:function($){return this.slice(Math.max(0,$))},skipLast:function($){return ir(this,this.toSeq().reverse().skip($).reverse())},skipWhile:function($,j){return ir(this,Go(this,$,j,!0))},skipUntil:function($,j){return this.skipWhile($h($),j)},sortBy:function($,j){return ir(this,as(this,j,$))},take:function($){return this.slice(0,Math.max(0,$))},takeLast:function($){return ir(this,this.toSeq().reverse().take($).reverse())},takeWhile:function($,j){return ir(this,Sr(this,$,j))},takeUntil:function($,j){return this.takeWhile($h($),j)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=Vx(this))}});var Yo=i.prototype;Yo[g]=!0,Yo[re]=Yo.values,Yo.__toJS=Yo.toArray,Yo.__toStringMapper=Ma,Yo.inspect=Yo.toSource=function(){return this.toString()},Yo.chain=Yo.flatMap,Yo.contains=Yo.includes,function(){try{Object.defineProperty(Yo,"length",{get:function(){if(!i.noLengthWarning){var $;try{throw new Error}catch(j){$=j.stack}if($.indexOf("_wrapObject")===-1)return console&&console.warn&&console.warn("iterable.length has been deprecated, use iterable.size or iterable.count(). This warning will become a silent error in a future version. "+$),this.size}}})}catch{}}(),uo(o,{flip:function(){return ir(this,Te(this))},findKey:function($,j){var Z=this.findEntry($,j);return Z&&Z[0]},findLastKey:function($,j){return this.toSeq().reverse().findKey($,j)},keyOf:function($){return this.findKey(function(j){return it(j,$)})},lastKeyOf:function($){return this.findLastKey(function(j){return it(j,$)})},mapEntries:function($,j){var Z=this,te=0;return ir(this,this.toSeq().map(function(ie,pe){return $.call(j,[pe,ie],te++,Z)}).fromEntrySeq())},mapKeys:function($,j){var Z=this;return ir(this,this.toSeq().flip().map(function(te,ie){return $.call(j,te,ie,Z)}).flip())}});var xc=o.prototype;xc[v]=!0,xc[re]=Yo.entries,xc.__toJS=Yo.toObject,xc.__toStringMapper=function($,j){return JSON.stringify(j)+": "+Ma($)},uo(s,{toKeyedSeq:function(){return new Qr(this,!1)},filter:function($,j){return ir(this,Yn(this,$,j,!1))},findIndex:function($,j){var Z=this.findEntry($,j);return Z?Z[0]:-1},indexOf:function($){var j=this.toKeyedSeq().keyOf($);return j===void 0?-1:j},lastIndexOf:function($){var j=this.toKeyedSeq().reverse().keyOf($);return j===void 0?-1:j},reverse:function(){return ir(this,Tt(this,!1))},slice:function($,j){return ir(this,hn(this,$,j,!1))},splice:function($,j){var Z=arguments.length;if(j=Math.max(j|0,0),Z===0||Z===2&&!j)return this;$=B($,$<0?this.count():this.size);var te=this.slice(0,$);return ir(this,Z===1?te:te.concat(z(arguments,2),this.slice($+j)))},findLastIndex:function($,j){var Z=this.toKeyedSeq().findLastKey($,j);return Z===void 0?-1:Z},first:function(){return this.get(0)},flatten:function($){return ir(this,lo(this,$,!1))},get:function($,j){return $=ee(this,$),$<0||this.size===1/0||this.size!==void 0&&$>this.size?j:this.find(function(Z,te){return te===$},void 0,j)},has:function($){return $=ee(this,$),$>=0&&(this.size!==void 0?this.size===1/0||$<this.size:this.indexOf($)!==-1)},interpose:function($){return ir(this,ll(this,$))},interleave:function(){var $=[this].concat(z(arguments)),j=gv(this.toSeq(),Ve.of,$),Z=j.flatten(!0);return j.size&&(Z.size=j.size*$.length),ir(this,Z)},last:function(){return this.get(-1)},skipWhile:function($,j){return ir(this,Go(this,$,j,!1))},zip:function(){var $=[this].concat(z(arguments));return ir(this,gv(this,xd,$))},zipWith:function($){var j=z(arguments);return j[0]=this,ir(this,gv(this,$,j))}}),s.prototype[y]=!0,s.prototype[S]=!0,uo(a,{get:function($,j){return this.has($)?$:j},includes:function($){return this.has($)},keySeq:function(){return this.valueSeq()}}),a.prototype.has=Yo.includes,uo(He,o.prototype),uo(Ve,s.prototype),uo(ot,a.prototype),uo(Wt,o.prototype),uo(Kt,s.prototype),uo(sr,a.prototype);function Hl($,j){return j}function Vl($,j){return[j,$]}function $h($){return function(){return!$.apply(this,arguments)}}function Pu($){return function(){return-$.apply(this,arguments)}}function Ma($){return typeof $=="string"?JSON.stringify($):$}function xd(){return z(arguments)}function kf($,j){return $<j?1:$>j?-1:0}function Vx($){if($.size===1/0)return 0;var j=p($),Z=u($),te=j?1:0,ie=$.__iterate(Z?j?function(pe,xe){te=31*te+E1(Ln(pe),Ln(xe))|0}:function(pe,xe){te=te+E1(Ln(pe),Ln(xe))|0}:j?function(pe){te=31*te+Ln(pe)|0}:function(pe){te=te+Ln(pe)|0});return dl(ie,te)}function dl($,j){return j=Jt(j,3432918353),j=Jt(j<<15|j>>>-15,461845907),j=Jt(j<<13|j>>>-13,5),j=(j+3864292196|0)^$,j=Jt(j^j>>>16,2246822507),j=Jt(j^j>>>13,3266489909),j=zn(j^j>>>16),j}function E1($,j){return $^j+2654435769+($<<6)+($>>2)|0}var $u={Iterable:i,Seq:$e,Collection:$t,Map:Ue,OrderedMap:An,List:wr,Stack:zi,Set:Kr,OrderedSet:cl,Record:Us,Range:Qt,Repeat:vt,is:it,fromJS:Et};return $u})})(f7e);var ci=f7e.exports,I4t=ci,R4t=I4t.OrderedMap,D4t={createFromArray:function(t){return R4t(t.map(function(n){return[n.getKey(),n]}))}},b5=D4t;function O4t(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var zee=ci,dG=zee.Map,fG=zee.OrderedSet,j4t=zee.Record,h7e=fG(),p7e={style:h7e,entity:null},N4t=j4t(p7e),Hee=function(e){O4t(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;return n.getStyle=function(){return this.get("style")},n.getEntity=function(){return this.get("entity")},n.hasStyle=function(i){return this.getStyle().includes(i)},t.applyStyle=function(i,o){var s=i.set("style",i.getStyle().add(o));return t.create(s)},t.removeStyle=function(i,o){var s=i.set("style",i.getStyle().remove(o));return t.create(s)},t.applyEntity=function(i,o){var s=i.getEntity()===o?i:i.set("entity",o);return t.create(s)},t.create=function(i){if(!i)return Vee;var o={style:h7e,entity:null},s=dG(o).merge(i),a=kB.get(s);if(a)return a;var l=new t(s);return kB=kB.set(s,l),l},t.fromJS=function(i){var o=i.style,s=i.entity;return new t({style:Array.isArray(o)?fG(o):o,entity:Array.isArray(s)?fG(s):s})},t}(N4t),Vee=new Hee,kB=dG([[dG(p7e),Vee]]);Hee.EMPTY=Vee;var vf=Hee;function F4t(e,t,n,r){if(e.size){var i=0;e.reduce(function(o,s,a){return t(o,s)||(n(o)&&r(i,a),i=a),s}),n(e.last())&&r(i,e.count())}}var w5=F4t;function B4t(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var z4t=vf,ede=w5,x5=ci,m7e=x5.List,H4t=x5.Map,V4t=x5.OrderedSet,U4t=x5.Record,W4t=x5.Repeat,K4t=V4t(),q4t={key:"",type:"unstyled",text:"",characterList:m7e(),depth:0,data:H4t()},G4t=U4t(q4t),Z4t=function(t){if(!t)return t;var n=t.characterList,r=t.text;return r&&!n&&(t.characterList=m7e(W4t(z4t.EMPTY,r.length))),t},Y4t=function(e){B4t(t,e);function t(r){return e.call(this,Z4t(r))||this}var n=t.prototype;return n.getKey=function(){return this.get("key")},n.getType=function(){return this.get("type")},n.getText=function(){return this.get("text")},n.getCharacterList=function(){return this.get("characterList")},n.getLength=function(){return this.getText().length},n.getDepth=function(){return this.get("depth")},n.getData=function(){return this.get("data")},n.getInlineStyleAt=function(i){var o=this.getCharacterList().get(i);return o?o.getStyle():K4t},n.getEntityAt=function(i){var o=this.getCharacterList().get(i);return o?o.getEntity():null},n.findStyleRanges=function(i,o){ede(this.getCharacterList(),X4t,i,o)},n.findEntityRanges=function(i,o){ede(this.getCharacterList(),Q4t,i,o)},t}(G4t);function X4t(e,t){return e.getStyle()===t.getStyle()}function Q4t(e,t){return e.getEntity()===t.getEntity()}var Lx=Y4t;function J4t(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var e$t=vf,tde=w5,S5=ci,hG=S5.List,t$t=S5.Map,n$t=S5.OrderedSet,r$t=S5.Record,i$t=S5.Repeat,o$t=n$t(),nde={parent:null,characterList:hG(),data:t$t(),depth:0,key:"",text:"",type:"unstyled",children:hG(),prevSibling:null,nextSibling:null},s$t=function(t,n){return t.getStyle()===n.getStyle()},a$t=function(t,n){return t.getEntity()===n.getEntity()},l$t=function(t){if(!t)return t;var n=t.characterList,r=t.text;return r&&!n&&(t.characterList=hG(i$t(e$t.EMPTY,r.length))),t},u$t=function(e){J4t(t,e);function t(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:nde;return e.call(this,l$t(r))||this}var n=t.prototype;return n.getKey=function(){return this.get("key")},n.getType=function(){return this.get("type")},n.getText=function(){return this.get("text")},n.getCharacterList=function(){return this.get("characterList")},n.getLength=function(){return this.getText().length},n.getDepth=function(){return this.get("depth")},n.getData=function(){return this.get("data")},n.getInlineStyleAt=function(i){var o=this.getCharacterList().get(i);return o?o.getStyle():o$t},n.getEntityAt=function(i){var o=this.getCharacterList().get(i);return o?o.getEntity():null},n.getChildKeys=function(){return this.get("children")},n.getParentKey=function(){return this.get("parent")},n.getPrevSiblingKey=function(){return this.get("prevSibling")},n.getNextSiblingKey=function(){return this.get("nextSibling")},n.findStyleRanges=function(i,o){tde(this.getCharacterList(),s$t,i,o)},n.findEntityRanges=function(i,o){tde(this.getCharacterList(),a$t,i,o)},t}(r$t(nde)),yf=u$t,rde=vf,c$t=ci,d$t=c$t.Map,f$t={add:function(t,n,r){return ide(t,n,r,!0)},remove:function(t,n,r){return ide(t,n,r,!1)}};function ide(e,t,n,r){var i=e.getBlockMap(),o=t.getStartKey(),s=t.getStartOffset(),a=t.getEndKey(),l=t.getEndOffset(),u=i.skipUntil(function(c,f){return f===o}).takeUntil(function(c,f){return f===a}).concat(d$t([[a,i.get(a)]])).map(function(c,f){var p,g;o===a?(p=s,g=l):(p=f===o?s:0,g=f===a?l:c.getLength());for(var v=c.getCharacterList(),y;p<g;)y=v.get(p),v=v.set(p,r?rde.applyStyle(y,n):rde.removeStyle(y,n)),p++;return c.set("characterList",v)});return e.merge({blockMap:i.merge(u),selectionBefore:t,selectionAfter:t})}var h$t=f$t,p$t=vf;function m$t(e,t,n,r){for(var i=t,o=e.getCharacterList();i<n;)o=o.set(i,p$t.applyEntity(o.get(i),r)),i++;return e.set("characterList",o)}var g$t=m$t,v$t=g$t,y$t=ci;function b$t(e,t,n){var r=e.getBlockMap(),i=t.getStartKey(),o=t.getStartOffset(),s=t.getEndKey(),a=t.getEndOffset(),l=r.skipUntil(function(u,c){return c===i}).takeUntil(function(u,c){return c===s}).toOrderedMap().merge(y$t.OrderedMap([[s,r.get(s)]])).map(function(u,c){var f=c===i?o:0,p=c===s?a:u.getLength();return v$t(u,f,p,n)});return e.merge({blockMap:r.merge(l),selectionBefore:t,selectionAfter:t})}var w$t=b$t,x$t={getRemovalRange:function(t,n,r,i,o){var s=r.split(" ");s=s.map(function(S,C){if(o==="forward"){if(C>0)return" "+S}else if(C<s.length-1)return S+" ";return S});for(var a=i,l,u,c=null,f=null,p=0;p<s.length;p++){if(u=s[p],l=a+u.length,t<l&&a<n)c!==null||(c=a),f=l;else if(c!==null)break;a=l}var g=i+r.length,v=c===i,y=f===g;return(!v&&y||v&&!y)&&(o==="forward"?f!==g&&f++:c!==i&&c--),{start:c,end:f}}},S$t=x$t;function _$t(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(!e){var o;if(t===void 0)o=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;o=new Error(t.replace(/%s/g,function(){return String(r[s++])})),o.name="Invariant Violation"}throw o.framesToPop=1,o}}var Si=_$t,C$t=Si;function E$t(e,t){var n=[];return e.findEntityRanges(function(r){return r.getEntity()===t},function(r,i){n.push({start:r,end:i})}),n.length||C$t(!1),n}var k$t=E$t,P$t=S$t,$$t=k$t,T$t=Si;function M$t(e,t,n,r,i){var o=r.getStartOffset(),s=r.getEndOffset(),a=t.getEntityAt(o),l=n.getEntityAt(s-1);if(!a&&!l)return r;var u=r;if(a&&a===l)u=VE(e,t,u,i,a,!0,!0);else if(a&&l){var c=VE(e,t,u,i,a,!1,!0),f=VE(e,n,u,i,l,!1,!1);u=u.merge({anchorOffset:c.getAnchorOffset(),focusOffset:f.getFocusOffset(),isBackward:!1})}else if(a){var p=VE(e,t,u,i,a,!1,!0);u=u.merge({anchorOffset:p.getStartOffset(),isBackward:!1})}else if(l){var g=VE(e,n,u,i,l,!1,!1);u=u.merge({focusOffset:g.getEndOffset(),isBackward:!1})}return u}function VE(e,t,n,r,i,o,s){var a=n.getStartOffset(),l=n.getEndOffset(),u=e.__get(i),c=u.getMutability(),f=s?a:l;if(c==="MUTABLE")return n;var p=$$t(t,i).filter(function(y){return f<=y.end&&f>=y.start});p.length!=1&&T$t(!1);var g=p[0];if(c==="IMMUTABLE")return n.merge({anchorOffset:g.start,focusOffset:g.end,isBackward:!1});o||(s?l=g.end:a=g.start);var v=P$t.getRemovalRange(a,l,t.getText().slice(g.start,g.end),g.start,r);return n.merge({anchorOffset:v.start,focusOffset:v.end,isBackward:!1})}var L$t=M$t,ode={},A$t=Math.pow(2,24);function I$t(){for(var e;e===void 0||ode.hasOwnProperty(e)||!isNaN(+e);)e=Math.floor(Math.random()*A$t).toString(32);return ode[e]=!0,e}var am=I$t,R$t=yf,g7e=am,D$t=ci,v7e=D$t.OrderedMap,O$t=function(t){var n={},r;return v7e(t.withMutations(function(i){i.forEach(function(o,s){var a=o.getKey(),l=o.getNextSiblingKey(),u=o.getPrevSiblingKey(),c=o.getChildKeys(),f=o.getParentKey(),p=g7e();if(n[a]=p,l){var g=i.get(l);g?i.setIn([l,"prevSibling"],p):i.setIn([a,"nextSibling"],null)}if(u){var v=i.get(u);v?i.setIn([u,"nextSibling"],p):i.setIn([a,"prevSibling"],null)}if(f&&i.get(f)){var y=i.get(f),S=y.getChildKeys();i.setIn([f,"children"],S.set(S.indexOf(o.getKey()),p))}else i.setIn([a,"parent"],null),r&&(i.setIn([r.getKey(),"nextSibling"],p),i.setIn([a,"prevSibling"],n[r.getKey()])),r=i.get(a);c.forEach(function(C){var _=i.get(C);_?i.setIn([C,"parent"],p):i.setIn([a,"children"],o.getChildKeys().filter(function(k){return k!==C}))})})}).toArray().map(function(i){return[n[i.getKey()],i.set("key",n[i.getKey()])]}))},j$t=function(t){return v7e(t.toArray().map(function(n){var r=g7e();return[r,n.set("key",r)]}))},N$t=function(t){var n=t.first()instanceof R$t;return n?O$t(t):j$t(t)},y7e=N$t,F$t=vf,B$t=w5,z$t=Si;function H$t(e,t){var n=e.getBlockMap(),r=e.getEntityMap(),i={},o=t.getStartKey(),s=t.getStartOffset(),a=n.get(o),l=sde(r,a,s);l!==a&&(i[o]=l);var u=t.getEndKey(),c=t.getEndOffset(),f=n.get(u);o===u&&(f=l);var p=sde(r,f,c);return p!==f&&(i[u]=p),Object.keys(i).length?e.merge({blockMap:n.merge(i),selectionAfter:t}):e.set("selectionAfter",t)}function V$t(e,t,n){var r;return B$t(e,function(i,o){return i.getEntity()===o.getEntity()},function(i){return i.getEntity()===t},function(i,o){i<=n&&o>=n&&(r={start:i,end:o})}),typeof r!="object"&&z$t(!1),r}function sde(e,t,n){var r=t.getCharacterList(),i=n>0?r.get(n-1):void 0,o=n<r.count()?r.get(n):void 0,s=i?i.getEntity():void 0,a=o?o.getEntity():void 0;if(a&&a===s){var l=e.__get(a);if(l.getMutability()!=="MUTABLE"){for(var u=V$t(r,a,n),c=u.start,f=u.end,p;c<f;)p=r.get(c),r=r.set(c,F$t.applyEntity(p,null)),c++;return t.set("characterList",r)}}return t}var b7e=H$t,U$t=y7e,W$t=b7e,K$t=function(t,n){var r=n.getStartKey(),i=n.getStartOffset(),o=n.getEndKey(),s=n.getEndOffset(),a=W$t(t,n),l=a.getBlockMap(),u=l.keySeq(),c=u.indexOf(r),f=u.indexOf(o)+1;return U$t(l.slice(c,f).map(function(p,g){var v=p.getText(),y=p.getCharacterList();return r===o?p.merge({text:v.slice(i,s),characterList:y.slice(i,s)}):g===r?p.merge({text:v.slice(i),characterList:y.slice(i)}):g===o?p.merge({text:v.slice(0,s),characterList:y.slice(0,s)}):p}))},a8=K$t;function q$t(e,t,n){var r=e;if(n===r.count())t.forEach(function(s){r=r.push(s)});else if(n===0)t.reverse().forEach(function(s){r=r.unshift(s)});else{var i=r.slice(0,n),o=r.slice(n);r=i.concat(t,o).toList()}return r}var w7e=q$t,G$t=b5,x7e=yf,Z$t=ci,Y$t=w7e,ade=Si,X$t=y7e,Q$t=Z$t.List,J$t=function(t,n,r,i,o,s){var a=arguments.length>6&&arguments[6]!==void 0?arguments[6]:"REPLACE_WITH_NEW_DATA",l=r.get(o),u=l.getText(),c=l.getCharacterList(),f=o,p=s+i.getText().length,g=null;switch(a){case"MERGE_OLD_DATA_TO_NEW_DATA":g=i.getData().merge(l.getData());break;case"REPLACE_WITH_NEW_DATA":g=i.getData();break}var v=l.getType();u&&v==="unstyled"&&(v=i.getType());var y=l.merge({text:u.slice(0,s)+i.getText()+u.slice(s),characterList:Y$t(c,i.getCharacterList(),s),type:v,data:g});return t.merge({blockMap:r.set(o,y),selectionBefore:n,selectionAfter:n.merge({anchorKey:f,anchorOffset:p,focusKey:f,focusOffset:p,isBackward:!1})})},eTt=function(t,n,r){var i=t.getText(),o=t.getCharacterList(),s=i.slice(0,n),a=o.slice(0,n),l=r.first();return t.merge({text:s+l.getText(),characterList:a.concat(l.getCharacterList()),type:s?t.getType():l.getType(),data:l.getData()})},tTt=function(t,n,r){var i=t.getText(),o=t.getCharacterList(),s=i.length,a=i.slice(n,s),l=o.slice(n,s),u=r.last();return u.merge({text:u.getText()+a,characterList:u.getCharacterList().concat(l),data:u.getData()})},nTt=function(t,n){var r=t.getKey(),i=t,o=[];for(n.get(r)&&o.push(r);i&&i.getNextSiblingKey();){var s=i.getNextSiblingKey();if(!s)break;o.push(s),i=n.get(s)}return o},rTt=function(t,n,r,i){return t.withMutations(function(o){var s=r.getKey(),a=i.getKey(),l=r.getNextSiblingKey(),u=r.getParentKey(),c=nTt(i,t),f=c[c.length-1];if(o.get(a)?(o.setIn([s,"nextSibling"],a),o.setIn([a,"prevSibling"],s)):(o.setIn([s,"nextSibling"],i.getNextSiblingKey()),o.setIn([i.getNextSiblingKey(),"prevSibling"],s)),o.setIn([f,"nextSibling"],l),l&&o.setIn([l,"prevSibling"],f),c.forEach(function(C){return o.setIn([C,"parent"],u)}),u){var p=t.get(u),g=p.getChildKeys(),v=g.indexOf(s),y=v+1,S=g.toArray();S.splice.apply(S,[y,0].concat(c)),o.setIn([u,"children"],Q$t(S))}})},iTt=function(t,n,r,i,o,s){var a=r.first()instanceof x7e,l=[],u=i.size,c=r.get(o),f=i.first(),p=i.last(),g=p.getLength(),v=p.getKey(),y=a&&(!c.getChildKeys().isEmpty()||!f.getChildKeys().isEmpty());r.forEach(function(C,_){if(_!==o){l.push(C);return}y?l.push(C):l.push(eTt(C,s,i)),i.slice(y?0:1,u-1).forEach(function(k){return l.push(k)}),l.push(tTt(C,s,i))});var S=G$t.createFromArray(l);return a&&(S=rTt(S,r,c,f)),t.merge({blockMap:S,selectionBefore:n,selectionAfter:n.merge({anchorKey:v,anchorOffset:g,focusKey:v,focusOffset:g,isBackward:!1})})},oTt=function(t,n,r){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"REPLACE_WITH_NEW_DATA";n.isCollapsed()||ade(!1);var o=t.getBlockMap(),s=X$t(r),a=n.getStartKey(),l=n.getStartOffset(),u=o.get(a);return u instanceof x7e&&(u.getChildKeys().isEmpty()||ade(!1)),s.size===1?J$t(t,n,o,s.first(),a,l,i):iTt(t,n,o,s,a,l)},sTt=oTt,aTt=ci,lTt=w7e,uTt=Si,cTt=aTt.Repeat;function dTt(e,t,n,r){t.isCollapsed()||uTt(!1);var i=null;if(n!=null&&(i=n.length),i==null||i===0)return e;var o=e.getBlockMap(),s=t.getStartKey(),a=t.getStartOffset(),l=o.get(s),u=l.getText(),c=l.merge({text:u.slice(0,a)+n+u.slice(a,l.getLength()),characterList:lTt(l.getCharacterList(),cTt(r,i).toList(),a)}),f=a+i;return e.merge({blockMap:o.set(s,c),selectionAfter:t.merge({anchorOffset:f,focusOffset:f})})}var fTt=dTt,hTt=ci,pTt=hTt.Map;function mTt(e,t,n){var r=t.getStartKey(),i=t.getEndKey(),o=e.getBlockMap(),s=o.toSeq().skipUntil(function(a,l){return l===r}).takeUntil(function(a,l){return l===i}).concat(pTt([[i,o.get(i)]])).map(n);return e.merge({blockMap:o.merge(s),selectionBefore:t,selectionAfter:t})}var S7e=mTt,gTt=yf,vTt=function(t,n){var r=t instanceof gTt;if(!r)return null;var i=t.getNextSiblingKey();if(i)return i;var o=t.getParentKey();if(!o)return null;for(var s=n.get(o);s&&!s.getNextSiblingKey();){var a=s.getParentKey();s=a?n.get(a):null}return s?s.getNextSiblingKey():null},_7e=vTt,yTt=yf,pG=_7e,C7e=ci;C7e.List;var lde=C7e.Map,Du=function(t,n,r){if(t){var i=n.get(t);i&&n.set(t,r(i))}},HD=function(t,n){var r=[];if(!t)return r;for(var i=n.get(t);i&&i.getParentKey();){var o=i.getParentKey();o&&r.push(o),i=o?n.get(o):null}return r},bTt=function(t,n){var r=[];if(!t)return r;for(var i=pG(t,n);i&&n.get(i);){var o=n.get(i);r.push(i),i=o.getParentKey()?pG(o,n):null}return r},vS=function(t,n,r){if(!t)return null;for(var i=r.get(t.getKey()).getNextSiblingKey();i&&!n.get(i);)i=r.get(i).getNextSiblingKey()||null;return i},yS=function(t,n,r){if(!t)return null;for(var i=r.get(t.getKey()).getPrevSiblingKey();i&&!n.get(i);)i=r.get(i).getPrevSiblingKey()||null;return i},wTt=function(t,n,r,i){return t.withMutations(function(o){if(Du(n.getKey(),o,function(c){return c.merge({nextSibling:vS(c,o,i),prevSibling:yS(c,o,i)})}),Du(r.getKey(),o,function(c){return c.merge({nextSibling:vS(c,o,i),prevSibling:yS(c,o,i)})}),HD(n.getKey(),i).forEach(function(c){return Du(c,o,function(f){return f.merge({children:f.getChildKeys().filter(function(p){return o.get(p)}),nextSibling:vS(f,o,i),prevSibling:yS(f,o,i)})})}),Du(n.getNextSiblingKey(),o,function(c){return c.merge({prevSibling:n.getPrevSiblingKey()})}),Du(n.getPrevSiblingKey(),o,function(c){return c.merge({nextSibling:vS(c,o,i)})}),Du(r.getNextSiblingKey(),o,function(c){return c.merge({prevSibling:yS(c,o,i)})}),Du(r.getPrevSiblingKey(),o,function(c){return c.merge({nextSibling:r.getNextSiblingKey()})}),HD(r.getKey(),i).forEach(function(c){Du(c,o,function(f){return f.merge({children:f.getChildKeys().filter(function(p){return o.get(p)}),nextSibling:vS(f,o,i),prevSibling:yS(f,o,i)})})}),bTt(r,i).forEach(function(c){return Du(c,o,function(f){return f.merge({nextSibling:vS(f,o,i),prevSibling:yS(f,o,i)})})}),t.get(n.getKey())==null&&t.get(r.getKey())!=null&&r.getParentKey()===n.getKey()&&r.getPrevSiblingKey()==null){var s=n.getPrevSiblingKey();Du(r.getKey(),o,function(c){return c.merge({prevSibling:s})}),Du(s,o,function(c){return c.merge({nextSibling:r.getKey()})});var a=s?t.get(s):null,l=a?a.getParentKey():null;if(n.getChildKeys().forEach(function(c){Du(c,o,function(f){return f.merge({parent:l})})}),l!=null){var u=t.get(l);Du(l,o,function(c){return c.merge({children:u.getChildKeys().concat(n.getChildKeys())})})}Du(n.getChildKeys().find(function(c){var f=t.get(c);return f.getNextSiblingKey()===null}),o,function(c){return c.merge({nextSibling:n.getNextSiblingKey()})})}})},xTt=function(t,n){if(n.isCollapsed())return t;var r=t.getBlockMap(),i=n.getStartKey(),o=n.getStartOffset(),s=n.getEndKey(),a=n.getEndOffset(),l=r.get(i),u=r.get(s),c=l instanceof yTt,f=[];if(c){var p=u.getChildKeys(),g=HD(s,r);u.getNextSiblingKey()&&(f=f.concat(g)),p.isEmpty()||(f=f.concat(g.concat([s]))),f=f.concat(HD(pG(u,r),r))}var v;l===u?v=STt(l.getCharacterList(),o,a):v=l.getCharacterList().slice(0,o).concat(u.getCharacterList().slice(a));var y=l.merge({text:l.getText().slice(0,o)+u.getText().slice(a),characterList:v}),S=c&&o===0&&a===0&&u.getParentKey()===i&&u.getPrevSiblingKey()==null,C=S?lde([[i,null]]):r.toSeq().skipUntil(function(k,w){return w===i}).takeUntil(function(k,w){return w===s}).filter(function(k,w){return f.indexOf(w)===-1}).concat(lde([[s,null]])).map(function(k,w){return w===i?y:null}),_=r.merge(C).filter(function(k){return!!k});return c&&l!==u&&(_=wTt(_,l,u,r)),t.merge({blockMap:_,selectionBefore:n,selectionAfter:n.merge({anchorKey:i,anchorOffset:o,focusKey:i,focusOffset:o,isBackward:!1})})},STt=function(t,n,r){if(n===0)for(;n<r;)t=t.shift(),n++;else if(r===t.count())for(;r>n;)t=t.pop(),r--;else{var i=t.slice(0,n),o=t.slice(r);t=i.concat(o).toList()}return t},_Tt=xTt,CTt=yf,ETt=am,E7e=ci,ude=Si,kTt=S7e,PTt=E7e.List,$Tt=E7e.Map,tL=function(t,n,r){if(t){var i=n.get(t);i&&n.set(t,r(i))}},TTt=function(t,n,r){return t.withMutations(function(i){var o=n.getKey(),s=r.getKey();tL(n.getParentKey(),i,function(a){var l=a.getChildKeys(),u=l.indexOf(o)+1,c=l.toArray();return c.splice(u,0,s),a.merge({children:PTt(c)})}),tL(n.getNextSiblingKey(),i,function(a){return a.merge({prevSibling:s})}),tL(o,i,function(a){return a.merge({nextSibling:s})}),tL(s,i,function(a){return a.merge({prevSibling:o})})})},MTt=function(t,n){n.isCollapsed()||ude(!1);var r=n.getAnchorKey(),i=t.getBlockMap(),o=i.get(r),s=o.getText();if(!s){var a=o.getType();if(a==="unordered-list-item"||a==="ordered-list-item")return kTt(t,n,function(C){return C.merge({type:"unstyled",depth:0})})}var l=n.getAnchorOffset(),u=o.getCharacterList(),c=ETt(),f=o instanceof CTt,p=o.merge({text:s.slice(0,l),characterList:u.slice(0,l)}),g=p.merge({key:c,text:s.slice(l),characterList:u.slice(l),data:$Tt()}),v=i.toSeq().takeUntil(function(C){return C===o}),y=i.toSeq().skipUntil(function(C){return C===o}).rest(),S=v.concat([[r,p],[c,g]],y).toOrderedMap();return f&&(o.getChildKeys().isEmpty()||ude(!1),S=TTt(S,p,g)),t.merge({blockMap:S,selectionBefore:n,selectionAfter:n.merge({anchorKey:c,anchorOffset:0,focusKey:c,focusOffset:0,isBackward:!1})})},LTt=MTt,ATt=vf,cde=h$t,ITt=w$t,RTt=L$t,DTt=a8,OTt=ci,jTt=sTt,NTt=fTt,FTt=Si,PB=S7e,UE=b7e,WE=_Tt,BTt=LTt,zTt=OTt.OrderedSet,mI={replaceText:function(t,n,r,i,o){var s=UE(t,n),a=WE(s,n),l=ATt.create({style:i||zTt(),entity:o||null});return NTt(a,a.getSelectionAfter(),r,l)},insertText:function(t,n,r,i,o){return n.isCollapsed()||FTt(!1),mI.replaceText(t,n,r,i,o)},moveText:function(t,n,r){var i=DTt(t,n),o=mI.removeRange(t,n,"backward");return mI.replaceWithFragment(o,r,i)},replaceWithFragment:function(t,n,r){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"REPLACE_WITH_NEW_DATA",o=UE(t,n),s=WE(o,n);return jTt(s,s.getSelectionAfter(),r,i)},removeRange:function(t,n,r){var i,o,s,a;n.getIsBackward()&&(n=n.merge({anchorKey:n.getFocusKey(),anchorOffset:n.getFocusOffset(),focusKey:n.getAnchorKey(),focusOffset:n.getAnchorOffset(),isBackward:!1})),i=n.getAnchorKey(),o=n.getFocusKey(),s=t.getBlockForKey(i),a=t.getBlockForKey(o);var l=n.getStartOffset(),u=n.getEndOffset(),c=s.getEntityAt(l),f=a.getEntityAt(u-1);if(i===o&&c&&c===f){var p=RTt(t.getEntityMap(),s,a,n,r);return WE(t,p)}var g=UE(t,n);return WE(g,n)},splitBlock:function(t,n){var r=UE(t,n),i=WE(r,n);return BTt(i,i.getSelectionAfter())},applyInlineStyle:function(t,n,r){return cde.add(t,n,r)},removeInlineStyle:function(t,n,r){return cde.remove(t,n,r)},setBlockType:function(t,n,r){return PB(t,n,function(i){return i.merge({type:r,depth:0})})},setBlockData:function(t,n,r){return PB(t,n,function(i){return i.merge({data:r})})},mergeBlockData:function(t,n,r){return PB(t,n,function(i){return i.merge({data:i.getData().merge(r)})})},applyEntity:function(t,n,r){var i=UE(t,n);return ITt(i,n,r)}},mc=mI;function HTt(e){return Object.keys(e).map(function(t){return e[t]})}var k7e=HTt;function VTt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){UTt(e,i,n[i])})}return e}function UTt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function WTt(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var P7e=w5,KTt=k7e,Uee=ci,NS=Uee.List,qTt=Uee.Repeat,$7e=Uee.Record,T7e=function(){return!0},GTt={start:null,end:null},mG=$7e(GTt),ZTt={start:null,end:null,decoratorKey:null,leaves:null},$B=$7e(ZTt),YTt={generate:function(t,n,r){var i=n.getLength();if(!i)return NS.of(new $B({start:0,end:0,decoratorKey:null,leaves:NS.of(new mG({start:0,end:0}))}));var o=[],s=r?r.getDecorations(n,t):NS(qTt(null,i)),a=n.getCharacterList();return P7e(s,M7e,T7e,function(l,u){o.push(new $B({start:l,end:u,decoratorKey:s.get(l),leaves:XTt(a.slice(l,u).toList(),l)}))}),NS(o)},fromJS:function(t){var n=t.leaves,r=WTt(t,["leaves"]);return new $B(VTt({},r,{leaves:n!=null?NS(Array.isArray(n)?n:KTt(n)).map(function(i){return mG(i)}):null}))}};function XTt(e,t){var n=[],r=e.map(function(i){return i.getStyle()}).toList();return P7e(r,M7e,T7e,function(i,o){n.push(new mG({start:i+t,end:o+t}))}),NS(n)}function M7e(e,t){return e===t}var QTt=YTt;function JTt(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var e5t=ci,t5t=e5t.Record,n5t=t5t({type:"TOKEN",mutability:"IMMUTABLE",data:Object}),r5t=function(e){JTt(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;return n.getType=function(){return this.get("type")},n.getMutability=function(){return this.get("mutability")},n.getData=function(){return this.get("data")},t}(n5t),L7e=r5t;function i5t(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,n=e=="x"?t:t&3|8;return n.toString(16)})}var o5t=i5t;function s5t(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){a5t(e,i,n[i])})}return e}function a5t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l5t=L7e,u5t=ci,c5t=Si,gG=o5t,d5t=u5t.Map,Sm=d5t(),KE=gG();function bS(e,t){console.warn("WARNING: "+e+` will be deprecated soon!
Please use "`+t+'" instead.')}var Uh={getLastCreatedEntityKey:function(){return bS("DraftEntity.getLastCreatedEntityKey","contentState.getLastCreatedEntityKey"),Uh.__getLastCreatedEntityKey()},create:function(t,n,r){return bS("DraftEntity.create","contentState.createEntity"),Uh.__create(t,n,r)},add:function(t){return bS("DraftEntity.add","contentState.addEntity"),Uh.__add(t)},get:function(t){return bS("DraftEntity.get","contentState.getEntity"),Uh.__get(t)},__getAll:function(){return Sm},__loadWithEntities:function(t){Sm=t,KE=gG()},mergeData:function(t,n){return bS("DraftEntity.mergeData","contentState.mergeEntityData"),Uh.__mergeData(t,n)},replaceData:function(t,n){return bS("DraftEntity.replaceData","contentState.replaceEntityData"),Uh.__replaceData(t,n)},__getLastCreatedEntityKey:function(){return KE},__create:function(t,n,r){return Uh.__add(new l5t({type:t,mutability:n,data:r||{}}))},__add:function(t){return KE=gG(),Sm=Sm.set(KE,t),KE},__get:function(t){var n=Sm.get(t);return n||c5t(!1),n},__mergeData:function(t,n){var r=Uh.__get(t),i=s5t({},r.getData(),n),o=r.set("data",i);return Sm=Sm.set(t,o),o},__replaceData:function(t,n){var r=Uh.__get(t),i=r.set("data",n);return Sm=Sm.set(t,i),i}},l8=Uh;function f5t(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var h5t=ci,p5t=h5t.Record,m5t={anchorKey:"",anchorOffset:0,focusKey:"",focusOffset:0,isBackward:!1,hasFocus:!1},g5t=p5t(m5t),v5t=function(e){f5t(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;return n.serialize=function(){return"Anchor: "+this.getAnchorKey()+":"+this.getAnchorOffset()+", Focus: "+this.getFocusKey()+":"+this.getFocusOffset()+", Is Backward: "+String(this.getIsBackward())+", Has Focus: "+String(this.getHasFocus())},n.getAnchorKey=function(){return this.get("anchorKey")},n.getAnchorOffset=function(){return this.get("anchorOffset")},n.getFocusKey=function(){return this.get("focusKey")},n.getFocusOffset=function(){return this.get("focusOffset")},n.getIsBackward=function(){return this.get("isBackward")},n.getHasFocus=function(){return this.get("hasFocus")},n.hasEdgeWithin=function(i,o,s){var a=this.getAnchorKey(),l=this.getFocusKey();if(a===l&&a===i){var u=this.getStartOffset(),c=this.getEndOffset();return o<=u&&u<=s||o<=c&&c<=s}if(i!==a&&i!==l)return!1;var f=i===a?this.getAnchorOffset():this.getFocusOffset();return o<=f&&s>=f},n.isCollapsed=function(){return this.getAnchorKey()===this.getFocusKey()&&this.getAnchorOffset()===this.getFocusOffset()},n.getStartKey=function(){return this.getIsBackward()?this.getFocusKey():this.getAnchorKey()},n.getStartOffset=function(){return this.getIsBackward()?this.getFocusOffset():this.getAnchorOffset()},n.getEndKey=function(){return this.getIsBackward()?this.getAnchorKey():this.getFocusKey()},n.getEndOffset=function(){return this.getIsBackward()?this.getAnchorOffset():this.getFocusOffset()},t.createEmpty=function(i){return new t({anchorKey:i,anchorOffset:0,focusKey:i,focusOffset:0,isBackward:!1,hasFocus:!1})},t}(g5t),u8=v5t,p1=function(e){return typeof window<"u"&&window.__DRAFT_GKX?!!window.__DRAFT_GKX[e]:!1},y5t=new RegExp("\r","g");function b5t(e){return e.replace(y5t,"")}var A7e=b5t;function dde(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){w5t(e,i,n[i])})}return e}function w5t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x5t(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var S5t=b5,fde=vf,_5t=Lx,C5t=yf,jh=l8,nL=u8,E5t=am,k5t=k7e,P5t=p1,_5=ci,$5t=A7e,hde=_5.List,T5t=_5.Record,M5t=_5.Repeat,L5t=_5.Map,A5t=_5.OrderedMap,I5t={entityMap:null,blockMap:null,selectionBefore:null,selectionAfter:null},R5t=T5t(I5t),pde=P5t("draft_tree_data_support")?C5t:_5t,D5t=function(e){x5t(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;return n.getEntityMap=function(){return jh},n.getBlockMap=function(){return this.get("blockMap")},n.getSelectionBefore=function(){return this.get("selectionBefore")},n.getSelectionAfter=function(){return this.get("selectionAfter")},n.getBlockForKey=function(i){var o=this.getBlockMap().get(i);return o},n.getKeyBefore=function(i){return this.getBlockMap().reverse().keySeq().skipUntil(function(o){return o===i}).skip(1).first()},n.getKeyAfter=function(i){return this.getBlockMap().keySeq().skipUntil(function(o){return o===i}).skip(1).first()},n.getBlockAfter=function(i){return this.getBlockMap().skipUntil(function(o,s){return s===i}).skip(1).first()},n.getBlockBefore=function(i){return this.getBlockMap().reverse().skipUntil(function(o,s){return s===i}).skip(1).first()},n.getBlocksAsArray=function(){return this.getBlockMap().toArray()},n.getFirstBlock=function(){return this.getBlockMap().first()},n.getLastBlock=function(){return this.getBlockMap().last()},n.getPlainText=function(i){return this.getBlockMap().map(function(o){return o?o.getText():""}).join(i||`
`)},n.getLastCreatedEntityKey=function(){return jh.__getLastCreatedEntityKey()},n.hasText=function(){var i=this.getBlockMap();return i.size>1||escape(i.first().getText()).replace(/%u200B/g,"").length>0},n.createEntity=function(i,o,s){return jh.__create(i,o,s),this},n.mergeEntityData=function(i,o){return jh.__mergeData(i,o),this},n.replaceEntityData=function(i,o){return jh.__replaceData(i,o),this},n.addEntity=function(i){return jh.__add(i),this},n.getEntity=function(i){return jh.__get(i)},n.getAllEntities=function(){return jh.__getAll()},n.loadWithEntities=function(i){return jh.__loadWithEntities(i)},t.createFromBlockArray=function(i,o){var s=Array.isArray(i)?i:i.contentBlocks,a=S5t.createFromArray(s),l=a.isEmpty()?new nL:nL.createEmpty(a.first().getKey());return new t({blockMap:a,entityMap:o||jh,selectionBefore:l,selectionAfter:l})},t.createFromText=function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:/\r\n?|\n/g,s=i.split(o),a=s.map(function(l){return l=$5t(l),new pde({key:E5t(),text:l,type:"unstyled",characterList:hde(M5t(fde.EMPTY,l.length))})});return t.createFromBlockArray(a)},t.fromJS=function(i){return new t(dde({},i,{blockMap:A5t(i.blockMap).map(t.createContentBlockFromJS),selectionBefore:new nL(i.selectionBefore),selectionAfter:new nL(i.selectionAfter)}))},t.createContentBlockFromJS=function(i){var o=i.characterList;return new pde(dde({},i,{data:L5t(i.data),characterList:o!=null?hde((Array.isArray(o)?o:k5t(o)).map(function(s){return fde.fromJS(s)})):void 0}))},t}(R5t),Wee=D5t,VD=Si,O5t="NEUTRAL",c8="LTR",I7e="RTL",gI=null;function UD(e){return e===c8||e===I7e}function R7e(e){return UD(e)||VD(!1),e===c8?"ltr":"rtl"}function j5t(e,t){return UD(e)||VD(!1),UD(t)||VD(!1),e===t?null:R7e(e)}function D7e(e){gI=e}function N5t(){D7e(c8)}function F5t(){return gI||this.initGlobalDir(),gI||VD(!1),gI}var B5t={NEUTRAL:O5t,LTR:c8,RTL:I7e,isStrong:UD,getHTMLDir:R7e,getHTMLDirIfDifferent:j5t,setGlobalDir:D7e,initGlobalDir:N5t,getGlobalDir:F5t},d8=B5t,kg=d8,z5t=Si,CP={L:"A-Za-z-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",R:"----------------------",AL:"------------------------------"},H5t=new RegExp("["+CP.L+CP.R+CP.AL+"]"),V5t=new RegExp("["+CP.R+CP.AL+"]");function O7e(e){var t=H5t.exec(e);return t==null?null:t[0]}function j7e(e){var t=O7e(e);return t==null?kg.NEUTRAL:V5t.exec(t)?kg.RTL:kg.LTR}function N7e(e,t){if(t=t||kg.NEUTRAL,!e.length)return t;var n=j7e(e);return n===kg.NEUTRAL?t:n}function Kee(e,t){return t||(t=kg.getGlobalDir()),kg.isStrong(t)||z5t(!1),N7e(e,t)}function U5t(e,t){return Kee(e,t)===kg.LTR}function W5t(e,t){return Kee(e,t)===kg.RTL}var K5t={firstStrongChar:O7e,firstStrongCharDir:j7e,resolveBlockDir:N7e,getDirection:Kee,isDirectionLTR:U5t,isDirectionRTL:W5t},qee=K5t;function mde(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var q5t=qee,gde=d8,G5t=Si,Z5t=function(){function e(n){mde(this,"_defaultDir",void 0),mde(this,"_lastDir",void 0),n?gde.isStrong(n)||G5t(!1):n=gde.getGlobalDir(),this._defaultDir=n,this.reset()}var t=e.prototype;return t.reset=function(){this._lastDir=this._defaultDir},t.getDirection=function(r){return this._lastDir=q5t.getDirection(r,this._lastDir),this._lastDir},e}(),Y5t=Z5t,X5t=function(t){if(t!=null)return t;throw new Error("Got unexpected null or undefined")},gc=X5t,Q5t=Y5t,F7e=ci,J5t=gc,e6t=F7e.OrderedMap,rL,t6t={getDirectionMap:function(t,n){rL?rL.reset():rL=new Q5t;var r=t.getBlockMap(),i=r.valueSeq().map(function(s){return J5t(rL).getDirection(s.getText())}),o=e6t(r.keySeq().zip(i));return n!=null&&F7e.is(n,o)?n:o}},n6t=t6t;function vde(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){B7e(e,i,n[i])})}return e}function B7e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f8=QTt,qE=Wee,iL=n6t,TB=u8,C5=ci,z7e=C5.OrderedSet,r6t=C5.Record,gb=C5.Stack,yde=C5.OrderedMap,i6t=C5.List,o6t={allowUndo:!0,currentContent:null,decorator:null,directionMap:null,forceSelection:!1,inCompositionMode:!1,inlineStyleOverride:null,lastChangeType:null,nativelyRenderedContent:null,redoStack:gb(),selection:null,treeMap:null,undoStack:gb()},bde=r6t(o6t),H7e=function(){t.createEmpty=function(r){return this.createWithText("",r)},t.createWithText=function(r,i){return t.createWithContent(qE.createFromText(r),i)},t.createWithContent=function(r,i){if(r.getBlockMap().count()===0)return t.createEmpty(i);var o=r.getBlockMap().first().getKey();return t.create({currentContent:r,undoStack:gb(),redoStack:gb(),decorator:i||null,selection:TB.createEmpty(o)})},t.create=function(r){var i=r.currentContent,o=r.decorator,s=vde({},r,{treeMap:xde(i,o),directionMap:iL.getDirectionMap(i)});return new t(new bde(s))},t.fromJS=function(r){return new t(new bde(vde({},r,{directionMap:r.directionMap!=null?yde(r.directionMap):r.directionMap,inlineStyleOverride:r.inlineStyleOverride!=null?z7e(r.inlineStyleOverride):r.inlineStyleOverride,nativelyRenderedContent:r.nativelyRenderedContent!=null?qE.fromJS(r.nativelyRenderedContent):r.nativelyRenderedContent,redoStack:r.redoStack!=null?gb(r.redoStack.map(function(i){return qE.fromJS(i)})):r.redoStack,selection:r.selection!=null?new TB(r.selection):r.selection,treeMap:r.treeMap!=null?yde(r.treeMap).map(function(i){return i6t(i).map(function(o){return f8.fromJS(o)})}):r.treeMap,undoStack:r.undoStack!=null?gb(r.undoStack.map(function(i){return qE.fromJS(i)})):r.undoStack,currentContent:qE.fromJS(r.currentContent)})))},t.set=function(r,i){var o=r.getImmutable().withMutations(function(s){var a=s.get("decorator"),l=a;i.decorator===null?l=null:i.decorator&&(l=i.decorator);var u=i.currentContent||r.getCurrentContent();if(l!==a){var c=s.get("treeMap"),f;l&&a?f=a6t(u,u.getBlockMap(),c,l,a):f=xde(u,l),s.merge({decorator:l,treeMap:f,nativelyRenderedContent:null});return}var p=r.getCurrentContent();u!==p&&s.set("treeMap",s6t(r,u.getBlockMap(),u.getEntityMap(),l)),s.merge(i)});return new t(o)};var e=t.prototype;e.toJS=function(){return this.getImmutable().toJS()},e.getAllowUndo=function(){return this.getImmutable().get("allowUndo")},e.getCurrentContent=function(){return this.getImmutable().get("currentContent")},e.getUndoStack=function(){return this.getImmutable().get("undoStack")},e.getRedoStack=function(){return this.getImmutable().get("redoStack")},e.getSelection=function(){return this.getImmutable().get("selection")},e.getDecorator=function(){return this.getImmutable().get("decorator")},e.isInCompositionMode=function(){return this.getImmutable().get("inCompositionMode")},e.mustForceSelection=function(){return this.getImmutable().get("forceSelection")},e.getNativelyRenderedContent=function(){return this.getImmutable().get("nativelyRenderedContent")},e.getLastChangeType=function(){return this.getImmutable().get("lastChangeType")},e.getInlineStyleOverride=function(){return this.getImmutable().get("inlineStyleOverride")},t.setInlineStyleOverride=function(r,i){return t.set(r,{inlineStyleOverride:i})},e.getCurrentInlineStyle=function(){var r=this.getInlineStyleOverride();if(r!=null)return r;var i=this.getCurrentContent(),o=this.getSelection();return o.isCollapsed()?u6t(i,o):c6t(i,o)},e.getBlockTree=function(r){return this.getImmutable().getIn(["treeMap",r])},e.isSelectionAtStartOfContent=function(){var r=this.getCurrentContent().getBlockMap().first().getKey();return this.getSelection().hasEdgeWithin(r,0,0)},e.isSelectionAtEndOfContent=function(){var r=this.getCurrentContent(),i=r.getBlockMap(),o=i.last(),s=o.getLength();return this.getSelection().hasEdgeWithin(o.getKey(),s,s)},e.getDirectionMap=function(){return this.getImmutable().get("directionMap")},t.acceptSelection=function(r,i){return wde(r,i,!1)},t.forceSelection=function(r,i){return i.getHasFocus()||(i=i.set("hasFocus",!0)),wde(r,i,!0)},t.moveSelectionToEnd=function(r){var i=r.getCurrentContent(),o=i.getLastBlock(),s=o.getKey(),a=o.getLength();return t.acceptSelection(r,new TB({anchorKey:s,anchorOffset:a,focusKey:s,focusOffset:a,isBackward:!1}))},t.moveFocusToEnd=function(r){var i=t.moveSelectionToEnd(r);return t.forceSelection(i,i.getSelection())},t.push=function(r,i,o){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;if(r.getCurrentContent()===i)return r;var a=iL.getDirectionMap(i,r.getDirectionMap());if(!r.getAllowUndo())return t.set(r,{currentContent:i,directionMap:a,lastChangeType:o,selection:i.getSelectionAfter(),forceSelection:s,inlineStyleOverride:null});var l=r.getSelection(),u=r.getCurrentContent(),c=r.getUndoStack(),f=i;l!==u.getSelectionAfter()||l6t(r,o)?(c=c.push(u),f=f.set("selectionBefore",l)):(o==="insert-characters"||o==="backspace-character"||o==="delete-character")&&(f=f.set("selectionBefore",u.getSelectionBefore()));var p=r.getInlineStyleOverride(),g=["adjust-depth","change-block-type","split-block"];g.indexOf(o)===-1&&(p=null);var v={currentContent:f,directionMap:a,undoStack:c,redoStack:gb(),lastChangeType:o,selection:i.getSelectionAfter(),forceSelection:s,inlineStyleOverride:p};return t.set(r,v)},t.undo=function(r){if(!r.getAllowUndo())return r;var i=r.getUndoStack(),o=i.peek();if(!o)return r;var s=r.getCurrentContent(),a=iL.getDirectionMap(o,r.getDirectionMap());return t.set(r,{currentContent:o,directionMap:a,undoStack:i.shift(),redoStack:r.getRedoStack().push(s),forceSelection:!0,inlineStyleOverride:null,lastChangeType:"undo",nativelyRenderedContent:null,selection:s.getSelectionBefore()})},t.redo=function(r){if(!r.getAllowUndo())return r;var i=r.getRedoStack(),o=i.peek();if(!o)return r;var s=r.getCurrentContent(),a=iL.getDirectionMap(o,r.getDirectionMap());return t.set(r,{currentContent:o,directionMap:a,undoStack:r.getUndoStack().push(s),redoStack:i.shift(),forceSelection:!0,inlineStyleOverride:null,lastChangeType:"redo",nativelyRenderedContent:null,selection:o.getSelectionAfter()})};function t(n){B7e(this,"_immutable",void 0),this._immutable=n}return e.getImmutable=function(){return this._immutable},t}();function wde(e,t,n){return H7e.set(e,{selection:t,forceSelection:n,nativelyRenderedContent:null,inlineStyleOverride:null})}function xde(e,t){return e.getBlockMap().map(function(n){return f8.generate(e,n,t)}).toOrderedMap()}function s6t(e,t,n,r){var i=e.getCurrentContent().set("entityMap",n),o=i.getBlockMap(),s=e.getImmutable().get("treeMap");return s.merge(t.toSeq().filter(function(a,l){return a!==o.get(l)}).map(function(a){return f8.generate(i,a,r)}))}function a6t(e,t,n,r,i){return n.merge(t.toSeq().filter(function(o){return r.getDecorations(o,e)!==i.getDecorations(o,e)}).map(function(o){return f8.generate(e,o,r)}))}function l6t(e,t){var n=e.getLastChangeType();return t!==n||t!=="insert-characters"&&t!=="backspace-character"&&t!=="delete-character"}function u6t(e,t){var n=t.getStartKey(),r=t.getStartOffset(),i=e.getBlockForKey(n);return r>0?i.getInlineStyleAt(r-1):i.getLength()?i.getInlineStyleAt(0):V7e(e,n)}function c6t(e,t){var n=t.getStartKey(),r=t.getStartOffset(),i=e.getBlockForKey(n);return r<i.getLength()?i.getInlineStyleAt(r):r>0?i.getInlineStyleAt(r-1):V7e(e,n)}function V7e(e,t){var n=e.getBlockMap().reverse().skipUntil(function(r,i){return i===t}).skip(1).skipUntil(function(r,i){return r.getLength()}).first();return n?n.getInlineStyleAt(n.getLength()-1):z7e()}var io=H7e,d6t=yf,f6t=_7e,U7e=ci,oL=Si,h6t=U7e.OrderedMap,p6t=U7e.List,N1=function(t,n,r){if(t){var i=n.get(t);i&&n.set(t,r(i))}},m6t=function(t,n,r,i,o){if(!o)return t;var s=i==="after",a=n.getKey(),l=r.getKey(),u=n.getParentKey(),c=n.getNextSiblingKey(),f=n.getPrevSiblingKey(),p=r.getParentKey(),g=s?r.getNextSiblingKey():l,v=s?l:r.getPrevSiblingKey();return t.withMutations(function(y){N1(u,y,function(S){var C=S.getChildKeys();return S.merge({children:C.delete(C.indexOf(a))})}),N1(f,y,function(S){return S.merge({nextSibling:c})}),N1(c,y,function(S){return S.merge({prevSibling:f})}),N1(g,y,function(S){return S.merge({prevSibling:a})}),N1(v,y,function(S){return S.merge({nextSibling:a})}),N1(p,y,function(S){var C=S.getChildKeys(),_=C.indexOf(l),k=s?_+1:_!==0?_-1:0,w=C.toArray();return w.splice(k,0,a),S.merge({children:p6t(w)})}),N1(a,y,function(S){return S.merge({nextSibling:g,prevSibling:v,parent:p})})})},g6t=function(t,n,r,i){i==="replace"&&oL(!1);var o=r.getKey(),s=n.getKey();s===o&&oL(!1);var a=t.getBlockMap(),l=n instanceof d6t,u=[n],c=a.delete(s);l&&(u=[],c=a.withMutations(function(C){var _=n.getNextSiblingKey(),k=f6t(n,C);C.toSeq().skipUntil(function(w){return w.getKey()===s}).takeWhile(function(w){var P=w.getKey(),M=P===s,R=_&&P!==_,D=!_&&w.getParentKey()&&(!k||P!==k);return!!(M||R||D)}).forEach(function(w){u.push(w),C.delete(w.getKey())})}));var f=c.toSeq().takeUntil(function(C){return C===r}),p=c.toSeq().skipUntil(function(C){return C===r}).skip(1),g=u.map(function(C){return[C.getKey(),C]}),v=h6t();if(i==="before"){var y=t.getBlockBefore(o);!y||y.getKey()!==n.getKey()||oL(!1),v=f.concat([].concat(g,[[o,r]]),p).toOrderedMap()}else if(i==="after"){var S=t.getBlockAfter(o);!S||S.getKey()!==s||oL(!1),v=f.concat([[o,r]].concat(g),p).toOrderedMap()}return t.merge({blockMap:m6t(v,n,r,i,l),selectionBefore:t.getSelectionAfter(),selectionAfter:t.getSelectionAfter().merge({anchorKey:s,focusKey:s})})},v6t=g6t;function Sde(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){y6t(e,i,n[i])})}return e}function y6t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b6t=b5,w6t=vf,x6t=Lx,S6t=yf,wS=mc,_de=io,Cde=am,_6t=p1,W7e=ci,sL=v6t,K7e=_6t("draft_tree_data_support"),Ede=K7e?S6t:x6t,C6t=W7e.List,E6t=W7e.Repeat,k6t={insertAtomicBlock:function(t,n,r){var i=t.getCurrentContent(),o=t.getSelection(),s=wS.removeRange(i,o,"backward"),a=s.getSelectionAfter(),l=wS.splitBlock(s,a),u=l.getSelectionAfter(),c=wS.setBlockType(l,u,"atomic"),f=w6t.create({entity:n}),p={key:Cde(),type:"atomic",text:r,characterList:C6t(E6t(f,r.length))},g={key:Cde(),type:"unstyled"};K7e&&(p=Sde({},p,{nextSibling:g.key}),g=Sde({},g,{prevSibling:p.key}));var v=[new Ede(p),new Ede(g)],y=b6t.createFromArray(v),S=wS.replaceWithFragment(c,u,y),C=S.merge({selectionBefore:o,selectionAfter:S.getSelectionAfter().set("hasFocus",!0)});return _de.push(t,C,"insert-fragment")},moveAtomicBlock:function(t,n,r,i){var o=t.getCurrentContent(),s=t.getSelection(),a;if(i==="before"||i==="after"){var l=o.getBlockForKey(i==="before"?r.getStartKey():r.getEndKey());a=sL(o,n,l,i)}else{var u=wS.removeRange(o,r,"backward"),c=u.getSelectionAfter(),f=u.getBlockForKey(c.getFocusKey());if(c.getStartOffset()===0)a=sL(u,n,f,"before");else if(c.getEndOffset()===f.getLength())a=sL(u,n,f,"after");else{var p=wS.splitBlock(u,c),g=p.getSelectionAfter(),v=p.getBlockForKey(g.getFocusKey());a=sL(p,n,v,"before")}}var y=a.merge({selectionBefore:s,selectionAfter:a.getSelectionAfter().set("hasFocus",!0)});return _de.push(t,y,"move-block")}},P6t=k6t;function $6t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var T6t=ci,M6t=T6t.List,MB=".",L6t=function(){function e(n){$6t(this,"_decorators",void 0),this._decorators=n.slice()}var t=e.prototype;return t.getDecorations=function(r,i){var o=Array(r.getText().length).fill(null);return this._decorators.forEach(function(s,a){var l=0,u=s.strategy,c=function(p,g){A6t(o,p,g)&&(I6t(o,p,g,a+MB+l),l++)};u(r,c,i)}),M6t(o)},t.getComponentForKey=function(r){var i=parseInt(r.split(MB)[0],10);return this._decorators[i].component},t.getPropsForKey=function(r){var i=parseInt(r.split(MB)[0],10);return this._decorators[i].props},e}();function A6t(e,t,n){for(var r=t;r<n;r++)if(e[r]!=null)return!1;return!0}function I6t(e,t,n,r){for(var i=t;i<n;i++)e[i]=r}var R6t=L6t;function D6t(e){return typeof e=="object"?Object.keys(e).filter(function(t){return e[t]}).map(kde).join(" "):Array.prototype.map.call(arguments,kde).join(" ")}function kde(e){return e.replace(/\//g,"-")}var Ax=D6t,Gee=h,Zee=Ax,O6t=ci,j6t=O6t.Map,N6t=Gee.createElement("ul",{className:Zee("public/DraftStyleDefault/ul")}),F6t=Gee.createElement("ol",{className:Zee("public/DraftStyleDefault/ol")}),B6t=Gee.createElement("pre",{className:Zee("public/DraftStyleDefault/pre")}),z6t=j6t({"header-one":{element:"h1"},"header-two":{element:"h2"},"header-three":{element:"h3"},"header-four":{element:"h4"},"header-five":{element:"h5"},"header-six":{element:"h6"},section:{element:"section"},article:{element:"article"},"unordered-list-item":{element:"li",wrapper:N6t},"ordered-list-item":{element:"li",wrapper:F6t},blockquote:{element:"blockquote"},atomic:{element:"figure"},"code-block":{element:"pre",wrapper:B6t},unstyled:{element:"div",aliasedElements:["p"]}}),Yee=z6t,q7e={BOLD:{fontWeight:"bold"},CODE:{fontFamily:"monospace",wordWrap:"break-word"},ITALIC:{fontStyle:"italic"},STRIKETHROUGH:{textDecoration:"line-through"},UNDERLINE:{textDecoration:"underline"}};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var Pde=Object.getOwnPropertySymbols,H6t=Object.prototype.hasOwnProperty,V6t=Object.prototype.propertyIsEnumerable;function U6t(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function W6t(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(o){return t[o]});if(r.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(o){i[o]=o}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var Ix=W6t()?Object.assign:function(e,t){for(var n,r=U6t(e),i,o=1;o<arguments.length;o++){n=Object(arguments[o]);for(var s in n)H6t.call(n,s)&&(r[s]=n[s]);if(Pde){i=Pde(n);for(var a=0;a<i.length;a++)V6t.call(n,i[a])&&(r[i[a]]=n[i[a]])}}return r},vG={exports:{}};(function(e,t){(function(n,r){var i="0.7.40",o="",s="?",a="function",l="undefined",u="object",c="string",f="major",p="model",g="name",v="type",y="vendor",S="version",C="architecture",_="console",k="mobile",w="tablet",P="smarttv",M="wearable",R="embedded",D=500,H="Amazon",O="Apple",z="ASUS",G="BlackBerry",ee="Browser",X="Chrome",se="Edge",B="Firefox",q="Google",U="Huawei",K="LG",J="Microsoft",oe="Motorola",he="Opera",me="Samsung",re="Sharp",ue="Sony",ce="Xiaomi",we="Zebra",Me="Facebook",Be="Chromium OS",ge="Mac OS",ye=" Browser",_e=function(Ce,ze){var Ne={};for(var ct in Ce)ze[ct]&&ze[ct].length%2===0?Ne[ct]=ze[ct].concat(Ce[ct]):Ne[ct]=Ce[ct];return Ne},$e=function(Ce){for(var ze={},Ne=0;Ne<Ce.length;Ne++)ze[Ce[Ne].toUpperCase()]=Ce[Ne];return ze},He=function(Ce,ze){return typeof Ce===c?Ve(ze).indexOf(Ve(Ce))!==-1:!1},Ve=function(Ce){return Ce.toLowerCase()},ot=function(Ce){return typeof Ce===c?Ce.replace(/[^\d\.]/g,o).split(".")[0]:r},kt=function(Ce,ze){if(typeof Ce===c)return Ce=Ce.replace(/^\s\s*/,o),typeof ze===l?Ce:Ce.substring(0,D)},gt=function(Ce,ze){for(var Ne=0,ct,Ct,Et,Ie,Ae,dt;Ne<ze.length&&!Ae;){var it=ze[Ne],ut=ze[Ne+1];for(ct=Ct=0;ct<it.length&&!Ae&&it[ct];)if(Ae=it[ct++].exec(Ce),Ae)for(Et=0;Et<ut.length;Et++)dt=Ae[++Ct],Ie=ut[Et],typeof Ie===u&&Ie.length>0?Ie.length===2?typeof Ie[1]==a?this[Ie[0]]=Ie[1].call(this,dt):this[Ie[0]]=Ie[1]:Ie.length===3?typeof Ie[1]===a&&!(Ie[1].exec&&Ie[1].test)?this[Ie[0]]=dt?Ie[1].call(this,dt,Ie[2]):r:this[Ie[0]]=dt?dt.replace(Ie[1],Ie[2]):r:Ie.length===4&&(this[Ie[0]]=dt?Ie[3].call(this,dt.replace(Ie[1],Ie[2])):r):this[Ie]=dt||r;Ne+=2}},rn=function(Ce,ze){for(var Ne in ze)if(typeof ze[Ne]===u&&ze[Ne].length>0){for(var ct=0;ct<ze[Ne].length;ct++)if(He(ze[Ne][ct],Ce))return Ne===s?r:Ne}else if(He(ze[Ne],Ce))return Ne===s?r:Ne;return ze.hasOwnProperty("*")?ze["*"]:Ce},Yt={"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},Bt={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},dn={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[S,[g,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[S,[g,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[g,S],[/opios[\/ ]+([\w\.]+)/i],[S,[g,he+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[S,[g,he+" GX"]],[/\bopr\/([\w\.]+)/i],[S,[g,he]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[S,[g,"Baidu"]],[/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i],[S,[g,"Maxthon"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon)\/([-\w\.]+)/i,/(heytap|ovi|115)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[g,S],[/quark(?:pc)?\/([-\w\.]+)/i],[S,[g,"Quark"]],[/\bddg\/([\w\.]+)/i],[S,[g,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[S,[g,"UC"+ee]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[S,[g,"WeChat"]],[/konqueror\/([\w\.]+)/i],[S,[g,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[S,[g,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[S,[g,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[S,[g,"Smart Lenovo "+ee]],[/(avast|avg)\/([\w\.]+)/i],[[g,/(.+)/,"$1 Secure "+ee],S],[/\bfocus\/([\w\.]+)/i],[S,[g,B+" Focus"]],[/\bopt\/([\w\.]+)/i],[S,[g,he+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[S,[g,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[S,[g,"Dolphin"]],[/coast\/([\w\.]+)/i],[S,[g,he+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[S,[g,"MIUI"+ye]],[/fxios\/([\w\.-]+)/i],[S,[g,B]],[/\bqihoobrowser\/?([\w\.]*)/i],[S,[g,"360"]],[/\b(qq)\/([\w\.]+)/i],[[g,/(.+)/,"$1Browser"],S],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[g,/(.+)/,"$1"+ye],S],[/samsungbrowser\/([\w\.]+)/i],[S,[g,me+" Internet"]],[/metasr[\/ ]?([\d\.]+)/i],[S,[g,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[g,"Sogou Mobile"],S],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i],[g,S],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[g],[/ome\/([\w\.]+) \w* ?(iron) saf/i,/ome\/([\w\.]+).+qihu (360)[es]e/i],[S,g],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[g,Me],S],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[g,S],[/\bgsa\/([\w\.]+) .*safari\//i],[S,[g,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[S,[g,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[S,[g,X+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[g,X+" WebView"],S],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[S,[g,"Android "+ee]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[g,S],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[S,[g,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[S,g],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[g,[S,rn,Yt]],[/(webkit|khtml)\/([\w\.]+)/i],[g,S],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[g,"Netscape"],S],[/(wolvic|librewolf)\/([\w\.]+)/i],[g,S],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[S,[g,B+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[g,[S,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[g,[S,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[C,"amd64"]],[/(ia32(?=;))/i],[[C,Ve]],[/((?:i[346]|x)86)[;\)]/i],[[C,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[C,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[C,"armhf"]],[/windows (ce|mobile); ppc;/i],[[C,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[C,/ower/,o,Ve]],[/(sun4\w)[;\)]/i],[[C,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[C,Ve]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[p,[y,me],[v,w]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[p,[y,me],[v,k]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[p,[y,O],[v,k]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[p,[y,O],[v,w]],[/(macintosh);/i],[p,[y,O]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[p,[y,re],[v,k]],[/(?:honor)([-\w ]+)[;\)]/i],[p,[y,"Honor"],[v,k]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[p,[y,U],[v,w]],[/(?:huawei)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[p,[y,U],[v,k]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i],[[p,/_/g," "],[y,ce],[v,k]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[p,/_/g," "],[y,ce],[v,w]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[p,[y,"OPPO"],[v,k]],[/\b(opd2\d{3}a?) bui/i],[p,[y,"OPPO"],[v,w]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[p,[y,"Vivo"],[v,k]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[p,[y,"Realme"],[v,k]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[p,[y,oe],[v,k]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[p,[y,oe],[v,w]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[p,[y,K],[v,w]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[p,[y,K],[v,k]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[p,[y,"Lenovo"],[v,w]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[p,/_/g," "],[y,"Nokia"],[v,k]],[/(pixel c)\b/i],[p,[y,q],[v,w]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[p,[y,q],[v,k]],[/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[p,[y,ue],[v,k]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[p,"Xperia Tablet"],[y,ue],[v,w]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[p,[y,"OnePlus"],[v,k]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[p,[y,H],[v,w]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[p,/(.+)/g,"Fire Phone $1"],[y,H],[v,k]],[/(playbook);[-\w\),; ]+(rim)/i],[p,y,[v,w]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[p,[y,G],[v,k]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[p,[y,z],[v,w]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[p,[y,z],[v,k]],[/(nexus 9)/i],[p,[y,"HTC"],[v,w]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[y,[p,/_/g," "],[v,k]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[p,[y,"TCL"],[v,w]],[/(itel) ((\w+))/i],[[y,Ve],p,[v,rn,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[p,[y,"Acer"],[v,w]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[p,[y,"Meizu"],[v,k]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[p,[y,"Ulefone"],[v,k]],[/; (energy ?\w+)(?: bui|\))/i,/; energizer ([\w ]+)(?: bui|\))/i],[p,[y,"Energizer"],[v,k]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i],[p,[y,"Cat"],[v,k]],[/((?:new )?andromax[\w- ]+)(?: bui|\))/i],[p,[y,"Smartfren"],[v,k]],[/droid.+; (a(?:015|06[35]|142p?))/i],[p,[y,"Nothing"],[v,k]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\w]*)/i,/; (imo) ((?!tab)[\w ]+?)(?: bui|\))/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[y,p,[v,k]],[/(imo) (tab \w+)/i,/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[y,p,[v,w]],[/(surface duo)/i],[p,[y,J],[v,w]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[p,[y,"Fairphone"],[v,k]],[/(u304aa)/i],[p,[y,"AT&T"],[v,k]],[/\bsie-(\w*)/i],[p,[y,"Siemens"],[v,k]],[/\b(rct\w+) b/i],[p,[y,"RCA"],[v,w]],[/\b(venue[\d ]{2,7}) b/i],[p,[y,"Dell"],[v,w]],[/\b(q(?:mv|ta)\w+) b/i],[p,[y,"Verizon"],[v,w]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[p,[y,"Barnes & Noble"],[v,w]],[/\b(tm\d{3}\w+) b/i],[p,[y,"NuVision"],[v,w]],[/\b(k88) b/i],[p,[y,"ZTE"],[v,w]],[/\b(nx\d{3}j) b/i],[p,[y,"ZTE"],[v,k]],[/\b(gen\d{3}) b.+49h/i],[p,[y,"Swiss"],[v,k]],[/\b(zur\d{3}) b/i],[p,[y,"Swiss"],[v,w]],[/\b((zeki)?tb.*\b) b/i],[p,[y,"Zeki"],[v,w]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[y,"Dragon Touch"],p,[v,w]],[/\b(ns-?\w{0,9}) b/i],[p,[y,"Insignia"],[v,w]],[/\b((nxa|next)-?\w{0,9}) b/i],[p,[y,"NextBook"],[v,w]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[y,"Voice"],p,[v,k]],[/\b(lvtel\-)?(v1[12]) b/i],[[y,"LvTel"],p,[v,k]],[/\b(ph-1) /i],[p,[y,"Essential"],[v,k]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[p,[y,"Envizen"],[v,w]],[/\b(trio[-\w\. ]+) b/i],[p,[y,"MachSpeed"],[v,w]],[/\btu_(1491) b/i],[p,[y,"Rotor"],[v,w]],[/(shield[\w ]+) b/i],[p,[y,"Nvidia"],[v,w]],[/(sprint) (\w+)/i],[y,p,[v,k]],[/(kin\.[onetw]{3})/i],[[p,/\./g," "],[y,J],[v,k]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[p,[y,we],[v,w]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[p,[y,we],[v,k]],[/smart-tv.+(samsung)/i],[y,[v,P]],[/hbbtv.+maple;(\d+)/i],[[p,/^/,"SmartTV"],[y,me],[v,P]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[y,K],[v,P]],[/(apple) ?tv/i],[y,[p,O+" TV"],[v,P]],[/crkey/i],[[p,X+"cast"],[y,q],[v,P]],[/droid.+aft(\w+)( bui|\))/i],[p,[y,H],[v,P]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[p,[y,re],[v,P]],[/(bravia[\w ]+)( bui|\))/i],[p,[y,ue],[v,P]],[/(mitv-\w{5}) bui/i],[p,[y,ce],[v,P]],[/Hbbtv.*(technisat) (.*);/i],[y,p,[v,P]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[y,kt],[p,kt],[v,P]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[v,P]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[y,p,[v,_]],[/droid.+; (shield) bui/i],[p,[y,"Nvidia"],[v,_]],[/(playstation [345portablevi]+)/i],[p,[y,ue],[v,_]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[p,[y,J],[v,_]],[/\b(sm-[lr]\d\d[05][fnuw]?s?)\b/i],[p,[y,me],[v,M]],[/((pebble))app/i],[y,p,[v,M]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[p,[y,O],[v,M]],[/droid.+; (glass) \d/i],[p,[y,q],[v,M]],[/droid.+; (wt63?0{2,3})\)/i],[p,[y,we],[v,M]],[/droid.+; (glass) \d/i],[p,[y,q],[v,M]],[/(pico) (4|neo3(?: link|pro)?)/i],[y,p,[v,M]],[/; (quest( \d| pro)?)/i],[p,[y,Me],[v,M]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[y,[v,R]],[/(aeobc)\b/i],[p,[y,H],[v,R]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[p,[v,k]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[p,[v,w]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[v,w]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[v,k]],[/(android[-\w\. ]{0,9});.+buil/i],[p,[y,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[S,[g,se+"HTML"]],[/(arkweb)\/([\w\.]+)/i],[g,S],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[S,[g,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[g,S],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[S,g]],os:[[/microsoft (windows) (vista|xp)/i],[g,S],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[g,[S,rn,Bt]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[S,rn,Bt],[g,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[S,/_/g,"."],[g,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[g,ge],[S,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[S,g],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish|openharmony)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[g,S],[/\(bb(10);/i],[S,[g,G]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[S,[g,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[S,[g,B+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[S,[g,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[S,[g,"watchOS"]],[/crkey\/([\d\.]+)/i],[S,[g,X+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[g,Be],S],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[g,S],[/(sunos) ?([\w\.\d]*)/i],[[g,"Solaris"],S],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[g,S]]},Ft=function(Ce,ze){if(typeof Ce===u&&(ze=Ce,Ce=r),!(this instanceof Ft))return new Ft(Ce,ze).getResult();var Ne=typeof n!==l&&n.navigator?n.navigator:r,ct=Ce||(Ne&&Ne.userAgent?Ne.userAgent:o),Ct=Ne&&Ne.userAgentData?Ne.userAgentData:r,Et=ze?_e(dn,ze):dn,Ie=Ne&&Ne.userAgent==ct;return this.getBrowser=function(){var Ae={};return Ae[g]=r,Ae[S]=r,gt.call(Ae,ct,Et.browser),Ae[f]=ot(Ae[S]),Ie&&Ne&&Ne.brave&&typeof Ne.brave.isBrave==a&&(Ae[g]="Brave"),Ae},this.getCPU=function(){var Ae={};return Ae[C]=r,gt.call(Ae,ct,Et.cpu),Ae},this.getDevice=function(){var Ae={};return Ae[y]=r,Ae[p]=r,Ae[v]=r,gt.call(Ae,ct,Et.device),Ie&&!Ae[v]&&Ct&&Ct.mobile&&(Ae[v]=k),Ie&&Ae[p]=="Macintosh"&&Ne&&typeof Ne.standalone!==l&&Ne.maxTouchPoints&&Ne.maxTouchPoints>2&&(Ae[p]="iPad",Ae[v]=w),Ae},this.getEngine=function(){var Ae={};return Ae[g]=r,Ae[S]=r,gt.call(Ae,ct,Et.engine),Ae},this.getOS=function(){var Ae={};return Ae[g]=r,Ae[S]=r,gt.call(Ae,ct,Et.os),Ie&&!Ae[g]&&Ct&&Ct.platform&&Ct.platform!="Unknown"&&(Ae[g]=Ct.platform.replace(/chrome os/i,Be).replace(/macos/i,ge)),Ae},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return ct},this.setUA=function(Ae){return ct=typeof Ae===c&&Ae.length>D?kt(Ae,D):Ae,this},this.setUA(ct),this};Ft.VERSION=i,Ft.BROWSER=$e([g,S,f]),Ft.CPU=$e([C]),Ft.DEVICE=$e([p,y,v,_,k,P,w,M,R]),Ft.ENGINE=Ft.OS=$e([g,S]),e.exports&&(t=e.exports=Ft),t.UAParser=Ft;var Xt=typeof n!==l&&(n.jQuery||n.Zepto);if(Xt&&!Xt.ua){var Qe=new Ft;Xt.ua=Qe.getResult(),Xt.ua.get=function(){return Qe.getUA()},Xt.ua.set=function(Ce){Qe.setUA(Ce);var ze=Qe.getResult();for(var Ne in ze)Xt.ua[Ne]=ze[Ne]}}})(typeof window=="object"?window:dg)})(vG,vG.exports);var K6t=vG.exports,q6t=K6t,$d="Unknown",G6t={"Mac OS":"Mac OS X"};function Z6t(e){return G6t[e]||e}function Y6t(e){if(!e)return{major:"",minor:""};var t=e.split(".");return{major:t[0],minor:t[1]}}var X6t=new q6t,Ad=X6t.getResult(),Q6t=Y6t(Ad.browser.version),J6t={browserArchitecture:Ad.cpu.architecture||$d,browserFullVersion:Ad.browser.version||$d,browserMinorVersion:Q6t.minor||$d,browserName:Ad.browser.name||$d,browserVersion:Ad.browser.major||$d,deviceName:Ad.device.model||$d,engineName:Ad.engine.name||$d,engineVersion:Ad.engine.version||$d,platformArchitecture:Ad.cpu.architecture||$d,platformName:Z6t(Ad.os.name)||$d,platformVersion:Ad.os.version||$d,platformFullVersion:Ad.os.version||$d},eMt=J6t,WD=Si,G7e=/\./,tMt=/\|\|/,nMt=/\s+\-\s+/,rMt=/^(<=|<|=|>=|~>|~|>|)?\s*(.+)/,$de=/^(\d*)(.*)/;function iMt(e,t){var n=e.split(tMt);return n.length>1?n.some(function(r){return Q7e.contains(r,t)}):(e=n[0].trim(),oMt(e,t))}function oMt(e,t){var n=e.split(nMt);if(n.length>0&&n.length<=2||WD(!1),n.length===1)return LB(n[0],t);var r=n[0],i=n[1];return Tde(r)&&Tde(i)||WD(!1),LB(">="+r,t)&&LB("<="+i,t)}function LB(e,t){if(e=e.trim(),e==="")return!0;var n=t.split(G7e),r=X7e(e),i=r.modifier,o=r.rangeComponents;switch(i){case"<":return Z7e(n,o);case"<=":return sMt(n,o);case">=":return Y7e(n,o);case">":return lMt(n,o);case"~":case"~>":return uMt(n,o);default:return aMt(n,o)}}function Z7e(e,t){return E5(e,t)===-1}function sMt(e,t){var n=E5(e,t);return n===-1||n===0}function aMt(e,t){return E5(e,t)===0}function Y7e(e,t){var n=E5(e,t);return n===1||n===0}function lMt(e,t){return E5(e,t)===1}function uMt(e,t){var n=t.slice(),r=t.slice();r.length>1&&r.pop();var i=r.length-1,o=parseInt(r[i],10);return yG(o)&&(r[i]=o+1+""),Y7e(e,n)&&Z7e(e,r)}function X7e(e){var t=e.split(G7e),n=t[0].match(rMt);return n||WD(!1),{modifier:n[1],rangeComponents:[n[2]].concat(t.slice(1))}}function yG(e){return!isNaN(e)&&isFinite(e)}function Tde(e){return!X7e(e).modifier}function Mde(e,t){for(var n=e.length;n<t;n++)e[n]="0"}function cMt(e,t){e=e.slice(),t=t.slice(),Mde(e,t.length);for(var n=0;n<t.length;n++){var r=t[n].match(/^[x*]$/i);if(r&&(t[n]=e[n]="0",r[0]==="*"&&n===t.length-1))for(var i=n;i<e.length;i++)e[i]="0"}return Mde(t,e.length),[e,t]}function dMt(e,t){var n=e.match($de)[1],r=t.match($de)[1],i=parseInt(n,10),o=parseInt(r,10);return yG(i)&&yG(o)&&i!==o?Lde(i,o):Lde(e,t)}function Lde(e,t){return typeof e!=typeof t&&WD(!1),e>t?1:e<t?-1:0}function E5(e,t){for(var n=cMt(e,t),r=n[0],i=n[1],o=0;o<i.length;o++){var s=dMt(r[o],i[o]);if(s)return s}return 0}var Q7e={contains:function(t,n){return iMt(t.trim(),n.trim())}},fMt=Q7e,hMt=Object.prototype.hasOwnProperty;function pMt(e,t,n){if(!e)return null;var r={};for(var i in e)hMt.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}var mMt=pMt;function gMt(e){var t={};return function(n){return t.hasOwnProperty(n)||(t[n]=e.call(this,n)),t[n]}}var vMt=gMt,Wh=eMt,yMt=fMt,bMt=mMt,wMt=vMt;function xS(e,t,n,r){if(e===n)return!0;if(!n.startsWith(e))return!1;var i=n.slice(e.length);return t?(i=r?r(i):i,yMt.contains(i,t)):!1}function xMt(e){return Wh.platformName==="Windows"?e.replace(/^\s*NT/,""):e}var SMt={isBrowser:function(t){return xS(Wh.browserName,Wh.browserFullVersion,t)},isBrowserArchitecture:function(t){return xS(Wh.browserArchitecture,null,t)},isDevice:function(t){return xS(Wh.deviceName,null,t)},isEngine:function(t){return xS(Wh.engineName,Wh.engineVersion,t)},isPlatform:function(t){return xS(Wh.platformName,Wh.platformFullVersion,t,xMt)},isPlatformArchitecture:function(t){return xS(Wh.platformArchitecture,null,t)}},vc=bMt(SMt,wMt);function _Mt(e){return!e||!e.ownerDocument?document:e.ownerDocument}var h8=_Mt;function CMt(e){return!e||!e.ownerDocument?!1:e.nodeType===Node.ELEMENT_NODE}var Rx=CMt,EMt=Rx;function J7e(e){if(EMt(e)){var t=e,n=t.getAttribute("data-offset-key");if(n)return n;for(var r=0;r<t.childNodes.length;r++){var i=J7e(t.childNodes[r]);if(i)return i}}return null}var e8e=J7e,kMt=h8,PMt=e8e;function $Mt(e){for(var t=e;t&&t!==kMt(e).documentElement;){var n=PMt(t);if(n!=null)return n;t=t.parentNode}return null}var p8=$Mt;function TMt(e){return!e||!e.ownerDocument||!e.ownerDocument.defaultView?window:e.ownerDocument.defaultView}var t8e=TMt;function aL(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var MMt=vc,LMt=p8,AMt=t8e,IMt=ci,RMt=Si,DMt=gc,Ade=IMt.Map,OMt={subtree:!0,characterData:!0,childList:!0,characterDataOldValue:!1,attributes:!1},Ide=MMt.isBrowser("IE <= 11"),jMt=function(){function e(n){var r=this;aL(this,"observer",void 0),aL(this,"container",void 0),aL(this,"mutations",void 0),aL(this,"onCharData",void 0),this.container=n,this.mutations=Ade();var i=AMt(n);i.MutationObserver&&!Ide?this.observer=new i.MutationObserver(function(o){return r.registerMutations(o)}):this.onCharData=function(o){o.target instanceof Node||RMt(!1),r.registerMutation({type:"characterData",target:o.target})}}var t=e.prototype;return t.start=function(){this.observer?this.observer.observe(this.container,OMt):this.container.addEventListener("DOMCharacterDataModified",this.onCharData)},t.stopAndFlushMutations=function(){var r=this.observer;r?(this.registerMutations(r.takeRecords()),r.disconnect()):this.container.removeEventListener("DOMCharacterDataModified",this.onCharData);var i=this.mutations;return this.mutations=Ade(),i},t.registerMutations=function(r){for(var i=0;i<r.length;i++)this.registerMutation(r[i])},t.getMutationTextContent=function(r){var i=r.type,o=r.target,s=r.removedNodes;if(i==="characterData"){if(o.textContent!=="")return Ide?o.textContent.replace(`
`,""):o.textContent}else if(i==="childList"){if(s&&s.length)return"";if(o.textContent!=="")return o.textContent}return null},t.registerMutation=function(r){var i=this.getMutationTextContent(r);if(i!=null){var o=DMt(LMt(r.target));this.mutations=this.mutations.set(o,i)}},e}(),NMt=jMt,lL="-",FMt={encode:function(t,n,r){return t+lL+n+lL+r},decode:function(t){var n=t.split(lL).reverse(),r=n[0],i=n[1],o=n.slice(2);return{blockKey:o.reverse().join(lL),decoratorKey:parseInt(i,10),leafKey:parseInt(r,10)}}},pv=FMt,m8={BACKSPACE:8,TAB:9,RETURN:13,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46,COMMA:188,PERIOD:190,A:65,Z:90,ZERO:48,NUMPAD_0:96,NUMPAD_9:105},n8e={logBlockedSelectionEvent:function(){return null},logSelectionStateFailure:function(){return null}};function BMt(e){return!e||!e.ownerDocument?!1:e.ownerDocument.defaultView?e instanceof e.ownerDocument.defaultView.HTMLElement:e instanceof HTMLElement}var k5=BMt,Rde=Si,zMt=k5;function HMt(e){var t=e.editorContainer;t||Rde(!1),zMt(t.firstChild)||Rde(!1);var n=t.firstChild;return n}var r8e=HMt,Dde=pv,VMt=gc;function UMt(e,t,n,r,i){var o=VMt(e.getSelection());if(!t||!r)return o;var s=Dde.decode(t),a=s.blockKey,l=e.getBlockTree(a),u=l&&l.getIn([s.decoratorKey,"leaves",s.leafKey]),c=Dde.decode(r),f=c.blockKey,p=e.getBlockTree(f),g=p&&p.getIn([c.decoratorKey,"leaves",c.leafKey]);if(!u||!g)return o;var v=u.get("start"),y=g.get("start"),S=u?v+n:null,C=g?y+i:null,_=o.getAnchorKey()===a&&o.getAnchorOffset()===S&&o.getFocusKey()===f&&o.getFocusOffset()===C;if(_)return o;var k=!1;if(a===f){var w=u.get("end"),P=g.get("end");y===v&&P===w?k=i<n:k=y<v}else{var M=e.getCurrentContent().getBlockMap().keySeq().skipUntil(function(R){return R===a||R===f}).first();k=M===f}return o.merge({anchorKey:a,anchorOffset:S,focusKey:f,focusOffset:C,isBackward:k})}var i8e=UMt,Rk=p8,EP=e8e,Ode=i8e,AB=Si,Xee=Rx,Mb=gc;function WMt(e,t,n,r,i,o){var s=n.nodeType===Node.TEXT_NODE,a=i.nodeType===Node.TEXT_NODE;if(s&&a)return{selectionState:Ode(e,Mb(Rk(n)),r,Mb(Rk(i)),o),needsRecovery:!1};var l=null,u=null,c=!0;return s?(l={key:Mb(Rk(n)),offset:r},u=uL(t,i,o)):a?(u={key:Mb(Rk(i)),offset:o},l=uL(t,n,r)):(l=uL(t,n,r),u=uL(t,i,o),n===i&&r===o&&(c=!!n.firstChild&&n.firstChild.nodeName!=="BR")),{selectionState:Ode(e,l.key,l.offset,u.key,u.offset),needsRecovery:c}}function KMt(e){for(;e.firstChild&&(Xee(e.firstChild)&&e.firstChild.getAttribute("data-blocks")==="true"||EP(e.firstChild));)e=e.firstChild;return e}function qMt(e){for(;e.lastChild&&(Xee(e.lastChild)&&e.lastChild.getAttribute("data-blocks")==="true"||EP(e.lastChild));)e=e.lastChild;return e}function uL(e,t,n){var r=t,i=Rk(r);if(i!=null||e&&(e===r||e.firstChild===r)||AB(!1),e===r){r=r.firstChild,Xee(r)||AB(!1);var o=r;r=o,r.getAttribute("data-contents")!=="true"&&AB(!1),n>0&&(n=r.childNodes.length)}if(n===0){var s=null;if(i!=null)s=i;else{var a=KMt(r);s=Mb(EP(a))}return{key:s,offset:0}}var l=r.childNodes[n-1],u=null,c=null;if(!EP(l))u=Mb(i),c=jde(l);else{var f=qMt(l);u=Mb(EP(f)),c=jde(f)}return{key:u,offset:c}}function jde(e){var t=e.textContent;return t===`
`?0:t.length}var o8e=WMt,GMt=o8e;function ZMt(e,t){var n=t.ownerDocument.defaultView.getSelection(),r=n.anchorNode,i=n.anchorOffset,o=n.focusNode,s=n.focusOffset,a=n.rangeCount;return a===0||r==null||o==null?{selectionState:e.getSelection().set("hasFocus",!1),needsRecovery:!1}:GMt(e,t,r,i,o,s)}var s8e=ZMt,YMt=n8e,Nde=io,XMt=r8e,QMt=s8e;function JMt(e){if(e._blockSelectEvents||e._latestEditorState!==e.props.editorState){if(e._blockSelectEvents){var t=e.props.editorState,n=t.getSelection();YMt.logBlockedSelectionEvent({anonymizedDom:"N/A",extraParams:JSON.stringify({stacktrace:new Error().stack}),selectionState:JSON.stringify(n.toJS())})}return}var r=e.props.editorState,i=QMt(r,XMt(e)),o=i.selectionState;o!==r.getSelection()&&(i.needsRecovery?r=Nde.forceSelection(r,o):r=Nde.acceptSelection(r,o),e.update(r))}var a8e=JMt;function eLt(e){return e!=null&&e!=""}var l8e={notEmptyKey:eLt},tLt=l8e,nLt=tLt.notEmptyKey;function rLt(e,t){var n;if(t.isCollapsed()){var r=t.getAnchorKey(),i=t.getAnchorOffset();return i>0?(n=e.getBlockForKey(r).getEntityAt(i-1),n!==e.getBlockForKey(r).getEntityAt(i)?null:Fde(e.getEntityMap(),n)):null}var o=t.getStartKey(),s=t.getStartOffset(),a=e.getBlockForKey(o);return n=s===a.getLength()?null:a.getEntityAt(s),Fde(e.getEntityMap(),n)}function Fde(e,t){if(nLt(t)){var n=e.__get(t);return n.getMutability()==="MUTABLE"?t:null}return null}var Qee=rLt,iLt=NMt,oLt=mc,sLt=pv,GE=io,IB=m8,aLt=vc,lLt=a8e,u8e=r8e,uLt=s8e,cLt=Qee,dLt=gc,fLt=aLt.isBrowser("IE"),hLt=20,RB=!1,cL=!1,kP=null;function pLt(e){kP||(kP=new iLt(u8e(e)),kP.start())}var bG={onCompositionStart:function(t){cL=!0,pLt(t)},onCompositionEnd:function(t){RB=!1,cL=!1,setTimeout(function(){RB||bG.resolveComposition(t)},hLt)},onSelect:lLt,onKeyDown:function(t,n){if(!cL){bG.resolveComposition(t),t._onKeyDown(n);return}(n.which===IB.RIGHT||n.which===IB.LEFT)&&n.preventDefault()},onKeyPress:function(t,n){n.which===IB.RETURN&&n.preventDefault()},resolveComposition:function(t){if(!cL){var n=dLt(kP).stopAndFlushMutations();kP=null,RB=!0;var r=GE.set(t._latestEditorState,{inCompositionMode:!1});if(t.exitCurrentMode(),!n.size){t.update(r);return}var i=r.getCurrentContent();n.forEach(function(l,u){var c=sLt.decode(u),f=c.blockKey,p=c.decoratorKey,g=c.leafKey,v=r.getBlockTree(f).getIn([p,"leaves",g]),y=v.start,S=v.end,C=r.getSelection().merge({anchorKey:f,focusKey:f,anchorOffset:y,focusOffset:S,isBackward:!1}),_=cLt(i,C),k=i.getBlockForKey(f).getInlineStyleAt(y);i=oLt.replaceText(i,C,l,k,_),r=GE.set(r,{currentContent:i})});var o=uLt(r,u8e(t)),s=o.selectionState;t.restoreEditorDOM();var a=fLt?GE.forceSelection(r,s):GE.acceptSelection(r,s);t.update(GE.push(a,i,"insert-characters"))}}},mLt=bG,DB,Bde;function gLt(){if(Bde)return DB;Bde=1;var e=Ix;function t(){return t=e||function(l){for(var u=1;u<arguments.length;u++){var c=arguments[u];for(var f in c)Object.prototype.hasOwnProperty.call(c,f)&&(l[f]=c[f])}return l},t.apply(this,arguments)}function n(l,u){l.prototype=Object.create(u.prototype),l.prototype.constructor=l,l.__proto__=u}var r=pv,i=h,o=qee,s=d8,a=function(l){n(u,l);function u(){return l.apply(this,arguments)||this}var c=u.prototype;return c.render=function(){var p=this.props,g=p.block,v=p.children,y=p.contentState,S=p.decorator,C=p.decoratorKey,_=p.direction,k=p.leafSet,w=p.text,P=g.getKey(),M=k.get("leaves"),R=S.getComponentForKey(C),D=S.getPropsForKey(C),H=r.encode(P,parseInt(C,10),0),O=w.slice(M.first().get("start"),M.last().get("end")),z=s.getHTMLDirIfDifferent(o.getDirection(O),_);return i.createElement(R,t({},D,{contentState:y,decoratedText:O,dir:z,key:H,entityKey:g.getEntityAt(k.get("start")),offsetKey:H}),v)},u}(i.Component);return DB=a,DB}function zde(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vLt(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function Hde(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var MC=h,yLt=vc,bLt=Si,wLt=Rx,Jee=yLt.isBrowser("IE <= 11");function xLt(e){return Jee?e.textContent===`
`:e.tagName==="BR"}var SLt=function(t){return Jee?MC.createElement("span",{key:"A","data-text":"true",ref:t},`
`):MC.createElement("br",{key:"A","data-text":"true",ref:t})},_Lt=function(t){return Jee?MC.createElement("span",{key:"B","data-text":"true",ref:t},`
`):MC.createElement("br",{key:"B","data-text":"true",ref:t})},CLt=function(e){vLt(t,e);function t(r){var i;return i=e.call(this,r)||this,Hde(zde(i),"_forceFlag",void 0),Hde(zde(i),"_node",void 0),i._forceFlag=!1,i}var n=t.prototype;return n.shouldComponentUpdate=function(i){var o=this._node,s=i.children==="";wLt(o)||bLt(!1);var a=o;return s?!xLt(a):a.textContent!==i.children},n.componentDidMount=function(){this._forceFlag=!this._forceFlag},n.componentDidUpdate=function(){this._forceFlag=!this._forceFlag},n.render=function(){var i=this;return this.props.children===""?this._forceFlag?SLt(function(o){return i._node=o}):_Lt(function(o){return i._node=o}):MC.createElement("span",{key:this._forceFlag?"A":"B","data-text":"true",ref:function(s){return i._node=s}},this.props.children)},t}(MC.Component),ELt=CLt,kLt=Rx;function PLt(e){return!e||!e.ownerDocument?!1:kLt(e)&&e.nodeName==="BR"}var c8e=PLt,d8e={initODS:function(){},handleExtensionCausedError:function(){}};function $Lt(e){var t=e?e.ownerDocument||e:document,n=t.defaultView||window;return!!(e&&(typeof n.Node=="function"?e instanceof n.Node:typeof e=="object"&&typeof e.nodeType=="number"&&typeof e.nodeName=="string"))}var TLt=$Lt,MLt=TLt;function LLt(e){return MLt(e)&&e.nodeType==3}var ALt=LLt,Vde=ALt;function f8e(e,t){return!e||!t?!1:e===t?!0:Vde(e)?!1:Vde(t)?f8e(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1}var ete=f8e;function ILt(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var h8e=ILt,RLt=d8e,wG=n8e,DLt=vc,p8e=ete,OLt=h8e,tte=h8,jLt=Si,m8e=Rx,NLt=DLt.isBrowser("IE");function FLt(e,t){if(!e)return"[empty]";var n=g8e(e,t);if(n.nodeType===Node.TEXT_NODE)return n.textContent;m8e(n)||jLt(!1);var r=n;return r.outerHTML}function g8e(e,t){var n=t!==void 0?t(e):[];if(e.nodeType===Node.TEXT_NODE){var r=e.textContent.length;return tte(e).createTextNode("[text "+r+(n.length?" | "+n.join(", "):"")+"]")}var i=e.cloneNode();i.nodeType===1&&n.length&&i.setAttribute("data-labels",n.join(", "));for(var o=e.childNodes,s=0;s<o.length;s++)i.appendChild(g8e(o[s],t));return i}function xG(e,t){for(var n=e,r=n;n;){if(m8e(n)&&r.hasAttribute("contenteditable"))return FLt(n,t);n=n.parentNode,r=n}return"Could not find contentEditable parent of node"}function v8e(e){return e.nodeValue===null?e.childNodes.length:e.nodeValue.length}function BLt(e,t,n,r,i){var o=tte(t);if(p8e(o.documentElement,t)){var s=o.defaultView.getSelection(),a=e.getAnchorKey(),l=e.getAnchorOffset(),u=e.getFocusKey(),c=e.getFocusOffset(),f=e.getIsBackward();if(!s.extend&&f){var p=a,g=l;a=u,l=c,u=p,c=g,f=!1}var v=a===n&&r<=l&&i>=l,y=u===n&&r<=c&&i>=c;if(v&&y){s.removeAllRanges(),dL(s,t,l-r,e),vI(s,t,c-r,e);return}if(!f)v&&(s.removeAllRanges(),dL(s,t,l-r,e)),y&&vI(s,t,c-r,e);else if(y&&(s.removeAllRanges(),dL(s,t,c-r,e)),v){var S=s.focusNode,C=s.focusOffset;s.removeAllRanges(),dL(s,t,l-r,e),vI(s,S,C,e)}}}function vI(e,t,n,r){var i=OLt(),o=e.extend;if(o&&t!=null&&p8e(i,t)){n>v8e(t)&&wG.logSelectionStateFailure({anonymizedDom:xG(t),extraParams:JSON.stringify({offset:n}),selectionState:JSON.stringify(r.toJS())});var s=t===e.focusNode;try{e.rangeCount>0&&e.extend&&e.extend(t,n)}catch(l){throw wG.logSelectionStateFailure({anonymizedDom:xG(t,function(u){var c=[];return u===i&&c.push("active element"),u===e.anchorNode&&c.push("selection anchor node"),u===e.focusNode&&c.push("selection focus node"),c}),extraParams:JSON.stringify({activeElementName:i?i.nodeName:null,nodeIsFocus:t===e.focusNode,nodeWasFocus:s,selectionRangeCount:e.rangeCount,selectionAnchorNodeName:e.anchorNode?e.anchorNode.nodeName:null,selectionAnchorOffset:e.anchorOffset,selectionFocusNodeName:e.focusNode?e.focusNode.nodeName:null,selectionFocusOffset:e.focusOffset,message:l?""+l:null,offset:n},null,2),selectionState:JSON.stringify(r.toJS(),null,2)}),l}}else if(t&&e.rangeCount>0){var a=e.getRangeAt(0);a.setEnd(t,n),e.addRange(a.cloneRange())}}function dL(e,t,n,r){var i=tte(t).createRange();if(n>v8e(t)&&(wG.logSelectionStateFailure({anonymizedDom:xG(t),extraParams:JSON.stringify({offset:n}),selectionState:JSON.stringify(r.toJS())}),RLt.handleExtensionCausedError()),i.setStart(t,n),NLt)try{e.addRange(i)}catch{}else e.addRange(i)}var zLt={setDraftEditorSelection:BLt,addFocusToSelection:vI},Ude=Ix;function HLt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VLt(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function ULt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var WLt=ELt,OB=h,fL=Si,KLt=c8e,qLt=zLt.setDraftEditorSelection,GLt=function(e){VLt(t,e);function t(){for(var r,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o))||this,ULt(HLt(r),"leaf",void 0),r}var n=t.prototype;return n._setSelection=function(){var i=this.props.selection;if(!(i==null||!i.getHasFocus())){var o=this.props,s=o.block,a=o.start,l=o.text,u=s.getKey(),c=a+l.length;if(i.hasEdgeWithin(u,a,c)){var f=this.leaf;f||fL(!1);var p=f.firstChild;p||fL(!1);var g;p.nodeType===Node.TEXT_NODE?g=p:KLt(p)?g=f:(g=p.firstChild,g||fL(!1)),qLt(i,g,u,a,c)}}},n.shouldComponentUpdate=function(i){var o=this.leaf;o||fL(!1);var s=o.textContent!==i.text||i.styleSet!==this.props.styleSet||i.forceSelection;return s},n.componentDidUpdate=function(){this._setSelection()},n.componentDidMount=function(){this._setSelection()},n.render=function(){var i=this,o=this.props.block,s=this.props.text;s.endsWith(`
`)&&this.props.isLast&&(s+=`
`);var a=this.props,l=a.customStyleMap,u=a.customStyleFn,c=a.offsetKey,f=a.styleSet,p=f.reduce(function(v,y){var S={},C=l[y];return C!==void 0&&v.textDecoration!==C.textDecoration&&(S.textDecoration=[v.textDecoration,C.textDecoration].join(" ").trim()),Ude(v,C,S)},{});if(u){var g=u(f,o);p=Ude(p,g)}return OB.createElement("span",{"data-offset-key":c,ref:function(y){return i.leaf=y},style:p},OB.createElement(WLt,null,s))},t}(OB.Component),y8e=GLt,jB,Wde;function ZLt(){if(Wde)return jB;Wde=1;function e(l,u){l.prototype=Object.create(u.prototype),l.prototype.constructor=l,l.__proto__=u}var t=gLt(),n=y8e,r=pv,i=ci,o=h,s=Ax;i.List;var a=function(l){e(u,l);function u(){return l.apply(this,arguments)||this}var c=u.prototype;return c.render=function(){var p=this.props,g=p.block,v=p.contentState,y=p.customStyleFn,S=p.customStyleMap,C=p.decorator,_=p.direction,k=p.forceSelection,w=p.hasSelection,P=p.selection,M=p.tree,R=g.getKey(),D=g.getText(),H=M.size-1,O=this.props.children||M.map(function(z,G){var ee=z.get("decoratorKey"),X=z.get("leaves"),se=X.size-1,B=X.map(function(q,U){var K=r.encode(R,G,U),J=q.get("start"),oe=q.get("end");return o.createElement(n,{key:K,offsetKey:K,block:g,start:J,selection:w?P:null,forceSelection:k,text:D.slice(J,oe),styleSet:g.getInlineStyleAt(J),customStyleMap:S,customStyleFn:y,isLast:ee===H&&U===se})}).toArray();return!ee||!C?B:o.createElement(t,{block:g,children:B,contentState:v,decorator:C,decoratorKey:ee,direction:_,leafSet:z,text:D,key:G})}).toArray();return o.createElement("div",{"data-offset-key":r.encode(R,0,0),className:s({"public/DraftStyleDefault/block":!0,"public/DraftStyleDefault/ltr":_==="LTR","public/DraftStyleDefault/rtl":_==="RTL"})},O)},u}(o.Component);return jB=a,jB}function hL(e,t){return!!t&&(e===t.documentElement||e===t.body)}var YLt={getTop:function(t){var n=t.ownerDocument;return hL(t,n)?n.body.scrollTop||n.documentElement.scrollTop:t.scrollTop},setTop:function(t,n){var r=t.ownerDocument;hL(t,r)?r.body.scrollTop=r.documentElement.scrollTop=n:t.scrollTop=n},getLeft:function(t){var n=t.ownerDocument;return hL(t,n)?n.body.scrollLeft||n.documentElement.scrollLeft:t.scrollLeft},setLeft:function(t,n){var r=t.ownerDocument;hL(t,r)?r.body.scrollLeft=r.documentElement.scrollLeft=n:t.scrollLeft=n}},nte=YLt,XLt=/-(.)/g;function QLt(e){return e.replace(XLt,function(t,n){return n.toUpperCase()})}var JLt=QLt,eAt=/([A-Z])/g;function tAt(e){return e.replace(eAt,"-$1").toLowerCase()}var nAt=tAt,Kde=JLt,qde=nAt;function ZE(e){return e==null?e:String(e)}function rAt(e,t){var n;if(window.getComputedStyle&&(n=window.getComputedStyle(e,null),n))return ZE(n.getPropertyValue(qde(t)));if(document.defaultView&&document.defaultView.getComputedStyle){if(n=document.defaultView.getComputedStyle(e,null),n)return ZE(n.getPropertyValue(qde(t)));if(t==="display")return"none"}return e.currentStyle?ZE(t==="float"?e.currentStyle.cssFloat||e.currentStyle.styleFloat:e.currentStyle[Kde(t)]):ZE(e.style&&e.style[Kde(t)])}var iAt=rAt,oAt=iAt;function NB(e,t){var n=b8e.get(e,t);return n==="auto"||n==="scroll"}var b8e={get:oAt,getScrollParent:function(t){if(!t)return null;for(var n=t.ownerDocument;t&&t!==n.body;){if(NB(t,"overflow")||NB(t,"overflowY")||NB(t,"overflowX"))return t;t=t.parentNode}return n.defaultView||n.parentWindow}},g8=b8e,sAt=ete;function aAt(e){var t=e.ownerDocument.documentElement;if(!("getBoundingClientRect"in e)||!sAt(t,e))return{left:0,right:0,top:0,bottom:0};var n=e.getBoundingClientRect();return{left:Math.round(n.left)-t.clientLeft,right:Math.round(n.right)-t.clientLeft,top:Math.round(n.top)-t.clientTop,bottom:Math.round(n.bottom)-t.clientTop}}var lAt=aAt,uAt=lAt;function cAt(e){var t=uAt(e);return{x:t.left,y:t.top,width:t.right-t.left,height:t.bottom-t.top}}var w8e=cAt,dAt=typeof navigator<"u"&&navigator.userAgent.indexOf("AppleWebKit")>-1;function fAt(e){return e=e||document,e.scrollingElement?e.scrollingElement:!dAt&&e.compatMode==="CSS1Compat"?e.documentElement:e.body}var hAt=fAt;function pAt(e){return e.Window&&e instanceof e.Window?{x:e.pageXOffset||e.document.documentElement.scrollLeft,y:e.pageYOffset||e.document.documentElement.scrollTop}:{x:e.scrollLeft,y:e.scrollTop}}var mAt=pAt,gAt=hAt,vAt=mAt;function yAt(e){var t=gAt(e.ownerDocument||e.document);e.Window&&e instanceof e.Window&&(e=t);var n=vAt(e),r=e===t?e.ownerDocument.documentElement:e,i=e.scrollWidth-r.clientWidth,o=e.scrollHeight-r.clientHeight;return n.x=Math.max(0,Math.min(n.x,i)),n.y=Math.max(0,Math.min(n.y,o)),n}var v8=yAt;function x8e(){var e;return document.documentElement&&(e=document.documentElement.clientWidth),!e&&document.body&&(e=document.body.clientWidth),e||0}function S8e(){var e;return document.documentElement&&(e=document.documentElement.clientHeight),!e&&document.body&&(e=document.body.clientHeight),e||0}function _8e(){return{width:window.innerWidth||x8e(),height:window.innerHeight||S8e()}}_8e.withoutScrollbars=function(){return{width:x8e(),height:S8e()}};var C8e=_8e,FB,Gde;function bAt(){if(Gde)return FB;Gde=1;var e=Ix;function t(){return t=e||function(H){for(var O=1;O<arguments.length;O++){var z=arguments[O];for(var G in z)Object.prototype.hasOwnProperty.call(z,G)&&(H[G]=z[G])}return H},t.apply(this,arguments)}function n(H){if(H===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return H}function r(H,O){H.prototype=Object.create(O.prototype),H.prototype.constructor=H,H.__proto__=O}function i(H){for(var O=1;O<arguments.length;O++){var z=arguments[O]!=null?arguments[O]:{},G=Object.keys(z);typeof Object.getOwnPropertySymbols=="function"&&(G=G.concat(Object.getOwnPropertySymbols(z).filter(function(ee){return Object.getOwnPropertyDescriptor(z,ee).enumerable}))),G.forEach(function(ee){o(H,ee,z[ee])})}return H}function o(H,O,z){return O in H?Object.defineProperty(H,O,{value:z,enumerable:!0,configurable:!0,writable:!0}):H[O]=z,H}var s=ZLt(),a=pv,l=h,u=nte,c=g8,f=w8e,p=v8,g=C8e,v=ci,y=Si,S=k5,C=10;v.List;var _=function(O,z){return O.getAnchorKey()===z||O.getFocusKey()===z},k=function(O,z){var G=O.getNextSiblingKey();return G?z.getBlockForKey(G).getType()===O.getType():!1},w=function(O,z,G){var ee=[],X=!0,se=!1,B=void 0;try{for(var q=G.reverse()[Symbol.iterator](),U;!(X=(U=q.next()).done);X=!0){var K=U.value;if(K.type!==z)break;ee.push(K)}}catch(he){se=!0,B=he}finally{try{!X&&q.return!=null&&q.return()}finally{if(se)throw B}}G.splice(G.indexOf(ee[0]),ee.length+1);var J=ee.reverse(),oe=J[0].key;return G.push(l.cloneElement(O,{key:"".concat(oe,"-wrap"),"data-offset-key":a.encode(oe,0,0)},J)),G},P=function(O,z){var G=z.get(O.getType())||z.get("unstyled"),ee=G.wrapper,X=G.element||z.get("unstyled").element;return{Element:X,wrapperTemplate:ee}},M=function(O,z){var G=z(O);if(!G)return{};var ee=G.component,X=G.props,se=G.editable;return{CustomComponent:ee,customProps:X,customEditable:se}},R=function(O,z,G,ee,X,se){var B={"data-block":!0,"data-editor":z,"data-offset-key":G,key:O.getKey(),ref:se},q=ee(O);return q&&(B.className=q),X.customEditable!==void 0&&(B=i({},B,{contentEditable:X.customEditable,suppressContentEditableWarning:!0})),B},D=function(H){r(O,H);function O(){for(var G,ee=arguments.length,X=new Array(ee),se=0;se<ee;se++)X[se]=arguments[se];return G=H.call.apply(H,[this].concat(X))||this,o(n(G),"wrapperRef",l.createRef()),G}var z=O.prototype;return z.shouldComponentUpdate=function(ee){var X=this.props,se=X.block,B=X.direction,q=X.tree,U=!se.getChildKeys().isEmpty(),K=se!==ee.block||q!==ee.tree||B!==ee.direction||_(ee.selection,ee.block.getKey())&&ee.forceSelection;return U||K},z.componentDidMount=function(){var ee=this.props.selection,X=ee.getEndKey();if(!(!ee.getHasFocus()||X!==this.props.block.getKey())){var se=this.wrapperRef.current;if(se){var B=c.getScrollParent(se),q=p(B),U;if(B===window){var K=f(se),J=K.y+K.height,oe=g().height;U=J-oe,U>0&&window.scrollTo(q.x,q.y+U+C)}else{S(se)||y(!1);var he=se,me=he.offsetHeight+he.offsetTop,re=B.offsetHeight+q.y;U=me-re,U>0&&u.setTop(B,u.getTop(B)+U+C)}}}},z.render=function(){var ee=this,X=this.props,se=X.block,B=X.blockRenderMap,q=X.blockRendererFn,U=X.blockStyleFn,K=X.contentState,J=X.decorator,oe=X.editorKey,he=X.editorState,me=X.customStyleFn,re=X.customStyleMap,ue=X.direction,ce=X.forceSelection,we=X.selection,Me=X.tree,Be=null;se.children.size&&(Be=se.children.reduce(function(gt,rn){var Yt=a.encode(rn,0,0),Bt=K.getBlockForKey(rn),dn=M(Bt,q),Ft=dn.CustomComponent||O,Xt=P(Bt,B),Qe=Xt.Element,Ce=Xt.wrapperTemplate,ze=R(Bt,oe,Yt,U,dn,null),Ne=i({},ee.props,{tree:he.getBlockTree(rn),blockProps:dn.customProps,offsetKey:Yt,block:Bt});return gt.push(l.createElement(Qe,ze,l.createElement(Ft,Ne))),!Ce||k(Bt,K)||w(Ce,Qe,gt),gt},[]));var ge=se.getKey(),ye=a.encode(ge,0,0),_e=M(se,q),$e=_e.CustomComponent,He=$e!=null?l.createElement($e,t({},this.props,{tree:he.getBlockTree(ge),blockProps:_e.customProps,offsetKey:ye,block:se})):l.createElement(s,{block:se,children:Be,contentState:K,customStyleFn:me,customStyleMap:re,decorator:J,direction:ue,forceSelection:ce,hasSelection:_(we,ge),selection:we,tree:Me});if(se.getParentKey())return He;var Ve=P(se,B),ot=Ve.Element,kt=R(se,oe,ye,U,_e,this.wrapperRef);return l.createElement(ot,kt,He)},O}(l.Component);return FB=D,FB}var BB,Zde;function wAt(){if(Zde)return BB;Zde=1;var e=Ix;function t(){return t=e||function(l){for(var u=1;u<arguments.length;u++){var c=arguments[u];for(var f in c)Object.prototype.hasOwnProperty.call(c,f)&&(l[f]=c[f])}return l},t.apply(this,arguments)}function n(l,u){l.prototype=Object.create(u.prototype),l.prototype.constructor=l,l.__proto__=u}var r=bAt(),i=pv,o=h,s=gc,a=function(l){n(u,l);function u(){return l.apply(this,arguments)||this}var c=u.prototype;return c.shouldComponentUpdate=function(p){var g=this.props.editorState,v=p.editorState,y=g.getDirectionMap(),S=v.getDirectionMap();if(y!==S)return!0;var C=g.getSelection().getHasFocus(),_=v.getSelection().getHasFocus();if(C!==_)return!0;var k=v.getNativelyRenderedContent(),w=g.isInCompositionMode(),P=v.isInCompositionMode();if(g===v||k!==null&&v.getCurrentContent()===k||w&&P)return!1;var M=g.getCurrentContent(),R=v.getCurrentContent(),D=g.getDecorator(),H=v.getDecorator();return w!==P||M!==R||D!==H||v.mustForceSelection()},c.render=function(){for(var p=this.props,g=p.blockRenderMap,v=p.blockRendererFn,y=p.blockStyleFn,S=p.customStyleMap,C=p.customStyleFn,_=p.editorState,k=p.editorKey,w=p.textDirectionality,P=_.getCurrentContent(),M=_.getSelection(),R=_.mustForceSelection(),D=_.getDecorator(),H=s(_.getDirectionMap()),O=P.getBlocksAsArray(),z=O[0],G=[],ee=z;ee;){var X=ee.getKey(),se={blockRenderMap:g,blockRendererFn:v,blockStyleFn:y,contentState:P,customStyleFn:C,customStyleMap:S,decorator:D,editorKey:k,editorState:_,forceSelection:R,selection:M,block:ee,direction:w||H.get(X),tree:_.getBlockTree(X)},B=g.get(ee.getType())||g.get("unstyled"),q=B.wrapper;G.push({block:o.createElement(r,t({key:X},se)),wrapperTemplate:q,key:X,offsetKey:i.encode(X,0,0)});var U=ee.getNextSiblingKey();ee=U?P.getBlockForKey(U):null}for(var K=[],J=0;J<G.length;){var oe=G[J];if(oe.wrapperTemplate){var he=[];do he.push(G[J].block),J++;while(J<G.length&&G[J].wrapperTemplate===oe.wrapperTemplate);var me=o.cloneElement(oe.wrapperTemplate,{key:oe.key+"-wrap","data-offset-key":oe.offsetKey},he);K.push(me)}else K.push(oe.block),J++}return o.createElement("div",{"data-contents":"true"},K)},u}(o.Component);return BB=a,BB}var xAt=Ix;function SG(){return SG=xAt||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},SG.apply(this,arguments)}function SAt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _At(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function CAt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var EAt=y8e,Yde=pv,pL=h,Xde=nte,kAt=g8,PAt=qee,$At=d8,TAt=Ax,MAt=w8e,LAt=v8,AAt=C8e,IAt=Si,RAt=k5,DAt=gc,Qde=10,Jde=function(t,n){return t.getAnchorKey()===n||t.getFocusKey()===n},OAt=function(e){_At(t,e);function t(){for(var r,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o))||this,CAt(SAt(r),"_node",void 0),r}var n=t.prototype;return n.shouldComponentUpdate=function(i){return this.props.block!==i.block||this.props.tree!==i.tree||this.props.direction!==i.direction||Jde(i.selection,i.block.getKey())&&i.forceSelection},n.componentDidMount=function(){if(!this.props.preventScroll){var i=this.props.selection,o=i.getEndKey();if(!(!i.getHasFocus()||o!==this.props.block.getKey())){var s=this._node;if(s!=null){var a=kAt.getScrollParent(s),l=LAt(a),u;if(a===window){var c=MAt(s),f=c.y+c.height,p=AAt().height;u=f-p,u>0&&window.scrollTo(l.x,l.y+u+Qde)}else{RAt(s)||IAt(!1);var g=s.offsetHeight+s.offsetTop,v=a.offsetTop+a.offsetHeight,y=v+l.y;u=g-y,u>0&&Xde.setTop(a,Xde.getTop(a)+u+Qde)}}}}},n._renderChildren=function(){var i=this,o=this.props.block,s=o.getKey(),a=o.getText(),l=this.props.tree.size-1,u=Jde(this.props.selection,s);return this.props.tree.map(function(c,f){var p=c.get("leaves");if(p.size===0)return null;var g=p.size-1,v=p.map(function(O,z){var G=Yde.encode(s,f,z),ee=O.get("start"),X=O.get("end");return pL.createElement(EAt,{key:G,offsetKey:G,block:o,start:ee,selection:u?i.props.selection:null,forceSelection:i.props.forceSelection,text:a.slice(ee,X),styleSet:o.getInlineStyleAt(ee),customStyleMap:i.props.customStyleMap,customStyleFn:i.props.customStyleFn,isLast:f===l&&z===g})}).toArray(),y=c.get("decoratorKey");if(y==null||!i.props.decorator)return v;var S=DAt(i.props.decorator),C=S.getComponentForKey(y);if(!C)return v;var _=S.getPropsForKey(y),k=Yde.encode(s,f,0),w=p.first().get("start"),P=p.last().get("end"),M=a.slice(w,P),R=o.getEntityAt(c.get("start")),D=$At.getHTMLDirIfDifferent(PAt.getDirection(M),i.props.direction),H={contentState:i.props.contentState,decoratedText:M,dir:D,start:w,end:P,blockKey:s,entityKey:R,offsetKey:k};return pL.createElement(C,SG({},_,H,{key:k}),v)}).toArray()},n.render=function(){var i=this,o=this.props,s=o.direction,a=o.offsetKey,l=TAt({"public/DraftStyleDefault/block":!0,"public/DraftStyleDefault/ltr":s==="LTR","public/DraftStyleDefault/rtl":s==="RTL"});return pL.createElement("div",{"data-offset-key":a,className:l,ref:function(c){return i._node=c}},this._renderChildren())},t}(pL.Component),E8e=OAt,zB,efe;function jAt(){if(efe)return zB;efe=1;function e(t){var n=t||"",r=arguments.length;if(r>1)for(var i=1;i<r;i++){var o=arguments[i];o&&(n=(n?n+" ":"")+o)}return n}return zB=e,zB}var HB,tfe;function NAt(){if(tfe)return HB;tfe=1;var e=Ix;function t(){return t=e||function(g){for(var v=1;v<arguments.length;v++){var y=arguments[v];for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(g[S]=y[S])}return g},t.apply(this,arguments)}function n(g){for(var v=1;v<arguments.length;v++){var y=arguments[v]!=null?arguments[v]:{},S=Object.keys(y);typeof Object.getOwnPropertySymbols=="function"&&(S=S.concat(Object.getOwnPropertySymbols(y).filter(function(C){return Object.getOwnPropertyDescriptor(y,C).enumerable}))),S.forEach(function(C){r(g,C,y[C])})}return g}function r(g,v,y){return v in g?Object.defineProperty(g,v,{value:y,enumerable:!0,configurable:!0,writable:!0}):g[v]=y,g}function i(g,v){g.prototype=Object.create(v.prototype),g.prototype.constructor=g,g.__proto__=v}var o=E8e,s=pv,a=h,l=Ax,u=jAt(),c=gc,f=function(v,y,S,C){return l({"public/DraftStyleDefault/unorderedListItem":v==="unordered-list-item","public/DraftStyleDefault/orderedListItem":v==="ordered-list-item","public/DraftStyleDefault/reset":S,"public/DraftStyleDefault/depth0":y===0,"public/DraftStyleDefault/depth1":y===1,"public/DraftStyleDefault/depth2":y===2,"public/DraftStyleDefault/depth3":y===3,"public/DraftStyleDefault/depth4":y>=4,"public/DraftStyleDefault/listLTR":C==="LTR","public/DraftStyleDefault/listRTL":C==="RTL"})},p=function(g){i(v,g);function v(){return g.apply(this,arguments)||this}var y=v.prototype;return y.shouldComponentUpdate=function(C){var _=this.props.editorState,k=C.editorState,w=_.getDirectionMap(),P=k.getDirectionMap();if(w!==P)return!0;var M=_.getSelection().getHasFocus(),R=k.getSelection().getHasFocus();if(M!==R)return!0;var D=k.getNativelyRenderedContent(),H=_.isInCompositionMode(),O=k.isInCompositionMode();if(_===k||D!==null&&k.getCurrentContent()===D||H&&O)return!1;var z=_.getCurrentContent(),G=k.getCurrentContent(),ee=_.getDecorator(),X=k.getDecorator();return H!==O||z!==G||ee!==X||k.mustForceSelection()},y.render=function(){for(var C=this.props,_=C.blockRenderMap,k=C.blockRendererFn,w=C.blockStyleFn,P=C.customStyleMap,M=C.customStyleFn,R=C.editorState,D=C.editorKey,H=C.preventScroll,O=C.textDirectionality,z=R.getCurrentContent(),G=R.getSelection(),ee=R.mustForceSelection(),X=R.getDecorator(),se=c(R.getDirectionMap()),B=z.getBlocksAsArray(),q=[],U=null,K=null,J=0;J<B.length;J++){var oe=B[J],he=oe.getKey(),me=oe.getType(),re=k(oe),ue=void 0,ce=void 0,we=void 0;re&&(ue=re.component,ce=re.props,we=re.editable);var Me=O||se.get(he),Be=s.encode(he,0,0),ge={contentState:z,block:oe,blockProps:ce,blockStyleFn:w,customStyleMap:P,customStyleFn:M,decorator:X,direction:Me,forceSelection:ee,offsetKey:Be,preventScroll:H,selection:G,tree:R.getBlockTree(he)},ye=_.get(me)||_.get("unstyled"),_e=ye.wrapper,$e=ye.element||_.get("unstyled").element,He=oe.getDepth(),Ve="";if(w&&(Ve=w(oe)),$e==="li"){var ot=K!==_e||U===null||He>U;Ve=u(Ve,f(me,He,ot,Me))}var kt=ue||o,gt={className:Ve,"data-block":!0,"data-editor":D,"data-offset-key":Be,key:he};we!==void 0&&(gt=n({},gt,{contentEditable:we,suppressContentEditableWarning:!0}));var rn=a.createElement($e,gt,a.createElement(kt,t({},ge,{key:he})));q.push({block:rn,wrapperTemplate:_e,key:he,offsetKey:Be}),_e?U=oe.getDepth():U=null,K=_e}for(var Yt=[],Bt=0;Bt<q.length;){var dn=q[Bt];if(dn.wrapperTemplate){var Ft=[];do Ft.push(q[Bt].block),Bt++;while(Bt<q.length&&q[Bt].wrapperTemplate===dn.wrapperTemplate);var Xt=a.cloneElement(dn.wrapperTemplate,{key:dn.key+"-wrap","data-offset-key":dn.offsetKey},Ft);Yt.push(Xt)}else Yt.push(dn.block),Bt++}return a.createElement("div",{"data-contents":"true"},Yt)},v}(a.Component);return HB=p,HB}var FAt=p1,BAt=FAt("draft_tree_data_support"),zAt=BAt?wAt():NAt(),k8e={isImage:function(t){return nfe(t)[0]==="image"},isJpeg:function(t){var n=nfe(t);return k8e.isImage(t)&&(n[1]==="jpeg"||n[1]==="pjpeg")}};function nfe(e){return e.split("/")}var HAt=k8e,mL=Si;function VAt(e){var t=e.length;if(!Array.isArray(e)&&(typeof e=="object"||typeof e=="function")||mL(!1),typeof t!="number"&&mL(!1),t===0||t-1 in e||mL(!1),typeof e.callee=="function"&&mL(!1),e.hasOwnProperty)try{return Array.prototype.slice.call(e)}catch{}for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}function UAt(e){return!!e&&(typeof e=="object"||typeof e=="function")&&"length"in e&&!("setInterval"in e)&&typeof e.nodeType!="number"&&(Array.isArray(e)||"callee"in e||"item"in e)}function WAt(e){return UAt(e)?Array.isArray(e)?e.slice():VAt(e):[e]}var KAt=WAt;function y8(e){return function(){return e}}var Dx=function(){};Dx.thatReturns=y8;Dx.thatReturnsFalse=y8(!1);Dx.thatReturnsTrue=y8(!0);Dx.thatReturnsNull=y8(null);Dx.thatReturnsThis=function(){return this};Dx.thatReturnsArgument=function(e){return e};var qAt=Dx,GAt=HAt,ZAt=KAt,YAt=qAt,XAt=new RegExp(`\r
`,"g"),QAt=`
`,JAt={"text/rtf":1,"text/html":1};function eIt(e){if(e.kind=="file")return e.getAsFile()}var tIt=function(){function e(n){this.data=n,this.types=n.types?ZAt(n.types):[]}var t=e.prototype;return t.isRichText=function(){return this.getHTML()&&this.getText()?!0:this.isImage()?!1:this.types.some(function(r){return JAt[r]})},t.getText=function(){var r;return this.data.getData&&(this.types.length?this.types.indexOf("text/plain")!=-1&&(r=this.data.getData("text/plain")):r=this.data.getData("Text")),r?r.replace(XAt,QAt):null},t.getHTML=function(){if(this.data.getData)if(this.types.length){if(this.types.indexOf("text/html")!=-1)return this.data.getData("text/html")}else return this.data.getData("Text")},t.isLink=function(){return this.types.some(function(r){return r.indexOf("Url")!=-1||r.indexOf("text/uri-list")!=-1||r.indexOf("text/x-moz-url")})},t.getLink=function(){if(this.data.getData){if(this.types.indexOf("text/x-moz-url")!=-1){var r=this.data.getData("text/x-moz-url").split(`
`);return r[0]}return this.types.indexOf("text/uri-list")!=-1?this.data.getData("text/uri-list"):this.data.getData("url")}return null},t.isImage=function(){var r=this.types.some(function(a){return a.indexOf("application/x-moz-file")!=-1});if(r)return!0;for(var i=this.getFiles(),o=0;o<i.length;o++){var s=i[o].type;if(!GAt.isImage(s))return!1}return!0},t.getCount=function(){return this.data.hasOwnProperty("items")?this.data.items.length:this.data.hasOwnProperty("mozItemCount")?this.data.mozItemCount:this.data.files?this.data.files.length:null},t.getFiles=function(){return this.data.items?Array.prototype.slice.call(this.data.items).map(eIt).filter(YAt.thatReturnsArgument):this.data.files?Array.prototype.slice.call(this.data.files):[]},t.hasFiles=function(){return this.getFiles().length>0},e}(),P8e=tIt,nIt={setImmediate:"((fn, ...args) => setTimeout(fn, 0, ...args))"},rIt=Si,rfe=/\.textClipping$/,iIt={"text/plain":!0,"text/html":!0,"text/rtf":!0},oIt=5e3;function sIt(e,t){var n=0,r=[];e.forEach(function(i){aIt(i,function(o){n++,o&&r.push(o.slice(0,oIt)),n==e.length&&t(r.join("\r"))})})}function aIt(e,t){if(!nIt.FileReader||e.type&&!(e.type in iIt)){t("");return}if(e.type===""){var n="";rfe.test(e.name)&&(n=e.name.replace(rfe,"")),t(n);return}var r=new FileReader;r.onload=function(){var i=r.result;typeof i!="string"&&rIt(!1),t(i)},r.onerror=function(){t("")},r.readAsText(e)}var $8e=sIt;function lIt(e){return e==="handled"||e===!0}var b8=lIt,uIt=P8e,T8e=mc,M8e=io,cIt=p8,dIt=h8,fIt=$8e,hIt=i8e,pIt=t8e,ife=b8,VB=gc;function mIt(e,t){var n=null,r=null,i=dIt(e.currentTarget);if(typeof i.caretRangeFromPoint=="function"){var o=i.caretRangeFromPoint(e.x,e.y);n=o.startContainer,r=o.startOffset}else if(e.rangeParent)n=e.rangeParent,r=e.rangeOffset;else return null;n=VB(n),r=VB(r);var s=VB(cIt(n));return hIt(t,s,r,s,r)}var gIt={onDragEnd:function(t){t.exitCurrentMode(),ofe(t)},onDrop:function(t,n){var r=new uIt(n.nativeEvent.dataTransfer),i=t._latestEditorState,o=mIt(n.nativeEvent,i);if(n.preventDefault(),t._dragCount=0,t.exitCurrentMode(),o!=null){var s=r.getFiles();if(s.length>0){if(t.props.handleDroppedFiles&&ife(t.props.handleDroppedFiles(o,s)))return;fIt(s,function(l){l&&t.update(sfe(i,o,l))});return}var a=t._internalDrag?"internal":"external";t.props.handleDrop&&ife(t.props.handleDrop(o,r,a))||(t._internalDrag?t.update(vIt(i,o)):t.update(sfe(i,o,r.getText()))),ofe(t)}}};function ofe(e){e._internalDrag=!1;var t=e.editorContainer;if(t){var n=new MouseEvent("mouseup",{view:pIt(t),bubbles:!0,cancelable:!0});t.dispatchEvent(n)}}function vIt(e,t){var n=T8e.moveText(e.getCurrentContent(),e.getSelection(),t);return M8e.push(e,n,"insert-fragment")}function sfe(e,t,n){var r=T8e.insertText(e.getCurrentContent(),t,n,e.getCurrentInlineStyle());return M8e.push(e,r,"insert-fragment")}var yIt=gIt;function bIt(e){var t=e.getSelection(),n=t.getAnchorKey(),r=e.getBlockTree(n),i=t.getStartOffset(),o=!1;return r.some(function(s){return i===s.get("start")?(o=!0,!0):i<s.get("end")?s.get("leaves").some(function(a){var l=a.get("start");return i===l?(o=!0,!0):!1}):!1}),o}var wIt=bIt,afe={setImmediate:"((fn, ...args) => setTimeout(fn, 0, ...args))"};(function(e,t){if(e.setImmediate)return;var n=1,r={},i=!1,o=e.document,s;function a(_){typeof _!="function"&&(_=new Function(""+_));for(var k=new Array(arguments.length-1),w=0;w<k.length;w++)k[w]=arguments[w+1];var P={callback:_,args:k};return r[n]=P,s(n),n++}function l(_){delete r[_]}function u(_){var k=_.callback,w=_.args;switch(w.length){case 0:k();break;case 1:k(w[0]);break;case 2:k(w[0],w[1]);break;case 3:k(w[0],w[1],w[2]);break;default:k.apply(t,w);break}}function c(_){if(i)setTimeout(c,0,_);else{var k=r[_];if(k){i=!0;try{u(k)}finally{l(_),i=!1}}}}function f(){s=function(_){process.nextTick(function(){c(_)})}}function p(){if(e.postMessage&&!e.importScripts){var _=!0,k=e.onmessage;return e.onmessage=function(){_=!1},e.postMessage("","*"),e.onmessage=k,_}}function g(){var _="setImmediate$"+Math.random()+"$",k=function(w){w.source===e&&typeof w.data=="string"&&w.data.indexOf(_)===0&&c(+w.data.slice(_.length))};e.addEventListener?e.addEventListener("message",k,!1):e.attachEvent("onmessage",k),s=function(w){e.postMessage(_+w,"*")}}function v(){var _=new MessageChannel;_.port1.onmessage=function(k){var w=k.data;c(w)},s=function(k){_.port2.postMessage(k)}}function y(){var _=o.documentElement;s=function(k){var w=o.createElement("script");w.onreadystatechange=function(){c(k),w.onreadystatechange=null,_.removeChild(w),w=null},_.appendChild(w)}}function S(){s=function(_){setTimeout(c,0,_)}}var C=Object.getPrototypeOf&&Object.getPrototypeOf(e);C=C&&C.setTimeout?C:e,{}.toString.call(e.process)==="[object process]"?f():p()?g():e.MessageChannel?v():o&&"onreadystatechange"in o.createElement("script")?y():S(),C.setImmediate=a,C.clearImmediate=l})(typeof self>"u"?typeof afe>"u"?dg:afe:self);var xIt={setImmediate:"((fn, ...args) => setTimeout(fn, 0, ...args))"},SIt=xIt.setImmediate,_It=mc,_G=io,CIt=vc,lfe=Qee,EIt=b8,kIt=wIt,ufe=gc,PIt=SIt,$It="'",TIt="/",MIt=CIt.isBrowser("Firefox");function LIt(e){return MIt&&(e==$It||e==TIt)}function cfe(e,t,n,r,i){var o=_It.replaceText(e.getCurrentContent(),e.getSelection(),t,n,r);return _G.push(e,o,"insert-characters",i)}function AIt(e,t){e._pendingStateFromBeforeInput!==void 0&&(e.update(e._pendingStateFromBeforeInput),e._pendingStateFromBeforeInput=void 0);var n=e._latestEditorState,r=t.data;if(r){if(e.props.handleBeforeInput&&EIt(e.props.handleBeforeInput(r,n,t.timeStamp))){t.preventDefault();return}var i=n.getSelection(),o=i.getStartOffset(),s=i.getAnchorKey();if(!i.isCollapsed()){t.preventDefault(),e.update(cfe(n,r,n.getCurrentInlineStyle(),lfe(n.getCurrentContent(),n.getSelection()),!0));return}var a=cfe(n,r,n.getCurrentInlineStyle(),lfe(n.getCurrentContent(),n.getSelection()),!1),l=!1;if(l||(l=kIt(e._latestCommittedEditorState)),!l){var u=n.getBlockTree(s),c=a.getBlockTree(s);l=u.size!==c.size||u.zip(c).some(function(f){var p=f[0],g=f[1],v=p.get("start"),y=v+(v>=o?r.length:0),S=p.get("end"),C=S+(S>=o?r.length:0),_=g.get("start"),k=g.get("end"),w=g.get("decoratorKey");return p.get("decoratorKey")!==w||p.get("leaves").size!==g.get("leaves").size||y!==_||C!==k||w!=null&&k-_!==S-v})}if(l||(l=LIt(r)),l||(l=ufe(a.getDirectionMap()).get(s)!==ufe(n.getDirectionMap()).get(s)),l){t.preventDefault(),a=_G.set(a,{forceSelection:!0}),e.update(a);return}a=_G.set(a,{nativelyRenderedContent:a.getCurrentContent()}),e._pendingStateFromBeforeInput=a,PIt(function(){e._pendingStateFromBeforeInput!==void 0&&(e.update(e._pendingStateFromBeforeInput),e._pendingStateFromBeforeInput=void 0)})}}var IIt=AIt,RIt=io,dfe=ete,DIt=h8e;function OIt(e,t){var n=t.currentTarget.ownerDocument;if(!e.props.preserveSelectionOnBlur&&DIt(n)===n.body){var r=n.defaultView.getSelection(),i=e.editor;r.rangeCount===1&&dfe(i,r.anchorNode)&&dfe(i,r.focusNode)&&r.removeAllRanges()}var o=e._latestEditorState,s=o.getSelection();if(s.getHasFocus()){var a=s.set("hasFocus",!1);e.props.onBlur&&e.props.onBlur(t),e.update(RIt.acceptSelection(o,a))}}var jIt=OIt,NIt=io;function FIt(e,t){e.setMode("composite"),e.update(NIt.set(e._latestEditorState,{inCompositionMode:!0})),e._onCompositionStart(t)}var BIt=FIt,zIt=a8;function HIt(e){var t=e.getSelection();return t.isCollapsed()?null:zIt(e.getCurrentContent(),t)}var L8e=HIt,VIt=L8e;function UIt(e,t){var n=e._latestEditorState,r=n.getSelection();if(r.isCollapsed()){t.preventDefault();return}e.setClipboard(VIt(e._latestEditorState))}var WIt=UIt;function KIt(e){if(!e||!("ownerDocument"in e))return!1;if("ownerDocument"in e){var t=e;if(!t.ownerDocument.defaultView)return t instanceof Node;if(t instanceof t.ownerDocument.defaultView.Node)return!0}return!1}var qIt=KIt,GIt=mc,ZIt=io,YIt=g8,XIt=L8e,QIt=v8,JIt=qIt;function eRt(e,t){var n=e._latestEditorState,r=n.getSelection(),i=t.target,o;if(r.isCollapsed()){t.preventDefault();return}if(JIt(i)){var s=i;o=QIt(YIt.getScrollParent(s))}var a=XIt(n);e.setClipboard(a),e.setMode("cut"),setTimeout(function(){e.restoreEditorDOM(o),e.exitCurrentMode(),e.update(tRt(n))},0)}function tRt(e){var t=GIt.removeRange(e.getCurrentContent(),e.getSelection(),"forward");return ZIt.push(e,t,"remove-range")}var nRt=eRt;function rRt(e,t){e.setMode("drag"),t.preventDefault()}var iRt=rRt;function oRt(e){e._internalDrag=!0,e.setMode("drag")}var sRt=oRt,ffe=io,aRt=vc;function lRt(e,t){var n=e._latestEditorState,r=n.getSelection();if(!r.getHasFocus()){var i=r.set("hasFocus",!0);e.props.onFocus&&e.props.onFocus(t),aRt.isBrowser("Chrome < 60.0.3081.0")?e.update(ffe.forceSelection(n,i)):e.update(ffe.acceptSelection(n,i))}}var uRt=lRt,cRt=Si,A8e=55296,dRt=56319,fRt=56320,I8e=57343,hRt=/[\uD800-\uDFFF]/;function R8e(e){return A8e<=e&&e<=I8e}function pRt(e,t){if(0<=t&&t<e.length||cRt(!1),t+1===e.length)return!1;var n=e.charCodeAt(t),r=e.charCodeAt(t+1);return A8e<=n&&n<=dRt&&fRt<=r&&r<=I8e}function rte(e){return hRt.test(e)}function V2(e,t){return 1+R8e(e.charCodeAt(t))}function mRt(e){if(!rte(e))return e.length;for(var t=0,n=0;n<e.length;n+=V2(e,n))t++;return t}function D8e(e,t,n){if(t=t||0,n=n===void 0?1/0:n||0,!rte(e))return e.substr(t,n);var r=e.length;if(r<=0||t>r||n<=0)return"";var i=0;if(t>0){for(;t>0&&i<r;t--)i+=V2(e,i);if(i>=r)return""}else if(t<0){for(i=r;t<0&&0<i;t++)i-=V2(e,i-1);i<0&&(i=0)}var o=r;if(n<r)for(o=i;n>0&&o<r;n--)o+=V2(e,o);return e.substring(i,o)}function gRt(e,t,n){t=t||0,n=n===void 0?1/0:n||0,t<0&&(t=0),n<0&&(n=0);var r=Math.abs(n-t);return t=t<n?t:n,D8e(e,t,r)}function vRt(e){for(var t=[],n=0;n<e.length;n+=V2(e,n))t.push(e.codePointAt(n));return t}var yRt={getCodePoints:vRt,getUTF16Length:V2,hasSurrogateUnit:rte,isCodeUnitInSurrogateRange:R8e,isSurrogatePair:pRt,strlen:mRt,substring:gRt,substr:D8e},Ox=yRt;function bRt(e,t){var n=e.getSelection(),r=e.getCurrentContent(),i=n.getStartKey(),o=n.getStartOffset(),s=i,a=0;if(t>o){var l=r.getKeyBefore(i);if(l==null)s=i;else{s=l;var u=r.getBlockForKey(l);a=u.getText().length}}else a=o-t;return n.merge({focusKey:s,focusOffset:a,isBackward:!0})}var ite=bRt,wRt=mc,xRt=p1,hfe=xRt("draft_tree_data_support");function SRt(e,t,n){var r=e.getSelection(),i=e.getCurrentContent(),o=r,s=r.getAnchorKey(),a=r.getFocusKey(),l=i.getBlockForKey(s);if(hfe&&n==="forward"&&s!==a)return i;if(r.isCollapsed()){if(n==="forward"){if(e.isSelectionAtEndOfContent())return i;if(hfe){var u=r.getAnchorOffset()===i.getBlockForKey(s).getLength();if(u){var c=i.getBlockForKey(l.nextSibling);if(!c||c.getLength()===0)return i}}}else if(e.isSelectionAtStartOfContent())return i;if(o=t(e),o===r)return i}return wRt.removeRange(i,o,n)}var P5=SRt,_Rt=io,CRt=Ox,ERt=ite,kRt=P5;function PRt(e){var t=kRt(e,function(r){var i=r.getSelection(),o=r.getCurrentContent(),s=i.getAnchorKey(),a=i.getAnchorOffset(),l=o.getBlockForKey(s).getText()[a-1];return ERt(r,l?CRt.getUTF16Length(l,0):1)},"backward");if(t===e.getCurrentContent())return e;var n=e.getSelection();return _Rt.push(e,t.set("selectionBefore",n),n.isCollapsed()?"backspace-character":"remove-range")}var O8e=PRt,$Rt=mc,TRt=pv,MRt=io,LRt=vc,ARt=l8e,IRt=ARt.notEmptyKey,RRt=p8,DRt=O8e,ORt=gc,jRt=LRt.isEngine("Gecko"),NRt=`

`;function FRt(e,t){switch(e){case"deleteContentBackward":return DRt(t)}return t}function BRt(e,t){e._pendingStateFromBeforeInput!==void 0&&(e.update(e._pendingStateFromBeforeInput),e._pendingStateFromBeforeInput=void 0);var n=e.editor,r=n.ownerDocument.defaultView.getSelection(),i=r.anchorNode,o=r.isCollapsed,s=(i==null?void 0:i.nodeType)!==Node.TEXT_NODE&&(i==null?void 0:i.nodeType)!==Node.ELEMENT_NODE;if(!(i==null||s)){if(i.nodeType===Node.TEXT_NODE&&(i.previousSibling!==null||i.nextSibling!==null)){var a=i.parentNode;if(a==null)return;i.nodeValue=a.textContent;for(var l=a.firstChild;l!=null;l=l.nextSibling)l!==i&&a.removeChild(l)}var u=i.textContent,c=e._latestEditorState,f=ORt(RRt(i)),p=TRt.decode(f),g=p.blockKey,v=p.decoratorKey,y=p.leafKey,S=c.getBlockTree(g).getIn([v,"leaves",y]),C=S.start,_=S.end,k=c.getCurrentContent(),w=k.getBlockForKey(g),P=w.getText().slice(C,_);if(u.endsWith(NRt)&&(u=u.slice(0,-1)),u===P){var M=t.nativeEvent.inputType;if(M){var R=FRt(M,c);if(R!==c){e.restoreEditorDOM(),e.update(R);return}}return}var D=c.getSelection(),H=D.merge({anchorOffset:C,focusOffset:_,isBackward:!1}),O=w.getEntityAt(C),z=IRt(O)?k.getEntity(O):null,G=z!=null?z.getMutability():null,ee=G==="MUTABLE",X=ee?"spellcheck-change":"apply-entity",se=$Rt.replaceText(k,H,u,w.getInlineStyleAt(C),ee?w.getEntityAt(C):null),B,q,U,K;if(jRt)B=r.anchorOffset,q=r.focusOffset,U=C+Math.min(B,q),K=U+Math.abs(B-q),B=U,q=K;else{var J=u.length-P.length;U=D.getStartOffset(),K=D.getEndOffset(),B=o?K+J:U,q=K+J}var oe=se.merge({selectionBefore:k.getSelectionAfter(),selectionAfter:D.merge({anchorOffset:B,focusOffset:q})});e.update(MRt.push(c,oe,X))}}var zRt=BRt,HRt=m8;function VRt(e){return e.which===HRt.RETURN&&(e.getModifierState("Shift")||e.getModifierState("Alt")||e.getModifierState("Control"))}var URt=VRt,WRt=vc,KRt=URt,UB=WRt.isPlatform("Mac OS X"),j8e={isCtrlKeyCommand:function(t){return!!t.ctrlKey&&!t.altKey},isOptionKeyCommand:function(t){return UB&&t.altKey},usesMacOSHeuristics:function(){return UB},hasCommandModifier:function(t){return UB?!!t.metaKey&&!t.altKey:j8e.isCtrlKeyCommand(t)},isSoftNewlineEvent:KRt},ote=j8e,pfe=mc,mfe=io,qRt=a8,GRt=gc,WB=null,ZRt={cut:function(t){var n=t.getCurrentContent(),r=t.getSelection(),i=null;if(r.isCollapsed()){var o=r.getAnchorKey(),s=n.getBlockForKey(o).getLength();if(s===r.getAnchorOffset()){var a=n.getKeyAfter(o);if(a==null)return t;i=r.set("focusKey",a).set("focusOffset",0)}else i=r.set("focusOffset",s)}else i=r;i=GRt(i),WB=qRt(n,i);var l=pfe.removeRange(n,i,"forward");return l===n?t:mfe.push(t,l,"remove-range")},paste:function(t){if(!WB)return t;var n=pfe.replaceWithFragment(t.getCurrentContent(),t.getSelection(),WB);return mfe.push(t,n,"insert-fragment")}},YRt=ZRt,XRt=vc,QRt=Si,JRt=XRt.isBrowser("Chrome");function eDt(e){for(var t=e.cloneRange(),n=[],r=e.endContainer;r!=null;r=r.parentNode){var i=r===e.commonAncestorContainer;i?t.setStart(e.startContainer,e.startOffset):t.setStart(t.endContainer,0);var o=Array.from(t.getClientRects());if(n.push(o),i){var s;return n.reverse(),(s=[]).concat.apply(s,n)}t.setEndBefore(r)}QRt(!1)}var tDt=JRt?eDt:function(e){return Array.from(e.getClientRects())},N8e=tDt,nDt=Ox,rDt=h8,gfe=N8e,CG=Si;function iDt(e){var t=getComputedStyle(e),n=rDt(e),r=n.createElement("div");r.style.fontFamily=t.fontFamily,r.style.fontSize=t.fontSize,r.style.fontStyle=t.fontStyle,r.style.fontWeight=t.fontWeight,r.style.lineHeight=t.lineHeight,r.style.position="absolute",r.textContent="M";var i=n.body;i||CG(!1),i.appendChild(r);var o=r.getBoundingClientRect();return i.removeChild(r),o.height}function vfe(e,t){for(var n=1/0,r=1/0,i=-1/0,o=-1/0,s=0;s<e.length;s++){var a=e[s];a.width===0||a.width===1||(n=Math.min(n,a.top),r=Math.min(r,a.bottom),i=Math.max(i,a.top),o=Math.max(o,a.bottom))}return i<=r&&i-n<t&&o-r<t}function oDt(e){switch(e.nodeType){case Node.DOCUMENT_TYPE_NODE:return 0;case Node.TEXT_NODE:case Node.PROCESSING_INSTRUCTION_NODE:case Node.COMMENT_NODE:return e.length;default:return e.childNodes.length}}function sDt(e){e.collapsed||CG(!1),e=e.cloneRange();var t=e.startContainer;t.nodeType!==1&&(t=t.parentNode);var n=iDt(t),r=e.endContainer,i=e.endOffset;for(e.setStart(e.startContainer,0);vfe(gfe(e),n)&&(r=e.startContainer,i=e.startOffset,r.parentNode||CG(!1),e.setStartBefore(r),!(r.nodeType===1&&getComputedStyle(r).display!=="inline")););var o=r,s=i-1;do{for(var a=o.nodeValue,l=s;l>=0;l--)if(!(a!=null&&l>0&&nDt.isSurrogatePair(a,l-1)))if(e.setStart(o,l),vfe(gfe(e),n))r=o,i=l;else break;if(l===-1||o.childNodes.length===0)break;o=o.childNodes[l],s=oDt(o)}while(!0);return e.setStart(r,i),e}var aDt=sDt,lDt=io,uDt=aDt,cDt=o8e,dDt=ite,fDt=P5;function hDt(e,t){var n=fDt(e,function(r){var i=r.getSelection();if(i.isCollapsed()&&i.getAnchorOffset()===0)return dDt(r,1);var o=t.currentTarget.ownerDocument,s=o.defaultView.getSelection(),a=s.getRangeAt(0);return a=uDt(a),cDt(r,null,a.endContainer,a.endOffset,a.startContainer,a.startOffset).selectionState},"backward");return n===e.getCurrentContent()?e:lDt.push(e,n,"remove-range")}var pDt=hDt,mDt=`[.,+*?$|#{}()'\\^\\-\\[\\]\\\\\\/!@%"~=<>_:;-----------]`,gDt={getPunctuation:function(){return mDt}},vDt=gDt,yDt=vDt.getPunctuation(),F8e="[']",U2="\\s|(?![_])"+yDt,bDt="^(?:"+U2+")*(?:"+F8e+"|(?!"+U2+").)*(?:(?!"+U2+").)",wDt=new RegExp(bDt),xDt="(?:(?!"+U2+").)(?:"+F8e+"|(?!"+U2+").)*(?:"+U2+")*$",SDt=new RegExp(xDt);function yfe(e,t){var n=t?SDt.exec(e):wDt.exec(e);return n?n[0]:e}var _Dt={getBackward:function(t){return yfe(t,!0)},getForward:function(t){return yfe(t,!1)}},B8e=_Dt,CDt=B8e,EDt=io,bfe=ite,kDt=P5;function PDt(e){var t=kDt(e,function(n){var r=n.getSelection(),i=r.getStartOffset();if(i===0)return bfe(n,1);var o=r.getStartKey(),s=n.getCurrentContent(),a=s.getBlockForKey(o).getText().slice(0,i),l=CDt.getBackward(a);return bfe(n,l.length||1)},"backward");return t===e.getCurrentContent()?e:EDt.push(e,t,"remove-range")}var $Dt=PDt;function TDt(e,t){var n=e.getSelection(),r=n.getStartKey(),i=n.getStartOffset(),o=e.getCurrentContent(),s=r,a,l=o.getBlockForKey(r);return t>l.getText().length-i?(s=o.getKeyAfter(r),a=0):a=i+t,n.merge({focusKey:s,focusOffset:a})}var z8e=TDt,MDt=B8e,LDt=io,ADt=z8e,IDt=P5;function RDt(e){var t=IDt(e,function(n){var r=n.getSelection(),i=r.getStartOffset(),o=r.getStartKey(),s=n.getCurrentContent(),a=s.getBlockForKey(o).getText().slice(i),l=MDt.getForward(a);return ADt(n,l.length||1)},"forward");return t===e.getCurrentContent()?e:LDt.push(e,t,"remove-range")}var DDt=RDt,ODt=mc,jDt=io;function NDt(e){var t=ODt.splitBlock(e.getCurrentContent(),e.getSelection());return jDt.push(e,t,"split-block")}var FDt=NDt,BDt=io;function zDt(e){var t=e.getSelection(),n=t.getEndKey(),r=e.getCurrentContent(),i=r.getBlockForKey(n).getLength();return BDt.set(e,{selection:t.merge({anchorKey:n,anchorOffset:i,focusKey:n,focusOffset:i,isBackward:!1}),forceSelection:!0})}var HDt=zDt,VDt=io;function UDt(e){var t=e.getSelection(),n=t.getStartKey();return VDt.set(e,{selection:t.merge({anchorKey:n,anchorOffset:0,focusKey:n,focusOffset:0,isBackward:!1}),forceSelection:!0})}var WDt=UDt,KDt=io,qDt=Ox,GDt=z8e,ZDt=P5;function YDt(e){var t=ZDt(e,function(r){var i=r.getSelection(),o=r.getCurrentContent(),s=i.getAnchorKey(),a=i.getAnchorOffset(),l=o.getBlockForKey(s).getText()[a];return GDt(r,l?qDt.getUTF16Length(l,0):1)},"forward");if(t===e.getCurrentContent())return e;var n=e.getSelection();return KDt.push(e,t.set("selectionBefore",n),n.isCollapsed()?"delete-character":"remove-range")}var XDt=YDt,wfe=mc,xfe=io,QDt=a8;function JDt(e){var t=e.getSelection();if(!t.isCollapsed())return e;var n=t.getAnchorOffset();if(n===0)return e;var r=t.getAnchorKey(),i=e.getCurrentContent(),o=i.getBlockForKey(r),s=o.getLength();if(s<=1)return e;var a,l;n===s?(a=t.set("anchorOffset",n-1),l=t):(a=t.set("focusOffset",n+1),l=a.set("anchorOffset",n+1));var u=QDt(i,a),c=wfe.removeRange(i,a,"backward"),f=c.getSelectionAfter(),p=f.getAnchorOffset()-1,g=f.merge({anchorOffset:p,focusOffset:p}),v=wfe.replaceWithFragment(c,g,u),y=xfe.push(e,v,"insert-fragment");return xfe.acceptSelection(y,l)}var e9t=JDt,KB=io;function t9t(e,t,n){var r=KB.undo(t);if(t.getLastChangeType()==="spellcheck-change"){var i=r.getCurrentContent();n(KB.set(r,{nativelyRenderedContent:i}));return}if(e.preventDefault(),!t.getNativelyRenderedContent()){n(r);return}n(KB.set(t,{nativelyRenderedContent:null})),setTimeout(function(){n(r)},0)}var n9t=t9t,r9t=mc,H8e=io,i9t=ote,_m=m8,Sfe=YRt,o9t=vc,_fe=b8,s9t=pDt,a9t=$Dt,l9t=DDt,u9t=FDt,c9t=HDt,d9t=WDt,f9t=O8e,h9t=XDt,p9t=e9t,m9t=n9t,Cfe=i9t.isOptionKeyCommand,Efe=o9t.isBrowser("Chrome");function g9t(e,t,n){switch(e){case"redo":return H8e.redo(t);case"delete":return h9t(t);case"delete-word":return l9t(t);case"backspace":return f9t(t);case"backspace-word":return a9t(t);case"backspace-to-start-of-line":return s9t(t,n);case"split-block":return u9t(t);case"transpose-characters":return p9t(t);case"move-selection-to-start-of-block":return d9t(t);case"move-selection-to-end-of-block":return c9t(t);case"secondary-cut":return Sfe.cut(t);case"secondary-paste":return Sfe.paste(t);default:return t}}function v9t(e,t){var n=t.which,r=e._latestEditorState;function i(l){var u=e.props[l];return u?(u(t),!0):!1}switch(n){case _m.RETURN:if(t.preventDefault(),e.props.handleReturn&&_fe(e.props.handleReturn(t,r)))return;break;case _m.ESC:if(t.preventDefault(),i("onEscape"))return;break;case _m.TAB:if(i("onTab"))return;break;case _m.UP:if(i("onUpArrow"))return;break;case _m.RIGHT:if(i("onRightArrow"))return;break;case _m.DOWN:if(i("onDownArrow"))return;break;case _m.LEFT:if(i("onLeftArrow"))return;break;case _m.SPACE:Efe&&Cfe(t)&&t.preventDefault()}var o=e.props.keyBindingFn(t);if(o==null||o===""){if(n===_m.SPACE&&Efe&&Cfe(t)){var s=r9t.replaceText(r.getCurrentContent(),r.getSelection(),"");e.update(H8e.push(r,s,"insert-characters"))}return}if(o==="undo"){m9t(t,r,e.update);return}if(t.preventDefault(),!(e.props.handleKeyCommand&&_fe(e.props.handleKeyCommand(o,r,t.timeStamp)))){var a=g9t(o,r,t);a!==r&&e.update(a)}}var y9t=v9t;function b9t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w9t=function(){function e(n){b9t(this,"_uri",void 0),this._uri=n}var t=e.prototype;return t.toString=function(){return this._uri},e}(),x9t=w9t,S9t=vc,_9t=Si,C9t=S9t.isBrowser("IE <= 9");function E9t(e){var t,n=null;return!C9t&&document.implementation&&document.implementation.createHTMLDocument&&(t=document.implementation.createHTMLDocument("foo"),t.documentElement||_9t(!1),t.documentElement.innerHTML=e,n=t.getElementsByTagName("body")[0]),n}var V8e=E9t,k9t=Rx;function P9t(e){return!e||!e.ownerDocument?!1:k9t(e)&&e.nodeName==="A"}var $9t=P9t,T9t=Rx;function M9t(e){return!e||!e.ownerDocument?!1:T9t(e)&&e.nodeName==="IMG"}var L9t=M9t,F1;function qB(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){Wa(e,i,n[i])})}return e}function Wa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var A9t=vf,I9t=Lx,R9t=yf,D9t=Yee,kfe=l8,U8e=x9t,YE=Ax,Pfe=am,O9t=V8e,W8e=p1,ste=ci,Fv=ste.List,K8e=ste.Map,j9t=ste.OrderedSet,q8e=$9t,N9t=c8e,ate=k5,G8e=L9t,$fe=W8e("draft_tree_data_support"),F9t="&nbsp;",Z8e=" ",B9t=new RegExp("\r","g"),z9t=new RegExp(`
`,"g"),H9t=new RegExp(`^
`,"g"),V9t=new RegExp(F9t,"g"),U9t=new RegExp("&#13;?","g"),W9t=new RegExp("&#8203;?","g"),K9t=["bold","bolder","500","600","700","800","900"],q9t=["light","lighter","normal","100","200","300","400"],G9t=["className","href","rel","target","title"],Z9t=["alt","className","height","src","width"],Tfe=(F1={},Wa(F1,YE("public/DraftStyleDefault/depth0"),0),Wa(F1,YE("public/DraftStyleDefault/depth1"),1),Wa(F1,YE("public/DraftStyleDefault/depth2"),2),Wa(F1,YE("public/DraftStyleDefault/depth3"),3),Wa(F1,YE("public/DraftStyleDefault/depth4"),4),F1),Mfe=K8e({b:"BOLD",code:"CODE",del:"STRIKETHROUGH",em:"ITALIC",i:"ITALIC",s:"STRIKETHROUGH",strike:"STRIKETHROUGH",strong:"BOLD",u:"UNDERLINE",mark:"HIGHLIGHT"}),Y9t=function(t){var n={};return t.mapKeys(function(r,i){var o=[i.element];i.aliasedElements!==void 0&&o.push.apply(o,i.aliasedElements),o.forEach(function(s){n[s]===void 0?n[s]=r:typeof n[s]=="string"?n[s]=[n[s],r]:n[s].push(r)})}),K8e(n)},X9t=function(t){if(ate(t)){var n=t;if(n.style.fontFamily.includes("monospace"))return"CODE"}return null},Q9t=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Object.keys(Tfe).some(function(r){t.classList.contains(r)&&(n=Tfe[r])}),n},J9t=function(t){if(!q8e(t))return!1;var n=t;if(!n.href||n.protocol!=="http:"&&n.protocol!=="https:"&&n.protocol!=="mailto:"&&n.protocol!=="tel:")return!1;try{var r=new U8e(n.href);return!0}catch{return!1}},eOt=function(t){if(!G8e(t))return!1;var n=t;return!!(n.attributes.getNamedItem("src")&&n.attributes.getNamedItem("src").value)},tOt=function(t,n){if(!ate(t))return n;var r=t,i=r.style.fontWeight,o=r.style.fontStyle,s=r.style.textDecoration;return n.withMutations(function(a){K9t.indexOf(i)>=0?a.add("BOLD"):q9t.indexOf(i)>=0&&a.remove("BOLD"),o==="italic"?a.add("ITALIC"):o==="normal"&&a.remove("ITALIC"),s==="underline"&&a.add("UNDERLINE"),s==="line-through"&&a.add("STRIKETHROUGH"),s==="none"&&(a.remove("UNDERLINE"),a.remove("STRIKETHROUGH"))})},GB=function(t){return t==="ul"||t==="ol"},nOt=function(){function e(n,r){Wa(this,"characterList",Fv()),Wa(this,"currentBlockType","unstyled"),Wa(this,"currentDepth",0),Wa(this,"currentEntity",null),Wa(this,"currentText",""),Wa(this,"wrapper",null),Wa(this,"blockConfigs",[]),Wa(this,"contentBlocks",[]),Wa(this,"entityMap",kfe),Wa(this,"blockTypeMap",void 0),Wa(this,"disambiguate",void 0),this.clear(),this.blockTypeMap=n,this.disambiguate=r}var t=e.prototype;return t.clear=function(){this.characterList=Fv(),this.blockConfigs=[],this.currentBlockType="unstyled",this.currentDepth=0,this.currentEntity=null,this.currentText="",this.entityMap=kfe,this.wrapper=null,this.contentBlocks=[]},t.addDOMNode=function(r){var i;return this.contentBlocks=[],this.currentDepth=0,(i=this.blockConfigs).push.apply(i,this._toBlockConfigs([r],j9t())),this._trimCurrentText(),this.currentText!==""&&this.blockConfigs.push(this._makeBlockConfig()),this},t.getContentBlocks=function(){return this.contentBlocks.length===0&&($fe?this._toContentBlocks(this.blockConfigs):this._toFlatContentBlocks(this.blockConfigs)),{contentBlocks:this.contentBlocks,entityMap:this.entityMap}},t._makeBlockConfig=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=r.key||Pfe(),o=qB({key:i,type:this.currentBlockType,text:this.currentText,characterList:this.characterList,depth:this.currentDepth,parent:null,children:Fv(),prevSibling:null,nextSibling:null,childConfigs:[]},r);return this.characterList=Fv(),this.currentBlockType="unstyled",this.currentText="",o},t._toBlockConfigs=function(r,i){for(var o=[],s=0;s<r.length;s++){var a=r[s],l=a.nodeName.toLowerCase();if(l==="body"||GB(l)){this._trimCurrentText(),this.currentText!==""&&o.push(this._makeBlockConfig());var u=this.currentDepth,c=this.wrapper;GB(l)&&(this.wrapper=l,GB(c)&&this.currentDepth++),o.push.apply(o,this._toBlockConfigs(Array.from(a.childNodes),i)),this.currentDepth=u,this.wrapper=c;continue}var f=this.blockTypeMap.get(l);if(f!==void 0){this._trimCurrentText(),this.currentText!==""&&o.push(this._makeBlockConfig());var p=this.currentDepth,g=this.wrapper;if(this.wrapper=l==="pre"?"pre":this.wrapper,typeof f!="string"&&(f=this.disambiguate(l,this.wrapper)||f[0]||"unstyled"),!$fe&&ate(a)&&(f==="unordered-list-item"||f==="ordered-list-item")){var v=a;this.currentDepth=Q9t(v,this.currentDepth)}var y=Pfe(),S=this._toBlockConfigs(Array.from(a.childNodes),i);this._trimCurrentText(),o.push(this._makeBlockConfig({key:y,childConfigs:S,type:f})),this.currentDepth=p,this.wrapper=g;continue}if(l==="#text"){this._addTextNode(a,i);continue}if(l==="br"){this._addBreakNode(a,i);continue}if(eOt(a)){this._addImgNode(a,i);continue}if(J9t(a)){this._addAnchorNode(a,o,i);continue}var C=i;Mfe.has(l)&&(C=C.add(Mfe.get(l))),C=tOt(a,C);var _=X9t(a);_!=null&&(C=C.add(_)),o.push.apply(o,this._toBlockConfigs(Array.from(a.childNodes),C))}return o},t._appendText=function(r,i){var o;this.currentText+=r;var s=A9t.create({style:i,entity:this.currentEntity});this.characterList=(o=this.characterList).push.apply(o,Array(r.length).fill(s))},t._trimCurrentText=function(){var r=this.currentText.length,i=r-this.currentText.trimLeft().length,o=this.currentText.trimRight().length,s=this.characterList.findEntry(function(a){return a.getEntity()!==null});i=s!==void 0?Math.min(i,s[0]):i,s=this.characterList.reverse().findEntry(function(a){return a.getEntity()!==null}),o=s!==void 0?Math.max(o,r-s[0]):o,i>o?(this.currentText="",this.characterList=Fv()):(this.currentText=this.currentText.slice(i,o),this.characterList=this.characterList.slice(i,o))},t._addTextNode=function(r,i){var o=r.textContent,s=o.trim();s===""&&this.wrapper!=="pre"&&(o=" "),this.wrapper!=="pre"&&(o=o.replace(H9t,""),o=o.replace(z9t,Z8e)),this._appendText(o,i)},t._addBreakNode=function(r,i){N9t(r)&&this._appendText(`
`,i)},t._addImgNode=function(r,i){if(G8e(r)){var o=r,s={};Z9t.forEach(function(a){var l=o.getAttribute(a);l&&(s[a]=l)}),this.currentEntity=this.entityMap.__create("IMAGE","IMMUTABLE",s),W8e("draftjs_fix_paste_for_img")?o.getAttribute("role")!=="presentation"&&this._appendText("",i):this._appendText("",i),this.currentEntity=null}},t._addAnchorNode=function(r,i,o){if(q8e(r)){var s=r,a={};G9t.forEach(function(l){var u=s.getAttribute(l);u&&(a[l]=u)}),a.url=new U8e(s.href).toString(),this.currentEntity=this.entityMap.__create("LINK","MUTABLE",a||{}),i.push.apply(i,this._toBlockConfigs(Array.from(r.childNodes),o)),this.currentEntity=null}},t._toContentBlocks=function(r){for(var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,o=r.length-1,s=0;s<=o;s++){var a=r[s];a.parent=i,a.prevSibling=s>0?r[s-1].key:null,a.nextSibling=s<o?r[s+1].key:null,a.children=Fv(a.childConfigs.map(function(l){return l.key})),this.contentBlocks.push(new R9t(qB({},a))),this._toContentBlocks(a.childConfigs,a.key)}},t._hoistContainersInBlockConfigs=function(r){var i=this,o=Fv(r).flatMap(function(s){return s.type!=="unstyled"||s.text!==""?[s]:i._hoistContainersInBlockConfigs(s.childConfigs)});return o},t._toFlatContentBlocks=function(r){var i=this,o=this._hoistContainersInBlockConfigs(r);o.forEach(function(s){var a=i._extractTextFromBlockConfigs(s.childConfigs),l=a.text,u=a.characterList;i.contentBlocks.push(new I9t(qB({},s,{text:s.text+l,characterList:s.characterList.concat(u)})))})},t._extractTextFromBlockConfigs=function(r){for(var i=r.length-1,o="",s=Fv(),a=0;a<=i;a++){var l=r[a];o+=l.text,s=s.concat(l.characterList),o!==""&&l.type!=="unstyled"&&(o+=`
`,s=s.push(s.last()));var u=this._extractTextFromBlockConfigs(l.childConfigs);o+=u.text,s=s.concat(u.characterList)}return{text:o,characterList:s}},e}(),rOt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:O9t,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:D9t;t=t.trim().replace(B9t,"").replace(V9t,Z8e).replace(U9t,"").replace(W9t,"");var i=n(t);if(!i)return null;var o=Y9t(r),s=function(l,u){return l==="li"?u==="ol"?"ordered-list-item":"unordered-list-item":null};return new nOt(o,s).addDOMNode(i).getContentBlocks()},Y8e=rOt;function iOt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){oOt(e,i,n[i])})}return e}function oOt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var sOt=Lx,aOt=yf,lOt=Y8e,uOt=am,cOt=V8e,dOt=p1,X8e=ci,fOt=A7e,hOt=X8e.List,pOt=X8e.Repeat,Q8e=dOt("draft_tree_data_support"),mOt=Q8e?aOt:sOt,gOt={processHTML:function(t,n){return lOt(t,cOt,n)},processText:function(t,n,r){return t.reduce(function(i,o,s){o=fOt(o);var a=uOt(),l={key:a,type:r,text:o,characterList:hOt(pOt(n,o.length))};if(Q8e&&s!==0){var u=s-1,c=i[u]=i[u].merge({nextSibling:a});l=iOt({},l,{prevSibling:c.getKey()})}return i.push(new mOt(l)),i},[])}},vOt=gOt;function yOt(e,t,n,r){var i=t.getStartKey(),o=t.getEndKey(),s=e.getBlockMap(),a=s.toSeq().skipUntil(function(l,u){return u===i}).takeUntil(function(l,u){return u===o}).concat([[o,s.get(o)]]).map(function(l){var u=l.getDepth()+n;return u=Math.max(0,Math.min(u,r)),l.set("depth",u)});return s=s.merge(a),e.merge({blockMap:s,selectionBefore:t,selectionAfter:t})}var bOt=yOt,B1=mc,Nh=io,wOt=bOt,xOt=gc,Kh={currentBlockContainsLink:function(t){var n=t.getSelection(),r=t.getCurrentContent(),i=r.getEntityMap();return r.getBlockForKey(n.getAnchorKey()).getCharacterList().slice(n.getStartOffset(),n.getEndOffset()).some(function(o){var s=o.getEntity();return!!s&&i.__get(s).getType()==="LINK"})},getCurrentBlockType:function(t){var n=t.getSelection();return t.getCurrentContent().getBlockForKey(n.getStartKey()).getType()},getDataObjectForLinkURL:function(t){return{url:t.toString()}},handleKeyCommand:function(t,n,r){switch(n){case"bold":return Kh.toggleInlineStyle(t,"BOLD");case"italic":return Kh.toggleInlineStyle(t,"ITALIC");case"underline":return Kh.toggleInlineStyle(t,"UNDERLINE");case"code":return Kh.toggleCode(t);case"backspace":case"backspace-word":case"backspace-to-start-of-line":return Kh.onBackspace(t);case"delete":case"delete-word":case"delete-to-end-of-block":return Kh.onDelete(t);default:return null}},insertSoftNewline:function(t){var n=B1.insertText(t.getCurrentContent(),t.getSelection(),`
`,t.getCurrentInlineStyle(),null),r=Nh.push(t,n,"insert-characters");return Nh.forceSelection(r,n.getSelectionAfter())},onBackspace:function(t){var n=t.getSelection();if(!n.isCollapsed()||n.getAnchorOffset()||n.getFocusOffset())return null;var r=t.getCurrentContent(),i=n.getStartKey(),o=r.getBlockBefore(i);if(o&&o.getType()==="atomic"){var s=r.getBlockMap().delete(o.getKey()),a=r.merge({blockMap:s,selectionAfter:n});if(a!==r)return Nh.push(t,a,"remove-range")}var l=Kh.tryToRemoveBlockStyle(t);return l?Nh.push(t,l,"change-block-type"):null},onDelete:function(t){var n=t.getSelection();if(!n.isCollapsed())return null;var r=t.getCurrentContent(),i=n.getStartKey(),o=r.getBlockForKey(i),s=o.getLength();if(n.getStartOffset()<s)return null;var a=r.getBlockAfter(i);if(!a||a.getType()!=="atomic")return null;var l=n.merge({focusKey:a.getKey(),focusOffset:a.getLength()}),u=B1.removeRange(r,l,"forward");return u!==r?Nh.push(t,u,"remove-range"):null},onTab:function(t,n,r){var i=n.getSelection(),o=i.getAnchorKey();if(o!==i.getFocusKey())return n;var s=n.getCurrentContent(),a=s.getBlockForKey(o),l=a.getType();if(l!=="unordered-list-item"&&l!=="ordered-list-item")return n;t.preventDefault();var u=a.getDepth();if(!t.shiftKey&&u===r)return n;var c=wOt(s,i,t.shiftKey?-1:1,r);return Nh.push(n,c,"adjust-depth")},toggleBlockType:function(t,n){var r=t.getSelection(),i=r.getStartKey(),o=r.getEndKey(),s=t.getCurrentContent(),a=r;if(i!==o&&r.getEndOffset()===0){var l=xOt(s.getBlockBefore(o));o=l.getKey(),a=a.merge({anchorKey:i,anchorOffset:r.getStartOffset(),focusKey:o,focusOffset:l.getLength(),isBackward:!1})}var u=s.getBlockMap().skipWhile(function(f,p){return p!==i}).reverse().skipWhile(function(f,p){return p!==o}).some(function(f){return f.getType()==="atomic"});if(u)return t;var c=s.getBlockForKey(i).getType()===n?"unstyled":n;return Nh.push(t,B1.setBlockType(s,a,c),"change-block-type")},toggleCode:function(t){var n=t.getSelection(),r=n.getAnchorKey(),i=n.getFocusKey();return n.isCollapsed()||r!==i?Kh.toggleBlockType(t,"code-block"):Kh.toggleInlineStyle(t,"CODE")},toggleInlineStyle:function(t,n){var r=t.getSelection(),i=t.getCurrentInlineStyle();if(r.isCollapsed())return Nh.setInlineStyleOverride(t,i.has(n)?i.remove(n):i.add(n));var o=t.getCurrentContent(),s;return i.has(n)?s=B1.removeInlineStyle(o,r,n):s=B1.applyInlineStyle(o,r,n),Nh.push(t,s,"change-inline-style")},toggleLink:function(t,n,r){var i=B1.applyEntity(t.getCurrentContent(),n,r);return Nh.push(t,i,"apply-entity")},tryToRemoveBlockStyle:function(t){var n=t.getSelection(),r=n.getAnchorOffset();if(n.isCollapsed()&&r===0){var i=n.getAnchorKey(),o=t.getCurrentContent(),s=o.getBlockForKey(i),a=s.getType(),l=o.getBlockBefore(i);if(a==="code-block"&&l&&l.getType()==="code-block"&&l.getLength()!==0)return null;if(a!=="unstyled")return B1.setBlockType(o,n,"unstyled")}return null}},J8e=Kh,SOt=/\r\n?|\n/g;function _Ot(e){return e.split(SOt)}var COt=_Ot,ZB=b5,Lfe=vf,EOt=P8e,eje=mc,YB=vOt,tje=io,Afe=J8e,Ife=Qee,kOt=$8e,Rfe=b8,Dfe=COt;function POt(e,t){t.preventDefault();var n=new EOt(t.clipboardData);if(!n.isRichText()){var r=n.getFiles(),i=n.getText();if(r.length>0){if(e.props.handlePastedFiles&&Rfe(e.props.handlePastedFiles(r)))return;kOt(r,function(M){if(M=M||i,!!M){var R=e._latestEditorState,D=Dfe(M),H=Lfe.create({style:R.getCurrentInlineStyle(),entity:Ife(R.getCurrentContent(),R.getSelection())}),O=Afe.getCurrentBlockType(R),z=YB.processText(D,H,O),G=ZB.createFromArray(z),ee=eje.replaceWithFragment(R.getCurrentContent(),R.getSelection(),G);e.update(tje.push(R,ee,"insert-fragment"))}});return}}var o=[],s=n.getText(),a=n.getHTML(),l=e._latestEditorState;if(e.props.formatPastedText){var u=e.props.formatPastedText(s,a),c=u.text,f=u.html;s=c,a=f}if(!(e.props.handlePastedText&&Rfe(e.props.handlePastedText(s,a,l)))){if(s&&(o=Dfe(s)),!e.props.stripPastedStyles){var p=e.getClipboard();if(!e.props.formatPastedText&&n.isRichText()&&p){var g;if(((g=a)===null||g===void 0?void 0:g.indexOf(e.getEditorKey()))!==-1||o.length===1&&p.size===1&&p.first().getText()===s){e.update(gL(e._latestEditorState,p));return}}else if(p&&n.types.includes("com.apple.webarchive")&&!n.types.includes("text/html")&&$Ot(o,p)){e.update(gL(e._latestEditorState,p));return}if(a){var v=YB.processHTML(a,e.props.blockRenderMap);if(v){var y=v.contentBlocks,S=v.entityMap;if(y){var C=ZB.createFromArray(y);e.update(gL(e._latestEditorState,C,S));return}}}e.setClipboard(null)}if(o.length){var _=Lfe.create({style:l.getCurrentInlineStyle(),entity:Ife(l.getCurrentContent(),l.getSelection())}),k=Afe.getCurrentBlockType(l),w=YB.processText(o,_,k),P=ZB.createFromArray(w);e.update(gL(e._latestEditorState,P))}}}function gL(e,t,n){var r=eje.replaceWithFragment(e.getCurrentContent(),e.getSelection(),t);return tje.push(e,r.set("entityMap",n),"insert-fragment")}function $Ot(e,t){return e.length===t.size&&t.valueSeq().every(function(n,r){return n.getText()===e[r]})}var TOt=POt,nje=vc,MOt=IIt,LOt=jIt,AOt=BIt,IOt=WIt,ROt=nRt,DOt=iRt,OOt=sRt,jOt=uRt,NOt=zRt,FOt=y9t,BOt=TOt,rje=a8e,zOt=nje.isBrowser("Chrome"),HOt=nje.isBrowser("Firefox"),Ofe=zOt||HOt?rje:function(e){},VOt={onBeforeInput:MOt,onBlur:LOt,onCompositionStart:AOt,onCopy:IOt,onCut:ROt,onDragOver:DOt,onDragStart:OOt,onFocus:jOt,onInput:NOt,onKeyDown:FOt,onPaste:BOt,onSelect:rje,onMouseUp:Ofe,onKeyUp:Ofe},UOt=VOt,WOt=ai,KOt=WOt.unstable_flushControlled,qOt=KOt;function GOt(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var XB=h,jfe=Ax,ZOt=function(e){GOt(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;return n.shouldComponentUpdate=function(i){return this.props.text!==i.text||this.props.editorState.getSelection().getHasFocus()!==i.editorState.getSelection().getHasFocus()},n.render=function(){var i=this.props.editorState.getSelection().getHasFocus(),o=jfe({"public/DraftEditorPlaceholder/root":!0,"public/DraftEditorPlaceholder/hasFocus":i}),s={whiteSpace:"pre-wrap"};return XB.createElement("div",{className:o},XB.createElement("div",{className:jfe("public/DraftEditorPlaceholder/inner"),id:this.props.accessibilityID,style:s},this.props.text))},t}(XB.Component),YOt=ZOt,ije=ote,XE=m8,oje=vc,d0=oje.isPlatform("Mac OS X"),Nfe=d0&&oje.isBrowser("Firefox < 29"),ly=ije.hasCommandModifier,Pm=ije.isCtrlKeyCommand;function sje(e){return d0&&e.altKey||Pm(e)}function XOt(e){return ly(e)?e.shiftKey?"redo":"undo":null}function QOt(e){return!d0&&e.shiftKey?null:sje(e)?"delete-word":"delete"}function JOt(e){return ly(e)&&d0?"backspace-to-start-of-line":sje(e)?"backspace-word":"backspace"}function e7t(e){switch(e.keyCode){case 66:return ly(e)?"bold":null;case 68:return Pm(e)?"delete":null;case 72:return Pm(e)?"backspace":null;case 73:return ly(e)?"italic":null;case 74:return ly(e)?"code":null;case 75:return d0&&Pm(e)?"secondary-cut":null;case 77:return Pm(e)?"split-block":null;case 79:return Pm(e)?"split-block":null;case 84:return d0&&Pm(e)?"transpose-characters":null;case 85:return ly(e)?"underline":null;case 87:return d0&&Pm(e)?"backspace-word":null;case 89:return Pm(e)?d0?"secondary-paste":"redo":null;case 90:return XOt(e)||null;case XE.RETURN:return"split-block";case XE.DELETE:return QOt(e);case XE.BACKSPACE:return JOt(e);case XE.LEFT:return Nfe&&ly(e)?"move-selection-to-start-of-block":null;case XE.RIGHT:return Nfe&&ly(e)?"move-selection-to-end-of-block":null;default:return null}}var aje=e7t,t7t={setImmediate:"((fn, ...args) => setTimeout(fn, 0, ...args))"},n7t=Ix;function EG(){return EG=n7t||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},EG.apply(this,arguments)}function QB(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){sn(e,i,n[i])})}return e}function pn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lje(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var r7t=Yee,i7t=q7e,o7t=mLt,s7t=zAt,a7t=yIt,l7t=UOt,Ffe=qOt,u7t=YOt,c7t=d8e,d7t=io,Qv=h,f7t=nte,h7t=g8,p7t=vc,JB=Ax,m7t=am,g7t=aje,v7t=v8,y7t=p1,Bfe=Si,zfe=k5,b7t=gc,uje=p7t.isBrowser("IE"),w7t=!uje,Hfe={edit:l7t,composite:o7t,drag:a7t,cut:null,render:null},Vfe=!1,x7t=function(e){lje(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;return n.render=function(){return null},n.componentDidMount=function(){this._update()},n.componentDidUpdate=function(){this._update()},n._update=function(){var i=this.props.editor;i._latestEditorState=this.props.editorState,i._blockSelectEvents=!0},t}(Qv.Component),cje=function(e){lje(t,e);function t(r){var i;return i=e.call(this,r)||this,sn(pn(i),"_blockSelectEvents",void 0),sn(pn(i),"_clipboard",void 0),sn(pn(i),"_handler",void 0),sn(pn(i),"_dragCount",void 0),sn(pn(i),"_internalDrag",void 0),sn(pn(i),"_editorKey",void 0),sn(pn(i),"_placeholderAccessibilityID",void 0),sn(pn(i),"_latestEditorState",void 0),sn(pn(i),"_latestCommittedEditorState",void 0),sn(pn(i),"_pendingStateFromBeforeInput",void 0),sn(pn(i),"_onBeforeInput",void 0),sn(pn(i),"_onBlur",void 0),sn(pn(i),"_onCharacterData",void 0),sn(pn(i),"_onCompositionEnd",void 0),sn(pn(i),"_onCompositionStart",void 0),sn(pn(i),"_onCopy",void 0),sn(pn(i),"_onCut",void 0),sn(pn(i),"_onDragEnd",void 0),sn(pn(i),"_onDragOver",void 0),sn(pn(i),"_onDragStart",void 0),sn(pn(i),"_onDrop",void 0),sn(pn(i),"_onInput",void 0),sn(pn(i),"_onFocus",void 0),sn(pn(i),"_onKeyDown",void 0),sn(pn(i),"_onKeyPress",void 0),sn(pn(i),"_onKeyUp",void 0),sn(pn(i),"_onMouseDown",void 0),sn(pn(i),"_onMouseUp",void 0),sn(pn(i),"_onPaste",void 0),sn(pn(i),"_onSelect",void 0),sn(pn(i),"editor",void 0),sn(pn(i),"editorContainer",void 0),sn(pn(i),"focus",void 0),sn(pn(i),"blur",void 0),sn(pn(i),"setMode",void 0),sn(pn(i),"exitCurrentMode",void 0),sn(pn(i),"restoreEditorDOM",void 0),sn(pn(i),"setClipboard",void 0),sn(pn(i),"getClipboard",void 0),sn(pn(i),"getEditorKey",void 0),sn(pn(i),"update",void 0),sn(pn(i),"onDragEnter",void 0),sn(pn(i),"onDragLeave",void 0),sn(pn(i),"_handleEditorContainerRef",function(o){i.editorContainer=o,i.editor=o!==null?o.firstChild:null}),sn(pn(i),"focus",function(o){var s=i.props.editorState,a=s.getSelection().getHasFocus(),l=i.editor;if(l){var u=h7t.getScrollParent(l),c=o||v7t(u),f=c.x,p=c.y;zfe(l)||Bfe(!1),l.focus(),u===window?window.scrollTo(f,p):f7t.setTop(u,p),a||i.update(d7t.forceSelection(s,s.getSelection()))}}),sn(pn(i),"blur",function(){var o=i.editor;o&&(zfe(o)||Bfe(!1),o.blur())}),sn(pn(i),"setMode",function(o){var s=i.props,a=s.onPaste,l=s.onCut,u=s.onCopy,c=QB({},Hfe.edit);a&&(c.onPaste=a),l&&(c.onCut=l),u&&(c.onCopy=u);var f=QB({},Hfe,{edit:c});i._handler=f[o]}),sn(pn(i),"exitCurrentMode",function(){i.setMode("edit")}),sn(pn(i),"restoreEditorDOM",function(o){i.setState({contentsKey:i.state.contentsKey+1},function(){i.focus(o)})}),sn(pn(i),"setClipboard",function(o){i._clipboard=o}),sn(pn(i),"getClipboard",function(){return i._clipboard}),sn(pn(i),"update",function(o){i._latestEditorState=o,i.props.onChange(o)}),sn(pn(i),"onDragEnter",function(){i._dragCount++}),sn(pn(i),"onDragLeave",function(){i._dragCount--,i._dragCount===0&&i.exitCurrentMode()}),i._blockSelectEvents=!1,i._clipboard=null,i._handler=null,i._dragCount=0,i._editorKey=r.editorKey||m7t(),i._placeholderAccessibilityID="placeholder-"+i._editorKey,i._latestEditorState=r.editorState,i._latestCommittedEditorState=r.editorState,i._onBeforeInput=i._buildHandler("onBeforeInput"),i._onBlur=i._buildHandler("onBlur"),i._onCharacterData=i._buildHandler("onCharacterData"),i._onCompositionEnd=i._buildHandler("onCompositionEnd"),i._onCompositionStart=i._buildHandler("onCompositionStart"),i._onCopy=i._buildHandler("onCopy"),i._onCut=i._buildHandler("onCut"),i._onDragEnd=i._buildHandler("onDragEnd"),i._onDragOver=i._buildHandler("onDragOver"),i._onDragStart=i._buildHandler("onDragStart"),i._onDrop=i._buildHandler("onDrop"),i._onInput=i._buildHandler("onInput"),i._onFocus=i._buildHandler("onFocus"),i._onKeyDown=i._buildHandler("onKeyDown"),i._onKeyPress=i._buildHandler("onKeyPress"),i._onKeyUp=i._buildHandler("onKeyUp"),i._onMouseDown=i._buildHandler("onMouseDown"),i._onMouseUp=i._buildHandler("onMouseUp"),i._onPaste=i._buildHandler("onPaste"),i._onSelect=i._buildHandler("onSelect"),i.getEditorKey=function(){return i._editorKey},i.state={contentsKey:0},i}var n=t.prototype;return n._buildHandler=function(i){var o=this;return function(s){if(!o.props.readOnly){var a=o._handler&&o._handler[i];a&&(Ffe?Ffe(function(){return a(o,s)}):a(o,s))}}},n._showPlaceholder=function(){return!!this.props.placeholder&&!this.props.editorState.isInCompositionMode()&&!this.props.editorState.getCurrentContent().hasText()},n._renderPlaceholder=function(){if(this._showPlaceholder()){var i={text:b7t(this.props.placeholder),editorState:this.props.editorState,textAlignment:this.props.textAlignment,accessibilityID:this._placeholderAccessibilityID};return Qv.createElement(u7t,i)}return null},n._renderARIADescribedBy=function(){var i=this.props.ariaDescribedBy||"",o=this._showPlaceholder()?this._placeholderAccessibilityID:"";return i.replace("{{editor_id_placeholder}}",o)||void 0},n.render=function(){var i=this.props,o=i.blockRenderMap,s=i.blockRendererFn,a=i.blockStyleFn,l=i.customStyleFn,u=i.customStyleMap,c=i.editorState,f=i.preventScroll,p=i.readOnly,g=i.textAlignment,v=i.textDirectionality,y=JB({"DraftEditor/root":!0,"DraftEditor/alignLeft":g==="left","DraftEditor/alignRight":g==="right","DraftEditor/alignCenter":g==="center"}),S={outline:"none",userSelect:"text",WebkitUserSelect:"text",whiteSpace:"pre-wrap",wordWrap:"break-word"},C=this.props.role||"textbox",_=C==="combobox"?!!this.props.ariaExpanded:null,k={blockRenderMap:o,blockRendererFn:s,blockStyleFn:a,customStyleMap:QB({},i7t,u),customStyleFn:l,editorKey:this._editorKey,editorState:c,preventScroll:f,textDirectionality:v};return Qv.createElement("div",{className:y},this._renderPlaceholder(),Qv.createElement("div",{className:JB("DraftEditor/editorContainer"),ref:this._handleEditorContainerRef},Qv.createElement("div",{"aria-activedescendant":p?null:this.props.ariaActiveDescendantID,"aria-autocomplete":p?null:this.props.ariaAutoComplete,"aria-controls":p?null:this.props.ariaControls,"aria-describedby":this._renderARIADescribedBy(),"aria-expanded":p?null:_,"aria-label":this.props.ariaLabel,"aria-labelledby":this.props.ariaLabelledBy,"aria-multiline":this.props.ariaMultiline,"aria-owns":p?null:this.props.ariaOwneeID,autoCapitalize:this.props.autoCapitalize,autoComplete:this.props.autoComplete,autoCorrect:this.props.autoCorrect,className:JB({notranslate:!p,"public/DraftEditor/content":!0}),contentEditable:!p,"data-testid":this.props.webDriverTestID,onBeforeInput:this._onBeforeInput,onBlur:this._onBlur,onCompositionEnd:this._onCompositionEnd,onCompositionStart:this._onCompositionStart,onCopy:this._onCopy,onCut:this._onCut,onDragEnd:this._onDragEnd,onDragEnter:this.onDragEnter,onDragLeave:this.onDragLeave,onDragOver:this._onDragOver,onDragStart:this._onDragStart,onDrop:this._onDrop,onFocus:this._onFocus,onInput:this._onInput,onKeyDown:this._onKeyDown,onKeyPress:this._onKeyPress,onKeyUp:this._onKeyUp,onMouseUp:this._onMouseUp,onPaste:this._onPaste,onSelect:this._onSelect,ref:this.props.editorRef,role:p?null:C,spellCheck:w7t&&this.props.spellCheck,style:S,suppressContentEditableWarning:!0,tabIndex:this.props.tabIndex},Qv.createElement(x7t,{editor:this,editorState:c}),Qv.createElement(s7t,EG({},k,{key:"contents"+this.state.contentsKey})))))},n.componentDidMount=function(){this._blockSelectEvents=!1,!Vfe&&y7t("draft_ods_enabled")&&(Vfe=!0,c7t.initODS()),this.setMode("edit"),uje&&(this.editor?this.editor.ownerDocument.execCommand("AutoUrlDetect",!1,!1):t7t.execCommand("AutoUrlDetect",!1,!1))},n.componentDidUpdate=function(){this._blockSelectEvents=!1,this._latestEditorState=this.props.editorState,this._latestCommittedEditorState=this.props.editorState},t}(Qv.Component);sn(cje,"defaultProps",{ariaDescribedBy:"{{editor_id_placeholder}}",blockRenderMap:r7t,blockRendererFn:function(){return null},blockStyleFn:function(){return""},keyBindingFn:g7t,readOnly:!1,spellCheck:!1,stripPastedStyles:!1});var S7t=cje,_7t={},C7t={stringify:function(t){return"_"+String(t)},unstringify:function(t){return t.slice(1)}},dje=C7t,E7t=dje,k7t=Ox,Ufe=k7t.strlen;function P7t(e,t){var n=[];return e.findEntityRanges(function(r){return!!r.getEntity()},function(r,i){var o=e.getText(),s=e.getEntityAt(r);n.push({offset:Ufe(o.slice(0,r)),length:Ufe(o.slice(r,i)),key:Number(t[E7t.stringify(s)])})}),n}var $7t=P7t,Wfe=Ox,T7t=w5,M7t=function(t,n){return t===n},L7t=function(t){return!!t},A7t=[];function I7t(e,t,n){var r=[],i=t.map(function(o){return o.has(n)}).toList();return T7t(i,M7t,L7t,function(o,s){var a=e.getText();r.push({offset:Wfe.strlen(a.slice(0,o)),length:Wfe.strlen(a.slice(o,s)),style:n})}),r}function R7t(e){var t=e.getCharacterList().map(function(r){return r.getStyle()}).toList(),n=t.flatten().toSet().map(function(r){return I7t(e,t,r)});return Array.prototype.concat.apply(A7t,n.toJS())}var D7t=R7t;function O7t(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){j7t(e,i,n[i])})}return e}function j7t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var N7t=Lx,F7t=yf,fje=dje,B7t=$7t,z7t=D7t,H7t=Si,Kfe=function(t,n){return{key:t.getKey(),text:t.getText(),type:t.getType(),depth:t.getDepth(),inlineStyleRanges:z7t(t),entityRanges:B7t(t,n),data:t.getData().toObject()}},V7t=function(t,n,r,i){if(t instanceof N7t){r.push(Kfe(t,n));return}t instanceof F7t||H7t(!1);var o=t.getParentKey(),s=i[t.getKey()]=O7t({},Kfe(t,n),{children:[]});if(o){i[o].children.push(s);return}r.push(s)},U7t=function(t,n){var r=n.entityMap,i=[],o={},s={},a=0;return t.getBlockMap().forEach(function(l){l.findEntityRanges(function(u){return u.getEntity()!==null},function(u){var c=l.getEntityAt(u),f=fje.stringify(c);s[f]||(s[f]=c,r[f]="".concat(a),a++)}),V7t(l,r,i,o)}),{blocks:i,entityMap:r}},W7t=function(t,n){var r=n.blocks,i=n.entityMap,o={};return Object.keys(i).forEach(function(s,a){var l=t.getEntity(fje.unstringify(s));o[a]={type:l.getType(),mutability:l.getMutability(),data:l.getData()}}),{blocks:r,entityMap:o}},K7t=function(t){var n={entityMap:{},blocks:[]};return n=U7t(t,n),n=W7t(t,n),n},q7t=K7t;function Dk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){G7t(e,i,n[i])})}return e}function G7t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Z7t=am,hje=Si,Y7t=function(t,n){for(var r=[].concat(t).reverse();r.length;){var i=r.pop();n(i);var o=i.children;Array.isArray(o)||hje(!1),r=r.concat([].concat(o.reverse()))}},qfe=function(t){if(!(t&&t.type))return!1;var n=t.type;return n==="unordered-list-item"||n==="ordered-list-item"},X7t=function(t){Array.isArray(t.children)&&(t.children=t.children.map(function(n){return n.type===t.type?Dk({},n,{depth:(t.depth||0)+1}):n}))},Q7t={fromRawTreeStateToRawState:function(t){var n=t.blocks,r=[];return Array.isArray(n)||hje(!1),!Array.isArray(n)||!n.length?t:(Y7t(n,function(i){var o=Dk({},i);qfe(i)&&(o.depth=o.depth||0,X7t(i),i.children!=null&&i.children.length>0)||(delete o.children,r.push(o))}),t.blocks=r,Dk({},t,{blocks:r}))},fromRawStateToRawTreeState:function(t){var n=[],r=[];return t.blocks.forEach(function(i){var o=qfe(i),s=i.depth||0,a=Dk({},i,{children:[]});if(!o){n.push(a);return}var l=r[0];if(l==null&&s===0)n.push(a);else if(l==null||l.depth<s-1){var u={key:Z7t(),text:"",depth:s-1,type:i.type,children:[],entityRanges:[],inlineStyleRanges:[]};r.unshift(u),s===1?n.push(u):l!=null&&l.children.push(u),u.children.push(a)}else if(l.depth===s-1)l.children.push(a);else{for(;l!=null&&l.depth>=s;)r.shift(),l=r[0];s>0?l.children.push(a):n.push(a)}}),Dk({},t,{blocks:n})}},J7t=Q7t,e8t=vf,t8t=ci,n8t=t8t.List;function r8t(e,t){var n=e.map(function(r,i){var o=t[i];return e8t.create({style:r,entity:o})});return n8t(n)}var i8t=r8t,o8t=Ox,Gfe=o8t.substr;function s8t(e,t){var n=Array(e.length).fill(null);return t&&t.forEach(function(r){for(var i=Gfe(e,0,r.offset).length,o=i+Gfe(e,r.offset,r.length).length,s=i;s<o;s++)n[s]=r.key}),n}var a8t=s8t,l8t=Ox,u8t=ci,c8t=u8t.OrderedSet,Zfe=l8t.substr,d8t=c8t();function f8t(e,t){var n=Array(e.length).fill(d8t);return t&&t.forEach(function(r){for(var i=Zfe(e,0,r.offset).length,o=i+Zfe(e,r.offset,r.length).length;i<o;)n[i]=n[i].add(r.style),i++}),n}var h8t=f8t;function z4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){p8t(e,i,n[i])})}return e}function p8t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m8t=Lx,Yfe=yf,g8t=Wee,v8t=l8,Xfe=J7t,Qfe=u8,y8t=i8t,b8t=a8t,w8t=h8t,pje=am,x8t=p1,lte=ci,kG=Si,Jfe=x8t("draft_tree_data_support"),ehe=lte.List,S8t=lte.Map,mje=lte.OrderedMap,PG=function(t,n){var r=t.key,i=t.type,o=t.data,s=t.text,a=t.depth,l={text:s,depth:a||0,type:i||"unstyled",key:r||pje(),data:S8t(o),characterList:_8t(t,n)};return l},_8t=function(t,n){var r=t.text,i=t.entityRanges,o=t.inlineStyleRanges,s=i||[],a=o||[];return y8t(w8t(r,a),b8t(r,s.filter(function(l){return n.hasOwnProperty(l.key)}).map(function(l){return z4({},l,{key:n[l.key]})})))},ez=function(t){return z4({},t,{key:t.key||pje()})},the=function(t,n,r){var i=n.map(function(o){return z4({},o,{parentRef:r})});return t.concat(i.reverse())},C8t=function(t,n){return t.map(ez).reduce(function(r,i,o){Array.isArray(i.children)||kG(!1);var s=i.children.map(ez),a=new Yfe(z4({},PG(i,n),{prevSibling:o===0?null:t[o-1].key,nextSibling:o===t.length-1?null:t[o+1].key,children:ehe(s.map(function(S){return S.key}))}));r=r.set(a.getKey(),a);for(var l=the([],s,a);l.length>0;){var u=l.pop(),c=u.parentRef,f=c.getChildKeys(),p=f.indexOf(u.key),g=Array.isArray(u.children);if(!g){g||kG(!1);break}var v=u.children.map(ez),y=new Yfe(z4({},PG(u,n),{parent:c.getKey(),children:ehe(v.map(function(S){return S.key})),prevSibling:p===0?null:f.get(p-1),nextSibling:p===f.size-1?null:f.get(p+1)}));r=r.set(y.getKey(),y),l=the(l,v,y)}return r},mje())},E8t=function(t,n){return mje(t.map(function(r){var i=new m8t(PG(r,n));return[i.getKey(),i]}))},k8t=function(t,n){var r=t.blocks.find(function(s){return Array.isArray(s.children)&&s.children.length>0}),i=Jfe&&!r?Xfe.fromRawStateToRawTreeState(t).blocks:t.blocks;if(!Jfe)return E8t(r?Xfe.fromRawTreeStateToRawState(t).blocks:i,n);var o=C8t(i,n);return o},P8t=function(t){var n=t.entityMap,r={};return Object.keys(n).forEach(function(i){var o=n[i],s=o.type,a=o.mutability,l=o.data;r[i]=v8t.__create(s,a,l||{})}),r},$8t=function(t){Array.isArray(t.blocks)||kG(!1);var n=P8t(t),r=k8t(t,n),i=r.isEmpty()?new Qfe:Qfe.createEmpty(r.first().getKey());return new g8t({blockMap:r,entityMap:n,selectionBefore:i,selectionAfter:i})},T8t=$8t,M8t=N8e;function L8t(e){var t=M8t(e),n=0,r=0,i=0,o=0;if(t.length){if(t.length>1&&t[0].width===0){var s=t[1];n=s.top,r=s.right,i=s.bottom,o=s.left}else{var a=t[0];n=a.top,r=a.right,i=a.bottom,o=a.left}for(var l=1;l<t.length;l++){var u=t[l];u.height!==0&&u.width!==0&&(n=Math.min(n,u.top),r=Math.max(r,u.right),i=Math.max(i,u.bottom),o=Math.min(o,u.left))}}return{top:n,right:r,bottom:i,left:o,width:r-o,height:i-n}}var A8t=L8t,I8t=A8t;function R8t(e){var t=e.getSelection();if(!t.rangeCount)return null;var n=t.getRangeAt(0),r=I8t(n),i=r.top,o=r.right,s=r.bottom,a=r.left;return i===0&&o===0&&s===0&&a===0?null:r}var D8t=R8t,O8t=P6t,j8t=b5,N8t=vf,F8t=R6t,B8t=Lx,z8t=Wee,H8t=Yee,V8t=q7e,U8t=S7t,W8t=E8e,K8t=l8,q8t=mc,G8t=L7e,Z8t=io,Y8t=ote,X8t=_7t,Q8t=J8e,J8t=u8,ejt=q7t,tjt=T8t,njt=am,rjt=aje,ijt=D8t,ojt=Y8e,sjt={Editor:U8t,EditorBlock:W8t,EditorState:Z8t,CompositeDecorator:F8t,Entity:K8t,EntityInstance:G8t,BlockMapBuilder:j8t,CharacterMetadata:N8t,ContentBlock:B8t,ContentState:z8t,RawDraftContentState:X8t,SelectionState:J8t,AtomicBlockUtils:O8t,KeyBindingUtil:Y8t,Modifier:q8t,RichUtils:Q8t,DefaultDraftBlockRenderMap:H8t,DefaultDraftInlineStyle:V8t,convertFromHTML:ojt,convertFromRaw:tjt,convertToRaw:ejt,genKey:njt,getDefaultKeyBinding:rjt,getVisibleSelectionRect:ijt},Ua=sjt;function $G(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function ajt(e){if(Array.isArray(e))return $G(e)}function ljt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ujt(e,t){if(e){if(typeof e=="string")return $G(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$G(e,t):void 0}}function cjt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gy(e){return ajt(e)||ljt(e)||ujt(e)||cjt()}function gje(e,t,n,r,i,o){var s=r-n,a=t+n<=e.offset;if(a)return Object.assign({},e,{offset:e.offset+s});var l=t>=e.offset&&t+n<=e.offset+e.length;if(l)return Object.assign({},e,{length:e.length+s});var u=e.offset>=t&&e.offset+e.length<=t+n&&i>0;if(u)return Object.assign({},e,{offset:e.offset+i});var c=e.offset<t&&e.offset+e.length<=t+n&&e.offset+e.length>t&&i>0;if(c)return[Object.assign({},e,{length:t-e.offset}),Object.assign({},e,{offset:t+i,length:e.offset-t+e.length})];var f=e.offset>=t&&e.offset+e.length>t+n&&t+n>e.offset&&o>0;return f?[Object.assign({},e,{offset:e.offset+i,length:t+n-e.offset}),Object.assign({},e,{offset:t+n+i+o,length:e.offset+e.length-(t+n)})]:e}const KD=function(e,t){return e.offset===t.offset?t.length-e.length:e.offset-t.offset};var nhe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","\n":"<br/>"};const djt=function(e){for(var t=gy(e.text),n=e.entityRanges.sort(KD),r=e.inlineStyleRanges.sort(KD),i="",o=function(l){var u=t[l];if(nhe[u]!==void 0){var c=nhe[u],f=gy(i).length;i+=c;var p=function(v){return gje(v,f,u.length,c.length,0,0)};n=n.map(p),r=r.map(p)}else i+=u},s=0;s<t.length;s++)o(s);return Object.assign({},e,{text:i,inlineStyleRanges:r,entityRanges:n})};function ux(e){"@babel/helpers - typeof";return ux=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ux(e)}var fjt=["area","base","br","col","embed","hr","img","input","link","meta","param","source","track","wbr"];function LC(e){if(fjt.indexOf(e.type)!==-1)return yh.renderToStaticMarkup(e);var t=yh.renderToStaticMarkup(ne.cloneElement(e,{},"\r")).split("\r");return vh(t.length>1,"convertToHTML: Element of type ".concat(e.type," must render children")),vh(t.length<3,"convertToHTML: Element of type ".concat(e.type," cannot use carriage return character")),{start:t[0],end:t[1]}}function hjt(e){return ne.isValidElement(e)&&ne.Children.count(e.props.children)>0}function w8(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(e==null||typeof e=="string")return e;if(ne.isValidElement(e)){if(hjt(e))return yh.renderToStaticMarkup(e);var n=LC(e);if(t!==null&&ux(n)==="object"){var r=n.start,i=n.end;return r+t+i}return n}if(vh(Object.prototype.hasOwnProperty.call(e,"start")&&Object.prototype.hasOwnProperty.call(e,"end"),"convertToHTML: received conversion data without either an HTML string, ReactElement or an object with start/end tags"),t!==null){var o=e.start,s=e.end;return o+t+s}return e}var rhe=function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"start";if(ne.isValidElement(t)){var r=LC(t);if(typeof r=="string")return 0;var i=r[n].length,o=ne.Children.toArray(t.props.children)[0];return i+(o&&ne.isValidElement(o)?e(o,n):0)}return ux(t)==="object"&&t[n]?t[n].length:0},ihe=function(){var t=arguments.length>1?arguments[1]:void 0;return t};const pjt=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ihe,r=gy(e.text),i=n;if(n.__isMiddleware&&(i=n(ihe)),Object.prototype.hasOwnProperty.call(e,"entityRanges")&&e.entityRanges.length>0){for(var o=e.entityRanges.sort(KD),s=e.inlineStyleRanges,a=function(c){var f=o[c],p=t[f.key],g=r.slice(f.offset,f.offset+f.length).join(""),v=i(p,g),y=w8(v,g),S=void 0;y||y===""?S=gy(y):S=g;var C=rhe(v,"start"),_=rhe(v,"end"),k=function(M,R){return R>c||Object.prototype.hasOwnProperty.call(M,"style")?gje(M,f.offset,f.length,S.length,C,_):M},w=function(M){return M.reduce(function(R,D,H){var O=k(D,H);return Array.isArray(O)?R.concat(O):R.concat([O])},[])};o=w(o),s=w(s),r=[].concat(gy(r.slice(0,f.offset)),gy(S),gy(r.slice(f.offset+f.length)))},l=0;l<o.length;l++)a(l);return Object.assign({},e,{text:r.join(""),inlineStyleRanges:s,entityRanges:o})}return e},ohe=function(e){return function(t){return typeof e=="function"?e(t):e[t]}},vje=function(e,t){return function(){var n=e.apply(void 0,arguments);return n??t.apply(void 0,arguments)}};function she(e){switch(e){case"BOLD":return ne.createElement("strong",null);case"ITALIC":return ne.createElement("em",null);case"UNDERLINE":return ne.createElement("u",null);case"CODE":return ne.createElement("code",null);default:return{start:"",end:""}}}var tz=function(t,n){return t.filter(function(r){return!n.some(function(i){return i.style===r.style})})},mjt=function(t,n){return n.reduceRight(function(r,i){var o=r[r.length-1];return vh(o.style===i.style,"Style ".concat(o.style," to be removed doesn't match expected ").concat(i.style)),r.slice(0,-1)},t)},gjt=function(t,n){return n.filter(function(r){return t>=r.offset&&t<r.offset+r.length})},vjt=function(t,n){var r=t.offset<=n.offset,i=t.offset+t.length>=n.offset+n.length;return r&&i},yjt=function(t,n){var r=n.offset+n.length,i=t.offset+t.length;return r-i},bjt=function(t,n){for(var r=0;r<t.length;)if(n.every(vjt.bind(null,t[r])))r++;else return t.slice(r);return[]},wjt=function(t,n,r){return n+w8(t(r.style)).start},xjt=function(t,n,r){return w8(t(r.style)).end+n},yje=function(t){return function(n){return t(n)}};yje.__isMiddleware=!0;const Sjt=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:yje;vh(e!=null,"Expected raw block to be non-null");var n;t.__isMiddleware===!0?n=t(she):n=vje(ohe(t),ohe(she));for(var r="",i=[],o=e.inlineStyleRanges.sort(KD),s=gy(e.text),a=0;a<s.length;a++){var l=gjt(a,o),u=tz(i,l),c=tz(l,i),f=tz(i,u),p=bjt(f,c),g=p.concat(c).sort(yjt),v=g.reduce(wjt.bind(null,n),""),y=u.concat(p).reduce(xjt.bind(null,n),"");r+=y+v+s[a],i=mjt(i,p.concat(u)),i=i.concat(g),vh(i.length===l.length,"Character ".concat(a,": ").concat(i.length-l.length," styles left on stack that should no longer be there"))}return r=i.reduceRight(function(S,C){return S+w8(n(C.style)).end},r),r},nz=function(e){return function(t){return typeof e=="function"?e(t):e[t.type]}};function _jt(e){return ne.isValidElement(e)&&ne.Children.count(e.props.children)>0}function Cjt(e){return vh(e!=null,"Expected block HTML value to be non-null"),typeof e=="string"?e:ne.isValidElement(e)?_jt(e)?yh.renderToStaticMarkup(e):LC(e):Object.prototype.hasOwnProperty.call(e,"element")&&ne.isValidElement(e.element)?Object.assign({},e,LC(e.element)):(vh(Object.prototype.hasOwnProperty.call(e,"start")&&Object.prototype.hasOwnProperty.call(e,"end"),"convertToHTML: received block information without either a ReactElement or an object with start/end tags"),e)}function SS(e,t){if(vh(e!=null,"Expected block HTML value to be non-null"),typeof e.nest=="function"){var n=LC(e.nest(t)),r=n.start,i=n.end;return Object.assign({},e,{nestStart:r,nestEnd:i})}if(ne.isValidElement(e.nest)){var o=LC(e.nest),s=o.start,a=o.end;return Object.assign({},e,{nestStart:s,nestEnd:a})}return vh(Object.prototype.hasOwnProperty.call(e,"nestStart")&&Object.prototype.hasOwnProperty.call(e,"nestEnd"),"convertToHTML: received block information without either a ReactElement or an object with start/end tags"),e}var Ejt=["1","a","i"];const ahe={unstyled:ne.createElement("p",null),paragraph:ne.createElement("p",null),"header-one":ne.createElement("h1",null),"header-two":ne.createElement("h2",null),"header-three":ne.createElement("h3",null),"header-four":ne.createElement("h4",null),"header-five":ne.createElement("h5",null),"header-six":ne.createElement("h6",null),"code-block":ne.createElement("pre",null),blockquote:ne.createElement("blockquote",null),"unordered-list-item":{element:ne.createElement("li",null),nest:ne.createElement("ul",null)},"ordered-list-item":{element:ne.createElement("li",null),nest:function(t){var n=Ejt[t%3];return ne.createElement("ol",{type:n})}},media:ne.createElement("figure",null),atomic:ne.createElement("figure",null)};var kjt=function(t,n){return n},lhe=function(t){var n=t.styleToHTML,r=n===void 0?{}:n,i=t.blockToHTML,o=i===void 0?{}:i,s=t.entityToHTML,a=s===void 0?kjt:s;return function(l){vh(l!=null,"Expected contentState to be non-null");var u;o.__isMiddleware===!0?u=o(nz(ahe)):u=vje(nz(o),nz(ahe));var c=Ua.convertToRaw(l),f=[],p=c.blocks.map(function(g){var v=g.type,y=g.depth,S="",C="",_=u(g);if(!_)throw new Error("convertToHTML: missing HTML definition for block with type ".concat(g.type));if(!_.nest)S=f.reduceRight(function(D,H){return D+SS(u(H),y).nestEnd},""),f=[];else for(;y+1!==f.length||v!==f[y].type;)if(y+1===f.length){var k=f[y];S+=SS(u(k),y).nestEnd,C+=SS(u(g),y).nestStart,f[y]=g}else if(y+1<f.length){var w=f[f.length-1];S+=SS(u(w),y).nestEnd,f=f.slice(0,-1)}else C+=SS(u(g),y).nestStart,f.push(g);var P=Sjt(pjt(djt(g),c.entityMap,a),r),M=Cjt(u(g)),R;return typeof M=="string"?R=M:R=M.start+P+M.end,P.length===0&&Object.prototype.hasOwnProperty.call(M,"empty")&&(ne.isValidElement(M.empty)?R=yh.renderToStaticMarkup(M.empty):R=M.empty),S+C+R}).join("");return p=f.reduce(function(g,v){return g+SS(u(v),v.depth).nestEnd},p),p}};const Pjt=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length===1&&Object.prototype.hasOwnProperty.call(t[0],"_map")&&t[0].getBlockMap!=null?lhe({}).apply(void 0,t):lhe.apply(void 0,t)};var $jt=h.useLayoutEffect,Tjt=function(t){var n=ne.useRef(t);return $jt(function(){n.current=t}),n},uhe=function(t,n){if(typeof t=="function"){t(n);return}t.current=n},Mjt=function(t,n){var r=ne.useRef();return ne.useCallback(function(i){t.current=i,r.current&&uhe(r.current,null),r.current=n,n&&uhe(n,i)},[n])},che={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0",display:"block"},Ljt=function(t){Object.keys(che).forEach(function(n){t.style.setProperty(n,che[n],"important")})},dhe=Ljt,Wl=null,fhe=function(t,n){var r=t.scrollHeight;return n.sizingStyle.boxSizing==="border-box"?r+n.borderSize:r-n.paddingSize};function Ajt(e,t,n,r){n===void 0&&(n=1),r===void 0&&(r=1/0),Wl||(Wl=document.createElement("textarea"),Wl.setAttribute("tabindex","-1"),Wl.setAttribute("aria-hidden","true"),dhe(Wl)),Wl.parentNode===null&&document.body.appendChild(Wl);var i=e.paddingSize,o=e.borderSize,s=e.sizingStyle,a=s.boxSizing;Object.keys(s).forEach(function(p){var g=p;Wl.style[g]=s[g]}),dhe(Wl),Wl.value=t;var l=fhe(Wl,e);Wl.value=t,l=fhe(Wl,e),Wl.value="x";var u=Wl.scrollHeight-i,c=u*n;a==="border-box"&&(c=c+i+o),l=Math.max(c,l);var f=u*r;return a==="border-box"&&(f=f+i+o),l=Math.min(f,l),[l,u]}var hhe=function(){},Ijt=function(t,n){return t.reduce(function(r,i){return r[i]=n[i],r},{})},Rjt=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak","wordSpacing","scrollbarGutter"],Djt=!!document.documentElement.currentStyle,Ojt=function(t){var n=window.getComputedStyle(t);if(n===null)return null;var r=Ijt(Rjt,n),i=r.boxSizing;if(i==="")return null;Djt&&i==="border-box"&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px");var o=parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),s=parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth);return{sizingStyle:r,paddingSize:o,borderSize:s}},jjt=Ojt;function ute(e,t,n){var r=Tjt(n);h.useLayoutEffect(function(){var i=function(s){return r.current(s)};if(e)return e.addEventListener(t,i),function(){return e.removeEventListener(t,i)}},[])}var Njt=function(t,n){ute(document.body,"reset",function(r){t.current.form===r.target&&n(r)})},Fjt=function(t){ute(window,"resize",t)},Bjt=function(t){ute(document.fonts,"loadingdone",t)},zjt=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],Hjt=function(t,n){var r=t.cacheMeasurements,i=t.maxRows,o=t.minRows,s=t.onChange,a=s===void 0?hhe:s,l=t.onHeightChange,u=l===void 0?hhe:l,c=kQ(t,zjt),f=c.value!==void 0,p=h.useRef(null),g=Mjt(p,n),v=h.useRef(0),y=h.useRef(),S=function(){var k=p.current,w=r&&y.current?y.current:jjt(k);if(w){y.current=w;var P=Ajt(w,k.value||k.placeholder||"x",o,i),M=P[0],R=P[1];v.current!==M&&(v.current=M,k.style.setProperty("height",M+"px","important"),u(M,{rowHeight:R}))}},C=function(k){f||S(),a(k)};return h.useLayoutEffect(S),Njt(p,function(){if(!f){var _=p.current.value;requestAnimationFrame(function(){var k=p.current;k&&_!==k.value&&S()})}}),Fjt(S),Bjt(S),h.createElement("textarea",Dp({},c,{onChange:C,ref:g}))},Vjt=h.forwardRef(Hjt),fa=function(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))},Ujt=["onCopy","onCut","onPaste"],Wjt=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],Kjt=["onFocus","onBlur"],qjt=["onInput","onInvalid","onReset","onSubmit"],Gjt=["onLoad","onError"],Zjt=["onKeyDown","onKeyPress","onKeyUp"],Yjt=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],Xjt=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],Qjt=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],Jjt=["onSelect"],eNt=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],tNt=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],nNt=["onScroll"],rNt=["onWheel"],iNt=["onAnimationStart","onAnimationEnd","onAnimationIteration"],oNt=["onTransitionEnd"],sNt=["onToggle"],aNt=["onChange"],lNt=fa(fa(fa(fa(fa(fa(fa(fa(fa(fa(fa(fa(fa(fa(fa(fa(fa(fa([],Ujt,!0),Wjt,!0),Kjt,!0),qjt,!0),Gjt,!0),Zjt,!0),Yjt,!0),Xjt,!0),Qjt,!0),Jjt,!0),eNt,!0),tNt,!0),nNt,!0),rNt,!0),iNt,!0),oNt,!0),aNt,!0),sNt,!0);function uNt(e,t){var n={};return lNt.forEach(function(r){var i=e[r];i&&(n[r]=i)}),n}const cNt=(e,t,n,r)=>{if(n==="length"||n==="prototype"||n==="arguments"||n==="caller")return;const i=Object.getOwnPropertyDescriptor(e,n),o=Object.getOwnPropertyDescriptor(t,n);!dNt(i,o)&&r||Object.defineProperty(e,n,o)},dNt=function(e,t){return e===void 0||e.configurable||e.writable===t.writable&&e.enumerable===t.enumerable&&e.configurable===t.configurable&&(e.writable||e.value===t.value)},fNt=(e,t)=>{const n=Object.getPrototypeOf(t);n!==Object.getPrototypeOf(e)&&Object.setPrototypeOf(e,n)},hNt=(e,t)=>`/* Wrapped ${e}*/
${t}`,pNt=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),mNt=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),gNt=(e,t,n)=>{const r=n===""?"":`with ${n.trim()}() `,i=hNt.bind(null,r,t.toString());Object.defineProperty(i,"name",mNt),Object.defineProperty(e,"toString",{...pNt,value:i})},vNt=(e,t,{ignoreNonConfigurable:n=!1}={})=>{const{name:r}=e;for(const i of Reflect.ownKeys(t))cNt(e,t,i,n);return fNt(e,t),gNt(e,t,r),e};var yNt=vNt,TG={exports:{}},bNt=()=>{const e={};return e.promise=new Promise((t,n)=>{e.resolve=t,e.reject=n}),e};(function(e,t){var n=dg&&dg.__awaiter||function(s,a,l,u){return new(l||(l=Promise))(function(c,f){function p(y){try{v(u.next(y))}catch(S){f(S)}}function g(y){try{v(u.throw(y))}catch(S){f(S)}}function v(y){y.done?c(y.value):new l(function(S){S(y.value)}).then(p,g)}v((u=u.apply(s,a||[])).next())})},r=dg&&dg.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(bNt);function o(s,a="maxAge"){let l,u,c;const f=()=>n(this,void 0,void 0,function*(){if(l!==void 0)return;const v=y=>n(this,void 0,void 0,function*(){c=i.default();const S=y[1][a]-Date.now();if(S<=0){s.delete(y[0]),c.resolve();return}return l=y[0],u=setTimeout(()=>{s.delete(y[0]),c&&c.resolve()},S),typeof u.unref=="function"&&u.unref(),c.promise});try{for(const y of s)yield v(y)}catch{}l=void 0}),p=()=>{l=void 0,u!==void 0&&(clearTimeout(u),u=void 0),c!==void 0&&(c.reject(void 0),c=void 0)},g=s.set.bind(s);return s.set=(v,y)=>{s.has(v)&&s.delete(v);const S=g(v,y);return l&&l===v&&p(),f(),S},f(),s}t.default=o,e.exports=o,e.exports.default=o})(TG,TG.exports);var wNt=TG.exports;const xNt=yNt,SNt=wNt,rz=new WeakMap,bje=new WeakMap,qD=(e,{cacheKey:t,cache:n=new Map,maxAge:r}={})=>{typeof r=="number"&&SNt(n);const i=function(...o){const s=t?t(o):o[0],a=n.get(s);if(a)return a.data;const l=e.apply(this,o);return n.set(s,{data:l,maxAge:r?Date.now()+r:Number.POSITIVE_INFINITY}),l};return xNt(i,e,{ignoreNonConfigurable:!0}),bje.set(i,n),i};qD.decorator=(e={})=>(t,n,r)=>{const i=t[n];if(typeof i!="function")throw new TypeError("The decorated value must be a function");delete r.value,delete r.writable,r.get=function(){if(!rz.has(this)){const o=qD(i,e);return rz.set(this,o),o}return rz.get(this)}};qD.clear=e=>{const t=bje.get(e);if(!t)throw new TypeError("Can't clear a function that was not memoized!");if(typeof t.clear!="function")throw new TypeError("The cache Map can't be cleared!");t.clear()};var _Nt=qD;const wje=Dl(_Nt);function CNt(e){return typeof e=="string"}function ENt(e,t,n){return n.indexOf(e)===t}function kNt(e){return e.toLowerCase()===e}function phe(e){return e.indexOf(",")===-1?e:e.split(",")}function MG(e){if(!e)return e;if(e==="C"||e==="posix"||e==="POSIX")return"en-US";if(e.indexOf(".")!==-1){var t=e.split(".")[0],n=t===void 0?"":t;return MG(n)}if(e.indexOf("@")!==-1){var r=e.split("@")[0],n=r===void 0?"":r;return MG(n)}if(e.indexOf("-")===-1||!kNt(e))return e;var i=e.split("-"),o=i[0],s=i[1],a=s===void 0?"":s;return"".concat(o,"-").concat(a.toUpperCase())}function PNt(e){var t=e===void 0?{}:e,n=t.useFallbackLocale,r=n===void 0?!0:n,i=t.fallbackLocale,o=i===void 0?"en-US":i,s=[];if(typeof navigator<"u"){for(var a=navigator.languages||[],l=[],u=0,c=a;u<c.length;u++){var f=c[u];l=l.concat(phe(f))}var p=navigator.language,g=p&&phe(p);s=s.concat(l,g)}return r&&s.push(o),s.filter(CNt).map(MG).filter(ENt)}var $Nt=wje(PNt,{cacheKey:JSON.stringify});function TNt(e){return $Nt(e)[0]||null}var jx=wje(TNt,{cacheKey:JSON.stringify});function mv(e,t,n){return function(i,o){o===void 0&&(o=n);var s=e(i)+o;return t(s)}}function $5(e){return function(n){return new Date(e(n).getTime()-1)}}function T5(e,t){return function(r){return[e(r),t(r)]}}function li(e){if(e instanceof Date)return e.getFullYear();if(typeof e=="number")return e;var t=parseInt(e,10);if(typeof e=="string"&&!isNaN(t))return t;throw new Error("Failed to get year from date: ".concat(e,"."))}function m1(e){if(e instanceof Date)return e.getMonth();throw new Error("Failed to get month from date: ".concat(e,"."))}function Pg(e){if(e instanceof Date)return e.getMonth()+1;throw new Error("Failed to get human-readable month from date: ".concat(e,"."))}function qg(e){if(e instanceof Date)return e.getDate();throw new Error("Failed to get year from date: ".concat(e,"."))}function du(e){if(e instanceof Date)return e.getHours();if(typeof e=="string"){var t=e.split(":");if(t.length>=2){var n=t[0];if(n){var r=parseInt(n,10);if(!isNaN(r))return r}}}throw new Error("Failed to get hours from date: ".concat(e,"."))}function $g(e){if(e instanceof Date)return e.getMinutes();if(typeof e=="string"){var t=e.split(":");if(t.length>=2){var n=t[1]||"0",r=parseInt(n,10);if(!isNaN(r))return r}}throw new Error("Failed to get minutes from date: ".concat(e,"."))}function Pw(e){if(e instanceof Date)return e.getSeconds();if(typeof e=="string"){var t=e.split(":");if(t.length>=2){var n=t[2]||"0",r=parseInt(n,10);if(!isNaN(r))return r}}throw new Error("Failed to get seconds from date: ".concat(e,"."))}function iz(e){if(e instanceof Date)return e.getMilliseconds();if(typeof e=="string"){var t=e.split(":");if(t.length>=2){var n=t[2]||"0",r=n.split(".")[1]||"0",i=parseInt(r,10);if(!isNaN(i))return i}}throw new Error("Failed to get seconds from date: ".concat(e,"."))}function D3(e){var t=li(e),n=t+(-t+1)%100,r=new Date;return r.setFullYear(n,0,1),r.setHours(0,0,0,0),r}var MNt=mv(li,D3,-100),xje=mv(li,D3,100),cte=$5(xje),LNt=mv(li,cte,-100),Sje=T5(D3,cte);function g1(e){var t=li(e),n=t+(-t+1)%10,r=new Date;return r.setFullYear(n,0,1),r.setHours(0,0,0,0),r}var _je=mv(li,g1,-10),dte=mv(li,g1,10),x8=$5(dte),Cje=mv(li,x8,-10),Eje=T5(g1,x8);function O3(e){var t=li(e),n=new Date;return n.setFullYear(t,0,1),n.setHours(0,0,0,0),n}var kje=mv(li,O3,-1),fte=mv(li,O3,1),S8=$5(fte),Pje=mv(li,S8,-1),ANt=T5(O3,S8);function hte(e,t){return function(r,i){i===void 0&&(i=t);var o=li(r),s=m1(r)+i,a=new Date;return a.setFullYear(o,s,1),a.setHours(0,0,0,0),e(a)}}function Nx(e){var t=li(e),n=m1(e),r=new Date;return r.setFullYear(t,n,1),r.setHours(0,0,0,0),r}var $je=hte(Nx,-1),pte=hte(Nx,1),M5=$5(pte),Tje=hte(M5,-1),INt=T5(Nx,M5);function RNt(e,t){return function(r,i){i===void 0&&(i=t);var o=li(r),s=m1(r),a=qg(r)+i,l=new Date;return l.setFullYear(o,s,a),l.setHours(0,0,0,0),e(l)}}function L5(e){var t=li(e),n=m1(e),r=qg(e),i=new Date;return i.setFullYear(t,n,r),i.setHours(0,0,0,0),i}var DNt=RNt(L5,1),mte=$5(DNt),ONt=T5(L5,mte);function gte(e){return qg(M5(e))}function P0(e,t){t===void 0&&(t=2);var n="".concat(e);return n.length>=t?e:"0000".concat(n).slice(-t)}function jNt(e){var t=P0(du(e)),n=P0($g(e));return"".concat(t,":").concat(n)}function LG(e){var t=P0(du(e)),n=P0($g(e)),r=P0(Pw(e));return"".concat(t,":").concat(n,":").concat(r)}function AG(e){var t=P0(li(e),4),n=P0(Pg(e)),r=P0(qg(e));return"".concat(t,"-").concat(n,"-").concat(r)}function NNt(e){return"".concat(AG(e),"T").concat(LG(e))}var QE,xo={GREGORY:"gregory",HEBREW:"hebrew",ISLAMIC:"islamic",ISO_8601:"iso8601"},s2={ARABIC:"Arabic",HEBREW:"Hebrew",ISO_8601:"ISO 8601",US:"US"},FNt=(QE={},QE[xo.GREGORY]=["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"],QE[xo.HEBREW]=["he","he-IL"],QE[xo.ISLAMIC]=["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"],QE),vte=[0,1,2,3,4,5,6],oz=new Map;function BNt(e){return function(n,r){var i=n||jx();oz.has(i)||oz.set(i,new Map);var o=oz.get(i);return o.has(e)||o.set(e,new Intl.DateTimeFormat(i||void 0,e).format),o.get(e)(r)}}function zNt(e){var t=new Date(e);return new Date(t.setHours(12))}function Fx(e){return function(t,n){return BNt(e)(t,zNt(n))}}var HNt={day:"numeric"},VNt={day:"numeric",month:"long",year:"numeric"},UNt={month:"long"},WNt={month:"long",year:"numeric"},KNt={weekday:"short"},qNt={weekday:"long"},GNt={year:"numeric"},ZNt=Fx(HNt),YNt=Fx(VNt),XNt=Fx(UNt),Mje=Fx(WNt),QNt=Fx(KNt),JNt=Fx(qNt),_8=Fx(GNt),eFt=vte[0],tFt=vte[5],mhe=vte[6];function H4(e,t){t===void 0&&(t=xo.ISO_8601);var n=e.getDay();switch(t){case xo.ISO_8601:return(n+6)%7;case xo.ISLAMIC:return(n+1)%7;case xo.HEBREW:case xo.GREGORY:return n;default:throw new Error("Unsupported calendar type.")}}function nFt(e){var t=D3(e);return li(t)}function rFt(e){var t=g1(e);return li(t)}function IG(e,t){t===void 0&&(t=xo.ISO_8601);var n=li(e),r=m1(e),i=e.getDate()-H4(e,t);return new Date(n,r,i)}function iFt(e,t){t===void 0&&(t=xo.ISO_8601);var n=t===xo.GREGORY?xo.GREGORY:xo.ISO_8601,r=IG(e,t),i=li(e)+1,o,s;do o=new Date(i,0,n===xo.ISO_8601?4:1),s=IG(o,t),i-=1;while(e<s);return Math.round((r.getTime()-s.getTime())/(864e5*7))+1}function $w(e,t){switch(e){case"century":return D3(t);case"decade":return g1(t);case"year":return O3(t);case"month":return Nx(t);case"day":return L5(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function oFt(e,t){switch(e){case"century":return MNt(t);case"decade":return _je(t);case"year":return kje(t);case"month":return $je(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function Lje(e,t){switch(e){case"century":return xje(t);case"decade":return dte(t);case"year":return fte(t);case"month":return pte(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function sFt(e,t){switch(e){case"decade":return _je(t,-100);case"year":return kje(t,-10);case"month":return $je(t,-12);default:throw new Error("Invalid rangeType: ".concat(e))}}function aFt(e,t){switch(e){case"decade":return dte(t,100);case"year":return fte(t,10);case"month":return pte(t,12);default:throw new Error("Invalid rangeType: ".concat(e))}}function Aje(e,t){switch(e){case"century":return cte(t);case"decade":return x8(t);case"year":return S8(t);case"month":return M5(t);case"day":return mte(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function lFt(e,t){switch(e){case"century":return LNt(t);case"decade":return Cje(t);case"year":return Pje(t);case"month":return Tje(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function uFt(e,t){switch(e){case"decade":return Cje(t,-100);case"year":return Pje(t,-10);case"month":return Tje(t,-12);default:throw new Error("Invalid rangeType: ".concat(e))}}function ghe(e,t){switch(e){case"century":return Sje(t);case"decade":return Eje(t);case"year":return ANt(t);case"month":return INt(t);case"day":return ONt(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function cFt(e,t,n){var r=[t,n].sort(function(i,o){return i.getTime()-o.getTime()});return[$w(e,r[0]),Aje(e,r[1])]}function Ije(e,t,n){return t===void 0&&(t=_8),n.map(function(r){return t(e,r)}).join("  ")}function dFt(e,t,n){return Ije(e,t,Sje(n))}function Rje(e,t,n){return Ije(e,t,Eje(n))}function fFt(e){return e.getDay()===new Date().getDay()}function Dje(e,t){t===void 0&&(t=xo.ISO_8601);var n=e.getDay();switch(t){case xo.ISLAMIC:case xo.HEBREW:return n===tFt||n===mhe;case xo.ISO_8601:case xo.GREGORY:return n===mhe||n===eFt;default:throw new Error("Unsupported calendar type.")}}var Fh="react-calendar__navigation";function hFt(e){var t=e.activeStartDate,n=e.drillUp,r=e.formatMonthYear,i=r===void 0?Mje:r,o=e.formatYear,s=o===void 0?_8:o,a=e.locale,l=e.maxDate,u=e.minDate,c=e.navigationAriaLabel,f=c===void 0?"":c,p=e.navigationAriaLive,g=e.navigationLabel,v=e.next2AriaLabel,y=v===void 0?"":v,S=e.next2Label,C=S===void 0?"":S,_=e.nextAriaLabel,k=_===void 0?"":_,w=e.nextLabel,P=w===void 0?"":w,M=e.prev2AriaLabel,R=M===void 0?"":M,D=e.prev2Label,H=D===void 0?"":D,O=e.prevAriaLabel,z=O===void 0?"":O,G=e.prevLabel,ee=G===void 0?"":G,X=e.setActiveStartDate,se=e.showDoubleView,B=e.view,q=e.views,U=q.indexOf(B)>0,K=B!=="century",J=oFt(B,t),oe=K?sFt(B,t):void 0,he=Lje(B,t),me=K?aFt(B,t):void 0,re=function(){if(J.getFullYear()<0)return!0;var He=lFt(B,t);return u&&u>=He}(),ue=K&&function(){if(oe.getFullYear()<0)return!0;var He=uFt(B,t);return u&&u>=He}(),ce=l&&l<he,we=K&&l&&l<me;function Me(){X(J,"prev")}function Be(){X(oe,"prev2")}function ge(){X(he,"next")}function ye(){X(me,"next2")}function _e(He){var Ve=function(){switch(B){case"century":return dFt(a,s,He);case"decade":return Rje(a,s,He);case"year":return s(a,He);case"month":return i(a,He);default:throw new Error("Invalid view: ".concat(B,"."))}}();return g?g({date:He,label:Ve,locale:a||jx()||void 0,view:B}):Ve}function $e(){var He="".concat(Fh,"__label");return ne.createElement("button",{"aria-label":f,"aria-live":p,className:He,disabled:!U,onClick:n,style:{flexGrow:1},type:"button"},ne.createElement("span",{className:"".concat(He,"__labelText ").concat(He,"__labelText--from")},_e(t)),se?ne.createElement(ne.Fragment,null,ne.createElement("span",{className:"".concat(He,"__divider")},"  "),ne.createElement("span",{className:"".concat(He,"__labelText ").concat(He,"__labelText--to")},_e(he))):null)}return ne.createElement("div",{className:Fh},H!==null&&K?ne.createElement("button",{"aria-label":R,className:"".concat(Fh,"__arrow ").concat(Fh,"__prev2-button"),disabled:ue,onClick:Be,type:"button"},H):null,ee!==null&&ne.createElement("button",{"aria-label":z,className:"".concat(Fh,"__arrow ").concat(Fh,"__prev-button"),disabled:re,onClick:Me,type:"button"},ee),$e(),P!==null&&ne.createElement("button",{"aria-label":k,className:"".concat(Fh,"__arrow ").concat(Fh,"__next-button"),disabled:ce,onClick:ge,type:"button"},P),C!==null&&K?ne.createElement("button",{"aria-label":y,className:"".concat(Fh,"__arrow ").concat(Fh,"__next2-button"),disabled:we,onClick:ye,type:"button"},C):null)}var a2=function(){return a2=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},a2.apply(this,arguments)},pFt=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function vhe(e){return"".concat(e,"%")}function yte(e){var t=e.children,n=e.className,r=e.count,i=e.direction,o=e.offset,s=e.style,a=e.wrap,l=pFt(e,["children","className","count","direction","offset","style","wrap"]);return ne.createElement("div",a2({className:n,style:a2({display:"flex",flexDirection:i,flexWrap:a?"wrap":"nowrap"},s)},l),ne.Children.map(t,function(u,c){var f=o&&c===0?vhe(100*o/r):null;return ne.cloneElement(u,a2(a2({},u.props),{style:{flexBasis:vhe(100/r),flexShrink:0,flexGrow:0,overflow:"hidden",marginLeft:f,marginInlineStart:f,marginInlineEnd:0}}))}))}var mFt=function(){},gFt=mFt;const vFt=Dl(gFt);var _S;function yFt(e,t,n){return t&&t>e?t:n&&n<e?n:e}function V4(e,t){return t[0]<=e&&t[1]>=e}function bFt(e,t){return e[0]<=t[0]&&e[1]>=t[1]}function Oje(e,t){return V4(e[0],t)||V4(e[1],t)}function yhe(e,t,n){var r=Oje(t,e),i=[];if(r){i.push(n);var o=V4(e[0],t),s=V4(e[1],t);o&&i.push("".concat(n,"Start")),s&&i.push("".concat(n,"End")),o&&s&&i.push("".concat(n,"BothEnds"))}return i}function wFt(e){return Array.isArray(e)?e[0]!==null&&e[1]!==null:e!==null}function xFt(e){if(!e)throw new Error("args is required");var t=e.value,n=e.date,r=e.hover,i="react-calendar__tile",o=[i];if(!n)return o;var s=new Date,a=function(){if(Array.isArray(n))return n;var g=e.dateType;if(!g)throw new Error("dateType is required when date is not an array of two dates");return ghe(g,n)}();if(V4(s,a)&&o.push("".concat(i,"--now")),!t||!wFt(t))return o;var l=function(){if(Array.isArray(t))return t;var g=e.valueType;if(!g)throw new Error("valueType is required when value is not an array of two dates");return ghe(g,t)}();bFt(l,a)?o.push("".concat(i,"--active")):Oje(l,a)&&o.push("".concat(i,"--hasActive"));var u=yhe(l,a,"".concat(i,"--range"));o.push.apply(o,u);var c=Array.isArray(t)?t:[t];if(r&&c.length===1){var f=r>l[0]?[l[0],r]:[r,l[0]],p=yhe(f,a,"".concat(i,"--hover"));o.push.apply(o,p)}return o}var SFt=(_S={},_S[s2.ARABIC]=xo.ISLAMIC,_S[s2.HEBREW]=xo.HEBREW,_S[s2.ISO_8601]=xo.ISO_8601,_S[s2.US]=xo.GREGORY,_S);function _Ft(e){return e!==void 0&&e in s2}var bhe=!1;function C8(e){if(_Ft(e)){var t=SFt[e];return vFt(bhe,'Specifying calendarType="'.concat(e,'" is deprecated. Use calendarType="').concat(t,'" instead.')),bhe=!0,t}return e}function E8(e){for(var t=e.className,n=e.count,r=n===void 0?3:n,i=e.dateTransform,o=e.dateType,s=e.end,a=e.hover,l=e.offset,u=e.renderTile,c=e.start,f=e.step,p=f===void 0?1:f,g=e.value,v=e.valueType,y=[],S=c;S<=s;S+=p){var C=i(S);y.push(u({classes:xFt({date:C,dateType:o,hover:a,value:g,valueType:v}),date:C}))}return ne.createElement(yte,{className:t,count:r,offset:l,wrap:!0},y)}function k8(e){var t=e.activeStartDate,n=e.children,r=e.classes,i=e.date,o=e.formatAbbr,s=e.locale,a=e.maxDate,l=e.maxDateTransform,u=e.minDate,c=e.minDateTransform,f=e.onClick,p=e.onMouseOver,g=e.style,v=e.tileClassName,y=e.tileContent,S=e.tileDisabled,C=e.view,_=h.useMemo(function(){var w={activeStartDate:t,date:i,view:C};return typeof v=="function"?v(w):v},[t,i,v,C]),k=h.useMemo(function(){var w={activeStartDate:t,date:i,view:C};return typeof y=="function"?y(w):y},[t,i,y,C]);return ne.createElement("button",{className:ic(r,_),disabled:u&&c(u)>i||a&&l(a)<i||S&&S({activeStartDate:t,date:i,view:C}),onClick:f?function(w){return f(i,w)}:void 0,onFocus:p?function(){return p(i)}:void 0,onMouseOver:p?function(){return p(i)}:void 0,style:g,type:"button"},o?ne.createElement("abbr",{"aria-label":o(s,i)},n):n,k)}var RG=function(){return RG=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},RG.apply(this,arguments)},CFt=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n},whe="react-calendar__century-view__decades__decade";function EFt(e){var t=e.classes,n=t===void 0?[]:t,r=e.currentCentury,i=e.formatYear,o=i===void 0?_8:i,s=CFt(e,["classes","currentCentury","formatYear"]),a=s.date,l=s.locale,u=[];return n&&u.push.apply(u,n),u.push(whe),D3(a).getFullYear()!==r&&u.push("".concat(whe,"--neighboringCentury")),ne.createElement(k8,RG({},s,{classes:u,maxDateTransform:x8,minDateTransform:g1,view:"century"}),Rje(l,o,a))}var DG=function(){return DG=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},DG.apply(this,arguments)},xhe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function kFt(e){var t=e.activeStartDate,n=e.hover,r=e.showNeighboringCentury,i=e.value,o=e.valueType,s=xhe(e,["activeStartDate","hover","showNeighboringCentury","value","valueType"]),a=nFt(t),l=a+(r?119:99);return ne.createElement(E8,{className:"react-calendar__century-view__decades",dateTransform:g1,dateType:"decade",end:l,hover:n,renderTile:function(u){var c=u.date,f=xhe(u,["date"]);return ne.createElement(EFt,DG({key:c.getTime()},s,f,{activeStartDate:t,currentCentury:a,date:c}))},start:a,step:10,value:i,valueType:o})}var She=function(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))},PFt=Object.values(xo),$Ft=Object.values(s2),OG=["century","decade","year","month"],jje=Pe.oneOf(She(She([],PFt,!0),$Ft,!0)),GD=Pe.oneOfType([Pe.string,Pe.arrayOf(Pe.string)]),bte=function(t,n,r){var i=t,o=n,s=i[o];if(!s)return null;if(!(s instanceof Date))return new Error("Invalid prop `".concat(n,"` of type `").concat(typeof s,"` supplied to `").concat(r,"`, expected instance of `Date`."));var a=t.maxDate;return a&&s>a?new Error("Invalid prop `".concat(n,"` of type `").concat(typeof s,"` supplied to `").concat(r,"`, minDate cannot be larger than maxDate.")):null},wte=function(t,n,r){var i=t,o=n,s=i[o];if(!s)return null;if(!(s instanceof Date))return new Error("Invalid prop `".concat(n,"` of type `").concat(typeof s,"` supplied to `").concat(r,"`, expected instance of `Date`."));var a=t.minDate;return a&&s<a?new Error("Invalid prop `".concat(n,"` of type `").concat(typeof s,"` supplied to `").concat(r,"`, maxDate cannot be smaller than minDate.")):null},TFt=Pe.oneOfType([Pe.func,Pe.exact({current:Pe.any})]),MFt=Pe.arrayOf(Pe.oneOfType([Pe.instanceOf(Date),Pe.oneOf([null])]).isRequired),LFt=Pe.oneOfType([Pe.instanceOf(Date),Pe.oneOf([null]),MFt]);Pe.arrayOf(Pe.oneOf(OG));var ZD=function(t,n,r){var i=t,o=n,s=i[o];return s!==void 0&&(typeof s!="string"||OG.indexOf(s)===-1)?new Error("Invalid prop `".concat(n,"` of value `").concat(s,"` supplied to `").concat(r,"`, expected one of [").concat(OG.map(function(a){return'"'.concat(a,'"')}).join(", "),"].")):null};ZD.isRequired=function(t,n,r,i,o){var s=t,a=n,l=s[a];return l?ZD(t,n,r):new Error("The prop `".concat(n,"` is marked as required in `").concat(r,"`, but its value is `").concat(l,"`."))};var AFt=function(e){return Pe.arrayOf(e)},P8={activeStartDate:Pe.instanceOf(Date).isRequired,hover:Pe.instanceOf(Date),locale:Pe.string,maxDate:wte,minDate:bte,onClick:Pe.func,onMouseOver:Pe.func,tileClassName:Pe.oneOfType([Pe.func,GD]),tileContent:Pe.oneOfType([Pe.func,Pe.node]),value:LFt,valueType:Pe.oneOf(["century","decade","year","month","day"]).isRequired};Pe.instanceOf(Date).isRequired,Pe.arrayOf(Pe.string.isRequired).isRequired,Pe.instanceOf(Date).isRequired,Pe.string,Pe.func,Pe.func,Pe.objectOf(Pe.oneOfType([Pe.string,Pe.number])),Pe.oneOfType([Pe.func,GD]),Pe.oneOfType([Pe.func,Pe.node]),Pe.func;var U4=function(){return U4=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},U4.apply(this,arguments)},Nje=function(t){function n(){return ne.createElement(kFt,U4({},t))}return ne.createElement("div",{className:"react-calendar__century-view"},n())};Nje.propTypes=U4(U4({},P8),{showNeighboringCentury:Pe.bool});var jG=function(){return jG=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},jG.apply(this,arguments)},IFt=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n},_he="react-calendar__decade-view__years__year";function RFt(e){var t=e.classes,n=t===void 0?[]:t,r=e.currentDecade,i=e.formatYear,o=i===void 0?_8:i,s=IFt(e,["classes","currentDecade","formatYear"]),a=s.date,l=s.locale,u=[];return n&&u.push.apply(u,n),u.push(_he),g1(a).getFullYear()!==r&&u.push("".concat(_he,"--neighboringDecade")),ne.createElement(k8,jG({},s,{classes:u,maxDateTransform:S8,minDateTransform:O3,view:"decade"}),o(l,a))}var NG=function(){return NG=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},NG.apply(this,arguments)},Che=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function DFt(e){var t=e.activeStartDate,n=e.hover,r=e.showNeighboringDecade,i=e.value,o=e.valueType,s=Che(e,["activeStartDate","hover","showNeighboringDecade","value","valueType"]),a=rFt(t),l=a+(r?11:9);return ne.createElement(E8,{className:"react-calendar__decade-view__years",dateTransform:O3,dateType:"year",end:l,hover:n,renderTile:function(u){var c=u.date,f=Che(u,["date"]);return ne.createElement(RFt,NG({key:c.getTime()},s,f,{activeStartDate:t,currentDecade:a,date:c}))},start:a,value:i,valueType:o})}var W4=function(){return W4=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},W4.apply(this,arguments)},Fje=function(t){function n(){return ne.createElement(DFt,W4({},t))}return ne.createElement("div",{className:"react-calendar__decade-view"},n())};Fje.propTypes=W4(W4({},P8),{showNeighboringDecade:Pe.bool});var FG=function(){return FG=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},FG.apply(this,arguments)},OFt=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n},Ehe=function(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))},jFt="react-calendar__year-view__months__month";function NFt(e){var t=e.classes,n=t===void 0?[]:t,r=e.formatMonth,i=r===void 0?XNt:r,o=e.formatMonthYear,s=o===void 0?Mje:o,a=OFt(e,["classes","formatMonth","formatMonthYear"]),l=a.date,u=a.locale;return ne.createElement(k8,FG({},a,{classes:Ehe(Ehe([],n,!0),[jFt],!1),formatAbbr:s,maxDateTransform:M5,minDateTransform:Nx,view:"year"}),i(u,l))}var BG=function(){return BG=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},BG.apply(this,arguments)},khe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function FFt(e){var t=e.activeStartDate,n=e.hover,r=e.value,i=e.valueType,o=khe(e,["activeStartDate","hover","value","valueType"]),s=0,a=11,l=li(t);return ne.createElement(E8,{className:"react-calendar__year-view__months",dateTransform:function(u){var c=new Date;return c.setFullYear(l,u,1),Nx(c)},dateType:"month",end:a,hover:n,renderTile:function(u){var c=u.date,f=khe(u,["date"]);return ne.createElement(NFt,BG({key:c.getTime()},o,f,{activeStartDate:t,date:c}))},start:s,value:r,valueType:i})}var YD=function(){return YD=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},YD.apply(this,arguments)},Bje=function(t){function n(){return ne.createElement(FFt,YD({},t))}return ne.createElement("div",{className:"react-calendar__year-view"},n())};Bje.propTypes=YD({},P8);var zG=function(){return zG=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},zG.apply(this,arguments)},BFt=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n},sz="react-calendar__month-view__days__day";function zFt(e){var t=e.calendarType,n=e.classes,r=n===void 0?[]:n,i=e.currentMonthIndex,o=e.formatDay,s=o===void 0?ZNt:o,a=e.formatLongDate,l=a===void 0?YNt:a,u=BFt(e,["calendarType","classes","currentMonthIndex","formatDay","formatLongDate"]),c=C8(t),f=u.date,p=u.locale,g=[];return r&&g.push.apply(g,r),g.push(sz),Dje(f,c)&&g.push("".concat(sz,"--weekend")),f.getMonth()!==i&&g.push("".concat(sz,"--neighboringMonth")),ne.createElement(k8,zG({},u,{classes:g,formatAbbr:l,maxDateTransform:mte,minDateTransform:L5,view:"month"}),s(p,f))}var HG=function(){return HG=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},HG.apply(this,arguments)},Phe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function HFt(e){var t=e.activeStartDate,n=e.calendarType,r=e.hover,i=e.showFixedNumberOfWeeks,o=e.showNeighboringMonth,s=e.value,a=e.valueType,l=Phe(e,["activeStartDate","calendarType","hover","showFixedNumberOfWeeks","showNeighboringMonth","value","valueType"]),u=C8(n),c=li(t),f=m1(t),p=i||o,g=H4(t,u),v=p?0:g,y=(p?-g:0)+1,S=function(){if(i)return y+6*7-1;var C=gte(t);if(o){var _=new Date;_.setFullYear(c,f,C),_.setHours(0,0,0,0);var k=7-H4(_,u)-1;return C+k}return C}();return ne.createElement(E8,{className:"react-calendar__month-view__days",count:7,dateTransform:function(C){var _=new Date;return _.setFullYear(c,f,C),L5(_)},dateType:"day",hover:r,end:S,renderTile:function(C){var _=C.date,k=Phe(C,["date"]);return ne.createElement(zFt,HG({key:_.getTime()},l,k,{activeStartDate:t,calendarType:n,currentMonthIndex:f,date:_}))},offset:v,start:y,value:s,valueType:a})}var zje="react-calendar__month-view__weekdays",az="".concat(zje,"__weekday");function VFt(e){for(var t=e.calendarType,n=e.formatShortWeekday,r=n===void 0?QNt:n,i=e.formatWeekday,o=i===void 0?JNt:i,s=e.locale,a=e.onMouseLeave,l=C8(t),u=new Date,c=Nx(u),f=li(c),p=m1(c),g=[],v=1;v<=7;v+=1){var y=new Date(f,p,v-H4(c,l)),S=o(s,y);g.push(ne.createElement("div",{key:v,className:ic(az,fFt(y)&&"".concat(az,"--current"),Dje(y,l)&&"".concat(az,"--weekend"))},ne.createElement("abbr",{"aria-label":S,title:S},r(s,y).replace(".",""))))}return ne.createElement(yte,{className:zje,count:7,onFocus:a,onMouseOver:a},g)}var XD=function(){return XD=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},XD.apply(this,arguments)},$he=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n},The="react-calendar__tile";function UFt(e){var t=e.onClickWeekNumber,n=e.weekNumber,r=ne.createElement("span",null,n);if(t){var i=e.date,o=e.onClickWeekNumber,s=e.weekNumber,a=$he(e,["date","onClickWeekNumber","weekNumber"]);return ne.createElement("button",XD({},a,{className:The,onClick:function(l){return o(s,i,l)},type:"button"}),r)}else{e.date,e.onClickWeekNumber,e.weekNumber;var a=$he(e,["date","onClickWeekNumber","weekNumber"]);return ne.createElement("div",XD({},a,{className:The}),r)}}function WFt(e){var t=e.activeStartDate,n=e.calendarType,r=e.onClickWeekNumber,i=e.onMouseLeave,o=e.showFixedNumberOfWeeks,s=C8(n),a=function(){if(o)return 6;var c=gte(t),f=H4(t,s),p=c-(7-f);return 1+Math.ceil(p/7)}(),l=function(){for(var c=li(t),f=m1(t),p=qg(t),g=[],v=0;v<a;v+=1)g.push(IG(new Date(c,f,p+v*7),s));return g}(),u=l.map(function(c){return iFt(c,s)});return ne.createElement(yte,{className:"react-calendar__month-view__weekNumbers",count:a,direction:"column",onFocus:i,onMouseOver:i,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0}},u.map(function(c,f){var p=l[f];if(!p)throw new Error("date is not defined");return ne.createElement(UFt,{key:c,date:p,onClickWeekNumber:r,weekNumber:c})}))}var K4=function(){return K4=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},K4.apply(this,arguments)},KFt=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function qFt(e){if(e)for(var t=0,n=Object.entries(FNt);t<n.length;t++){var r=n[t],i=r[0],o=r[1];if(o.includes(e))return i}return xo.ISO_8601}var Hje=function(t){var n=t.activeStartDate,r=t.locale,i=t.onMouseLeave,o=t.showFixedNumberOfWeeks,s=t.calendarType,a=s===void 0?qFt(r):s,l=t.formatShortWeekday,u=t.formatWeekday,c=t.onClickWeekNumber,f=t.showWeekNumbers,p=KFt(t,["calendarType","formatShortWeekday","formatWeekday","onClickWeekNumber","showWeekNumbers"]);function g(){return ne.createElement(VFt,{calendarType:a,formatShortWeekday:l,formatWeekday:u,locale:r,onMouseLeave:i})}function v(){return f?ne.createElement(WFt,{activeStartDate:n,calendarType:a,onClickWeekNumber:c,onMouseLeave:i,showFixedNumberOfWeeks:o}):null}function y(){return ne.createElement(HFt,K4({calendarType:a},p))}var S="react-calendar__month-view";return ne.createElement("div",{className:ic(S,f?"".concat(S,"--weekNumbers"):"")},ne.createElement("div",{style:{display:"flex",alignItems:"flex-end"}},v(),ne.createElement("div",{style:{flexGrow:1,width:"100%"}},g(),y())))};Hje.propTypes=K4(K4({},P8),{calendarType:jje,formatDay:Pe.func,formatLongDate:Pe.func,formatShortWeekday:Pe.func,formatWeekday:Pe.func,onClickWeekNumber:Pe.func,onMouseLeave:Pe.func,showFixedNumberOfWeeks:Pe.bool,showNeighboringMonth:Pe.bool,showWeekNumbers:Pe.bool});var l2=function(){return l2=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},l2.apply(this,arguments)},vL="react-calendar",W2=["century","decade","year","month"],GFt=["decade","year","month","day"],xte=new Date;xte.setFullYear(1,0,1);xte.setHours(0,0,0,0);var ZFt=new Date(864e13);function Ok(e){return e instanceof Date?e:new Date(e)}function Vje(e,t){return W2.slice(W2.indexOf(e),W2.indexOf(t)+1)}function YFt(e,t,n){var r=Vje(t,n);return r.indexOf(e)!==-1}function Ste(e,t,n){return e&&YFt(e,t,n)?e:n}function Uje(e){var t=W2.indexOf(e);return GFt[t]}function XFt(e,t){var n=Array.isArray(e)?e[t]:e;if(!n)return null;var r=Ok(n);if(isNaN(r.getTime()))throw new Error("Invalid date: ".concat(e));return r}function Wje(e,t){var n=e.value,r=e.minDate,i=e.maxDate,o=e.maxDetail,s=XFt(n,t);if(!s)return null;var a=Uje(o),l=function(){switch(t){case 0:return $w(a,s);case 1:return Aje(a,s);default:throw new Error("Invalid index value: ".concat(t))}}();return yFt(l,r,i)}var _te=function(e){return Wje(e,0)},Kje=function(e){return Wje(e,1)},QFt=function(e){return[_te,Kje].map(function(t){return t(e)})};function qje(e){var t=e.maxDate,n=e.maxDetail,r=e.minDate,i=e.minDetail,o=e.value,s=e.view,a=Ste(s,i,n),l=_te({value:o,minDate:r,maxDate:t,maxDetail:n})||new Date;return $w(a,l)}function JFt(e){var t=e.activeStartDate,n=e.defaultActiveStartDate,r=e.defaultValue,i=e.defaultView,o=e.maxDate,s=e.maxDetail,a=e.minDate,l=e.minDetail,u=e.value,c=e.view,f=Ste(c,l,s),p=t||n;return p?$w(f,p):qje({maxDate:o,maxDetail:s,minDate:a,minDetail:l,value:u||r,view:c||i})}function lz(e){return e&&(!Array.isArray(e)||e.length===1)}function yL(e,t){return e instanceof Date&&t instanceof Date&&e.getTime()===t.getTime()}var Gje=h.forwardRef(function(t,n){var r=t.activeStartDate,i=t.allowPartialRange,o=t.calendarType,s=t.className,a=t.defaultActiveStartDate,l=t.defaultValue,u=t.defaultView,c=t.formatDay,f=t.formatLongDate,p=t.formatMonth,g=t.formatMonthYear,v=t.formatShortWeekday,y=t.formatWeekday,S=t.formatYear,C=t.goToRangeStartOnSelect,_=C===void 0?!0:C,k=t.inputRef,w=t.locale,P=t.maxDate,M=P===void 0?ZFt:P,R=t.maxDetail,D=R===void 0?"month":R,H=t.minDate,O=H===void 0?xte:H,z=t.minDetail,G=z===void 0?"century":z,ee=t.navigationAriaLabel,X=t.navigationAriaLive,se=t.navigationLabel,B=t.next2AriaLabel,q=t.next2Label,U=t.nextAriaLabel,K=t.nextLabel,J=t.onActiveStartDateChange,oe=t.onChange,he=t.onClickDay,me=t.onClickDecade,re=t.onClickMonth,ue=t.onClickWeekNumber,ce=t.onClickYear,we=t.onDrillDown,Me=t.onDrillUp,Be=t.onViewChange,ge=t.prev2AriaLabel,ye=t.prev2Label,_e=t.prevAriaLabel,$e=t.prevLabel,He=t.returnValue,Ve=He===void 0?"start":He,ot=t.selectRange,kt=t.showDoubleView,gt=t.showFixedNumberOfWeeks,rn=t.showNavigation,Yt=rn===void 0?!0:rn,Bt=t.showNeighboringCentury,dn=t.showNeighboringDecade,Ft=t.showNeighboringMonth,Xt=Ft===void 0?!0:Ft,Qe=t.showWeekNumbers,Ce=t.tileClassName,ze=t.tileContent,Ne=t.tileDisabled,ct=t.value,Ct=t.view,Et=h.useState(a),Ie=Et[0],Ae=Et[1],dt=h.useState(null),it=dt[0],ut=dt[1],vt=h.useState(Array.isArray(l)?l.map(function(lt){return lt!==null?Ok(lt):null}):l!=null?Ok(l):null),Mn=vt[0],Kn=vt[1],Qt=h.useState(u),on=Qt[0],$t=Qt[1],Wt=r||Ie||JFt({activeStartDate:r,defaultActiveStartDate:a,defaultValue:l,defaultView:u,maxDate:M,maxDetail:D,minDate:O,minDetail:G,value:ct,view:Ct}),Kt=function(){var lt=function(){return ot&&lz(Mn)?Mn:ct!==void 0?ct:Mn}();return lt?Array.isArray(lt)?lt.map(function(bt){return bt!==null?Ok(bt):null}):lt!==null?Ok(lt):null:null}(),sr=Uje(D),Jt=Ste(Ct||on,G,D),zn=Vje(G,D),Ln=ot?it:null,Ot=zn.indexOf(Jt)<zn.length-1,_t=zn.indexOf(Jt)>0,Fr=h.useCallback(function(lt){var bt=function(){switch(Ve){case"start":return _te;case"end":return Kje;case"range":return QFt;default:throw new Error("Invalid returnValue.")}}();return bt({maxDate:M,maxDetail:D,minDate:O,value:lt})},[M,D,O,Ve]),Hn=h.useCallback(function(lt,bt){Ae(lt);var Ue={action:bt,activeStartDate:lt,value:Kt,view:Jt};J&&!yL(Wt,lt)&&J(Ue)},[Wt,J,Kt,Jt]),Bn=h.useCallback(function(lt,bt){var Ue=function(){switch(Jt){case"century":return me;case"decade":return ce;case"year":return re;case"month":return he;default:throw new Error("Invalid view: ".concat(Jt,"."))}}();Ue&&Ue(lt,bt)},[he,me,re,ce,Jt]),ar=h.useCallback(function(lt,bt){if(Ot){Bn(lt,bt);var Ue=zn[zn.indexOf(Jt)+1];if(!Ue)throw new Error("Attempted to drill down from the lowest view.");Ae(lt),$t(Ue);var ke={action:"drillDown",activeStartDate:lt,value:Kt,view:Ue};J&&!yL(Wt,lt)&&J(ke),Be&&Jt!==Ue&&Be(ke),we&&we(ke)}},[Wt,Ot,J,Bn,we,Be,Kt,Jt,zn]),mt=h.useCallback(function(){if(_t){var lt=zn[zn.indexOf(Jt)-1];if(!lt)throw new Error("Attempted to drill up from the highest view.");var bt=$w(lt,Wt);Ae(bt),$t(lt);var Ue={action:"drillUp",activeStartDate:bt,value:Kt,view:lt};J&&!yL(Wt,bt)&&J(Ue),Be&&Jt!==lt&&Be(Ue),Me&&Me(Ue)}},[Wt,_t,J,Me,Be,Kt,Jt,zn]),hr=h.useCallback(function(lt,bt){var Ue=Kt;Bn(lt,bt);var ke=ot&&!lz(Ue),rt;if(ot)if(ke)rt=$w(sr,lt);else{if(!Ue)throw new Error("previousValue is required");if(Array.isArray(Ue))throw new Error("previousValue must not be an array");rt=cFt(sr,Ue,lt)}else rt=Fr(lt);var nt=!ot||ke||_?qje({maxDate:M,maxDetail:D,minDate:O,minDetail:G,value:rt,view:Jt}):null;bt.persist(),Ae(nt),Kn(rt);var Rn={action:"onChange",activeStartDate:nt,value:rt,view:Jt};if(J&&!yL(Wt,nt)&&J(Rn),oe)if(ot){var qn=lz(rt);if(!qn)oe(rt||null,bt);else if(i){if(Array.isArray(rt))throw new Error("value must not be an array");oe([rt||null,null],bt)}}else oe(rt||null,bt)},[Wt,i,Fr,_,M,D,O,G,J,oe,Bn,ot,Kt,sr,Jt]);function Ii(lt){ut(lt)}function Rr(){ut(null)}h.useImperativeHandle(n,function(){return{activeStartDate:Wt,drillDown:ar,drillUp:mt,onChange:hr,setActiveStartDate:Hn,value:Kt,view:Jt}},[Wt,ar,mt,hr,Hn,Kt,Jt]);function Fs(lt){var bt=lt?Lje(Jt,Wt):$w(Jt,Wt),Ue=Ot?ar:hr,ke={activeStartDate:bt,hover:Ln,locale:w,maxDate:M,minDate:O,onClick:Ue,onMouseOver:ot?Ii:void 0,tileClassName:Ce,tileContent:ze,tileDisabled:Ne,value:Kt,valueType:sr};switch(Jt){case"century":return ne.createElement(Nje,l2({formatYear:S,showNeighboringCentury:Bt},ke));case"decade":return ne.createElement(Fje,l2({formatYear:S,showNeighboringDecade:dn},ke));case"year":return ne.createElement(Bje,l2({formatMonth:p,formatMonthYear:g},ke));case"month":return ne.createElement(Hje,l2({calendarType:o,formatDay:c,formatLongDate:f,formatShortWeekday:v,formatWeekday:y,onClickWeekNumber:ue,onMouseLeave:ot?Rr:void 0,showFixedNumberOfWeeks:typeof gt<"u"?gt:kt,showNeighboringMonth:Xt,showWeekNumbers:Qe},ke));default:throw new Error("Invalid view: ".concat(Jt,"."))}}function Bs(){return Yt?ne.createElement(hFt,{activeStartDate:Wt,drillUp:mt,formatMonthYear:g,formatYear:S,locale:w,maxDate:M,minDate:O,navigationAriaLabel:ee,navigationAriaLive:X,navigationLabel:se,next2AriaLabel:B,next2Label:q,nextAriaLabel:U,nextLabel:K,prev2AriaLabel:ge,prev2Label:ye,prevAriaLabel:_e,prevLabel:$e,setActiveStartDate:Hn,showDoubleView:kt,view:Jt,views:zn}):null}var at=Array.isArray(Kt)?Kt:[Kt];return ne.createElement("div",{className:ic(vL,ot&&at.length===1&&"".concat(vL,"--selectRange"),kt&&"".concat(vL,"--doubleView"),s),ref:k},Bs(),ne.createElement("div",{className:"".concat(vL,"__viewContainer"),onBlur:ot?Rr:void 0,onMouseLeave:ot?Rr:void 0},Fs(),kt?Fs(!0):null))}),Mhe=Pe.instanceOf(Date),Lhe=Pe.oneOfType([Pe.string,Pe.instanceOf(Date)]),Ahe=Pe.oneOfType([Lhe,AFt(Lhe)]);Gje.propTypes={activeStartDate:Mhe,allowPartialRange:Pe.bool,calendarType:jje,className:GD,defaultActiveStartDate:Mhe,defaultValue:Ahe,defaultView:ZD,formatDay:Pe.func,formatLongDate:Pe.func,formatMonth:Pe.func,formatMonthYear:Pe.func,formatShortWeekday:Pe.func,formatWeekday:Pe.func,formatYear:Pe.func,goToRangeStartOnSelect:Pe.bool,inputRef:TFt,locale:Pe.string,maxDate:wte,maxDetail:Pe.oneOf(W2),minDate:bte,minDetail:Pe.oneOf(W2),navigationAriaLabel:Pe.string,navigationAriaLive:Pe.oneOf(["off","polite","assertive"]),navigationLabel:Pe.func,next2AriaLabel:Pe.string,next2Label:Pe.node,nextAriaLabel:Pe.string,nextLabel:Pe.node,onActiveStartDateChange:Pe.func,onChange:Pe.func,onClickDay:Pe.func,onClickDecade:Pe.func,onClickMonth:Pe.func,onClickWeekNumber:Pe.func,onClickYear:Pe.func,onDrillDown:Pe.func,onDrillUp:Pe.func,onViewChange:Pe.func,prev2AriaLabel:Pe.string,prev2Label:Pe.node,prevAriaLabel:Pe.string,prevLabel:Pe.node,returnValue:Pe.oneOf(["start","end","range"]),selectRange:Pe.bool,showDoubleView:Pe.bool,showFixedNumberOfWeeks:Pe.bool,showNavigation:Pe.bool,showNeighboringCentury:Pe.bool,showNeighboringDecade:Pe.bool,showNeighboringMonth:Pe.bool,showWeekNumbers:Pe.bool,tileClassName:Pe.oneOfType([Pe.func,GD]),tileContent:Pe.oneOfType([Pe.func,Pe.node]),tileDisabled:Pe.func,value:Ahe,view:ZD};function uz(e){var t=e.angle,n=t===void 0?0:t,r=e.name,i=e.length,o=i===void 0?100:i,s=e.oppositeLength,a=s===void 0?10:s,l=e.width,u=l===void 0?1:l;return ne.createElement("div",{className:"react-clock__hand react-clock__".concat(r,"-hand"),style:{transform:"rotate(".concat(n,"deg)")}},ne.createElement("div",{className:"react-clock__hand__body react-clock__".concat(r,"-hand__body"),style:{width:"".concat(u,"px"),top:"".concat(50-o/2,"%"),bottom:"".concat(50-a/2,"%")}}))}function Zje(e){var t=e.angle,n=t===void 0?0:t,r=e.length,i=r===void 0?10:r,o=e.name,s=e.width,a=s===void 0?1:s,l=e.number;return ne.createElement("div",{className:"react-clock__mark react-clock__".concat(o,"-mark"),style:{transform:"rotate(".concat(n,"deg)")}},ne.createElement("div",{className:"react-clock__mark__body react-clock__".concat(o,"-mark__body"),style:{width:"".concat(a,"px"),top:0,bottom:"".concat(100-i/2,"%")}}),l?ne.createElement("div",{className:"react-clock__mark__number",style:{transform:"rotate(-".concat(n,"deg)"),top:"".concat(i/2,"%")}},l):null)}var VG=function(){return VG=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},VG.apply(this,arguments)},eBt=h.memo(function(t){return ne.createElement(Zje,VG({},t))});function tBt(e,t){return t.toLocaleString(e||jx()||void 0)}var UG=function(){return UG=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},UG.apply(this,arguments)},nBt=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n},rBt=h.memo(function(t){var n=t.formatHour,r=n===void 0?tBt:n,i=t.locale,o=t.number,s=nBt(t,["formatHour","locale","number"]);return ne.createElement(Zje,UG({number:o?r(i,o):null},s))});function Yje(e,t){return function(n,r,i){var o=n,s=r,a=o[s];if(typeof a<"u"){if(typeof a!="number")return new Error("Invalid prop `".concat(r,"` of type `").concat(typeof a,"` supplied to `").concat(i,"`, expected `number`."));if(a<e||a>t)return new Error("Invalid prop `".concat(r,"` of type `").concat(typeof a,"` supplied to `").concat(i,"`, length must be between ").concat(e," and ").concat(t,"."))}return null}}var yI=Yje(0,100),cz=Yje(-100,100),bI=function(t,n,r){var i=t,o=n,s=i[o];if(typeof s<"u"){if(typeof s!="number")return new Error("Invalid prop `".concat(n,"` of type `").concat(typeof s,"` supplied to `").concat(r,"`, expected `number`."));if(s<0)return new Error("Invalid prop `".concat(n,"` of type `").concat(typeof s,"` supplied to `").concat(r,"`, width must be greater or equal to 0."))}return null},Ihe=yI,Rhe=bI,Xje=function(t){var n=t.className,r=t.formatHour,i=t.hourHandLength,o=i===void 0?50:i,s=t.hourHandOppositeLength,a=t.hourHandWidth,l=a===void 0?4:a,u=t.hourMarksLength,c=u===void 0?10:u,f=t.hourMarksWidth,p=f===void 0?3:f,g=t.locale,v=t.minuteHandLength,y=v===void 0?70:v,S=t.minuteHandOppositeLength,C=t.minuteHandWidth,_=C===void 0?2:C,k=t.minuteMarksLength,w=k===void 0?6:k,P=t.minuteMarksWidth,M=P===void 0?1:P,R=t.renderHourMarks,D=R===void 0?!0:R,H=t.renderMinuteHand,O=H===void 0?!0:H,z=t.renderMinuteMarks,G=z===void 0?!0:z,ee=t.renderNumbers,X=t.renderSecondHand,se=X===void 0?!0:X,B=t.secondHandLength,q=B===void 0?90:B,U=t.secondHandOppositeLength,K=t.secondHandWidth,J=K===void 0?1:K,oe=t.size,he=oe===void 0?150:oe,me=t.useMillisecondPrecision,re=t.value;function ue(){if(!G)return null;for(var ye=[],_e=1;_e<=60;_e+=1){var $e=D&&!(_e%5);$e||ye.push(ne.createElement(eBt,{key:"minute_".concat(_e),angle:_e*6,length:w,name:"minute",width:M}))}return ye}function ce(){if(!D)return null;for(var ye=[],_e=1;_e<=12;_e+=1)ye.push(ne.createElement(rBt,{key:"hour_".concat(_e),angle:_e*30,formatHour:r,length:c,locale:g,name:"hour",number:ee?_e:void 0,width:p}));return ye}function we(){return ne.createElement("div",{className:"react-clock__face"},ue(),ce())}function Me(){var ye=re?du(re)*30+$g(re)/2+Pw(re)/120+(me?iz(re)/12e4:0):0;return ne.createElement(uz,{angle:ye,length:o,name:"hour",oppositeLength:s,width:l})}function Be(){if(!O)return null;var ye=re?du(re)*360+$g(re)*6+Pw(re)/10+(me?iz(re)/1e4:0):0;return ne.createElement(uz,{angle:ye,length:y,name:"minute",oppositeLength:S,width:_})}function ge(){if(!se)return null;var ye=re?$g(re)*360+Pw(re)*6+(me?iz(re)*.006:0):0;return ne.createElement(uz,{angle:ye,length:q,name:"second",oppositeLength:U,width:J})}return ne.createElement("time",{className:ic("react-clock",n),dateTime:re instanceof Date?re.toISOString():re||void 0,style:{width:he,height:he}},we(),Me(),Be(),ge())};Xje.propTypes={className:Pe.oneOfType([Pe.string,Pe.arrayOf(Pe.string)]),formatHour:Pe.func,hourHandLength:yI,hourHandOppositeLength:cz,hourHandWidth:bI,hourMarksLength:Ihe,hourMarksWidth:Rhe,locale:Pe.string,minuteHandLength:yI,minuteHandOppositeLength:cz,minuteHandWidth:bI,minuteMarksLength:Ihe,minuteMarksWidth:Rhe,renderHourMarks:Pe.bool,renderMinuteHand:Pe.bool,renderMinuteMarks:Pe.bool,renderNumbers:Pe.bool,renderSecondHand:Pe.bool,secondHandLength:yI,secondHandOppositeLength:cz,secondHandWidth:bI,size:Pe.oneOfType([Pe.number,Pe.string]),value:Pe.oneOfType([Pe.string,Pe.instanceOf(Date)])};function bl(e){return e.getBoundingClientRect()}function Dhe(e,t){return{get collidedTop(){return bl(e).top<bl(t).top},get collidedBottom(){return bl(e).bottom>bl(t).bottom},get collidedLeft(){return bl(e).left<bl(t).left},get collidedRight(){return bl(e).right>bl(t).right},get overflowTop(){return bl(t).top-bl(e).top},get overflowBottom(){return bl(e).bottom-bl(t).bottom},get overflowLeft(){return bl(t).left-bl(e).left},get overflowRight(){return bl(e).right-bl(t).right}}}var iBt=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),f0=function(){return f0=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},f0.apply(this,arguments)},oBt=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n},Qje=typeof document<"u",Ohe=Qje&&"CSS"in window&&"supports"in window.CSS&&CSS.supports("display","contents"),sBt=Qje&&"MutationObserver"in window;function bL(e){return e.charAt(0).toUpperCase()+e.slice(1)}function jhe(e){for(var t=e.parentElement;t;){var n=window.getComputedStyle(t).overflow;if(n.split(" ").every(function(r){return r==="auto"||r==="scroll"}))return t;t=t.parentElement}return document.documentElement}function Jje(e){var t=e.axis,n=e.container,r=e.element,i=e.invertAxis,o=e.scrollContainer,s=e.secondary,a=e.spacing,l=window.getComputedStyle(r),u=n.parentElement;if(!u)return;var c=Dhe(u,o),f=Dhe(u,document.documentElement),p=t==="x",g=p?"left":"top",v=p?"right":"bottom",y=p?"width":"height",S="overflow".concat(bL(g)),C="overflow".concat(bL(v)),_="scroll".concat(bL(g)),k=bL(y),w="offset".concat(k),P="client".concat(k),M="min-".concat(y),R=o[w]-o[P],D=typeof a=="object"?a[g]:a,H=-Math.max(c[S],f[S]+document.documentElement[_])-D,O=typeof a=="object"?a[v]:a,z=-Math.max(c[C],f[C]-document.documentElement[_])-O-R;s&&(H+=u[P],z+=u[P]);var G=r[w];function ee(){r.style[g]="auto",r.style[v]=s?"0":"100%"}function X(){r.style[g]=s?"0":"100%",r.style[v]="auto"}function se(J,oe){var he=G<=J;return he&&oe(),he}function B(){return se(H,ee)}function q(){return se(z,X)}function U(){var J=H>z,oe=l.getPropertyValue(M),he=oe?parseInt(oe,10):null;function me(re){var ue=Math.max(re,he||0);r.style[y]="".concat(ue,"px")}J?(me(H),ee()):(me(z),X())}var K;i?K=B()||q():K=q()||B(),K||U()}function aBt(e){Jje(e)}function lBt(e){Jje(f0(f0({},e),{axis:e.axis==="x"?"y":"x",secondary:!0}))}function uBt(e){var t=e.invertAxis,n=e.invertSecondaryAxis,r=oBt(e,["invertAxis","invertSecondaryAxis"]);aBt(f0(f0({},r),{invertAxis:t})),lBt(f0(f0({},r),{invertAxis:n}))}var Nhe=function(e){iBt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.fit=function(){var r=n,i=r.scrollContainer,o=r.container,s=r.element;if(!(!i||!o||!s)){var a=s.clientWidth,l=s.clientHeight;if(!(n.elementWidth===a&&n.elementHeight===l)){n.elementWidth=a,n.elementHeight=l;var u=o.parentElement;if(u){var c=window.getComputedStyle(s),f=c.position;f!=="absolute"&&(s.style.position="absolute");var p=window.getComputedStyle(u),g=p.position;g!=="relative"&&g!=="absolute"&&(u.style.position="relative");var v=n.props,y=v.invertAxis,S=v.invertSecondaryAxis,C=v.mainAxis,_=C===void 0?"y":C,k=v.spacing,w=k===void 0?8:k;uBt({axis:_,container:o,element:s,invertAxis:y,invertSecondaryAxis:S,scrollContainer:i,spacing:w})}}}},n}return t.prototype.componentDidMount=function(){var n=this;if(!Ohe){var r=ai.findDOMNode(this);if(!r||!(r instanceof HTMLElement))return;this.container=r,this.element=r,this.scrollContainer=jhe(r)}this.fit();var i=function(){n.fit()};if(sBt&&this.element){var o=new MutationObserver(i);o.observe(this.element,{attributes:!0,attributeFilter:["class","style"]})}},t.prototype.render=function(){var n=this,r=this.props.children,i=ne.Children.only(r);return Ohe?ne.createElement("span",{ref:function(o){n.container=o;var s=o&&o.firstElementChild;!s||!(s instanceof HTMLElement)||(n.element=s,n.scrollContainer=jhe(s))},style:{display:"contents"}},i):i},t.propTypes={children:Pe.node.isRequired,invertAxis:Pe.bool,invertSecondaryAxis:Pe.bool,mainAxis:Pe.oneOf(["x","y"]),spacing:Pe.oneOfType([Pe.number,Pe.shape({bottom:Pe.number.isRequired,left:Pe.number.isRequired,right:Pe.number.isRequired,top:Pe.number.isRequired})])},t}(h.Component);function cBt(e){var t=e.children;return ne.createElement("span",{className:"react-datetime-picker__inputGroup__divider"},t)}var dBt=["normal","small-caps"];function Cte(e){if(!e)return"";var t=window.getComputedStyle(e);if(t.font)return t.font;var n=t.fontFamily!=="";if(!n)return"";var r=dBt.includes(t.fontVariant)?t.fontVariant:"normal";return"".concat(t.fontStyle," ").concat(r," ").concat(t.fontWeight," ").concat(t.fontSize," / ").concat(t.lineHeight," ").concat(t.fontFamily)}var Fhe;function fBt(e,t){var n=Fhe||(Fhe=document.createElement("canvas")),r=n.getContext("2d");if(!r)return null;r.font=t;var i=r.measureText(e).width;return Math.ceil(i)}function F0(e){if(typeof document>"u"||!e)return null;var t=Cte(e),n=e.value||e.placeholder,r=fBt(n,t);return r===null?null:(e.style.width="".concat(r,"px"),r)}var Ete=typeof document<"u",hBt=Ete?h.useLayoutEffect:h.useEffect,pBt=Ete&&/(MSIE|Trident\/|Edge\/)/.test(navigator.userAgent),mBt=Ete&&/Firefox/.test(navigator.userAgent);function gBt(e){var t=e.target;pBt?requestAnimationFrame(function(){return t.select()}):t.select()}function vBt(e){if(document.readyState==="complete")return;function t(){F0(e)}window.addEventListener("load",t)}function yBt(e){if(!document.fonts)return;var t=Cte(e);if(!t)return;var n=document.fonts.check(t);if(n)return;function r(){F0(e)}document.fonts.addEventListener("loadingdone",r)}function bBt(e){if(e&&"selectionStart"in e&&e.selectionStart!==null&&"selectionEnd"in e&&e.selectionEnd!==null)return e.value.slice(e.selectionStart,e.selectionEnd);if("getSelection"in window){var t=window.getSelection();return t&&t.toString()}return null}function wBt(e){if(e!==null)return function(n){if(!mBt){var r=n.key,i=n.target,o=i.value,s=r.length===1&&/\d/.test(r),a=bBt(i);(!s||!(a||o.length<e))&&n.preventDefault()}}}function kte(e){var t=e.ariaLabel,n=e.autoFocus,r=e.className,i=e.disabled,o=e.inputRef,s=e.max,a=e.min,l=e.name,u=e.nameForClass,c=e.onChange,f=e.onKeyDown,p=e.onKeyUp,g=e.placeholder,v=g===void 0?"--":g,y=e.required,S=e.showLeadingZeros,C=e.step,_=e.value;hBt(function(){!o||!o.current||(F0(o.current),vBt(o.current),yBt(o.current))},[o,_]);var k=S&&_&&Number(_)<10&&(_==="0"||!_.toString().startsWith("0")),w=s?s.toString().length:null;return ne.createElement(ne.Fragment,null,k?ne.createElement("span",{className:"".concat(r,"__leadingZero")},"0"):null,ne.createElement("input",{"aria-label":t,autoComplete:"off",autoFocus:n,className:ic("".concat(r,"__input"),"".concat(r,"__").concat(u||l),k&&"".concat(r,"__input--hasLeadingZero")),"data-input":"true",disabled:i,inputMode:"numeric",max:s,min:a,name:l,onChange:c,onFocus:gBt,onKeyDown:f,onKeyPress:wBt(w),onKeyUp:function(P){F0(P.target),p&&p(P)},placeholder:v,ref:o,required:y,step:C,type:"number",value:_!==null?_:""}))}function eNe(e){return e!==null&&e!==!1&&!Number.isNaN(Number(e))}function $8(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Math.min.apply(Math,e.filter(eNe))}function T8(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Math.max.apply(Math,e.filter(eNe))}var WG=function(){return WG=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},WG.apply(this,arguments)},xBt=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function SBt(e){var t=e.maxDate,n=e.minDate,r=e.month,i=e.year,o=xBt(e,["maxDate","minDate","month","year"]),s=function(){return r?gte(new Date(Number(i),Number(r)-1,1)):31}();function a(c){return i===li(c).toString()&&r===Pg(c).toString()}var l=$8(s,t&&a(t)&&qg(t)),u=T8(1,n&&a(n)&&qg(n));return ne.createElement(kte,WG({max:l,min:u,name:"day"},o))}var KG=function(){return KG=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},KG.apply(this,arguments)},_Bt=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function CBt(e){var t=e.maxDate,n=e.minDate,r=e.year,i=_Bt(e,["maxDate","minDate","year"]);function o(l){return l&&r===li(l).toString()}var s=$8(12,t&&o(t)&&Pg(t)),a=T8(1,n&&o(n)&&Pg(n));return ne.createElement(kte,KG({max:s,min:a,name:"month"},i))}var dz=new Map;function EBt(e){return function(n,r){var i=n||jx();dz.has(i)||dz.set(i,new Map);var o=dz.get(i);return o.has(e)||o.set(e,new Intl.DateTimeFormat(i||void 0,e).format),o.get(e)(r)}}function kBt(e){var t=new Date(e);return new Date(t.setHours(12))}function tNe(e){return function(t,n){return EBt(e)(t,kBt(n))}}var PBt={month:"long"},$Bt={month:"short"},TBt=tNe(PBt),MBt=tNe($Bt),LBt=function(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))};function ABt(e){var t=e.ariaLabel,n=e.autoFocus,r=e.className,i=e.disabled,o=e.inputRef,s=e.locale,a=e.maxDate,l=e.minDate,u=e.onChange,c=e.onKeyDown,f=e.placeholder,p=f===void 0?"--":f,g=e.required,v=e.short,y=e.value,S=e.year;function C(R){return R&&S===li(R).toString()}var _=$8(12,a&&C(a)&&Pg(a)),k=T8(1,l&&C(l)&&Pg(l)),w=LBt([],Array(12),!0).map(function(R,D){return new Date(2019,D,1)}),P="month",M=v?MBt:TBt;return ne.createElement("select",{"aria-label":t,autoFocus:n,className:ic("".concat(r,"__input"),"".concat(r,"__").concat(P)),"data-input":"true","data-select":"true",disabled:i,name:P,onChange:u,onKeyDown:c,ref:o,required:g,value:y!==null?y:""},!y&&ne.createElement("option",{value:""},p),w.map(function(R){var D=Pg(R),H=D<k||D>_;return ne.createElement("option",{key:D,disabled:H,value:D},M(s,R))}))}var qG=function(){return qG=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},qG.apply(this,arguments)},IBt=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function RBt(e){var t=e.maxDate,n=e.minDate,r=e.placeholder,i=r===void 0?"----":r,o=e.valueType,s=IBt(e,["maxDate","minDate","placeholder","valueType"]),a=$8(275760,t&&li(t)),l=T8(1,n&&li(n)),u=function(){return o==="century"?10:1}();return ne.createElement(kte,qG({max:a,min:l,name:"year",placeholder:i,step:u},s))}var Pte=typeof document<"u",DBt=Pte?h.useLayoutEffect:h.useEffect,OBt=Pte&&/(MSIE|Trident\/|Edge\/)/.test(navigator.userAgent),jBt=Pte&&/Firefox/.test(navigator.userAgent);function NBt(e){var t=e.target;OBt?requestAnimationFrame(function(){return t.select()}):t.select()}function FBt(e){if(document.readyState==="complete")return;function t(){F0(e)}window.addEventListener("load",t)}function BBt(e){if(!document.fonts)return;var t=Cte(e);if(!t)return;var n=document.fonts.check(t);if(n)return;function r(){F0(e)}document.fonts.addEventListener("loadingdone",r)}function zBt(e){if(e&&"selectionStart"in e&&e.selectionStart!==null&&"selectionEnd"in e&&e.selectionEnd!==null)return e.value.slice(e.selectionStart,e.selectionEnd);if("getSelection"in window){var t=window.getSelection();return t&&t.toString()}return null}function HBt(e){if(e!==null)return function(n){if(!jBt){var r=n.key,i=n.target,o=i.value,s=r.length===1&&/\d/.test(r),a=zBt(i);(!s||!(a||o.length<e))&&n.preventDefault()}}}function M8(e){var t=e.ariaLabel,n=e.autoFocus,r=e.className,i=e.disabled,o=e.inputRef,s=e.max,a=e.min,l=e.name,u=e.nameForClass,c=e.onChange,f=e.onKeyDown,p=e.onKeyUp,g=e.placeholder,v=g===void 0?"--":g,y=e.required,S=e.showLeadingZeros,C=e.step,_=e.value;DBt(function(){!o||!o.current||(F0(o.current),FBt(o.current),BBt(o.current))},[o,_]);var k=S&&_&&Number(_)<10&&(_==="0"||!_.toString().startsWith("0")),w=s?s.toString().length:null;return ne.createElement(ne.Fragment,null,k?ne.createElement("span",{className:"".concat(r,"__leadingZero")},"0"):null,ne.createElement("input",{"aria-label":t,autoComplete:"off",autoFocus:n,className:ic("".concat(r,"__input"),"".concat(r,"__").concat(u||l),k&&"".concat(r,"__input--hasLeadingZero")),"data-input":"true",disabled:i,inputMode:"numeric",max:s,min:a,name:l,onChange:c,onFocus:NBt,onKeyDown:f,onKeyPress:HBt(w),onKeyUp:function(P){F0(P.target),p&&p(P)},placeholder:v,ref:o,required:y,step:C,type:"number",value:_!==null?_:""}))}function PP(e){var t=Number(e)%12||12;return[t,Number(e)<12?"am":"pm"]}var fz=new Map;function VBt(e){return function(n,r){var i=n||jx();fz.has(i)||fz.set(i,new Map);var o=fz.get(i);return o.has(e)||o.set(e,new Intl.DateTimeFormat(i||void 0,e).format),o.get(e)(r)}}var UBt=["9",""],Bhe=new RegExp("[".concat(UBt.join(""),"]")),zhe=VBt({hour:"numeric"});function WBt(e){var t=zhe(e,new Date(2017,0,1,9)),n=zhe(e,new Date(2017,0,1,21)),r=t.split(Bhe),i=r[0],o=r[1],s=n.split(Bhe),a=s[0],l=s[1];if(l!==void 0){if(i!==a)return[i,a].map(function(u){return u.trim()});if(o!==l)return[o,l].map(function(u){return u.trim()})}return["AM","PM"]}function nNe(e){return e!==null&&e!==!1&&!Number.isNaN(Number(e))}function L8(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Math.min.apply(Math,e.filter(nNe))}function A8(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Math.max.apply(Math,e.filter(nNe))}var GG=function(){return GG=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},GG.apply(this,arguments)},KBt=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function qBt(e){var t=e.amPm,n=e.maxTime,r=e.minTime,i=e.value,o=KBt(e,["amPm","maxTime","minTime","value"]),s=L8(12,n&&function(){var u=PP(du(n)),c=u[0],f=u[1];return f!==t?null:c}()),a=A8(1,r&&function(){var u=PP(du(r)),c=u[0],f=u[1];return f!==t||c===12?null:c}()),l=i?PP(i)[0].toString():"";return ne.createElement(M8,GG({max:s,min:a,name:"hour12",nameForClass:"hour",value:l},o))}var ZG=function(){return ZG=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},ZG.apply(this,arguments)},GBt=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function ZBt(e){var t=e.maxTime,n=e.minTime,r=GBt(e,["maxTime","minTime"]),i=L8(23,t&&du(t)),o=A8(0,n&&du(n));return ne.createElement(M8,ZG({max:i,min:o,name:"hour24",nameForClass:"hour"},r))}var YG=function(){return YG=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},YG.apply(this,arguments)},YBt=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function XBt(e){var t=e.hour,n=e.maxTime,r=e.minTime,i=e.showLeadingZeros,o=i===void 0?!0:i,s=YBt(e,["hour","maxTime","minTime","showLeadingZeros"]);function a(c){return t===du(c).toString()}var l=L8(59,n&&a(n)&&$g(n)),u=A8(0,r&&a(r)&&$g(r));return ne.createElement(M8,YG({max:l,min:u,name:"minute",showLeadingZeros:o},s))}var XG=function(){return XG=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},XG.apply(this,arguments)},QBt=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function JBt(e){var t=e.hour,n=e.maxTime,r=e.minTime,i=e.minute,o=e.showLeadingZeros,s=o===void 0?!0:o,a=QBt(e,["hour","maxTime","minTime","minute","showLeadingZeros"]);function l(f){return t===du(f).toString()&&i===$g(f).toString()}var u=L8(59,n&&l(n)&&Pw(n)),c=A8(0,r&&l(r)&&Pw(r));return ne.createElement(M8,XG({max:u,min:c,name:"second",showLeadingZeros:s},a))}function ezt(e){var t=e.ariaLabel,n=e.autoFocus,r=e.className,i=e.disabled,o=e.inputRef,s=e.locale,a=e.maxTime,l=e.minTime,u=e.onChange,c=e.onKeyDown,f=e.required,p=e.value,g=l?PP(du(l))[1]==="pm":!1,v=a?PP(du(a))[1]==="am":!1,y="amPm",S=WBt(s),C=S[0],_=S[1];return ne.createElement("select",{"aria-label":t,autoFocus:n,className:ic("".concat(r,"__input"),"".concat(r,"__").concat(y)),"data-input":"true","data-select":"true",disabled:i,name:y,onChange:u,onKeyDown:c,ref:o,required:f,value:p!==null?p:""},!p&&ne.createElement("option",{value:""},"--"),ne.createElement("option",{disabled:g,value:"am"},C),ne.createElement("option",{disabled:v,value:"pm"},_))}function tzt(e){var t=e.ariaLabel,n=e.disabled,r=e.maxDate,i=e.minDate,o=e.name,s=e.onChange,a=e.required,l=e.value,u=e.valueType,c=function(){switch(u){case"hour":return function(g){return"".concat(AG(g),"T").concat(du(g),":00")};case"minute":return function(g){return"".concat(AG(g),"T").concat(jNt(g))};case"second":return NNt;default:throw new Error("Invalid valueType")}}(),f=function(){switch(u){case"hour":return 3600;case"minute":return 60;case"second":return 1;default:throw new Error("Invalid valueType")}}();function p(g){g.stopPropagation()}return ne.createElement("input",{"aria-label":t,disabled:n,hidden:!0,max:r?c(r):void 0,min:i?c(i):void 0,name:o,onChange:s,onFocus:p,required:a,step:f,style:{visibility:"hidden",position:"absolute",zIndex:"-999"},type:"datetime-local",value:l?c(l):""})}var hz=new Map;function QD(e){return function(n,r){var i=n||jx();hz.has(i)||hz.set(i,new Map);var o=hz.get(i);return o.has(e)||o.set(e,new Intl.DateTimeFormat(i||void 0,e).format),o.get(e)(r)}}var pz=new Map;function nzt(e){return function(t,n){var r=t||jx();pz.has(r)||pz.set(r,new Map);var i=pz.get(r);return i.has(e)||i.set(e,new Intl.NumberFormat(r||void 0,e).format),i.get(e)(n)}}var rzt={day:"numeric",month:"numeric",year:"numeric"},izt=QD(rzt);function Hhe(e,t){var n=Number(e);return t==="am"&&n===12?n=0:t==="pm"&&n<12&&(n+=12),n}function ozt(e){var t=Number(e)%12||12;return[t,Number(e)<12?"am":"pm"]}function szt(e,t,n){return t&&t>e?t:n&&n<e?n:e}var azt=["9",""],Vhe=new RegExp("[".concat(azt.join(""),"]")),Uhe=QD({hour:"numeric"});function lzt(e){var t=Uhe(e,new Date(2017,0,1,9)),n=Uhe(e,new Date(2017,0,1,21)),r=t.split(Vhe),i=r[0],o=r[1],s=n.split(Vhe),a=s[0],l=s[1];if(l!==void 0){if(i!==a)return[i,a].map(function(u){return u.trim()});if(o!==l)return[o,l].map(function(u){return u.trim()})}return["AM","PM"]}var Rf=function(){return Rf=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Rf.apply(this,arguments)},Whe=function(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))},wL={},$P=new Date;$P.setFullYear(1,0,1);$P.setHours(0,0,0,0);var mz=new Date(864e13),uzt=["hour","minute","second"];function rNe(e){return e instanceof Date?e:new Date(e)}function Khe(e,t,n,r){return t===li(e).toString()&&n===Pg(e).toString()&&r===qg(e).toString()}function czt(e,t){var n=Array.isArray(e)?e[t]:e;if(!n)return null;var r=rNe(n);if(isNaN(r.getTime()))throw new Error("Invalid date: ".concat(e));return r}function dzt(e,t){var n=e.value,r=e.minDate,i=e.maxDate,o=czt(n,t);return o?szt(o,r,i):null}var fzt=function(e){return dzt(e,0)};function hzt(e){return e.dataset.input==="true"}function qhe(e,t){var n=e;do n=n[t];while(n&&!hzt(n));return n}function gz(e){e&&e.focus()}function pzt(e,t,n){var r=[],i=new RegExp(Object.keys(t).map(function(s){return"".concat(s,"+")}).join("|"),"g"),o=e.match(i);return e.split(i).reduce(function(s,a,l){var u=a&&ne.createElement(cBt,{key:"separator_".concat(l)},a),c=Whe(Whe([],s,!0),[u],!1),f=o&&o[l];if(f){var p=t[f]||t[Object.keys(t).find(function(g){return f.match(g)})];if(!p)return c;!n&&r.includes(p)?c.push(f):(c.push(p(f,l)),r.push(p))}return c},[])}var xL=nzt({useGrouping:!1});function mzt(e){var t=e.amPmAriaLabel,n=e.autoFocus,r=e.className,i=e.dayAriaLabel,o=e.dayPlaceholder,s=e.disabled,a=e.format,l=e.hourAriaLabel,u=e.hourPlaceholder,c=e.isWidgetOpen,f=e.locale,p=e.maxDate,g=e.maxDetail,v=g===void 0?"minute":g,y=e.minDate,S=e.minuteAriaLabel,C=e.minutePlaceholder,_=e.monthAriaLabel,k=e.monthPlaceholder,w=e.name,P=w===void 0?"datetime":w,M=e.nativeInputAriaLabel,R=e.onChange,D=e.onInvalidChange,H=e.required,O=e.secondAriaLabel,z=e.secondPlaceholder,G=e.showLeadingZeros,ee=e.value,X=e.yearAriaLabel,se=e.yearPlaceholder,B=h.useState(null),q=B[0],U=B[1],K=h.useState(null),J=K[0],oe=K[1],he=h.useState(null),me=he[0],re=he[1],ue=h.useState(null),ce=ue[0],we=ue[1],Me=h.useState(null),Be=Me[0],ge=Me[1],ye=h.useState(null),_e=ye[0],$e=ye[1],He=h.useState(null),Ve=He[0],ot=He[1],kt=h.useState(null),gt=kt[0],rn=kt[1],Yt=h.useRef(null),Bt=h.useRef(null),dn=h.useRef(null),Ft=h.useRef(null),Xt=h.useRef(null),Qe=h.useRef(null),Ce=h.useRef(null),ze=h.useRef(null),Ne=h.useRef(null),ct=h.useState(c),Ct=ct[0],Et=ct[1],Ie=h.useRef();h.useEffect(function(){Et(c)},[c]),h.useEffect(function(){var at=fzt({value:ee,minDate:y,maxDate:p});at?(U(ozt(du(at))[1]),oe(li(at).toString()),re(Pg(at).toString()),we(qg(at).toString()),ge(du(at).toString()),$e($g(at).toString()),ot(Pw(at).toString()),rn(rNe(at))):(U(null),oe(null),re(null),we(null),ge(null),$e(null),ot(null),rn(null))},[ee,y,p,Ct]);var Ae=v,dt=function(){var at=uzt.indexOf(v),lt=wL[at]||function(){var bt={hour:"numeric"};return at>=1&&(bt.minute="numeric"),at>=2&&(bt.second="numeric"),wL[at]=bt,bt}();return QD(lt)}(),it=function(){var at=2017,lt=11,bt=11,Ue=new Date(at,lt,bt),ke=izt(f,Ue),rt=["year","month","day"],nt=["y","M","d"];function Rn(lr,Pr){var Br=wL[lr]||function(){var $i,tr=($i={},$i[lr]="numeric",$i);return wL[lr]=tr,tr}();return QD(Br)(f,Pr).match(/\d{1,}/)}var qn=ke;return rt.forEach(function(lr,Pr){var Br=Rn(lr,Ue);if(Br){var $i=Br[0],tr=nt[Pr];qn=qn.replace($i,tr)}}),qn=qn.replace("17","y"),qn}(),ut=function(){var at=21,lt=9,bt=13,Ue=14,ke=new Date(2017,0,1,at,bt,Ue);return dt(f,ke).replace(xL(f,lt),"h").replace(xL(f,at),"H").replace(xL(f,bt),"mm").replace(xL(f,Ue),"ss").replace(new RegExp(lzt(f).join("|")),"a")}(),vt=a||"".concat(it,"").concat(ut),Mn=function(){var at=it.match(/[^0-9a-z]/i);return at?at[0]:null}(),Kn=function(){var at=ut.match(/[^0-9a-z]/i);return at?at[0]:null}(),Qt=function(){if(p&&Khe(p,J,me,ce))return LG(p||mz)}(),on=function(){if(y&&Khe(y,J,me,ce))return LG(y||$P)}();function $t(at){if(at.target===at.currentTarget){var lt=at.target.children[1];gz(lt)}}function Wt(at){switch(Ie.current=at.key,at.key){case"ArrowLeft":case"ArrowRight":case Mn:case Kn:{at.preventDefault();var lt=at.target,bt=at.key==="ArrowLeft"?"previousElementSibling":"nextElementSibling",Ue=qhe(lt,bt);gz(Ue);break}}}function Kt(at){var lt=at.key,bt=at.target,Ue=Ie.current===lt;if(Ue){var ke=!isNaN(Number(lt));if(ke){var rt=bt.getAttribute("max");if(rt){var nt=bt.value;if(Number(nt)*10>Number(rt)||nt.length>=rt.length){var Rn="nextElementSibling",qn=qhe(bt,Rn);gz(qn)}}}}}function sr(){if(!R)return;function at(di){return!!di}var lt=[Yt.current,Xt.current,dn.current,Ft.current,Bt.current,Qe.current,Ce.current,ze.current,Ne.current].filter(at),bt=lt.slice(1),Ue={};lt.forEach(function(di){Ue[di.name]=di.type==="number"?"valueAsNumber"in di?di.valueAsNumber:Number(di.value):di.value});var ke=bt.every(function(di){return!di.value});if(ke){R(null,!1);return}var rt=lt.every(function(di){return di.value}),nt=lt.every(function(di){return di.validity.valid});if(rt&&nt){var Rn=Number(Ue.year||new Date().getFullYear()),qn=Number(Ue.month||1)-1,lr=Number(Ue.day||1),Pr=Number(Ue.hour24||Ue.hour12&&Ue.amPm&&Hhe(Ue.hour12,Ue.amPm)||0),Br=Number(Ue.minute||0),$i=Number(Ue.second||0),tr=new Date;tr.setFullYear(Rn,qn,lr),tr.setHours(Pr,Br,$i,0),R(tr,!1);return}D&&D()}function Jt(at){var lt=at.target,bt=lt.name,Ue=lt.value;switch(bt){case"amPm":U(Ue);break;case"year":oe(Ue);break;case"month":re(Ue);break;case"day":we(Ue);break;case"hour12":ge(Ue?Hhe(Ue,q||"am").toString():"");break;case"hour24":ge(Ue);break;case"minute":$e(Ue);break;case"second":ot(Ue);break}sr()}function zn(at){var lt=at.target.value;if(R){var bt=function(){if(!lt)return null;var Ue=lt.split("T"),ke=Ue[0],rt=Ue[1],nt=ke.split("-"),Rn=nt[0],qn=nt[1],lr=nt[2],Pr=Number(Rn),Br=Number(qn)-1||0,$i=Number(lr)||1,tr=rt.split(":"),di=tr[0],il=tr[1],ol=tr[2],Eo=Number(di)||0,zs=Number(il)||0,br=Number(ol)||0,Nt=new Date;return Nt.setFullYear(Pr,Br,$i),Nt.setHours(Eo,zs,br,0),Nt}();R(bt,!1)}}var Ln={className:r,disabled:s,maxDate:p||mz,minDate:y||$P,onChange:Jt,onKeyDown:Wt,onKeyUp:Kt,required:!!(H||Ct)},Ot={maxTime:Qt,minTime:on};function _t(at,lt){if(at&&at.length>2)throw new Error("Unsupported token: ".concat(at));var bt=at&&at.length===2;return ne.createElement(SBt,Rf({key:"day"},Ln,{ariaLabel:i,autoFocus:lt===0&&n,inputRef:Xt,month:me,placeholder:o,showLeadingZeros:bt||G,value:ce,year:J}))}function Fr(at,lt){if(at&&at.length>4)throw new Error("Unsupported token: ".concat(at));if(at.length>2)return ne.createElement(ABt,Rf({key:"month"},Ln,{ariaLabel:_,autoFocus:lt===0&&n,inputRef:Ft,locale:f,placeholder:k,short:at.length===3,value:me,year:J}));var bt=at&&at.length===2;return ne.createElement(CBt,Rf({key:"month"},Ln,{ariaLabel:_,autoFocus:lt===0&&n,inputRef:dn,placeholder:k,showLeadingZeros:bt||G,value:me,year:J}))}function Hn(at,lt){return ne.createElement(RBt,Rf({key:"year"},Ln,{ariaLabel:X,autoFocus:lt===0&&n,inputRef:Bt,placeholder:se,value:J,valueType:"day"}))}function Bn(at,lt){if(at&&at.length>2)throw new Error("Unsupported token: ".concat(at));var bt=at?at.length===2:!1;return ne.createElement(qBt,Rf({key:"hour12"},Ln,Ot,{amPm:q,ariaLabel:l,autoFocus:lt===0&&n,inputRef:Qe,placeholder:u,showLeadingZeros:bt,value:Be}))}function ar(at,lt){if(at&&at.length>2)throw new Error("Unsupported token: ".concat(at));var bt=at?at.length===2:!1;return ne.createElement(ZBt,Rf({key:"hour24"},Ln,Ot,{ariaLabel:l,autoFocus:lt===0&&n,inputRef:Ce,placeholder:u,showLeadingZeros:bt,value:Be}))}function mt(at,lt){return/h/.test(at)?Bn(at,lt):ar(at,lt)}function hr(at,lt){if(at&&at.length>2)throw new Error("Unsupported token: ".concat(at));var bt=at?at.length===2:!1;return ne.createElement(XBt,Rf({key:"minute"},Ln,Ot,{ariaLabel:S,autoFocus:lt===0&&n,hour:Be,inputRef:ze,placeholder:C,showLeadingZeros:bt,value:_e}))}function Ii(at,lt){if(at&&at.length>2)throw new Error("Unsupported token: ".concat(at));var bt=at?at.length===2:!0;return ne.createElement(JBt,Rf({key:"second"},Ln,Ot,{ariaLabel:O,autoFocus:lt===0&&n,hour:Be,inputRef:Ne,minute:_e,placeholder:z,showLeadingZeros:bt,value:Ve}))}function Rr(at,lt){return ne.createElement(ezt,Rf({key:"ampm"},Ln,Ot,{ariaLabel:t,autoFocus:lt===0&&n,inputRef:Yt,locale:f,onChange:Jt,value:q}))}function Fs(){var at={d:_t,M:Fr,y:Hn,h:mt,H:mt,m:hr,s:Ii,a:Rr},lt=typeof a<"u";return pzt(vt,at,lt)}function Bs(){return ne.createElement(tzt,{key:"datetime",ariaLabel:M,disabled:s,maxDate:p||mz,minDate:y||$P,name:P,onChange:zn,required:H,value:gt,valueType:Ae})}return ne.createElement("div",{className:r,onClick:$t},Bs(),Fs())}var gzt=function(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))},vzt=["hour","minute","second"],yzt=gzt([],vzt,!0),bzt=function(t,n,r){var i=t,o=n,s=i[o];if(!s)return null;if(!(s instanceof Date))return new Error("Invalid prop `".concat(n,"` of type `").concat(typeof s,"` supplied to `").concat(r,"`, expected instance of `Date`."));var a=t.maxDate;return a&&s>a?new Error("Invalid prop `".concat(n,"` of type `").concat(typeof s,"` supplied to `").concat(r,"`, minDate cannot be larger than maxDate.")):null},wzt=function(t,n,r){var i=t,o=n,s=i[o];if(!s)return null;if(!(s instanceof Date))return new Error("Invalid prop `".concat(n,"` of type `").concat(typeof s,"` supplied to `").concat(r,"`, expected instance of `Date`."));var a=t.minDate;return a&&s<a?new Error("Invalid prop `".concat(n,"` of type `").concat(typeof s,"` supplied to `").concat(r,"`, maxDate cannot be smaller than minDate.")):null};Pe.oneOf(yzt);var xzt=function(e){return Pe.arrayOf(e)},h0=function(){return h0=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},h0.apply(this,arguments)},vz=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n},Szt=typeof document<"u",Xl="react-datetime-picker",_zt=["mousedown","focusin","touchstart"],iNe=["hour","minute","second"],oNe={xmlns:"http://www.w3.org/2000/svg",width:19,height:19,viewBox:"0 0 19 19",stroke:"black",strokeWidth:2},Czt=ne.createElement("svg",h0({},oNe,{className:"".concat(Xl,"__calendar-button__icon ").concat(Xl,"__button__icon")}),ne.createElement("rect",{fill:"none",height:"15",width:"15",x:"2",y:"2"}),ne.createElement("line",{x1:"6",x2:"6",y1:"0",y2:"4"}),ne.createElement("line",{x1:"13",x2:"13",y1:"0",y2:"4"})),Ezt=ne.createElement("svg",h0({},oNe,{className:"".concat(Xl,"__clear-button__icon ").concat(Xl,"__button__icon")}),ne.createElement("line",{x1:"4",x2:"15",y1:"4",y2:"15"}),ne.createElement("line",{x1:"15",x2:"4",y1:"4",y2:"15"})),$te=function(t){var n=t.amPmAriaLabel,r=t.autoFocus,i=t.calendarAriaLabel,o=t.calendarIcon,s=o===void 0?Czt:o,a=t.className,l=t.clearAriaLabel,u=t.clearIcon,c=u===void 0?Ezt:u,f=t.closeWidgets,p=f===void 0?!0:f,g=t["data-testid"],v=t.dayAriaLabel,y=t.dayPlaceholder,S=t.disableCalendar,C=t.disableClock,_=t.disabled,k=t.format,w=t.hourAriaLabel,P=t.hourPlaceholder,M=t.id,R=t.isCalendarOpen,D=R===void 0?null:R,H=t.isClockOpen,O=H===void 0?null:H,z=t.locale,G=t.maxDate,ee=t.maxDetail,X=ee===void 0?"minute":ee,se=t.minDate,B=t.minuteAriaLabel,q=t.minutePlaceholder,U=t.monthAriaLabel,K=t.monthPlaceholder,J=t.name,oe=J===void 0?"datetime":J,he=t.nativeInputAriaLabel,me=t.onCalendarClose,re=t.onCalendarOpen,ue=t.onChange,ce=t.onClockClose,we=t.onClockOpen,Me=t.onFocus,Be=t.onInvalidChange,ge=t.openWidgetsOnFocus,ye=ge===void 0?!0:ge,_e=t.required,$e=t.secondAriaLabel,He=t.secondPlaceholder,Ve=t.shouldCloseWidgets,ot=t.shouldOpenWidgets,kt=t.showLeadingZeros,gt=t.value,rn=t.yearAriaLabel,Yt=t.yearPlaceholder,Bt=vz(t,["amPmAriaLabel","autoFocus","calendarAriaLabel","calendarIcon","className","clearAriaLabel","clearIcon","closeWidgets","data-testid","dayAriaLabel","dayPlaceholder","disableCalendar","disableClock","disabled","format","hourAriaLabel","hourPlaceholder","id","isCalendarOpen","isClockOpen","locale","maxDate","maxDetail","minDate","minuteAriaLabel","minutePlaceholder","monthAriaLabel","monthPlaceholder","name","nativeInputAriaLabel","onCalendarClose","onCalendarOpen","onChange","onClockClose","onClockOpen","onFocus","onInvalidChange","openWidgetsOnFocus","required","secondAriaLabel","secondPlaceholder","shouldCloseWidgets","shouldOpenWidgets","showLeadingZeros","value","yearAriaLabel","yearPlaceholder"]),dn=h.useState(D),Ft=dn[0],Xt=dn[1],Qe=h.useState(O),Ce=Qe[0],ze=Qe[1],Ne=h.useRef(null),ct=h.useRef(null),Ct=h.useRef(null);h.useEffect(function(){Xt(D)},[D]),h.useEffect(function(){ze(O)},[O]);function Et(Ot){var _t=Ot.reason;ot&&!ot({reason:_t,widget:"calendar"})||(ze(Ce&&!1),Xt(!0),re&&re())}var Ie=h.useCallback(function(Ot){var _t=Ot.reason;Ve&&!Ve({reason:_t,widget:"calendar"})||(Xt(!1),me&&me())},[me,Ve]);function Ae(){Ft?Ie({reason:"buttonClick"}):Et({reason:"buttonClick"})}function dt(Ot){var _t=Ot.reason;ot&&!ot({reason:_t,widget:"clock"})||(Xt(Ft&&!1),ze(!0),we&&we())}var it=h.useCallback(function(Ot){var _t=Ot.reason;Ve&&!Ve({reason:_t,widget:"clock"})||(ze(!1),ce&&ce())},[ce,Ve]),ut=h.useCallback(function(Ot){var _t=Ot.reason;Ie({reason:_t}),it({reason:_t})},[Ie,it]);function vt(Ot,_t){_t===void 0&&(_t=p),_t&&ut({reason:"select"}),ue&&ue(Ot)}function Mn(Ot,_t){var Fr=(Array.isArray(Ot)?Ot:[Ot])[0],Hn=(Array.isArray(gt)?gt:[gt])[0];if(Hn&&Fr){var Bn=new Date(Hn),ar=new Date(Fr);ar.setHours(Bn.getHours(),Bn.getMinutes(),Bn.getSeconds(),Bn.getMilliseconds()),vt(ar,_t)}else vt(Fr,_t)}function Kn(Ot){if(Me&&Me(Ot),!(_||!ye||Ot.target.dataset.select==="true"))switch(Ot.target.name){case"day":case"month":case"year":{if(Ft)return;Et({reason:"focus"});break}case"hour12":case"hour24":case"minute":case"second":{if(Ce)return;dt({reason:"focus"});break}}}var Qt=h.useCallback(function(Ot){Ot.key==="Escape"&&ut({reason:"escape"})},[ut]);function on(){vt(null)}function $t(Ot){Ot.stopPropagation()}var Wt=h.useCallback(function(Ot){var _t=Ne.current,Fr=ct.current,Hn=Ct.current,Bn="composedPath"in Ot?Ot.composedPath()[0]:Ot.target;Bn&&_t&&!_t.contains(Bn)&&(!Fr||!Fr.contains(Bn))&&(!Hn||!Hn.contains(Bn))&&ut({reason:"outsideAction"})},[ct,Ct,ut,Ne]),Kt=h.useCallback(function(Ot){Ot===void 0&&(Ot=Ft||Ce),_zt.forEach(function(_t){Ot?document.addEventListener(_t,Wt):document.removeEventListener(_t,Wt)}),Ot?document.addEventListener("keydown",Qt):document.removeEventListener("keydown",Qt)},[Ft,Ce,Wt,Qt]);h.useEffect(function(){return Kt(),function(){Kt(!1)}},[Kt]);function sr(){var Ot=(Array.isArray(gt)?gt:[gt])[0],_t={amPmAriaLabel:n,dayAriaLabel:v,hourAriaLabel:w,minuteAriaLabel:B,monthAriaLabel:U,nativeInputAriaLabel:he,secondAriaLabel:$e,yearAriaLabel:rn},Fr={dayPlaceholder:y,hourPlaceholder:P,minutePlaceholder:q,monthPlaceholder:K,secondPlaceholder:He,yearPlaceholder:Yt};return ne.createElement("div",{className:"".concat(Xl,"__wrapper")},ne.createElement(mzt,h0({},_t,Fr,{autoFocus:r,className:"".concat(Xl,"__inputGroup"),disabled:_,format:k,isWidgetOpen:Ft||Ce,locale:z,maxDate:G,maxDetail:X,minDate:se,name:oe,onChange:vt,onInvalidChange:Be,required:_e,showLeadingZeros:kt,value:Ot})),c!==null&&ne.createElement("button",{"aria-label":l,className:"".concat(Xl,"__clear-button ").concat(Xl,"__button"),disabled:_,onClick:on,onFocus:$t,type:"button"},typeof c=="function"?ne.createElement(c):c),s!==null&&!S&&ne.createElement("button",{"aria-label":i,className:"".concat(Xl,"__calendar-button ").concat(Xl,"__button"),disabled:_,onClick:Ae,onFocus:$t,type:"button"},typeof s=="function"?ne.createElement(s):s))}function Jt(){if(Ft===null||S)return null;var Ot=t.calendarClassName;t.className,t.maxDetail,t.onChange;var _t=t.portalContainer,Fr=t.value,Hn=vz(t,["calendarClassName","className","maxDetail","onChange","portalContainer","value"]),Bn="".concat(Xl,"__calendar"),ar=ic(Bn,"".concat(Bn,"--").concat(Ft?"open":"closed")),mt=ne.createElement(Gje,h0({className:Ot,onChange:function(hr){return Mn(hr)},value:Fr},Hn));return _t?ai.createPortal(ne.createElement("div",{ref:ct,className:ar},mt),_t):ne.createElement(Nhe,null,ne.createElement("div",{ref:function(hr){hr&&!Ft&&hr.removeAttribute("style")},className:ar},mt))}function zn(){if(Ce===null||C)return null;var Ot=t.clockClassName;t.className;var _t=t.maxDetail,Fr=_t===void 0?"minute":_t;t.onChange;var Hn=t.portalContainer,Bn=t.value,ar=vz(t,["clockClassName","className","maxDetail","onChange","portalContainer","value"]),mt="".concat(Xl,"__clock"),hr=ic(mt,"".concat(mt,"--").concat(Ce?"open":"closed")),Ii=(Array.isArray(Bn)?Bn:[Bn])[0],Rr=iNe.indexOf(Fr),Fs=ne.createElement(Xje,h0({className:Ot,renderMinuteHand:Rr>0,renderSecondHand:Rr>1,value:Ii},ar));return Hn?ai.createPortal(ne.createElement("div",{ref:Ct,className:hr},Fs),Hn):ne.createElement(Nhe,null,ne.createElement("div",{ref:function(Bs){Bs&&!Ce&&Bs.removeAttribute("style")},className:hr},Fs))}var Ln=h.useMemo(function(){return uNt(Bt)},[Bt]);return ne.createElement("div",h0({className:ic(Xl,"".concat(Xl,"--").concat(Ft||Ce?"open":"closed"),"".concat(Xl,"--").concat(_?"disabled":"enabled"),a),"data-testid":g,id:M},Ln,{onFocus:Kn,ref:Ne}),sr(),Jt(),zn())},Ghe=Pe.oneOfType([Pe.string,Pe.instanceOf(Date)]),kzt=Pe.oneOfType([Ghe,xzt(Ghe)]);$te.propTypes={amPmAriaLabel:Pe.string,autoFocus:Pe.bool,calendarAriaLabel:Pe.string,calendarClassName:Pe.oneOfType([Pe.string,Pe.arrayOf(Pe.string)]),calendarIcon:Pe.oneOfType([Pe.node,Pe.func]),className:Pe.oneOfType([Pe.string,Pe.arrayOf(Pe.string)]),clearAriaLabel:Pe.string,clearIcon:Pe.oneOfType([Pe.node,Pe.func]),clockClassName:Pe.oneOfType([Pe.string,Pe.arrayOf(Pe.string)]),closeWidgets:Pe.bool,"data-testid":Pe.string,dayAriaLabel:Pe.string,dayPlaceholder:Pe.string,disableCalendar:Pe.bool,disableClock:Pe.bool,disabled:Pe.bool,format:Pe.string,hourAriaLabel:Pe.string,hourPlaceholder:Pe.string,id:Pe.string,isCalendarOpen:Pe.bool,isClockOpen:Pe.bool,locale:Pe.string,maxDate:wzt,maxDetail:Pe.oneOf(iNe),minDate:bzt,minuteAriaLabel:Pe.string,minutePlaceholder:Pe.string,monthAriaLabel:Pe.string,monthPlaceholder:Pe.string,name:Pe.string,nativeInputAriaLabel:Pe.string,onCalendarClose:Pe.func,onCalendarOpen:Pe.func,onChange:Pe.func,onClockClose:Pe.func,onClockOpen:Pe.func,onFocus:Pe.func,openWidgetsOnFocus:Pe.bool,required:Pe.bool,secondAriaLabel:Pe.string,secondPlaceholder:Pe.string,showLeadingZeros:Pe.bool,value:kzt,yearAriaLabel:Pe.string,yearPlaceholder:Pe.string};Szt&&($te.propTypes.portalContainer=Pe.instanceOf(HTMLElement));var QG={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,t){(function(n,r){r(t)})(dg,function(n){var r="1.9.4";function i(m){var E,A,V,Y;for(A=1,V=arguments.length;A<V;A++){Y=arguments[A];for(E in Y)m[E]=Y[E]}return m}var o=Object.create||function(){function m(){}return function(E){return m.prototype=E,new m}}();function s(m,E){var A=Array.prototype.slice;if(m.bind)return m.bind.apply(m,A.call(arguments,1));var V=A.call(arguments,2);return function(){return m.apply(E,V.length?V.concat(A.call(arguments)):arguments)}}var a=0;function l(m){return"_leaflet_id"in m||(m._leaflet_id=++a),m._leaflet_id}function u(m,E,A){var V,Y,ae,Ee;return Ee=function(){V=!1,Y&&(ae.apply(A,Y),Y=!1)},ae=function(){V?Y=arguments:(m.apply(A,arguments),setTimeout(Ee,E),V=!0)},ae}function c(m,E,A){var V=E[1],Y=E[0],ae=V-Y;return m===V&&A?m:((m-Y)%ae+ae)%ae+Y}function f(){return!1}function p(m,E){if(E===!1)return m;var A=Math.pow(10,E===void 0?6:E);return Math.round(m*A)/A}function g(m){return m.trim?m.trim():m.replace(/^\s+|\s+$/g,"")}function v(m){return g(m).split(/\s+/)}function y(m,E){Object.prototype.hasOwnProperty.call(m,"options")||(m.options=m.options?o(m.options):{});for(var A in E)m.options[A]=E[A];return m.options}function S(m,E,A){var V=[];for(var Y in m)V.push(encodeURIComponent(A?Y.toUpperCase():Y)+"="+encodeURIComponent(m[Y]));return(!E||E.indexOf("?")===-1?"?":"&")+V.join("&")}var C=/\{ *([\w_ -]+) *\}/g;function _(m,E){return m.replace(C,function(A,V){var Y=E[V];if(Y===void 0)throw new Error("No value provided for variable "+A);return typeof Y=="function"&&(Y=Y(E)),Y})}var k=Array.isArray||function(m){return Object.prototype.toString.call(m)==="[object Array]"};function w(m,E){for(var A=0;A<m.length;A++)if(m[A]===E)return A;return-1}var P="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function M(m){return window["webkit"+m]||window["moz"+m]||window["ms"+m]}var R=0;function D(m){var E=+new Date,A=Math.max(0,16-(E-R));return R=E+A,window.setTimeout(m,A)}var H=window.requestAnimationFrame||M("RequestAnimationFrame")||D,O=window.cancelAnimationFrame||M("CancelAnimationFrame")||M("CancelRequestAnimationFrame")||function(m){window.clearTimeout(m)};function z(m,E,A){if(A&&H===D)m.call(E);else return H.call(window,s(m,E))}function G(m){m&&O.call(window,m)}var ee={__proto__:null,extend:i,create:o,bind:s,get lastId(){return a},stamp:l,throttle:u,wrapNum:c,falseFn:f,formatNum:p,trim:g,splitWords:v,setOptions:y,getParamString:S,template:_,isArray:k,indexOf:w,emptyImageUrl:P,requestFn:H,cancelFn:O,requestAnimFrame:z,cancelAnimFrame:G};function X(){}X.extend=function(m){var E=function(){y(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},A=E.__super__=this.prototype,V=o(A);V.constructor=E,E.prototype=V;for(var Y in this)Object.prototype.hasOwnProperty.call(this,Y)&&Y!=="prototype"&&Y!=="__super__"&&(E[Y]=this[Y]);return m.statics&&i(E,m.statics),m.includes&&(se(m.includes),i.apply(null,[V].concat(m.includes))),i(V,m),delete V.statics,delete V.includes,V.options&&(V.options=A.options?o(A.options):{},i(V.options,m.options)),V._initHooks=[],V.callInitHooks=function(){if(!this._initHooksCalled){A.callInitHooks&&A.callInitHooks.call(this),this._initHooksCalled=!0;for(var ae=0,Ee=V._initHooks.length;ae<Ee;ae++)V._initHooks[ae].call(this)}},E},X.include=function(m){var E=this.prototype.options;return i(this.prototype,m),m.options&&(this.prototype.options=E,this.mergeOptions(m.options)),this},X.mergeOptions=function(m){return i(this.prototype.options,m),this},X.addInitHook=function(m){var E=Array.prototype.slice.call(arguments,1),A=typeof m=="function"?m:function(){this[m].apply(this,E)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(A),this};function se(m){if(!(typeof L>"u"||!L||!L.Mixin)){m=k(m)?m:[m];for(var E=0;E<m.length;E++)m[E]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var B={on:function(m,E,A){if(typeof m=="object")for(var V in m)this._on(V,m[V],E);else{m=v(m);for(var Y=0,ae=m.length;Y<ae;Y++)this._on(m[Y],E,A)}return this},off:function(m,E,A){if(!arguments.length)delete this._events;else if(typeof m=="object")for(var V in m)this._off(V,m[V],E);else{m=v(m);for(var Y=arguments.length===1,ae=0,Ee=m.length;ae<Ee;ae++)Y?this._off(m[ae]):this._off(m[ae],E,A)}return this},_on:function(m,E,A,V){if(typeof E!="function"){console.warn("wrong listener type: "+typeof E);return}if(this._listens(m,E,A)===!1){A===this&&(A=void 0);var Y={fn:E,ctx:A};V&&(Y.once=!0),this._events=this._events||{},this._events[m]=this._events[m]||[],this._events[m].push(Y)}},_off:function(m,E,A){var V,Y,ae;if(this._events&&(V=this._events[m],!!V)){if(arguments.length===1){if(this._firingCount)for(Y=0,ae=V.length;Y<ae;Y++)V[Y].fn=f;delete this._events[m];return}if(typeof E!="function"){console.warn("wrong listener type: "+typeof E);return}var Ee=this._listens(m,E,A);if(Ee!==!1){var Fe=V[Ee];this._firingCount&&(Fe.fn=f,this._events[m]=V=V.slice()),V.splice(Ee,1)}}},fire:function(m,E,A){if(!this.listens(m,A))return this;var V=i({},E,{type:m,target:this,sourceTarget:E&&E.sourceTarget||this});if(this._events){var Y=this._events[m];if(Y){this._firingCount=this._firingCount+1||1;for(var ae=0,Ee=Y.length;ae<Ee;ae++){var Fe=Y[ae],Ke=Fe.fn;Fe.once&&this.off(m,Ke,Fe.ctx),Ke.call(Fe.ctx||this,V)}this._firingCount--}}return A&&this._propagateEvent(V),this},listens:function(m,E,A,V){typeof m!="string"&&console.warn('"string" type argument expected');var Y=E;typeof E!="function"&&(V=!!E,Y=void 0,A=void 0);var ae=this._events&&this._events[m];if(ae&&ae.length&&this._listens(m,Y,A)!==!1)return!0;if(V){for(var Ee in this._eventParents)if(this._eventParents[Ee].listens(m,E,A,V))return!0}return!1},_listens:function(m,E,A){if(!this._events)return!1;var V=this._events[m]||[];if(!E)return!!V.length;A===this&&(A=void 0);for(var Y=0,ae=V.length;Y<ae;Y++)if(V[Y].fn===E&&V[Y].ctx===A)return Y;return!1},once:function(m,E,A){if(typeof m=="object")for(var V in m)this._on(V,m[V],E,!0);else{m=v(m);for(var Y=0,ae=m.length;Y<ae;Y++)this._on(m[Y],E,A,!0)}return this},addEventParent:function(m){return this._eventParents=this._eventParents||{},this._eventParents[l(m)]=m,this},removeEventParent:function(m){return this._eventParents&&delete this._eventParents[l(m)],this},_propagateEvent:function(m){for(var E in this._eventParents)this._eventParents[E].fire(m.type,i({layer:m.target,propagatedFrom:m.target},m),!0)}};B.addEventListener=B.on,B.removeEventListener=B.clearAllEventListeners=B.off,B.addOneTimeEventListener=B.once,B.fireEvent=B.fire,B.hasEventListeners=B.listens;var q=X.extend(B);function U(m,E,A){this.x=A?Math.round(m):m,this.y=A?Math.round(E):E}var K=Math.trunc||function(m){return m>0?Math.floor(m):Math.ceil(m)};U.prototype={clone:function(){return new U(this.x,this.y)},add:function(m){return this.clone()._add(J(m))},_add:function(m){return this.x+=m.x,this.y+=m.y,this},subtract:function(m){return this.clone()._subtract(J(m))},_subtract:function(m){return this.x-=m.x,this.y-=m.y,this},divideBy:function(m){return this.clone()._divideBy(m)},_divideBy:function(m){return this.x/=m,this.y/=m,this},multiplyBy:function(m){return this.clone()._multiplyBy(m)},_multiplyBy:function(m){return this.x*=m,this.y*=m,this},scaleBy:function(m){return new U(this.x*m.x,this.y*m.y)},unscaleBy:function(m){return new U(this.x/m.x,this.y/m.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=K(this.x),this.y=K(this.y),this},distanceTo:function(m){m=J(m);var E=m.x-this.x,A=m.y-this.y;return Math.sqrt(E*E+A*A)},equals:function(m){return m=J(m),m.x===this.x&&m.y===this.y},contains:function(m){return m=J(m),Math.abs(m.x)<=Math.abs(this.x)&&Math.abs(m.y)<=Math.abs(this.y)},toString:function(){return"Point("+p(this.x)+", "+p(this.y)+")"}};function J(m,E,A){return m instanceof U?m:k(m)?new U(m[0],m[1]):m==null?m:typeof m=="object"&&"x"in m&&"y"in m?new U(m.x,m.y):new U(m,E,A)}function oe(m,E){if(m)for(var A=E?[m,E]:m,V=0,Y=A.length;V<Y;V++)this.extend(A[V])}oe.prototype={extend:function(m){var E,A;if(!m)return this;if(m instanceof U||typeof m[0]=="number"||"x"in m)E=A=J(m);else if(m=he(m),E=m.min,A=m.max,!E||!A)return this;return!this.min&&!this.max?(this.min=E.clone(),this.max=A.clone()):(this.min.x=Math.min(E.x,this.min.x),this.max.x=Math.max(A.x,this.max.x),this.min.y=Math.min(E.y,this.min.y),this.max.y=Math.max(A.y,this.max.y)),this},getCenter:function(m){return J((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,m)},getBottomLeft:function(){return J(this.min.x,this.max.y)},getTopRight:function(){return J(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(m){var E,A;return typeof m[0]=="number"||m instanceof U?m=J(m):m=he(m),m instanceof oe?(E=m.min,A=m.max):E=A=m,E.x>=this.min.x&&A.x<=this.max.x&&E.y>=this.min.y&&A.y<=this.max.y},intersects:function(m){m=he(m);var E=this.min,A=this.max,V=m.min,Y=m.max,ae=Y.x>=E.x&&V.x<=A.x,Ee=Y.y>=E.y&&V.y<=A.y;return ae&&Ee},overlaps:function(m){m=he(m);var E=this.min,A=this.max,V=m.min,Y=m.max,ae=Y.x>E.x&&V.x<A.x,Ee=Y.y>E.y&&V.y<A.y;return ae&&Ee},isValid:function(){return!!(this.min&&this.max)},pad:function(m){var E=this.min,A=this.max,V=Math.abs(E.x-A.x)*m,Y=Math.abs(E.y-A.y)*m;return he(J(E.x-V,E.y-Y),J(A.x+V,A.y+Y))},equals:function(m){return m?(m=he(m),this.min.equals(m.getTopLeft())&&this.max.equals(m.getBottomRight())):!1}};function he(m,E){return!m||m instanceof oe?m:new oe(m,E)}function me(m,E){if(m)for(var A=E?[m,E]:m,V=0,Y=A.length;V<Y;V++)this.extend(A[V])}me.prototype={extend:function(m){var E=this._southWest,A=this._northEast,V,Y;if(m instanceof ue)V=m,Y=m;else if(m instanceof me){if(V=m._southWest,Y=m._northEast,!V||!Y)return this}else return m?this.extend(ce(m)||re(m)):this;return!E&&!A?(this._southWest=new ue(V.lat,V.lng),this._northEast=new ue(Y.lat,Y.lng)):(E.lat=Math.min(V.lat,E.lat),E.lng=Math.min(V.lng,E.lng),A.lat=Math.max(Y.lat,A.lat),A.lng=Math.max(Y.lng,A.lng)),this},pad:function(m){var E=this._southWest,A=this._northEast,V=Math.abs(E.lat-A.lat)*m,Y=Math.abs(E.lng-A.lng)*m;return new me(new ue(E.lat-V,E.lng-Y),new ue(A.lat+V,A.lng+Y))},getCenter:function(){return new ue((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ue(this.getNorth(),this.getWest())},getSouthEast:function(){return new ue(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(m){typeof m[0]=="number"||m instanceof ue||"lat"in m?m=ce(m):m=re(m);var E=this._southWest,A=this._northEast,V,Y;return m instanceof me?(V=m.getSouthWest(),Y=m.getNorthEast()):V=Y=m,V.lat>=E.lat&&Y.lat<=A.lat&&V.lng>=E.lng&&Y.lng<=A.lng},intersects:function(m){m=re(m);var E=this._southWest,A=this._northEast,V=m.getSouthWest(),Y=m.getNorthEast(),ae=Y.lat>=E.lat&&V.lat<=A.lat,Ee=Y.lng>=E.lng&&V.lng<=A.lng;return ae&&Ee},overlaps:function(m){m=re(m);var E=this._southWest,A=this._northEast,V=m.getSouthWest(),Y=m.getNorthEast(),ae=Y.lat>E.lat&&V.lat<A.lat,Ee=Y.lng>E.lng&&V.lng<A.lng;return ae&&Ee},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(m,E){return m?(m=re(m),this._southWest.equals(m.getSouthWest(),E)&&this._northEast.equals(m.getNorthEast(),E)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function re(m,E){return m instanceof me?m:new me(m,E)}function ue(m,E,A){if(isNaN(m)||isNaN(E))throw new Error("Invalid LatLng object: ("+m+", "+E+")");this.lat=+m,this.lng=+E,A!==void 0&&(this.alt=+A)}ue.prototype={equals:function(m,E){if(!m)return!1;m=ce(m);var A=Math.max(Math.abs(this.lat-m.lat),Math.abs(this.lng-m.lng));return A<=(E===void 0?1e-9:E)},toString:function(m){return"LatLng("+p(this.lat,m)+", "+p(this.lng,m)+")"},distanceTo:function(m){return Me.distance(this,ce(m))},wrap:function(){return Me.wrapLatLng(this)},toBounds:function(m){var E=180*m/40075017,A=E/Math.cos(Math.PI/180*this.lat);return re([this.lat-E,this.lng-A],[this.lat+E,this.lng+A])},clone:function(){return new ue(this.lat,this.lng,this.alt)}};function ce(m,E,A){return m instanceof ue?m:k(m)&&typeof m[0]!="object"?m.length===3?new ue(m[0],m[1],m[2]):m.length===2?new ue(m[0],m[1]):null:m==null?m:typeof m=="object"&&"lat"in m?new ue(m.lat,"lng"in m?m.lng:m.lon,m.alt):E===void 0?null:new ue(m,E,A)}var we={latLngToPoint:function(m,E){var A=this.projection.project(m),V=this.scale(E);return this.transformation._transform(A,V)},pointToLatLng:function(m,E){var A=this.scale(E),V=this.transformation.untransform(m,A);return this.projection.unproject(V)},project:function(m){return this.projection.project(m)},unproject:function(m){return this.projection.unproject(m)},scale:function(m){return 256*Math.pow(2,m)},zoom:function(m){return Math.log(m/256)/Math.LN2},getProjectedBounds:function(m){if(this.infinite)return null;var E=this.projection.bounds,A=this.scale(m),V=this.transformation.transform(E.min,A),Y=this.transformation.transform(E.max,A);return new oe(V,Y)},infinite:!1,wrapLatLng:function(m){var E=this.wrapLng?c(m.lng,this.wrapLng,!0):m.lng,A=this.wrapLat?c(m.lat,this.wrapLat,!0):m.lat,V=m.alt;return new ue(A,E,V)},wrapLatLngBounds:function(m){var E=m.getCenter(),A=this.wrapLatLng(E),V=E.lat-A.lat,Y=E.lng-A.lng;if(V===0&&Y===0)return m;var ae=m.getSouthWest(),Ee=m.getNorthEast(),Fe=new ue(ae.lat-V,ae.lng-Y),Ke=new ue(Ee.lat-V,Ee.lng-Y);return new me(Fe,Ke)}},Me=i({},we,{wrapLng:[-180,180],R:6371e3,distance:function(m,E){var A=Math.PI/180,V=m.lat*A,Y=E.lat*A,ae=Math.sin((E.lat-m.lat)*A/2),Ee=Math.sin((E.lng-m.lng)*A/2),Fe=ae*ae+Math.cos(V)*Math.cos(Y)*Ee*Ee,Ke=2*Math.atan2(Math.sqrt(Fe),Math.sqrt(1-Fe));return this.R*Ke}}),Be=6378137,ge={R:Be,MAX_LATITUDE:85.0511287798,project:function(m){var E=Math.PI/180,A=this.MAX_LATITUDE,V=Math.max(Math.min(A,m.lat),-A),Y=Math.sin(V*E);return new U(this.R*m.lng*E,this.R*Math.log((1+Y)/(1-Y))/2)},unproject:function(m){var E=180/Math.PI;return new ue((2*Math.atan(Math.exp(m.y/this.R))-Math.PI/2)*E,m.x*E/this.R)},bounds:function(){var m=Be*Math.PI;return new oe([-m,-m],[m,m])}()};function ye(m,E,A,V){if(k(m)){this._a=m[0],this._b=m[1],this._c=m[2],this._d=m[3];return}this._a=m,this._b=E,this._c=A,this._d=V}ye.prototype={transform:function(m,E){return this._transform(m.clone(),E)},_transform:function(m,E){return E=E||1,m.x=E*(this._a*m.x+this._b),m.y=E*(this._c*m.y+this._d),m},untransform:function(m,E){return E=E||1,new U((m.x/E-this._b)/this._a,(m.y/E-this._d)/this._c)}};function _e(m,E,A,V){return new ye(m,E,A,V)}var $e=i({},Me,{code:"EPSG:3857",projection:ge,transformation:function(){var m=.5/(Math.PI*ge.R);return _e(m,.5,-m,.5)}()}),He=i({},$e,{code:"EPSG:900913"});function Ve(m){return document.createElementNS("http://www.w3.org/2000/svg",m)}function ot(m,E){var A="",V,Y,ae,Ee,Fe,Ke;for(V=0,ae=m.length;V<ae;V++){for(Fe=m[V],Y=0,Ee=Fe.length;Y<Ee;Y++)Ke=Fe[Y],A+=(Y?"L":"M")+Ke.x+" "+Ke.y;A+=E?mt.svg?"z":"x":""}return A||"M0 0"}var kt=document.documentElement.style,gt="ActiveXObject"in window,rn=gt&&!document.addEventListener,Yt="msLaunchUri"in navigator&&!("documentMode"in document),Bt=ar("webkit"),dn=ar("android"),Ft=ar("android 2")||ar("android 3"),Xt=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Qe=dn&&ar("Google")&&Xt<537&&!("AudioNode"in window),Ce=!!window.opera,ze=!Yt&&ar("chrome"),Ne=ar("gecko")&&!Bt&&!Ce&&!gt,ct=!ze&&ar("safari"),Ct=ar("phantom"),Et="OTransition"in kt,Ie=navigator.platform.indexOf("Win")===0,Ae=gt&&"transition"in kt,dt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Ft,it="MozPerspective"in kt,ut=!window.L_DISABLE_3D&&(Ae||dt||it)&&!Et&&!Ct,vt=typeof orientation<"u"||ar("mobile"),Mn=vt&&Bt,Kn=vt&&dt,Qt=!window.PointerEvent&&window.MSPointerEvent,on=!!(window.PointerEvent||Qt),$t="ontouchstart"in window||!!window.TouchEvent,Wt=!window.L_NO_TOUCH&&($t||on),Kt=vt&&Ce,sr=vt&&Ne,Jt=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,zn=function(){var m=!1;try{var E=Object.defineProperty({},"passive",{get:function(){m=!0}});window.addEventListener("testPassiveEventSupport",f,E),window.removeEventListener("testPassiveEventSupport",f,E)}catch{}return m}(),Ln=function(){return!!document.createElement("canvas").getContext}(),Ot=!!(document.createElementNS&&Ve("svg").createSVGRect),_t=!!Ot&&function(){var m=document.createElement("div");return m.innerHTML="<svg/>",(m.firstChild&&m.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Fr=!Ot&&function(){try{var m=document.createElement("div");m.innerHTML='<v:shape adj="1"/>';var E=m.firstChild;return E.style.behavior="url(#default#VML)",E&&typeof E.adj=="object"}catch{return!1}}(),Hn=navigator.platform.indexOf("Mac")===0,Bn=navigator.platform.indexOf("Linux")===0;function ar(m){return navigator.userAgent.toLowerCase().indexOf(m)>=0}var mt={ie:gt,ielt9:rn,edge:Yt,webkit:Bt,android:dn,android23:Ft,androidStock:Qe,opera:Ce,chrome:ze,gecko:Ne,safari:ct,phantom:Ct,opera12:Et,win:Ie,ie3d:Ae,webkit3d:dt,gecko3d:it,any3d:ut,mobile:vt,mobileWebkit:Mn,mobileWebkit3d:Kn,msPointer:Qt,pointer:on,touch:Wt,touchNative:$t,mobileOpera:Kt,mobileGecko:sr,retina:Jt,passiveEvents:zn,canvas:Ln,svg:Ot,vml:Fr,inlineSvg:_t,mac:Hn,linux:Bn},hr=mt.msPointer?"MSPointerDown":"pointerdown",Ii=mt.msPointer?"MSPointerMove":"pointermove",Rr=mt.msPointer?"MSPointerUp":"pointerup",Fs=mt.msPointer?"MSPointerCancel":"pointercancel",Bs={touchstart:hr,touchmove:Ii,touchend:Rr,touchcancel:Fs},at={touchstart:Pr,touchmove:lr,touchend:lr,touchcancel:lr},lt={},bt=!1;function Ue(m,E,A){return E==="touchstart"&&qn(),at[E]?(A=at[E].bind(this,A),m.addEventListener(Bs[E],A,!1),A):(console.warn("wrong event specified:",E),f)}function ke(m,E,A){if(!Bs[E]){console.warn("wrong event specified:",E);return}m.removeEventListener(Bs[E],A,!1)}function rt(m){lt[m.pointerId]=m}function nt(m){lt[m.pointerId]&&(lt[m.pointerId]=m)}function Rn(m){delete lt[m.pointerId]}function qn(){bt||(document.addEventListener(hr,rt,!0),document.addEventListener(Ii,nt,!0),document.addEventListener(Rr,Rn,!0),document.addEventListener(Fs,Rn,!0),bt=!0)}function lr(m,E){if(E.pointerType!==(E.MSPOINTER_TYPE_MOUSE||"mouse")){E.touches=[];for(var A in lt)E.touches.push(lt[A]);E.changedTouches=[E],m(E)}}function Pr(m,E){E.MSPOINTER_TYPE_TOUCH&&E.pointerType===E.MSPOINTER_TYPE_TOUCH&&Bi(E),lr(m,E)}function Br(m){var E={},A,V;for(V in m)A=m[V],E[V]=A&&A.bind?A.bind(m):A;return m=E,E.type="dblclick",E.detail=2,E.isTrusted=!1,E._simulated=!0,E}var $i=200;function tr(m,E){m.addEventListener("dblclick",E);var A=0,V;function Y(ae){if(ae.detail!==1){V=ae.detail;return}if(!(ae.pointerType==="mouse"||ae.sourceCapabilities&&!ae.sourceCapabilities.firesTouchEvents)){var Ee=Cu(ae);if(!(Ee.some(function(Ke){return Ke instanceof HTMLLabelElement&&Ke.attributes.for})&&!Ee.some(function(Ke){return Ke instanceof HTMLInputElement||Ke instanceof HTMLSelectElement}))){var Fe=Date.now();Fe-A<=$i?(V++,V===2&&E(Br(ae))):V=1,A=Fe}}}return m.addEventListener("click",Y),{dblclick:E,simDblclick:Y}}function di(m,E){m.removeEventListener("dblclick",E.dblclick),m.removeEventListener("click",E.simDblclick)}var il=ws(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ol=ws(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Eo=ol==="webkitTransition"||ol==="OTransition"?ol+"End":"transitionend";function zs(m){return typeof m=="string"?document.getElementById(m):m}function br(m,E){var A=m.style[E]||m.currentStyle&&m.currentStyle[E];if((!A||A==="auto")&&document.defaultView){var V=document.defaultView.getComputedStyle(m,null);A=V?V[E]:null}return A==="auto"?null:A}function Nt(m,E,A){var V=document.createElement(m);return V.className=E||"",A&&A.appendChild(V),V}function $r(m){var E=m.parentNode;E&&E.removeChild(m)}function so(m){for(;m.firstChild;)m.removeChild(m.firstChild)}function ao(m){var E=m.parentNode;E&&E.lastChild!==m&&E.appendChild(m)}function ia(m){var E=m.parentNode;E&&E.firstChild!==m&&E.insertBefore(m,E.firstChild)}function Pa(m,E){if(m.classList!==void 0)return m.classList.contains(E);var A=Nl(m);return A.length>0&&new RegExp("(^|\\s)"+E+"(\\s|$)").test(A)}function en(m,E){if(m.classList!==void 0)for(var A=v(E),V=0,Y=A.length;V<Y;V++)m.classList.add(A[V]);else if(!Pa(m,E)){var ae=Nl(m);wf(m,(ae?ae+" ":"")+E)}}function fi(m,E){m.classList!==void 0?m.classList.remove(E):wf(m,g((" "+Nl(m)+" ").replace(" "+E+" "," ")))}function wf(m,E){m.className.baseVal===void 0?m.className=E:m.className.baseVal=E}function Nl(m){return m.correspondingElement&&(m=m.correspondingElement),m.className.baseVal===void 0?m.className:m.className.baseVal}function ko(m,E){"opacity"in m.style?m.style.opacity=E:"filter"in m.style&&um(m,E)}function um(m,E){var A=!1,V="DXImageTransform.Microsoft.Alpha";try{A=m.filters.item(V)}catch{if(E===1)return}E=Math.round(E*100),A?(A.Enabled=E!==100,A.Opacity=E):m.style.filter+=" progid:"+V+"(opacity="+E+")"}function ws(m){for(var E=document.documentElement.style,A=0;A<m.length;A++)if(m[A]in E)return m[A];return!1}function xu(m,E,A){var V=E||new U(0,0);m.style[il]=(mt.ie3d?"translate("+V.x+"px,"+V.y+"px)":"translate3d("+V.x+"px,"+V.y+"px,0)")+(A?" scale("+A+")":"")}function qi(m,E){m._leaflet_pos=E,mt.any3d?xu(m,E):(m.style.left=E.x+"px",m.style.top=E.y+"px")}function yc(m){return m._leaflet_pos||new U(0,0)}var Su,wr,_u;if("onselectstart"in document)Su=function(){fn(window,"selectstart",Bi)},wr=function(){rr(window,"selectstart",Bi)};else{var Fl=ws(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Su=function(){if(Fl){var m=document.documentElement.style;_u=m[Fl],m[Fl]="none"}},wr=function(){Fl&&(document.documentElement.style[Fl]=_u,_u=void 0)}}function jo(){fn(window,"dragstart",Bi)}function oa(){rr(window,"dragstart",Bi)}var sl,xf;function Bl(m){for(;m.tabIndex===-1;)m=m.parentNode;m.style&&(sa(),sl=m,xf=m.style.outlineStyle,m.style.outlineStyle="none",fn(window,"keydown",sa))}function sa(){sl&&(sl.style.outlineStyle=xf,sl=void 0,xf=void 0,rr(window,"keydown",sa))}function md(m){do m=m.parentNode;while((!m.offsetWidth||!m.offsetHeight)&&m!==document.body);return m}function bc(m){var E=m.getBoundingClientRect();return{x:E.width/m.offsetWidth||1,y:E.height/m.offsetHeight||1,boundingClientRect:E}}var nr={__proto__:null,TRANSFORM:il,TRANSITION:ol,TRANSITION_END:Eo,get:zs,getStyle:br,create:Nt,remove:$r,empty:so,toFront:ao,toBack:ia,hasClass:Pa,addClass:en,removeClass:fi,setClass:wf,getClass:Nl,setOpacity:ko,testProp:ws,setTransform:xu,setPosition:qi,getPosition:yc,get disableTextSelection(){return Su},get enableTextSelection(){return wr},disableImageDrag:jo,enableImageDrag:oa,preventOutline:Bl,restoreOutline:sa,getSizedParentNode:md,getScale:bc};function fn(m,E,A,V){if(E&&typeof E=="object")for(var Y in E)An(m,Y,E[Y],A);else{E=v(E);for(var ae=0,Ee=E.length;ae<Ee;ae++)An(m,E[ae],A,V)}return this}var xs="_leaflet_events";function rr(m,E,A,V){if(arguments.length===1)gd(m),delete m[xs];else if(E&&typeof E=="object")for(var Y in E)vd(m,Y,E[Y],A);else if(E=v(E),arguments.length===2)gd(m,function(Fe){return w(E,Fe)!==-1});else for(var ae=0,Ee=E.length;ae<Ee;ae++)vd(m,E[ae],A,V);return this}function gd(m,E){for(var A in m[xs]){var V=A.split(/\d/)[0];(!E||E(V))&&vd(m,V,null,null,A)}}var Hs={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function An(m,E,A,V){var Y=E+l(A)+(V?"_"+l(V):"");if(m[xs]&&m[xs][Y])return this;var ae=function(Fe){return A.call(V||m,Fe||window.event)},Ee=ae;!mt.touchNative&&mt.pointer&&E.indexOf("touch")===0?ae=Ue(m,E,ae):mt.touch&&E==="dblclick"?ae=tr(m,ae):"addEventListener"in m?E==="touchstart"||E==="touchmove"||E==="wheel"||E==="mousewheel"?m.addEventListener(Hs[E]||E,ae,mt.passiveEvents?{passive:!1}:!1):E==="mouseenter"||E==="mouseleave"?(ae=function(Fe){Fe=Fe||window.event,We(m,Fe)&&Ee(Fe)},m.addEventListener(Hs[E],ae,!1)):m.addEventListener(E,Ee,!1):m.attachEvent("on"+E,ae),m[xs]=m[xs]||{},m[xs][Y]=ae}function vd(m,E,A,V,Y){Y=Y||E+l(A)+(V?"_"+l(V):"");var ae=m[xs]&&m[xs][Y];if(!ae)return this;!mt.touchNative&&mt.pointer&&E.indexOf("touch")===0?ke(m,E,ae):mt.touch&&E==="dblclick"?di(m,ae):"removeEventListener"in m?m.removeEventListener(Hs[E]||E,ae,!1):m.detachEvent("on"+E,ae),m[xs][Y]=null}function al(m){return m.stopPropagation?m.stopPropagation():m.originalEvent?m.originalEvent._stopped=!0:m.cancelBubble=!0,this}function yd(m){return An(m,"wheel",al),this}function zl(m){return fn(m,"mousedown touchstart dblclick contextmenu",al),m._leaflet_disable_click=!0,this}function Bi(m){return m.preventDefault?m.preventDefault():m.returnValue=!1,this}function Qr(m){return Bi(m),al(m),this}function Cu(m){if(m.composedPath)return m.composedPath();for(var E=[],A=m.target;A;)E.push(A),A=A.parentNode;return E}function wc(m,E){if(!E)return new U(m.clientX,m.clientY);var A=bc(E),V=A.boundingClientRect;return new U((m.clientX-V.left)/A.x-E.clientLeft,(m.clientY-V.top)/A.y-E.clientTop)}var ve=mt.linux&&mt.chrome?window.devicePixelRatio:mt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Te(m){return mt.edge?m.wheelDeltaY/2:m.deltaY&&m.deltaMode===0?-m.deltaY/ve:m.deltaY&&m.deltaMode===1?-m.deltaY*20:m.deltaY&&m.deltaMode===2?-m.deltaY*60:m.deltaX||m.deltaZ?0:m.wheelDelta?(m.wheelDeltaY||m.wheelDelta)/2:m.detail&&Math.abs(m.detail)<32765?-m.detail*20:m.detail?m.detail/-32765*60:0}function We(m,E){var A=E.relatedTarget;if(!A)return!0;try{for(;A&&A!==m;)A=A.parentNode}catch{return!1}return A!==m}var Tt={__proto__:null,on:fn,off:rr,stopPropagation:al,disableScrollPropagation:yd,disableClickPropagation:zl,preventDefault:Bi,stop:Qr,getPropagationPath:Cu,getMousePosition:wc,getWheelDelta:Te,isExternalTarget:We,addListener:fn,removeListener:rr},Yn=q.extend({run:function(m,E,A,V){this.stop(),this._el=m,this._inProgress=!0,this._duration=A||.25,this._easeOutPower=1/Math.max(V||.5,.2),this._startPos=yc(m),this._offset=E.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=z(this._animate,this),this._step()},_step:function(m){var E=+new Date-this._startTime,A=this._duration*1e3;E<A?this._runFrame(this._easeOut(E/A),m):(this._runFrame(1),this._complete())},_runFrame:function(m,E){var A=this._startPos.add(this._offset.multiplyBy(m));E&&A._round(),qi(this._el,A),this.fire("step")},_complete:function(){G(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(m){return 1-Math.pow(1-m,this._easeOutPower)}}),zt=q.extend({options:{crs:$e,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(m,E){E=y(this,E),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(m),this._initLayout(),this._onResize=s(this._onResize,this),this._initEvents(),E.maxBounds&&this.setMaxBounds(E.maxBounds),E.zoom!==void 0&&(this._zoom=this._limitZoom(E.zoom)),E.center&&E.zoom!==void 0&&this.setView(ce(E.center),E.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ol&&mt.any3d&&!mt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),fn(this._proxy,Eo,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(m,E,A){if(E=E===void 0?this._zoom:this._limitZoom(E),m=this._limitCenter(ce(m),E,this.options.maxBounds),A=A||{},this._stop(),this._loaded&&!A.reset&&A!==!0){A.animate!==void 0&&(A.zoom=i({animate:A.animate},A.zoom),A.pan=i({animate:A.animate,duration:A.duration},A.pan));var V=this._zoom!==E?this._tryAnimatedZoom&&this._tryAnimatedZoom(m,E,A.zoom):this._tryAnimatedPan(m,A.pan);if(V)return clearTimeout(this._sizeTimer),this}return this._resetView(m,E,A.pan&&A.pan.noMoveStart),this},setZoom:function(m,E){return this._loaded?this.setView(this.getCenter(),m,{zoom:E}):(this._zoom=m,this)},zoomIn:function(m,E){return m=m||(mt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+m,E)},zoomOut:function(m,E){return m=m||(mt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-m,E)},setZoomAround:function(m,E,A){var V=this.getZoomScale(E),Y=this.getSize().divideBy(2),ae=m instanceof U?m:this.latLngToContainerPoint(m),Ee=ae.subtract(Y).multiplyBy(1-1/V),Fe=this.containerPointToLatLng(Y.add(Ee));return this.setView(Fe,E,{zoom:A})},_getBoundsCenterZoom:function(m,E){E=E||{},m=m.getBounds?m.getBounds():re(m);var A=J(E.paddingTopLeft||E.padding||[0,0]),V=J(E.paddingBottomRight||E.padding||[0,0]),Y=this.getBoundsZoom(m,!1,A.add(V));if(Y=typeof E.maxZoom=="number"?Math.min(E.maxZoom,Y):Y,Y===1/0)return{center:m.getCenter(),zoom:Y};var ae=V.subtract(A).divideBy(2),Ee=this.project(m.getSouthWest(),Y),Fe=this.project(m.getNorthEast(),Y),Ke=this.unproject(Ee.add(Fe).divideBy(2).add(ae),Y);return{center:Ke,zoom:Y}},fitBounds:function(m,E){if(m=re(m),!m.isValid())throw new Error("Bounds are not valid.");var A=this._getBoundsCenterZoom(m,E);return this.setView(A.center,A.zoom,E)},fitWorld:function(m){return this.fitBounds([[-90,-180],[90,180]],m)},panTo:function(m,E){return this.setView(m,this._zoom,{pan:E})},panBy:function(m,E){if(m=J(m).round(),E=E||{},!m.x&&!m.y)return this.fire("moveend");if(E.animate!==!0&&!this.getSize().contains(m))return this._resetView(this.unproject(this.project(this.getCenter()).add(m)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Yn,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),E.noMoveStart||this.fire("movestart"),E.animate!==!1){en(this._mapPane,"leaflet-pan-anim");var A=this._getMapPanePos().subtract(m).round();this._panAnim.run(this._mapPane,A,E.duration||.25,E.easeLinearity)}else this._rawPanBy(m),this.fire("move").fire("moveend");return this},flyTo:function(m,E,A){if(A=A||{},A.animate===!1||!mt.any3d)return this.setView(m,E,A);this._stop();var V=this.project(this.getCenter()),Y=this.project(m),ae=this.getSize(),Ee=this._zoom;m=ce(m),E=E===void 0?Ee:E;var Fe=Math.max(ae.x,ae.y),Ke=Fe*this.getZoomScale(Ee,E),st=Y.distanceTo(V)||1,Mt=1.42,Pn=Mt*Mt;function pr(No){var $1=No?-1:1,J5=No?Ke:Fe,e6=Ke*Ke-Fe*Fe+$1*Pn*Pn*st*st,t6=2*J5*Pn*st,nE=e6/t6,Ia=Math.sqrt(nE*nE+1)-nE,Ra=Ia<1e-9?-18:Math.log(Ia);return Ra}function Hi(No){return(Math.exp(No)-Math.exp(-No))/2}function Xo(No){return(Math.exp(No)+Math.exp(-No))/2}function La(No){return Hi(No)/Xo(No)}var Aa=pr(0);function hm(No){return Fe*(Xo(Aa)/Xo(Aa+Mt*No))}function X5(No){return Fe*(Xo(Aa)*La(Aa+Mt*No)-Hi(Aa))/Pn}function eE(No){return 1-Math.pow(1-No,1.5)}var Sv=Date.now(),Yx=(pr(1)-Aa)/Mt,tE=A.duration?1e3*A.duration:1e3*Yx*.8;function Q5(){var No=(Date.now()-Sv)/tE,$1=eE(No)*Yx;No<=1?(this._flyToFrame=z(Q5,this),this._move(this.unproject(V.add(Y.subtract(V).multiplyBy(X5($1)/st)),Ee),this.getScaleZoom(Fe/hm($1),Ee),{flyTo:!0})):this._move(m,E)._moveEnd(!0)}return this._moveStart(!0,A.noMoveStart),Q5.call(this),this},flyToBounds:function(m,E){var A=this._getBoundsCenterZoom(m,E);return this.flyTo(A.center,A.zoom,E)},setMaxBounds:function(m){return m=re(m),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),m.isValid()?(this.options.maxBounds=m,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(m){var E=this.options.minZoom;return this.options.minZoom=m,this._loaded&&E!==m&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(m):this},setMaxZoom:function(m){var E=this.options.maxZoom;return this.options.maxZoom=m,this._loaded&&E!==m&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(m):this},panInsideBounds:function(m,E){this._enforcingBounds=!0;var A=this.getCenter(),V=this._limitCenter(A,this._zoom,re(m));return A.equals(V)||this.panTo(V,E),this._enforcingBounds=!1,this},panInside:function(m,E){E=E||{};var A=J(E.paddingTopLeft||E.padding||[0,0]),V=J(E.paddingBottomRight||E.padding||[0,0]),Y=this.project(this.getCenter()),ae=this.project(m),Ee=this.getPixelBounds(),Fe=he([Ee.min.add(A),Ee.max.subtract(V)]),Ke=Fe.getSize();if(!Fe.contains(ae)){this._enforcingBounds=!0;var st=ae.subtract(Fe.getCenter()),Mt=Fe.extend(ae).getSize().subtract(Ke);Y.x+=st.x<0?-Mt.x:Mt.x,Y.y+=st.y<0?-Mt.y:Mt.y,this.panTo(this.unproject(Y),E),this._enforcingBounds=!1}return this},invalidateSize:function(m){if(!this._loaded)return this;m=i({animate:!1,pan:!0},m===!0?{animate:!0}:m);var E=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var A=this.getSize(),V=E.divideBy(2).round(),Y=A.divideBy(2).round(),ae=V.subtract(Y);return!ae.x&&!ae.y?this:(m.animate&&m.pan?this.panBy(ae):(m.pan&&this._rawPanBy(ae),this.fire("move"),m.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(s(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:E,newSize:A}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(m){if(m=this._locateOptions=i({timeout:1e4,watch:!1},m),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var E=s(this._handleGeolocationResponse,this),A=s(this._handleGeolocationError,this);return m.watch?this._locationWatchId=navigator.geolocation.watchPosition(E,A,m):navigator.geolocation.getCurrentPosition(E,A,m),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(m){if(this._container._leaflet_id){var E=m.code,A=m.message||(E===1?"permission denied":E===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:E,message:"Geolocation error: "+A+"."})}},_handleGeolocationResponse:function(m){if(this._container._leaflet_id){var E=m.coords.latitude,A=m.coords.longitude,V=new ue(E,A),Y=V.toBounds(m.coords.accuracy*2),ae=this._locateOptions;if(ae.setView){var Ee=this.getBoundsZoom(Y);this.setView(V,ae.maxZoom?Math.min(Ee,ae.maxZoom):Ee)}var Fe={latlng:V,bounds:Y,timestamp:m.timestamp};for(var Ke in m.coords)typeof m.coords[Ke]=="number"&&(Fe[Ke]=m.coords[Ke]);this.fire("locationfound",Fe)}},addHandler:function(m,E){if(!E)return this;var A=this[m]=new E(this);return this._handlers.push(A),this.options[m]&&A.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),$r(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(G(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var m;for(m in this._layers)this._layers[m].remove();for(m in this._panes)$r(this._panes[m]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(m,E){var A="leaflet-pane"+(m?" leaflet-"+m.replace("Pane","")+"-pane":""),V=Nt("div",A,E||this._mapPane);return m&&(this._panes[m]=V),V},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var m=this.getPixelBounds(),E=this.unproject(m.getBottomLeft()),A=this.unproject(m.getTopRight());return new me(E,A)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(m,E,A){m=re(m),A=J(A||[0,0]);var V=this.getZoom()||0,Y=this.getMinZoom(),ae=this.getMaxZoom(),Ee=m.getNorthWest(),Fe=m.getSouthEast(),Ke=this.getSize().subtract(A),st=he(this.project(Fe,V),this.project(Ee,V)).getSize(),Mt=mt.any3d?this.options.zoomSnap:1,Pn=Ke.x/st.x,pr=Ke.y/st.y,Hi=E?Math.max(Pn,pr):Math.min(Pn,pr);return V=this.getScaleZoom(Hi,V),Mt&&(V=Math.round(V/(Mt/100))*(Mt/100),V=E?Math.ceil(V/Mt)*Mt:Math.floor(V/Mt)*Mt),Math.max(Y,Math.min(ae,V))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new U(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(m,E){var A=this._getTopLeftPoint(m,E);return new oe(A,A.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(m){return this.options.crs.getProjectedBounds(m===void 0?this.getZoom():m)},getPane:function(m){return typeof m=="string"?this._panes[m]:m},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(m,E){var A=this.options.crs;return E=E===void 0?this._zoom:E,A.scale(m)/A.scale(E)},getScaleZoom:function(m,E){var A=this.options.crs;E=E===void 0?this._zoom:E;var V=A.zoom(m*A.scale(E));return isNaN(V)?1/0:V},project:function(m,E){return E=E===void 0?this._zoom:E,this.options.crs.latLngToPoint(ce(m),E)},unproject:function(m,E){return E=E===void 0?this._zoom:E,this.options.crs.pointToLatLng(J(m),E)},layerPointToLatLng:function(m){var E=J(m).add(this.getPixelOrigin());return this.unproject(E)},latLngToLayerPoint:function(m){var E=this.project(ce(m))._round();return E._subtract(this.getPixelOrigin())},wrapLatLng:function(m){return this.options.crs.wrapLatLng(ce(m))},wrapLatLngBounds:function(m){return this.options.crs.wrapLatLngBounds(re(m))},distance:function(m,E){return this.options.crs.distance(ce(m),ce(E))},containerPointToLayerPoint:function(m){return J(m).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(m){return J(m).add(this._getMapPanePos())},containerPointToLatLng:function(m){var E=this.containerPointToLayerPoint(J(m));return this.layerPointToLatLng(E)},latLngToContainerPoint:function(m){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ce(m)))},mouseEventToContainerPoint:function(m){return wc(m,this._container)},mouseEventToLayerPoint:function(m){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(m))},mouseEventToLatLng:function(m){return this.layerPointToLatLng(this.mouseEventToLayerPoint(m))},_initContainer:function(m){var E=this._container=zs(m);if(E){if(E._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");fn(E,"scroll",this._onScroll,this),this._containerId=l(E)},_initLayout:function(){var m=this._container;this._fadeAnimated=this.options.fadeAnimation&&mt.any3d,en(m,"leaflet-container"+(mt.touch?" leaflet-touch":"")+(mt.retina?" leaflet-retina":"")+(mt.ielt9?" leaflet-oldie":"")+(mt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var E=br(m,"position");E!=="absolute"&&E!=="relative"&&E!=="fixed"&&E!=="sticky"&&(m.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var m=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),qi(this._mapPane,new U(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(en(m.markerPane,"leaflet-zoom-hide"),en(m.shadowPane,"leaflet-zoom-hide"))},_resetView:function(m,E,A){qi(this._mapPane,new U(0,0));var V=!this._loaded;this._loaded=!0,E=this._limitZoom(E),this.fire("viewprereset");var Y=this._zoom!==E;this._moveStart(Y,A)._move(m,E)._moveEnd(Y),this.fire("viewreset"),V&&this.fire("load")},_moveStart:function(m,E){return m&&this.fire("zoomstart"),E||this.fire("movestart"),this},_move:function(m,E,A,V){E===void 0&&(E=this._zoom);var Y=this._zoom!==E;return this._zoom=E,this._lastCenter=m,this._pixelOrigin=this._getNewPixelOrigin(m),V?A&&A.pinch&&this.fire("zoom",A):((Y||A&&A.pinch)&&this.fire("zoom",A),this.fire("move",A)),this},_moveEnd:function(m){return m&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return G(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(m){qi(this._mapPane,this._getMapPanePos().subtract(m))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(m){this._targets={},this._targets[l(this._container)]=this;var E=m?rr:fn;E(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&E(window,"resize",this._onResize,this),mt.any3d&&this.options.transform3DLimit&&(m?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){G(this._resizeRequest),this._resizeRequest=z(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var m=this._getMapPanePos();Math.max(Math.abs(m.x),Math.abs(m.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(m,E){for(var A=[],V,Y=E==="mouseout"||E==="mouseover",ae=m.target||m.srcElement,Ee=!1;ae;){if(V=this._targets[l(ae)],V&&(E==="click"||E==="preclick")&&this._draggableMoved(V)){Ee=!0;break}if(V&&V.listens(E,!0)&&(Y&&!We(ae,m)||(A.push(V),Y))||ae===this._container)break;ae=ae.parentNode}return!A.length&&!Ee&&!Y&&this.listens(E,!0)&&(A=[this]),A},_isClickDisabled:function(m){for(;m&&m!==this._container;){if(m._leaflet_disable_click)return!0;m=m.parentNode}},_handleDOMEvent:function(m){var E=m.target||m.srcElement;if(!(!this._loaded||E._leaflet_disable_events||m.type==="click"&&this._isClickDisabled(E))){var A=m.type;A==="mousedown"&&Bl(E),this._fireDOMEvent(m,A)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(m,E,A){if(m.type==="click"){var V=i({},m);V.type="preclick",this._fireDOMEvent(V,V.type,A)}var Y=this._findEventTargets(m,E);if(A){for(var ae=[],Ee=0;Ee<A.length;Ee++)A[Ee].listens(E,!0)&&ae.push(A[Ee]);Y=ae.concat(Y)}if(Y.length){E==="contextmenu"&&Bi(m);var Fe=Y[0],Ke={originalEvent:m};if(m.type!=="keypress"&&m.type!=="keydown"&&m.type!=="keyup"){var st=Fe.getLatLng&&(!Fe._radius||Fe._radius<=10);Ke.containerPoint=st?this.latLngToContainerPoint(Fe.getLatLng()):this.mouseEventToContainerPoint(m),Ke.layerPoint=this.containerPointToLayerPoint(Ke.containerPoint),Ke.latlng=st?Fe.getLatLng():this.layerPointToLatLng(Ke.layerPoint)}for(Ee=0;Ee<Y.length;Ee++)if(Y[Ee].fire(E,Ke,!0),Ke.originalEvent._stopped||Y[Ee].options.bubblingMouseEvents===!1&&w(this._mouseEvents,E)!==-1)return}},_draggableMoved:function(m){return m=m.dragging&&m.dragging.enabled()?m:this,m.dragging&&m.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var m=0,E=this._handlers.length;m<E;m++)this._handlers[m].disable()},whenReady:function(m,E){return this._loaded?m.call(E||this,{target:this}):this.on("load",m,E),this},_getMapPanePos:function(){return yc(this._mapPane)||new U(0,0)},_moved:function(){var m=this._getMapPanePos();return m&&!m.equals([0,0])},_getTopLeftPoint:function(m,E){var A=m&&E!==void 0?this._getNewPixelOrigin(m,E):this.getPixelOrigin();return A.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(m,E){var A=this.getSize()._divideBy(2);return this.project(m,E)._subtract(A)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(m,E,A){var V=this._getNewPixelOrigin(A,E);return this.project(m,E)._subtract(V)},_latLngBoundsToNewLayerBounds:function(m,E,A){var V=this._getNewPixelOrigin(A,E);return he([this.project(m.getSouthWest(),E)._subtract(V),this.project(m.getNorthWest(),E)._subtract(V),this.project(m.getSouthEast(),E)._subtract(V),this.project(m.getNorthEast(),E)._subtract(V)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(m){return this.latLngToLayerPoint(m).subtract(this._getCenterLayerPoint())},_limitCenter:function(m,E,A){if(!A)return m;var V=this.project(m,E),Y=this.getSize().divideBy(2),ae=new oe(V.subtract(Y),V.add(Y)),Ee=this._getBoundsOffset(ae,A,E);return Math.abs(Ee.x)<=1&&Math.abs(Ee.y)<=1?m:this.unproject(V.add(Ee),E)},_limitOffset:function(m,E){if(!E)return m;var A=this.getPixelBounds(),V=new oe(A.min.add(m),A.max.add(m));return m.add(this._getBoundsOffset(V,E))},_getBoundsOffset:function(m,E,A){var V=he(this.project(E.getNorthEast(),A),this.project(E.getSouthWest(),A)),Y=V.min.subtract(m.min),ae=V.max.subtract(m.max),Ee=this._rebound(Y.x,-ae.x),Fe=this._rebound(Y.y,-ae.y);return new U(Ee,Fe)},_rebound:function(m,E){return m+E>0?Math.round(m-E)/2:Math.max(0,Math.ceil(m))-Math.max(0,Math.floor(E))},_limitZoom:function(m){var E=this.getMinZoom(),A=this.getMaxZoom(),V=mt.any3d?this.options.zoomSnap:1;return V&&(m=Math.round(m/V)*V),Math.max(E,Math.min(A,m))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){fi(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(m,E){var A=this._getCenterOffset(m)._trunc();return(E&&E.animate)!==!0&&!this.getSize().contains(A)?!1:(this.panBy(A,E),!0)},_createAnimProxy:function(){var m=this._proxy=Nt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(m),this.on("zoomanim",function(E){var A=il,V=this._proxy.style[A];xu(this._proxy,this.project(E.center,E.zoom),this.getZoomScale(E.zoom,1)),V===this._proxy.style[A]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){$r(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var m=this.getCenter(),E=this.getZoom();xu(this._proxy,this.project(m,E),this.getZoomScale(E,1))},_catchTransitionEnd:function(m){this._animatingZoom&&m.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(m,E,A){if(this._animatingZoom)return!0;if(A=A||{},!this._zoomAnimated||A.animate===!1||this._nothingToAnimate()||Math.abs(E-this._zoom)>this.options.zoomAnimationThreshold)return!1;var V=this.getZoomScale(E),Y=this._getCenterOffset(m)._divideBy(1-1/V);return A.animate!==!0&&!this.getSize().contains(Y)?!1:(z(function(){this._moveStart(!0,A.noMoveStart||!1)._animateZoom(m,E,!0)},this),!0)},_animateZoom:function(m,E,A,V){this._mapPane&&(A&&(this._animatingZoom=!0,this._animateToCenter=m,this._animateToZoom=E,en(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:m,zoom:E,noUpdate:V}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(s(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&fi(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function xr(m,E){return new zt(m,E)}var hn=X.extend({options:{position:"topright"},initialize:function(m){y(this,m)},getPosition:function(){return this.options.position},setPosition:function(m){var E=this._map;return E&&E.removeControl(this),this.options.position=m,E&&E.addControl(this),this},getContainer:function(){return this._container},addTo:function(m){this.remove(),this._map=m;var E=this._container=this.onAdd(m),A=this.getPosition(),V=m._controlCorners[A];return en(E,"leaflet-control"),A.indexOf("bottom")!==-1?V.insertBefore(E,V.firstChild):V.appendChild(E),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?($r(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(m){this._map&&m&&m.screenX>0&&m.screenY>0&&this._map.getContainer().focus()}}),Sr=function(m){return new hn(m)};zt.include({addControl:function(m){return m.addTo(this),this},removeControl:function(m){return m.remove(),this},_initControlPos:function(){var m=this._controlCorners={},E="leaflet-",A=this._controlContainer=Nt("div",E+"control-container",this._container);function V(Y,ae){var Ee=E+Y+" "+E+ae;m[Y+ae]=Nt("div",Ee,A)}V("top","left"),V("top","right"),V("bottom","left"),V("bottom","right")},_clearControlPos:function(){for(var m in this._controlCorners)$r(this._controlCorners[m]);$r(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Go=hn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(m,E,A,V){return A<V?-1:V<A?1:0}},initialize:function(m,E,A){y(this,A),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var V in m)this._addLayer(m[V],V);for(V in E)this._addLayer(E[V],V,!0)},onAdd:function(m){this._initLayout(),this._update(),this._map=m,m.on("zoomend",this._checkDisabledLayers,this);for(var E=0;E<this._layers.length;E++)this._layers[E].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(m){return hn.prototype.addTo.call(this,m),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var m=0;m<this._layers.length;m++)this._layers[m].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(m,E){return this._addLayer(m,E),this._map?this._update():this},addOverlay:function(m,E){return this._addLayer(m,E,!0),this._map?this._update():this},removeLayer:function(m){m.off("add remove",this._onLayerChange,this);var E=this._getLayer(l(m));return E&&this._layers.splice(this._layers.indexOf(E),1),this._map?this._update():this},expand:function(){en(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var m=this._map.getSize().y-(this._container.offsetTop+50);return m<this._section.clientHeight?(en(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=m+"px"):fi(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return fi(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var m="leaflet-control-layers",E=this._container=Nt("div",m),A=this.options.collapsed;E.setAttribute("aria-haspopup",!0),zl(E),yd(E);var V=this._section=Nt("section",m+"-list");A&&(this._map.on("click",this.collapse,this),fn(E,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var Y=this._layersLink=Nt("a",m+"-toggle",E);Y.href="#",Y.title="Layers",Y.setAttribute("role","button"),fn(Y,{keydown:function(ae){ae.keyCode===13&&this._expandSafely()},click:function(ae){Bi(ae),this._expandSafely()}},this),A||this.expand(),this._baseLayersList=Nt("div",m+"-base",V),this._separator=Nt("div",m+"-separator",V),this._overlaysList=Nt("div",m+"-overlays",V),E.appendChild(V)},_getLayer:function(m){for(var E=0;E<this._layers.length;E++)if(this._layers[E]&&l(this._layers[E].layer)===m)return this._layers[E]},_addLayer:function(m,E,A){this._map&&m.on("add remove",this._onLayerChange,this),this._layers.push({layer:m,name:E,overlay:A}),this.options.sortLayers&&this._layers.sort(s(function(V,Y){return this.options.sortFunction(V.layer,Y.layer,V.name,Y.name)},this)),this.options.autoZIndex&&m.setZIndex&&(this._lastZIndex++,m.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;so(this._baseLayersList),so(this._overlaysList),this._layerControlInputs=[];var m,E,A,V,Y=0;for(A=0;A<this._layers.length;A++)V=this._layers[A],this._addItem(V),E=E||V.overlay,m=m||!V.overlay,Y+=V.overlay?0:1;return this.options.hideSingleBase&&(m=m&&Y>1,this._baseLayersList.style.display=m?"":"none"),this._separator.style.display=E&&m?"":"none",this},_onLayerChange:function(m){this._handlingClick||this._update();var E=this._getLayer(l(m.target)),A=E.overlay?m.type==="add"?"overlayadd":"overlayremove":m.type==="add"?"baselayerchange":null;A&&this._map.fire(A,E)},_createRadioElement:function(m,E){var A='<input type="radio" class="leaflet-control-layers-selector" name="'+m+'"'+(E?' checked="checked"':"")+"/>",V=document.createElement("div");return V.innerHTML=A,V.firstChild},_addItem:function(m){var E=document.createElement("label"),A=this._map.hasLayer(m.layer),V;m.overlay?(V=document.createElement("input"),V.type="checkbox",V.className="leaflet-control-layers-selector",V.defaultChecked=A):V=this._createRadioElement("leaflet-base-layers_"+l(this),A),this._layerControlInputs.push(V),V.layerId=l(m.layer),fn(V,"click",this._onInputClick,this);var Y=document.createElement("span");Y.innerHTML=" "+m.name;var ae=document.createElement("span");E.appendChild(ae),ae.appendChild(V),ae.appendChild(Y);var Ee=m.overlay?this._overlaysList:this._baseLayersList;return Ee.appendChild(E),this._checkDisabledLayers(),E},_onInputClick:function(){if(!this._preventClick){var m=this._layerControlInputs,E,A,V=[],Y=[];this._handlingClick=!0;for(var ae=m.length-1;ae>=0;ae--)E=m[ae],A=this._getLayer(E.layerId).layer,E.checked?V.push(A):E.checked||Y.push(A);for(ae=0;ae<Y.length;ae++)this._map.hasLayer(Y[ae])&&this._map.removeLayer(Y[ae]);for(ae=0;ae<V.length;ae++)this._map.hasLayer(V[ae])||this._map.addLayer(V[ae]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var m=this._layerControlInputs,E,A,V=this._map.getZoom(),Y=m.length-1;Y>=0;Y--)E=m[Y],A=this._getLayer(E.layerId).layer,E.disabled=A.options.minZoom!==void 0&&V<A.options.minZoom||A.options.maxZoom!==void 0&&V>A.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var m=this._section;this._preventClick=!0,fn(m,"click",Bi),this.expand();var E=this;setTimeout(function(){rr(m,"click",Bi),E._preventClick=!1})}}),Zo=function(m,E,A){return new Go(m,E,A)},lo=hn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(m){var E="leaflet-control-zoom",A=Nt("div",E+" leaflet-bar"),V=this.options;return this._zoomInButton=this._createButton(V.zoomInText,V.zoomInTitle,E+"-in",A,this._zoomIn),this._zoomOutButton=this._createButton(V.zoomOutText,V.zoomOutTitle,E+"-out",A,this._zoomOut),this._updateDisabled(),m.on("zoomend zoomlevelschange",this._updateDisabled,this),A},onRemove:function(m){m.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(m){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(m.shiftKey?3:1))},_zoomOut:function(m){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(m.shiftKey?3:1))},_createButton:function(m,E,A,V,Y){var ae=Nt("a",A,V);return ae.innerHTML=m,ae.href="#",ae.title=E,ae.setAttribute("role","button"),ae.setAttribute("aria-label",E),zl(ae),fn(ae,"click",Qr),fn(ae,"click",Y,this),fn(ae,"click",this._refocusOnMap,this),ae},_updateDisabled:function(){var m=this._map,E="leaflet-disabled";fi(this._zoomInButton,E),fi(this._zoomOutButton,E),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||m._zoom===m.getMinZoom())&&(en(this._zoomOutButton,E),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||m._zoom===m.getMaxZoom())&&(en(this._zoomInButton,E),this._zoomInButton.setAttribute("aria-disabled","true"))}});zt.mergeOptions({zoomControl:!0}),zt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new lo,this.addControl(this.zoomControl))});var Ss=function(m){return new lo(m)},ll=hn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(m){var E="leaflet-control-scale",A=Nt("div",E),V=this.options;return this._addScales(V,E+"-line",A),m.on(V.updateWhenIdle?"moveend":"move",this._update,this),m.whenReady(this._update,this),A},onRemove:function(m){m.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(m,E,A){m.metric&&(this._mScale=Nt("div",E,A)),m.imperial&&(this._iScale=Nt("div",E,A))},_update:function(){var m=this._map,E=m.getSize().y/2,A=m.distance(m.containerPointToLatLng([0,E]),m.containerPointToLatLng([this.options.maxWidth,E]));this._updateScales(A)},_updateScales:function(m){this.options.metric&&m&&this._updateMetric(m),this.options.imperial&&m&&this._updateImperial(m)},_updateMetric:function(m){var E=this._getRoundNum(m),A=E<1e3?E+" m":E/1e3+" km";this._updateScale(this._mScale,A,E/m)},_updateImperial:function(m){var E=m*3.2808399,A,V,Y;E>5280?(A=E/5280,V=this._getRoundNum(A),this._updateScale(this._iScale,V+" mi",V/A)):(Y=this._getRoundNum(E),this._updateScale(this._iScale,Y+" ft",Y/E))},_updateScale:function(m,E,A){m.style.width=Math.round(this.options.maxWidth*A)+"px",m.innerHTML=E},_getRoundNum:function(m){var E=Math.pow(10,(Math.floor(m)+"").length-1),A=m/E;return A=A>=10?10:A>=5?5:A>=3?3:A>=2?2:1,E*A}}),as=function(m){return new ll(m)},ul='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Eu=hn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(mt.inlineSvg?ul+" ":"")+"Leaflet</a>"},initialize:function(m){y(this,m),this._attributions={}},onAdd:function(m){m.attributionControl=this,this._container=Nt("div","leaflet-control-attribution"),zl(this._container);for(var E in m._layers)m._layers[E].getAttribution&&this.addAttribution(m._layers[E].getAttribution());return this._update(),m.on("layeradd",this._addAttribution,this),this._container},onRemove:function(m){m.off("layeradd",this._addAttribution,this)},_addAttribution:function(m){m.layer.getAttribution&&(this.addAttribution(m.layer.getAttribution()),m.layer.once("remove",function(){this.removeAttribution(m.layer.getAttribution())},this))},setPrefix:function(m){return this.options.prefix=m,this._update(),this},addAttribution:function(m){return m?(this._attributions[m]||(this._attributions[m]=0),this._attributions[m]++,this._update(),this):this},removeAttribution:function(m){return m?(this._attributions[m]&&(this._attributions[m]--,this._update()),this):this},_update:function(){if(this._map){var m=[];for(var E in this._attributions)this._attributions[E]&&m.push(E);var A=[];this.options.prefix&&A.push(this.options.prefix),m.length&&A.push(m.join(", ")),this._container.innerHTML=A.join(' <span aria-hidden="true">|</span> ')}}});zt.mergeOptions({attributionControl:!0}),zt.addInitHook(function(){this.options.attributionControl&&new Eu().addTo(this)});var gv=function(m){return new Eu(m)};hn.Layers=Go,hn.Zoom=lo,hn.Scale=ll,hn.Attribution=Eu,Sr.layers=Zo,Sr.zoom=Ss,Sr.scale=as,Sr.attribution=gv;var ir=X.extend({initialize:function(m){this._map=m},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});ir.addTo=function(m,E){return m.addHandler(E,this),this};var vv={Events:B},Vs=mt.touch?"touchstart mousedown":"mousedown",Po=q.extend({options:{clickTolerance:3},initialize:function(m,E,A,V){y(this,V),this._element=m,this._dragStartTarget=E||m,this._preventOutline=A},enable:function(){this._enabled||(fn(this._dragStartTarget,Vs,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Po._dragging===this&&this.finishDrag(!0),rr(this._dragStartTarget,Vs,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(m){if(this._enabled&&(this._moved=!1,!Pa(this._element,"leaflet-zoom-anim"))){if(m.touches&&m.touches.length!==1){Po._dragging===this&&this.finishDrag();return}if(!(Po._dragging||m.shiftKey||m.which!==1&&m.button!==1&&!m.touches)&&(Po._dragging=this,this._preventOutline&&Bl(this._element),jo(),Su(),!this._moving)){this.fire("down");var E=m.touches?m.touches[0]:m,A=md(this._element);this._startPoint=new U(E.clientX,E.clientY),this._startPos=yc(this._element),this._parentScale=bc(A);var V=m.type==="mousedown";fn(document,V?"mousemove":"touchmove",this._onMove,this),fn(document,V?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(m){if(this._enabled){if(m.touches&&m.touches.length>1){this._moved=!0;return}var E=m.touches&&m.touches.length===1?m.touches[0]:m,A=new U(E.clientX,E.clientY)._subtract(this._startPoint);!A.x&&!A.y||Math.abs(A.x)+Math.abs(A.y)<this.options.clickTolerance||(A.x/=this._parentScale.x,A.y/=this._parentScale.y,Bi(m),this._moved||(this.fire("dragstart"),this._moved=!0,en(document.body,"leaflet-dragging"),this._lastTarget=m.target||m.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),en(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(A),this._moving=!0,this._lastEvent=m,this._updatePosition())}},_updatePosition:function(){var m={originalEvent:this._lastEvent};this.fire("predrag",m),qi(this._element,this._newPos),this.fire("drag",m)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(m){fi(document.body,"leaflet-dragging"),this._lastTarget&&(fi(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),rr(document,"mousemove touchmove",this._onMove,this),rr(document,"mouseup touchend touchcancel",this._onUp,this),oa(),wr();var E=this._moved&&this._moving;this._moving=!1,Po._dragging=!1,E&&this.fire("dragend",{noInertia:m,distance:this._newPos.distanceTo(this._startPos)})}});function Tr(m,E,A){var V,Y=[1,4,2,8],ae,Ee,Fe,Ke,st,Mt,Pn,pr;for(ae=0,Mt=m.length;ae<Mt;ae++)m[ae]._code=Gi(m[ae],E);for(Fe=0;Fe<4;Fe++){for(Pn=Y[Fe],V=[],ae=0,Mt=m.length,Ee=Mt-1;ae<Mt;Ee=ae++)Ke=m[ae],st=m[Ee],Ke._code&Pn?st._code&Pn||(pr=cm(st,Ke,Pn,E,A),pr._code=Gi(pr,E),V.push(pr)):(st._code&Pn&&(pr=cm(st,Ke,Pn,E,A),pr._code=Gi(pr,E),V.push(pr)),V.push(Ke));m=V}return m}function bd(m,E){var A,V,Y,ae,Ee,Fe,Ke,st,Mt;if(!m||m.length===0)throw new Error("latlngs not passed");_s(m)||(console.warn("latlngs are not flat! Only the first ring will be used"),m=m[0]);var Pn=ce([0,0]),pr=re(m),Hi=pr.getNorthWest().distanceTo(pr.getSouthWest())*pr.getNorthEast().distanceTo(pr.getNorthWest());Hi<1700&&(Pn=aa(m));var Xo=m.length,La=[];for(A=0;A<Xo;A++){var Aa=ce(m[A]);La.push(E.project(ce([Aa.lat-Pn.lat,Aa.lng-Pn.lng])))}for(Fe=Ke=st=0,A=0,V=Xo-1;A<Xo;V=A++)Y=La[A],ae=La[V],Ee=Y.y*ae.x-ae.y*Y.x,Ke+=(Y.x+ae.x)*Ee,st+=(Y.y+ae.y)*Ee,Fe+=Ee*3;Fe===0?Mt=La[0]:Mt=[Ke/Fe,st/Fe];var hm=E.unproject(J(Mt));return ce([hm.lat+Pn.lat,hm.lng+Pn.lng])}function aa(m){for(var E=0,A=0,V=0,Y=0;Y<m.length;Y++){var ae=ce(m[Y]);E+=ae.lat,A+=ae.lng,V++}return ce([E/V,A/V])}var S1={__proto__:null,clipPolygon:Tr,polygonCenter:bd,centroid:aa};function Us(m,E){if(!E||!m.length)return m.slice();var A=E*E;return m=Hx(m,A),m=_1(m,A),m}function $o(m,E,A){return Math.sqrt(ku(m,E,A,!0))}function Eh(m,E,A){return ku(m,E,A)}function _1(m,E){var A=m.length,V=typeof Uint8Array<"u"?Uint8Array:Array,Y=new V(A);Y[0]=Y[A-1]=1,kh(m,Y,E,0,A-1);var ae,Ee=[];for(ae=0;ae<A;ae++)Y[ae]&&Ee.push(m[ae]);return Ee}function kh(m,E,A,V,Y){var ae=0,Ee,Fe,Ke;for(Fe=V+1;Fe<=Y-1;Fe++)Ke=ku(m[Fe],m[V],m[Y],!0),Ke>ae&&(Ee=Fe,ae=Ke);ae>A&&(E[Ee]=1,kh(m,E,A,V,Ee),kh(m,E,A,Ee,Y))}function Hx(m,E){for(var A=[m[0]],V=1,Y=0,ae=m.length;V<ae;V++)C1(m[V],m[Y])>E&&(A.push(m[V]),Y=V);return Y<ae-1&&A.push(m[ae-1]),A}var Kr;function Ph(m,E,A,V,Y){var ae=V?Kr:Gi(m,A),Ee=Gi(E,A),Fe,Ke,st;for(Kr=Ee;;){if(!(ae|Ee))return[m,E];if(ae&Ee)return!1;Fe=ae||Ee,Ke=cm(m,E,Fe,A,Y),st=Gi(Ke,A),Fe===ae?(m=Ke,ae=st):(E=Ke,Ee=st)}}function cm(m,E,A,V,Y){var ae=E.x-m.x,Ee=E.y-m.y,Fe=V.min,Ke=V.max,st,Mt;return A&8?(st=m.x+ae*(Ke.y-m.y)/Ee,Mt=Ke.y):A&4?(st=m.x+ae*(Fe.y-m.y)/Ee,Mt=Fe.y):A&2?(st=Ke.x,Mt=m.y+Ee*(Ke.x-m.x)/ae):A&1&&(st=Fe.x,Mt=m.y+Ee*(Fe.x-m.x)/ae),new U(st,Mt,Y)}function Gi(m,E){var A=0;return m.x<E.min.x?A|=1:m.x>E.max.x&&(A|=2),m.y<E.min.y?A|=4:m.y>E.max.y&&(A|=8),A}function C1(m,E){var A=E.x-m.x,V=E.y-m.y;return A*A+V*V}function ku(m,E,A,V){var Y=E.x,ae=E.y,Ee=A.x-Y,Fe=A.y-ae,Ke=Ee*Ee+Fe*Fe,st;return Ke>0&&(st=((m.x-Y)*Ee+(m.y-ae)*Fe)/Ke,st>1?(Y=A.x,ae=A.y):st>0&&(Y+=Ee*st,ae+=Fe*st)),Ee=m.x-Y,Fe=m.y-ae,V?Ee*Ee+Fe*Fe:new U(Y,ae)}function _s(m){return!k(m[0])||typeof m[0][0]!="object"&&typeof m[0][0]<"u"}function dm(m){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),_s(m)}function cl(m,E){var A,V,Y,ae,Ee,Fe,Ke,st;if(!m||m.length===0)throw new Error("latlngs not passed");_s(m)||(console.warn("latlngs are not flat! Only the first ring will be used"),m=m[0]);var Mt=ce([0,0]),Pn=re(m),pr=Pn.getNorthWest().distanceTo(Pn.getSouthWest())*Pn.getNorthEast().distanceTo(Pn.getNorthWest());pr<1700&&(Mt=aa(m));var Hi=m.length,Xo=[];for(A=0;A<Hi;A++){var La=ce(m[A]);Xo.push(E.project(ce([La.lat-Mt.lat,La.lng-Mt.lng])))}for(A=0,V=0;A<Hi-1;A++)V+=Xo[A].distanceTo(Xo[A+1])/2;if(V===0)st=Xo[0];else for(A=0,ae=0;A<Hi-1;A++)if(Ee=Xo[A],Fe=Xo[A+1],Y=Ee.distanceTo(Fe),ae+=Y,ae>V){Ke=(ae-V)/Y,st=[Fe.x-Ke*(Fe.x-Ee.x),Fe.y-Ke*(Fe.y-Ee.y)];break}var Aa=E.unproject(J(st));return ce([Aa.lat+Mt.lat,Aa.lng+Mt.lng])}var Sf={__proto__:null,simplify:Us,pointToSegmentDistance:$o,closestPointOnSegment:Eh,clipSegment:Ph,_getEdgeIntersection:cm,_getBitCode:Gi,_sqClosestPointOnSegment:ku,isFlat:_s,_flat:dm,polylineCenter:cl},_f={project:function(m){return new U(m.lng,m.lat)},unproject:function(m){return new ue(m.y,m.x)},bounds:new oe([-180,-90],[180,90])},Cf={R:6378137,R_MINOR:6356752314245179e-9,bounds:new oe([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(m){var E=Math.PI/180,A=this.R,V=m.lat*E,Y=this.R_MINOR/A,ae=Math.sqrt(1-Y*Y),Ee=ae*Math.sin(V),Fe=Math.tan(Math.PI/4-V/2)/Math.pow((1-Ee)/(1+Ee),ae/2);return V=-A*Math.log(Math.max(Fe,1e-10)),new U(m.lng*E*A,V)},unproject:function(m){for(var E=180/Math.PI,A=this.R,V=this.R_MINOR/A,Y=Math.sqrt(1-V*V),ae=Math.exp(-m.y/A),Ee=Math.PI/2-2*Math.atan(ae),Fe=0,Ke=.1,st;Fe<15&&Math.abs(Ke)>1e-7;Fe++)st=Y*Math.sin(Ee),st=Math.pow((1-st)/(1+st),Y/2),Ke=Math.PI/2-2*Math.atan(ae*st)-Ee,Ee+=Ke;return new ue(Ee*E,m.x*E/A)}},fm={__proto__:null,LonLat:_f,Mercator:Cf,SphericalMercator:ge},wd=i({},Me,{code:"EPSG:3395",projection:Cf,transformation:function(){var m=.5/(Math.PI*Cf.R);return _e(m,.5,-m,.5)}()}),zi=i({},Me,{code:"EPSG:4326",projection:_f,transformation:_e(1/180,1,-1/180,.5)}),yv=i({},we,{projection:_f,transformation:_e(1,0,-1,0),scale:function(m){return Math.pow(2,m)},zoom:function(m){return Math.log(m)/Math.LN2},distance:function(m,E){var A=E.lng-m.lng,V=E.lat-m.lat;return Math.sqrt(A*A+V*V)},infinite:!0});we.Earth=Me,we.EPSG3395=wd,we.EPSG3857=$e,we.EPSG900913=He,we.EPSG4326=zi,we.Simple=yv;var $a=q.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(m){return m.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(m){return m&&m.removeLayer(this),this},getPane:function(m){return this._map.getPane(m?this.options[m]||m:this.options.pane)},addInteractiveTarget:function(m){return this._map._targets[l(m)]=this,this},removeInteractiveTarget:function(m){return delete this._map._targets[l(m)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(m){var E=m.target;if(E.hasLayer(this)){if(this._map=E,this._zoomAnimated=E._zoomAnimated,this.getEvents){var A=this.getEvents();E.on(A,this),this.once("remove",function(){E.off(A,this)},this)}this.onAdd(E),this.fire("add"),E.fire("layeradd",{layer:this})}}});zt.include({addLayer:function(m){if(!m._layerAdd)throw new Error("The provided object is not a Layer.");var E=l(m);return this._layers[E]?this:(this._layers[E]=m,m._mapToAdd=this,m.beforeAdd&&m.beforeAdd(this),this.whenReady(m._layerAdd,m),this)},removeLayer:function(m){var E=l(m);return this._layers[E]?(this._loaded&&m.onRemove(this),delete this._layers[E],this._loaded&&(this.fire("layerremove",{layer:m}),m.fire("remove")),m._map=m._mapToAdd=null,this):this},hasLayer:function(m){return l(m)in this._layers},eachLayer:function(m,E){for(var A in this._layers)m.call(E,this._layers[A]);return this},_addLayers:function(m){m=m?k(m)?m:[m]:[];for(var E=0,A=m.length;E<A;E++)this.addLayer(m[E])},_addZoomLimit:function(m){(!isNaN(m.options.maxZoom)||!isNaN(m.options.minZoom))&&(this._zoomBoundLayers[l(m)]=m,this._updateZoomLevels())},_removeZoomLimit:function(m){var E=l(m);this._zoomBoundLayers[E]&&(delete this._zoomBoundLayers[E],this._updateZoomLevels())},_updateZoomLevels:function(){var m=1/0,E=-1/0,A=this._getZoomSpan();for(var V in this._zoomBoundLayers){var Y=this._zoomBoundLayers[V].options;m=Y.minZoom===void 0?m:Math.min(m,Y.minZoom),E=Y.maxZoom===void 0?E:Math.max(E,Y.maxZoom)}this._layersMaxZoom=E===-1/0?void 0:E,this._layersMinZoom=m===1/0?void 0:m,A!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ta=$a.extend({initialize:function(m,E){y(this,E),this._layers={};var A,V;if(m)for(A=0,V=m.length;A<V;A++)this.addLayer(m[A])},addLayer:function(m){var E=this.getLayerId(m);return this._layers[E]=m,this._map&&this._map.addLayer(m),this},removeLayer:function(m){var E=m in this._layers?m:this.getLayerId(m);return this._map&&this._layers[E]&&this._map.removeLayer(this._layers[E]),delete this._layers[E],this},hasLayer:function(m){var E=typeof m=="number"?m:this.getLayerId(m);return E in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(m){var E=Array.prototype.slice.call(arguments,1),A,V;for(A in this._layers)V=this._layers[A],V[m]&&V[m].apply(V,E);return this},onAdd:function(m){this.eachLayer(m.addLayer,m)},onRemove:function(m){this.eachLayer(m.removeLayer,m)},eachLayer:function(m,E){for(var A in this._layers)m.call(E,this._layers[A]);return this},getLayer:function(m){return this._layers[m]},getLayers:function(){var m=[];return this.eachLayer(m.push,m),m},setZIndex:function(m){return this.invoke("setZIndex",m)},getLayerId:function(m){return l(m)}}),Ef=function(m,E){return new Ta(m,E)},Ws=Ta.extend({addLayer:function(m){return this.hasLayer(m)?this:(m.addEventParent(this),Ta.prototype.addLayer.call(this,m),this.fire("layeradd",{layer:m}))},removeLayer:function(m){return this.hasLayer(m)?(m in this._layers&&(m=this._layers[m]),m.removeEventParent(this),Ta.prototype.removeLayer.call(this,m),this.fire("layerremove",{layer:m})):this},setStyle:function(m){return this.invoke("setStyle",m)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var m=new me;for(var E in this._layers){var A=this._layers[E];m.extend(A.getBounds?A.getBounds():A.getLatLng())}return m}}),la=function(m,E){return new Ws(m,E)},uo=X.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(m){y(this,m)},createIcon:function(m){return this._createIcon("icon",m)},createShadow:function(m){return this._createIcon("shadow",m)},_createIcon:function(m,E){var A=this._getIconUrl(m);if(!A){if(m==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var V=this._createImg(A,E&&E.tagName==="IMG"?E:null);return this._setIconStyles(V,m),(this.options.crossOrigin||this.options.crossOrigin==="")&&(V.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),V},_setIconStyles:function(m,E){var A=this.options,V=A[E+"Size"];typeof V=="number"&&(V=[V,V]);var Y=J(V),ae=J(E==="shadow"&&A.shadowAnchor||A.iconAnchor||Y&&Y.divideBy(2,!0));m.className="leaflet-marker-"+E+" "+(A.className||""),ae&&(m.style.marginLeft=-ae.x+"px",m.style.marginTop=-ae.y+"px"),Y&&(m.style.width=Y.x+"px",m.style.height=Y.y+"px")},_createImg:function(m,E){return E=E||document.createElement("img"),E.src=m,E},_getIconUrl:function(m){return mt.retina&&this.options[m+"RetinaUrl"]||this.options[m+"Url"]}});function Yo(m){return new uo(m)}var xc=uo.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(m){return typeof xc.imagePath!="string"&&(xc.imagePath=this._detectIconPath()),(this.options.imagePath||xc.imagePath)+uo.prototype._getIconUrl.call(this,m)},_stripUrl:function(m){var E=function(A,V,Y){var ae=V.exec(A);return ae&&ae[Y]};return m=E(m,/^url\((['"])?(.+)\1\)$/,2),m&&E(m,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var m=Nt("div","leaflet-default-icon-path",document.body),E=br(m,"background-image")||br(m,"backgroundImage");if(document.body.removeChild(m),E=this._stripUrl(E),E)return E;var A=document.querySelector('link[href$="leaflet.css"]');return A?A.href.substring(0,A.href.length-11-1):""}}),Hl=ir.extend({initialize:function(m){this._marker=m},addHooks:function(){var m=this._marker._icon;this._draggable||(this._draggable=new Po(m,m,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),en(m,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&fi(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(m){var E=this._marker,A=E._map,V=this._marker.options.autoPanSpeed,Y=this._marker.options.autoPanPadding,ae=yc(E._icon),Ee=A.getPixelBounds(),Fe=A.getPixelOrigin(),Ke=he(Ee.min._subtract(Fe).add(Y),Ee.max._subtract(Fe).subtract(Y));if(!Ke.contains(ae)){var st=J((Math.max(Ke.max.x,ae.x)-Ke.max.x)/(Ee.max.x-Ke.max.x)-(Math.min(Ke.min.x,ae.x)-Ke.min.x)/(Ee.min.x-Ke.min.x),(Math.max(Ke.max.y,ae.y)-Ke.max.y)/(Ee.max.y-Ke.max.y)-(Math.min(Ke.min.y,ae.y)-Ke.min.y)/(Ee.min.y-Ke.min.y)).multiplyBy(V);A.panBy(st,{animate:!1}),this._draggable._newPos._add(st),this._draggable._startPos._add(st),qi(E._icon,this._draggable._newPos),this._onDrag(m),this._panRequest=z(this._adjustPan.bind(this,m))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(m){this._marker.options.autoPan&&(G(this._panRequest),this._panRequest=z(this._adjustPan.bind(this,m)))},_onDrag:function(m){var E=this._marker,A=E._shadow,V=yc(E._icon),Y=E._map.layerPointToLatLng(V);A&&qi(A,V),E._latlng=Y,m.latlng=Y,m.oldLatLng=this._oldLatLng,E.fire("move",m).fire("drag",m)},_onDragEnd:function(m){G(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",m)}}),Vl=$a.extend({options:{icon:new xc,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(m,E){y(this,E),this._latlng=ce(m)},onAdd:function(m){this._zoomAnimated=this._zoomAnimated&&m.options.markerZoomAnimation,this._zoomAnimated&&m.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(m){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&m.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(m){var E=this._latlng;return this._latlng=ce(m),this.update(),this.fire("move",{oldLatLng:E,latlng:this._latlng})},setZIndexOffset:function(m){return this.options.zIndexOffset=m,this.update()},getIcon:function(){return this.options.icon},setIcon:function(m){return this.options.icon=m,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var m=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(m)}return this},_initIcon:function(){var m=this.options,E="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),A=m.icon.createIcon(this._icon),V=!1;A!==this._icon&&(this._icon&&this._removeIcon(),V=!0,m.title&&(A.title=m.title),A.tagName==="IMG"&&(A.alt=m.alt||"")),en(A,E),m.keyboard&&(A.tabIndex="0",A.setAttribute("role","button")),this._icon=A,m.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&fn(A,"focus",this._panOnFocus,this);var Y=m.icon.createShadow(this._shadow),ae=!1;Y!==this._shadow&&(this._removeShadow(),ae=!0),Y&&(en(Y,E),Y.alt=""),this._shadow=Y,m.opacity<1&&this._updateOpacity(),V&&this.getPane().appendChild(this._icon),this._initInteraction(),Y&&ae&&this.getPane(m.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&rr(this._icon,"focus",this._panOnFocus,this),$r(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&$r(this._shadow),this._shadow=null},_setPos:function(m){this._icon&&qi(this._icon,m),this._shadow&&qi(this._shadow,m),this._zIndex=m.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(m){this._icon&&(this._icon.style.zIndex=this._zIndex+m)},_animateZoom:function(m){var E=this._map._latLngToNewLayerPoint(this._latlng,m.zoom,m.center).round();this._setPos(E)},_initInteraction:function(){if(this.options.interactive&&(en(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Hl)){var m=this.options.draggable;this.dragging&&(m=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Hl(this),m&&this.dragging.enable()}},setOpacity:function(m){return this.options.opacity=m,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var m=this.options.opacity;this._icon&&ko(this._icon,m),this._shadow&&ko(this._shadow,m)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var m=this._map;if(m){var E=this.options.icon.options,A=E.iconSize?J(E.iconSize):J(0,0),V=E.iconAnchor?J(E.iconAnchor):J(0,0);m.panInside(this._latlng,{paddingTopLeft:V,paddingBottomRight:A.subtract(V)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function $h(m,E){return new Vl(m,E)}var Pu=$a.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(m){this._renderer=m.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(m){return y(this,m),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&m&&Object.prototype.hasOwnProperty.call(m,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Ma=Pu.extend({options:{fill:!0,radius:10},initialize:function(m,E){y(this,E),this._latlng=ce(m),this._radius=this.options.radius},setLatLng:function(m){var E=this._latlng;return this._latlng=ce(m),this.redraw(),this.fire("move",{oldLatLng:E,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(m){return this.options.radius=this._radius=m,this.redraw()},getRadius:function(){return this._radius},setStyle:function(m){var E=m&&m.radius||this._radius;return Pu.prototype.setStyle.call(this,m),this.setRadius(E),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var m=this._radius,E=this._radiusY||m,A=this._clickTolerance(),V=[m+A,E+A];this._pxBounds=new oe(this._point.subtract(V),this._point.add(V))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(m){return m.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function xd(m,E){return new Ma(m,E)}var kf=Ma.extend({initialize:function(m,E,A){if(typeof E=="number"&&(E=i({},A,{radius:E})),y(this,E),this._latlng=ce(m),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(m){return this._mRadius=m,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var m=[this._radius,this._radiusY||this._radius];return new me(this._map.layerPointToLatLng(this._point.subtract(m)),this._map.layerPointToLatLng(this._point.add(m)))},setStyle:Pu.prototype.setStyle,_project:function(){var m=this._latlng.lng,E=this._latlng.lat,A=this._map,V=A.options.crs;if(V.distance===Me.distance){var Y=Math.PI/180,ae=this._mRadius/Me.R/Y,Ee=A.project([E+ae,m]),Fe=A.project([E-ae,m]),Ke=Ee.add(Fe).divideBy(2),st=A.unproject(Ke).lat,Mt=Math.acos((Math.cos(ae*Y)-Math.sin(E*Y)*Math.sin(st*Y))/(Math.cos(E*Y)*Math.cos(st*Y)))/Y;(isNaN(Mt)||Mt===0)&&(Mt=ae/Math.cos(Math.PI/180*E)),this._point=Ke.subtract(A.getPixelOrigin()),this._radius=isNaN(Mt)?0:Ke.x-A.project([st,m-Mt]).x,this._radiusY=Ke.y-Ee.y}else{var Pn=V.unproject(V.project(this._latlng).subtract([this._mRadius,0]));this._point=A.latLngToLayerPoint(this._latlng),this._radius=this._point.x-A.latLngToLayerPoint(Pn).x}this._updateBounds()}});function Vx(m,E,A){return new kf(m,E,A)}var dl=Pu.extend({options:{smoothFactor:1,noClip:!1},initialize:function(m,E){y(this,E),this._setLatLngs(m)},getLatLngs:function(){return this._latlngs},setLatLngs:function(m){return this._setLatLngs(m),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(m){for(var E=1/0,A=null,V=ku,Y,ae,Ee=0,Fe=this._parts.length;Ee<Fe;Ee++)for(var Ke=this._parts[Ee],st=1,Mt=Ke.length;st<Mt;st++){Y=Ke[st-1],ae=Ke[st];var Pn=V(m,Y,ae,!0);Pn<E&&(E=Pn,A=V(m,Y,ae))}return A&&(A.distance=Math.sqrt(E)),A},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return cl(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(m,E){return E=E||this._defaultShape(),m=ce(m),E.push(m),this._bounds.extend(m),this.redraw()},_setLatLngs:function(m){this._bounds=new me,this._latlngs=this._convertLatLngs(m)},_defaultShape:function(){return _s(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(m){for(var E=[],A=_s(m),V=0,Y=m.length;V<Y;V++)A?(E[V]=ce(m[V]),this._bounds.extend(E[V])):E[V]=this._convertLatLngs(m[V]);return E},_project:function(){var m=new oe;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,m),this._bounds.isValid()&&m.isValid()&&(this._rawPxBounds=m,this._updateBounds())},_updateBounds:function(){var m=this._clickTolerance(),E=new U(m,m);this._rawPxBounds&&(this._pxBounds=new oe([this._rawPxBounds.min.subtract(E),this._rawPxBounds.max.add(E)]))},_projectLatlngs:function(m,E,A){var V=m[0]instanceof ue,Y=m.length,ae,Ee;if(V){for(Ee=[],ae=0;ae<Y;ae++)Ee[ae]=this._map.latLngToLayerPoint(m[ae]),A.extend(Ee[ae]);E.push(Ee)}else for(ae=0;ae<Y;ae++)this._projectLatlngs(m[ae],E,A)},_clipPoints:function(){var m=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(m))){if(this.options.noClip){this._parts=this._rings;return}var E=this._parts,A,V,Y,ae,Ee,Fe,Ke;for(A=0,Y=0,ae=this._rings.length;A<ae;A++)for(Ke=this._rings[A],V=0,Ee=Ke.length;V<Ee-1;V++)Fe=Ph(Ke[V],Ke[V+1],m,V,!0),Fe&&(E[Y]=E[Y]||[],E[Y].push(Fe[0]),(Fe[1]!==Ke[V+1]||V===Ee-2)&&(E[Y].push(Fe[1]),Y++))}},_simplifyPoints:function(){for(var m=this._parts,E=this.options.smoothFactor,A=0,V=m.length;A<V;A++)m[A]=Us(m[A],E)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(m,E){var A,V,Y,ae,Ee,Fe,Ke=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(m))return!1;for(A=0,ae=this._parts.length;A<ae;A++)for(Fe=this._parts[A],V=0,Ee=Fe.length,Y=Ee-1;V<Ee;Y=V++)if(!(!E&&V===0)&&$o(m,Fe[Y],Fe[V])<=Ke)return!0;return!1}});function E1(m,E){return new dl(m,E)}dl._flat=dm;var $u=dl.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return bd(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(m){var E=dl.prototype._convertLatLngs.call(this,m),A=E.length;return A>=2&&E[0]instanceof ue&&E[0].equals(E[A-1])&&E.pop(),E},_setLatLngs:function(m){dl.prototype._setLatLngs.call(this,m),_s(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return _s(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var m=this._renderer._bounds,E=this.options.weight,A=new U(E,E);if(m=new oe(m.min.subtract(A),m.max.add(A)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(m))){if(this.options.noClip){this._parts=this._rings;return}for(var V=0,Y=this._rings.length,ae;V<Y;V++)ae=Tr(this._rings[V],m,!0),ae.length&&this._parts.push(ae)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(m){var E=!1,A,V,Y,ae,Ee,Fe,Ke,st;if(!this._pxBounds||!this._pxBounds.contains(m))return!1;for(ae=0,Ke=this._parts.length;ae<Ke;ae++)for(A=this._parts[ae],Ee=0,st=A.length,Fe=st-1;Ee<st;Fe=Ee++)V=A[Ee],Y=A[Fe],V.y>m.y!=Y.y>m.y&&m.x<(Y.x-V.x)*(m.y-V.y)/(Y.y-V.y)+V.x&&(E=!E);return E||dl.prototype._containsPoint.call(this,m,!0)}});function $(m,E){return new $u(m,E)}var j=Ws.extend({initialize:function(m,E){y(this,E),this._layers={},m&&this.addData(m)},addData:function(m){var E=k(m)?m:m.features,A,V,Y;if(E){for(A=0,V=E.length;A<V;A++)Y=E[A],(Y.geometries||Y.geometry||Y.features||Y.coordinates)&&this.addData(Y);return this}var ae=this.options;if(ae.filter&&!ae.filter(m))return this;var Ee=Z(m,ae);return Ee?(Ee.feature=Ze(m),Ee.defaultOptions=Ee.options,this.resetStyle(Ee),ae.onEachFeature&&ae.onEachFeature(m,Ee),this.addLayer(Ee)):this},resetStyle:function(m){return m===void 0?this.eachLayer(this.resetStyle,this):(m.options=i({},m.defaultOptions),this._setLayerStyle(m,this.options.style),this)},setStyle:function(m){return this.eachLayer(function(E){this._setLayerStyle(E,m)},this)},_setLayerStyle:function(m,E){m.setStyle&&(typeof E=="function"&&(E=E(m.feature)),m.setStyle(E))}});function Z(m,E){var A=m.type==="Feature"?m.geometry:m,V=A?A.coordinates:null,Y=[],ae=E&&E.pointToLayer,Ee=E&&E.coordsToLatLng||ie,Fe,Ke,st,Mt;if(!V&&!A)return null;switch(A.type){case"Point":return Fe=Ee(V),te(ae,m,Fe,E);case"MultiPoint":for(st=0,Mt=V.length;st<Mt;st++)Fe=Ee(V[st]),Y.push(te(ae,m,Fe,E));return new Ws(Y);case"LineString":case"MultiLineString":return Ke=pe(V,A.type==="LineString"?0:1,Ee),new dl(Ke,E);case"Polygon":case"MultiPolygon":return Ke=pe(V,A.type==="Polygon"?1:2,Ee),new $u(Ke,E);case"GeometryCollection":for(st=0,Mt=A.geometries.length;st<Mt;st++){var Pn=Z({geometry:A.geometries[st],type:"Feature",properties:m.properties},E);Pn&&Y.push(Pn)}return new Ws(Y);case"FeatureCollection":for(st=0,Mt=A.features.length;st<Mt;st++){var pr=Z(A.features[st],E);pr&&Y.push(pr)}return new Ws(Y);default:throw new Error("Invalid GeoJSON object.")}}function te(m,E,A,V){return m?m(E,A):new Vl(A,V&&V.markersInheritOptions&&V)}function ie(m){return new ue(m[1],m[0],m[2])}function pe(m,E,A){for(var V=[],Y=0,ae=m.length,Ee;Y<ae;Y++)Ee=E?pe(m[Y],E-1,A):(A||ie)(m[Y]),V.push(Ee);return V}function xe(m,E){return m=ce(m),m.alt!==void 0?[p(m.lng,E),p(m.lat,E),p(m.alt,E)]:[p(m.lng,E),p(m.lat,E)]}function Le(m,E,A,V){for(var Y=[],ae=0,Ee=m.length;ae<Ee;ae++)Y.push(E?Le(m[ae],_s(m[ae])?0:E-1,A,V):xe(m[ae],V));return!E&&A&&Y.length>0&&Y.push(Y[0].slice()),Y}function je(m,E){return m.feature?i({},m.feature,{geometry:E}):Ze(E)}function Ze(m){return m.type==="Feature"||m.type==="FeatureCollection"?m:{type:"Feature",properties:{},geometry:m}}var tt={toGeoJSON:function(m){return je(this,{type:"Point",coordinates:xe(this.getLatLng(),m)})}};Vl.include(tt),kf.include(tt),Ma.include(tt),dl.include({toGeoJSON:function(m){var E=!_s(this._latlngs),A=Le(this._latlngs,E?1:0,!1,m);return je(this,{type:(E?"Multi":"")+"LineString",coordinates:A})}}),$u.include({toGeoJSON:function(m){var E=!_s(this._latlngs),A=E&&!_s(this._latlngs[0]),V=Le(this._latlngs,A?2:E?1:0,!0,m);return E||(V=[V]),je(this,{type:(A?"Multi":"")+"Polygon",coordinates:V})}}),Ta.include({toMultiPoint:function(m){var E=[];return this.eachLayer(function(A){E.push(A.toGeoJSON(m).geometry.coordinates)}),je(this,{type:"MultiPoint",coordinates:E})},toGeoJSON:function(m){var E=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(E==="MultiPoint")return this.toMultiPoint(m);var A=E==="GeometryCollection",V=[];return this.eachLayer(function(Y){if(Y.toGeoJSON){var ae=Y.toGeoJSON(m);if(A)V.push(ae.geometry);else{var Ee=Ze(ae);Ee.type==="FeatureCollection"?V.push.apply(V,Ee.features):V.push(Ee)}}}),A?je(this,{geometries:V,type:"GeometryCollection"}):{type:"FeatureCollection",features:V}}});function xt(m,E){return new j(m,E)}var At=xt,yn=$a.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(m,E,A){this._url=m,this._bounds=re(E),y(this,A)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(en(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){$r(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(m){return this.options.opacity=m,this._image&&this._updateOpacity(),this},setStyle:function(m){return m.opacity&&this.setOpacity(m.opacity),this},bringToFront:function(){return this._map&&ao(this._image),this},bringToBack:function(){return this._map&&ia(this._image),this},setUrl:function(m){return this._url=m,this._image&&(this._image.src=m),this},setBounds:function(m){return this._bounds=re(m),this._map&&this._reset(),this},getEvents:function(){var m={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(m.zoomanim=this._animateZoom),m},setZIndex:function(m){return this.options.zIndex=m,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var m=this._url.tagName==="IMG",E=this._image=m?this._url:Nt("img");if(en(E,"leaflet-image-layer"),this._zoomAnimated&&en(E,"leaflet-zoom-animated"),this.options.className&&en(E,this.options.className),E.onselectstart=f,E.onmousemove=f,E.onload=s(this.fire,this,"load"),E.onerror=s(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(E.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),m){this._url=E.src;return}E.src=this._url,E.alt=this.options.alt},_animateZoom:function(m){var E=this._map.getZoomScale(m.zoom),A=this._map._latLngBoundsToNewLayerBounds(this._bounds,m.zoom,m.center).min;xu(this._image,A,E)},_reset:function(){var m=this._image,E=new oe(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),A=E.getSize();qi(m,E.min),m.style.width=A.x+"px",m.style.height=A.y+"px"},_updateOpacity:function(){ko(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var m=this.options.errorOverlayUrl;m&&this._url!==m&&(this._url=m,this._image.src=m)},getCenter:function(){return this._bounds.getCenter()}}),Nn=function(m,E,A){return new yn(m,E,A)},kn=yn.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var m=this._url.tagName==="VIDEO",E=this._image=m?this._url:Nt("video");if(en(E,"leaflet-image-layer"),this._zoomAnimated&&en(E,"leaflet-zoom-animated"),this.options.className&&en(E,this.options.className),E.onselectstart=f,E.onmousemove=f,E.onloadeddata=s(this.fire,this,"load"),m){for(var A=E.getElementsByTagName("source"),V=[],Y=0;Y<A.length;Y++)V.push(A[Y].src);this._url=A.length>0?V:[E.src];return}k(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(E.style,"objectFit")&&(E.style.objectFit="fill"),E.autoplay=!!this.options.autoplay,E.loop=!!this.options.loop,E.muted=!!this.options.muted,E.playsInline=!!this.options.playsInline;for(var ae=0;ae<this._url.length;ae++){var Ee=Nt("source");Ee.src=this._url[ae],E.appendChild(Ee)}}});function Jr(m,E,A){return new kn(m,E,A)}var ii=yn.extend({_initImage:function(){var m=this._image=this._url;en(m,"leaflet-image-layer"),this._zoomAnimated&&en(m,"leaflet-zoom-animated"),this.options.className&&en(m,this.options.className),m.onselectstart=f,m.onmousemove=f}});function Pf(m,E,A){return new ii(m,E,A)}var fl=$a.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(m,E){m&&(m instanceof ue||k(m))?(this._latlng=ce(m),y(this,E)):(y(this,m),this._source=E),this.options.content&&(this._content=this.options.content)},openOn:function(m){return m=arguments.length?m:this._source._map,m.hasLayer(this)||m.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(m){return this._map?this.close():(arguments.length?this._source=m:m=this._source,this._prepareOpen(),this.openOn(m._map)),this},onAdd:function(m){this._zoomAnimated=m._zoomAnimated,this._container||this._initLayout(),m._fadeAnimated&&ko(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),m._fadeAnimated&&ko(this._container,1),this.bringToFront(),this.options.interactive&&(en(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(m){m._fadeAnimated?(ko(this._container,0),this._removeTimeout=setTimeout(s($r,void 0,this._container),200)):$r(this._container),this.options.interactive&&(fi(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(m){return this._latlng=ce(m),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(m){return this._content=m,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var m={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(m.zoomanim=this._animateZoom),m},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&ao(this._container),this},bringToBack:function(){return this._map&&ia(this._container),this},_prepareOpen:function(m){var E=this._source;if(!E._map)return!1;if(E instanceof Ws){E=null;var A=this._source._layers;for(var V in A)if(A[V]._map){E=A[V];break}if(!E)return!1;this._source=E}if(!m)if(E.getCenter)m=E.getCenter();else if(E.getLatLng)m=E.getLatLng();else if(E.getBounds)m=E.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(m),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var m=this._contentNode,E=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof E=="string")m.innerHTML=E;else{for(;m.hasChildNodes();)m.removeChild(m.firstChild);m.appendChild(E)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var m=this._map.latLngToLayerPoint(this._latlng),E=J(this.options.offset),A=this._getAnchor();this._zoomAnimated?qi(this._container,m.add(A)):E=E.add(m).add(A);var V=this._containerBottom=-E.y,Y=this._containerLeft=-Math.round(this._containerWidth/2)+E.x;this._container.style.bottom=V+"px",this._container.style.left=Y+"px"}},_getAnchor:function(){return[0,0]}});zt.include({_initOverlay:function(m,E,A,V){var Y=E;return Y instanceof m||(Y=new m(V).setContent(E)),A&&Y.setLatLng(A),Y}}),$a.include({_initOverlay:function(m,E,A,V){var Y=A;return Y instanceof m?(y(Y,V),Y._source=this):(Y=E&&!V?E:new m(V,this),Y.setContent(A)),Y}});var Th=fl.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(m){return m=arguments.length?m:this._source._map,!m.hasLayer(this)&&m._popup&&m._popup.options.autoClose&&m.removeLayer(m._popup),m._popup=this,fl.prototype.openOn.call(this,m)},onAdd:function(m){fl.prototype.onAdd.call(this,m),m.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Pu||this._source.on("preclick",al))},onRemove:function(m){fl.prototype.onRemove.call(this,m),m.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Pu||this._source.off("preclick",al))},getEvents:function(){var m=fl.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(m.preclick=this.close),this.options.keepInView&&(m.moveend=this._adjustPan),m},_initLayout:function(){var m="leaflet-popup",E=this._container=Nt("div",m+" "+(this.options.className||"")+" leaflet-zoom-animated"),A=this._wrapper=Nt("div",m+"-content-wrapper",E);if(this._contentNode=Nt("div",m+"-content",A),zl(E),yd(this._contentNode),fn(E,"contextmenu",al),this._tipContainer=Nt("div",m+"-tip-container",E),this._tip=Nt("div",m+"-tip",this._tipContainer),this.options.closeButton){var V=this._closeButton=Nt("a",m+"-close-button",E);V.setAttribute("role","button"),V.setAttribute("aria-label","Close popup"),V.href="#close",V.innerHTML='<span aria-hidden="true">&#215;</span>',fn(V,"click",function(Y){Bi(Y),this.close()},this)}},_updateLayout:function(){var m=this._contentNode,E=m.style;E.width="",E.whiteSpace="nowrap";var A=m.offsetWidth;A=Math.min(A,this.options.maxWidth),A=Math.max(A,this.options.minWidth),E.width=A+1+"px",E.whiteSpace="",E.height="";var V=m.offsetHeight,Y=this.options.maxHeight,ae="leaflet-popup-scrolled";Y&&V>Y?(E.height=Y+"px",en(m,ae)):fi(m,ae),this._containerWidth=this._container.offsetWidth},_animateZoom:function(m){var E=this._map._latLngToNewLayerPoint(this._latlng,m.zoom,m.center),A=this._getAnchor();qi(this._container,E.add(A))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var m=this._map,E=parseInt(br(this._container,"marginBottom"),10)||0,A=this._container.offsetHeight+E,V=this._containerWidth,Y=new U(this._containerLeft,-A-this._containerBottom);Y._add(yc(this._container));var ae=m.layerPointToContainerPoint(Y),Ee=J(this.options.autoPanPadding),Fe=J(this.options.autoPanPaddingTopLeft||Ee),Ke=J(this.options.autoPanPaddingBottomRight||Ee),st=m.getSize(),Mt=0,Pn=0;ae.x+V+Ke.x>st.x&&(Mt=ae.x+V-st.x+Ke.x),ae.x-Mt-Fe.x<0&&(Mt=ae.x-Fe.x),ae.y+A+Ke.y>st.y&&(Pn=ae.y+A-st.y+Ke.y),ae.y-Pn-Fe.y<0&&(Pn=ae.y-Fe.y),(Mt||Pn)&&(this.options.keepInView&&(this._autopanning=!0),m.fire("autopanstart").panBy([Mt,Pn]))}},_getAnchor:function(){return J(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),$j=function(m,E){return new Th(m,E)};zt.mergeOptions({closePopupOnClick:!0}),zt.include({openPopup:function(m,E,A){return this._initOverlay(Th,m,E,A).openOn(this),this},closePopup:function(m){return m=arguments.length?m:this._popup,m&&m.close(),this}}),$a.include({bindPopup:function(m,E){return this._popup=this._initOverlay(Th,this._popup,m,E),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(m){return this._popup&&(this instanceof Ws||(this._popup._source=this),this._popup._prepareOpen(m||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(m){return this._popup&&this._popup.setContent(m),this},getPopup:function(){return this._popup},_openPopup:function(m){if(!(!this._popup||!this._map)){Qr(m);var E=m.layer||m.target;if(this._popup._source===E&&!(E instanceof Pu)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(m.latlng);return}this._popup._source=E,this.openPopup(m.latlng)}},_movePopup:function(m){this._popup.setLatLng(m.latlng)},_onKeyPress:function(m){m.originalEvent.keyCode===13&&this._openPopup(m)}});var ls=fl.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(m){fl.prototype.onAdd.call(this,m),this.setOpacity(this.options.opacity),m.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(m){fl.prototype.onRemove.call(this,m),m.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var m=fl.prototype.getEvents.call(this);return this.options.permanent||(m.preclick=this.close),m},_initLayout:function(){var m="leaflet-tooltip",E=m+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Nt("div",E),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+l(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(m){var E,A,V=this._map,Y=this._container,ae=V.latLngToContainerPoint(V.getCenter()),Ee=V.layerPointToContainerPoint(m),Fe=this.options.direction,Ke=Y.offsetWidth,st=Y.offsetHeight,Mt=J(this.options.offset),Pn=this._getAnchor();Fe==="top"?(E=Ke/2,A=st):Fe==="bottom"?(E=Ke/2,A=0):Fe==="center"?(E=Ke/2,A=st/2):Fe==="right"?(E=0,A=st/2):Fe==="left"?(E=Ke,A=st/2):Ee.x<ae.x?(Fe="right",E=0,A=st/2):(Fe="left",E=Ke+(Mt.x+Pn.x)*2,A=st/2),m=m.subtract(J(E,A,!0)).add(Mt).add(Pn),fi(Y,"leaflet-tooltip-right"),fi(Y,"leaflet-tooltip-left"),fi(Y,"leaflet-tooltip-top"),fi(Y,"leaflet-tooltip-bottom"),en(Y,"leaflet-tooltip-"+Fe),qi(Y,m)},_updatePosition:function(){var m=this._map.latLngToLayerPoint(this._latlng);this._setPosition(m)},setOpacity:function(m){this.options.opacity=m,this._container&&ko(this._container,m)},_animateZoom:function(m){var E=this._map._latLngToNewLayerPoint(this._latlng,m.zoom,m.center);this._setPosition(E)},_getAnchor:function(){return J(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),W3=function(m,E){return new ls(m,E)};zt.include({openTooltip:function(m,E,A){return this._initOverlay(ls,m,E,A).openOn(this),this},closeTooltip:function(m){return m.close(),this}}),$a.include({bindTooltip:function(m,E){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(ls,this._tooltip,m,E),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(m){if(!(!m&&this._tooltipHandlersAdded)){var E=m?"off":"on",A={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?A.add=this._openTooltip:(A.mouseover=this._openTooltip,A.mouseout=this.closeTooltip,A.click=this._openTooltip,this._map?this._addFocusListeners():A.add=this._addFocusListeners),this._tooltip.options.sticky&&(A.mousemove=this._moveTooltip),this[E](A),this._tooltipHandlersAdded=!m}},openTooltip:function(m){return this._tooltip&&(this instanceof Ws||(this._tooltip._source=this),this._tooltip._prepareOpen(m)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(m){return this._tooltip&&this._tooltip.setContent(m),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(m){var E=typeof m.getElement=="function"&&m.getElement();E&&(fn(E,"focus",function(){this._tooltip._source=m,this.openTooltip()},this),fn(E,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(m){var E=typeof m.getElement=="function"&&m.getElement();E&&E.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(m){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var E=this;this._map.once("moveend",function(){E._openOnceFlag=!1,E._openTooltip(m)});return}this._tooltip._source=m.layer||m.target,this.openTooltip(this._tooltip.options.sticky?m.latlng:void 0)}},_moveTooltip:function(m){var E=m.latlng,A,V;this._tooltip.options.sticky&&m.originalEvent&&(A=this._map.mouseEventToContainerPoint(m.originalEvent),V=this._map.containerPointToLayerPoint(A),E=this._map.layerPointToLatLng(V)),this._tooltip.setLatLng(E)}});var Ux=uo.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(m){var E=m&&m.tagName==="DIV"?m:document.createElement("div"),A=this.options;if(A.html instanceof Element?(so(E),E.appendChild(A.html)):E.innerHTML=A.html!==!1?A.html:"",A.bgPos){var V=J(A.bgPos);E.style.backgroundPosition=-V.x+"px "+-V.y+"px"}return this._setIconStyles(E,"icon"),E},createShadow:function(){return null}});function K3(m){return new Ux(m)}uo.Default=xc;var hl=$a.extend({options:{tileSize:256,opacity:1,updateWhenIdle:mt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(m){y(this,m)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(m){m._addZoomLimit(this)},onRemove:function(m){this._removeAllTiles(),$r(this._container),m._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(ao(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ia(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(m){return this.options.opacity=m,this._updateOpacity(),this},setZIndex:function(m){return this.options.zIndex=m,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var m=this._clampZoom(this._map.getZoom());m!==this._tileZoom&&(this._tileZoom=m,this._updateLevels()),this._update()}return this},getEvents:function(){var m={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=u(this._onMoveEnd,this.options.updateInterval,this)),m.move=this._onMove),this._zoomAnimated&&(m.zoomanim=this._animateZoom),m},createTile:function(){return document.createElement("div")},getTileSize:function(){var m=this.options.tileSize;return m instanceof U?m:new U(m,m)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(m){for(var E=this.getPane().children,A=-m(-1/0,1/0),V=0,Y=E.length,ae;V<Y;V++)ae=E[V].style.zIndex,E[V]!==this._container&&ae&&(A=m(A,+ae));isFinite(A)&&(this.options.zIndex=A+m(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!mt.ielt9){ko(this._container,this.options.opacity);var m=+new Date,E=!1,A=!1;for(var V in this._tiles){var Y=this._tiles[V];if(!(!Y.current||!Y.loaded)){var ae=Math.min(1,(m-Y.loaded)/200);ko(Y.el,ae),ae<1?E=!0:(Y.active?A=!0:this._onOpaqueTile(Y),Y.active=!0)}}A&&!this._noPrune&&this._pruneTiles(),E&&(G(this._fadeFrame),this._fadeFrame=z(this._updateOpacity,this))}},_onOpaqueTile:f,_initContainer:function(){this._container||(this._container=Nt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var m=this._tileZoom,E=this.options.maxZoom;if(m!==void 0){for(var A in this._levels)A=Number(A),this._levels[A].el.children.length||A===m?(this._levels[A].el.style.zIndex=E-Math.abs(m-A),this._onUpdateLevel(A)):($r(this._levels[A].el),this._removeTilesAtZoom(A),this._onRemoveLevel(A),delete this._levels[A]);var V=this._levels[m],Y=this._map;return V||(V=this._levels[m]={},V.el=Nt("div","leaflet-tile-container leaflet-zoom-animated",this._container),V.el.style.zIndex=E,V.origin=Y.project(Y.unproject(Y.getPixelOrigin()),m).round(),V.zoom=m,this._setZoomTransform(V,Y.getCenter(),Y.getZoom()),f(V.el.offsetWidth),this._onCreateLevel(V)),this._level=V,V}},_onUpdateLevel:f,_onRemoveLevel:f,_onCreateLevel:f,_pruneTiles:function(){if(this._map){var m,E,A=this._map.getZoom();if(A>this.options.maxZoom||A<this.options.minZoom){this._removeAllTiles();return}for(m in this._tiles)E=this._tiles[m],E.retain=E.current;for(m in this._tiles)if(E=this._tiles[m],E.current&&!E.active){var V=E.coords;this._retainParent(V.x,V.y,V.z,V.z-5)||this._retainChildren(V.x,V.y,V.z,V.z+2)}for(m in this._tiles)this._tiles[m].retain||this._removeTile(m)}},_removeTilesAtZoom:function(m){for(var E in this._tiles)this._tiles[E].coords.z===m&&this._removeTile(E)},_removeAllTiles:function(){for(var m in this._tiles)this._removeTile(m)},_invalidateAll:function(){for(var m in this._levels)$r(this._levels[m].el),this._onRemoveLevel(Number(m)),delete this._levels[m];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(m,E,A,V){var Y=Math.floor(m/2),ae=Math.floor(E/2),Ee=A-1,Fe=new U(+Y,+ae);Fe.z=+Ee;var Ke=this._tileCoordsToKey(Fe),st=this._tiles[Ke];return st&&st.active?(st.retain=!0,!0):(st&&st.loaded&&(st.retain=!0),Ee>V?this._retainParent(Y,ae,Ee,V):!1)},_retainChildren:function(m,E,A,V){for(var Y=2*m;Y<2*m+2;Y++)for(var ae=2*E;ae<2*E+2;ae++){var Ee=new U(Y,ae);Ee.z=A+1;var Fe=this._tileCoordsToKey(Ee),Ke=this._tiles[Fe];if(Ke&&Ke.active){Ke.retain=!0;continue}else Ke&&Ke.loaded&&(Ke.retain=!0);A+1<V&&this._retainChildren(Y,ae,A+1,V)}},_resetView:function(m){var E=m&&(m.pinch||m.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),E,E)},_animateZoom:function(m){this._setView(m.center,m.zoom,!0,m.noUpdate)},_clampZoom:function(m){var E=this.options;return E.minNativeZoom!==void 0&&m<E.minNativeZoom?E.minNativeZoom:E.maxNativeZoom!==void 0&&E.maxNativeZoom<m?E.maxNativeZoom:m},_setView:function(m,E,A,V){var Y=Math.round(E);this.options.maxZoom!==void 0&&Y>this.options.maxZoom||this.options.minZoom!==void 0&&Y<this.options.minZoom?Y=void 0:Y=this._clampZoom(Y);var ae=this.options.updateWhenZooming&&Y!==this._tileZoom;(!V||ae)&&(this._tileZoom=Y,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),Y!==void 0&&this._update(m),A||this._pruneTiles(),this._noPrune=!!A),this._setZoomTransforms(m,E)},_setZoomTransforms:function(m,E){for(var A in this._levels)this._setZoomTransform(this._levels[A],m,E)},_setZoomTransform:function(m,E,A){var V=this._map.getZoomScale(A,m.zoom),Y=m.origin.multiplyBy(V).subtract(this._map._getNewPixelOrigin(E,A)).round();mt.any3d?xu(m.el,Y,V):qi(m.el,Y)},_resetGrid:function(){var m=this._map,E=m.options.crs,A=this._tileSize=this.getTileSize(),V=this._tileZoom,Y=this._map.getPixelWorldBounds(this._tileZoom);Y&&(this._globalTileRange=this._pxBoundsToTileRange(Y)),this._wrapX=E.wrapLng&&!this.options.noWrap&&[Math.floor(m.project([0,E.wrapLng[0]],V).x/A.x),Math.ceil(m.project([0,E.wrapLng[1]],V).x/A.y)],this._wrapY=E.wrapLat&&!this.options.noWrap&&[Math.floor(m.project([E.wrapLat[0],0],V).y/A.x),Math.ceil(m.project([E.wrapLat[1],0],V).y/A.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(m){var E=this._map,A=E._animatingZoom?Math.max(E._animateToZoom,E.getZoom()):E.getZoom(),V=E.getZoomScale(A,this._tileZoom),Y=E.project(m,this._tileZoom).floor(),ae=E.getSize().divideBy(V*2);return new oe(Y.subtract(ae),Y.add(ae))},_update:function(m){var E=this._map;if(E){var A=this._clampZoom(E.getZoom());if(m===void 0&&(m=E.getCenter()),this._tileZoom!==void 0){var V=this._getTiledPixelBounds(m),Y=this._pxBoundsToTileRange(V),ae=Y.getCenter(),Ee=[],Fe=this.options.keepBuffer,Ke=new oe(Y.getBottomLeft().subtract([Fe,-Fe]),Y.getTopRight().add([Fe,-Fe]));if(!(isFinite(Y.min.x)&&isFinite(Y.min.y)&&isFinite(Y.max.x)&&isFinite(Y.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var st in this._tiles){var Mt=this._tiles[st].coords;(Mt.z!==this._tileZoom||!Ke.contains(new U(Mt.x,Mt.y)))&&(this._tiles[st].current=!1)}if(Math.abs(A-this._tileZoom)>1){this._setView(m,A);return}for(var Pn=Y.min.y;Pn<=Y.max.y;Pn++)for(var pr=Y.min.x;pr<=Y.max.x;pr++){var Hi=new U(pr,Pn);if(Hi.z=this._tileZoom,!!this._isValidTile(Hi)){var Xo=this._tiles[this._tileCoordsToKey(Hi)];Xo?Xo.current=!0:Ee.push(Hi)}}if(Ee.sort(function(Aa,hm){return Aa.distanceTo(ae)-hm.distanceTo(ae)}),Ee.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var La=document.createDocumentFragment();for(pr=0;pr<Ee.length;pr++)this._addTile(Ee[pr],La);this._level.el.appendChild(La)}}}},_isValidTile:function(m){var E=this._map.options.crs;if(!E.infinite){var A=this._globalTileRange;if(!E.wrapLng&&(m.x<A.min.x||m.x>A.max.x)||!E.wrapLat&&(m.y<A.min.y||m.y>A.max.y))return!1}if(!this.options.bounds)return!0;var V=this._tileCoordsToBounds(m);return re(this.options.bounds).overlaps(V)},_keyToBounds:function(m){return this._tileCoordsToBounds(this._keyToTileCoords(m))},_tileCoordsToNwSe:function(m){var E=this._map,A=this.getTileSize(),V=m.scaleBy(A),Y=V.add(A),ae=E.unproject(V,m.z),Ee=E.unproject(Y,m.z);return[ae,Ee]},_tileCoordsToBounds:function(m){var E=this._tileCoordsToNwSe(m),A=new me(E[0],E[1]);return this.options.noWrap||(A=this._map.wrapLatLngBounds(A)),A},_tileCoordsToKey:function(m){return m.x+":"+m.y+":"+m.z},_keyToTileCoords:function(m){var E=m.split(":"),A=new U(+E[0],+E[1]);return A.z=+E[2],A},_removeTile:function(m){var E=this._tiles[m];E&&($r(E.el),delete this._tiles[m],this.fire("tileunload",{tile:E.el,coords:this._keyToTileCoords(m)}))},_initTile:function(m){en(m,"leaflet-tile");var E=this.getTileSize();m.style.width=E.x+"px",m.style.height=E.y+"px",m.onselectstart=f,m.onmousemove=f,mt.ielt9&&this.options.opacity<1&&ko(m,this.options.opacity)},_addTile:function(m,E){var A=this._getTilePos(m),V=this._tileCoordsToKey(m),Y=this.createTile(this._wrapCoords(m),s(this._tileReady,this,m));this._initTile(Y),this.createTile.length<2&&z(s(this._tileReady,this,m,null,Y)),qi(Y,A),this._tiles[V]={el:Y,coords:m,current:!0},E.appendChild(Y),this.fire("tileloadstart",{tile:Y,coords:m})},_tileReady:function(m,E,A){E&&this.fire("tileerror",{error:E,tile:A,coords:m});var V=this._tileCoordsToKey(m);A=this._tiles[V],A&&(A.loaded=+new Date,this._map._fadeAnimated?(ko(A.el,0),G(this._fadeFrame),this._fadeFrame=z(this._updateOpacity,this)):(A.active=!0,this._pruneTiles()),E||(en(A.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:A.el,coords:m})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),mt.ielt9||!this._map._fadeAnimated?z(this._pruneTiles,this):setTimeout(s(this._pruneTiles,this),250)))},_getTilePos:function(m){return m.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(m){var E=new U(this._wrapX?c(m.x,this._wrapX):m.x,this._wrapY?c(m.y,this._wrapY):m.y);return E.z=m.z,E},_pxBoundsToTileRange:function(m){var E=this.getTileSize();return new oe(m.min.unscaleBy(E).floor(),m.max.unscaleBy(E).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var m in this._tiles)if(!this._tiles[m].loaded)return!1;return!0}});function Tu(m){return new hl(m)}var Sd=hl.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(m,E){this._url=m,E=y(this,E),E.detectRetina&&mt.retina&&E.maxZoom>0?(E.tileSize=Math.floor(E.tileSize/2),E.zoomReverse?(E.zoomOffset--,E.minZoom=Math.min(E.maxZoom,E.minZoom+1)):(E.zoomOffset++,E.maxZoom=Math.max(E.minZoom,E.maxZoom-1)),E.minZoom=Math.max(0,E.minZoom)):E.zoomReverse?E.minZoom=Math.min(E.maxZoom,E.minZoom):E.maxZoom=Math.max(E.minZoom,E.maxZoom),typeof E.subdomains=="string"&&(E.subdomains=E.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(m,E){return this._url===m&&E===void 0&&(E=!0),this._url=m,E||this.redraw(),this},createTile:function(m,E){var A=document.createElement("img");return fn(A,"load",s(this._tileOnLoad,this,E,A)),fn(A,"error",s(this._tileOnError,this,E,A)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(A.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(A.referrerPolicy=this.options.referrerPolicy),A.alt="",A.src=this.getTileUrl(m),A},getTileUrl:function(m){var E={r:mt.retina?"@2x":"",s:this._getSubdomain(m),x:m.x,y:m.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var A=this._globalTileRange.max.y-m.y;this.options.tms&&(E.y=A),E["-y"]=A}return _(this._url,i(E,this.options))},_tileOnLoad:function(m,E){mt.ielt9?setTimeout(s(m,this,null,E),0):m(null,E)},_tileOnError:function(m,E,A){var V=this.options.errorTileUrl;V&&E.getAttribute("src")!==V&&(E.src=V),m(A,E)},_onTileRemove:function(m){m.tile.onload=null},_getZoomForUrl:function(){var m=this._tileZoom,E=this.options.maxZoom,A=this.options.zoomReverse,V=this.options.zoomOffset;return A&&(m=E-m),m+V},_getSubdomain:function(m){var E=Math.abs(m.x+m.y)%this.options.subdomains.length;return this.options.subdomains[E]},_abortLoading:function(){var m,E;for(m in this._tiles)if(this._tiles[m].coords.z!==this._tileZoom&&(E=this._tiles[m].el,E.onload=f,E.onerror=f,!E.complete)){E.src=P;var A=this._tiles[m].coords;$r(E),delete this._tiles[m],this.fire("tileabort",{tile:E,coords:A})}},_removeTile:function(m){var E=this._tiles[m];if(E)return E.el.setAttribute("src",P),hl.prototype._removeTile.call(this,m)},_tileReady:function(m,E,A){if(!(!this._map||A&&A.getAttribute("src")===P))return hl.prototype._tileReady.call(this,m,E,A)}});function Wx(m,E){return new Sd(m,E)}var Kx=Sd.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(m,E){this._url=m;var A=i({},this.defaultWmsParams);for(var V in E)V in this.options||(A[V]=E[V]);E=y(this,E);var Y=E.detectRetina&&mt.retina?2:1,ae=this.getTileSize();A.width=ae.x*Y,A.height=ae.y*Y,this.wmsParams=A},onAdd:function(m){this._crs=this.options.crs||m.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var E=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[E]=this._crs.code,Sd.prototype.onAdd.call(this,m)},getTileUrl:function(m){var E=this._tileCoordsToNwSe(m),A=this._crs,V=he(A.project(E[0]),A.project(E[1])),Y=V.min,ae=V.max,Ee=(this._wmsVersion>=1.3&&this._crs===zi?[Y.y,Y.x,ae.y,ae.x]:[Y.x,Y.y,ae.x,ae.y]).join(","),Fe=Sd.prototype.getTileUrl.call(this,m);return Fe+S(this.wmsParams,Fe,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+Ee},setParams:function(m,E){return i(this.wmsParams,m),E||this.redraw(),this}});function q5(m,E){return new Kx(m,E)}Sd.WMS=Kx,Wx.wms=q5;var _d=$a.extend({options:{padding:.1},initialize:function(m){y(this,m),l(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),en(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var m={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(m.zoomanim=this._onAnimZoom),m},_onAnimZoom:function(m){this._updateTransform(m.center,m.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(m,E){var A=this._map.getZoomScale(E,this._zoom),V=this._map.getSize().multiplyBy(.5+this.options.padding),Y=this._map.project(this._center,E),ae=V.multiplyBy(-A).add(Y).subtract(this._map._getNewPixelOrigin(m,E));mt.any3d?xu(this._container,ae,A):qi(this._container,ae)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var m in this._layers)this._layers[m]._reset()},_onZoomEnd:function(){for(var m in this._layers)this._layers[m]._project()},_updatePaths:function(){for(var m in this._layers)this._layers[m]._update()},_update:function(){var m=this.options.padding,E=this._map.getSize(),A=this._map.containerPointToLayerPoint(E.multiplyBy(-m)).round();this._bounds=new oe(A,A.add(E.multiplyBy(1+m*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),q3=_d.extend({options:{tolerance:0},getEvents:function(){var m=_d.prototype.getEvents.call(this);return m.viewprereset=this._onViewPreReset,m},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){_d.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var m=this._container=document.createElement("canvas");fn(m,"mousemove",this._onMouseMove,this),fn(m,"click dblclick mousedown mouseup contextmenu",this._onClick,this),fn(m,"mouseout",this._handleMouseOut,this),m._leaflet_disable_events=!0,this._ctx=m.getContext("2d")},_destroyContainer:function(){G(this._redrawRequest),delete this._ctx,$r(this._container),rr(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var m;this._redrawBounds=null;for(var E in this._layers)m=this._layers[E],m._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){_d.prototype._update.call(this);var m=this._bounds,E=this._container,A=m.getSize(),V=mt.retina?2:1;qi(E,m.min),E.width=V*A.x,E.height=V*A.y,E.style.width=A.x+"px",E.style.height=A.y+"px",mt.retina&&this._ctx.scale(2,2),this._ctx.translate(-m.min.x,-m.min.y),this.fire("update")}},_reset:function(){_d.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(m){this._updateDashArray(m),this._layers[l(m)]=m;var E=m._order={layer:m,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=E),this._drawLast=E,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(m){this._requestRedraw(m)},_removePath:function(m){var E=m._order,A=E.next,V=E.prev;A?A.prev=V:this._drawLast=V,V?V.next=A:this._drawFirst=A,delete m._order,delete this._layers[l(m)],this._requestRedraw(m)},_updatePath:function(m){this._extendRedrawBounds(m),m._project(),m._update(),this._requestRedraw(m)},_updateStyle:function(m){this._updateDashArray(m),this._requestRedraw(m)},_updateDashArray:function(m){if(typeof m.options.dashArray=="string"){var E=m.options.dashArray.split(/[, ]+/),A=[],V,Y;for(Y=0;Y<E.length;Y++){if(V=Number(E[Y]),isNaN(V))return;A.push(V)}m.options._dashArray=A}else m.options._dashArray=m.options.dashArray},_requestRedraw:function(m){this._map&&(this._extendRedrawBounds(m),this._redrawRequest=this._redrawRequest||z(this._redraw,this))},_extendRedrawBounds:function(m){if(m._pxBounds){var E=(m.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new oe,this._redrawBounds.extend(m._pxBounds.min.subtract([E,E])),this._redrawBounds.extend(m._pxBounds.max.add([E,E]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var m=this._redrawBounds;if(m){var E=m.getSize();this._ctx.clearRect(m.min.x,m.min.y,E.x,E.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var m,E=this._redrawBounds;if(this._ctx.save(),E){var A=E.getSize();this._ctx.beginPath(),this._ctx.rect(E.min.x,E.min.y,A.x,A.y),this._ctx.clip()}this._drawing=!0;for(var V=this._drawFirst;V;V=V.next)m=V.layer,(!E||m._pxBounds&&m._pxBounds.intersects(E))&&m._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(m,E){if(this._drawing){var A,V,Y,ae,Ee=m._parts,Fe=Ee.length,Ke=this._ctx;if(Fe){for(Ke.beginPath(),A=0;A<Fe;A++){for(V=0,Y=Ee[A].length;V<Y;V++)ae=Ee[A][V],Ke[V?"lineTo":"moveTo"](ae.x,ae.y);E&&Ke.closePath()}this._fillStroke(Ke,m)}}},_updateCircle:function(m){if(!(!this._drawing||m._empty())){var E=m._point,A=this._ctx,V=Math.max(Math.round(m._radius),1),Y=(Math.max(Math.round(m._radiusY),1)||V)/V;Y!==1&&(A.save(),A.scale(1,Y)),A.beginPath(),A.arc(E.x,E.y/Y,V,0,Math.PI*2,!1),Y!==1&&A.restore(),this._fillStroke(A,m)}},_fillStroke:function(m,E){var A=E.options;A.fill&&(m.globalAlpha=A.fillOpacity,m.fillStyle=A.fillColor||A.color,m.fill(A.fillRule||"evenodd")),A.stroke&&A.weight!==0&&(m.setLineDash&&m.setLineDash(E.options&&E.options._dashArray||[]),m.globalAlpha=A.opacity,m.lineWidth=A.weight,m.strokeStyle=A.color,m.lineCap=A.lineCap,m.lineJoin=A.lineJoin,m.stroke())},_onClick:function(m){for(var E=this._map.mouseEventToLayerPoint(m),A,V,Y=this._drawFirst;Y;Y=Y.next)A=Y.layer,A.options.interactive&&A._containsPoint(E)&&(!(m.type==="click"||m.type==="preclick")||!this._map._draggableMoved(A))&&(V=A);this._fireEvent(V?[V]:!1,m)},_onMouseMove:function(m){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var E=this._map.mouseEventToLayerPoint(m);this._handleMouseHover(m,E)}},_handleMouseOut:function(m){var E=this._hoveredLayer;E&&(fi(this._container,"leaflet-interactive"),this._fireEvent([E],m,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(m,E){if(!this._mouseHoverThrottled){for(var A,V,Y=this._drawFirst;Y;Y=Y.next)A=Y.layer,A.options.interactive&&A._containsPoint(E)&&(V=A);V!==this._hoveredLayer&&(this._handleMouseOut(m),V&&(en(this._container,"leaflet-interactive"),this._fireEvent([V],m,"mouseover"),this._hoveredLayer=V)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,m),this._mouseHoverThrottled=!0,setTimeout(s(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(m,E,A){this._map._fireDOMEvent(E,A||E.type,m)},_bringToFront:function(m){var E=m._order;if(E){var A=E.next,V=E.prev;if(A)A.prev=V;else return;V?V.next=A:A&&(this._drawFirst=A),E.prev=this._drawLast,this._drawLast.next=E,E.next=null,this._drawLast=E,this._requestRedraw(m)}},_bringToBack:function(m){var E=m._order;if(E){var A=E.next,V=E.prev;if(V)V.next=A;else return;A?A.prev=V:V&&(this._drawLast=V),E.prev=null,E.next=this._drawFirst,this._drawFirst.prev=E,this._drawFirst=E,this._requestRedraw(m)}}});function G3(m){return mt.canvas?new q3(m):null}var bv=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(m){return document.createElement("<lvml:"+m+' class="lvml">')}}catch{}return function(m){return document.createElement("<"+m+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),G5={_initContainer:function(){this._container=Nt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(_d.prototype._update.call(this),this.fire("update"))},_initPath:function(m){var E=m._container=bv("shape");en(E,"leaflet-vml-shape "+(this.options.className||"")),E.coordsize="1 1",m._path=bv("path"),E.appendChild(m._path),this._updateStyle(m),this._layers[l(m)]=m},_addPath:function(m){var E=m._container;this._container.appendChild(E),m.options.interactive&&m.addInteractiveTarget(E)},_removePath:function(m){var E=m._container;$r(E),m.removeInteractiveTarget(E),delete this._layers[l(m)]},_updateStyle:function(m){var E=m._stroke,A=m._fill,V=m.options,Y=m._container;Y.stroked=!!V.stroke,Y.filled=!!V.fill,V.stroke?(E||(E=m._stroke=bv("stroke")),Y.appendChild(E),E.weight=V.weight+"px",E.color=V.color,E.opacity=V.opacity,V.dashArray?E.dashStyle=k(V.dashArray)?V.dashArray.join(" "):V.dashArray.replace(/( *, *)/g," "):E.dashStyle="",E.endcap=V.lineCap.replace("butt","flat"),E.joinstyle=V.lineJoin):E&&(Y.removeChild(E),m._stroke=null),V.fill?(A||(A=m._fill=bv("fill")),Y.appendChild(A),A.color=V.fillColor||V.color,A.opacity=V.fillOpacity):A&&(Y.removeChild(A),m._fill=null)},_updateCircle:function(m){var E=m._point.round(),A=Math.round(m._radius),V=Math.round(m._radiusY||A);this._setPath(m,m._empty()?"M0 0":"AL "+E.x+","+E.y+" "+A+","+V+" 0,"+65535*360)},_setPath:function(m,E){m._path.v=E},_bringToFront:function(m){ao(m._container)},_bringToBack:function(m){ia(m._container)}},k1=mt.vml?bv:Ve,wv=_d.extend({_initContainer:function(){this._container=k1("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=k1("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){$r(this._container),rr(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){_d.prototype._update.call(this);var m=this._bounds,E=m.getSize(),A=this._container;(!this._svgSize||!this._svgSize.equals(E))&&(this._svgSize=E,A.setAttribute("width",E.x),A.setAttribute("height",E.y)),qi(A,m.min),A.setAttribute("viewBox",[m.min.x,m.min.y,E.x,E.y].join(" ")),this.fire("update")}},_initPath:function(m){var E=m._path=k1("path");m.options.className&&en(E,m.options.className),m.options.interactive&&en(E,"leaflet-interactive"),this._updateStyle(m),this._layers[l(m)]=m},_addPath:function(m){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(m._path),m.addInteractiveTarget(m._path)},_removePath:function(m){$r(m._path),m.removeInteractiveTarget(m._path),delete this._layers[l(m)]},_updatePath:function(m){m._project(),m._update()},_updateStyle:function(m){var E=m._path,A=m.options;E&&(A.stroke?(E.setAttribute("stroke",A.color),E.setAttribute("stroke-opacity",A.opacity),E.setAttribute("stroke-width",A.weight),E.setAttribute("stroke-linecap",A.lineCap),E.setAttribute("stroke-linejoin",A.lineJoin),A.dashArray?E.setAttribute("stroke-dasharray",A.dashArray):E.removeAttribute("stroke-dasharray"),A.dashOffset?E.setAttribute("stroke-dashoffset",A.dashOffset):E.removeAttribute("stroke-dashoffset")):E.setAttribute("stroke","none"),A.fill?(E.setAttribute("fill",A.fillColor||A.color),E.setAttribute("fill-opacity",A.fillOpacity),E.setAttribute("fill-rule",A.fillRule||"evenodd")):E.setAttribute("fill","none"))},_updatePoly:function(m,E){this._setPath(m,ot(m._parts,E))},_updateCircle:function(m){var E=m._point,A=Math.max(Math.round(m._radius),1),V=Math.max(Math.round(m._radiusY),1)||A,Y="a"+A+","+V+" 0 1,0 ",ae=m._empty()?"M0 0":"M"+(E.x-A)+","+E.y+Y+A*2+",0 "+Y+-A*2+",0 ";this._setPath(m,ae)},_setPath:function(m,E){m._path.setAttribute("d",E)},_bringToFront:function(m){ao(m._path)},_bringToBack:function(m){ia(m._path)}});mt.vml&&wv.include(G5);function xv(m){return mt.svg||mt.vml?new wv(m):null}zt.include({getRenderer:function(m){var E=m.options.renderer||this._getPaneRenderer(m.options.pane)||this.options.renderer||this._renderer;return E||(E=this._renderer=this._createRenderer()),this.hasLayer(E)||this.addLayer(E),E},_getPaneRenderer:function(m){if(m==="overlayPane"||m===void 0)return!1;var E=this._paneRenderers[m];return E===void 0&&(E=this._createRenderer({pane:m}),this._paneRenderers[m]=E),E},_createRenderer:function(m){return this.options.preferCanvas&&G3(m)||xv(m)}});var Z3=$u.extend({initialize:function(m,E){$u.prototype.initialize.call(this,this._boundsToLatLngs(m),E)},setBounds:function(m){return this.setLatLngs(this._boundsToLatLngs(m))},_boundsToLatLngs:function(m){return m=re(m),[m.getSouthWest(),m.getNorthWest(),m.getNorthEast(),m.getSouthEast()]}});function qx(m,E){return new Z3(m,E)}wv.create=k1,wv.pointsToPath=ot,j.geometryToLayer=Z,j.coordsToLatLng=ie,j.coordsToLatLngs=pe,j.latLngToCoords=xe,j.latLngsToCoords=Le,j.getFeature=je,j.asFeature=Ze,zt.mergeOptions({boxZoom:!0});var P1=ir.extend({initialize:function(m){this._map=m,this._container=m._container,this._pane=m._panes.overlayPane,this._resetStateTimeout=0,m.on("unload",this._destroy,this)},addHooks:function(){fn(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){rr(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){$r(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(m){if(!m.shiftKey||m.which!==1&&m.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Su(),jo(),this._startPoint=this._map.mouseEventToContainerPoint(m),fn(document,{contextmenu:Qr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(m){this._moved||(this._moved=!0,this._box=Nt("div","leaflet-zoom-box",this._container),en(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(m);var E=new oe(this._point,this._startPoint),A=E.getSize();qi(this._box,E.min),this._box.style.width=A.x+"px",this._box.style.height=A.y+"px"},_finish:function(){this._moved&&($r(this._box),fi(this._container,"leaflet-crosshair")),wr(),oa(),rr(document,{contextmenu:Qr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(m){if(!(m.which!==1&&m.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(s(this._resetState,this),0);var E=new me(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(E).fire("boxzoomend",{boxZoomBounds:E})}},_onKeyDown:function(m){m.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});zt.addInitHook("addHandler","boxZoom",P1),zt.mergeOptions({doubleClickZoom:!0});var Y3=ir.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(m){var E=this._map,A=E.getZoom(),V=E.options.zoomDelta,Y=m.originalEvent.shiftKey?A-V:A+V;E.options.doubleClickZoom==="center"?E.setZoom(Y):E.setZoomAround(m.containerPoint,Y)}});zt.addInitHook("addHandler","doubleClickZoom",Y3),zt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Gx=ir.extend({addHooks:function(){if(!this._draggable){var m=this._map;this._draggable=new Po(m._mapPane,m._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),m.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),m.on("zoomend",this._onZoomEnd,this),m.whenReady(this._onZoomEnd,this))}en(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){fi(this._map._container,"leaflet-grab"),fi(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var m=this._map;if(m._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var E=re(this._map.options.maxBounds);this._offsetLimit=he(this._map.latLngToContainerPoint(E.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(E.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;m.fire("movestart").fire("dragstart"),m.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(m){if(this._map.options.inertia){var E=this._lastTime=+new Date,A=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(A),this._times.push(E),this._prunePositions(E)}this._map.fire("move",m).fire("drag",m)},_prunePositions:function(m){for(;this._positions.length>1&&m-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var m=this._map.getSize().divideBy(2),E=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=E.subtract(m).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(m,E){return m-(m-E)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var m=this._draggable._newPos.subtract(this._draggable._startPos),E=this._offsetLimit;m.x<E.min.x&&(m.x=this._viscousLimit(m.x,E.min.x)),m.y<E.min.y&&(m.y=this._viscousLimit(m.y,E.min.y)),m.x>E.max.x&&(m.x=this._viscousLimit(m.x,E.max.x)),m.y>E.max.y&&(m.y=this._viscousLimit(m.y,E.max.y)),this._draggable._newPos=this._draggable._startPos.add(m)}},_onPreDragWrap:function(){var m=this._worldWidth,E=Math.round(m/2),A=this._initialWorldOffset,V=this._draggable._newPos.x,Y=(V-E+A)%m+E-A,ae=(V+E+A)%m-E-A,Ee=Math.abs(Y+A)<Math.abs(ae+A)?Y:ae;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=Ee},_onDragEnd:function(m){var E=this._map,A=E.options,V=!A.inertia||m.noInertia||this._times.length<2;if(E.fire("dragend",m),V)E.fire("moveend");else{this._prunePositions(+new Date);var Y=this._lastPos.subtract(this._positions[0]),ae=(this._lastTime-this._times[0])/1e3,Ee=A.easeLinearity,Fe=Y.multiplyBy(Ee/ae),Ke=Fe.distanceTo([0,0]),st=Math.min(A.inertiaMaxSpeed,Ke),Mt=Fe.multiplyBy(st/Ke),Pn=st/(A.inertiaDeceleration*Ee),pr=Mt.multiplyBy(-Pn/2).round();!pr.x&&!pr.y?E.fire("moveend"):(pr=E._limitOffset(pr,E.options.maxBounds),z(function(){E.panBy(pr,{duration:Pn,easeLinearity:Ee,noMoveStart:!0,animate:!0})}))}}});zt.addInitHook("addHandler","dragging",Gx),zt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var X3=ir.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(m){this._map=m,this._setPanDelta(m.options.keyboardPanDelta),this._setZoomDelta(m.options.zoomDelta)},addHooks:function(){var m=this._map._container;m.tabIndex<=0&&(m.tabIndex="0"),fn(m,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),rr(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var m=document.body,E=document.documentElement,A=m.scrollTop||E.scrollTop,V=m.scrollLeft||E.scrollLeft;this._map._container.focus(),window.scrollTo(V,A)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(m){var E=this._panKeys={},A=this.keyCodes,V,Y;for(V=0,Y=A.left.length;V<Y;V++)E[A.left[V]]=[-1*m,0];for(V=0,Y=A.right.length;V<Y;V++)E[A.right[V]]=[m,0];for(V=0,Y=A.down.length;V<Y;V++)E[A.down[V]]=[0,m];for(V=0,Y=A.up.length;V<Y;V++)E[A.up[V]]=[0,-1*m]},_setZoomDelta:function(m){var E=this._zoomKeys={},A=this.keyCodes,V,Y;for(V=0,Y=A.zoomIn.length;V<Y;V++)E[A.zoomIn[V]]=m;for(V=0,Y=A.zoomOut.length;V<Y;V++)E[A.zoomOut[V]]=-m},_addHooks:function(){fn(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){rr(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(m){if(!(m.altKey||m.ctrlKey||m.metaKey)){var E=m.keyCode,A=this._map,V;if(E in this._panKeys){if(!A._panAnim||!A._panAnim._inProgress)if(V=this._panKeys[E],m.shiftKey&&(V=J(V).multiplyBy(3)),A.options.maxBounds&&(V=A._limitOffset(J(V),A.options.maxBounds)),A.options.worldCopyJump){var Y=A.wrapLatLng(A.unproject(A.project(A.getCenter()).add(V)));A.panTo(Y)}else A.panBy(V)}else if(E in this._zoomKeys)A.setZoom(A.getZoom()+(m.shiftKey?3:1)*this._zoomKeys[E]);else if(E===27&&A._popup&&A._popup.options.closeOnEscapeKey)A.closePopup();else return;Qr(m)}}});zt.addInitHook("addHandler","keyboard",X3),zt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Q3=ir.extend({addHooks:function(){fn(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){rr(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(m){var E=Te(m),A=this._map.options.wheelDebounceTime;this._delta+=E,this._lastMousePos=this._map.mouseEventToContainerPoint(m),this._startTime||(this._startTime=+new Date);var V=Math.max(A-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(s(this._performZoom,this),V),Qr(m)},_performZoom:function(){var m=this._map,E=m.getZoom(),A=this._map.options.zoomSnap||0;m._stop();var V=this._delta/(this._map.options.wheelPxPerZoomLevel*4),Y=4*Math.log(2/(1+Math.exp(-Math.abs(V))))/Math.LN2,ae=A?Math.ceil(Y/A)*A:Y,Ee=m._limitZoom(E+(this._delta>0?ae:-ae))-E;this._delta=0,this._startTime=null,Ee&&(m.options.scrollWheelZoom==="center"?m.setZoom(E+Ee):m.setZoomAround(this._lastMousePos,E+Ee))}});zt.addInitHook("addHandler","scrollWheelZoom",Q3);var Z5=600;zt.mergeOptions({tapHold:mt.touchNative&&mt.safari&&mt.mobile,tapTolerance:15});var J3=ir.extend({addHooks:function(){fn(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){rr(this._map._container,"touchstart",this._onDown,this)},_onDown:function(m){if(clearTimeout(this._holdTimeout),m.touches.length===1){var E=m.touches[0];this._startPos=this._newPos=new U(E.clientX,E.clientY),this._holdTimeout=setTimeout(s(function(){this._cancel(),this._isTapValid()&&(fn(document,"touchend",Bi),fn(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",E))},this),Z5),fn(document,"touchend touchcancel contextmenu",this._cancel,this),fn(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function m(){rr(document,"touchend",Bi),rr(document,"touchend touchcancel",m)},_cancel:function(){clearTimeout(this._holdTimeout),rr(document,"touchend touchcancel contextmenu",this._cancel,this),rr(document,"touchmove",this._onMove,this)},_onMove:function(m){var E=m.touches[0];this._newPos=new U(E.clientX,E.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(m,E){var A=new MouseEvent(m,{bubbles:!0,cancelable:!0,view:window,screenX:E.screenX,screenY:E.screenY,clientX:E.clientX,clientY:E.clientY});A._simulated=!0,E.target.dispatchEvent(A)}});zt.addInitHook("addHandler","tapHold",J3),zt.mergeOptions({touchZoom:mt.touch,bounceAtZoomLimits:!0});var Zx=ir.extend({addHooks:function(){en(this._map._container,"leaflet-touch-zoom"),fn(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){fi(this._map._container,"leaflet-touch-zoom"),rr(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(m){var E=this._map;if(!(!m.touches||m.touches.length!==2||E._animatingZoom||this._zooming)){var A=E.mouseEventToContainerPoint(m.touches[0]),V=E.mouseEventToContainerPoint(m.touches[1]);this._centerPoint=E.getSize()._divideBy(2),this._startLatLng=E.containerPointToLatLng(this._centerPoint),E.options.touchZoom!=="center"&&(this._pinchStartLatLng=E.containerPointToLatLng(A.add(V)._divideBy(2))),this._startDist=A.distanceTo(V),this._startZoom=E.getZoom(),this._moved=!1,this._zooming=!0,E._stop(),fn(document,"touchmove",this._onTouchMove,this),fn(document,"touchend touchcancel",this._onTouchEnd,this),Bi(m)}},_onTouchMove:function(m){if(!(!m.touches||m.touches.length!==2||!this._zooming)){var E=this._map,A=E.mouseEventToContainerPoint(m.touches[0]),V=E.mouseEventToContainerPoint(m.touches[1]),Y=A.distanceTo(V)/this._startDist;if(this._zoom=E.getScaleZoom(Y,this._startZoom),!E.options.bounceAtZoomLimits&&(this._zoom<E.getMinZoom()&&Y<1||this._zoom>E.getMaxZoom()&&Y>1)&&(this._zoom=E._limitZoom(this._zoom)),E.options.touchZoom==="center"){if(this._center=this._startLatLng,Y===1)return}else{var ae=A._add(V)._divideBy(2)._subtract(this._centerPoint);if(Y===1&&ae.x===0&&ae.y===0)return;this._center=E.unproject(E.project(this._pinchStartLatLng,this._zoom).subtract(ae),this._zoom)}this._moved||(E._moveStart(!0,!1),this._moved=!0),G(this._animRequest);var Ee=s(E._move,E,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=z(Ee,this,!0),Bi(m)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,G(this._animRequest),rr(document,"touchmove",this._onTouchMove,this),rr(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});zt.addInitHook("addHandler","touchZoom",Zx),zt.BoxZoom=P1,zt.DoubleClickZoom=Y3,zt.Drag=Gx,zt.Keyboard=X3,zt.ScrollWheelZoom=Q3,zt.TapHold=J3,zt.TouchZoom=Zx,n.Bounds=oe,n.Browser=mt,n.CRS=we,n.Canvas=q3,n.Circle=kf,n.CircleMarker=Ma,n.Class=X,n.Control=hn,n.DivIcon=Ux,n.DivOverlay=fl,n.DomEvent=Tt,n.DomUtil=nr,n.Draggable=Po,n.Evented=q,n.FeatureGroup=Ws,n.GeoJSON=j,n.GridLayer=hl,n.Handler=ir,n.Icon=uo,n.ImageOverlay=yn,n.LatLng=ue,n.LatLngBounds=me,n.Layer=$a,n.LayerGroup=Ta,n.LineUtil=Sf,n.Map=zt,n.Marker=Vl,n.Mixin=vv,n.Path=Pu,n.Point=U,n.PolyUtil=S1,n.Polygon=$u,n.Polyline=dl,n.Popup=Th,n.PosAnimation=Yn,n.Projection=fm,n.Rectangle=Z3,n.Renderer=_d,n.SVG=wv,n.SVGOverlay=ii,n.TileLayer=Sd,n.Tooltip=ls,n.Transformation=ye,n.Util=ee,n.VideoOverlay=kn,n.bind=s,n.bounds=he,n.canvas=G3,n.circle=Vx,n.circleMarker=xd,n.control=Sr,n.divIcon=K3,n.extend=i,n.featureGroup=la,n.geoJSON=xt,n.geoJson=At,n.gridLayer=Tu,n.icon=Yo,n.imageOverlay=Nn,n.latLng=ce,n.latLngBounds=re,n.layerGroup=Ef,n.map=xr,n.marker=$h,n.point=J,n.polygon=$,n.polyline=E1,n.popup=$j,n.rectangle=qx,n.setOptions=y,n.stamp=l,n.svg=xv,n.svgOverlay=Pf,n.tileLayer=Wx,n.tooltip=W3,n.transformation=_e,n.version=r,n.videoOverlay=Jr;var Y5=window.L;n.noConflict=function(){return window.L=Y5,this},window.L=n})})(QG,QG.exports);var Jf=QG.exports;const Zhe=Dl(Jf);function Pzt(e,t){const n=h.useRef(t);h.useEffect(function(){t!==n.current&&e.attributionControl!=null&&(n.current!=null&&e.attributionControl.removeAttribution(n.current),t!=null&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}const $zt=1;function Tzt(e){return Object.freeze({__version:$zt,map:e})}function Mzt(e,t){return Object.freeze({...e,...t})}const sNe=h.createContext(null),aNe=sNe.Provider;function Tte(){const e=h.useContext(sNe);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function Lzt(e){function t(n,r){const{instance:i,context:o}=e(n).current;return h.useImperativeHandle(r,()=>i),n.children==null?null:ne.createElement(aNe,{value:o},n.children)}return h.forwardRef(t)}function Azt(e){function t(n,r){const{instance:i}=e(n).current;return h.useImperativeHandle(r,()=>i),null}return h.forwardRef(t)}function lNe(e,t){const n=h.useRef();h.useEffect(function(){return t!=null&&e.instance.on(t),n.current=t,function(){n.current!=null&&e.instance.off(n.current),n.current=null}},[e,t])}function Mte(e,t){const n=e.pane??t.pane;return n?{...e,pane:n}:e}function uNe(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function cNe(e,t){return t==null?function(r,i){const o=h.useRef();return o.current||(o.current=e(r,i)),o}:function(r,i){const o=h.useRef();o.current||(o.current=e(r,i));const s=h.useRef(r),{instance:a}=o.current;return h.useEffect(function(){s.current!==r&&(t(a,r,s.current),s.current=r)},[a,r,i]),o}}function dNe(e,t){h.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){var o;(o=t.layerContainer)==null||o.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function Izt(e){return function(n){const r=Tte(),i=e(Mte(n,r),r);return Pzt(r.map,n.attribution),lNe(i.current,n.eventHandlers),dNe(i.current,r),i}}function Rzt(e,t){const n=h.useRef();h.useEffect(function(){if(t.pathOptions!==n.current){const i=t.pathOptions??{};e.instance.setStyle(i),n.current=i}},[e,t])}function Dzt(e){return function(n){const r=Tte(),i=e(Mte(n,r),r);return lNe(i.current,n.eventHandlers),dNe(i.current,r),Rzt(i.current,n),i}}function Ozt(e,t){const n=cNe(e,t),r=Dzt(n);return Lzt(r)}function jzt(e,t){const n=cNe(e,t),r=Izt(n);return Azt(r)}function Nzt(e,t,n){const{opacity:r,zIndex:i}=t;r!=null&&r!==n.opacity&&e.setOpacity(r),i!=null&&i!==n.zIndex&&e.setZIndex(i)}const Fzt=Ozt(function({children:t,...n},r){const i=new Jf.FeatureGroup([],n);return uNe(i,Mzt(r,{layerContainer:i,overlayContainer:i}))});function JG(){return JG=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},JG.apply(this,arguments)}function Bzt({bounds:e,boundsOptions:t,center:n,children:r,className:i,id:o,placeholder:s,style:a,whenReady:l,zoom:u,...c},f){const[p]=h.useState({className:i,id:o,style:a}),[g,v]=h.useState(null);h.useImperativeHandle(f,()=>(g==null?void 0:g.map)??null,[g]);const y=h.useCallback(C=>{if(C!==null&&g===null){const _=new Jf.Map(C,c);n!=null&&u!=null?_.setView(n,u):e!=null&&_.fitBounds(e,t),l!=null&&_.whenReady(l),v(Tzt(_))}},[]);h.useEffect(()=>()=>{g==null||g.map.remove()},[g]);const S=g?ne.createElement(aNe,{value:g},r):s??null;return ne.createElement("div",JG({},p,{ref:y}),S)}const zzt=h.forwardRef(Bzt),Hzt=jzt(function({url:t,...n},r){const i=new Jf.TileLayer(t,Mte(n,r));return uNe(i,r)},function(t,n,r){Nzt(t,n,r);const{url:i}=n;i!=null&&i!==r.url&&t.setUrl(i)});(function(e,t,n){function r(i,o){for(;(i=i.parentElement)&&!i.classList.contains(o););return i}L.drawVersion="1.0.4",L.Draw={},L.drawLocal={draw:{toolbar:{actions:{title:"Cancel drawing",text:"Cancel"},finish:{title:"Finish drawing",text:"Finish"},undo:{title:"Delete last point drawn",text:"Delete last point"},buttons:{polyline:"Draw a polyline",polygon:"Draw a polygon",rectangle:"Draw a rectangle",circle:"Draw a circle",marker:"Draw a marker",circlemarker:"Draw a circlemarker"}},handlers:{circle:{tooltip:{start:"Click and drag to draw circle."},radius:"Radius"},circlemarker:{tooltip:{start:"Click map to place circle marker."}},marker:{tooltip:{start:"Click map to place marker."}},polygon:{tooltip:{start:"Click to start drawing shape.",cont:"Click to continue drawing shape.",end:"Click first point to close this shape."}},polyline:{error:"<strong>Error:</strong> shape edges cannot cross!",tooltip:{start:"Click to start drawing line.",cont:"Click to continue drawing line.",end:"Click last point to finish line."}},rectangle:{tooltip:{start:"Click and drag to draw rectangle."}},simpleshape:{tooltip:{end:"Release mouse to finish drawing."}}}},edit:{toolbar:{actions:{save:{title:"Save changes",text:"Save"},cancel:{title:"Cancel editing, discards all changes",text:"Cancel"},clearAll:{title:"Clear all layers",text:"Clear All"}},buttons:{edit:"Edit layers",editDisabled:"No layers to edit",remove:"Delete layers",removeDisabled:"No layers to delete"}},handlers:{edit:{tooltip:{text:"Drag handles or markers to edit features.",subtext:"Click cancel to undo changes."}},remove:{tooltip:{text:"Click on a feature to remove."}}}}},L.Draw.Event={},L.Draw.Event.CREATED="draw:created",L.Draw.Event.EDITED="draw:edited",L.Draw.Event.DELETED="draw:deleted",L.Draw.Event.DRAWSTART="draw:drawstart",L.Draw.Event.DRAWSTOP="draw:drawstop",L.Draw.Event.DRAWVERTEX="draw:drawvertex",L.Draw.Event.EDITSTART="draw:editstart",L.Draw.Event.EDITMOVE="draw:editmove",L.Draw.Event.EDITRESIZE="draw:editresize",L.Draw.Event.EDITVERTEX="draw:editvertex",L.Draw.Event.EDITSTOP="draw:editstop",L.Draw.Event.DELETESTART="draw:deletestart",L.Draw.Event.DELETESTOP="draw:deletestop",L.Draw.Event.TOOLBAROPENED="draw:toolbaropened",L.Draw.Event.TOOLBARCLOSED="draw:toolbarclosed",L.Draw.Event.MARKERCONTEXT="draw:markercontext",L.Draw=L.Draw||{},L.Draw.Feature=L.Handler.extend({initialize:function(i,o){this._map=i,this._container=i._container,this._overlayPane=i._panes.overlayPane,this._popupPane=i._panes.popupPane,o&&o.shapeOptions&&(o.shapeOptions=L.Util.extend({},this.options.shapeOptions,o.shapeOptions)),L.setOptions(this,o);var s=L.version.split(".");parseInt(s[0],10)===1&&parseInt(s[1],10)>=2?L.Draw.Feature.include(L.Evented.prototype):L.Draw.Feature.include(L.Mixin.Events)},enable:function(){this._enabled||(L.Handler.prototype.enable.call(this),this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.DRAWSTART,{layerType:this.type}))},disable:function(){this._enabled&&(L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.DRAWSTOP,{layerType:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var i=this._map;i&&(L.DomUtil.disableTextSelection(),i.getContainer().focus(),this._tooltip=new L.Draw.Tooltip(this._map),L.DomEvent.on(this._container,"keyup",this._cancelDrawing,this))},removeHooks:function(){this._map&&(L.DomUtil.enableTextSelection(),this._tooltip.dispose(),this._tooltip=null,L.DomEvent.off(this._container,"keyup",this._cancelDrawing,this))},setOptions:function(i){L.setOptions(this,i)},_fireCreatedEvent:function(i){this._map.fire(L.Draw.Event.CREATED,{layer:i,layerType:this.type})},_cancelDrawing:function(i){i.keyCode===27&&(this._map.fire("draw:canceled",{layerType:this.type}),this.disable())}}),L.Draw.Polyline=L.Draw.Feature.extend({statics:{TYPE:"polyline"},Poly:L.Polyline,options:{allowIntersection:!0,repeatMode:!1,drawError:{color:"#b00b00",timeout:2500},icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),guidelineDistance:20,maxGuideLineLength:4e3,shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!1,clickable:!0},metric:!0,feet:!0,nautic:!1,showLength:!0,zIndexOffset:2e3,factor:1,maxPoints:0},initialize:function(i,o){L.Browser.touch&&(this.options.icon=this.options.touchIcon),this.options.drawError.message=L.drawLocal.draw.handlers.polyline.error,o&&o.drawError&&(o.drawError=L.Util.extend({},this.options.drawError,o.drawError)),this.type=L.Draw.Polyline.TYPE,L.Draw.Feature.prototype.initialize.call(this,i,o)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._markers=[],this._markerGroup=new L.LayerGroup,this._map.addLayer(this._markerGroup),this._poly=new L.Polyline([],this.options.shapeOptions),this._tooltip.updateContent(this._getTooltipText()),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),this._mouseMarker.on("mouseout",this._onMouseOut,this).on("mousemove",this._onMouseMove,this).on("mousedown",this._onMouseDown,this).on("mouseup",this._onMouseUp,this).addTo(this._map),this._map.on("mouseup",this._onMouseUp,this).on("mousemove",this._onMouseMove,this).on("zoomlevelschange",this._onZoomEnd,this).on("touchstart",this._onTouch,this).on("zoomend",this._onZoomEnd,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._clearHideErrorTimeout(),this._cleanUpShape(),this._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers,this._map.removeLayer(this._poly),delete this._poly,this._mouseMarker.off("mousedown",this._onMouseDown,this).off("mouseout",this._onMouseOut,this).off("mouseup",this._onMouseUp,this).off("mousemove",this._onMouseMove,this),this._map.removeLayer(this._mouseMarker),delete this._mouseMarker,this._clearGuides(),this._map.off("mouseup",this._onMouseUp,this).off("mousemove",this._onMouseMove,this).off("zoomlevelschange",this._onZoomEnd,this).off("zoomend",this._onZoomEnd,this).off("touchstart",this._onTouch,this).off("click",this._onTouch,this)},deleteLastVertex:function(){if(!(this._markers.length<=1)){var i=this._markers.pop(),o=this._poly,s=o.getLatLngs(),a=s.splice(-1,1)[0];this._poly.setLatLngs(s),this._markerGroup.removeLayer(i),o.getLatLngs().length<2&&this._map.removeLayer(o),this._vertexChanged(a,!1)}},addVertex:function(i){if(this._markers.length>=2&&!this.options.allowIntersection&&this._poly.newLatLngIntersects(i))return void this._showErrorTooltip();this._errorShown&&this._hideErrorTooltip(),this._markers.push(this._createMarker(i)),this._poly.addLatLng(i),this._poly.getLatLngs().length===2&&this._map.addLayer(this._poly),this._vertexChanged(i,!0)},completeShape:function(){this._markers.length<=1||!this._shapeIsValid()||(this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable())},_finishShape:function(){var i=this._poly._defaultShape?this._poly._defaultShape():this._poly.getLatLngs(),o=this._poly.newLatLngIntersects(i[i.length-1]);if(!this.options.allowIntersection&&o||!this._shapeIsValid())return void this._showErrorTooltip();this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()},_shapeIsValid:function(){return!0},_onZoomEnd:function(){this._markers!==null&&this._updateGuide()},_onMouseMove:function(i){var o=this._map.mouseEventToLayerPoint(i.originalEvent),s=this._map.layerPointToLatLng(o);this._currentLatLng=s,this._updateTooltip(s),this._updateGuide(o),this._mouseMarker.setLatLng(s),L.DomEvent.preventDefault(i.originalEvent)},_vertexChanged:function(i,o){this._map.fire(L.Draw.Event.DRAWVERTEX,{layers:this._markerGroup}),this._updateFinishHandler(),this._updateRunningMeasure(i,o),this._clearGuides(),this._updateTooltip()},_onMouseDown:function(i){if(!this._clickHandled&&!this._touchHandled&&!this._disableMarkers){this._onMouseMove(i),this._clickHandled=!0,this._disableNewMarkers();var o=i.originalEvent,s=o.clientX,a=o.clientY;this._startPoint.call(this,s,a)}},_startPoint:function(i,o){this._mouseDownOrigin=L.point(i,o)},_onMouseUp:function(i){var o=i.originalEvent,s=o.clientX,a=o.clientY;this._endPoint.call(this,s,a,i),this._clickHandled=null},_endPoint:function(i,o,s){if(this._mouseDownOrigin){var a=L.point(i,o).distanceTo(this._mouseDownOrigin),l=this._calculateFinishDistance(s.latlng);this.options.maxPoints>1&&this.options.maxPoints==this._markers.length+1?(this.addVertex(s.latlng),this._finishShape()):l<10&&L.Browser.touch?this._finishShape():Math.abs(a)<9*(e.devicePixelRatio||1)&&this.addVertex(s.latlng),this._enableNewMarkers()}this._mouseDownOrigin=null},_onTouch:function(i){var o,s,a=i.originalEvent;!a.touches||!a.touches[0]||this._clickHandled||this._touchHandled||this._disableMarkers||(o=a.touches[0].clientX,s=a.touches[0].clientY,this._disableNewMarkers(),this._touchHandled=!0,this._startPoint.call(this,o,s),this._endPoint.call(this,o,s,i),this._touchHandled=null),this._clickHandled=null},_onMouseOut:function(){this._tooltip&&this._tooltip._onMouseOut.call(this._tooltip)},_calculateFinishDistance:function(i){var o;if(this._markers.length>0){var s;if(this.type===L.Draw.Polyline.TYPE)s=this._markers[this._markers.length-1];else{if(this.type!==L.Draw.Polygon.TYPE)return 1/0;s=this._markers[0]}var a=this._map.latLngToContainerPoint(s.getLatLng()),l=new L.Marker(i,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset}),u=this._map.latLngToContainerPoint(l.getLatLng());o=a.distanceTo(u)}else o=1/0;return o},_updateFinishHandler:function(){var i=this._markers.length;i>1&&this._markers[i-1].on("click",this._finishShape,this),i>2&&this._markers[i-2].off("click",this._finishShape,this)},_createMarker:function(i){var o=new L.Marker(i,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset});return this._markerGroup.addLayer(o),o},_updateGuide:function(i){var o=this._markers?this._markers.length:0;o>0&&(i=i||this._map.latLngToLayerPoint(this._currentLatLng),this._clearGuides(),this._drawGuide(this._map.latLngToLayerPoint(this._markers[o-1].getLatLng()),i))},_updateTooltip:function(i){var o=this._getTooltipText();i&&this._tooltip.updatePosition(i),this._errorShown||this._tooltip.updateContent(o)},_drawGuide:function(i,o){var s,a,l,u=Math.floor(Math.sqrt(Math.pow(o.x-i.x,2)+Math.pow(o.y-i.y,2))),c=this.options.guidelineDistance,f=this.options.maxGuideLineLength,p=u>f?u-f:c;for(this._guidesContainer||(this._guidesContainer=L.DomUtil.create("div","leaflet-draw-guides",this._overlayPane));p<u;p+=this.options.guidelineDistance)s=p/u,a={x:Math.floor(i.x*(1-s)+s*o.x),y:Math.floor(i.y*(1-s)+s*o.y)},l=L.DomUtil.create("div","leaflet-draw-guide-dash",this._guidesContainer),l.style.backgroundColor=this._errorShown?this.options.drawError.color:this.options.shapeOptions.color,L.DomUtil.setPosition(l,a)},_updateGuideColor:function(i){if(this._guidesContainer)for(var o=0,s=this._guidesContainer.childNodes.length;o<s;o++)this._guidesContainer.childNodes[o].style.backgroundColor=i},_clearGuides:function(){if(this._guidesContainer)for(;this._guidesContainer.firstChild;)this._guidesContainer.removeChild(this._guidesContainer.firstChild)},_getTooltipText:function(){var i,o,s=this.options.showLength;return this._markers.length===0?i={text:L.drawLocal.draw.handlers.polyline.tooltip.start}:(o=s?this._getMeasurementString():"",i=this._markers.length===1?{text:L.drawLocal.draw.handlers.polyline.tooltip.cont,subtext:o}:{text:L.drawLocal.draw.handlers.polyline.tooltip.end,subtext:o}),i},_updateRunningMeasure:function(i,o){var s,a,l=this._markers.length;this._markers.length===1?this._measurementRunningTotal=0:(s=l-(o?2:1),a=L.GeometryUtil.isVersion07x()?i.distanceTo(this._markers[s].getLatLng())*(this.options.factor||1):this._map.distance(i,this._markers[s].getLatLng())*(this.options.factor||1),this._measurementRunningTotal+=a*(o?1:-1))},_getMeasurementString:function(){var i,o=this._currentLatLng,s=this._markers[this._markers.length-1].getLatLng();return i=L.GeometryUtil.isVersion07x()?s&&o&&o.distanceTo?this._measurementRunningTotal+o.distanceTo(s)*(this.options.factor||1):this._measurementRunningTotal||0:s&&o?this._measurementRunningTotal+this._map.distance(o,s)*(this.options.factor||1):this._measurementRunningTotal||0,L.GeometryUtil.readableDistance(i,this.options.metric,this.options.feet,this.options.nautic,this.options.precision)},_showErrorTooltip:function(){this._errorShown=!0,this._tooltip.showAsError().updateContent({text:this.options.drawError.message}),this._updateGuideColor(this.options.drawError.color),this._poly.setStyle({color:this.options.drawError.color}),this._clearHideErrorTimeout(),this._hideErrorTimeout=setTimeout(L.Util.bind(this._hideErrorTooltip,this),this.options.drawError.timeout)},_hideErrorTooltip:function(){this._errorShown=!1,this._clearHideErrorTimeout(),this._tooltip.removeError().updateContent(this._getTooltipText()),this._updateGuideColor(this.options.shapeOptions.color),this._poly.setStyle({color:this.options.shapeOptions.color})},_clearHideErrorTimeout:function(){this._hideErrorTimeout&&(clearTimeout(this._hideErrorTimeout),this._hideErrorTimeout=null)},_disableNewMarkers:function(){this._disableMarkers=!0},_enableNewMarkers:function(){setTimeout((function(){this._disableMarkers=!1}).bind(this),50)},_cleanUpShape:function(){this._markers.length>1&&this._markers[this._markers.length-1].off("click",this._finishShape,this)},_fireCreatedEvent:function(){var i=new this.Poly(this._poly.getLatLngs(),this.options.shapeOptions);L.Draw.Feature.prototype._fireCreatedEvent.call(this,i)}}),L.Draw.Polygon=L.Draw.Polyline.extend({statics:{TYPE:"polygon"},Poly:L.Polygon,options:{showArea:!1,showLength:!1,shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},metric:!0,feet:!0,nautic:!1,precision:{}},initialize:function(i,o){L.Draw.Polyline.prototype.initialize.call(this,i,o),this.type=L.Draw.Polygon.TYPE},_updateFinishHandler:function(){var i=this._markers.length;i===1&&this._markers[0].on("click",this._finishShape,this),i>2&&(this._markers[i-1].on("dblclick",this._finishShape,this),i>3&&this._markers[i-2].off("dblclick",this._finishShape,this))},_getTooltipText:function(){var i,o;return this._markers.length===0?i=L.drawLocal.draw.handlers.polygon.tooltip.start:this._markers.length<3?(i=L.drawLocal.draw.handlers.polygon.tooltip.cont,o=this._getMeasurementString()):(i=L.drawLocal.draw.handlers.polygon.tooltip.end,o=this._getMeasurementString()),{text:i,subtext:o}},_getMeasurementString:function(){var i=this._area,o="";return i||this.options.showLength?(this.options.showLength&&(o=L.Draw.Polyline.prototype._getMeasurementString.call(this)),i&&(o+="<br>"+L.GeometryUtil.readableArea(i,this.options.metric,this.options.precision)),o):null},_shapeIsValid:function(){return this._markers.length>=3},_vertexChanged:function(i,o){var s;!this.options.allowIntersection&&this.options.showArea&&(s=this._poly.getLatLngs(),this._area=L.GeometryUtil.geodesicArea(s)),L.Draw.Polyline.prototype._vertexChanged.call(this,i,o)},_cleanUpShape:function(){var i=this._markers.length;i>0&&(this._markers[0].off("click",this._finishShape,this),i>2&&this._markers[i-1].off("dblclick",this._finishShape,this))}}),L.SimpleShape={},L.Draw.SimpleShape=L.Draw.Feature.extend({options:{repeatMode:!1},initialize:function(i,o){this._endLabelText=L.drawLocal.draw.handlers.simpleshape.tooltip.end,L.Draw.Feature.prototype.initialize.call(this,i,o)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._mapDraggable=this._map.dragging.enabled(),this._mapDraggable&&this._map.dragging.disable(),this._container.style.cursor="crosshair",this._tooltip.updateContent({text:this._initialLabelText}),this._map.on("mousedown",this._onMouseDown,this).on("mousemove",this._onMouseMove,this).on("touchstart",this._onMouseDown,this).on("touchmove",this._onMouseMove,this),t.addEventListener("touchstart",L.DomEvent.preventDefault,{passive:!1}))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._map&&(this._mapDraggable&&this._map.dragging.enable(),this._container.style.cursor="",this._map.off("mousedown",this._onMouseDown,this).off("mousemove",this._onMouseMove,this).off("touchstart",this._onMouseDown,this).off("touchmove",this._onMouseMove,this),L.DomEvent.off(t,"mouseup",this._onMouseUp,this),L.DomEvent.off(t,"touchend",this._onMouseUp,this),t.removeEventListener("touchstart",L.DomEvent.preventDefault),this._shape&&(this._map.removeLayer(this._shape),delete this._shape)),this._isDrawing=!1},_getTooltipText:function(){return{text:this._endLabelText}},_onMouseDown:function(i){this._isDrawing=!0,this._startLatLng=i.latlng,L.DomEvent.on(t,"mouseup",this._onMouseUp,this).on(t,"touchend",this._onMouseUp,this).preventDefault(i.originalEvent)},_onMouseMove:function(i){var o=i.latlng;this._tooltip.updatePosition(o),this._isDrawing&&(this._tooltip.updateContent(this._getTooltipText()),this._drawShape(o))},_onMouseUp:function(){this._shape&&this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()}}),L.Draw.Rectangle=L.Draw.SimpleShape.extend({statics:{TYPE:"rectangle"},options:{shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},showArea:!0,metric:!0},initialize:function(i,o){this.type=L.Draw.Rectangle.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.rectangle.tooltip.start,L.Draw.SimpleShape.prototype.initialize.call(this,i,o)},disable:function(){this._enabled&&(this._isCurrentlyTwoClickDrawing=!1,L.Draw.SimpleShape.prototype.disable.call(this))},_onMouseUp:function(i){if(!this._shape&&!this._isCurrentlyTwoClickDrawing)return void(this._isCurrentlyTwoClickDrawing=!0);this._isCurrentlyTwoClickDrawing&&!r(i.target,"leaflet-pane")||L.Draw.SimpleShape.prototype._onMouseUp.call(this)},_drawShape:function(i){this._shape?this._shape.setBounds(new L.LatLngBounds(this._startLatLng,i)):(this._shape=new L.Rectangle(new L.LatLngBounds(this._startLatLng,i),this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var i=new L.Rectangle(this._shape.getBounds(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,i)},_getTooltipText:function(){var i,o,s,a=L.Draw.SimpleShape.prototype._getTooltipText.call(this),l=this._shape,u=this.options.showArea;return l&&(i=this._shape._defaultShape?this._shape._defaultShape():this._shape.getLatLngs(),o=L.GeometryUtil.geodesicArea(i),s=u?L.GeometryUtil.readableArea(o,this.options.metric):""),{text:a.text,subtext:s}}}),L.Draw.Marker=L.Draw.Feature.extend({statics:{TYPE:"marker"},options:{icon:new L.Icon.Default,repeatMode:!1,zIndexOffset:2e3},initialize:function(i,o){this.type=L.Draw.Marker.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.marker.tooltip.start,L.Draw.Feature.prototype.initialize.call(this,i,o)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._tooltip.updateContent({text:this._initialLabelText}),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),this._mouseMarker.on("click",this._onClick,this).addTo(this._map),this._map.on("mousemove",this._onMouseMove,this),this._map.on("click",this._onTouch,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._map&&(this._map.off("click",this._onClick,this).off("click",this._onTouch,this),this._marker&&(this._marker.off("click",this._onClick,this),this._map.removeLayer(this._marker),delete this._marker),this._mouseMarker.off("click",this._onClick,this),this._map.removeLayer(this._mouseMarker),delete this._mouseMarker,this._map.off("mousemove",this._onMouseMove,this))},_onMouseMove:function(i){var o=i.latlng;this._tooltip.updatePosition(o),this._mouseMarker.setLatLng(o),this._marker?(o=this._mouseMarker.getLatLng(),this._marker.setLatLng(o)):(this._marker=this._createMarker(o),this._marker.on("click",this._onClick,this),this._map.on("click",this._onClick,this).addLayer(this._marker))},_createMarker:function(i){return new L.Marker(i,{icon:this.options.icon,zIndexOffset:this.options.zIndexOffset})},_onClick:function(){this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()},_onTouch:function(i){this._onMouseMove(i),this._onClick()},_fireCreatedEvent:function(){var i=new L.Marker.Touch(this._marker.getLatLng(),{icon:this.options.icon});L.Draw.Feature.prototype._fireCreatedEvent.call(this,i)}}),L.Draw.CircleMarker=L.Draw.Marker.extend({statics:{TYPE:"circlemarker"},options:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0,zIndexOffset:2e3},initialize:function(i,o){this.type=L.Draw.CircleMarker.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.circlemarker.tooltip.start,L.Draw.Feature.prototype.initialize.call(this,i,o)},_fireCreatedEvent:function(){var i=new L.CircleMarker(this._marker.getLatLng(),this.options);L.Draw.Feature.prototype._fireCreatedEvent.call(this,i)},_createMarker:function(i){return new L.CircleMarker(i,this.options)}}),L.Draw.Circle=L.Draw.SimpleShape.extend({statics:{TYPE:"circle"},options:{shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},showRadius:!0,metric:!0,feet:!0,nautic:!1},initialize:function(i,o){this.type=L.Draw.Circle.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.circle.tooltip.start,L.Draw.SimpleShape.prototype.initialize.call(this,i,o)},_drawShape:function(i){if(L.GeometryUtil.isVersion07x())var o=this._startLatLng.distanceTo(i);else var o=this._map.distance(this._startLatLng,i);this._shape?this._shape.setRadius(o):(this._shape=new L.Circle(this._startLatLng,o,this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var i=new L.Circle(this._startLatLng,this._shape.getRadius(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,i)},_onMouseMove:function(i){var o,s=i.latlng,a=this.options.showRadius,l=this.options.metric;if(this._tooltip.updatePosition(s),this._isDrawing){this._drawShape(s),o=this._shape.getRadius().toFixed(1);var u="";a&&(u=L.drawLocal.draw.handlers.circle.radius+": "+L.GeometryUtil.readableDistance(o,l,this.options.feet,this.options.nautic)),this._tooltip.updateContent({text:this._endLabelText,subtext:u})}}}),L.Edit=L.Edit||{},L.Edit.Marker=L.Handler.extend({initialize:function(i,o){this._marker=i,L.setOptions(this,o)},addHooks:function(){var i=this._marker;i.dragging.enable(),i.on("dragend",this._onDragEnd,i),this._toggleMarkerHighlight()},removeHooks:function(){var i=this._marker;i.dragging.disable(),i.off("dragend",this._onDragEnd,i),this._toggleMarkerHighlight()},_onDragEnd:function(i){var o=i.target;o.edited=!0,this._map.fire(L.Draw.Event.EDITMOVE,{layer:o})},_toggleMarkerHighlight:function(){var i=this._marker._icon;i&&(i.style.display="none",L.DomUtil.hasClass(i,"leaflet-edit-marker-selected")?(L.DomUtil.removeClass(i,"leaflet-edit-marker-selected"),this._offsetMarker(i,-4)):(L.DomUtil.addClass(i,"leaflet-edit-marker-selected"),this._offsetMarker(i,4)),i.style.display="")},_offsetMarker:function(i,o){var s=parseInt(i.style.marginTop,10)-o,a=parseInt(i.style.marginLeft,10)-o;i.style.marginTop=s+"px",i.style.marginLeft=a+"px"}}),L.Marker.addInitHook(function(){L.Edit.Marker&&(this.editing=new L.Edit.Marker(this),this.options.editable&&this.editing.enable())}),L.Edit=L.Edit||{},L.Edit.Poly=L.Handler.extend({initialize:function(i){this.latlngs=[i._latlngs],i._holes&&(this.latlngs=this.latlngs.concat(i._holes)),this._poly=i,this._poly.on("revert-edited",this._updateLatLngs,this)},_defaultShape:function(){return L.Polyline._flat?L.Polyline._flat(this._poly._latlngs)?this._poly._latlngs:this._poly._latlngs[0]:this._poly._latlngs},_eachVertexHandler:function(i){for(var o=0;o<this._verticesHandlers.length;o++)i(this._verticesHandlers[o])},addHooks:function(){this._initHandlers(),this._eachVertexHandler(function(i){i.addHooks()})},removeHooks:function(){this._eachVertexHandler(function(i){i.removeHooks()})},updateMarkers:function(){this._eachVertexHandler(function(i){i.updateMarkers()})},_initHandlers:function(){this._verticesHandlers=[];for(var i=0;i<this.latlngs.length;i++)this._verticesHandlers.push(new L.Edit.PolyVerticesEdit(this._poly,this.latlngs[i],this._poly.options.poly))},_updateLatLngs:function(i){this.latlngs=[i.layer._latlngs],i.layer._holes&&(this.latlngs=this.latlngs.concat(i.layer._holes))}}),L.Edit.PolyVerticesEdit=L.Handler.extend({options:{icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),drawError:{color:"#b00b00",timeout:1e3}},initialize:function(i,o,s){L.Browser.touch&&(this.options.icon=this.options.touchIcon),this._poly=i,s&&s.drawError&&(s.drawError=L.Util.extend({},this.options.drawError,s.drawError)),this._latlngs=o,L.setOptions(this,s)},_defaultShape:function(){return L.Polyline._flat?L.Polyline._flat(this._latlngs)?this._latlngs:this._latlngs[0]:this._latlngs},addHooks:function(){var i=this._poly,o=i._path;i instanceof L.Polygon||(i.options.fill=!1,i.options.editing&&(i.options.editing.fill=!1)),o&&i.options.editing&&i.options.editing.className&&(i.options.original.className&&i.options.original.className.split(" ").forEach(function(s){L.DomUtil.removeClass(o,s)}),i.options.editing.className.split(" ").forEach(function(s){L.DomUtil.addClass(o,s)})),i.setStyle(i.options.editing),this._poly._map&&(this._map=this._poly._map,this._markerGroup||this._initMarkers(),this._poly._map.addLayer(this._markerGroup))},removeHooks:function(){var i=this._poly,o=i._path;o&&i.options.editing&&i.options.editing.className&&(i.options.editing.className.split(" ").forEach(function(s){L.DomUtil.removeClass(o,s)}),i.options.original.className&&i.options.original.className.split(" ").forEach(function(s){L.DomUtil.addClass(o,s)})),i.setStyle(i.options.original),i._map&&(i._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers)},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup),this._markers=[];var i,o,s,a,l=this._defaultShape();for(i=0,s=l.length;i<s;i++)a=this._createMarker(l[i],i),a.on("click",this._onMarkerClick,this),a.on("contextmenu",this._onContextMenu,this),this._markers.push(a);var u,c;for(i=0,o=s-1;i<s;o=i++)(i!==0||L.Polygon&&this._poly instanceof L.Polygon)&&(u=this._markers[o],c=this._markers[i],this._createMiddleMarker(u,c),this._updatePrevNext(u,c))},_createMarker:function(i,o){var s=new L.Marker.Touch(i,{draggable:!0,icon:this.options.icon});return s._origLatLng=i,s._index=o,s.on("dragstart",this._onMarkerDragStart,this).on("drag",this._onMarkerDrag,this).on("dragend",this._fireEdit,this).on("touchmove",this._onTouchMove,this).on("touchend",this._fireEdit,this).on("MSPointerMove",this._onTouchMove,this).on("MSPointerUp",this._fireEdit,this),this._markerGroup.addLayer(s),s},_onMarkerDragStart:function(){this._poly.fire("editstart")},_spliceLatLngs:function(){var i=this._defaultShape(),o=[].splice.apply(i,arguments);return this._poly._convertLatLngs(i,!0),this._poly.redraw(),o},_removeMarker:function(i){var o=i._index;this._markerGroup.removeLayer(i),this._markers.splice(o,1),this._spliceLatLngs(o,1),this._updateIndexes(o,-1),i.off("dragstart",this._onMarkerDragStart,this).off("drag",this._onMarkerDrag,this).off("dragend",this._fireEdit,this).off("touchmove",this._onMarkerDrag,this).off("touchend",this._fireEdit,this).off("click",this._onMarkerClick,this).off("MSPointerMove",this._onTouchMove,this).off("MSPointerUp",this._fireEdit,this)},_fireEdit:function(){this._poly.edited=!0,this._poly.fire("edit"),this._poly._map.fire(L.Draw.Event.EDITVERTEX,{layers:this._markerGroup,poly:this._poly})},_onMarkerDrag:function(i){var o=i.target,s=this._poly,a=L.LatLngUtil.cloneLatLng(o._origLatLng);if(L.extend(o._origLatLng,o._latlng),s.options.poly){var l=s._map._editTooltip;if(!s.options.poly.allowIntersection&&s.intersects()){L.extend(o._origLatLng,a),o.setLatLng(a);var u=s.options.color;s.setStyle({color:this.options.drawError.color}),l&&l.updateContent({text:L.drawLocal.draw.handlers.polyline.error}),setTimeout(function(){s.setStyle({color:u}),l&&l.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext})},1e3)}}o._middleLeft&&o._middleLeft.setLatLng(this._getMiddleLatLng(o._prev,o)),o._middleRight&&o._middleRight.setLatLng(this._getMiddleLatLng(o,o._next)),this._poly._bounds._southWest=L.latLng(1/0,1/0),this._poly._bounds._northEast=L.latLng(-1/0,-1/0);var c=this._poly.getLatLngs();this._poly._convertLatLngs(c,!0),this._poly.redraw(),this._poly.fire("editdrag")},_onMarkerClick:function(i){var o=L.Polygon&&this._poly instanceof L.Polygon?4:3,s=i.target;this._defaultShape().length<o||(this._removeMarker(s),this._updatePrevNext(s._prev,s._next),s._middleLeft&&this._markerGroup.removeLayer(s._middleLeft),s._middleRight&&this._markerGroup.removeLayer(s._middleRight),s._prev&&s._next?this._createMiddleMarker(s._prev,s._next):s._prev?s._next||(s._prev._middleRight=null):s._next._middleLeft=null,this._fireEdit())},_onContextMenu:function(i){var o=i.target;this._poly,this._poly._map.fire(L.Draw.Event.MARKERCONTEXT,{marker:o,layers:this._markerGroup,poly:this._poly}),L.DomEvent.stopPropagation},_onTouchMove:function(i){var o=this._map.mouseEventToLayerPoint(i.originalEvent.touches[0]),s=this._map.layerPointToLatLng(o),a=i.target;L.extend(a._origLatLng,s),a._middleLeft&&a._middleLeft.setLatLng(this._getMiddleLatLng(a._prev,a)),a._middleRight&&a._middleRight.setLatLng(this._getMiddleLatLng(a,a._next)),this._poly.redraw(),this.updateMarkers()},_updateIndexes:function(i,o){this._markerGroup.eachLayer(function(s){s._index>i&&(s._index+=o)})},_createMiddleMarker:function(i,o){var s,a,l,u=this._getMiddleLatLng(i,o),c=this._createMarker(u);c.setOpacity(.6),i._middleRight=o._middleLeft=c,a=function(){c.off("touchmove",a,this);var f=o._index;c._index=f,c.off("click",s,this).on("click",this._onMarkerClick,this),u.lat=c.getLatLng().lat,u.lng=c.getLatLng().lng,this._spliceLatLngs(f,0,u),this._markers.splice(f,0,c),c.setOpacity(1),this._updateIndexes(f,1),o._index++,this._updatePrevNext(i,c),this._updatePrevNext(c,o),this._poly.fire("editstart")},l=function(){c.off("dragstart",a,this),c.off("dragend",l,this),c.off("touchmove",a,this),this._createMiddleMarker(i,c),this._createMiddleMarker(c,o)},s=function(){a.call(this),l.call(this),this._fireEdit()},c.on("click",s,this).on("dragstart",a,this).on("dragend",l,this).on("touchmove",a,this),this._markerGroup.addLayer(c)},_updatePrevNext:function(i,o){i&&(i._next=o),o&&(o._prev=i)},_getMiddleLatLng:function(i,o){var s=this._poly._map,a=s.project(i.getLatLng()),l=s.project(o.getLatLng());return s.unproject(a._add(l)._divideBy(2))}}),L.Polyline.addInitHook(function(){this.editing||(L.Edit.Poly&&(this.editing=new L.Edit.Poly(this),this.options.editable&&this.editing.enable()),this.on("add",function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()}),this.on("remove",function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()}))}),L.Edit=L.Edit||{},L.Edit.SimpleShape=L.Handler.extend({options:{moveIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-move"}),resizeIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-resize"}),touchMoveIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-move leaflet-touch-icon"}),touchResizeIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-resize leaflet-touch-icon"})},initialize:function(i,o){L.Browser.touch&&(this.options.moveIcon=this.options.touchMoveIcon,this.options.resizeIcon=this.options.touchResizeIcon),this._shape=i,L.Util.setOptions(this,o)},addHooks:function(){var i=this._shape;this._shape._map&&(this._map=this._shape._map,i.setStyle(i.options.editing),i._map&&(this._map=i._map,this._markerGroup||this._initMarkers(),this._map.addLayer(this._markerGroup)))},removeHooks:function(){var i=this._shape;if(i.setStyle(i.options.original),i._map){this._unbindMarker(this._moveMarker);for(var o=0,s=this._resizeMarkers.length;o<s;o++)this._unbindMarker(this._resizeMarkers[o]);this._resizeMarkers=null,this._map.removeLayer(this._markerGroup),delete this._markerGroup}this._map=null},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup),this._createMoveMarker(),this._createResizeMarker()},_createMoveMarker:function(){},_createResizeMarker:function(){},_createMarker:function(i,o){var s=new L.Marker.Touch(i,{draggable:!0,icon:o,zIndexOffset:10});return this._bindMarker(s),this._markerGroup.addLayer(s),s},_bindMarker:function(i){i.on("dragstart",this._onMarkerDragStart,this).on("drag",this._onMarkerDrag,this).on("dragend",this._onMarkerDragEnd,this).on("touchstart",this._onTouchStart,this).on("touchmove",this._onTouchMove,this).on("MSPointerMove",this._onTouchMove,this).on("touchend",this._onTouchEnd,this).on("MSPointerUp",this._onTouchEnd,this)},_unbindMarker:function(i){i.off("dragstart",this._onMarkerDragStart,this).off("drag",this._onMarkerDrag,this).off("dragend",this._onMarkerDragEnd,this).off("touchstart",this._onTouchStart,this).off("touchmove",this._onTouchMove,this).off("MSPointerMove",this._onTouchMove,this).off("touchend",this._onTouchEnd,this).off("MSPointerUp",this._onTouchEnd,this)},_onMarkerDragStart:function(i){i.target.setOpacity(0),this._shape.fire("editstart")},_fireEdit:function(){this._shape.edited=!0,this._shape.fire("edit")},_onMarkerDrag:function(i){var o=i.target,s=o.getLatLng();o===this._moveMarker?this._move(s):this._resize(s),this._shape.redraw(),this._shape.fire("editdrag")},_onMarkerDragEnd:function(i){i.target.setOpacity(1),this._fireEdit()},_onTouchStart:function(i){if(L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this,i),typeof this._getCorners=="function"){var o=this._getCorners(),s=i.target,a=s._cornerIndex;s.setOpacity(0),this._oppositeCorner=o[(a+2)%4],this._toggleCornerMarkers(0,a)}this._shape.fire("editstart")},_onTouchMove:function(i){var o=this._map.mouseEventToLayerPoint(i.originalEvent.touches[0]),s=this._map.layerPointToLatLng(o);return i.target===this._moveMarker?this._move(s):this._resize(s),this._shape.redraw(),!1},_onTouchEnd:function(i){i.target.setOpacity(1),this.updateMarkers(),this._fireEdit()},_move:function(){},_resize:function(){}}),L.Edit=L.Edit||{},L.Edit.Rectangle=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var i=this._shape.getBounds(),o=i.getCenter();this._moveMarker=this._createMarker(o,this.options.moveIcon)},_createResizeMarker:function(){var i=this._getCorners();this._resizeMarkers=[];for(var o=0,s=i.length;o<s;o++)this._resizeMarkers.push(this._createMarker(i[o],this.options.resizeIcon)),this._resizeMarkers[o]._cornerIndex=o},_onMarkerDragStart:function(i){L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this,i);var o=this._getCorners(),s=i.target,a=s._cornerIndex;this._oppositeCorner=o[(a+2)%4],this._toggleCornerMarkers(0,a)},_onMarkerDragEnd:function(i){var o,s,a=i.target;a===this._moveMarker&&(o=this._shape.getBounds(),s=o.getCenter(),a.setLatLng(s)),this._toggleCornerMarkers(1),this._repositionCornerMarkers(),L.Edit.SimpleShape.prototype._onMarkerDragEnd.call(this,i)},_move:function(i){for(var o,s=this._shape._defaultShape?this._shape._defaultShape():this._shape.getLatLngs(),a=this._shape.getBounds(),l=a.getCenter(),u=[],c=0,f=s.length;c<f;c++)o=[s[c].lat-l.lat,s[c].lng-l.lng],u.push([i.lat+o[0],i.lng+o[1]]);this._shape.setLatLngs(u),this._repositionCornerMarkers(),this._map.fire(L.Draw.Event.EDITMOVE,{layer:this._shape})},_resize:function(i){var o;this._shape.setBounds(L.latLngBounds(i,this._oppositeCorner)),o=this._shape.getBounds(),this._moveMarker.setLatLng(o.getCenter()),this._map.fire(L.Draw.Event.EDITRESIZE,{layer:this._shape})},_getCorners:function(){var i=this._shape.getBounds();return[i.getNorthWest(),i.getNorthEast(),i.getSouthEast(),i.getSouthWest()]},_toggleCornerMarkers:function(i){for(var o=0,s=this._resizeMarkers.length;o<s;o++)this._resizeMarkers[o].setOpacity(i)},_repositionCornerMarkers:function(){for(var i=this._getCorners(),o=0,s=this._resizeMarkers.length;o<s;o++)this._resizeMarkers[o].setLatLng(i[o])}}),L.Rectangle.addInitHook(function(){L.Edit.Rectangle&&(this.editing=new L.Edit.Rectangle(this),this.options.editable&&this.editing.enable())}),L.Edit=L.Edit||{},L.Edit.CircleMarker=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var i=this._shape.getLatLng();this._moveMarker=this._createMarker(i,this.options.moveIcon)},_createResizeMarker:function(){this._resizeMarkers=[]},_move:function(i){if(this._resizeMarkers.length){var o=this._getResizeMarkerPoint(i);this._resizeMarkers[0].setLatLng(o)}this._shape.setLatLng(i),this._map.fire(L.Draw.Event.EDITMOVE,{layer:this._shape})}}),L.CircleMarker.addInitHook(function(){L.Edit.CircleMarker&&(this.editing=new L.Edit.CircleMarker(this),this.options.editable&&this.editing.enable()),this.on("add",function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()}),this.on("remove",function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()})}),L.Edit=L.Edit||{},L.Edit.Circle=L.Edit.CircleMarker.extend({_createResizeMarker:function(){var i=this._shape.getLatLng(),o=this._getResizeMarkerPoint(i);this._resizeMarkers=[],this._resizeMarkers.push(this._createMarker(o,this.options.resizeIcon))},_getResizeMarkerPoint:function(i){var o=this._shape._radius*Math.cos(Math.PI/4),s=this._map.project(i);return this._map.unproject([s.x+o,s.y-o])},_resize:function(i){var o=this._moveMarker.getLatLng();L.GeometryUtil.isVersion07x()?radius=o.distanceTo(i):radius=this._map.distance(o,i),this._shape.setRadius(radius),this._map.editTooltip&&this._map._editTooltip.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.subtext+"<br />"+L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.draw.handlers.circle.radius+": "+L.GeometryUtil.readableDistance(radius,!0,this.options.feet,this.options.nautic)}),this._shape.setRadius(radius),this._map.fire(L.Draw.Event.EDITRESIZE,{layer:this._shape})}}),L.Circle.addInitHook(function(){L.Edit.Circle&&(this.editing=new L.Edit.Circle(this),this.options.editable&&this.editing.enable())}),L.Map.mergeOptions({touchExtend:!0}),L.Map.TouchExtend=L.Handler.extend({initialize:function(i){this._map=i,this._container=i._container,this._pane=i._panes.overlayPane},addHooks:function(){L.DomEvent.on(this._container,"touchstart",this._onTouchStart,this),L.DomEvent.on(this._container,"touchend",this._onTouchEnd,this),L.DomEvent.on(this._container,"touchmove",this._onTouchMove,this),this._detectIE()?(L.DomEvent.on(this._container,"MSPointerDown",this._onTouchStart,this),L.DomEvent.on(this._container,"MSPointerUp",this._onTouchEnd,this),L.DomEvent.on(this._container,"MSPointerMove",this._onTouchMove,this),L.DomEvent.on(this._container,"MSPointerCancel",this._onTouchCancel,this)):(L.DomEvent.on(this._container,"touchcancel",this._onTouchCancel,this),L.DomEvent.on(this._container,"touchleave",this._onTouchLeave,this))},removeHooks:function(){L.DomEvent.off(this._container,"touchstart",this._onTouchStart,this),L.DomEvent.off(this._container,"touchend",this._onTouchEnd,this),L.DomEvent.off(this._container,"touchmove",this._onTouchMove,this),this._detectIE()?(L.DomEvent.off(this._container,"MSPointerDown",this._onTouchStart,this),L.DomEvent.off(this._container,"MSPointerUp",this._onTouchEnd,this),L.DomEvent.off(this._container,"MSPointerMove",this._onTouchMove,this),L.DomEvent.off(this._container,"MSPointerCancel",this._onTouchCancel,this)):(L.DomEvent.off(this._container,"touchcancel",this._onTouchCancel,this),L.DomEvent.off(this._container,"touchleave",this._onTouchLeave,this))},_touchEvent:function(i,o){var s={};if(i.touches!==void 0){if(!i.touches.length)return;s=i.touches[0]}else if(i.pointerType!=="touch"||(s=i,!this._filterClick(i)))return;var a=this._map.mouseEventToContainerPoint(s),l=this._map.mouseEventToLayerPoint(s),u=this._map.layerPointToLatLng(l);this._map.fire(o,{latlng:u,layerPoint:l,containerPoint:a,pageX:s.pageX,pageY:s.pageY,originalEvent:i})},_filterClick:function(i){var o=i.timeStamp||i.originalEvent.timeStamp,s=L.DomEvent._lastClick&&o-L.DomEvent._lastClick;return s&&s>100&&s<500||i.target._simulatedClick&&!i._simulated?(L.DomEvent.stop(i),!1):(L.DomEvent._lastClick=o,!0)},_onTouchStart:function(i){this._map._loaded&&this._touchEvent(i,"touchstart")},_onTouchEnd:function(i){this._map._loaded&&this._touchEvent(i,"touchend")},_onTouchCancel:function(i){if(this._map._loaded){var o="touchcancel";this._detectIE()&&(o="pointercancel"),this._touchEvent(i,o)}},_onTouchLeave:function(i){this._map._loaded&&this._touchEvent(i,"touchleave")},_onTouchMove:function(i){this._map._loaded&&this._touchEvent(i,"touchmove")},_detectIE:function(){var i=e.navigator.userAgent,o=i.indexOf("MSIE ");if(o>0)return parseInt(i.substring(o+5,i.indexOf(".",o)),10);if(i.indexOf("Trident/")>0){var s=i.indexOf("rv:");return parseInt(i.substring(s+3,i.indexOf(".",s)),10)}var a=i.indexOf("Edge/");return a>0&&parseInt(i.substring(a+5,i.indexOf(".",a)),10)}}),L.Map.addInitHook("addHandler","touchExtend",L.Map.TouchExtend),L.Marker.Touch=L.Marker.extend({_initInteraction:function(){return this.addInteractiveTarget?L.Marker.prototype._initInteraction.apply(this):this._initInteractionLegacy()},_initInteractionLegacy:function(){if(this.options.clickable){var i=this._icon,o=["dblclick","mousedown","mouseover","mouseout","contextmenu","touchstart","touchend","touchmove"];this._detectIE?o.concat(["MSPointerDown","MSPointerUp","MSPointerMove","MSPointerCancel"]):o.concat(["touchcancel"]),L.DomUtil.addClass(i,"leaflet-clickable"),L.DomEvent.on(i,"click",this._onMouseClick,this),L.DomEvent.on(i,"keypress",this._onKeyPress,this);for(var s=0;s<o.length;s++)L.DomEvent.on(i,o[s],this._fireMouseEvent,this);L.Handler.MarkerDrag&&(this.dragging=new L.Handler.MarkerDrag(this),this.options.draggable&&this.dragging.enable())}},_detectIE:function(){var i=e.navigator.userAgent,o=i.indexOf("MSIE ");if(o>0)return parseInt(i.substring(o+5,i.indexOf(".",o)),10);if(i.indexOf("Trident/")>0){var s=i.indexOf("rv:");return parseInt(i.substring(s+3,i.indexOf(".",s)),10)}var a=i.indexOf("Edge/");return a>0&&parseInt(i.substring(a+5,i.indexOf(".",a)),10)}}),L.LatLngUtil={cloneLatLngs:function(i){for(var o=[],s=0,a=i.length;s<a;s++)Array.isArray(i[s])?o.push(L.LatLngUtil.cloneLatLngs(i[s])):o.push(this.cloneLatLng(i[s]));return o},cloneLatLng:function(i){return L.latLng(i.lat,i.lng)}},function(){var i={km:2,ha:2,m:0,mi:2,ac:2,yd:0,ft:0,nm:2};L.GeometryUtil=L.extend(L.GeometryUtil||{},{geodesicArea:function(o){var s,a,l=o.length,u=0,c=Math.PI/180;if(l>2){for(var f=0;f<l;f++)s=o[f],a=o[(f+1)%l],u+=(a.lng-s.lng)*c*(2+Math.sin(s.lat*c)+Math.sin(a.lat*c));u=6378137*u*6378137/2}return Math.abs(u)},formattedNumber:function(o,s){var a=parseFloat(o).toFixed(s),l=L.drawLocal.format&&L.drawLocal.format.numeric,u=l&&l.delimiters,c=u&&u.thousands,f=u&&u.decimal;if(c||f){var p=a.split(".");a=c?p[0].replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+c):p[0],f=f||".",p.length>1&&(a=a+f+p[1])}return a},readableArea:function(o,s,c){var l,u,c=L.Util.extend({},i,c);return s?(u=["ha","m"],type=typeof s,type==="string"?u=[s]:type!=="boolean"&&(u=s),l=o>=1e6&&u.indexOf("km")!==-1?L.GeometryUtil.formattedNumber(1e-6*o,c.km)+" km":o>=1e4&&u.indexOf("ha")!==-1?L.GeometryUtil.formattedNumber(1e-4*o,c.ha)+" ha":L.GeometryUtil.formattedNumber(o,c.m)+" m"):(o/=.836127,l=o>=3097600?L.GeometryUtil.formattedNumber(o/3097600,c.mi)+" mi":o>=4840?L.GeometryUtil.formattedNumber(o/4840,c.ac)+" acres":L.GeometryUtil.formattedNumber(o,c.yd)+" yd"),l},readableDistance:function(o,s,a,l,f){var c,f=L.Util.extend({},i,f);switch(s?typeof s=="string"?s:"metric":a?"feet":l?"nauticalMile":"yards"){case"metric":c=o>1e3?L.GeometryUtil.formattedNumber(o/1e3,f.km)+" km":L.GeometryUtil.formattedNumber(o,f.m)+" m";break;case"feet":o*=3.28083,c=L.GeometryUtil.formattedNumber(o,f.ft)+" ft";break;case"nauticalMile":o*=.53996,c=L.GeometryUtil.formattedNumber(o/1e3,f.nm)+" nm";break;case"yards":default:o*=1.09361,c=o>1760?L.GeometryUtil.formattedNumber(o/1760,f.mi)+" miles":L.GeometryUtil.formattedNumber(o,f.yd)+" yd"}return c},isVersion07x:function(){var o=L.version.split(".");return parseInt(o[0],10)===0&&parseInt(o[1],10)===7}})}(),L.Util.extend(L.LineUtil,{segmentsIntersect:function(i,o,s,a){return this._checkCounterclockwise(i,s,a)!==this._checkCounterclockwise(o,s,a)&&this._checkCounterclockwise(i,o,s)!==this._checkCounterclockwise(i,o,a)},_checkCounterclockwise:function(i,o,s){return(s.y-i.y)*(o.x-i.x)>(o.y-i.y)*(s.x-i.x)}}),L.Polyline.include({intersects:function(){var i,o,s,a=this._getProjectedPoints(),l=a?a.length:0;if(this._tooFewPointsForIntersection())return!1;for(i=l-1;i>=3;i--)if(o=a[i-1],s=a[i],this._lineSegmentsIntersectsRange(o,s,i-2))return!0;return!1},newLatLngIntersects:function(i,o){return!!this._map&&this.newPointIntersects(this._map.latLngToLayerPoint(i),o)},newPointIntersects:function(i,o){var s=this._getProjectedPoints(),a=s?s.length:0,l=s?s[a-1]:null,u=a-2;return!this._tooFewPointsForIntersection(1)&&this._lineSegmentsIntersectsRange(l,i,u,o?1:0)},_tooFewPointsForIntersection:function(i){var o=this._getProjectedPoints(),s=o?o.length:0;return s+=i||0,!o||s<=3},_lineSegmentsIntersectsRange:function(i,o,s,a){var l,u,c=this._getProjectedPoints();a=a||0;for(var f=s;f>a;f--)if(l=c[f-1],u=c[f],L.LineUtil.segmentsIntersect(i,o,l,u))return!0;return!1},_getProjectedPoints:function(){if(!this._defaultShape)return this._originalPoints;for(var i=[],o=this._defaultShape(),s=0;s<o.length;s++)i.push(this._map.latLngToLayerPoint(o[s]));return i}}),L.Polygon.include({intersects:function(){var i,o,s,a,l=this._getProjectedPoints();return!this._tooFewPointsForIntersection()&&(!!L.Polyline.prototype.intersects.call(this)||(i=l.length,o=l[0],s=l[i-1],a=i-2,this._lineSegmentsIntersectsRange(s,o,a,1)))}}),L.Control.Draw=L.Control.extend({options:{position:"topleft",draw:{},edit:!1},initialize:function(i){if(L.version<"0.7")throw new Error("Leaflet.draw 0.2.3+ requires Leaflet 0.7.0+. Download latest from https://github.com/Leaflet/Leaflet/");L.Control.prototype.initialize.call(this,i);var o;this._toolbars={},L.DrawToolbar&&this.options.draw&&(o=new L.DrawToolbar(this.options.draw),this._toolbars[L.DrawToolbar.TYPE]=o,this._toolbars[L.DrawToolbar.TYPE].on("enable",this._toolbarEnabled,this)),L.EditToolbar&&this.options.edit&&(o=new L.EditToolbar(this.options.edit),this._toolbars[L.EditToolbar.TYPE]=o,this._toolbars[L.EditToolbar.TYPE].on("enable",this._toolbarEnabled,this)),L.toolbar=this},onAdd:function(i){var o,s=L.DomUtil.create("div","leaflet-draw"),a=!1;for(var l in this._toolbars)this._toolbars.hasOwnProperty(l)&&(o=this._toolbars[l].addToolbar(i))&&(a||(L.DomUtil.hasClass(o,"leaflet-draw-toolbar-top")||L.DomUtil.addClass(o.childNodes[0],"leaflet-draw-toolbar-top"),a=!0),s.appendChild(o));return s},onRemove:function(){for(var i in this._toolbars)this._toolbars.hasOwnProperty(i)&&this._toolbars[i].removeToolbar()},setDrawingOptions:function(i){for(var o in this._toolbars)this._toolbars[o]instanceof L.DrawToolbar&&this._toolbars[o].setOptions(i)},_toolbarEnabled:function(i){var o=i.target;for(var s in this._toolbars)this._toolbars[s]!==o&&this._toolbars[s].disable()}}),L.Map.mergeOptions({drawControlTooltips:!0,drawControl:!1}),L.Map.addInitHook(function(){this.options.drawControl&&(this.drawControl=new L.Control.Draw,this.addControl(this.drawControl))}),L.Toolbar=L.Class.extend({initialize:function(i){L.setOptions(this,i),this._modes={},this._actionButtons=[],this._activeMode=null;var o=L.version.split(".");parseInt(o[0],10)===1&&parseInt(o[1],10)>=2?L.Toolbar.include(L.Evented.prototype):L.Toolbar.include(L.Mixin.Events)},enabled:function(){return this._activeMode!==null},disable:function(){this.enabled()&&this._activeMode.handler.disable()},addToolbar:function(i){var o,s=L.DomUtil.create("div","leaflet-draw-section"),a=0,l=this._toolbarClass||"",u=this.getModeHandlers(i);for(this._toolbarContainer=L.DomUtil.create("div","leaflet-draw-toolbar leaflet-bar"),this._map=i,o=0;o<u.length;o++)u[o].enabled&&this._initModeHandler(u[o].handler,this._toolbarContainer,a++,l,u[o].title);if(a)return this._lastButtonIndex=--a,this._actionsContainer=L.DomUtil.create("ul","leaflet-draw-actions"),s.appendChild(this._toolbarContainer),s.appendChild(this._actionsContainer),s},removeToolbar:function(){for(var i in this._modes)this._modes.hasOwnProperty(i)&&(this._disposeButton(this._modes[i].button,this._modes[i].handler.enable,this._modes[i].handler),this._modes[i].handler.disable(),this._modes[i].handler.off("enabled",this._handlerActivated,this).off("disabled",this._handlerDeactivated,this));this._modes={};for(var o=0,s=this._actionButtons.length;o<s;o++)this._disposeButton(this._actionButtons[o].button,this._actionButtons[o].callback,this);this._actionButtons=[],this._actionsContainer=null},_initModeHandler:function(i,o,s,a,l){var u=i.type;this._modes[u]={},this._modes[u].handler=i,this._modes[u].button=this._createButton({type:u,title:l,className:a+"-"+u,container:o,callback:this._modes[u].handler.enable,context:this._modes[u].handler}),this._modes[u].buttonIndex=s,this._modes[u].handler.on("enabled",this._handlerActivated,this).on("disabled",this._handlerDeactivated,this)},_detectIOS:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!e.MSStream},_createButton:function(i){var o=L.DomUtil.create("a",i.className||"",i.container),s=L.DomUtil.create("span","sr-only",i.container);o.href="#",o.appendChild(s),i.title&&(o.title=i.title,s.innerHTML=i.title),i.text&&(o.innerHTML=i.text,s.innerHTML=i.text);var a=this._detectIOS()?"touchstart":"click";return L.DomEvent.on(o,"click",L.DomEvent.stopPropagation).on(o,"mousedown",L.DomEvent.stopPropagation).on(o,"dblclick",L.DomEvent.stopPropagation).on(o,"touchstart",L.DomEvent.stopPropagation).on(o,"click",L.DomEvent.preventDefault).on(o,a,i.callback,i.context),o},_disposeButton:function(i,o){var s=this._detectIOS()?"touchstart":"click";L.DomEvent.off(i,"click",L.DomEvent.stopPropagation).off(i,"mousedown",L.DomEvent.stopPropagation).off(i,"dblclick",L.DomEvent.stopPropagation).off(i,"touchstart",L.DomEvent.stopPropagation).off(i,"click",L.DomEvent.preventDefault).off(i,s,o)},_handlerActivated:function(i){this.disable(),this._activeMode=this._modes[i.handler],L.DomUtil.addClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled"),this._showActionsToolbar(),this.fire("enable")},_handlerDeactivated:function(){this._hideActionsToolbar(),L.DomUtil.removeClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled"),this._activeMode=null,this.fire("disable")},_createActions:function(i){var o,s,a,l,u=this._actionsContainer,c=this.getActions(i),f=c.length;for(s=0,a=this._actionButtons.length;s<a;s++)this._disposeButton(this._actionButtons[s].button,this._actionButtons[s].callback);for(this._actionButtons=[];u.firstChild;)u.removeChild(u.firstChild);for(var p=0;p<f;p++)"enabled"in c[p]&&!c[p].enabled||(o=L.DomUtil.create("li","",u),l=this._createButton({title:c[p].title,text:c[p].text,container:o,callback:c[p].callback,context:c[p].context}),this._actionButtons.push({button:l,callback:c[p].callback}))},_showActionsToolbar:function(){var i=this._activeMode.buttonIndex,o=this._lastButtonIndex,s=this._activeMode.button.offsetTop-1;this._createActions(this._activeMode.handler),this._actionsContainer.style.top=s+"px",i===0&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-notop"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-top")),i===o&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-bottom")),this._actionsContainer.style.display="block",this._map.fire(L.Draw.Event.TOOLBAROPENED)},_hideActionsToolbar:function(){this._actionsContainer.style.display="none",L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-notop"),L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom"),L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-top"),L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-bottom"),this._map.fire(L.Draw.Event.TOOLBARCLOSED)}}),L.Draw=L.Draw||{},L.Draw.Tooltip=L.Class.extend({initialize:function(i){this._map=i,this._popupPane=i._panes.popupPane,this._visible=!1,this._container=i.options.drawControlTooltips?L.DomUtil.create("div","leaflet-draw-tooltip",this._popupPane):null,this._singleLineLabel=!1,this._map.on("mouseout",this._onMouseOut,this)},dispose:function(){this._map.off("mouseout",this._onMouseOut,this),this._container&&(this._popupPane.removeChild(this._container),this._container=null)},updateContent:function(i){return this._container?(i.subtext=i.subtext||"",i.subtext.length!==0||this._singleLineLabel?i.subtext.length>0&&this._singleLineLabel&&(L.DomUtil.removeClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!1):(L.DomUtil.addClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!0),this._container.innerHTML=(i.subtext.length>0?'<span class="leaflet-draw-tooltip-subtext">'+i.subtext+"</span><br />":"")+"<span>"+i.text+"</span>",i.text||i.subtext?(this._visible=!0,this._container.style.visibility="inherit"):(this._visible=!1,this._container.style.visibility="hidden"),this):this},updatePosition:function(i){var o=this._map.latLngToLayerPoint(i),s=this._container;return this._container&&(this._visible&&(s.style.visibility="inherit"),L.DomUtil.setPosition(s,o)),this},showAsError:function(){return this._container&&L.DomUtil.addClass(this._container,"leaflet-error-draw-tooltip"),this},removeError:function(){return this._container&&L.DomUtil.removeClass(this._container,"leaflet-error-draw-tooltip"),this},_onMouseOut:function(){this._container&&(this._container.style.visibility="hidden")}}),L.DrawToolbar=L.Toolbar.extend({statics:{TYPE:"draw"},options:{polyline:{},polygon:{},rectangle:{},circle:{},marker:{},circlemarker:{}},initialize:function(i){for(var o in this.options)this.options.hasOwnProperty(o)&&i[o]&&(i[o]=L.extend({},this.options[o],i[o]));this._toolbarClass="leaflet-draw-draw",L.Toolbar.prototype.initialize.call(this,i)},getModeHandlers:function(i){return[{enabled:this.options.polyline,handler:new L.Draw.Polyline(i,this.options.polyline),title:L.drawLocal.draw.toolbar.buttons.polyline},{enabled:this.options.polygon,handler:new L.Draw.Polygon(i,this.options.polygon),title:L.drawLocal.draw.toolbar.buttons.polygon},{enabled:this.options.rectangle,handler:new L.Draw.Rectangle(i,this.options.rectangle),title:L.drawLocal.draw.toolbar.buttons.rectangle},{enabled:this.options.circle,handler:new L.Draw.Circle(i,this.options.circle),title:L.drawLocal.draw.toolbar.buttons.circle},{enabled:this.options.marker,handler:new L.Draw.Marker(i,this.options.marker),title:L.drawLocal.draw.toolbar.buttons.marker},{enabled:this.options.circlemarker,handler:new L.Draw.CircleMarker(i,this.options.circlemarker),title:L.drawLocal.draw.toolbar.buttons.circlemarker}]},getActions:function(i){return[{enabled:i.completeShape,title:L.drawLocal.draw.toolbar.finish.title,text:L.drawLocal.draw.toolbar.finish.text,callback:i.completeShape,context:i},{enabled:i.deleteLastVertex,title:L.drawLocal.draw.toolbar.undo.title,text:L.drawLocal.draw.toolbar.undo.text,callback:i.deleteLastVertex,context:i},{title:L.drawLocal.draw.toolbar.actions.title,text:L.drawLocal.draw.toolbar.actions.text,callback:this.disable,context:this}]},setOptions:function(i){L.setOptions(this,i);for(var o in this._modes)this._modes.hasOwnProperty(o)&&i.hasOwnProperty(o)&&this._modes[o].handler.setOptions(i[o])}}),L.EditToolbar=L.Toolbar.extend({statics:{TYPE:"edit"},options:{edit:{selectedPathOptions:{dashArray:"10, 10",fill:!0,fillColor:"#fe57a1",fillOpacity:.1,maintainColor:!1}},remove:{},poly:null,featureGroup:null},initialize:function(i){i.edit&&(i.edit.selectedPathOptions===void 0&&(i.edit.selectedPathOptions=this.options.edit.selectedPathOptions),i.edit.selectedPathOptions=L.extend({},this.options.edit.selectedPathOptions,i.edit.selectedPathOptions)),i.remove&&(i.remove=L.extend({},this.options.remove,i.remove)),i.poly&&(i.poly=L.extend({},this.options.poly,i.poly)),this._toolbarClass="leaflet-draw-edit",L.Toolbar.prototype.initialize.call(this,i),this._selectedFeatureCount=0},getModeHandlers:function(i){var o=this.options.featureGroup;return[{enabled:this.options.edit,handler:new L.EditToolbar.Edit(i,{featureGroup:o,selectedPathOptions:this.options.edit.selectedPathOptions,poly:this.options.poly}),title:L.drawLocal.edit.toolbar.buttons.edit},{enabled:this.options.remove,handler:new L.EditToolbar.Delete(i,{featureGroup:o}),title:L.drawLocal.edit.toolbar.buttons.remove}]},getActions:function(i){var o=[{title:L.drawLocal.edit.toolbar.actions.save.title,text:L.drawLocal.edit.toolbar.actions.save.text,callback:this._save,context:this},{title:L.drawLocal.edit.toolbar.actions.cancel.title,text:L.drawLocal.edit.toolbar.actions.cancel.text,callback:this.disable,context:this}];return i.removeAllLayers&&o.push({title:L.drawLocal.edit.toolbar.actions.clearAll.title,text:L.drawLocal.edit.toolbar.actions.clearAll.text,callback:this._clearAllLayers,context:this}),o},addToolbar:function(i){var o=L.Toolbar.prototype.addToolbar.call(this,i);return this._checkDisabled(),this.options.featureGroup.on("layeradd layerremove",this._checkDisabled,this),o},removeToolbar:function(){this.options.featureGroup.off("layeradd layerremove",this._checkDisabled,this),L.Toolbar.prototype.removeToolbar.call(this)},disable:function(){this.enabled()&&(this._activeMode.handler.revertLayers(),L.Toolbar.prototype.disable.call(this))},_save:function(){this._activeMode.handler.save(),this._activeMode&&this._activeMode.handler.disable()},_clearAllLayers:function(){this._activeMode.handler.removeAllLayers(),this._activeMode&&this._activeMode.handler.disable()},_checkDisabled:function(){var i,o=this.options.featureGroup,s=o.getLayers().length!==0;this.options.edit&&(i=this._modes[L.EditToolbar.Edit.TYPE].button,s?L.DomUtil.removeClass(i,"leaflet-disabled"):L.DomUtil.addClass(i,"leaflet-disabled"),i.setAttribute("title",s?L.drawLocal.edit.toolbar.buttons.edit:L.drawLocal.edit.toolbar.buttons.editDisabled)),this.options.remove&&(i=this._modes[L.EditToolbar.Delete.TYPE].button,s?L.DomUtil.removeClass(i,"leaflet-disabled"):L.DomUtil.addClass(i,"leaflet-disabled"),i.setAttribute("title",s?L.drawLocal.edit.toolbar.buttons.remove:L.drawLocal.edit.toolbar.buttons.removeDisabled))}}),L.EditToolbar.Edit=L.Handler.extend({statics:{TYPE:"edit"},initialize:function(i,o){if(L.Handler.prototype.initialize.call(this,i),L.setOptions(this,o),this._featureGroup=o.featureGroup,!(this._featureGroup instanceof L.FeatureGroup))throw new Error("options.featureGroup must be a L.FeatureGroup");this._uneditedLayerProps={},this.type=L.EditToolbar.Edit.TYPE;var s=L.version.split(".");parseInt(s[0],10)===1&&parseInt(s[1],10)>=2?L.EditToolbar.Edit.include(L.Evented.prototype):L.EditToolbar.Edit.include(L.Mixin.Events)},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.EDITSTART,{handler:this.type}),L.Handler.prototype.enable.call(this),this._featureGroup.on("layeradd",this._enableLayerEdit,this).on("layerremove",this._disableLayerEdit,this))},disable:function(){this._enabled&&(this._featureGroup.off("layeradd",this._enableLayerEdit,this).off("layerremove",this._disableLayerEdit,this),L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.EDITSTOP,{handler:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var i=this._map;i&&(i.getContainer().focus(),this._featureGroup.eachLayer(this._enableLayerEdit,this),this._tooltip=new L.Draw.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext}),i._editTooltip=this._tooltip,this._updateTooltip(),this._map.on("mousemove",this._onMouseMove,this).on("touchmove",this._onMouseMove,this).on("MSPointerMove",this._onMouseMove,this).on(L.Draw.Event.EDITVERTEX,this._updateTooltip,this))},removeHooks:function(){this._map&&(this._featureGroup.eachLayer(this._disableLayerEdit,this),this._uneditedLayerProps={},this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this).off("touchmove",this._onMouseMove,this).off("MSPointerMove",this._onMouseMove,this).off(L.Draw.Event.EDITVERTEX,this._updateTooltip,this))},revertLayers:function(){this._featureGroup.eachLayer(function(i){this._revertLayer(i)},this)},save:function(){var i=new L.LayerGroup;this._featureGroup.eachLayer(function(o){o.edited&&(i.addLayer(o),o.edited=!1)}),this._map.fire(L.Draw.Event.EDITED,{layers:i})},_backupLayer:function(i){var o=L.Util.stamp(i);this._uneditedLayerProps[o]||(i instanceof L.Polyline||i instanceof L.Polygon||i instanceof L.Rectangle?this._uneditedLayerProps[o]={latlngs:L.LatLngUtil.cloneLatLngs(i.getLatLngs())}:i instanceof L.Circle?this._uneditedLayerProps[o]={latlng:L.LatLngUtil.cloneLatLng(i.getLatLng()),radius:i.getRadius()}:(i instanceof L.Marker||i instanceof L.CircleMarker)&&(this._uneditedLayerProps[o]={latlng:L.LatLngUtil.cloneLatLng(i.getLatLng())}))},_getTooltipText:function(){return{text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext}},_updateTooltip:function(){this._tooltip.updateContent(this._getTooltipText())},_revertLayer:function(i){var o=L.Util.stamp(i);i.edited=!1,this._uneditedLayerProps.hasOwnProperty(o)&&(i instanceof L.Polyline||i instanceof L.Polygon||i instanceof L.Rectangle?i.setLatLngs(this._uneditedLayerProps[o].latlngs):i instanceof L.Circle?(i.setLatLng(this._uneditedLayerProps[o].latlng),i.setRadius(this._uneditedLayerProps[o].radius)):(i instanceof L.Marker||i instanceof L.CircleMarker)&&i.setLatLng(this._uneditedLayerProps[o].latlng),i.fire("revert-edited",{layer:i}))},_enableLayerEdit:function(i){var o,s,a=i.layer||i.target||i;this._backupLayer(a),this.options.poly&&(s=L.Util.extend({},this.options.poly),a.options.poly=s),this.options.selectedPathOptions&&(o=L.Util.extend({},this.options.selectedPathOptions),o.maintainColor&&(o.color=a.options.color,o.fillColor=a.options.fillColor),a.options.original=L.extend({},a.options),a.options.editing=o),a instanceof L.Marker?(a.editing&&a.editing.enable(),a.dragging.enable(),a.on("dragend",this._onMarkerDragEnd).on("touchmove",this._onTouchMove,this).on("MSPointerMove",this._onTouchMove,this).on("touchend",this._onMarkerDragEnd,this).on("MSPointerUp",this._onMarkerDragEnd,this)):a.editing.enable()},_disableLayerEdit:function(i){var o=i.layer||i.target||i;o.edited=!1,o.editing&&o.editing.disable(),delete o.options.editing,delete o.options.original,this._selectedPathOptions&&(o instanceof L.Marker?this._toggleMarkerHighlight(o):(o.setStyle(o.options.previousOptions),delete o.options.previousOptions)),o instanceof L.Marker?(o.dragging.disable(),o.off("dragend",this._onMarkerDragEnd,this).off("touchmove",this._onTouchMove,this).off("MSPointerMove",this._onTouchMove,this).off("touchend",this._onMarkerDragEnd,this).off("MSPointerUp",this._onMarkerDragEnd,this)):o.editing.disable()},_onMouseMove:function(i){this._tooltip.updatePosition(i.latlng)},_onMarkerDragEnd:function(i){var o=i.target;o.edited=!0,this._map.fire(L.Draw.Event.EDITMOVE,{layer:o})},_onTouchMove:function(i){var o=i.originalEvent.changedTouches[0],s=this._map.mouseEventToLayerPoint(o),a=this._map.layerPointToLatLng(s);i.target.setLatLng(a)},_hasAvailableLayers:function(){return this._featureGroup.getLayers().length!==0}}),L.EditToolbar.Delete=L.Handler.extend({statics:{TYPE:"remove"},initialize:function(i,o){if(L.Handler.prototype.initialize.call(this,i),L.Util.setOptions(this,o),this._deletableLayers=this.options.featureGroup,!(this._deletableLayers instanceof L.FeatureGroup))throw new Error("options.featureGroup must be a L.FeatureGroup");this.type=L.EditToolbar.Delete.TYPE;var s=L.version.split(".");parseInt(s[0],10)===1&&parseInt(s[1],10)>=2?L.EditToolbar.Delete.include(L.Evented.prototype):L.EditToolbar.Delete.include(L.Mixin.Events)},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.DELETESTART,{handler:this.type}),L.Handler.prototype.enable.call(this),this._deletableLayers.on("layeradd",this._enableLayerDelete,this).on("layerremove",this._disableLayerDelete,this))},disable:function(){this._enabled&&(this._deletableLayers.off("layeradd",this._enableLayerDelete,this).off("layerremove",this._disableLayerDelete,this),L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.DELETESTOP,{handler:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var i=this._map;i&&(i.getContainer().focus(),this._deletableLayers.eachLayer(this._enableLayerDelete,this),this._deletedLayers=new L.LayerGroup,this._tooltip=new L.Draw.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.remove.tooltip.text}),this._map.on("mousemove",this._onMouseMove,this))},removeHooks:function(){this._map&&(this._deletableLayers.eachLayer(this._disableLayerDelete,this),this._deletedLayers=null,this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this))},revertLayers:function(){this._deletedLayers.eachLayer(function(i){this._deletableLayers.addLayer(i),i.fire("revert-deleted",{layer:i})},this)},save:function(){this._map.fire(L.Draw.Event.DELETED,{layers:this._deletedLayers})},removeAllLayers:function(){this._deletableLayers.eachLayer(function(i){this._removeLayer({layer:i})},this),this.save()},_enableLayerDelete:function(i){(i.layer||i.target||i).on("click",this._removeLayer,this)},_disableLayerDelete:function(i){var o=i.layer||i.target||i;o.off("click",this._removeLayer,this),this._deletedLayers.removeLayer(o)},_removeLayer:function(i){var o=i.layer||i.target||i;this._deletableLayers.removeLayer(o),this._deletedLayers.addLayer(o),o.fire("deleted")},_onMouseMove:function(i){this._tooltip.updatePosition(i.latlng)},_hasAvailableLayers:function(){return this._deletableLayers.getLayers().length!==0}})})(window,document);var Vzt=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(o=Object.keys(t),r=o.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;i--!==0;){var s=o[i];if(!e(t[s],n[s]))return!1}return!0}return t!==t&&n!==n};const Yhe=Dl(Vzt);function Xhe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function TP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Xhe(Object(n),!0).forEach(function(r){Uzt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xhe(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Uzt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var rb={onEdited:"draw:edited",onDrawStart:"draw:drawstart",onDrawStop:"draw:drawstop",onDrawVertex:"draw:drawvertex",onEditStart:"draw:editstart",onEditMove:"draw:editmove",onEditResize:"draw:editresize",onEditVertex:"draw:editvertex",onEditStop:"draw:editstop",onDeleted:"draw:deleted",onDeleteStart:"draw:deletestart",onDeleteStop:"draw:deletestop"};function fNe(e){var t=Tte(),n=h.useRef(),r=h.useRef(e),i=function(s){var a=e.onCreated,l=t.layerContainer||t.map;l.addLayer(s.layer),a&&a(s)};return ne.useEffect(function(){var o=t.map,s=e.onMounted;for(var a in rb)o.on(rb[a],function(l){var u=Object.keys(rb).filter(function(f){return rb[f]===l.type});if(u.length===1){var c=u[0];e[c]&&e[c](l)}});return o.on(Zhe.Draw.Event.CREATED,i),n.current=Qhe(e,t),o.addControl(n.current),s&&s(n.current),function(){o.off(Zhe.Draw.Event.CREATED,i);for(var l in rb)e[l]&&o.off(rb[l],e[l]);n.current.remove(o)}},[e.onCreated,e.onDeleted,e.onEdited]),ne.useEffect(function(){if(!(Yhe(e.draw,r.current.draw)&&Yhe(e.edit,r.current.edit)&&e.position===r.current.position)){var o=t.map;n.current.remove(o),n.current=Qhe(e,t),n.current.addTo(o);var s=e.onMounted;return s&&s(n.current),function(){n.current.remove(o)}}},[e.draw,e.edit,e.position,e.onCreated,e.onDeleted,e.onEdited]),null}function Qhe(e,t){var n=t.layerContainer,r=e.draw,i=e.edit,o=e.position,s={edit:TP(TP({},i),{},{featureGroup:n})};return r&&(s.draw=TP({},r)),o&&(s.position=o),new Jf.Control.Draw(s)}fNe.propTypes=TP(TP({},Object.keys(rb).reduce(function(e,t){return e[t]=Or.PropTypes.func,e},{})),{},{onCreated:Or.PropTypes.func,onMounted:Or.PropTypes.func,draw:Or.PropTypes.shape({polyline:Or.PropTypes.oneOfType([Or.PropTypes.object,Or.PropTypes.bool]),polygon:Or.PropTypes.oneOfType([Or.PropTypes.object,Or.PropTypes.bool]),rectangle:Or.PropTypes.oneOfType([Or.PropTypes.object,Or.PropTypes.bool]),circle:Or.PropTypes.oneOfType([Or.PropTypes.object,Or.PropTypes.bool]),marker:Or.PropTypes.oneOfType([Or.PropTypes.object,Or.PropTypes.bool])}),edit:Or.PropTypes.shape({edit:Or.PropTypes.oneOfType([Or.PropTypes.object,Or.PropTypes.bool]),remove:Or.PropTypes.oneOfType([Or.PropTypes.object,Or.PropTypes.bool]),poly:Or.PropTypes.oneOfType([Or.PropTypes.object,Or.PropTypes.bool]),allowIntersection:Or.PropTypes.bool}),position:Or.PropTypes.oneOf(["topright","topleft","bottomright","bottomleft"]),leaflet:Or.PropTypes.shape({map:Or.PropTypes.instanceOf(Jf.Map),layerContainer:Or.PropTypes.shape({addLayer:Or.PropTypes.func.isRequired,removeLayer:Or.PropTypes.func.isRequired})})});var Wzt=Object.defineProperty,Kzt=(e,t,n)=>t in e?Wzt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,qzt=(e,t,n)=>(Kzt(e,t+"",n),n),Gzt=Se.button`
  border: none;
  outline: none;
  background-color: transparent;
  margin: 0;
  padding: 0;
  font-size: inherit;
  color: inherit;
  cursor: pointer;
  &:hover {
    color: inherit;
  }
`,vs=Se.button`
  padding: 0.5rem 1rem;
  color: ${e=>e.theme.color.main||"none"};
  background-color: ${e=>e.theme.color.white||"white"};
  border-radius: inherit;
  border: none;
  cursor: pointer;
  display: flex;
  align-items: center;
  font-size: 0.85em;
  :disabled {
    opacity: 0.65;
    cursor: not-allowed;
  }

  &:hover {
    background: #eee;
  }
`,Zzt=Se(vs)`
  padding: 0.25em ${e=>e.theme.padding.xs||"0.4em"};
  height: unset;
  background: none;
`;Se(vs)`
   {
    padding: 0 ${e=>e.theme.padding.medium||"1rem"};
    color: ${e=>e.theme.color.main||"#B84C74;"};
    background-color: ${e=>e.theme.color.white||"white"};
    border: 1px solid ${e=>e.theme.color.main||"#B84C74;"};
    border-radius: 0.25rem;
    cursor: pointer;
    height: 2rem;
    display: flex;
    align-items: center;
    white-space: nowrap;
    font-size: 0.75rem;

    :disabled {
      opacity: 0.65;
      cursor: not-allowed;
    }
  }
`;Se(vs)`
  padding: 0 ${e=>e.theme.padding.medium||"1rem"};
  color: ${e=>e.theme.color.white||"white"};
  background-color: ${e=>e.theme.color.main||"#B84C74;"};
  border: 1px solid #eee;
  border-radius: 0.25rem;
  cursor: pointer;
  justify-content: center;
  display: flex;
  align-items: center;
  &:hover {
    background-color: ${e=>e.theme.color.mainHover||"#B84C74;"};
  }
`;var eZ=Se.div`
  display: flex;
  flex-direction: row;
  flex-wrap: wrap;
  align-items: flex-start;
  justify-content: ${e=>e.$right?"flex-end":"flex-start"};
`,dc=Se.div`
  padding: 0 0.7em;
  margin: 0.7em 0;
  flex: 1;
  overflow: visible;
`,q4=Se.div`
  text-align: center;
  color: #666;
  font-size: 0.8em;
  padding: 1.5em;
  width: 100%;

  ${e=>e.$noMargin&&ln`
      margin-top: 10px;
    `}

  ${e=>e.$box&&ln`
      border-radius: 3px;
      background: #eee;
    `}

  & ~ & {
    margin-top: 0;
  }
`;Se.div`
  display: flex;
  flex-direction: row;
  justify-content: ${e=>e.justify||"flex-start"};
`;var j3=Se.div`
  display: flex;
  flex-direction: row;
  ${e=>e.$align&&ln`
      align-items: center;
    `}
`,mg=Se.div`
  display: flex;
  flex-direction: column;
  justify-content: ${e=>e.justify||"flex-start"};
`,Jhe=Se.div`
  max-height: 300px;
  flex: 1;
  display: flex;
  justify-content: center;
  background: #f9f9f9;
  margin-bottom: 0.5em;
  img {
    object-fit: contain;
    width: 100%;
  }
`,Lte=({title:e,...t})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",height:"1em",width:"1em",...t,children:[d.jsx("path",{d:"M0 0h24v24H0z",fill:"none"}),d.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),e?d.jsx("title",{children:e}):null]}),an=Se.label`
  position: sticky;
  top: 0;
  background: #fff;
  font-weight: 500;
  line-height: 2.4em;
  font-size: 0.925em;
  display: flex;
  flex-direction: row;
  align-items: baseline;
  width: 100%;
  /* flex-direction: column; */
  // padding: 0 ${e=>e.theme.padding.medium||"1rem"};
  ${e=>e.$caps&&ln`
      text-transform: capitalize;
    `};
  ${e=>e.$inline&&ln`
      flex-direction: row;
      align-items: center;
      width: unset;
    `};
`,Yzt=Se.fieldset`
  border: 1px solid #ddd;
  border-radius: 3px;
  padding: 0.5em;

  ${an} {
    font-size: 0.875em;
  }
`,Xzt=Se.div`
  display: inline-block;

  font-size: 1.2em;
  display: flex;
  padding: 0.1em;
  border-radius: 3px;
  margin: auto 0.2em;
  margin-left: auto;
  aspect-ratio: 1;

  &:hover,
  &[aria-expanded="true"] {
    background: #e8f0fe;
  }

  &[data-active="true"] {
    background: #e8f0fe;
  }

  svg,
  img {
    height: 0.8em;
  }
`;function I8(e){return d.jsx(Xzt,{...e,children:d.jsx(Lte,{})})}Se(an)`
  width: fit-content;
  flex-direction: row;
  align-items: center;
  padding: 0 ${e=>e.theme.padding.small||"1rem"};
  margin: ${e=>e.theme.padding.xs||"1rem"} ${e=>e.theme.padding.xs||"1rem"};
  background-color: ${e=>e.theme.color.white||"white"};
  color: ${e=>e.theme.color.main||"#B84C74;"};
  border: 1px solid ${e=>e.theme.color.main||"#B84C74;"};
  border-radius: 20px;
  cursor: pointer;
  height: 2rem;
  display: flex;
  align-items: center;
  white-space: nowrap;
  ${e=>e.$selected&&ln`
      color: ${e.theme.color.white||"white"};
      background-color: ${e.theme.color.main||"#B84C74;"};
    `}

  :hover {
    color: ${e=>e.theme.color.white||"white"};
    background-color: ${e=>e.theme.color.main||"#B84C74;"};
  }
`;var Qzt=Se.input.attrs({type:"checkbox"})``,Jzt=Se.input`
  background: ${e=>e.theme.color.white||"white"};
  border: 1px solid rgba(5, 42, 68, 0.2);
  padding: 0.8em;
  font-size: 0.875em;
  line-height: 1.2em;
  border-radius: 3px;

  width: 100%;
  box-shadow: 0 0 0 0 transparent inset;
  &:focus {
    border-color: ${e=>e.theme.color.black||"black"};
    outline: none;
  }
  margin: 0;
  display: block;
  outline: 0;
  font-family: inherit;
  -webkit-appearance: none;
  tap-highlight-color: rgba(255, 255, 255, 0);
  color: rgba(0, 0, 0, 0.87);
  &:focus {
    border-color: ${e=>e.theme.color.main||"main"};
    outline: none;
  }

  &:disabled {
    background: #eee;
    cursor: not-allowed;
  }
`,eHt=Se(Jzt)`
  border-radius: unset;
  background-color: #f8f9fa;
  border-top: none;
  border-left: none;
  border-right: none;
  white-space: pre-line;

  &:focus {
    background: #eceef5;
  }
`,tHt=Se(j3)`
  display: flex;
`;Se.input.attrs({type:"submit",value:"Load"})`
  padding: 0 ${e=>e.theme.padding.medium||"1rem"};
  color: ${e=>e.theme.color.white||"white"};
  background-color: ${e=>e.theme.color.main||"#B84C74;"};
  border: none;
  border-radius: 0.25rem;
  cursor: pointer;
  height: 2rem;
  display: flex;
  align-items: center;
`;var ji=ne.forwardRef((e,t)=>e.type==="checkbox"?d.jsx(Qzt,{ref:t,...e}):d.jsx(eHt,{ref:t,...e}));Se.input`
  background: transparent;
  border: none;
  padding: ${e=>e.theme.padding.small||"0.5rem"};
  font-size: 0.9em;
  line-height: 1.3em;
  width: 100%;
  box-shadow: none;
  border: none;
  &:focus {
    border-color: ${e=>e.theme.color.main||"main"};
    outline: none;
  }
`;Se.fieldset`
  border: none;
  background: none;
  padding: 0;
  margin: 0;
`;var Vn=Se.div`
  display: flex;
  flex-direction: column;
  max-width: ${e=>e.$$fluid?"100%":e.$wide?"550px":"360px"};
  margin-bottom: 1.5em;
  width: 100%;

  ${e=>e.$error&&ln`
      background: ${e.theme.color.lightdanger||"#ffeaea"};
      outline: 5px solid ${e.theme.color.lightdanger||"#ffeaea"};
      input,
      textarea {
        border-color: ${e.theme.color.danger||"#9c2824"};
      }
    `}
`,nHt=Se.fieldset`
  padding: 0 1em 1em;
  border: 1px solid #ddd;
  border-radius: 3px;

  ${Vn}:first-child {
    margin-top: 0.5em;
  }

  margin-bottom: 0.5em;

  ${e=>e.$inline&&ln`
      padding: 0;
      margin: 0;
      border: none;
    `}
`;Se.div`
  display: flex;
  align-items: center;
  margin-bottom: 0.5em;

  label {
    flex: 1 1 0px;
    margin: 0;
    margin-left: 1em;
  }
`;Se.div`
  background: ${e=>e.theme.color.grey||"grey"};
  height: 2em;
  width: 2em;
  display: flex;
  align-items: center;
  justify-content: center;
  border: 2px solid ${e=>e.theme.color.grey||"grey"};
  ${e=>e.$checked&&ln`
      background-color: ${e.theme.color.lightsuccess||"#c5e8c5"};
      border-color: ${e.theme.color.sucess||"#6ccd55"};
    `}
`;Se.div`
  background: ${e=>e.theme.color.grey||"grey"};
  border: 1px solid rgba(5, 42, 68, 0.2);
  padding: ${e=>e.theme.padding.small||"0.5rem"}
    ${e=>e.theme.padding.medium||"1rem"};
  font-size: 0.85em;
  line-height: 1.3em;
  border-radius: 0;
  width: 100%;
  box-shadow: none;
  max-width: ${e=>e.$wide?"550px":"450px"};
  margin-bottom: 0.8em;
  &:focus {
    border-color: #333;
    outline: none;
  }
`;Se.a`
  margin: 0.5em 0;
  font-size: 0.75em;
  color: ${e=>e.theme.color.main||"main"};
`;Se.input`
  display: none;
`;var rHt=({color:e="red"})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:e,children:[d.jsx("path",{d:"M0 0h24v24H0z",fill:"none"}),d.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM4 12c0-4.42 3.58-8 8-8 1.85 0 3.55.63 4.9 1.69L5.69 16.9C4.63 15.55 4 13.85 4 12zm8 8c-1.85 0-3.55-.63-4.9-1.69L18.31 7.1C19.37 8.45 20 10.15 20 12c0 4.42-3.58 8-8 8z"})]}),yz=class extends h.Component{constructor(){super(...arguments),qzt(this,"state",{hasError:!1})}static getDerivedStateFromError(e){return console.error(e),{hasError:!0}}componentDidCatch(e,t){console.error("Uncaught error:",e,t)}render(){return this.state.hasError?d.jsx("h1",{children:"Sorry.. there was an error"}):this.props.children}};Se.div`
  padding: ${e=>e.theme.padding.large||"2rem"};
`;var iHt=Se.div`
  padding: ${e=>e.theme.padding.medium||"1rem"};
`,bz=Se.div`
  padding: ${e=>e.theme.padding.small||"0.5rem"};
`;Se.div`
  min-height: 10rem;
  width: 100%;
  display: flex;
  flex-direction: column;
  box-shadow: ${e=>e.theme.shadows.standard||""};
  padding: ${e=>e.theme.padding.medium||"2rem"};
  background: ${e=>e.theme.color.white||"white"};
`;Se.div`
  width: 100%;
  overflow: auto;
  justify-content: flex-start;
  display: flex;
`;Se.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  margin: ${e=>e.theme.padding.xs||"0.25rem"};
`;Se.small`
  text-align: center;
`;Se(mg)`
  align-items: center;
  max-width: 10rem;
  height: fit-content;
  color: grey;
  font-size: 0.75rem;
`;Se.div`
  align-items: center;
  justify-content: center;
  display: flex;
  height: 8rem;
  width: 6.25rem;
  border-radius: 2px;
  border: 2px solid ${e=>e.theme.color.mediumgrey||"grey"};
  padding: ${e=>e.theme.padding.xs||"0.25rem"};
`;Se.div`
  height: 100%;
  width: 100%;
  background-color: ${e=>e.theme.color.mediumgrey||"grey"};
  border-radius: 2px;
`;var Ate=Se.img`
   {
    object-fit: contain;
    user-select: none;
  }
`,Ite=Se.div`
  padding: ${e=>e.theme.padding.small||"0.5rem"};
  color: ${e=>e.color||"black"};
  display: flex;
  flex-direction: column;
  justify-content: flex-start;
  overflow-y: auto;
  width: 100%;
  min-width: 40px;
  @media (max-width: ${e=>e.theme.device.tablet||"770px"}) {
    flex-direction: row;
    width: 80%;
    overflow-x: auto;
  }
  align-items: center;
  background-color: ${e=>e.theme.color.lightgrey||"grey"};
  ${e=>e.$size&&ln`
      padding: 0;
      img {
        width: ${e.$size}px;
        height: ${e.$size}px;
        max-width: 100%;
      }
    `};
`;Se.div`
  padding: ${e=>e.theme.padding.xs||"0.25rem"};
  color: ${e=>e.color||"black"};
  display: flex;
  flex-direction: column;
  justify-content: flex-start;
  overflow-y: auto;
  width: 100%;
  @media (max-width: ${e=>e.theme.device.tablet||"770px"}) {
    flex-direction: row;
    width: 80%;
    overflow-x: auto;
  }
  align-items: center;
  background-color: ${e=>e.theme.color.lightgrey||"grey"};
  ${e=>e.$size&&ln`
      padding: none;
      img {
        width: ${e.$size}px;
        height: ${e.$size}px;
        max-width: 100%;
      }
    `};
`;Se.div`
  padding: ${e=>e.theme.padding.small||"0.5rem"};
  color: ${e=>e.color||"black"};
  display: flex;
  flex-direction: row;
  justify-content: flex-start;
  height: 10rem;
  overflow-x: auto;
  width: 100%;
`;Se.div`
  padding: ${e=>e.theme.padding.small||"0.5rem"};
  color: ${e=>e.color||"black"};
  display: flex;
  flex-direction: row;
  justify-content: space-evenly;
  max-height: 90vh;
  overflow-y: auto;
  width: 100%;
  flex-wrap: wrap;
  @media (max-width: ${e=>e.theme.device.tablet||"770px"}) {
    flex-direction: row;
    overflow-x: auto;
  }
`;var epe="Invariant failed";function cx(e,t){if(!e){var n=typeof t=="function"?t():t,r=n?"".concat(epe,": ").concat(n):epe;throw new Error(r)}}function hNe(e={}){return Ki(t=>t.iiif.entities.ContentResource[e.id||""])}function pNe({resourceId:e,options:t={}}){const n=hNe({id:e}),r=e||(n==null?void 0:n.id),i=$n();cx(r,"Missing resource");const o=h.useMemo(()=>n1(i),[i]),[s,a]=h.useState(),l=h.useRef();return l.current=r,h.useEffect(()=>{const u=l.current;try{o.getBestThumbnailAtSize(i.get(r),{maxWidth:200,maxHeight:200,allowUnsafe:!0,...t}).then(c=>{u===l.current&&c.best&&a(c.best)})}catch{}},[o,n,i]),s}var oHt=Se.div`
  padding: 0.5em;
  background: #ffffff;
  border: 1px solid #c7c7c7;
  box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.07);
  border-radius: 3px;
  display: flex;

  ${e=>e.$interactive&&ln`
      cursor: pointer;

      &:hover {
        border-color: #b84c74;
        outline: 1px solid #b84c74;
      }
    `}

  margin-top: 1px;

  &[data-margin="true"] {
    margin-bottom: 0.5em;
  }
`,sHt=Se.div`
  margin-right: 0.5em;
  min-width: 40px;
  background: #f5f5f5;
  display: flex;
  align-items: center;
  justify-content: center;
`,aHt=Se.div`
  flex: 1;
  display: flex;
  flex-direction: column;
  width: 100%;
  min-width: 0;
`,lHt=Se.div`
  display: flex;
  align-items: center;
  margin-bottom: 0.5em;
`,uHt=Se.div`
  color: #494949;
  flex: 1;
  font-weight: 500;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
  font-size: 0.875em;
`,cHt=Se.a`
  color: #bdbdbd;
  font-size: 0.8em;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  display: block;
  min-width: 0;
`,dHt=Se.div`
  color: #bdbdbd;
  font-size: 0.8em;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  display: block;
  min-width: 0;
`,fHt=Se.div`
  color: #9a9a9a;
  font-size: 0.8em;
  margin-left: auto;
`,Bv={Container:oHt,Icon:sHt,Title:uHt,Link:cHt,NoLink:dHt,Label:fHt,Content:aHt,TitleContainer:lHt};function R8(e){return d.jsxs(Bv.Container,{"data-margin":e.margin,onClick:e.onClick,$interactive:!!e.onClick,...e.containerProps||{},children:[d.jsx(Bv.Icon,{children:typeof e.icon=="string"?d.jsx("img",{src:e.icon,alt:e.iconLabel||""}):e.icon}),d.jsxs(Bv.Content,{children:[d.jsxs(Bv.TitleContainer,{children:[d.jsx(Bv.Title,{children:e.title}),d.jsx(Bv.Label,{children:e.label})]}),e.noLink?d.jsx(Bv.NoLink,{children:e.link}):d.jsx(Bv.Link,{href:e.link,children:e.link})]})]})}function tpe({id:e,onClick:t,margin:n}){const r=hNe({id:e}),i=pNe({resourceId:e});cx(r,`ContentResource "${e}" not found`);const o=uc(r.label,{defaultText:"Thumbnail"});return d.jsx("div",{children:d.jsx(R8,{margin:n,title:o,icon:i?d.jsx(Ite,{$size:40,children:d.jsx(Ate,{src:i.id,alt:"thumbnail"})}):null,link:e,label:(r==null?void 0:r.format)||(r==null?void 0:r.type),iconLabel:"Icon label",onClick:t?s=>{s.preventDefault(),t()}:void 0})})}function hHt({title:e,...t}){return d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",height:"1em",width:"1em",...t,children:[d.jsx("path",{fill:"none",d:"M0 0h24v24H0z"}),d.jsx("path",{d:"M20 9H4v2h16V9zM4 15h16v-2H4v2z"}),e?d.jsx("title",{children:e}):null]})}var pHt=e=>d.jsxs("svg",{...e,viewBox:"4 4 16 16",xmlns:"http://www.w3.org/2000/svg",height:"1em",width:"1em",children:[e.title?d.jsx("title",{children:e.title}):null,d.jsx("path",{d:"M0 0h24v24H0z",fill:"none"}),d.jsx("path",{d:"M8 5v14l11-7z",fill:"currentColor"})]}),mHt=e=>d.jsxs("svg",{...e,viewBox:"4 4 16 16",xmlns:"http://www.w3.org/2000/svg",height:"1em",width:"1em",children:[e.title?d.jsx("title",{children:e.title}):null,d.jsx("path",{d:"M0 0h24v24H0z",fill:"none"}),d.jsx("path",{fill:"currentColor",d:"M6 19h4V5H6v14zm8-14v14h4V5h-4z"})]}),ha={menuOuter:"AppDropdown_menuOuter",buttonReset:"AppDropdown_buttonReset",container:"AppDropdown_container",sectionLabel:"AppDropdown_sectionLabel",itemContainer:"AppDropdown_itemContainer",itemContainerActive:"AppDropdown_itemContainerActive",itemIcon:"AppDropdown_itemIcon",iconAction:"AppDropdown_iconAction",actionButton:"AppDropdown_actionButton",splitItem:"AppDropdown_splitItem",itemLabel:"AppDropdown_itemLabel",itemLink:"AppDropdown_itemLink",itemHotkey:"AppDropdown_itemHotkey",divider:"AppDropdown_divider"};function gHt({as:e,items:t,children:n,style:r,...i}){const o=e||vs,{itemProps:s,buttonProps:a,isOpen:l,setIsOpen:u}=P4(t.length),{x:c,y:f,refs:p,strategy:g,context:v}=HX({open:l,onOpenChange:u,middleware:[jX({mainAxis:5,alignmentAxis:4}),FX({fallbackPlacements:["bottom-end","top-end"]}),NX({padding:10})],placement:"bottom-start",strategy:"fixed",whileElementsMounted:OO}),y=()=>{var k;const _=(k=a.ref.current)==null?void 0:k.getBoundingClientRect();_&&p.setPositionReference({getBoundingClientRect(){return _}})},S=_=>{y(),a.onClick&&a.onClick(_)},C=_=>{y(),a.onKeyDown&&a.onKeyDown(_)};return h.useLayoutEffect(()=>{y()},[]),d.jsxs("div",{className:ha.menuOuter,style:r,children:[d.jsx(o,{...a,...i,onClick:S,onKeyDown:C,children:n}),l&&d.jsx(P2e,{children:d.jsx(YJe,{lockScroll:!0,style:{zIndex:60},children:d.jsx(GJe,{context:v,initialFocus:p.floating,children:d.jsx("ul",{className:ha.container,ref:p.setFloating,style:{position:g,left:c??0,top:f??0},children:t.map((_,k)=>{const w=d.jsx("li",{className:yk(ha.itemContainer,_.active&&ha.itemContainerActive),...s[k],onClick:_.onClick,children:_.onClick?d.jsxs("button",{className:yk(ha.actionButton,ha.buttonReset),children:[_.icon?d.jsx("span",{className:ha.itemIcon,children:_.icon}):null,d.jsx("span",{className:ha.itemLabel,children:_.label}),_.hotkey?d.jsx("span",{className:ha.itemHotkey,children:_.hotkey}):null]}):d.jsxs("div",{className:ha.splitItem,children:[d.jsx("button",{onClick:_.action,className:yk(ha.buttonReset,ha.iconAction),children:_.icon||(_.isRunning?d.jsx(mHt,{}):d.jsx(pHt,{title:""}))}),d.jsx("span",{className:ha.itemLabel,"data-running":_.isRunning,children:_.label}),_.actionLink?d.jsx("button",{onClick:_.actionLink,className:yk(ha.buttonReset,ha.itemLink),children:_.actionLinkLabel||"view"}):null,_.hotkey?d.jsx("span",{className:ha.itemHotkey,children:_.hotkey}):null]})},k);return _.sectionAbove?d.jsxs(h.Fragment,{children:[_.sectionAbove.divider?d.jsx("hr",{className:ha.divider}):null,d.jsx("li",{className:ha.sectionLabel,children:_.sectionAbove.label}),w]},k):w})})})})})]})}var npe=zvt;Se.div`
  font-size: 1.2em;
  display: flex;
  padding: 0.1em;
  border-radius: 3px;
  margin: auto 0.2em;
  aspect-ratio: 1;

  &:hover,
  &[aria-expanded="true"] {
    background: #e8f0fe;
  }
`;function vHt({children:e,as:t,item:n,reorderEnabled:r,inlineHandle:i,actions:o,marginBottom:s,grid:a,...l}){const{attributes:u,listeners:c,setNodeRef:f,setActivatorNodeRef:p,transform:g,transition:v}=YEt({id:n.id,data:{ref:n},transition:{duration:150,easing:"cubic-bezier(0.25, 1, 0.5, 1)"}}),y=h.useMemo(()=>({transform:D4.Transform.toString(g),transition:v,position:"relative"}),[g,v]),S=t||"div";return r?d.jsx(S,{...l,ref:f,style:y,...u,...i?c:{},children:d.jsx(Bvt,{grid:a,actions:o!=null&&o.length?d.jsx(gHt,{as:npe,items:o,children:d.jsx(Qvt,{})}):null,handle:i?null:d.jsx(npe,{ref:p,...c,children:d.jsx(hHt,{})}),children:e})}):d.jsx(S,{...l,children:e})}function v1({items:e,renderItem:t,id:n,reorder:r,inlineHandle:i=!0,createActions:o,marginBottom:s,grid:a}){const l=M3t(zue(xee),zue(bee,{coordinateGetter:JEt})),u=h.useCallback(f=>{var v,y,S,C;const{active:p,over:g}=f;g&&((v=p.data.current)==null?void 0:v.ref)!==((y=g.data.current)==null?void 0:y.ref)&&r({startIndex:e.indexOf((S=p.data.current)==null?void 0:S.ref),endIndex:e.indexOf((C=g.data.current)==null?void 0:C.ref)})},[e,r]),c=e.length>0;return d.jsx(AEt,{sensors:l,collisionDetection:A3t,onDragEnd:u,modifiers:[nkt],children:d.jsx(VEt,{items:e,strategy:See,children:e.map((f,p)=>f?d.jsx(vHt,{item:f,inlineHandle:i,reorderEnabled:c,actions:o?o(f,p,f):void 0,marginBottom:s,grid:a,children:f.type?d.jsx(i1,{value:{[f.type]:f.id},children:t(f,p,f)}):t(f,p,f)},f.id):null)})})}function mNe(e){return e.reorder?d.jsx(v1,{id:e.id||"reorder-list",marginBottom:"0.5em",items:e.list||[],inlineHandle:e.inlineHandle,reorder:e.reorder,renderItem:(t,n)=>d.jsx(tpe,{id:t.id,onClick:()=>e.onSelect(t,n)},t.id),createActions:e.createActions}):d.jsx("div",{id:e.id,children:e.list.map((t,n)=>{const r=os(t)?t.source:t;return d.jsx(tpe,{margin:!0,id:r.id,onClick:()=>e.onSelect(t,n)},r.id)})})}function rpe(e){const t=T3e(),n=kr();return n?d.jsxs("div",{onClick:e.onClick,children:["Canvas: ",d.jsx(Fn,{children:n.label})]}):t?d.jsxs("div",{onClick:e.onClick,children:["Range: ",d.jsx(Fn,{children:t==null?void 0:t.label})]}):d.jsx("div",{children:"Unknown Structure"})}function gNe(e){const t=(n,r)=>{const i=os(n)?n.source:n;return i.type==="Canvas"?d.jsx(Do,{canvas:i.id,children:d.jsx(rpe,{margin:!e.reorder,id:i.id,onClick:()=>e.onSelect(n,r)},i.id)},r):d.jsx(P3e,{range:i.id,children:d.jsx(rpe,{margin:!e.reorder,id:i.id,onClick:()=>e.onSelect(n,r)},i.id)},r)};return e.reorder?d.jsx(v1,{id:e.id||"reorder-list",marginBottom:"0.5em",items:e.list||[],inlineHandle:e.inlineHandle,reorder:e.reorder,renderItem:t,createActions:e.createActions}):d.jsx("div",{id:e.id,children:e.list.map(t)})}function vNe(e){return!!(e&&e[R2])}function N3(){const[e,t]=h.useReducer((n,r)=>({...n,[r]:!n[r]}),{});return[e,t]}function Tg(e){const t=HJ(),n=fd();return(n==null?void 0:n.resource.source.type)===e?n:t.find(r=>r.resource.source.type===e)}function ipe(){return`${Math.random().toString(36).substr(2)}-${Date.now().toString(36)}`}function ope({margin:e,onClick:t}){const n=lQ(),r=vNe(n);return n?d.jsx(R8,{margin:e,title:uc(n==null?void 0:n.label)||d.jsx("span",{style:{color:"#999"},children:"Untitled annotation page"}),icon:r?d.jsx(yHt,{className:"text-2xl"}):d.jsx(bHt,{className:"text-2xl"}),link:n==null?void 0:n.id,label:r?"External annotations":`${n==null?void 0:n.items.length} annotations`,iconLabel:"Icon label",onClick:t?i=>{i.preventDefault(),t()}:void 0}):null}function yHt(e){return d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:d.jsx("path",{fill:"currentColor",d:"m12.126 8.125l1.937-1.937l3.747 3.747l-1.937 1.938zM20.71 5.63l-2.34-2.34a1 1 0 0 0-1.41 0l-1.83 1.83l3.75 3.75L20.71 7a1 1 0 0 0 0-1.37M2 5l6.63 6.63L3 17.25V21h3.75l5.63-5.62L18 21l2-2L4 3z"})})}function bHt(e){return d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:d.jsx("path",{fill:"currentColor",d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04a.996.996 0 0 0 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83l3.75 3.75z"})})}function wHt(e){return e.reorder?d.jsx(v1,{id:e.id||"reorder-anno-page-list",marginBottom:"0.5em",items:e.list||[],inlineHandle:e.inlineHandle,reorder:e.reorder,renderItem:(t,n)=>{var r,i;return d.jsx(XR,{annotationPage:(r=Oi(t))==null?void 0:r.id,children:d.jsx(ope,{onClick:()=>e.onSelect(t,n)},t.id)},(i=Oi(t))==null?void 0:i.id)},createActions:e.createActions}):d.jsx("div",{id:e.id,children:e.list.map((t,n)=>{const r=os(t)?t.source:t;return d.jsx(XR,{annotationPage:r.id,children:d.jsx(ope,{margin:!0,onClick:()=>e.onSelect(r,n)},t.id)},r.id)})})}function Tw(e){var l;const[t,n]=ed((l=e.parent)==null?void 0:l.source,e.property,e.creationType),[r,i]=h.useState(!1),o=e.singleMode?(e.items||[]).length===0:t;let s=mNe;switch(e.creationType){case"Range":s=gNe;break;case"AnnotationPage":s=wHt}const a=e.items||[];return d.jsxs("div",{id:e.containerId,className:"mb-2",children:[d.jsxs("div",{className:"flex flex-col gap-2",children:[a.length?d.jsxs(an,{children:[e.label,d.jsx(I8,{"data-active":r,onClick:()=>i(u=>!u)})]}):d.jsxs(d.Fragment,{children:[d.jsx(an,{children:e.label}),d.jsx(EJ,{$noMargin:!0,$box:!0,children:e.emptyLabel})]}),d.jsx(s,{list:a,inlineHandle:!1,reorder:r?e.reorder:void 0,onSelect:(u,c)=>{n.edit(u,c)},createActions:e.createActions})]}),o?d.jsxs(Rs,{onPress:()=>n.create(),children:[d.jsx(nRe,{})," Add ",e.label]}):null]})}var xHt=()=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",height:"1rem",viewBox:"0 0 24 24",width:"24px",fill:"#000000",children:[d.jsx("path",{d:"M0 0h24v24H0V0z",fill:"none"}),d.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM8 9h8v10H8V9zm7.5-5l-1-1h-5l-1 1H5v2h14V4h-3.5z"})]}),yNe=({rotate:e=0,...t})=>d.jsx("svg",{version:"1.2",xmlns:"http://www.w3.org/2000/svg",overflow:"visible",preserveAspectRatio:"none",viewBox:"0 0 24 24",width:"1em",height:"1em",style:{fill:"rgba(0, 0, 0, 0.6)",transform:`rotate(${e}deg)`,transition:"transform 0.2s"},...t,children:d.jsx("path",{d:"M8.12 9.29 12 13.17l3.88-3.88a.996.996 0 1 1 1.41 1.41l-4.59 4.59a.996.996 0 0 1-1.41 0L6.7 10.7a.996.996 0 0 1 0-1.41c.39-.38 1.03-.39 1.42 0z",fill:"currentColor"})}),SHt=e=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",height:"1em",width:"1em",viewBox:"0 0 24 24",...e,children:[d.jsx("path",{d:"M0 0h24v24H0V0z",fill:"none"}),d.jsx("path",{d:"M12 5V2L8 6l4 4V7c3.31 0 6 2.69 6 6 0 2.97-2.17 5.43-5 5.91v2.02c3.95-.49 7-3.85 7-7.93 0-4.42-3.58-8-8-8zM6 13c0-1.65.67-3.15 1.76-4.24L6.34 7.34A8.014 8.014 0 0 0 4 13c0 4.08 3.05 7.44 7 7.93v-2.02c-2.83-.48-5-2.94-5-5.91z"})]});function Tl(e){return(t,n,r)=>e.get().length===0?[]:[{label:"Move to start",icon:d.jsx(SHt,{}),onClick:()=>e.moveToStart(n)},{label:"Move to end",icon:d.jsx(yNe,{}),onClick:()=>e.moveToEnd(n)},{label:"Delete",icon:d.jsx(xHt,{}),onClick:()=>e.deleteAtIndex(n)}]}var _Ht="CanvasListPreview_Item",CHt="CanvasListPreview_Label",EHt="CanvasListPreview_ItemMargin";function tZ(e){const t=kr();return d.jsxs("button",{"data-canvas-selected":e.active,className:yk(_Ht,e.margin&&EHt),"aria-selected":e.active,onClick:e.onClick,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 -960 960 960",width:"24px",fill:"currentColor",children:d.jsx("path",{d:"M240-80q-33 0-56.5-23.5T160-160v-640q0-33 23.5-56.5T240-880h320l240 240v480q0 33-23.5 56.5T720-80H240Zm280-520v-200H240v640h480v-440H520ZM240-800v200-200 640-640Z"})}),d.jsx("div",{className:CHt,children:uc(t==null?void 0:t.label)||d.jsx("span",{style:{color:"#999"},children:"Untitled canvas"})})]})}function bNe(e){return e.reorder?d.jsx(v1,{id:e.id||"reorder-canvas-list",marginBottom:"0.5em",items:e.list||[],inlineHandle:e.inlineHandle,reorder:e.reorder,renderItem:(t,n)=>{var r,i;return d.jsx(Do,{canvas:(r=Oi(t))==null?void 0:r.id,children:d.jsx(tZ,{active:(e==null?void 0:e.activeId)===((i=Oi(t))==null?void 0:i.id),onClick:()=>e.onSelect(t,n)},t.id)})},createActions:e.createActions}):d.jsx("div",{id:e.id,children:e.list.map((t,n)=>{const r=os(t)?t.source:t;return d.jsx(Do,{canvas:r.id,children:d.jsx(tZ,{margin:!0,active:(e==null?void 0:e.activeId)===r.id,onClick:()=>e.onSelect(r,n)},t.id)},r.id)})})}function kHt(){var u;const e=fd(),{structural:t,notAllowed:n}=hc(),[r,i]=N3(),{items:o,structures:s}=t,[a,l]=ed(e==null?void 0:e.resource,"items","Canvas");return d.jsxs(dc,{children:[n.includes("items")?null:d.jsxs(d.Fragment,{children:[d.jsxs(Vn,{$wide:!0,children:[(u=o.get())!=null&&u.length?d.jsxs(an,{children:["Canvases",d.jsx(I8,{"data-active":r.items,onClick:()=>i("items")})]}):d.jsxs(d.Fragment,{children:[d.jsx(an,{children:"Canvases"}),d.jsx(q4,{$noMargin:!0,$box:!0,children:"No canvases"})]}),d.jsx(bNe,{id:o.focusId(),list:o.getSortable()||[],inlineHandle:!1,reorder:r.items?c=>o.reorder(c.startIndex,c.endIndex):void 0,onSelect:(c,f)=>l.edit(c,f),createActions:Tl(o)})]}),a?d.jsx(vs,{onClick:()=>l.create(),children:"Add canvas"}):null]}),n.includes("structures")?null:d.jsx(Tw,{label:"Ranges",property:"structures",items:s.getSortable(),reorder:c=>s.reorder(c.startIndex,c.endIndex),createActions:Tl(s),creationType:"Range",emptyLabel:"No ranges",parent:e==null?void 0:e.resource})]})}var SL=new Map;function wNe({annotationId:e,options:t={}}={}){const n=sv(),r=e||(n==null?void 0:n.id),i=$n();cx(r,"Missing annotation ID");const o=i.get(r),s=h.useMemo(()=>n1(i),[i]),[a,l]=h.useState(),u=h.useRef();return u.current=r,h.useEffect(()=>{const c=u.current;if(!SL.has(o))try{s.getBestThumbnailAtSize(i.get(o),{maxWidth:200,maxHeight:200,allowUnsafe:!0,...t}).then(f=>{c===u.current&&f.best&&(SL.set(o,f.best),l(f.best))})}catch{}},[s,o,i]),SL.has(o)?SL.get(o):a}function PHt(e){const t=["unsupported","Unsupported strategy"];if(e.type==="unknown")return t;if(e.type==="images"){if(e.images.length>1)return["unsupported","Unsupported multiple images"];if(e.image.service)return["image-with-service","Image with service"];const n=e.image.id;try{if(JCe(n).type==="image")return["image-from-service","Image from service"]}catch{}return["image","Image"]}return e.type==="textual-content"?["textual-body","Textual content"]:e.type==="media"?["av-resource","AV Resource"]:e.type==="3d-model"?["3d-model","3D Model"]:t}function spe(){const e=wNe();return e?d.jsx(Ite,{$size:40,children:d.jsx(Ate,{src:e.id,alt:"thumbnail"})}):null}function $Ht(){const[e]=cQ({enableSingleAnnotation:!0}),[,t]=PHt(e);return d.jsx("span",{children:t})}function THt({id:e}){const t=sv({id:e});return t&&t.label?d.jsx(Fn,{children:t.label}):d.jsx(d.Fragment,{children:"Untitled annotation"})}function nZ({onClick:e,margin:t}){var u,c;const n=sv(),r=Cbt(n==null?void 0:n.id);if(!n)return null;const o=((n==null?void 0:n.body)||[])[0],s=os(o)?o.source:o,a=s&&(s.type==="Image"||s.type==="Sound"||s.type==="Video"),l=((u=n==null?void 0:n.target.source)==null?void 0:u.type)==="Annotation"?(c=n==null?void 0:n.target.source)==null?void 0:c.id:null;return d.jsx(d.Fragment,{children:d.jsx(R8,{margin:t,title:n.label?uc(n.label):a?d.jsx($Ht,{}):s!=null&&s.type||l?d.jsx(THt,{id:l}):"Untitled annotation",icon:a?d.jsx(spe,{}):l?d.jsx(YR,{annotation:l,children:d.jsx(spe,{})}):null,noLink:!0,link:l?"Targets painting annotation":(s==null?void 0:s.id)||n.id,label:(s==null?void 0:s.format)||(n!=null&&n.motivation?n.motivation:s==null?void 0:s.type),iconLabel:"Icon label",onClick:e?f=>{f.preventDefault(),e(n)}:void 0,containerProps:r})})}function ape({children:e}){const t=sv();if(t&&t.target&&t.target){const n=Oi(t.target);if(n)return d.jsx(Do,{canvas:n.id,children:e})}return e}function xNe(e){return e.list.length===0?d.jsx(d.Fragment,{children:d.jsxs(EJ,{$noMargin:!0,$box:!0,children:["No ",e.isMedia?"media":"annotations"]})}):e.reorder?d.jsx(v1,{id:e.id||"reorder-annotation-list",marginBottom:"0.5em",items:e.list||[],inlineHandle:e.inlineHandle,reorder:e.reorder,renderItem:(t,n)=>{const r=os(t)?t.source:t;return d.jsx(YR,{annotation:r.id,children:d.jsx(ape,{children:d.jsx(nZ,{onClick:()=>e.onSelect(t,n)},r.id)})},r.id)},createActions:e.createActions}):d.jsx("div",{id:e.id,children:e.list.map((t,n)=>{const r=os(t)?t.source:t;return d.jsx(YR,{annotation:r.id,children:d.jsx(ape,{children:d.jsx(nZ,{margin:!0,onClick:()=>e.onSelect(r,n)},r.id)})},r.id)})})}function SNe({onCreate:e,createFilter:t}){var f;const{annotationPage:n,canvas:r}=xh(),{structural:i,notAllowed:o}=Abt(),{items:s}=i,[a,l]=N3();cx(n,"Annotation page not found");const[u,c]=ed({id:n,type:"AnnotationPage"},"items","Annotation",r?{id:r,type:"Canvas"}:void 0,{isPainting:!0});return d.jsx(d.Fragment,{children:o.includes("items")?null:d.jsxs("div",{className:"mb-2",id:s.containerId(),children:[d.jsxs("div",{className:"flex flex-col gap-2 mb-2",children:[(f=s.get())!=null&&f.length?d.jsxs(an,{children:["Media",d.jsx(I8,{"data-active":a.items,onClick:()=>l("items")})]}):d.jsx(d.Fragment,{children:d.jsx(an,{children:"Media"})}),d.jsx(xNe,{id:s.focusId(),list:s.get(),isMedia:!0,inlineHandle:!1,reorder:a.items?p=>s.reorder(p.startIndex,p.endIndex):void 0,onSelect:(p,g)=>c.edit(p,g),createActions:Tl(s)})]}),u?d.jsxs(Rs,{onPress:e||(()=>{t?c.createFiltered(t):c.create()}),children:[d.jsx(nRe,{})," Add media"]}):null]})})}function _Ne(){const e=fd(),{technical:t,structural:n}=hc(),{items:r,annotations:i}=n,o=r.get(),s=o.length>1,a=o[0];return d.jsxs(dc,{children:[s?d.jsx(s5,{className:"mb-2",children:"Multiple painting annotation pages are not supported."}):null,d.jsxs(Do,{canvas:t.id.get(),children:[d.jsx(XR,{annotationPage:a.id,children:d.jsx(SNe,{})}),d.jsx(Tw,{containerId:i.containerId(),label:"Annotations",property:"annotations",items:i.get(),reorder:l=>i.reorder(l.startIndex,l.endIndex),createActions:Tl(i),creationType:"AnnotationPage",emptyLabel:"No annotations",parent:e==null?void 0:e.resource})]})]})}var JD=Se.label`
  position: sticky;
  top: 0;
  background: #fff;
  font-weight: 500;
  line-height: 2.4em;
  font-size: 0.875em;
  display: flex;
  flex-direction: row;
  align-items: baseline;
  width: 100%;
  /* flex-direction: column; */
  // padding: 0 ${e=>e.theme.padding.medium||"1rem"};
  ${e=>e.$caps&&ln`
      text-transform: capitalize;
    `};
  ${e=>e.$inline&&ln`
      flex-direction: row;
      align-items: center;
      width: unset;
    `};
`;Se.fieldset`
  border: 1px solid #ddd;
  border-radius: 3px;
  padding: 0.5em;

  ${JD} {
    font-size: 0.875em;
  }
`;var MHt=Se.div`
  display: inline-block;

  font-size: 1.2em;
  display: flex;
  padding: 0.1em;
  border-radius: 3px;
  margin: auto 0.2em;
  margin-left: auto;
  aspect-ratio: 1;

  &:hover,
  &[aria-expanded="true"] {
    background: #e8f0fe;
  }

  &[data-active="true"] {
    background: #e8f0fe;
  }

  svg,
  img {
    height: 0.8em;
  }
`;function LHt(e){return d.jsx(MHt,{...e,children:d.jsx(Lte,{})})}Se(JD)`
  width: fit-content;
  flex-direction: row;
  align-items: center;
  padding: 0 ${e=>e.theme.padding.small||"1rem"};
  margin: ${e=>e.theme.padding.xs||"1rem"} ${e=>e.theme.padding.xs||"1rem"};
  background-color: ${e=>e.theme.color.white||"white"};
  color: ${e=>e.theme.color.main||"#B84C74;"};
  border: 1px solid ${e=>e.theme.color.main||"#B84C74;"};
  border-radius: 20px;
  cursor: pointer;
  height: 2rem;
  display: flex;
  align-items: center;
  white-space: nowrap;
  ${e=>e.$selected&&ln`
      color: ${e.theme.color.white||"white"};
      background-color: ${e.theme.color.main||"#B84C74;"};
    `}

  :hover {
    color: ${e=>e.theme.color.white||"white"};
    background-color: ${e=>e.theme.color.main||"#B84C74;"};
  }
`;var AHt=Se.input.attrs({type:"checkbox"})``,IHt=Se.input`
  background: ${e=>e.theme.color.white||"white"};
  border: 1px solid rgba(5, 42, 68, 0.2);
  padding: 0.8em;
  font-size: 0.875em;
  line-height: 1.2em;
  border-radius: 3px;

  width: 100%;
  box-shadow: 0 0 0 0 transparent inset;
  &:focus {
    border-color: ${e=>e.theme.color.black||"black"};
    outline: none;
  }
  margin: 0;
  display: block;
  outline: 0;
  font-family: inherit;
  -webkit-appearance: none;
  tap-highlight-color: rgba(255, 255, 255, 0);
  color: rgba(0, 0, 0, 0.87);
  &:focus {
    border-color: ${e=>e.theme.color.main||"main"};
    outline: none;
  }

  &:disabled {
    background: #eee;
    cursor: not-allowed;
  }
`,RHt=Se(IHt)`
  border-radius: unset;
  background-color: #f8f9fa;
  border-top: none;
  border-left: none;
  border-right: none;
  white-space: pre-line;

  &:focus {
    background: #eceef5;
  }
`;Se(j3)`
  display: flex;
`;Se.input.attrs({type:"submit",value:"Load"})`
  padding: 0 ${e=>e.theme.padding.medium||"1rem"};
  color: ${e=>e.theme.color.white||"white"};
  background-color: ${e=>e.theme.color.main||"#B84C74;"};
  border: none;
  border-radius: 0.25rem;
  cursor: pointer;
  height: 2rem;
  display: flex;
  align-items: center;
`;h.forwardRef((e,t)=>e.type==="checkbox"?d.jsx(AHt,{ref:t,...e}):d.jsx(RHt,{ref:t,...e}));Se.input`
  background: transparent;
  border: none;
  padding: ${e=>e.theme.padding.small||"0.5rem"};
  font-size: 0.9em;
  line-height: 1.3em;
  width: 100%;
  box-shadow: none;
  border: none;
  &:focus {
    border-color: ${e=>e.theme.color.main||"main"};
    outline: none;
  }
`;Se.fieldset`
  border: none;
  background: none;
  padding: 0;
  margin: 0;
`;var CNe=Se.div`
  display: flex;
  flex-direction: column;
  max-width: ${e=>e.$$fluid?"100%":e.$wide?"550px":"360px"};
  margin-bottom: 1em;
  width: 100%;

  ${e=>e.$error&&ln`
      background: ${e.theme.color.lightdanger||"#ffeaea"};
      outline: 5px solid ${e.theme.color.lightdanger||"#ffeaea"};
      input,
      textarea {
        border-color: ${e.theme.color.danger||"#9c2824"};
      }
    `}
`;Se.fieldset`
  padding: 0 1em 1em;
  border: 1px solid #ddd;
  border-radius: 3px;

  ${CNe}:first-child {
    margin-top: 0.5em;
  }

  margin-bottom: 0.5em;

  ${e=>e.$inline&&ln`
      padding: 0;
      margin: 0;
      border: none;
    `}
`;Se.div`
  display: flex;
  align-items: center;
  margin-bottom: 0.5em;

  label {
    flex: 1 1 0px;
    margin: 0;
    margin-left: 1em;
  }
`;Se.div`
  background: ${e=>e.theme.color.grey||"grey"};
  height: 2em;
  width: 2em;
  display: flex;
  align-items: center;
  justify-content: center;
  border: 2px solid ${e=>e.theme.color.grey||"grey"};
  ${e=>e.$checked&&ln`
      background-color: ${e.theme.color.lightsuccess||"#c5e8c5"};
      border-color: ${e.theme.color.sucess||"#6ccd55"};
    `}
`;Se.div`
  background: ${e=>e.theme.color.grey||"grey"};
  border: 1px solid rgba(5, 42, 68, 0.2);
  padding: ${e=>e.theme.padding.small||"0.5rem"}
    ${e=>e.theme.padding.medium||"1rem"};
  font-size: 0.85em;
  line-height: 1.3em;
  border-radius: 0;
  width: 100%;
  box-shadow: none;
  max-width: ${e=>e.$wide?"550px":"450px"};
  margin-bottom: 0.8em;
  &:focus {
    border-color: #333;
    outline: none;
  }
`;Se.a`
  margin: 0.5em 0;
  font-size: 0.75em;
  color: ${e=>e.theme.color.main||"main"};
`;Se.input`
  display: none;
`;function DHt(){var f;const e=fd(),{structural:t,notAllowed:n}=hc(),[r,i]=N3(),{items:o,structures:s}=t,[a,l]=ed(e==null?void 0:e.resource,"items","Range"),[u,c]=ed(e==null?void 0:e.resource,"items","Canvas");return d.jsx(dc,{children:n.includes("items")?null:d.jsxs(d.Fragment,{children:[d.jsxs(CNe,{$wide:!0,children:[(f=o.get())!=null&&f.length?d.jsxs(JD,{children:["Ranges",d.jsx(LHt,{"data-active":r.items,onClick:()=>i("items")})]}):d.jsxs(d.Fragment,{children:[d.jsx(JD,{children:"Ranges"}),d.jsx(q4,{$noMargin:!0,$box:!0,children:"No ranges"})]}),d.jsx(gNe,{id:o.focusId(),list:o.get(),inlineHandle:!1,reorder:r.items?p=>o.reorder(p.startIndex,p.endIndex):void 0,onSelect:(p,g)=>{var v;return((v=Oi(p))==null?void 0:v.type)==="Canvas"?c.edit(p):l.edit(p)},createActions:Tl(o)})]}),u?d.jsx(vs,{onClick:()=>c.create(),children:"Add canvas"}):null,a?d.jsx(vs,{onClick:()=>l.create(),children:"Add range"}):null]})})}var OHt={id:"@manifest-editor/manifest-structural",label:"Structure",supports:{edit:!0,properties:["items","structures"],resourceTypes:["Manifest"]},component:()=>d.jsx(kHt,{})},jHt={id:"@manifest-editor/range-structural",label:"Structure",supports:{edit:!0,properties:["items"],resourceTypes:["Range"]},component:()=>d.jsx(DHt,{})},NHt={id:"@manifest-editor/canvas-structural",label:"Structure",supports:{edit:!0,properties:["items","structures"],resourceTypes:["Canvas"]},component:()=>d.jsx(_Ne,{})},FHt=()=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",height:"1rem",viewBox:"0 0 24 24",width:"24px",fill:"#000000",children:[d.jsx("path",{d:"M0 0h24v24H0V0z",fill:"none"}),d.jsx("path",{d:"M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"})]}),wz=({guidanceReference:e})=>d.jsx(vs,{style:{background:"transparent"},children:d.jsx("a",{"aria-label":"IIIF DOCUMENTATION",href:e,target:"_blank",rel:"noopener noreferrer",children:d.jsx(FHt,{})})}),D8=({height:e,width:t,duration:n,changeWidth:r,changeHeight:i,changeDuration:o,widthId:s,heightId:a,durationId:l})=>d.jsxs(j3,{style:{marginBottom:"1em"},children:[d.jsx(yz,{children:d.jsxs(mg,{style:{width:"100%",marginRight:"0.4em"},id:a,children:[d.jsxs(an,{$inline:!0,htmlFor:"dims-height",children:["Height",d.jsx(wz,{guidanceReference:"https://iiif.io/api/presentation/3.0/#height"})]}),d.jsx(ji,{id:"dims-height",name:"dims-height",min:0,type:"number",onChange:i?u=>{i(u.target.valueAsNumber)}:void 0,[i?"value":"defaultValue"]:e})]})}),d.jsx(yz,{children:d.jsxs(mg,{style:{width:"100%",marginRight:"0.4em"},id:s,children:[d.jsxs(an,{$inline:!0,htmlFor:"dims-width",children:["Width",d.jsx(wz,{guidanceReference:"https://iiif.io/api/presentation/3.0/#width"})]}),d.jsx(ji,{id:"dims-width",name:"dims-width",min:0,type:"number",onChange:r?u=>{r(u.target.valueAsNumber)}:void 0,[r?"value":"defaultValue"]:t})]})}),typeof n<"u"?d.jsx(yz,{children:d.jsxs(mg,{style:{width:"100%"},id:l,children:[d.jsxs(an,{$inline:!0,htmlFor:"dims-duration",children:["Duration",d.jsx(wz,{guidanceReference:"https://iiif.io/api/presentation/3.0/#duration"})]}),d.jsx(ji,{id:"dims-duration",name:"dims-duration",min:0,type:"number",onChange:o?u=>{o(u.target.valueAsNumber)}:void 0,[o?"value":"defaultValue"]:n})]})}):null]});function BHt(){var c,f,p;const e=fd(),{technical:t}=hc(),n=$n(),{id:r,width:i,height:o,format:s}=t,a=Li(),l=pNe({resourceId:r.get()}),u=a&&((c=Oi(a.thumbnail[0]))==null?void 0:c.id)===((f=Oi(e==null?void 0:e.resource))==null?void 0:f.id);return d.jsxs(d.Fragment,{children:[l?d.jsx(Ite,{$size:200,children:d.jsx(Ate,{src:l.id,alt:"thumbnail"})}):null,d.jsxs(dc,{children:[d.jsxs(Vn,{$wide:!0,children:[d.jsx(an,{htmlFor:r.focusId(),children:"Identifier"}),d.jsx(ji,{disabled:!0,id:r.focusId(),value:r.get()})]}),d.jsx(Vn,{$wide:!0,children:d.jsx(D8,{width:i.get()||0,changeWidth:g=>i.set(g),height:o.get()||0,changeHeight:g=>o.set(g)})}),d.jsxs(Vn,{$wide:!0,children:[d.jsx(an,{htmlFor:s.focusId(),children:"Format"}),d.jsx(ji,{id:s.focusId(),value:s.get(),placeholder:"jpg, png etc.",onChange:g=>s.set(g.target.value)})]}),a&&((p=e==null?void 0:e.parent)==null?void 0:p.type)==="Canvas"?d.jsx(vs,{disabled:u,onClick:()=>{a&&n.modifyEntityField(a,"thumbnail",[Oi(e.resource)])},children:"Set as Manifest thumbnail"}):null]})]})}var zHt={id:"@manifest-editor/image-editor",label:"Image",supports:{edit:!0,properties:["label","height","width","format"],resourceTypes:["ContentResource"],custom:(e,t)=>t.get(e.resource).type==="Image"},component:()=>d.jsx(BHt,{})};function HHt(e){return d.jsxs("svg",{height:"1em",width:"1em",...e,children:[d.jsx("path",{d:"M0 0h24v24H0z",fill:"none"}),d.jsx("path",{d:"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"})]})}var VHt=Se(e=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24",...e,children:[d.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),d.jsx("path",{d:"M0 0h24v24H0z",fill:"none"})]}))`
  fill: rgba(0, 0, 0, 0.5);
  cursor: pointer;
  &:hover {
    fill: rgba(0, 0, 0, 1);
  }
  ${e=>e.disabled?ln`
          pointer-events: none;
          opacity: 0.6;
        `:""}

  ${e=>e.$solid&&ln`
      fill: #000;
    `}
`,UHt=Se.div`
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: 500;
  background: rgba(0, 0, 0, 0.2);
`,WHt=Se.div`
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: 501;
  display: flex;
`,KHt={sm:{maxWidth:"600px"},md:{maxWidth:"800px"},lg:{maxWidth:"1000px"}},qHt=Se.div`
  max-width: ${e=>e.$expanded?"100%":KHt[e.size||"sm"].maxWidth};
  width: 100%;
  min-height: 250px;
  height: auto;
  display: flex;
  margin: 8em auto auto;
  padding: 0;
  flex-direction: column;
  max-height: 80vh;
  border-radius: 5px;
  overflow: hidden;
  box-shadow:
    4px 0 40px 0 rgba(0, 0, 0, 0.3),
    0 0 0 1px rgba(0, 0, 0, 0.2);

  ${e=>e.$expanded&&ln`
      position: absolute;
      top: 0;
      bottom: 0;
      left: 0;
      right: 0;
      border-radius: 0;
      box-shadow: none;
      margin: 0;
      max-height: none;
      ${ENe} {
        flex: 1 1 0px;
      }
    `}
`,GHt=Se.div`
  //background: #ec5681;
  /* background: #5197d8;
  color: #fff; */
  color: #000;
  background: #fff;
  width: 100%;
  padding: 1em;
  display: flex;
`,ZHt=Se.div`
  color: inherit;
  font-size: 1.2em;
  flex: 1 1 0px;
`,YHt=Se(VHt)`
  fill: rgba(0, 0, 0, 0.5);
  cursor: pointer;
  &:hover {
    fill: rgba(0, 0, 0, 1);
  }
`,XHt=Se(HHt)`
  fill: rgba(0, 0, 0, 0.5);
  cursor: pointer;
  font-size: 1.2em;
  margin-right: 1em;
  &:hover {
    fill: rgba(0, 0, 0, 1);
  }
`,ENe=Se.div`
  background: #fff;
  padding: 1em;
  overflow-y: auto;
  overflow-x: hidden;
  min-height: 230px;
`,QHt=Se.div`
  background: #eee;
  width: 100%;
  color: #fff;
  padding: 1em;
  display: flex;
  ${e=>e.$footerAlignRight&&ln`
      flex-direction: row-reverse;
    `}
`,JHt=ne.forwardRef(function({as:t,className:n,disabled:r,button:i,title:o,render:s,renderFooter:a,onClose:l,onOpen:u,modalSize:c,autoHeight:f,footerAlignRight:p,children:g,openByDefault:v=!1,style:y,onKeyDown:S,tabIndex:C,role:_},k){const w=h.useRef(),[P,M]=h.useState(!1),[R,D]=h.useState(!1),H=h.useRef();h.useLayoutEffect(()=>{const G=document.createElement("div");return document.body.appendChild(G),w.current=G,v&&M(!0),()=>{w.current=void 0,document.body.removeChild(G)}},[]);const O=()=>{M(!1),D(!1),l&&l()},z=t||(i?"button":"span");return d.jsxs(d.Fragment,{children:[P&&w.current?ai.createPortal(d.jsxs(d.Fragment,{children:[d.jsx(UHt,{}),d.jsx(WHt,{ref:H,onClick:G=>{G.target===H.current&&O()},children:d.jsxs(qHt,{$expanded:R,size:c,"data-cy":"modal",children:[d.jsxs(GHt,{children:[d.jsx(ZHt,{children:o}),d.jsx(XHt,{onClick:()=>D(G=>!G)}),d.jsx(YHt,{onClick:O})]}),d.jsx(ENe,{children:s({close:O})}),a?d.jsx(QHt,{$footerAlignRight:p,children:a({close:O})}):null]})})]}),w.current):null,d.jsx(z,{onKeyDown:S,tabIndex:C,role:_,ref:k,className:n,disabled:r,onClick:()=>{M(!0),u&&u()},style:y,children:g})]})}),eVt=Se.button`
  background: #d53131;
  color: #fff;
  width: 100%;
  padding: 1em 0.5em;
  font-size: 0.875em;
  border: none;
  border-radius: 3px;

  &:hover {
    background: #ff5a5a;
  }
`;function tVt({label:e,message:t,onDelete:n,children:r}){return d.jsx(JHt,{title:t||"Are you sure you want to delete?",render:()=>d.jsx(d.Fragment,{children:r}),renderFooter:({close:i})=>d.jsx(eZ,{style:{marginLeft:"auto"},children:d.jsx(vs,{onClick:async()=>{await n(),i()},children:e||"Delete"})}),children:d.jsx(eVt,{children:e||"Delete"})})}var kNe=Se.div`
  flex: 1;
  display: flex;
  width: 100%;
  flex-direction: column;
  position: relative;
`,nVt=Se.div`
  background: #fff;
  position: relative;
  border-bottom: 1px solid #d0d0d0;
  border-top: 1px solid #d0d0d0;

  & ~ & {
    border-top: none;
  }

  &[data-large="true"] {
    background: #f7f7f7;
    border: none;
    margin-bottom: 1em;
    //display: flex;
    //flex-direction: column;
    //justify-content: center;
  }
`,rVt=Se.p`
  font-size: 0.9em;
  color: #777;
  font-weight: 400;
`,iVt=Se.button`
  color: inherit;
  text-rendering: geometricPrecision;
  border: none;
  text-align: left;
  background: transparent;
  font: inherit;
  text-transform: uppercase;
  padding: 0.6em 1.2em;
  flex: 1;
  font-size: 0.8em;
  font-weight: 600;
  white-space: nowrap;
  text-overflow: ellipsis;
  min-width: 0;
  overflow: hidden;

  &:focus {
    outline: none;
  }

  p {
    display: none;
  }

  [data-large="true"] & {
    //padding: 1.5em;
    padding: 0.85em 1.25em;
    display: block;
    text-transform: initial;
    font-size: 1em;
    margin-bottom: 0;
    color: #000;

    p {
      display: block;
      color: #999;
      font-size: 0.9em;
      margin: 0;
      margin-top: 0.5em;
    }
  }
`,oVt=Se.div`
  font-size: 1.4em;
  padding-right: 0.3em;
  display: flex;
  align-items: center;

  [data-large="true"] & {
    font-size: 2em;
  }
`,sVt=Se.div`
  width: 2em;
  align-items: center;
  //padding-top: 0.5em;
  display: flex;
  justify-content: center;
  margin-left: 1.5em;
  svg {
    width: 1.75em;
    height: 1.75em;
    fill: #999;
    color: #999;
  }
`,aVt=Se.div`
  min-height: 0;
  overflow: visible;
  display: flex;
`,lVt=Se.div`
  min-height: 0;
  overflow: visible;
  flex: 1;
  padding: 1em 1em 1.5em;

  &[data-full="true"] {
    margin: 0;
  }

  &[data-max-height="true"] {
    overflow-y: auto;
  }
`,uVt=Se.section`
  display: grid;
  grid-template-rows: 0fr;
  overflow: hidden;
  opacity: 0;
  visibility: hidden;

  [data-open="true"] & {
    opacity: 1;
    grid-template-rows: 1fr;
    visibility: visible;
    &[data-overflow="true"] {
      overflow: visible;
    }
  }

  transition:
    all 0.4s,
    visibility 0.8s;

  &[data-has-icon="true"] {
    padding-left: 4em;
  }

  box-shadow: inset 0px 2px 0px 0 rgba(0, 0, 0, 0);
  &[data-scrolled="true"] {
    box-shadow: inset 0px 2px 0px 0 rgba(0, 0, 0, 0.1);
  }
`,cVt=Se.div`
  position: sticky;
  display: flex;
  top: 0;
  background: #fff;
  min-width: 0;
  width: 100%;
  color: #757575;
  z-index: 1;
  &:hover {
    color: #333;
  }

  [data-large="true"] & {
    border: 1px solid #d0d0d0;
    &:after {
      display: none;
    }
  }

  [data-large="true"]:focus-within & {
    border-color: #3579f6;
  }

  [data-open="true"] & {
    color: #333;
    &:after {
      content: "";
      height: 1px;
      background: #eee;
      position: absolute;
      top: 100%;
      left: 0.5em;
      right: 0.5em;
    }
  }
`,dVt=()=>{},fVt=0;function hVt(){return h.useMemo(()=>fVt++,[])}function pVt(e,t=!1){const[n,r]=h.useState([]),i=h.useRef(-1),o=v=>{var C,_,k,w;const y=document.activeElement,S=n.findIndex(P=>{var M,R;return((R=(M=P.current)==null?void 0:M.button)==null?void 0:R.current)===y});if(S!==-1)switch(v.code){case"Home":{n[0]&&((C=n[0].current)==null||C.focus());break}case"End":{const P=e-1;n[P]&&((_=n[P].current)==null||_.focus());break}case"ArrowDown":{if(S!==e-1){const P=S+1;n[P]&&((k=n[P].current)==null||k.focus())}break}case"ArrowUp":{if(S!==0){const P=S-1;n[P]&&((w=n[P].current)==null||w.focus())}break}case"ArrowLeft":{const P=n[S];P&&P.current&&P.current.close();break}case"ArrowRight":{const P=n[S];P&&P.current&&P.current.open();break}}},s=(v,y)=>{var S;if(t&&y&&v!==i.current){i.current=v;for(let C=0;C<n.length;C++){const _=n[C];C!==v&&((S=_.current)==null||S.close())}}};return h.useEffect(()=>{r(v=>Array(e).fill(0).map((y,S)=>v[S]||h.createRef()))},[e]),{open:v=>{const y=n[v];y&&y.current&&y.current.open()},close:v=>{const y=n[v];y&&y.current&&y.current.close()},toggle:v=>{const y=n[v];y&&y.current&&y.current.toggle()},focus:v=>{const y=n[v];y&&y.current&&y.current.focus()},openAll:()=>{var v;for(let y=0;y<n.length;y++)(v=n[y].current)==null||v.open()},closeAll:()=>{var v;for(let y=0;y<n.length;y++)(v=n[y].current)==null||v.close()},onKeyDown:o,getItemProps:v=>({ref:n[v],onChange:y=>s(v,y)})}}var PNe=h.forwardRef(function(t,n){const r=h.useRef(null),i=h.useRef(null),o=hVt(),[s,a]=h.useState(t.initialOpen||!1),l=t.onChange||dVt,u=()=>{l(!s),a(v=>!v)},c=t.maxHeight,[f,p]=h.useState(!1);h.useImperativeHandle(n,()=>({open(){l(!0),a(!0)},close(){l(!1),a(!1)},toggle(){u()},focus(){i.current&&i.current.focus()},button:i}));const g=v=>{v.target.scrollTop>0?p(!0):p(!1)};return d.jsxs(nVt,{"data-large":t.large,"data-open":s,children:[d.jsxs(cVt,{"data-open":s,children:[t.icon?d.jsx(sVt,{onClick:u,children:t.icon}):null,d.jsxs(iVt,{ref:i,onClick:u,"aria-expanded":s,"aria-controls":`accordion-${o}`,children:[t.label,t.description?d.jsx(rVt,{children:t.description}):null]}),d.jsx(oVt,{onClick:u,children:d.jsx(yNe,{width:"1em",height:"1em",rotate:s?0:180})})]}),d.jsx(uVt,{"aria-labelledby":`accordion-${o}`,"aria-hidden":!s,"data-overflow":!!t.overflow,"data-has-icon":!!t.icon,onScroll:g,ref:r,$initial:!s,"data-scrolled":f,hidden:!s,children:d.jsx(aVt,{children:d.jsx(lVt,{"data-max-height":!!c,"data-full":t.fullWidth,style:{maxHeight:c||void 0},children:t.children})})})]})});function mVt(e){const{getItemProps:t,onKeyDown:n}=pVt(e.items.length,e.singleMode);return d.jsx(kNe,{onKeyDown:n,children:e.items.map((r,i)=>d.jsx(PNe,{overflow:e.overflow,maxHeight:e.maxHeight,...r,...t(i),children:r.children},i))})}var Rte=({height:e=16})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",height:e,viewBox:"0 0 24 24",width:"24px",fill:"#000000",children:[d.jsx("path",{d:"M0 0h24v24H0z",fill:"none"}),d.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})]});function gVt(e){return function(t,...n){const r=function(i){const o=h.useRef(i);return h.useLayoutEffect(()=>{o.current=i}),o}(t);return h.useMemo(()=>e((...i)=>{ai.unstable_batchedUpdates(()=>{r.current(...i)})},...n),[r,...n])}}var vVt=e=>typeof e=="number",$Ne=gVt((e,t)=>{let n=null;const r=()=>{vVt(n)&&(clearTimeout(n),n=null)},i=(...o)=>{r(),n=window.setTimeout(()=>{e.apply(null,o),n=null},t)};return i.cancel=r,i});Se.div`
  display: flex;
  width: 100%;
  padding: 0 0.5em;
  opacity: 0;
  transition: opacity 300ms;

  ${e=>e.$active&&ln`
      opacity: 1;
    `}
`;var yVt=Se.div`
  width: 100%;
  margin-bottom: 0.5em;
`;Se.label`
  font-size: 1em;
  padding-left: 0.5em;
  font-weight: 500;
`;var bVt=Se(Gzt)`
  padding: 0.8em 1em;
  background: #f8f9fa;
  color: #999;
  font-size: 0.9em;
  border-bottom: 1px solid rgba(5, 42, 68, 0.2);
  margin: 0.5em 0 2.18em;
  display: block;
  text-align: left;
  width: 100%;
`,wVt=MJ((e,t)=>{switch(t.type){case"SELECT_ITEM":{e.selected=e.selected===t.payload.id?void 0:t.payload.id;break}case"CHANGE_LANGUAGE":{e.hasChanged=!0,e.fields[t.payload.id].language=t.payload.language,e.modified.indexOf(t.payload.id)===-1&&e.modified.push(t.payload.id),e.selected=void 0;break}case"CHANGE_VALUE":{e.hasChanged=!0,e.fields[t.payload.id].value=t.payload.value,e.modified.indexOf(t.payload.id)===-1&&e.modified.push(t.payload.id);break}case"CREATE_ITEM":{e.hasChanged=!0,e.fields[t.payload.id]={language:t.payload.language,value:t.payload.value,key:t.payload.key},t.payload.select&&(e.selected=t.payload.id),e.added.push(t.payload.id);break}case"REMOVE_ITEM":{e.hasChanged=!0;const n=e.fields[t.payload.id];if(!n)return e;delete e.fields[t.payload.id],typeof n.id<"u"&&e.removed.push(n.id),e.added.indexOf(t.payload.id)!==-1&&(e.added=e.added.filter(r=>r!==t.payload.id)),e.modified.indexOf(t.payload.id)!==-1&&(e.modified=e.modified.filter(r=>r!==t.payload.id)),e.selected===t.payload.id&&(e.selected=void 0);break}default:return e}}),xVt=e=>{const t={};for(const{value:n,language:r}of e)t[r]=t[r]?t[r]:[],t[r].push(n);return t},SVt=(e,t)=>{if(!e)return[];const n=Object.keys(e),r=[];let i=0;for(const o of n)for(const s of e[o]||[])r.push({language:o,id:i,key:t,value:s}),i++;return r},_Vt=({key:e,fields:t})=>{const n=Array.isArray(t)?t:SVt(t,e),r=n.map(o=>o.id),i={};for(const o of n)i[`original-${o.id}`]=o;return{selected:void 0,fieldIds:r,fields:i,modified:[],removed:[],added:[],hasChanged:!1}};function CVt({fields:e,metadataKey:t="none",onSave:n}){const{i18n:r}=Px(),{availableLanguages:i,defaultLanguage:o}=r,[s,a]=h.useReducer(wVt,{fields:e,key:t},_Vt),l=Object.keys(s.fields),u=Q3e(()=>l.map(_=>s.fields[_].language),[s.fields]),c=h.useMemo(()=>{if(s.fields){const _=Object.keys(s.fields);for(const k of _)if(s.fields[k].language===u)return k}},[s.fields,u]);return{firstItem:c?{id:c,field:s.fields[c]}:null,fieldKeys:l,createNewItem:(_=!0)=>a({type:"CREATE_ITEM",payload:{id:`new-${new Date().getTime()}-${l.length}`,key:t,language:o||i[0],value:"",select:_}}),saveChanges:(_,k)=>{n&&s&&s.hasChanged&&n({items:Object.values(s.fields),key:t,getDiff:()=>({added:s.added.map(w=>s.fields[w]),removed:s.removed,modified:s.modified.filter(w=>s.added.indexOf(w)===-1).map(w=>s.fields[w])}),toInternationalString:()=>xVt(Object.values(s.fields))},_,k)},changeValue:(_,k)=>{a({type:"CHANGE_VALUE",payload:{id:_,value:k}})},changeLanguage:(_,k)=>{a({type:"CHANGE_LANGUAGE",payload:{id:_,language:k}})},removeItem:_=>{a({type:"REMOVE_ITEM",payload:{id:_}})},getFieldByKey:_=>s.fields[_]}}function EVt(){return d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#000000",children:[d.jsx("path",{d:"M0 0h24v24H0V0z",fill:"none"}),d.jsx("path",{d:"M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"})]})}function kVt(){return d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#000000",children:[d.jsx("path",{d:"M0 0h24v24H0z",fill:"none"}),d.jsx("path",{d:"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"})]})}var PVt=e=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",height:"1em",width:"1em",...e,children:[d.jsx("path",{d:"M0 0h24v24H0z",fill:"none"}),d.jsx("path",{d:"M5 17v2h14v-2H5zm4.5-4.2h5l.9 2.2h2.1L12.75 4h-1.5L6.5 15h2.1l.9-2.2zM12 5.98 13.87 11h-3.74L12 5.98z"})]}),$Vt=Se.fieldset`
  display: flex;
  font-size: 0.875em;
  width: 100%;
  background: #f8f9fa;
  border: none;
  padding: 0;
  margin: 0;
  border-bottom: 1px solid #cad0d5;
  text-align: left;
  align-items: center;

  &:focus {
    outline: none;
    background: #eceef5;
  }

  ${e=>e.$focus&&ln`
      background: #eceef5;
      border-color: ${e.theme.color.main||"#3498db"};
    `}
  ${e=>e.$disabled&&ln`
      pointer-events: none;
    `}
  ${e=>e.$button&&ln`
      cursor: pointer;
      &:hover {
        background: #eceef5;
      }
    `}
`,Dte=ln`
  color: rgba(0, 0, 0, 0.87);
  background: transparent;
  flex: 1;
  border: none;
  font-size: 1em;
  padding: 0.8em;
  font-family: inherit;
  margin: 0;
  &:focus {
    outline: none;
  }
  resize: none;
`,TVt=Se.input.attrs({type:"text"})`
  ${Dte}
`,MVt=Se.input.attrs({type:"number"})`
  ${Dte}
`,LVt=Se.div`
  ${Dte}
`,AVt=h.forwardRef(function({disabled:t,as:n,$button:r,...i},o){const[s,a]=h.useState(!1),l=h.useRef(null),u=i.$focus||s;return h.useLayoutEffect(()=>{if(l.current){const c=()=>a(!0),f=()=>a(!1),p=l.current.querySelectorAll("input");for(const g of p)g.addEventListener("focus",c),g.addEventListener("blur",f);return()=>{for(const g of p)g.removeEventListener("focus",c),g.removeEventListener("blur",f)}}},[]),d.jsx($Vt,{as:n||r?"button":"fieldset",$button:r,ref:c=>{l.current=c,o&&(o.current=c)},$focus:u,$disabled:t,disabled:t,...i})}),uy={Container:AVt,Text:TVt,Number:MVt,ReadOnly:LVt},IVt=Se.div`
  display: flex;
  flex-direction: column;
  flex: 1;
  font-size: 1em;
`,RVt=Se.div`
  background: #fff;
  display: flex;
  align-items: center;
  max-height: 0;
  overflow: hidden;
  transition: max-height 0.2s;
  border: none;

  ${e=>e.$visible&&ln`
      max-height: 2em;
      border: 1px solid #c9cfd5;
    `}
`,$m=Se.div`
  height: 1.8em;
  min-width: 1.8em;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0 0.2em;
  a {
    font-size: 0.875em;
    color: #3498db;
    padding: 0 0.4em;
  }

  &:hover {
    background: #eee;
  }

  & ~ & {
    border-left: 1px solid #c9cfd5;
  }

  ${e=>e.$active&&ln`
      background: #daedfa;
      &:hover {
        background: #daedfa;
      }
    `}
`,DVt=Se.div`
  flex: 1;
`;Se.div`
  background: red;
`;var OVt=Se.a`
  color: #3498db;
  text-decoration: underline;
`,jVt=Se.div`
  position: relative;
`,NVt=Se.div`
  position: absolute;
  background: #ffffff;
  border: 1px solid #c9cfd5;
  border-top: none;
  box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.07);
  display: flex;
  width: 100%;
  flex-wrap: nowrap;
`,FVt=Se.input`
  background: #fff;
  font-size: 0.875em;
  padding: 0.2em 0.4em;
  flex: 1;
  border: none;
  display: block;
`,lpe=Se.button`
  background: #ddd;
  border-radius: 3px;
  color: #333;
  border: none;
  margin: 0.3em;
  padding: 0.3em;
  &:hover {
    background: #ccc;
  }
`,BVt=Se.div`
  padding: 0.8em;
  flex: 1;
  font-size: 1em;
  margin-bottom: 1px;
`,zVt=Se.div`
  width: calc(1.8em + 1px); /* Takes into account the 1px border of the toolbar */
  border-left: 1px solid #e8e8e8;
  cursor: pointer;
  align-self: normal;

  img {
    opacity: 0.5;
  }

  &:hover {
    background: #e9eaeb;
    img {
      opacity: 0.9;
    }
  }
  display: flex;
  align-items: center;
  justify-content: center;
`,HVt=Se($m)`
  width: 1.8em;
  border-left: 1px solid #cad0d5;
  height: 1.8em;
`,VVt=Se.div`
  display: flex;
  flex-direction: column;
  width: calc(1.8em + 1px); /* Takes into account the 1px border of the toolbar */
`,UVt=Se.div`
  font-size: 0.6em;
  background: rgba(0, 0, 0, 0.06);
  color: #606060;
  font-weight: 600;
  border-radius: 3px;
  text-transform: uppercase;
  margin: 0.4em;
  padding: 0.5em;
  text-align: center;
`;function WVt(e,t,n){function r(o){const a=e.getCurrentContent().createEntity("LINK","MUTABLE",{url:o}),l=a.getLastCreatedEntityKey(),u=Ua.EditorState.set(e,{currentContent:a});t(Ua.RichUtils.toggleLink(u,u.getSelection(),l))}function i(){const o=e.getSelection();o.isCollapsed()||t(Ua.RichUtils.toggleLink(e,o,null))}return{onSubmit(o){var c;const s=o.target;o.preventDefault();const a=new FormData(s),l=Object.fromEntries(a.entries());((c=o.nativeEvent.submitter)==null?void 0:c.value)==="remove"?i():r(l.link),s.reset(),n&&n()}}}var KVt=e=>{const{url:t}=e.contentState.getEntity(e.entityKey).getData();return d.jsx(OVt,{href:t,children:e.children})};function qVt(e,t,n){e.findEntityRanges(r=>{const i=r.getEntity();return i!==null&&n.getEntity(i).getType()==="LINK"},t)}var upe=new Ua.CompositeDecorator([{strategy:qVt,component:KVt}]);function Ote(e){const t=(e.value||[])[0]==="<",n=h.useRef(null),[r,i]=h.useState(t),[o,s]=h.useState(!1),[a,l]=h.useState(e.value),[u,c]=h.useState(()=>{const me=Ua.convertFromHTML(a);return Ua.EditorState.createWithContent(Ua.ContentState.createFromBlockArray(me.contentBlocks,me.entityMap),upe)}),[f,p]=h.useState(!1),g=()=>{e.onUpdate(q())},v=$Ne(g,300),[y,S]=h.useState(!1),C=me=>{v(),c(me)},_=me=>{v(),l(me)},k=me=>{me&&e.onFocus&&e.onFocus(),!me&&e.onBlur&&e.onBlur(),s(me)},w=a[0]==="<",P=WVt(u,C,()=>p(!1)),M=r?!!u.getCurrentInlineStyle().get("BOLD"):!1,R=r?!!u.getCurrentInlineStyle().get("ITALIC"):!1,D=r?!!u.getCurrentInlineStyle().get("UNDERLINE"):!1,H=u.getCurrentContent(),O=u.getSelection().getStartKey(),z=u.getSelection().getStartOffset(),ee=H.getBlockForKey(O).getEntityAt(z),X=ee?H.getEntity(ee):null,se=X?X.getData().url:null,B=r?!!se:!1,q=()=>{if(r){const me=u.getCurrentContent(),re=me.getBlocksAsArray().filter(ue=>ue.getDepth()===0);return Pjt({blockToHTML:ue=>{if(re.length===1&&ue.depth===0&&ue.type==="unstyled")return d.jsx("span",{})},entityToHTML:ue=>ue.type==="LINK"?d.jsx("a",{href:ue.data.url}):d.jsx("span",{})})(me).replace(/<br\/>/g,`<br/>
`).replace(/<\/p><p>/g,`</p>
<p>`)}else return a},U={bold(){C(me=>Ua.RichUtils.toggleInlineStyle(me,"BOLD"))},italic(){C(me=>Ua.RichUtils.toggleInlineStyle(me,"ITALIC"))},underline(){C(me=>Ua.RichUtils.toggleInlineStyle(me,"UNDERLINE"))},link(){p(me=>!me)}},K=(me,re)=>{const ue=Ua.RichUtils.handleKeyCommand(re,me);return ue?(C(ue),"handled"):"not-handled"},J=me=>me.shiftKey?"not-handled":(C(Ua.RichUtils.insertSoftNewline(u)),"handled"),oe=()=>{if(r)_(q());else{const me=Ua.convertFromHTML(a.replace(/<\/p>\n<p>/g,"</p><p>").replace(/<br\/>\n/g,"<br/>").replace(/\n/g,"<br/>"));C(Ua.EditorState.createWithContent(Ua.ContentState.createFromBlockArray(me.contentBlocks,me.entityMap),upe))}i(me=>!me)};h.useLayoutEffect(()=>{if(e.id){const me=document.querySelector(`label[for="${e.id}"]`);if(me&&r){const re=n.current,ue=()=>{r&&(re==null||re.focus())};return me.addEventListener("click",ue),()=>{me.removeEventListener("click",ue)}}}return()=>{}},[r,e.id]),h.useEffect(()=>()=>{v.cancel()},[]);const he=()=>{_(me=>Skt.sanitize(me.replace(/<br\/>\n/,`
`).replace(/<br\/>/,`
`).replace(/<\/p><p/,`</p>
<p`),{ALLOWED_TAGS:[]}))};return d.jsxs(IVt,{children:[d.jsxs(RVt,{$visible:y,children:[r?d.jsxs(d.Fragment,{children:[d.jsx($m,{$active:M,style:{fontWeight:"bold"},onMouseDown:me=>me.preventDefault(),onClick:U.bold,children:"B"}),d.jsx($m,{$active:R,style:{fontStyle:"italic"},onMouseDown:me=>me.preventDefault(),onClick:U.italic,children:"i"}),d.jsx($m,{$active:D,style:{textDecoration:"underline"},onMouseDown:me=>me.preventDefault(),onClick:U.underline,children:"u"}),d.jsx($m,{$active:B||f,onMouseDown:me=>me.preventDefault(),onClick:U.link,children:d.jsx(kVt,{})}),d.jsx($m,{onClick:oe,children:d.jsx(EVt,{})})]}):d.jsxs(d.Fragment,{children:[!e.disallowHTML&&d.jsx($m,{onClick:oe,children:d.jsx("a",{children:w?"Edit HTML":"Convert to HTML"})}),w?d.jsx($m,{onClick:he,children:d.jsx("a",{children:"Remove HTML"})}):null]}),d.jsx(DVt,{}),e.onUpdateLanguage&&e.languages?d.jsx($m,{children:d.jsx("select",{onFocus:e.onFocus,onBlur:e.onBlur,value:e.language,onChange:me=>{var re;return(re=e.onUpdateLanguage)==null?void 0:re.call(e,me.currentTarget.value)},children:e.languages.map((me,re)=>d.jsx("option",{value:me,children:me},`lang_${me}_${re}`))})}):null,e.onRemove?d.jsx(HVt,{onClick:e.onRemove,children:d.jsx(Rte,{})}):null]}),f?d.jsx(jVt,{children:d.jsx("form",{...P,children:d.jsxs(NVt,{children:[d.jsx(FVt,{type:"text",name:"link",defaultValue:se}),d.jsx(lpe,{type:"submit",name:"_action",value:"add",children:"Add link"}),d.jsx(lpe,{type:"submit",name:"_action",value:"remove",children:"Remove"})]})})}):null,d.jsxs(uy.Container,{$focus:o,disabled:f,children:[r?d.jsx(d.Fragment,{children:d.jsx(BVt,{children:d.jsx(Ua.Editor,{ref:n,onFocus:()=>k(!0),onBlur:()=>{g(),k(!1)},editorState:u,handleKeyCommand:K,onChange:C,handleReturn:J})})}):d.jsx(uy.Text,{id:e.id,as:Vjt,onFocus:()=>k(!0),onBlur:()=>{g(),k(!1)},value:a,onChange:me=>_(me.currentTarget.value)}),y||o?d.jsx(zVt,{onMouseDown:()=>S(me=>!me),children:d.jsx(PVt,{})}):d.jsx(VVt,{onClick:()=>S(!0),children:e.language==="none"?null:d.jsx(UVt,{children:e.language})})]})]})}function iu(e){const{firstItem:t,createNewItem:n,fieldKeys:r,changeValue:i,getFieldByKey:o,changeLanguage:s,saveChanges:a,removeItem:l}=CVt(e),u=$Ne(a,400),[c,f]=Nbt(2e3),[p,g]=h.useState(!1),{i18n:{advancedLanguageMode:v,availableLanguages:y}}=Px(),S=v||r.length>1,C=h.useMemo(()=>`k-${Date.now()}`,[]),_=e.focusId?e.focusId:C+e.metadataKey,k=t?d.jsxs(d.Fragment,{children:[r.length>0&&d.jsx("div",{style:{display:"flex",flexDirection:"column",borderRadius:"5px",width:"100%",gap:"0.25em",marginBottom:"0.5em"},children:r.map((w,P)=>{const M=o(w),R=[...y];return y.indexOf(M.language)===-1&&R.push(M.language),y.indexOf("none")===-1&&R.unshift("none"),d.jsxs(tHt,{$active:r.length>1,onMouseEnter:()=>f.set(),onMouseLeave:()=>f.clear(!0),children:[d.jsx(Ote,{disallowHTML:e.disallowHTML,id:P===0?_:void 0,language:M.language,value:M.value,languages:R,onFocus:()=>{f.set()},onBlur:()=>{f.clear(),a(e.index,e.property)},onUpdateLanguage:D=>{s(w,D)},onUpdate:D=>{i(w,D),u(e.index,e.property)}}),p&&r.length>0?d.jsx(Zzt,{style:{visibility:c?"visible":"hidden"},className:"remove","aria-label":"remove",onClick:()=>{l(w),a(e.index,e.property)},title:"delete",children:d.jsx(Rte,{})}):null]},w)})}),S&&(!e.singleValue||r.length>1)?d.jsxs(avt,{active:c,children:[d.jsx(Lle,{"aria-label":"create new",onClick:()=>n(!0),children:"Add another"}),d.jsx(Lle,{"aria-label":"remove",onClick:()=>g(w=>!w),children:"Remove"})]}):null]}):null;return d.jsxs("div",{className:"mb-4",id:e.containerId,children:[d.jsx(d.Fragment,{children:d.jsx(an,{htmlFor:_,children:e.label})}),t?k:d.jsx(d.Fragment,{children:d.jsx(bVt,{id:_,onClick:()=>{var w;ai.flushSync(()=>{n(!1)}),(w=document.getElementById(_))==null||w.focus()},children:"Add value"})})]})}var GVt=Se.div`
  width: 100%;
  max-width: 550px;
`;function ZVt(e){let t=typeof e=="string"?e:e.find(n=>typeof n=="string");return t?(t.startsWith("http://iiif.io/api/image/2/")&&(t=t.slice(27)),t.startsWith("http://iiif.io/api/image/3/")&&(t=t.slice(27)),t.endsWith(".json")&&(t=t.slice(0,-1*5)),t):""}function YVt({selector:e,form:t,onSubmit:n,inlineFieldset:r,children:i}){const o=h.useRef(null);if(h.useEffect(()=>{o.current&&o.current.reset()},[e]),!e.spatial||e.spatial.unit!=="pixel")return null;const s=d.jsxs(nHt,{id:"box-selector-fieldset",$inline:r,children:[d.jsxs(j3,{children:[d.jsx("input",{type:"hidden",name:"selector.type",value:"BoxSelector"}),d.jsx(mg,{style:{width:"100%",marginRight:"0.4em"},children:d.jsxs(Vn,{children:[d.jsx(an,{$margin:!0,htmlFor:"type",children:"x"}),d.jsx(ji,{id:"selector-x",name:"selector.x",type:"number",defaultValue:e.spatial.x})]})}),d.jsx(mg,{style:{width:"100%",marginRight:"0.4em"},children:d.jsxs(Vn,{children:[d.jsx(an,{$margin:!0,htmlFor:"selector-y",children:"y"}),d.jsx(ji,{id:"selector-y",name:"selector.y",type:"number",defaultValue:e.spatial.y})]})}),d.jsx(mg,{style:{width:"100%",marginRight:"0.4em"},children:d.jsxs(Vn,{children:[d.jsx(an,{$margin:!0,htmlFor:"type",children:"width"}),d.jsx(ji,{id:"selector-width",name:"selector.width",type:"number",defaultValue:e.spatial.width})]})}),d.jsx(mg,{style:{width:"100%",marginRight:"0.4em"},children:d.jsxs(Vn,{children:[d.jsx(an,{$margin:!0,htmlFor:"selector-y",children:"height"}),d.jsx(ji,{id:"selector-height",name:"selector.height",type:"number",defaultValue:e.spatial.height})]})})]}),i]});if(t)return d.jsx("form",{ref:o,onSubmit:l=>{if(l.preventDefault(),n){const u=new FormData(l.target),c=Object.fromEntries(u.entries());n({type:"BoxSelector",spatial:{x:Number(c["selector.x"]),y:Number(c["selector.y"]),width:Number(c["selector.width"]),height:Number(c["selector.height"])}})}},children:s});const a=`${e.spatial.x},${e.spatial.y},${e.spatial.width},${e.spatial.height}`;return d.jsx(h.Fragment,{children:s},a)}function G4(e,t,n=1){const r=e.width/e.height,i=t.width/t.height;if(r===i)return{x:e.width*(1-n)/2,y:e.height*(1-n)/2,width:e.width*n,height:e.height*n};if(r<i){const a=e.width*n,l=t.height*(e.width/t.width)*n;return{x:(e.height-l)/2,y:(e.width-a)/2,width:a,height:l}}const o=e.height*n,s=t.width*(e.height/t.height)*n;return{x:(e.width-s)/2,y:(e.height-o)/2,width:s,height:o}}var XVt=/^.*(?:(?:youtu\.be\/|v\/|vi\/|u\/\w\/|embed\/|shorts\/)|(?:(?:watch)?\?vi?=|&vi?=))([^#&?]*).*/;function QVt(e){const t=(e||"").match(XVt);return t?t[1]:null}function JVt({youTubeId:e}){return d.jsxs("div",{className:"video-container3",children:[d.jsx("style",{children:`
            .video-container3 {
              background: #000;
              z-index: 13;
              display: flex;
              justify-content: center;
              pointer-events: visible;
              height: 250px;
            }
            .video-yt3 {
              border: none;
              width: 100%;
              object-fit: contain;
            }
          `}),d.jsx("iframe",{className:"video-yt3",src:`https://www.youtube.com/embed/${e}?enablejsapi=1&origin=${window.location.host}`,referrerPolicy:"no-referrer",sandbox:"allow-scripts allow-same-origin allow-presentation"})]})}function eUt(){const e=$n(),t=hc(),n=t.annotation.body.getFirst(),r=Tx(n,{parentProperty:"body",parent:t.ref(),index:0}),{id:i,width:o,height:s,mediaType:a,format:l,duration:u}=r.technical,{service:c}=r.linking,{label:f,summary:p}=t.descriptive,{target:g,body:v}=t.annotation,y=g.getSourceId(),{edit:S}=vu(),C=wNe({annotationId:t.technical.id.get()}),_=kr({id:y}),w=!!(c.get()||[]).find(G=>G.profile==="https://www.youtube.com")?QVt(i.get()):null,P=d.jsxs(d.Fragment,{children:[d.jsx(iu,{focusId:f.focusId(),label:"Label",fields:f.get(),onSave:G=>f.set(G.toInternationalString())}),d.jsx(iu,{focusId:p.focusId(),label:"Summary",fields:p.get(),onSave:G=>p.set(G.toInternationalString())})]}),M=d.jsxs(d.Fragment,{children:[d.jsx(Vn,{$wide:!0,children:d.jsx(D8,{width:o.get()||0,changeWidth:G=>o.set(G),height:s.get()||0,changeHeight:G=>s.set(G),duration:u.get()||0,changeDuration:a.get()!=="Image"?G=>u.set(G):void 0})}),d.jsxs(Vn,{$wide:!0,children:[d.jsx(an,{$margin:!0,htmlFor:a.focusId(),children:"Type"}),d.jsx(ji,{id:a.focusId(),value:a.get(),placeholder:"Image, sound etc",onChange:G=>a.set(G.target.value)})]}),d.jsxs(Vn,{$wide:!0,children:[d.jsx(an,{$margin:!0,htmlFor:l.focusId(),children:"Format"}),d.jsx(ji,{id:l.focusId(),value:l.get(),placeholder:"jpg, png etc.",onChange:G=>l.set(G.target.value)})]})]}),R=c.get()||[],D=R.length?d.jsx(d.Fragment,{children:d.jsxs(GVt,{children:[d.jsx(an,{children:"Services"}),R.map((G,ee)=>d.jsx(R8,{onClick:X=>{X.preventDefault()},link:G.id||G["@id"],title:G.type||G["@type"]||"Unknown service",label:ZVt(G.profile)},ee))]})}):null,H=g.get(),O=g.getParsedSelector(),z=d.jsxs(d.Fragment,{children:[_&&!H.selector?d.jsxs(Vn,{$wide:!0,children:[d.jsx(an,{$margin:!0,children:"Target"}),d.jsx("div",{style:{border:"1px solid #ddd",borderRadius:3,padding:"1em",color:"#999"},children:"This image fills the whole Canvas."}),d.jsx(eZ,{$right:!0,children:d.jsx(vs,{onClick:()=>{e.batch(()=>{let G=!1;if(v.hasIIIFSelector()){const X=v.getIIIFSelectorHeightWidth();if(X){G=!0,X.width!==o.get()&&o.set(X.width),X.height!==s.get()&&s.set(X.height);const se=G4(_,{width:X.width,height:X.height},.6);g.setPosition(se);return}}if(!G){const X=R.find(se=>o3(se));X&&X.width&&X.height&&(X.width!==o.get()&&o.set(X.width),X.height!==s.get()&&s.set(X.height))}const ee=G4(_,{width:o.get(),height:s.get()},.6);g.setPosition(ee)})},children:"Change"})})]}):null,O&&O.type==="BoxSelector"?d.jsx(Vn,{$wide:!0,children:d.jsx(YVt,{selector:O,form:!0,inlineFieldset:!0,onSubmit:G=>{g.setPosition(G.spatial)},children:d.jsxs(eZ,{$right:!0,children:[d.jsx(vs,{type:"button",onClick:()=>g.removeSelector(),children:"Target whole canvas"}),d.jsx(vs,{type:"submit",children:"Update target"})]})})}):null]});return d.jsxs(mg,{children:[d.jsx(Jhe,{children:C?d.jsx("img",{src:C.id}):w?d.jsx(JVt,{youTubeId:w}):null}),d.jsx(Vn,{$wide:!0,children:d.jsx(ji,{disabled:!0,value:i.get()})}),d.jsx(mVt,{items:[{label:"Descriptive",initialOpen:Object.keys(f.get()||{}).length!==0||Object.keys(p.get()||{}).length!==0,children:P},{label:"Media information",initialOpen:!0,children:M},{label:"Services",children:D},{label:"Target",initialOpen:O!==null,children:z}]}),t.context?d.jsxs(tVt,{label:"Remove from canvas",message:"Are you sure you want to remove from canvas",onDelete:()=>{var G;(G=t.context)==null||G.removeFromParent(),S(t.ref())},children:[d.jsx(Jhe,{children:C?d.jsx("img",{src:C.id}):null}),d.jsx(nZ,{})]}):null]})}var tUt={id:"@manifest-editor/media-editor",label:"Media",supports:{edit:!0,sortKey:"annotation-target",properties:["items"],resourceTypes:["Annotation"],readOnlyProperties:[],custom:(e,t)=>{const n=t.get(e.resource);if(!n||!n.body)return!1;const r=t.get(n.body);if(r.length>1)return!1;const i=r[0]||r;return["Image","Video","Sound"].includes(i.type||"")}},component:()=>d.jsx(eUt,{})},nUt=Se.div`
  background: #e4e7f0;
  display: flex;
  border: 1px solid #b1b1b1;
  border-radius: 3px;
  overflow: hidden;

  &[data-vertical="true"] {
    flex-direction: column;
    max-height: 13em;
    overflow: auto;
  }
`,rUt=Se.button`
  flex: 1;
  background: transparent;
  border: none;
  padding: 0.6em;
  color: #777;
  white-space: nowrap;
  font-size: 0.875em;

  &:hover {
    background: #eff2f6;
  }

  &:focus {
    // ?
  }

  & ~ & {
    border-left: 1px solid #b1b1b1;
  }

  &[data-active="true"] {
    background: #fff;
    color: #000;
  }

  [data-vertical="true"] & {
    border-left: none;
  }

  [data-vertical="true"] & ~ & {
    border-top: 1px solid #b1b1b1;
  }
`,cpe={Item:rUt,Container:nUt};function e9(e){const[t,n]=h.useState(e.value),r=e.options.length,i=h.useMemo(()=>e.options.map(()=>h.createRef()),[e.options]),o=a=>{e.onChange&&e.onChange(a),n(a)};h.useLayoutEffect(()=>{if(e.id){const a=()=>{const u=e.options.findIndex(c=>c.value===e.value);u!==-1&&i[u].current&&i[u].current.focus()},l=document.querySelector(`label[for="${e.id}"]`);if(l)return l.addEventListener("click",a),()=>{l.removeEventListener("click",a)}}},[e.id]);const s=a=>{var c,f;const l=document.activeElement,u=i.findIndex(p=>p.current===l);if(u!==-1)switch(a.code){case"ArrowRight":case"ArrowDown":{if(u!==r-1){const p=u+1;i[p]&&((c=i[p].current)==null||c.focus())}break}case"ArrowLeft":case"ArrowUp":{if(u!==0){const p=u-1;i[p]&&((f=i[p].current)==null||f.focus())}break}}};return d.jsxs(cpe.Container,{"data-vertical":e.options.length>3,children:[e.options.map((a,l)=>d.jsx(cpe.Item,{"data-active":a.value===t,ref:i[l],id:a.value===t?e.id:void 0,onKeyDown:s,onClick:()=>{a.value===t&&e.onDeselect?(e.onDeselect(),o("")):o(a.value)},children:d.jsx(Fn,{children:a.label})},a.value)),e.name?d.jsx("input",{type:"hidden",name:e.name,value:t||void 0}):null]})}function iUt({focusId:e,onChange:t,value:n}){return d.jsxs(Vn,{$fluid:!0,children:[d.jsx(an,{htmlFor:e,children:"Text granularity"}),d.jsx(e9,{onDeselect:()=>t(void 0),value:n,onChange:t,name:e,id:e,options:[{label:{en:["Whole Page"]},value:"page"},{label:{en:["Region of text"]},value:"block"},{label:{en:["Paragraph"]},value:"paragraph"},{label:{en:["Topographic line"]},value:"line"},{label:{en:["Single word"]},value:"word"},{label:{en:["Single glyph"]},value:"glyph"}]})]})}function oUt(){const{annotation:e}=hc(),t=e.body.get();return d.jsx(dc,{children:t.map(n=>d.jsx(sUt,{item:n},n.id))})}function sUt({item:e}){const{i18n:t}=Px(),n=Tx(e),{textGranularity:r}=n.extensions,{language:i,value:o}=n.descriptive,{motivation:s,mediaType:a}=n.technical;return a.get()==="Image"?d.jsx("img",{src:e.id,alt:""}):d.jsxs(d.Fragment,{children:[d.jsxs(Vn,{$wide:!0,children:[d.jsx(an,{children:"HTML Body"}),d.jsx(Ote,{value:o.get(),language:i.get(),onUpdateLanguage:u=>i.set(u),languages:t.availableLanguages,onUpdate:u=>o.set(u)})]}),t.textGranularityEnabled&&s.get()!=="painting"?d.jsx(iUt,{focusId:r.focusId(),value:r.get(),onChange:u=>r.set(u)}):null]})}var aUt={id:"@manifest-editor/html-body-editor",label:"HTML",supports:{edit:!0,properties:["items"],resourceTypes:["Annotation"],readOnlyProperties:[],custom:(e,t)=>{const n=t.get(e.resource);if(!n||!n.body)return!1;const r=t.get(n.body),i=r[0]||r;return["TextualBody","Text"].includes(i.type||"")&&i.format==="text/html"}},component:()=>d.jsx(oUt,{})};function lUt(){const e=fd(),{technical:t,descriptive:n,structural:r,notAllowed:i}=hc(),{label:o}=n,{items:s,annotations:a}=r,u=s.get()[0],c=a.get();return u?d.jsxs(dc,{children:[d.jsx(iu,{focusId:o.focusId(),label:"Label",fields:o.get(),onSave:f=>o.set(f.toInternationalString())}),d.jsxs(Do,{canvas:t.id.get(),children:[d.jsx(XR,{annotationPage:u.id,children:d.jsx(SNe,{})}),c&&c.length?d.jsx(Tw,{label:"Annotations",property:"annotations",items:a.get(),reorder:f=>a.reorder(f.startIndex,f.endIndex),createActions:Tl(a),creationType:"AnnotationPage",emptyLabel:"No annotations",parent:e==null?void 0:e.resource}):null]})]}):d.jsx("div",{children:"Error: Expected canvas to have at least one annotation page."})}var uUt={id:"@manifest-editor/overview-canvas-editor",label:"Detail",supports:{edit:!0,properties:["items"],resourceTypes:["Canvas"],readOnlyProperties:[],custom:(e,t)=>{const n=t.get(e.resource);if(!n)return!1;const r=n.items[0];return r?t.get(r).items.length!==1:!1}},component:()=>d.jsx(lUt,{})},cUt={datePicker:"DescriptiveProperties_datePicker","react-datetime-picker__wrapper":"DescriptiveProperties_react-datetime-picker__wrapper"},dUt={promptContainer:"EmptyPrompt_promptContainer"};function fUt(e){return d.jsxs("div",{className:dUt.promptContainer,children:[e.children,d.jsx("br",{}),d.jsx(vs,{id:e.action.id,onClick:e.action.onClick,children:e.action.label})]})}function TNe(){var S,C;const e=fd(),{descriptive:t,notAllowed:n}=hc(),[r,i]=h.useState(!1),{edit:o}=vu(),{label:s,summary:a,language:l,navDate:u,provider:c,requiredStatement:f,rights:p,thumbnail:g,accompanyingCanvas:v,placeholderCanvas:y}=t;return d.jsx(d.Fragment,{children:d.jsxs(dc,{children:[n.includes("label")?null:d.jsx(iu,{containerId:s.containerId(),focusId:s.focusId(),label:"Label",fields:s.get(),onSave:_=>s.set(_.toInternationalString())}),n.includes("summary")?null:d.jsx(iu,{containerId:a.containerId(),focusId:a.focusId(),label:"Summary",fields:a.get(),onSave:_=>a.set(_.toInternationalString())}),n.includes("thumbnail")?null:d.jsx(Tw,{containerId:g.containerId(),label:"Thumbnail",property:"thumbnail",items:g.get(),singleMode:!0,reorder:_=>g.reorder(_.startIndex,_.endIndex),createActions:Tl(g),creationType:"ContentResource",emptyLabel:"No thumbnail",parent:e==null?void 0:e.resource}),n.includes("rights")?null:d.jsxs(Vn,{$wide:!0,id:p.containerId(),children:[d.jsx(an,{htmlFor:p.focusId(),children:"Rights"}),d.jsx(ji,{id:p.focusId(),value:p.get()||"",onChange:_=>p.set(_.target.value),list:"valid-rights"}),d.jsx("datalist",{id:"valid-rights",children:n0t.map(_=>d.jsx("option",{value:_},_))})]}),n.includes("navDate")?null:d.jsxs(Vn,{$wide:!0,id:u.containerId(),children:[d.jsx(an,{htmlFor:u.focusId(),children:"Nav Date"}),d.jsx($te,{className:cUt.datePicker,id:u.focusId(),value:u.getDate(),onChange:_=>u.setDate(_)})]}),n.includes("requiredStatement")?null:d.jsxs(Vn,{$wide:!0,id:f.containerId(),children:[d.jsx(an,{htmlFor:f.focusId(),children:"Required statement"}),!f.get()&&!r?d.jsx(fUt,{action:{id:f.focusId(),label:"Add new",onClick:()=>i(!0)},children:"No required statement"}):d.jsxs(Yzt,{id:f.focusId(),children:[d.jsx(iu,{focusId:f.focusId()+"_label",label:"Label",fields:((S=f.get())==null?void 0:S.label)||{none:[]},onSave:_=>f.updateLabel(_.toInternationalString())}),d.jsx(iu,{focusId:f.focusId()+"_value",label:"Value",fields:((C=f.get())==null?void 0:C.value)||{none:[]},onSave:_=>f.update(_.toInternationalString())})]})]}),!n.includes("provider")&&c.get()?d.jsxs(Vn,{$wide:!0,id:c.containerId(),children:[d.jsx(an,{children:"Provider"}),(c.get()||[]).map(_=>d.jsx("div",{onClick:()=>o(_),children:_.id},_.id))]}):null,n.includes("language")?null:d.jsxs(Vn,{$wide:!0,id:l.containerId(),children:[d.jsx(an,{htmlFor:l.focusId(),children:"Language"}),d.jsx(ji,{id:l.focusId(),value:(l.get()||[])[0],onChange:_=>l.set([_.target.value])})]})]})})}function MNe(){var _,k;const e=fd(),{linking:t,notAllowed:n}=hc(),{seeAlso:r,service:i,services:o,rendering:s,partOf:a,start:l,supplementary:u,homepage:c,logo:f}=t,[p,g]=N3(),[v,y]=ed(e==null?void 0:e.resource,"logo","ContentResource"),[S,C]=ed(e==null?void 0:e.resource,"start","Canvas",void 0,{onlyReference:!0});return d.jsxs(dc,{children:[n.includes("seeAlso")?null:d.jsx(Tw,{containerId:r.containerId(),label:"See also",property:"seeAlso",items:r.get(),reorder:w=>r.reorder(w.startIndex,w.endIndex),createActions:Tl(r),creationType:"ContentResource",emptyLabel:"No see also",parent:e==null?void 0:e.resource}),n.includes("rendering")?null:d.jsx(Tw,{containerId:s.containerId(),label:"Rendering",property:"rendering",items:s.get(),reorder:w=>s.reorder(w.startIndex,w.endIndex),createActions:Tl(s),creationType:"ContentResource",emptyLabel:"No rendering",parent:e==null?void 0:e.resource}),n.includes("supplementary")?null:d.jsx(Tw,{containerId:u.containerId(),label:"Supplementary",property:"supplementary",items:u.get(),reorder:w=>u.reorder(w.startIndex,w.endIndex),createActions:Tl(u),creationType:"AnnotationCollection",emptyLabel:"No supplementary",parent:e==null?void 0:e.resource}),n.includes("start")?null:d.jsxs("div",{id:l.containerId(),children:[d.jsx(Vn,{$wide:!0,children:l.get()?d.jsxs(d.Fragment,{children:[d.jsx(an,{children:"Start"}),d.jsx(Do,{canvas:(_=Oi(l.get()))==null?void 0:_.id,children:d.jsx(tZ,{onClick:()=>C.edit(l.get())})})]}):d.jsxs(d.Fragment,{children:[d.jsx(an,{children:"Start"}),d.jsx(q4,{$noMargin:!0,$box:!0,children:"No start resource"})]})}),d.jsxs(j3,{children:[S?d.jsx(vs,{onClick:()=>C.create(),children:"Set start"}):null,l.get()?d.jsx(vs,{onClick:()=>l.set(null),children:"Unset start"}):null]})]}),n.includes("logo")?null:d.jsxs("div",{id:f.containerId(),children:[d.jsxs(Vn,{$wide:!0,children:[(k=f.get())!=null&&k.length?d.jsxs(an,{children:["logo",d.jsx(I8,{"data-active":p.logo,onClick:()=>g("logo")})]}):d.jsxs(d.Fragment,{children:[d.jsx(an,{children:"Logo"}),d.jsx(q4,{$noMargin:!0,$box:!0,children:"No logo"})]}),d.jsx(mNe,{list:f.get()||[],inlineHandle:!1,reorder:p.logo?w=>f.reorder(w.startIndex,w.endIndex):void 0,onSelect:(w,P)=>{y.edit(w,P)},createActions:Tl(f)})]}),v?d.jsx(vs,{onClick:()=>y.create(),children:"Add logo"}):null]})]})}function LNe(){const{extensions:e,notAllowed:t}=hc(),{navPlace:n}=e,[r,i]=h.useState([51.505,-.09]),o=1,s=h.useRef(),a=ne.useRef(null),l=n.get(),u=f=>{var p;((p=a.current)==null?void 0:p.getLayers().length)===0&&f&&Jf.geoJSON(f).eachLayer(g=>{var v,y,S;(g instanceof Jf.Polyline||g instanceof Jf.Polygon||g instanceof Jf.Marker)&&((v=g==null?void 0:g.feature)!=null&&v.properties.radius&&a.current?new Jf.Circle(g.feature.geometry.coordinates.slice().reverse(),{radius:(y=g.feature)==null?void 0:y.properties.radius}).addTo(a.current):(S=a.current)==null||S.addLayer(g))})};h.useEffect(()=>{u(l)},[l]);const c=()=>{var p;const f=(p=a.current)==null?void 0:p.toGeoJSON();(f==null?void 0:f.type)==="FeatureCollection"&&n.set({...l,...f})};return t.includes("navPlace")?null:d.jsxs(dc,{children:[d.jsx(an,{children:"Nav place"}),d.jsxs(zzt,{center:r,zoom:o,ref:s,style:{height:300,zIndex:1},children:[d.jsx(Fzt,{ref:a,children:d.jsx(fNe,{position:"topright",onMounted:()=>u(l),onEdited:c,onCreated:c,onDeleted:c,draw:{rectangle:!0,circle:!0,polyline:!0,polygon:!0,marker:!0,circlemarker:!0}})}),d.jsx(Hzt,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"})]})]})}var hUt=e=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",viewBox:"0 0 24 24",...e,children:[d.jsx("path",{fill:"none",d:"M0 0h24v24H0z"}),d.jsx("path",{d:"m15 5-1.41 1.41L18.17 11H2v2h16.17l-4.59 4.59L15 19l7-7-7-7z",fill:"currentColor"})]}),dpe=({className:e,inline:t,height:n=16,color:r="black"})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",height:`${n}px`,viewBox:"0 0 24 24",width:"24px",fill:r,style:{verticalAlign:t?"bottom":void 0},className:e,children:[d.jsx("path",{d:"M0 0h24v24H0z",fill:"none"}),d.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z",fill:"currentColor"})]});function pUt(e,t){return e.map(n=>{for(const r of t){const i={value:n,configId:r.id,hasConfig:!0};if(r.type==="custom"&&r.supports(n)||r.type==="choice"&&r.items.find(o=>o.value===n)||r.type==="template"&&n.match(r.regex))return i}return{value:n,hasConfig:!1}})}function mUt(e,t,n){const r=e.indexOf(t);if(r===-1)return n?[...e,n]:e;const i=[...e];return n?i.splice(r,1,n):i.splice(r,1),i}function gUt(e){switch(e.config.type){case"custom":return d.jsx(d.Fragment,{children:e.config.component(e.behaviors,e.setBehaviors)});case"choice":{const t=e.config.addNone?[{label:{en:["None"]},value:""},...e.config.items]:e.config.items,n=t.map(a=>a.value),r=e.behaviors.filter(a=>!n.includes(a));let i=e.behaviors.filter(a=>n.includes(a));i.length===0&&e.config.addNone&&(i=[""]);const o=i.length?e.behaviors.findIndex(a=>a===i[0]):-1,s=a=>{o!==-1&&a?(r.splice(o,0,a),e.setBehaviors(r)):e.setBehaviors(a?[...r,a]:r)};return d.jsx(e9,{options:t,value:i[0],onChange:s})}case"template":return d.jsx("div",{children:"... todo ..."})}return d.jsx("div",{})}function vUt(e){const[t,n]=h.useState(!1),[r,i]=h.useMemo(()=>{const a={};for(const l of e.configs)a[l.id]={ref:h.createRef(),config:l};return[a,Object.keys(a).length]},[e.configs]),o=pUt(e.behavior,e.configs),s=(a,l)=>{e.onChange(mUt(e.behavior,a,l))};return d.jsxs("div",{id:e.id,children:[i>0?d.jsxs(d.Fragment,{children:[d.jsx(dc,{children:d.jsx(an,{children:"Built-in behaviors"})}),d.jsx(kNe,{children:Object.values(r).map(({ref:a,config:l})=>d.jsx(PNe,{initialOpen:l.initialOpen,ref:a,label:d.jsx(Fn,{children:l.label}),children:d.jsx(gUt,{behaviors:e.behavior,setBehaviors:e.onChange,config:l})},l.id))})]}):null,d.jsxs(dc,{children:[d.jsx(an,{children:"Behaviors"}),d.jsx(Vn,{$fluid:!0,children:o.map((a,l)=>a.hasConfig?d.jsxs(uy.Container,{$button:!0,onClick:()=>{var c,f;const u=r[a.configId];u&&((c=u.ref.current)==null||c.open(),(f=u.ref.current)==null||f.open())},children:[d.jsx(uy.ReadOnly,{children:a.value}),d.jsxs("div",{style:{display:"flex",alignItems:"center",color:"#666"},children:["edit ",d.jsx(hUt,{style:{margin:"0 0.4em",width:"1.2em"}})]})]},a.value):d.jsxs(uy.Container,{children:[d.jsx(uy.Text,{value:a.value,onChange:u=>s(a.value,u.currentTarget.value)}),d.jsx(vs,{onClick:()=>s(a.value,""),children:d.jsx(Rte,{})})]},l))},o.length),t?d.jsxs("form",{className:"flex flex-col gap-2 border-2 border-gray-100 p-2 rounded-md",onSubmit:a=>{a.preventDefault();const l=new FormData(a.target),u=Object.fromEntries(l.entries());u.behavior&&(n(!1),e.onChange([...e.behavior,u.behavior]))},children:[d.jsx(an,{htmlFor:"custom_behavior",children:"Add custom behavior"}),d.jsx(uy.Container,{children:d.jsx(uy.Text,{name:"behavior",id:"custom_behavior",list:"behaviors",autoFocus:!0})}),d.jsxs(Rs,{center:!0,primary:!0,type:"submit",children:[d.jsx(dpe,{})," Add"]})]}):d.jsxs(Rs,{onPress:()=>n(!0),children:[d.jsx(dpe,{})," Add custom behavior"]})]})]})}function ANe(){const{technical:e,notAllowed:t}=hc(),{id:n,viewingDirection:r,height:i,width:o,duration:s,behavior:a,format:l,motivation:u,profile:c,timeMode:f}=e;return d.jsxs(d.Fragment,{children:[d.jsxs(dc,{children:[d.jsxs(Vn,{$wide:!0,id:n.containerId(),children:[d.jsx(an,{htmlFor:n.focusId(),children:"Identifier"}),d.jsx(ji,{disabled:!0,id:n.focusId(),value:n.get()})]}),!t.includes("width")&&!t.includes("height")?d.jsx(Vn,{$wide:!0,children:d.jsx(D8,{widthId:o.containerId(),width:o.get()||0,changeWidth:p=>o.set(p),heightId:i.containerId(),height:i.get()||0,changeHeight:p=>i.set(p),durationId:s.containerId(),duration:s.get()||0,changeDuration:p=>s.set(p)})}):null,t.includes("viewingDirection")?null:d.jsxs(Vn,{$fluid:!0,id:r.containerId(),children:[d.jsx(an,{htmlFor:r.focusId(),children:"Viewing direction"}),d.jsx(e9,{id:r.focusId(),name:"viewingDirection",value:r.get(),onChange:p=>r.set(p),options:[{label:{en:["Left to right"]},value:"left-to-right"},{label:{en:["Right to left"]},value:"right-to-left"},{label:{en:["Top to bottom"]},value:"top-to-bottom"},{label:{en:["Bottom to top"]},value:"bottom-to-top"}]})]}),t.includes("profile")?null:d.jsxs(Vn,{$wide:!0,id:c.containerId(),children:[d.jsx(an,{htmlFor:c.focusId(),children:"Profile"}),d.jsx(ji,{id:c.focusId(),value:c.get(),onChange:p=>c.set(p.target.value)})]}),t.includes("timeMode")?null:d.jsxs(Vn,{$wide:!0,id:f.containerId(),children:[d.jsx(an,{htmlFor:f.focusId(),children:"Time mode"}),d.jsx(e9,{value:f.get()||"",options:[{label:{en:["None"]},value:""},{label:{en:["Trim"]},value:"trim"},{label:{en:["Scale"]},value:"scale"},{label:{en:["Loop"]},value:"loop"}],id:f.focusId(),onChange:p=>f.set(p||null),onDeselect:()=>f.set(null)})]}),t.includes("format")?null:d.jsxs(Vn,{$wide:!0,id:l.containerId(),children:[d.jsx(an,{htmlFor:l.focusId(),children:"Format"}),d.jsx(ji,{id:l.focusId(),value:l.get(),placeholder:"jpg, png etc.",onChange:p=>l.set(p.target.value)})]}),t.includes("motivation")?null:d.jsxs(Vn,{$wide:!0,id:u.containerId(),children:[d.jsx(an,{htmlFor:u.focusId(),children:"Motivation"}),d.jsx(ji,{id:u.focusId(),value:u.get()||"",placeholder:"painting, supplementing etc.",onChange:p=>u.set(p.target.value)})]})]}),t.includes("behavior")?null:d.jsx(vUt,{id:a.containerId(),behavior:a.get()||[],onChange:p=>a.set(p),configs:a.getSupported()})]})}function yUt({config:e}){const{technical:t,descriptive:n,linking:r,structural:i,extensions:o,notAllowed:s}=hc();function a(c){const f=c.getWithoutTracking();let p=!f||f.length===0||f==="left-to-right";if(e.fields){if(e.fields.includes(c.getProperty()))return"";p=!0}return`${p?`*[id="${c.containerId()}"]{display: none}`:""}`}const l=t.type,u=h.useMemo(()=>`
    ${a(t.id)}
    ${a(t.width)}
    ${a(t.height)}
    ${a(t.duration)}
    ${a(t.behavior)}
    ${a(t.format)}
    ${a(t.motivation)}
    ${a(t.viewingDirection)}
    ${a(t.mediaType)}
    ${a(t.profile)}
    ${a(t.timeMode)}

    ${a(n.label)}
    ${a(n.summary)}
    ${a(n.rights)}
    ${a(n.navDate)}
    ${a(n.requiredStatement)}
    ${a(n.provider)}
    ${a(n.thumbnail)}
    ${a(n.language)}

    ${a(r.seeAlso)}
    ${a(r.supplementary)}
    ${a(r.logo)}
    ${a(r.service)}
    ${a(r.homepage)}
    ${a(r.partOf)}
    ${a(r.rendering)}
    ${a(r.services)}
    ${a(r.start)}

    ${a(i.items)}
    ${a(i.annotations)}
    ${a(i.structures)}
    ${a(o.navPlace)}
  `,[t.id.get()]);return d.jsxs("div",{children:[d.jsx("style",{children:u}),d.jsx(TNe,{}),l==="Canvas"?d.jsx(_Ne,{}):null,d.jsx(ANe,{}),d.jsx(MNe,{}),!s.includes("navPlace")&&o.navPlace.get()?d.jsx(LNe,{}):null]})}var bUt={id:"@manifest-editor/overview",label:"Overview",supports:{edit:!0,properties:[],resourceTypes:["Collection","Manifest","Canvas","ContentResource","Agent","AnnotationPage","Range"]},component:e=>d.jsx(yUt,{config:e})};function wUt(){const{descriptive:e}=hc(),[t,n]=h.useState(!1),r=e.metadata.getSortable(),i=(o,s)=>d.jsxs(Mvt,{label:o.label,"aria-label":`Metadata item ${s}`,children:[d.jsx(iu,{focusId:o.id,label:"Label",fields:o.label||{none:[]},onSave:a=>e.metadata.update(s,a.toInternationalString(),o.value),disallowHTML:!0}),d.jsx(iu,{focusId:o.id+"_value",label:"Value",fields:o.value||{none:[]},onSave:a=>e.metadata.update(s,o.label,a.toInternationalString()),disallowHTML:!0})]},s);return d.jsxs(dc,{children:[(r||[]).length!==0?d.jsx(j3,{style:{position:"sticky",top:0,display:"block"},children:d.jsx(vs,{style:{marginLeft:"auto"},onClick:()=>n(o=>!o),children:t?"Disable ordering":"Enable ordering"})}):null,t?d.jsx(v1,{reorder:o=>e.metadata.reorder(o.startIndex,o.endIndex),id:e.metadata.focusId(),inlineHandle:!1,items:r,renderItem:i,createActions:Tl(e.metadata)}):(r||[]).map(i),(r||[]).length===0&&d.jsx(EJ,{$noMargin:!0,$box:!0,children:"No metadata items"}),d.jsx(vs,{style:{position:"sticky",bottom:0},onClick:()=>e.metadata.add({en:[""]},{en:[""]}),children:"Add metadata item"})]})}var xUt={id:"@manifest-editor/metadata",label:"Metadata",supports:{edit:!0,properties:["metadata"],resourceTypes:["Collection","Manifest","Canvas","Range","ContentResource","Annotation","AnnotationCollection"]},component:()=>d.jsx(wUt,{})},SUt={id:"@manifest-editor/technical-properties",label:"Technical",supports:{edit:!0,readOnlyProperties:["id"],properties:["id","viewingDirection","height","width","duration","behavior","format","motivation","profile","timeMode"],resourceTypes:["Collection","Manifest","Canvas","Annotation","AnnotationPage","Range","AnnotationCollection","ContentResource","Agent"]},component:()=>d.jsx(ANe,{})},_Ut={id:"@manifest-editor/linking-properties",label:"Linking",supports:{edit:!0,properties:["seeAlso","rendering","supplementary","homepage","logo"],resourceTypes:["Manifest","Canvas","ContentResource","Agent","Range","Collection"],readOnlyProperties:[]},component:()=>d.jsx(MNe,{})};function CUt(){const e=hc(),t=e.getPartOf();cx(t,"Canvas id not found.");const r=Tx({id:t,type:"Canvas"}).structural.items.get(),i=lQ({id:r[0].id});((i==null?void 0:i.items.length)||0)>1;const{items:o}=e.structural,[s,a]=ed(e.ref(),"items","Annotation",t?{id:t,type:"Canvas"}:void 0);return d.jsxs(dc,{children:[d.jsx(an,{children:"Annotations"}),d.jsx(xNe,{id:o.focusId(),list:o.get()||[],inlineHandle:!1,reorder:l=>o.reorder(l.startIndex,l.endIndex),onSelect:(l,u)=>a.edit(l,u),createActions:Tl(o)}),d.jsx("br",{}),s?d.jsx(vs,{onClick:()=>{var l;(l=document.querySelector('button[data-control="create"]'))==null||l.click()},children:"Create annotation"}):null]})}var EUt={id:"@manifest-editor/annotation-list-editor",label:"Annotations",supports:{edit:!0,properties:["items"],resourceTypes:["AnnotationPage"],readOnlyProperties:[],custom:(e,t)=>{const n=t.get(e.resource);return n?!vNe(n):!1}},component:()=>d.jsx(CUt,{})},kUt={id:"@manifest-editor/descriptive-properties",label:"Descriptive",supports:{edit:!0,properties:["label","summary","language","navDate","provider","requiredStatement","rights","thumbnail"],resourceTypes:["Collection","Manifest","Canvas","ContentResource","Agent","Annotation","AnnotationPage","Range"],readOnlyProperties:["provider"]},component:()=>d.jsx(TNe,{})},PUt={id:"@manifest-editor/nav-place-editor",label:"Nav place",supports:{edit:!0,properties:["navPlace"],resourceTypes:["Collection","Manifest","Canvas","Range"],readOnlyProperties:[]},component:()=>d.jsx(LNe,{})},INe=[zHt,tUt,aUt,uUt,jHt,EUt,bUt,kUt,xUt,SUt,_Ut,OHt,NHt,PUt];function $Ut(e){return e.reorder?d.jsx(v1,{id:e.id||"reorder-canvas-grid",marginBottom:"0.5em",items:e.list||[],inlineHandle:e.inlineHandle,reorder:e.reorder,grid:!0,renderItem:(t,n)=>{var r,i;return d.jsx(Do,{canvas:(r=Oi(t))==null?void 0:r.id,children:d.jsx(Cq,{active:(e==null?void 0:e.activeId)===((i=Oi(t))==null?void 0:i.id),onClick:()=>e.onSelect(t,n),id:t.id},t.id)})},createActions:e.createActions}):d.jsx(d.Fragment,{children:e.list.map((t,n)=>{const r=os(t)?t.source:t;return d.jsx(Do,{canvas:r.id,children:d.jsx(Cq,{id:t.id,selected:(e==null?void 0:e.activeId)===r.id,onClick:()=>e.onSelect(r,n)},t.id)},r.id)})})}var TUt=Pqe`
  0% { transform: translateY(-50%) }
  100% { transform: translateY(50%) }
`,_L=Se.div`
  position: relative;
  margin-top: -80px;
  margin-bottom: -80px;

  ${e=>e.$reverse&&ln`
      ${Na} {
        animation-direction: reverse;
      }
    `}
`,Na=Se.div`
  padding: 20px;
  animation: ${TUt} linear infinite 30s;
`,wl=Se.div`
  width: 100px;
  height: 140px;
  background: #d5ddeb;
  border-radius: 5px;
`,MUt=Se.div`
  position: absolute;
  height: 180px;
  //border: 1px solid salmon;
  background-image: linear-gradient(180deg, rgba(255, 255, 255, 0) 0%, #ffffff 98%);
  left: 0;
  bottom: 0;
  right: 0;
`;function LUt(){return d.jsxs("div",{style:{overflow:"hidden",display:"flex",position:"relative",justifyContent:"center",background:"#fff"},children:[d.jsxs(_L,{$reverse:!0,children:[d.jsx(Na,{children:d.jsx(wl,{})}),d.jsx(Na,{children:d.jsx(wl,{})}),d.jsx(Na,{children:d.jsx(wl,{})}),d.jsx(Na,{children:d.jsx(wl,{})})]}),d.jsxs(_L,{children:[d.jsx(Na,{children:d.jsx(wl,{})}),d.jsx(Na,{children:d.jsx(wl,{})}),d.jsx(Na,{children:d.jsx(wl,{})}),d.jsx(Na,{children:d.jsx(wl,{})})]}),d.jsxs(_L,{$reverse:!0,children:[d.jsx(Na,{children:d.jsx(wl,{})}),d.jsx(Na,{children:d.jsx(wl,{})}),d.jsx(Na,{children:d.jsx(wl,{})}),d.jsx(Na,{children:d.jsx(wl,{})})]}),d.jsxs(_L,{children:[d.jsx(Na,{children:d.jsx(wl,{})}),d.jsx(Na,{children:d.jsx(wl,{})}),d.jsx(Na,{children:d.jsx(wl,{})}),d.jsx(Na,{children:d.jsx(wl,{})})]}),d.jsx(MUt,{style:{textAlign:"center"},children:d.jsx("h1",{children:"No canvases"})})]})}var AUt=e=>d.jsxs("svg",{...e,viewBox:"4 4 16 16",xmlns:"http://www.w3.org/2000/svg",height:"1em",width:"1em",children:[e.title?d.jsx("title",{children:e.title}):null,d.jsx("path",{d:"M0 0h24v24H0z",fill:"none"}),d.jsx("path",{d:"M8 5v14l11-7z",fill:"currentColor"})]}),IUt=e=>d.jsxs("svg",{...e,viewBox:"4 4 16 16",xmlns:"http://www.w3.org/2000/svg",height:"1em",width:"1em",children:[e.title?d.jsx("title",{children:e.title}):null,d.jsx("path",{d:"M0 0h24v24H0z",fill:"none"}),d.jsx("path",{fill:"currentColor",d:"M6 19h4V5H6v14zm8-14v14h4V5h-4z"})]}),RUt=({title:e,...t})=>d.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",height:"1em",width:"1em",viewBox:"2 2 20 20",children:[e?d.jsx("title",{children:e}):null,d.jsx("path",{d:"M0 0h24v24H0z",fill:"none"}),d.jsx("path",{fill:"currentColor",d:"M3 9v6h4l5 5V4L7 9H3zm13.5 3A4.5 4.5 0 0 0 14 7.97v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"})]}),DUt=({title:e,...t})=>d.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",height:"1em",width:"1em",viewBox:"2 2 20 20",children:[e?d.jsx("title",{children:e}):null,d.jsx("path",{d:"M0 0h24v24H0z",fill:"none"}),d.jsx("path",{fill:"currentColor",d:"M18.5 12c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM5 9v6h4l5 5V4L9 9H5z"})]}),OUt=({title:e,...t})=>d.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",height:"1em",width:"1em",viewBox:"2 2 20 20",children:[e?d.jsx("title",{children:e}):null,d.jsx("path",{d:"M0 0h24v24H0z",fill:"none"}),d.jsx("path",{fill:"currentColor",d:"M16.5 12A4.5 4.5 0 0 0 14 7.97v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51A8.796 8.796 0 0 0 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3 3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06a8.99 8.99 0 0 0 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4 9.91 6.09 12 8.18V4z"})]}),jUt=Se.div`
  background: #ededed; // Not in variable.
  display: flex;
  padding: 0.5em;
  align-items: center;
`,RNe=Se.button`
  cursor: pointer;
  padding: 0.75em 1.5em;
  font-size: 0.938em;
  background: none;
  color: inherit;
  border: none;
  text-decoration: none;
  display: inline-block;
  vertical-align: top;
  white-space: nowrap;
`,NUt=Se(RNe)`
  width: 2em;
  height: 2em;
  overflow: hidden;
  font-size: 1.1em;
  background: #fff;
  border-radius: 3px;
  padding: 0;
  margin: 0;
  color: #000; // Not in colours

  &:disabled {
    color: #999;
  }
`,fpe=Se.div`
  margin: 0 1em;
  font-size: 0.85em;
  color: #000;
`,FUt=Se.div`
  flex: 1 1 0px;
  height: 6px;
  display: flex;
  position: relative;
  padding: 15px 0;
`,BUt=Se.div`
  background: #d85680;
  height: 6px;
  pointer-events: none;
  position: absolute;
  top: 13px;
  left: 0;
  border-radius: 3px;
  transition: width 200ms;
`,zUt=Se.div`
  position: absolute;
  top: 13px;
  left: 0;
  height: 6px;
  border-radius: 3px;
  width: 100%;
  pointer-events: none;
  background: #fff;
`,HUt=Se(RNe)`
  width: 2em;
  height: 2em;
  overflow: hidden;
  font-size: 1.1em;
  background: transparent;
  border-radius: 3px;
  padding: 0;
  margin: 0;
`,VUt=Se.div`
  display: flex;
  align-items: center;
`,UUt=Se.div`
  width: 0;
  overflow: hidden;
  transition: width 500ms;
  color: #4a473f; // Not in colours

  ${e=>e.$isOpen&&ln`
      width: 150px;
    `}
`,WUt=Se.input.attrs({type:"range"})`
  width: 120px;
  margin: 0 15px;
`;function KUt(e){return d.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 42 42",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",...e,children:d.jsxs("g",{transform:"translate(2 2)",strokeWidth:5,fill:"none",fillRule:"evenodd",children:[d.jsx("circle",{strokeOpacity:.5,cx:18,cy:18,r:18}),d.jsx("path",{d:"M36 18c0-9.94-8.06-18-18-18",children:d.jsx("animateTransform",{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"1s",repeatCount:"indefinite"})})]})})}var qUt=ln`
  clip: rect(1px, 1px, 1px, 1px);
  clip-path: inset(50%);
  height: 1px;
  width: 1px;
  margin: -1px;
  overflow: hidden;
  padding: 0;
  position: absolute;
`,GUt=Se.label`
  ${qUt}
`;function ZUt(e){const[t,n]=h.useState(!1),{progress:r,currentTime:i,element:o}=hQ(),{duration:s,isMuted:a,volume:l,isPlaying:u,playRequested:c}=dQ(),{setVolume:f,toggleMute:p,play:g,pause:v,setDurationPercent:y}=fQ(),S=a||l===0?OUt:l>50?RUt:DUt;return h.useLayoutEffect(()=>{var C;if(o.current){const _=o.current;if(_.error&&e.onError){e.onError(((C=_.error)==null?void 0:C.message)||"Unknown error");return}const k=()=>{var P;e.onError&&e.onError(((P=_.error)==null?void 0:P.message)||"Unknown error")},w=()=>{_.duration&&e.onDuration&&e.onDuration(_.duration),e.onDimensions&&_ instanceof HTMLVideoElement&&e.onDimensions(_.videoWidth,_.videoHeight)};return _.addEventListener("loadedmetadata",w),_.addEventListener("error",k),()=>{_.removeEventListener("loadedmetadata",w),_.removeEventListener("error",k)}}},[]),d.jsxs(jUt,{children:[d.jsx(NUt,{disabled:c,onClick:()=>{u?v():g()},children:c?d.jsx(KUt,{stroke:"#999"}):u?d.jsx(IUt,{title:"Pause"}):d.jsx(AUt,{title:"Play"})}),d.jsx(fpe,{ref:i,children:"0:00"}),d.jsxs(FUt,{onClick:C=>{const{left:_,width:k}=C.currentTarget.getBoundingClientRect(),w=(C.pageX-_)/k;y(w)},children:[d.jsx(zUt,{}),s?d.jsx(BUt,{ref:r}):null]}),d.jsx(fpe,{children:BT(s)}),d.jsxs(VUt,{onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),children:[d.jsx(UUt,{$isOpen:t,children:d.jsxs("span",{children:[d.jsx(GUt,{htmlFor:"audio-slider",children:"Change volume"}),d.jsx(WUt,{id:"audio-slider",role:"slider",disabled:a,min:"0",max:"100",value:l,onChange:C=>f(Number(C.currentTarget.value))})]})}),d.jsx(HUt,{onClick:()=>p(),children:d.jsx(S,{title:a?"Mute":"Unmute"})})]})]})}var YUt=({title:e,...t})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 96 960 960",height:"1em",width:"1em",...t,children:[d.jsx("path",{d:"M0 0h24v24H0z",fill:"none"}),d.jsx("path",{d:"M674.5 1017.91V861.5h-389q-37.783 0-64.391-26.609Q194.5 808.283 194.5 770.5v-389H38.087v-91H194.5V134.087h91V770.5h636.413v91H765.5v156.41h-91Zm0-327.41v-309h-309v-91h309q37.783 0 64.391 26.609Q765.5 343.717 765.5 381.5v309h-91Z"}),e?d.jsx("title",{children:e}):null]}),XUt=({title:e,...t})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",viewBox:"0 0 24 24",...t,children:[d.jsx("path",{d:"M0 0h24v24H0z",fill:"none"}),d.jsx("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z",fill:"currentColor"}),e?d.jsx("title",{children:e}):null]}),QUt=({title:e,...t})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",viewBox:"0 0 24 24",...t,children:[d.jsx("path",{d:"M0 0h24v24H0z",fill:"none"}),d.jsx("path",{d:"M19 13H5v-2h14v2z",fill:"currentColor"}),e?d.jsx("title",{children:e}):null]}),JUt=({title:e,...t})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",viewBox:"0 0 24 24",...t,children:[d.jsx("path",{d:"M0 0h24v24H0z",fill:"none"}),d.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z",fill:"currentColor"}),e?d.jsx("title",{children:e}):null]}),eWt=({title:e,...t})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",height:"1em",width:"1em",viewBox:"0 0 24 24",...t,children:[d.jsx("path",{d:"M0 0h24v24H0z",fill:"none"}),d.jsx("path",{d:"M17.66,9.53l-7.07,7.07l-4.24-4.24l1.41-1.41l2.83,2.83l5.66-5.66L17.66,9.53z M4,12c0-2.33,1.02-4.42,2.62-5.88L9,8.5v-6H3 l2.2,2.2C3.24,6.52,2,9.11,2,12c0,5.19,3.95,9.45,9,9.95v-2.02C7.06,19.44,4,16.07,4,12z M22,12c0-5.19-3.95-9.45-9-9.95v2.02 c3.94,0.49,7,3.86,7,7.93c0,2.33-1.02,4.42-2.62,5.88L15,15.5v6h6l-2.2-2.2C20.76,17.48,22,14.89,22,12z"}),e?d.jsx("title",{children:e}):null]}),hpe=({style:e})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",height:"1rem",viewBox:"0 0 24 24",width:"1rem",fill:"#000000",style:e,children:[d.jsx("path",{d:"M0 0h24v24H0z",fill:"none"}),d.jsx("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"})]}),Cm=Se.button`
  padding: 0.8em;
  font-size: 1em;
  line-height: 1em;
  border: none;
  background: rgba(255, 255, 255, 0.6);
  display: flex;
  box-shadow: 0 2px 3px 0 rgba(0, 0, 0, 0.15);
  border-radius: 3px;
  backdrop-filter: blur(5px);
  transition: background 500ms;
  &:focus {
    outline: 2px solid #ff9999;
  }

  &:disabled {
    opacity: 0.5;
    img {
      opacity: 0.5;
    }
  }

  &[data-control="previous"] {
    view-transition-name: "previous-canvas";
  }
  &[data-control="next"] {
    view-transition-name: "next-canvas";
  }

  ${e=>e.$active&&ln`
      transition: none;
      background: #5197d8;
      color: #fff;
      &:hover {
        background: #5197d8;
        color: #fff;
      }
    `}
`,tWt=Se.div`
  display: flex;
  position: absolute;
  top: 1em;
  right: 1em;
  z-index: 20;

  & > * ~ * {
    margin-left: 0.5em;
  }
`;function nWt({refresh:e,toggleEditMode:t,editMode:n,createMode:r,onNext:i,onPrevious:o,editIcon:s,clearSelection:a,enableNavigation:l,style:u,creatingAnnotation:c,toggleCreateAnnotation:f}){const p=NT();return d.jsxs(tWt,{style:u,children:[f&&!n?d.jsx(Cm,{"data-control":"create",onClick:f,$active:c,children:r?"Clear":"Create annotation"}):null,t?d.jsxs(d.Fragment,{children:[d.jsx(Cm,{"data-control":"edit",onClick:t,$active:n,children:n?"Finish editing":s?d.jsx(Lte,{title:"Edit mode"}):d.jsx(YUt,{title:"Edit mode"})}),a&&n?d.jsx(Cm,{"data-control":"edit-clear",onClick:a,children:"Clear"}):null]}):null,e?d.jsx(Cm,{onClick:e,children:d.jsx(eWt,{title:"Refresh viewer"})}):null,d.jsx(Cm,{"data-control":"home",onClick:()=>p==null?void 0:p.runtime.world.goHome(),children:d.jsx(XUt,{title:"Home"})}),d.jsx(Cm,{"data-control":"zoom-out",onClick:()=>p==null?void 0:p.runtime.world.zoomTo(1/.75),children:d.jsx(QUt,{title:"Zoom out"})}),d.jsx(Cm,{"data-control":"zoom-in",onClick:()=>p==null?void 0:p.runtime.world.zoomTo(.75),children:d.jsx(JUt,{title:"Zoom in"})}),l?d.jsxs(d.Fragment,{children:[d.jsx(Cm,{"data-control":"previous",disabled:!o,onClick:o,children:d.jsx(hpe,{})}),d.jsx(Cm,{"data-control":"next",disabled:!i,onClick:i,children:d.jsx(hpe,{style:{transform:"rotate(180deg)"}})})]}):null]})}var rWt=Se.div`
   {
    z-index: 15;
    .loader {
      //color: ${e=>e.theme.color.main||"black"};
      font-size: 10px;
      margin: 30px auto;
      width: 1em;
      height: 1em;
      border-radius: 50%;
      position: relative;
      text-indent: -9999em;
      -webkit-animation: load4 1.3s infinite linear;
      animation: load4 1.3s infinite linear;
      -webkit-transform: translateZ(0);
      -ms-transform: translateZ(0);
      transform: translateZ(0);
    }
    @-webkit-keyframes load4 {
      0%,
      100% {
        box-shadow: 0 -3em 0 0.2em, 2em -2em 0 0em, 3em 0 0 -1em, 2em 2em 0 -1em, 0 3em 0 -1em, -2em 2em 0 -1em,
          -3em 0 0 -1em, -2em -2em 0 0;
      }
      12.5% {
        box-shadow: 0 -3em 0 0, 2em -2em 0 0.2em, 3em 0 0 0, 2em 2em 0 -1em, 0 3em 0 -1em, -2em 2em 0 -1em,
          -3em 0 0 -1em, -2em -2em 0 -1em;
      }
      25% {
        box-shadow: 0 -3em 0 -0.5em, 2em -2em 0 0, 3em 0 0 0.2em, 2em 2em 0 0, 0 3em 0 -1em, -2em 2em 0 -1em,
          -3em 0 0 -1em, -2em -2em 0 -1em;
      }
      37.5% {
        box-shadow: 0 -3em 0 -1em, 2em -2em 0 -1em, 3em 0em 0 0, 2em 2em 0 0.2em, 0 3em 0 0em, -2em 2em 0 -1em,
          -3em 0em 0 -1em, -2em -2em 0 -1em;
      }
      50% {
        box-shadow: 0 -3em 0 -1em, 2em -2em 0 -1em, 3em 0 0 -1em, 2em 2em 0 0em, 0 3em 0 0.2em, -2em 2em 0 0,
          -3em 0em 0 -1em, -2em -2em 0 -1em;
      }
      62.5% {
        box-shadow: 0 -3em 0 -1em, 2em -2em 0 -1em, 3em 0 0 -1em, 2em 2em 0 -1em, 0 3em 0 0, -2em 2em 0 0.2em,
          -3em 0 0 0, -2em -2em 0 -1em;
      }
      75% {
        box-shadow: 0em -3em 0 -1em, 2em -2em 0 -1em, 3em 0em 0 -1em, 2em 2em 0 -1em, 0 3em 0 -1em, -2em 2em 0 0,
          -3em 0em 0 0.2em, -2em -2em 0 0;
      }
      87.5% {
        box-shadow: 0em -3em 0 0, 2em -2em 0 -1em, 3em 0 0 -1em, 2em 2em 0 -1em, 0 3em 0 -1em, -2em 2em 0 0,
          -3em 0em 0 0, -2em -2em 0 0.2em;
      }
    }
    @keyframes load4 {
      0%,
      100% {
        box-shadow: 0 -3em 0 0.2em, 2em -2em 0 0em, 3em 0 0 -1em, 2em 2em 0 -1em, 0 3em 0 -1em, -2em 2em 0 -1em,
          -3em 0 0 -1em, -2em -2em 0 0;
      }
      12.5% {
        box-shadow: 0 -3em 0 0, 2em -2em 0 0.2em, 3em 0 0 0, 2em 2em 0 -1em, 0 3em 0 -1em, -2em 2em 0 -1em,
          -3em 0 0 -1em, -2em -2em 0 -1em;
      }
      25% {
        box-shadow: 0 -3em 0 -0.5em, 2em -2em 0 0, 3em 0 0 0.2em, 2em 2em 0 0, 0 3em 0 -1em, -2em 2em 0 -1em,
          -3em 0 0 -1em, -2em -2em 0 -1em;
      }
      37.5% {
        box-shadow: 0 -3em 0 -1em, 2em -2em 0 -1em, 3em 0em 0 0, 2em 2em 0 0.2em, 0 3em 0 0em, -2em 2em 0 -1em,
          -3em 0em 0 -1em, -2em -2em 0 -1em;
      }
      50% {
        box-shadow: 0 -3em 0 -1em, 2em -2em 0 -1em, 3em 0 0 -1em, 2em 2em 0 0em, 0 3em 0 0.2em, -2em 2em 0 0,
          -3em 0em 0 -1em, -2em -2em 0 -1em;
      }
      62.5% {
        box-shadow: 0 -3em 0 -1em, 2em -2em 0 -1em, 3em 0 0 -1em, 2em 2em 0 -1em, 0 3em 0 0, -2em 2em 0 0.2em,
          -3em 0 0 0, -2em -2em 0 -1em;
      }
      75% {
        box-shadow: 0em -3em 0 -1em, 2em -2em 0 -1em, 3em 0em 0 -1em, 2em 2em 0 -1em, 0 3em 0 -1em, -2em 2em 0 0,
          -3em 0em 0 0.2em, -2em -2em 0 0;
      }
      87.5% {
        box-shadow: 0em -3em 0 0, 2em -2em 0 -1em, 3em 0 0 -1em, 2em 2em 0 -1em, 0 3em 0 -1em, -2em 2em 0 0,
          -3em 0em 0 0, -2em -2em 0 0.2em;
      }
    }
  }
`,iWt=()=>d.jsx(rWt,{children:d.jsx("div",{className:"loader"})}),ppe=Se.div`
   {
    display: flex;
    flex: 1;
    height: 100%;
    width: 100%;
    min-width: 0;
    padding: ${e=>e.theme.padding.small||"0.5rem"};
    @media (max-width: ${e=>e.theme.device.tablet||"770px"}) {
      display: none;
    }
  }
`,mpe=Se.div`
  height: 100%;
  width: 100%;
  min-width: 0;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  color: grey;
  border: 2px dashed ${e=>e.theme.color.mediumgrey||"grey"};
  padding: ${e=>e.theme.padding.small||"0.5rem"};
  @media (max-width: ${e=>e.theme.device.tablet||"770px"}) {
    display: none;
  }
`,oWt=YO(e=>({annotationId:null,setAnnotation:t=>e({annotationId:t}),clear:()=>e({annotationId:null})})),sWt=YO(e=>({editMode:!1,setIsEditing:t=>e({editMode:t}),toggleEditMode:()=>e(t=>({editMode:!t.editMode}))}));function aWt({onCreate:e}){const[t,n]=h.useState({open:!0,points:[]});return d.jsx(OEe,{id:"new-polygon",updatePolygon:n,polygon:t,annotationBucket:"default",renderControls:(r,i,o)=>d.jsxs(d.Fragment,{children:[d.jsx(Evt,{helper:r,state:i,showShapes:o}),d.jsx("div",{children:d.jsx(kvt,{onPress:()=>{e(t),n({open:!0,points:[]})},children:"Confirm Selection"})})]})})}var lWt=Se.div`
  position: relative;
  flex: 1;
  display: flex;
  flex-direction: column;
  width: 100%;
  min-width: 0;
`,uWt=Se.div`
  display: flex;
  flex: 1 1 0px;
  flex-direction: column;
  min-width: 0;

  .atlas-canvas {
    view-transition-name: viewer-container;
  }
`;function cWt(e){const t=h.useMemo(()=>({strategy:FT,controls:l3,mode:r1,atlas:l5,layout:u5,resource:eDe}),[]);return d.jsx(R3e,{providers:t,children:e.children})}function dWt(e){const t=h.useMemo(()=>({strategy:FT,controls:l3,mode:r1,atlas:l5,layout:u5,resource:eDe}),[]);return d.jsx(R3e,{providers:t,children:e.children})}function fWt(){const e=$x(),t=yt(e,r=>r.switchTool),n=yt(e,r=>r.polygons.state.slowState);return h.useMemo(()=>{var r,i,o,s;return{draw:{active:!n.lineMode&&!n.selectedStamp&&n.drawMode,enable:t.draw},polygon:{active:!n.lineMode&&!n.selectedStamp&&!n.drawMode,enable:t.polygon},line:{active:n.lineMode&&!n.lineBoxMode,enable:t.line},lineBox:{active:n.lineBoxMode,enable:t.lineBox},square:{active:((r=n.selectedStamp)==null?void 0:r.id)==="square",enable:t.square},triangle:{active:((i=n.selectedStamp)==null?void 0:i.id)==="triangle",enable:t.triangle},hexagon:{active:((o=n.selectedStamp)==null?void 0:o.id)==="hexagon",enable:t.hexagon},circle:{active:((s=n.selectedStamp)==null?void 0:s.id)==="circle",enable:t.circle},remove:{active:n.showBoundingBox,enable:t.remove}}},[n,t])}function hWt(e){return d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:[d.jsx("path",{fill:"currentColor",d:"M14.61 11.81L7.41 19H6v-1.41l7.19-7.2z",opacity:".3"}),d.jsx("path",{fill:"currentColor",d:"m18.85 10.39l1.06-1.06c.78-.78.78-2.05 0-2.83L18.5 5.09c-.78-.78-2.05-.78-2.83 0l-1.06 1.06zm-4.24 1.42L7.41 19H6v-1.41l7.19-7.19zm-1.42-4.25L4 16.76V21h4.24l9.19-9.19zM19 17.5c0 2.19-2.54 3.5-5 3.5c-.55 0-1-.45-1-1s.45-1 1-1c1.54 0 3-.73 3-1.5c0-.47-.48-.87-1.23-1.2l1.48-1.48c1.07.63 1.75 1.47 1.75 2.68M4.58 13.35C3.61 12.79 3 12.06 3 11c0-1.8 1.89-2.63 3.56-3.36C7.59 7.18 9 6.56 9 6c0-.41-.78-1-2-1c-1.26 0-1.8.61-1.83.64c-.35.41-.98.46-1.4.12a.99.99 0 0 1-.15-1.38C3.73 4.24 4.76 3 7 3s4 1.32 4 3c0 1.87-1.93 2.72-3.64 3.47C6.42 9.88 5 10.5 5 11c0 .31.43.6 1.07.86z"})]})}var pWt=({title:e,titleId:t,...n})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 -960 960 960","aria-labelledby":t,...n,children:[e?d.jsx("title",{id:t,children:e}):null,d.jsx("path",{fill:"currentColor",d:"M600-80v-100L320-320H120v-240h172l108-124v-196h240v240H468L360-516v126l240 120v-50h240v240H600ZM480-720h80v-80h-80v80ZM200-400h80v-80h-80v80Zm480 240h80v-80h-80v80ZM520-760ZM240-440Zm480 240Z"})]});function mWt({title:e,titleId:t,...n}){return d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24","aria-labelledby":t,...n,children:[e?d.jsx("title",{id:t,children:e}):null,d.jsxs("g",{fill:"none",fillRule:"evenodd",children:[d.jsx("circle",{cx:4.5,cy:4.5,r:2.5,fill:"currentColor"}),d.jsx("circle",{cx:15.5,cy:15.5,r:2.5,fill:"currentColor"}),d.jsx("path",{stroke:"currentColor",strokeLinecap:"square",strokeWidth:2,d:"m13.5 13.5-9-9"})]})]})}function gWt({title:e,titleId:t,...n}){return d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 20 22","aria-labelledby":t,...n,children:[e?d.jsx("title",{id:t,children:e}):null,d.jsxs("g",{fill:"none",fillRule:"evenodd",children:[d.jsx("path",{d:"M0 0h20v20H0z"}),d.jsx("path",{stroke:"currentColor",strokeLinecap:"square",strokeWidth:2,d:"m8.5 11.5 6-6M16 4v3m0-3h-3m0 14L2 7"}),d.jsx("path",{stroke:"currentColor",strokeOpacity:.407,strokeWidth:2,d:"m2 7 5-5 11 11-5 5z"})]})]})}var vWt=({title:e,titleId:t,...n})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 -960 960 960","aria-labelledby":t,...n,children:[e?d.jsx("title",{id:t,children:e}):null,d.jsx("path",{fill:"currentColor",d:"M200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h560q33 0 56.5 23.5T840-760v560q0 33-23.5 56.5T760-120H200Zm0-80h560v-560H200v560Zm0 0v-560 560Z"})]}),yWt=({title:e,titleId:t,...n})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 -960 960 960","aria-labelledby":t,...n,children:[e?d.jsx("title",{id:t,children:e}):null,d.jsx("path",{d:"m80-160 400-640 400 640H80Zm144-80h512L480-650 224-240Zm256-205Z",fill:"currentColor"})]}),bWt=({title:e,titleId:t,...n})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 -960 960 960","aria-labelledby":t,...n,children:[e?d.jsx("title",{id:t,children:e}):null,d.jsx("path",{fill:"currentColor",d:"M272-120 64-480l208-360h416l208 360-208 360H272Zm46-80h324l161-280-161-280H318L156-480l162 280Zm162-280Z"})]}),wWt=({title:e,titleId:t,...n})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24",children:[d.jsx("g",{children:d.jsx("rect",{fill:"none",height:"24",width:"24"})}),d.jsx("g",{children:d.jsx("g",{children:d.jsx("path",{fill:"currentColor",d:"M12,2C6.47,2,2,6.47,2,12s4.47,10,10,10s10-4.47,10-10S17.53,2,12,2z"})})})]});function xWt(e){return d.jsxs("svg",{height:"1em",width:"1em",viewBox:"0 0 24 24",...e,children:[d.jsx("path",{d:"M0 0h24v24H0z",fill:"none"}),d.jsx("path",{d:"M0 0h24v24H0V0z",fill:"none"}),d.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12l1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z",fill:"currentColor"})]})}function SWt(e){return d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:d.jsx("path",{fill:"currentColor",d:"M12 2.5L8 7h8zM7 8l-4.5 4L7 16zm10 0v8l4.5-4zm-5 2a2 2 0 0 0-2 2a2 2 0 0 0 2 2a2 2 0 0 0 2-2a2 2 0 0 0-2-2m-4 7l4 4.5l4-4.5z"})})}function _Wt(e){return d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:d.jsx("path",{fill:"currentColor",d:"M13.64 21.97a.99.99 0 0 1-1.33-.47l-2.18-4.74l-2.51 2.02c-.17.14-.38.22-.62.22a1 1 0 0 1-1-1V3a1 1 0 0 1 1-1c.24 0 .47.09.64.23l.01-.01l11.49 9.64a1.001 1.001 0 0 1-.44 1.75l-3.16.62l2.2 4.73c.26.5.02 1.09-.48 1.32z"})})}function CWt(){const e=$x(),t=yt(e,y=>y.tool),n=yt(e,y=>y.mode),r=yt(e,y=>y.changeMode),i=yt(e,y=>y.toolType),o=fWt(),{remove:s,draw:a,hexagon:l,line:u,lineBox:c,polygon:f,square:p,triangle:g,circle:v}=o;return t.enabled?d.jsxs("div",{className:"animate-fadeIn absolute bottom-3 left-0 right-0 z-30 w-full items-center justify-center flex gap-5 pointer-events-none",children:[d.jsxs("div",{className:"rounded-lg bg-white flex p-1.5 shadow gap-1.5 pointer-events-auto",children:[d.jsx(Ld,{onPress:()=>r("explore"),active:n==="explore",label:"Pan and zoom",children:d.jsx(SWt,{})}),d.jsx(Ld,{onPress:()=>r("sketch"),active:n==="sketch",label:"Select",children:d.jsx(_Wt,{})}),d.jsx(Ld,{disabled:!s.active,label:"Delete",onPress:()=>{confirm("Are you sure you want to delete this annotation?")&&s.enable()},children:d.jsx(xWt,{})})]}),d.jsxs("div",{className:"rounded-lg bg-white flex p-1.5 shadow gap-1.5 pointer-events-auto",children:[d.jsx(Ld,{label:"Draw a box",onPress:p.enable,active:p.active,children:d.jsx(vWt,{})}),d.jsx(Ld,{disabled:i==="target",label:"Polygon tool",onPress:f.enable,active:f.active,children:d.jsx(pWt,{})}),d.jsx(Ld,{disabled:i==="target",label:"Draw tool",onPress:a.enable,active:a.active,children:d.jsx(hWt,{})}),d.jsx(Ld,{disabled:i==="target",label:"Line tool",onPress:u.enable,active:u.active,children:d.jsx(mWt,{})}),d.jsx(Ld,{disabled:i==="target",label:"Line-box tool",onPress:c.enable,active:c.active,children:d.jsx(gWt,{})}),d.jsx(Ld,{disabled:i==="target",label:"Create Triangle",onPress:g.enable,active:g.active,children:d.jsx(yWt,{})}),d.jsx(Ld,{disabled:i==="target",label:"Create Hexagon",onPress:l.enable,active:l.active,children:d.jsx(bWt,{})}),d.jsx(Ld,{disabled:i==="target",label:"Create circle",onPress:v.enable,active:v.active,children:d.jsx(wWt,{})})]})]}):null}function gpe(e,t){let n=0,r=0;cx(e.width,"Canvas must have width"),cx(e.height,"Canvas must have height"),t.x<0&&(n=-t.x),t.y<0&&(r=-t.y);const i=e.width-(t.x+t.width);if(i<0){if(t.width>e.width)return G4(e,t);n=i}const o=e.width-(t.y+t.width);if(t.y+t.height>e.height){if(t.height>e.height)return G4(e,t);r=o}return!n&&!r?t:{x:t.x+n,y:t.y+r,width:t.width,height:t.height}}function EWt({handleSize:e,resizable:t,onSave:n,children:r,maintainAspectRatio:i,disableCardinalControls:o,aspectRatio:s,...a}){const l=typeof e>"u"?i?12:8:e,{portalRef:u,mode:c,mouseEvent:f,isEditing:p}=x3e({x:a.x||0,y:a.y||0,width:a.width,height:a.height,aspectRatio:s,maintainAspectRatio:i},n),g=h.useMemo(()=>f("translate"),[f]),v=h.useMemo(()=>f("east"),[f]),y=h.useMemo(()=>f("west"),[f]),S=h.useMemo(()=>f("south"),[f]),C=h.useMemo(()=>f("north"),[f]),_=h.useMemo(()=>f("south-east"),[f]),k=h.useMemo(()=>f("south-west"),[f]),w=h.useMemo(()=>f("north-east"),[f]),P=h.useMemo(()=>f("north-west"),[f]),M=c==="sketch",R={zIndex:999,boxShadow:"0px 2px 3px 0 rgba(0,0,0,0.2)",outline:"2px solid rgba(155,155,155,.7)",borderRadius:i||o?"50%":2,position:"absolute",background:"#fff",pointerEvents:p?"none":M?"initial":"none"};return d.jsx(d.Fragment,{children:d.jsxs("world-object",{...a,children:[r,M&&t?d.jsx(Jp,{ref:u,target:{x:0,y:0,height:a.height,width:a.width},relative:!0,interactive:!1,children:M&&t?d.jsxs(d.Fragment,{children:[d.jsx("div",{onMouseDown:g,onTouchStart:g,style:{display:"block",width:"100%",height:"100%",cursor:"move",border:"1px solid rgba(255,255,255, .7)",outline:"2px solid rgba(155,155,155, .7)",boxSizing:"border-box",pointerEvents:p?"none":M?"initial":"none"}}),i?null:d.jsxs(d.Fragment,{children:[d.jsx("div",{title:"east",onTouchStart:v,onMouseDown:v,style:{...R,cursor:"e-resize",height:l*2,width:l,right:0,top:"50%",opacity:o?0:1,transform:`translate(${l/2}px, -${l}px)`}}),d.jsx("div",{title:"west",onMouseDown:y,style:{...R,cursor:"w-resize",position:"absolute",height:l*2,width:l,left:0,top:"50%",opacity:o?0:1,transform:`translate(-${l/2}px, -${l}px)`}}),d.jsx("div",{title:"north",onMouseDown:C,style:{...R,cursor:"n-resize",position:"absolute",height:l,width:l*2,left:"50%",top:0,opacity:o?0:1,transform:`translate(-${l}px, -${l/2}px)`}}),d.jsx("div",{title:"south",onMouseDown:S,style:{...R,cursor:"s-resize",position:"absolute",height:l,width:l*2,left:"50%",bottom:0,opacity:o?0:1,transform:`translate(-${l}px, ${l/2}px)`}})]}),d.jsx("div",{title:"north-east",onMouseDown:w,style:{...R,cursor:"ne-resize",position:"absolute",height:l,width:l,right:0,top:0,transform:`translate(${l/2}px, -${l/2}px)`}}),d.jsx("div",{title:"south-east",onMouseDown:_,style:{...R,cursor:"se-resize",position:"absolute",height:l,width:l,bottom:0,right:0,transform:`translate(${l/2}px, ${l/2}px)`}}),d.jsx("div",{title:"south-west",onMouseDown:k,style:{...R,cursor:"sw-resize",position:"absolute",height:l,width:l,bottom:0,left:0,transform:`translate(-${l/2}px, ${l/2}px)`}}),d.jsx("div",{title:"north-west",onMouseDown:P,style:{...R,cursor:"nw-resize",position:"absolute",height:l,width:l,top:0,left:0,transform:`translate(-${l/2}px, -${l/2}px)`}})]}):null}):null]})})}function kWt(){var l,u,c,f;const e=kr(),t=sv(),n=Tx(t?{id:t.id,type:"Annotation"}:void 0),r=p=>{if(p.type==="polygon"&&e){const g=p.shape.points;if(g.length===4&&g[0][0]===g[3][0]&&g[1][0]===g[2][0]&&g[0][1]===g[1][1]&&g[2][1]===g[3][1]){const v=g[0][0],y=g[0][1],S=g[1][0]-g[0][0],C=g[2][1]-g[0][1],k=gpe(e,{x:v,y,width:S,height:C});n.annotation.target.setPosition(k);return}n.annotation.target.setSvgSelector(p.shape,e);return}if(t&&e){const g=gpe(e,p);n.annotation.target.setPosition(g)}},i=n.annotation.body.isSpatial();if(!t)return null;if(!t||!t.target||((l=t.target.selector)==null?void 0:l.type)!=="BoxSelector"){if(e&&(t==null?void 0:t.target.selector)===null)return d.jsx("box",{relativeStyle:!0,interactive:!1,target:{x:0,y:0,width:e.width,height:e.height},style:{border:"2px solid blue"}});if(e&&((u=t==null?void 0:t.target.selector)==null?void 0:u.type)==="SvgSelector"){const p=t==null?void 0:t.target.selector;return p.points?d.jsx(OEe,{id:t.id,updatePolygon:g=>{r({type:"polygon",shape:g})},polygon:{id:t.id,open:p.svgShape==="polyline",points:p.points},annotationBucket:"default",renderControls:(g,v,y)=>d.jsx(d.Fragment,{children:d.jsx(IEe,{helper:g,state:v,showShapes:y})})}):null}return null}const o=(c=t.body)==null?void 0:c[0].width,s=(f=t.body)==null?void 0:f[0].height,a=o&&s?o/s:void 0;return d.jsx(EWt,{...t.target.selector.spatial,resizable:!0,aspectRatio:i?a:void 0,maintainAspectRatio:i,disableCardinalControls:i,onSave:p=>{if(a&&i){const g=Math.round(p.width/a);Number.isInteger(g)&&(p.height=g)}r(p)},children:d.jsx(Jp,{children:null})})}function DNe(e={}){return Ki(t=>t.iiif.entities.AnnotationPage[e.id||""])}function PWt(e){const t=Ki(o=>o.iiif.entities.Canvas[e]);if(!t)return[];const n=$n(),r=t.annotations.map(o=>n.get(o)),i=[];return r.map(o=>{if(o)return o.items.map(s=>{i.push(n.get(s.id))})}),i}function $Wt(e){const t=$n(),n=DNe({id:e}),r=[];return n&&n.items.map(i=>{r.push(t.get(i.id))}),r}function TWt(e,t){const[n,r]=h.useState(!1),[i,o]=h.useState(),[s,a]=h.useState(PWt(e));Li();const l=kr(),u=$n(),[c,f]=h.useState($Wt(t));DNe();const p=(_,k={x:0,y:0,width:100,height:200})=>{if(!l)return;const w=`https://example.org/annotation/${ipe()}/annotation`,P=`${e}#xywh=${k.x},${k.y},${k.width},${k.height}`;a(M=>[...M,{id:w,target:P}]),r(!1),o(void 0),u.dispatch(b4({entities:{Annotation:{[w]:{...g_e,id:w}}}})),u.dispatch(zR({id:_,type:"AnnotationPage",key:"items",reference:{id:w,type:"Annotation"}}))},g=(_,k,w,P)=>{if(!l)return;const M=_||`https://example.org/annotations/${ipe()}/annotation-page`,R=k||{};u.dispatch(b4({entities:{[M]:{...qX,id:M,label:R}}})),u.dispatch(zR({id:l.id,type:"Canvas",key:"annotations",reference:{id:M,type:"AnnotationPage"}})),w&&u.load(M),P&&P()},v=_=>{l&&u.dispatch(pU({id:l.id,type:"Canvas",key:"annotations",reference:{id:_,type:"AnnotationPage"}}))},y=(_,k)=>{l&&u.dispatch(pU({id:k,type:"AnnotationPage",key:"items",reference:{id:_,type:"Annotation"}}))};h.useEffect(()=>{},[s]);const S=h.useCallback(_=>{r(!0),o(_)},[]),C=h.useCallback(()=>{r(!1),o(void 0)},[]);return{isEditing:n,annotations:s,pagedAnnotations:c,addNewAnnotation:p,setIsEditing:r,selectedAnnotation:i,setSelectedAnnotation:o,editAnnotation:S,onDeselect:C,addNewAnnotationPage:g,removeAnnotationPage:v,removeAnnotation:y}}function MWt(e,t){if(!e.target.includes("#xywh="))return{id:e.id,x:0,y:0,width:t.width,height:t.height};const n=e.target.split("#xywh=")[1].split(",");return{id:e.id,x:parseInt(n[0]),y:parseInt(n[1]),width:parseInt(n[2]),height:parseInt(n[3])}}function LWt({canvasId:e}){const{annotations:t,isEditing:n,setIsEditing:r,addNewAnnotation:i,selectedAnnotation:o,setSelectedAnnotation:s,editAnnotation:a,onDeselect:l}=TWt(e),u=kr({id:e});return d.jsxs("world-object",{height:u.height,width:u.width,onClick:l,children:[n&&!o?d.jsx(iQ,{onCreate:i}):null,t.map(c=>{if(c.target)return d.jsx(oQ,{interactive:!0,region:MWt(c,u),isEditing:n&&o===c.id,onSave:a,onClick:()=>{r(!0),s(c.id)},style:o===c.id&&n?{border:" 5px solid green"}:{backgroundColor:" rgba(0, 0, 0, 0.4)"}},c.id)})]})}function rZ({id:e,style:t}){var i,o,s,a,l;const n=kr(),r=sv({id:e});if(((i=r==null?void 0:r.target.source)==null?void 0:i.type)==="Annotation"&&((o=r==null?void 0:r.target.source)==null?void 0:o.id)!==e)return d.jsx(rZ,{id:(s=r==null?void 0:r.target.source)==null?void 0:s.id,style:t});if(!r||!r.target||((a=r.target.selector)==null?void 0:a.type)!=="BoxSelector"){if(n&&(r==null?void 0:r.target.selector)===null)return d.jsx("box",{html:!0,relativeStyle:!0,interactive:!1,target:{x:0,y:0,width:n.width,height:n.height},style:t||{border:"2px solid #488afc"}});if(n&&((l=r==null?void 0:r.target.selector)==null?void 0:l.type)==="SvgSelector"){const u=r==null?void 0:r.target.selector;return u.points?d.jsx("shape",{points:u.points.map(f=>[f[0],f[1]]),open:u.svgShape==="polyline",relativeStyle:!0,style:{border:"2px solid #488afc"},target:{x:0,y:0,width:n.width,height:n.height}}):null}return null}return d.jsx("box",{html:!0,relativeStyle:!0,interactive:!1,target:r.target.selector.spatial,style:t||{border:"2px solid #488afc"}})}function AWt({x:e,y:t,alwaysShowBackground:n,backgroundStyle:r,enableSizes:i,enableYouTube:o,isStatic:s,onClickPaintingAnnotation:a,children:l}){return d.jsxs(d.Fragment,{children:[d.jsxs(G3e,{keepCanvasScale:!1,x:e,y:t,children:[d.jsx(Y3e,{alwaysShowBackground:n,backgroundStyle:r}),d.jsx(tEe,{}),d.jsx(nEe,{}),d.jsx(sEe,{isStatic:s,enableSizes:!1,onClickPaintingAnnotation:a}),d.jsx(cEe,{}),d.jsx(uEe,{}),d.jsx(vEe,{}),d.jsx(xEe,{as:oRe}),d.jsx(SEe,{}),l]}),d.jsx(yEe,{})]})}var vpe=h.createContext(null);function IWt({children:e}){var a,l;const t=$n(),n=mf(),r=Tg("Canvas"),i=d1(),o=h.useContext(vpe),s=h.useMemo(()=>{var u;if(!r)return null;for(const c of i.layout.canvasEditors||[]){const f=(u=c.supports)==null?void 0:u.strategy;if(f&&f(n.strategy,r,t))return c.component(n.strategy)}},[r,n,t,i.layout.canvasEditors]);return r?s?o||d.jsx(vpe.Provider,{value:e,children:s}):n.strategy.type==="textual-content"?d.jsx(tyt,{strategy:n.strategy}):n.strategy.type==="media"&&n.strategy.media.type==="Video"?d.jsx("div",{className:"relative w-full h-full flex",children:d.jsx(oRe,{canvas:{id:(l=(a=r.resource)==null?void 0:a.source)==null?void 0:l.id},media:n.strategy.media})}):e:null}function RWt(){const e=$x(),t=yt(e,s=>s.changeMode),n=yt(e,s=>s.mode),r=yt(e,s=>s.completeRequest),i=yt(e,s=>s.tool),o=()=>{h.startTransition(()=>{r()})};return i.enabled?d.jsxs("div",{className:"animate-fadeIn bg-BaseBackground shadow p-2 rounded",children:[n!=="sketch"&&d.jsx(Rs,{onPress:()=>{t("sketch")},children:"Edit"}),d.jsx(Rs,{onPress:o,children:"Save"})]}):null}function DWt({annotation:e,target:t,children:n}){const r=$x(),{refs:i,floatingStyles:o}=HX({nodeId:e.id,placement:"bottom",middleware:[jX(10),NX(),FX({mainAxis:!0})],whileElementsMounted:OO});return d.jsxs(Jp,{relative:!0,target:t,interactive:!1,children:[d.jsx("div",{ref:i.setReference,style:{position:"absolute",top:0,left:0,right:0,bottom:0,pointerEvents:"none"}}),ai.createPortal(d.jsx(l5.Provider,{value:r,children:d.jsx("div",{ref:i.setFloating,style:o,children:n})}),document.getElementById("floating-ui"))]})}function OWt(e){const t=$x(),n=yt(t,o=>o.polygons),r=yt(t,o=>o.polygonState),i=yt(t,o=>o.polygon);return sbt("atlas.polygon-render",({state:o,slowState:s,dt:a})=>{e(o,s,a)}),{currentShape:i,state:r,helper:n}}var zv=Hyt();function jWt(e){const{image:t,hideShapeLines:n}=e,r=h.useRef(),i=h.useRef(),o=h.useRef(),s=h.useRef(),a=h.useRef(),l=h.useRef(),u=h.useRef(),c=h.useRef(),[f,p]=h.useState(null),[g,v]=h.useState(!1),{helper:y,state:S,currentShape:C}=OWt((H,O)=>{zv.updateTransitionBoundingBox(i.current,H,O),zv.updateBoundingBoxPolygon(r.current,H,O),zv.updateTransitionShape(l.current,H,O),zv.updateClosestLinePointTransform(s.current,H,O),zv.updateSelectBox(o.current,H,O),zv.updatePointLine(u.current,H,O),zv.updateDrawPreview(a.current,H,O,3),zv.updateLineBox(c.current,H),p(H.transitionDirection),v(H.transitionRotate)});h.useEffect(()=>{const H=()=>{y.modifiers.reset()};return document.addEventListener("mouseleave",H),()=>{document.removeEventListener("mouseleave",H)}},[]);const _=d.jsxs(d.Fragment,{children:[d.jsx("marker",{id:"dot",viewBox:"0 0 10 10",refX:"5",refY:"5",markerWidth:"5",markerHeight:"5",children:d.jsx("circle",{cx:"5",cy:"5",r:"4",className:"marker"})}),d.jsx("marker",{id:"selected",viewBox:"0 0 10 10",refX:"5",refY:"5",markerWidth:"5",markerHeight:"5",children:d.jsx("circle",{cx:"5",cy:"5",r:"4",fill:"#FAFF00"})}),d.jsx("marker",{id:"resizer",viewBox:"0 0 10 10",refX:"5",refY:"5",markerWidth:"5",markerHeight:"5",children:d.jsx("rect",{width:"10",height:"10",stroke:"#FF0DCB",fill:"#fff",strokeWidth:2})})]}),k=C?C.open?"polyline":"polygon":null,w=!S.showBoundingBox&&S.closestPoint!==null&&S.actionIntentType==="select-point",P=S.actionIntentType==="add-open-point",M=S.transitionIntentType==="split-line",R=S.transitioning&&S.selectedStamp&&S.transitionIntentType==="stamp-shape",D=C&&k?d.jsxs(d.Fragment,{children:[d.jsx(k,{fill:!S.transitioning&&S.showBoundingBox?"rgba(255, 0, 0, .5)":"none",strokeWidth:R?0:2,stroke:n?"transparent":"#000",points:C.points.map(H=>H.join(",")).join(" "),vectorEffect:"non-scaling-stroke",markerStart:S.showBoundingBox?void 0:"url(#dot)",markerMid:S.showBoundingBox?void 0:"url(#dot)",markerEnd:S.showBoundingBox?void 0:"url(#dot)",style:{pointerEvents:"none"}}),S.lineBoxMode&&S.actionIntentType==="close-line-box"?d.jsx("polygon",{fill:"rgba(255, 0, 0, .4)",ref:c,stroke:"#000",strokeWidth:2,vectorEffect:"non-scaling-stroke"}):null,S.transitionIntentType==="draw-shape"&&S.transitioning?d.jsx("polyline",{ref:a,fill:"none",stroke:"rgba(255, 0, 0, .5)",strokeWidth:2,vectorEffect:"non-scaling-stroke"}):null,!S.showBoundingBox&&S.selectedPoints&&S.selectedPoints.length?d.jsx("polyline",{strokeWidth:2,vectorEffect:"non-scaling-stroke",stroke:"transparent",markerStart:"url(#selected)",markerMid:"url(#selected)",markerEnd:"url(#selected)",fill:"transparent",points:C.points.filter((H,O)=>{var z;return(z=S.selectedPoints)==null?void 0:z.includes(O)}).map(H=>H.join(",")).join(" ")}):null,w&&S.closestPoint!==null&&C.points[S.closestPoint]?d.jsx("polyline",{strokeWidth:2,vectorEffect:"non-scaling-stroke",stroke:"transparent",markerStart:"url(#selected)",markerMid:"url(#selected)",markerEnd:"url(#selected)",fill:"transparent",points:`${C.points[S.closestPoint][0]},${C.points[S.closestPoint][1]}`}):null,!S.transitioning&&(S.actionIntentType==="add-open-point"||S.actionIntentType==="close-shape"||S.actionIntentType==="close-shape-line")?d.jsx("polyline",{stroke:"#000",ref:u,strokeWidth:S.actionIntentType==="close-shape"?2:1,vectorEffect:"non-scaling-stroke"}):null,S.hasClosestLine&&(!S.transitionIntentType||S.transitionIntentType==="split-line")?d.jsx("g",{ref:s,children:d.jsx("polyline",{style:{opacity:.5},markerStart:"url(#dot)",points:"0,0 10,10",vectorEffect:"non-scaling-stroke",fill:"transparent",strokeWidth:2})}):null,S.transitioning?d.jsx(k,{ref:l,fill:C.open?"none":"rgba(255, 0, 0, .5)",stroke:"rgba(255, 0, 0, .5)",strokeWidth:C.open?2:0}):null,S.transitioning&&S.transitionIntentType==="select-multiple-points"?d.jsx("rect",{ref:o,fill:"rgba(255, 255, 255, .3)",strokeWidth:1,stroke:"rgba(0,0,0,.2)",vectorEffect:"non-scaling-stroke"}):null,S.showBoundingBox?null:d.jsx("g",{name:"controls",children:!1}),S.showBoundingBox&&!R?d.jsx("polygon",{ref:r,strokeWidth:2,stroke:"#FF0DCB",fill:"none",markerStart:"url(#resizer)",markerMid:"url(#resizer)",markerEnd:"url(#resizer)",vectorEffect:"non-scaling-stroke"}):null]}):null;return{helper:y,currentShape:C,state:S,isAddingPoint:P,isSplitting:M,isStamping:R,isHoveringPoint:w,transitionDirection:f,transitionRotate:g,defs:_,editor:D}}var NWt=[{name:"Default",outer:{borderWidth:4,borderColor:"rgba(255, 255, 255, .4)"},inner:{borderWidth:2,borderColor:"#000"}},{name:"High contrast",outer:{borderWidth:3,borderColor:"#fff"},inner:{borderWidth:1,borderColor:"#000"}},{name:"Lightsaber",outer:{borderWidth:"4",borderColor:"rgba(56,68,255,0.64)"},inner:{borderWidth:"2",borderColor:"#fff"}},{name:"Bright",outer:{borderWidth:"6",borderColor:"#25d527"},inner:{borderWidth:"3",borderColor:"#a916ff"}},{name:"pink",outer:{borderWidth:"4",borderColor:"#ff00ff"},inner:{borderWidth:"2",borderColor:"#ffffff"}},{name:"fine (dark)",outer:{borderWidth:"1",borderColor:"#000000"},inner:{}},{name:"fine (light)",outer:{borderWidth:"1",borderColor:"#FFF"},inner:{}}];function FWt(e){var C;const t=e.theme||NWt[0],n=GO(),{image:r}=e,{helper:i,defs:o,editor:s,state:a,transitionDirection:l,isSplitting:u,transitionRotate:c,isHoveringPoint:f,isAddingPoint:p,isStamping:g,currentShape:v}=jWt({image:e.image,hideShapeLines:!0}),y=_=>{i.pointer([[~~_.atlas.x,~~_.atlas.y]])};h.useEffect(()=>{const _=k=>{i.key.up(k.key)};return document.addEventListener("keyup",_),()=>{document.removeEventListener("keyup",_)}},[i]),h.useEffect(()=>{const _=k=>{i.key.down(k.key)};return document.addEventListener("keydown",_),()=>{document.removeEventListener("keydown",_)}},[i]),h.useEffect(()=>{var k;const _=[];return l&&_.push(`atlas-cursor-${l}`),a.actionIntentType==="cut-line"&&((k=a.modifiers)!=null&&k.Shift)&&_.push("atlas-cursor-cut"),(f||a.transitionIntentType==="move-shape"||a.transitionIntentType==="move-point")&&_.push("atlas-cursor-move"),p&&_.push("atlas-cursor-crosshair"),u&&_.push("atlas-cursor-copy"),c&&_.push("atlas-cursor-rotate"),a.transitionIntentType==="draw-shape"&&_.push("atlas-cursor-draw"),n!=null&&n.canvas&&n.canvas.classList.add(..._),()=>{n!=null&&n.canvas&&n.canvas.classList.remove(..._)}},[n==null?void 0:n.canvas,p,f,u,(C=a.modifiers)==null?void 0:C.Shift,a.actionIntentType,a.transitionIntentType,l,c]);const S="shape";return d.jsx(d.Fragment,{children:d.jsxs("world-object",{height:r.height,width:r.width,onMouseMove:y,onMouseDown:i.pointerDown,onMouseUp:i.pointerUp,onMouseLeave:i.blur,children:[v?d.jsxs(d.Fragment,{children:[d.jsx(S,{open:v.open,points:v.points,relativeStyle:!0,style:g?{}:t.outer}),d.jsx(S,{open:v.open,points:v.points,relativeStyle:!0,style:g?{}:t.inner})]}):null,d.jsx(Jp,{relative:!0,interactive:!1,children:d.jsx("div",{className:"absolute top-0 right-0 left-0 bottom-0",children:d.jsxs("svg",{width:"100%",height:"100%",viewBox:`0 0 ${r.width} ${r.height}`,tabIndex:-1,children:[d.jsx("title",{children:"Annotation Editor"}),d.jsx("defs",{children:o}),s]})})})]})})}function BWt(){const e=$x(),t=kr(),n=yt(e,f=>f.polygon),r=yt(e,f=>f.mode);yt(e,f=>f.toolType);const i=yt(e,f=>f.changeMode),o=yt(e,f=>f.polygonState.transitioning),{enabled:s,requestId:a}=yt(e,f=>f.tool),l=h.useMemo(()=>jJ(n),[n]),u=()=>{i("sketch")};if(!s||!t||!a||!n)return null;const c=l&&n.id&&!o?d.jsx(DWt,{annotation:n,target:l,children:d.jsx(RWt,{})}):null;if(r==="explore"){const f="shape";return d.jsxs(d.Fragment,{children:[d.jsx(f,{id:`shape-${n.id}`,points:n.points,open:n.open,onClick:u,relativeStyle:!0,target:{x:0,y:0,width:t.width,height:t.height},style:{":hover":{backgroundColor:"rgba(0,0,0,0.2)"},backgroundColor:"rgba(0,0,0,0)",borderWidth:"4px",borderColor:"rgba(255, 255, 255, .4)"}}),d.jsx(f,{id:`shape-${n.id}`,points:n.points,open:n.open,onClick:u,relativeStyle:!0,target:{x:0,y:0,width:t.width,height:t.height},style:{backgroundColor:"rgba(0,0,0,0)",borderWidth:"2px",borderColor:"rgba(0, 0, 0, .4)"}}),c]})}return d.jsxs(d.Fragment,{children:[d.jsx(FWt,{image:t}),c]})}function zWt(e){const t=kr(),n=h.useMemo(()=>({renderViewerControls:e.renderViewerControls,viewControlsDeps:e.viewControlsDeps,renderMediaControls:e.renderMediaControls,mediaControlsDeps:e.mediaControlsDeps,renderComplexTimelineControls:e.renderComplexTimelineControls}),[]);return t?d.jsx(l3.Provider,{value:n,children:d.jsx(q3e,{throwOnUnknown:e.throwOnUnknown,onChoiceChange:e.onChoiceChange,registerActions:e.registerActions,strategies:e.strategies,defaultChoices:e.defaultChoices,mediaControlsDeps:e.mediaControlsDeps,renderMediaControls:e.renderMediaControls,renderViewerControls:e.renderViewerControls,renderComplexTimelineControls:e.renderComplexTimelineControls,complexTimelineControlsDeps:e.complexTimelineControlsDeps,viewControlsDeps:e.viewControlsDeps,children:e.children})}):null}function HWt({asFallback:e,onEditAnnotation:t,highlightAnnotation:n,createAnnotation:r}){const i=d1(),{state:o}=RJ(),s=h.useRef(),a=Li(),l=kr(),u=sv(n?{id:n}:void 0),c=h.useMemo(()=>i.layout.annotations||[],[i.layout.annotations]),f=$x(),p=yt(f,B=>B.mode),{rightPanel:g}=lbt(),{editMode:v,toggleEditMode:y}=sWt(),[S,C]=h.useReducer((B,q)=>typeof q>"u"?!B:q,!1),[_,k]=h.useReducer(B=>B+1,0),w=h.useMemo(()=>["default-preset",{runtimeOptions:{visibilityRatio:1.2}}],[]),{resources:P,regions:M}=A4(),{setAnnotation:R,annotationId:D}=oWt(),[H]=jwt("refresh-canvas",()=>{k(),H()}),O=h.useRef(),z=h.useRef(v);h.useEffect(()=>{f.getState().reset()},[l]),z.current=v;const G=l==null?void 0:l.id,ee=h.useCallback(B=>{z.current&&(O.current&&clearTimeout(O.current),O.current=setTimeout(()=>{R(B),t&&t(B),O.current=0},100))},[]);if(h.useEffect(()=>{v||R(null)},[v]),h.useEffect(()=>{var B;(B=s.current)==null||B.goHome()},[o.canvasId]),!a)return d.jsx(iWt,{});if(!a||(a==null?void 0:a.items.length)===0)return d.jsx(LUt,{});if(!G)return d.jsx(ppe,{children:d.jsxs(mpe,{children:[d.jsx(rHt,{color:"grey"}),d.jsx(bz,{children:" No canvas selected"}),d.jsx(iHt,{}),d.jsxs(bz,{children:["Manage your canvases on the left"," "]}),d.jsx(bz,{children:"Edit your manifest properties on the right"})]})});const X=v||S?"sketch":p,se=d.jsx(eot,{mode:X,children:d.jsxs(cWt,{children:[d.jsxs(lWt,{className:"animate-fadeIn relative",children:[d.jsx("style",{children:`
      .atlas-container {
        min-width: 0;
        min-height: 0;
        --atlas-container-flex: 1 1 0px;
        --atlas-background:  #E5E7F0;
      }
    `}),d.jsxs(uWt,{children:[S&&r&&!v||(D||u)&&v?d.jsx(hvt,{controlsId:"atlas-controls",children:"Draw a box or select a shape"}):null,d.jsx(A3e,{children:d.jsx(Ko.Viewer,{onCreated:B=>{s.current=B.runtime,f.getState().setAtlasRuntime(B.runtime)},renderPreset:w,mode:X,children:d.jsxs(dWt,{children:[d.jsx(Do,{canvas:G,children:d.jsxs(AWt,{backgroundStyle:{background:"#fff"},alwaysShowBackground:!0,onClickPaintingAnnotation:u?()=>{}:ee,children:[c.map(B=>d.jsx(h.Fragment,{children:B.render()},B.id)),d.jsx(BWt,{}),!D&&P.length?P.map(B=>d.jsx(rZ,{id:B},B)):null,(D||u)&&v?d.jsx(YR,{annotation:(u==null?void 0:u.id)||D,children:d.jsx(kWt,{})}):null,u&&!v?d.jsx(rZ,{style:{border:"4px solid #D45380",boxShadow:"0px 3px 10px 2px #000"},id:u.id},u.id):null,Object.keys(M).map(B=>M[B]?d.jsx("box",{id:B,html:!0,relativeStyle:!0,interactive:!1,target:M[B],style:{border:"2px solid #488afc"}},B):null)]})}),g.current==="canvas-properties"&&g.state.current===5&&d.jsx(LWt,{canvasId:G}),S&&r&&!v?d.jsx(aWt,{onCreate:B=>{r({type:"polygon",shape:B}),C(!1)}}):null]})},`${G}/${l==null?void 0:l.width}/${l==null?void 0:l.height}`)}),d.jsx(CWt,{})]})]},_),d.jsx("div",{id:"floating-ui"})]})});return e?se:d.jsx(DT,{fallbackRender:()=>d.jsx(ppe,{children:d.jsx(mpe,{children:"Something went wrong"})}),children:d.jsx(zWt,{strategies:["empty","images","media","textual-content"],renderViewerControls:()=>d.jsx(nWt,{refresh:k,editIcon:!0,editMode:v,toggleEditMode:y,createMode:S,toggleCreateAnnotation:r?C:void 0}),viewControlsDeps:[v,S,r,u],renderMediaControls:()=>d.jsx(ZUt,{}),children:d.jsx(IWt,{children:se})})})}function VWt({asFallback:e=!1}){var p,g;const{edit:t,create:n}=vu(),r=Tg("Canvas"),i=Tg("AnnotationPage"),o=Tg("Annotation"),s=$n(),a=r==null?void 0:r.resource.source.id;let l;const u=i&&r&&((p=i.parent)==null?void 0:p.id)===a&&i.property==="annotations"?i.resource.source.id:void 0,c=Ki((v,y)=>{if(a){const S=y.get(a);if(S&&S.items){const C=S.items[0];if(C){const _=y.get(C);if(_)return _.items.length}}}return 0},[a]);if(u){const v=s.get({id:a,type:"Canvas"});v&&(l=y=>{n({type:"Annotation",parent:{id:u,type:"AnnotationPage"},property:"items",initialData:{selector:y,motivation:"describing",on:{width:v.width,height:v.height}},target:{id:a,type:"Canvas"}})})}const f=(g=o==null?void 0:o.resource)==null?void 0:g.source.id;return r?d.jsx(Do,{canvas:a,children:d.jsx(HWt,{asFallback:e,highlightAnnotation:f,onEditAnnotation:v=>v!==f&&t({id:v,type:"Annotation"}),createAnnotation:l},`${a}/${c}/${u}`)}):d.jsx(q4,{children:"No canvas selected"})}function UWt(e){return e.reorder?d.jsx(v1,{id:e.id||"reorder-collection-item-list",marginBottom:"0.5em",items:e.list||[],inlineHandle:e.inlineHandle,reorder:e.reorder,renderItem:(t,n)=>{const r=os(t)?t.source:t;return r.type==="Manifest"?d.jsx(hh,{manifest:r.id,children:d.jsx(Ile,{onAction:()=>e.onSelect(r,n),isActive:e.activeId===r.id})}):d.jsx(QR,{collection:r.id,children:d.jsx(Ale,{onAction:()=>e.onSelect(r,n),isActive:e.activeId===r.id})})},createActions:e.createActions}):d.jsx("div",{id:e.id,children:e.list.map((t,n)=>{const r=os(t)?t.source:t;return r.type==="Manifest"?d.jsx(hh,{manifest:r.id,children:d.jsx(Ile,{onAction:()=>e.onSelect(r,n),isActive:e.activeId===r.id})},`${n}_${t.id}`):d.jsx(QR,{collection:r.id,children:d.jsx(Ale,{onAction:()=>e.onSelect(r,n),isActive:e.activeId===r.id})},`${n}_${t.id}`)})})}Se.div`
  background: transparent;
`;var Tc={},WWt=Object.create,ONe=Object.defineProperty,KWt=Object.getOwnPropertyDescriptor,qWt=Object.getOwnPropertyNames,GWt=Object.getPrototypeOf,ZWt=Object.prototype.hasOwnProperty,YWt=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),XWt=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of qWt(t))!ZWt.call(e,i)&&i!==n&&ONe(e,i,{get:()=>t[i],enumerable:!(r=KWt(t,i))||r.enumerable});return e},QWt=(e,t,n)=>(n=e!=null?WWt(GWt(e)):{},XWt(!e||!e.__esModule?ONe(n,"default",{value:e,enumerable:!0}):n,e)),JWt=YWt((e,t)=>{t.exports=function(n,r,i,o){var s=i?i.call(o,n,r):void 0;if(s!==void 0)return!!s;if(n===r)return!0;if(typeof n!="object"||!n||typeof r!="object"||!r)return!1;var a=Object.keys(n),l=Object.keys(r);if(a.length!==l.length)return!1;for(var u=Object.prototype.hasOwnProperty.bind(r),c=0;c<a.length;c++){var f=a[c];if(!u(f))return!1;var p=n[f],g=r[f];if(s=i?i.call(o,p,g,f):void 0,s===!1||s===void 0&&p!==g)return!1}return!0}}),CS={mainContainer:"HoverCard__mainContainer",hoverCardContainer:"HoverCard__hoverCardContainer",hoverCardHeader:"HoverCard__hoverCardHeader",hoverCardLabel:"HoverCard__hoverCardLabel",hoverCardAction:"HoverCard__hoverCardAction"},vy={collectionListingContainer:"CollectionListing__collectionListingContainer",collectionItem:"CollectionListing__collectionItem",collectionIcon:"CollectionListing__collectionIcon",collectionMeta:"CollectionListing__collectionMeta",collectionLabel:"CollectionListing__collectionLabel",collectionType:"CollectionListing__collectionType"};function O8(e){return d.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 42 42",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",...e,children:d.jsxs("g",{transform:"translate(2 2)",strokeWidth:5,fill:"none",fillRule:"evenodd",children:[d.jsx("circle",{strokeOpacity:.5,cx:18,cy:18,r:18}),d.jsx("path",{d:"M36 18c0-9.94-8.06-18-18-18",children:d.jsx("animateTransform",{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"1s",repeatCount:"indefinite"})})]})})}var eKt=(e,t)=>wh()((n,r)=>({history:[],selected:null,refinements:[],error:null,recent:[],scrollRestoreCache:{},resetError(){n({error:null})},setScrollCache(i,o){i&&n(s=>({scrollRestoreCache:{...s.scrollRestoreCache,[i]:o}}))},setRecent(i){n({recent:i})},replace(i){r().back(),r().select(i)},setCurrentSelector(i){let o=r().selected;o&&n({selected:{...o,selector:i}})},addToListing(i){let o=r().selected;if(!o)return;let s=o.listing||[];n({selected:{...o,listing:[...s.filter(a=>a.id!==i.id),i]}})},clearListing(){let i=r().selected;i&&n({selected:{...i,listing:[]}})},removeFromListing(i){let o=r().selected;o&&o.listing&&n({selected:{...o,listing:o.listing.filter(s=>s.id!==i.id)}})},select(i,o=!1){let s=typeof i=="string"?{id:i,type:"unknown"}:i,a=e.requestStatus(s.id),l=e.get(s.id);l&&s.type==="unknown"&&(s.type=l.type),["Collection","Manifest","unknown"].includes(s.type)&&(!a||a.loadingState==="RESOURCE_ERROR"?e.load(i).then(c=>{c&&(s.id!==c.id||s.type!==c.type)&&r().updateKey(s,c)}).catch(c=>{n({error:c.toString()})}):a&&(s=e.get(s,{skipSelfReturn:!1})));let u={id:s.id,type:s.type};if(o){n({selected:u,history:[]});return}r().history.find(c=>c.id===u.id)?n({selected:u}):n(c=>({selected:u,history:[...c.history,u]})),t.onHistory&&t.onHistory(u.id,u.type)},updateKey(i,o){let s=r(),a=s.history.slice(),l=!1;for(let u=0;u<s.history.length;u++)s.history[u].id===i.id&&(l=!0,a[u]={id:o.id,type:o.type});l&&n({history:a}),s.selected&&s.selected.id===i.id&&n({selected:{id:o.id,type:o.type}})},back(){let i=r(),o=i.history.length;if(!t.canReset&&(o<2||!i.selected))return;let s=i.history.findIndex(a=>{var l;return a&&a.id===((l=i.selected)==null?void 0:l.id)});if(s>=1){let a=i.history[s-1];i.select(a),n({history:i.history.slice(0,s)})}else n({history:[],selected:null})}})),jNe=h.createContext(void 0);function bf(){let e=h.useContext(jNe);if(!e)throw new Error("No store found");return e}function tKt({children:e,entry:t,options:n}){let r=em(),i=h.useMemo(()=>{let o=eKt(r,n||{});return t&&o.getState().select(t),o},[r]);return d.jsx(jNe.Provider,{value:i,children:e})}function iZ(e){if(!document.startViewTransition){e();return}document.startViewTransition(()=>e())}function nKt(e){return{onClick:e,onKeyDown:t=>{t.key==="Enter"&&e()}}}function jte(e){let t=h.useRef(null),n=o=>{let s=((t==null?void 0:t.current)||document).querySelector(`[${e}="${o+1}"]`);s&&s.focus()},r=o=>{if(o){let s=((t==null?void 0:t.current)||document).querySelector(`[${e}="${o-1}"]`);s&&s.focus()}},i=h.useCallback(o=>{switch(o.key){case"ArrowDown":case"ArrowRight":{let s=parseInt(o.target.getAttribute(e)||"",10);Number.isNaN(s)||n(s);break}case"ArrowUp":case"ArrowLeft":{let s=parseInt(o.target.getAttribute(e)||"",10);Number.isNaN(s)||r(s);break}}},[e]);return{ref:t,onKeyUp:i}}var rKt=h.createContext(null),xz={didCatch:!1,error:null},iKt=class extends h.Component{constructor(e){super(e),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=xz}static getDerivedStateFromError(e){return{didCatch:!0,error:e}}resetErrorBoundary(){let{error:e}=this.state;if(e!==null){for(var t,n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];(t=(n=this.props).onReset)===null||t===void 0||t.call(n,{args:i,reason:"imperative-api"}),this.setState(xz)}}componentDidCatch(e,t){var n,r;(n=(r=this.props).onError)===null||n===void 0||n.call(r,e,t)}componentDidUpdate(e,t){let{didCatch:n}=this.state,{resetKeys:r}=this.props;if(n&&t.error!==null&&oKt(e.resetKeys,r)){var i,o;(i=(o=this.props).onReset)===null||i===void 0||i.call(o,{next:r,prev:e.resetKeys,reason:"keys"}),this.setState(xz)}}render(){let{children:e,fallbackRender:t,FallbackComponent:n,fallback:r}=this.props,{didCatch:i,error:o}=this.state,s=e;if(i){let a={error:o,resetErrorBoundary:this.resetErrorBoundary};if(typeof t=="function")s=t(a);else if(n)s=h.createElement(n,a);else if(r===null||h.isValidElement(r))s=r;else throw o}return h.createElement(rKt.Provider,{value:{didCatch:i,error:o,resetErrorBoundary:this.resetErrorBoundary}},s)}};function oKt(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return e.length!==t.length||e.some((n,r)=>!Object.is(n,t[r]))}var sKt="Invariant failed";function F3(e,t){if(!e)throw new Error(sKt)}var NNe=h.createContext(null);function Nte(){let e=h.useContext(NNe);return F3(e),e}function aKt({children:e}){let[t,n]=h.useState("");return d.jsx(NNe.Provider,{value:h.useMemo(()=>({value:t,setValue:n}),[t]),children:e})}function lKt({open:e}){let{value:t,setValue:n}=Nte(),[r,i]=h.useState(!1),o=s=>{let a=s.target;s.preventDefault();let l=new FormData(a),u=Object.fromEntries(l.entries());n(u.value)};return e?d.jsxs("div",{children:[r?d.jsx("form",{onSubmit:o,children:d.jsx("input",{type:"text",disabled:!e,name:"value"})}):d.jsx("div",{children:d.jsx("input",{type:"text",disabled:!e,value:t,onChange:s=>n(s.currentTarget.value)})}),d.jsx("button",{onClick:()=>i(s=>!s),children:r?"live off":"live on"})]}):null}function uKt(){let e=av({width:256,height:256},!1);return e?d.jsx("img",{src:e.id,alt:""}):d.jsx("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:d.jsxs("g",{id:"Artboard-Copy-5",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:[d.jsx("rect",{id:"Rectangle",x:"0",y:"0",width:"24",height:"24"}),d.jsxs("g",{id:"Group",transform:"translate(6.000000, 4.000000)",children:[d.jsx("rect",{id:"Rectangle",fill:"#717171",x:"2",y:"7",width:"8",height:"6"}),d.jsx("path",{d:"M2.98125,11.8125 L9.01875,11.8125 L9.01875,10.6875 L2.98125,10.6875 L2.98125,11.8125 Z M2.98125,8.625 L9.01875,8.625 L9.01875,7.5 L2.98125,7.5 L2.98125,8.625 Z M1.125,15 C0.825,15 0.5625,14.8875 0.3375,14.6625 C0.1125,14.4375 0,14.175 0,13.875 L0,1.125 C0,0.825 0.1125,0.5625 0.3375,0.3375 C0.5625,0.1125 0.825,0 1.125,0 L7.89375,0 L12,4.10625 L12,13.875 C12,14.175 11.8875,14.4375 11.6625,14.6625 C11.4375,14.8875 11.175,15 10.875,15 L1.125,15 Z M7.33125,4.6125 L10.875,4.6125 L7.33125,1.125 L7.33125,4.6125 Z",id:"Shape",fill:"#AAAAAA",fillRule:"nonzero"})]})]})})}function cKt(){return d.jsx("svg",{viewBox:"0 0 24 24",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:d.jsx("g",{id:"Design-3.0",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:d.jsxs("g",{id:"Artboard",children:[d.jsxs("g",{id:"folder-icon",transform:"translate(5.000000, 6.000000)",fillRule:"nonzero",children:[d.jsx("path",{d:"M1.125,12 C0.825,12 0.5625,11.884375 0.3375,11.653125 C0.1125,11.421875 0,11.1625 0,10.875 L0,1.125 C0,0.8375 0.1125,0.578125 0.3375,0.346875 C0.5625,0.115625 0.825,0 1.125,0 L6.375,0 L7.5,2.125 L13.875,2.125 C14.1625,2.125 14.421875,2.240625 14.653125,2.471875 C14.884375,2.703125 15,2.9625 15,3.25 L15,10.875 C15,11.1625 14.884375,11.421875 14.653125,11.653125 C14.421875,11.884375 14.1625,12 13.875,12 L1.125,12 Z",id:"Path",fill:"#717171"}),d.jsx("path",{d:"M1.125,12 C0.825,12 0.5625,11.884375 0.3375,11.653125 C0.1125,11.421875 0,11.1625 0,10.875 L0,1.99558699 L13.875,1.99558699 C14.1625,1.99558699 14.421875,2.11121199 14.653125,2.34246199 C14.884375,2.57371199 15,2.83308699 15,3.12058699 L15,10.875 C15,11.1625 14.884375,11.421875 14.653125,11.653125 C14.421875,11.884375 14.1625,12 13.875,12 L1.125,12 Z",id:"Path",fill:"#AAAAAA"})]}),d.jsx("rect",{id:"Rectangle",x:"0",y:"0",width:"24",height:"24"})]})})})}function dKt(e){let t=h.useRef(null),n=Ki((s,a)=>a.get(e.resource)),r=Ki((s,a)=>a.requestStatus(typeof e.resource=="string"?e.resource:e.resource.id)),i=nKt(e.onClick),{value:o}=Nte();return o&&!uc(n.label).toLowerCase().includes(o.toLowerCase())?null:d.jsxs("div",{ref:t,className:vy.collectionItem,"data-active":e.active,tabIndex:0,"data-collection-list-index":e.index,"data-loading":r==null?void 0:r.loadingState,...i,children:[d.jsxs("div",{className:vy.collectionIcon,children:[(r==null?void 0:r.loadingState)==="RESOURCE_LOADING"?d.jsx("div",{style:{position:"absolute",bottom:10,right:10},children:d.jsx(O8,{stroke:"#000"})}):null,n.type==="Manifest"?d.jsx(hh,{manifest:n.id,children:d.jsx(iKt,{fallback:null,children:d.jsxs(Sx.LazyLoadComponent,{threshold:300,children:[d.jsx(fKt,{resource:n}),d.jsx(uKt,{})]})})}):d.jsx(cKt,{})]}),d.jsxs("div",{className:vy.collectionMeta,children:[d.jsx("div",{className:vy.collectionLabel,children:d.jsx(Fn,{children:(n==null?void 0:n.label)||{none:["Untitled"]}})}),d.jsxs("div",{className:vy.collectionType,children:[n==null?void 0:n.type," ",(r==null?void 0:r.loadingState)==="RESOURCE_LOADING"?"loading":""]})]})]})}function fKt({resource:e}){let t=$n();return h.useEffect(()=>{try{if((e==null?void 0:e.type)==="Manifest"){let n=t.get(e,{skipSelfReturn:!1});n&&(!n.thumbnail||n.thumbnail.length===0)&&t.loadManifest(e==null?void 0:e.id)}}catch{}},[]),null}function FNe({collection:e,select:t}){let n=bf(),r=jte("data-collection-list-index"),i=yt(n,o=>o.setScrollCache);return d.jsx("div",{className:vy.collectionListingContainer,...r,children:e==null?void 0:e.items.map((o,s)=>d.jsx(Sx.LazyLoadComponent,{visibleByDefault:s<40,placeholder:d.jsx("div",{"data-collection-list-index":s,className:vy.collectionItem,style:{aspectRatio:"1/1"}}),children:d.jsx(dKt,{index:s,resource:o,onClick:()=>{r.ref.current&&i(e.id,r.ref.current.scrollTop),t(o)}})},o.id))})}function hKt(){let e=bf(),t=yt(e,a=>a.selected),n=yt(e,a=>a.select);yt(e,a=>a.setScrollCache);let r=yt(e,a=>a.scrollRestoreCache);Nte();let i=Ki((a,l)=>t&&(t.type==="Collection"||t.type==="unknown")?l.get(t,{skipSelfReturn:!1}):null,[t]),o=Ki((a,l)=>t&&(t.type==="Collection"||t.type==="unknown")?l.requestStatus(t.id):void 0,[t]),s=jte("data-collection-list-index");return h.useLayoutEffect(()=>{let a=i?r[i.id]:0;a&&s.ref.current&&(s.ref.current.scrollTop=a)},[r,i,s.ref]),o&&o.loadingState==="RESOURCE_LOADING"?d.jsx("div",{children:d.jsx(O8,{})}):o&&o.loadingState==="RESOURCE_ERROR"?d.jsxs("div",{children:["Error loading manifest: ",o.error]}):!t||!i||i&&i.type!=="Collection"||!i.items?null:d.jsx(FNe,{collection:i,select:a=>n(a)})}var MP={SectionLabel:"ExplorerEntry__SectionLabel",UrlContainer:"ExplorerEntry__UrlContainer",Section:"ExplorerEntry__Section",SectionAction:"ExplorerEntry__SectionAction",UrlLabel:"ExplorerEntry__UrlLabel"},ype={InputContainer:"ExplorerInput__InputContainer",Input:"ExplorerInput__Input"};function Sz(){let e=bf(),t=yt(e,n=>n.select);return d.jsx("form",{onSubmit:n=>{n.preventDefault();let r=new FormData(n.target),i=Object.fromEntries(r.entries());i.url&&t(i.url)},className:ype.InputContainer,children:d.jsx("input",{type:"text",placeholder:"Enter Manifest or Collection URL...",className:ype.Input,name:"url",id:"url"})})}function pKt({id:e,clearCollection:t}){let n=lv({id:e}),r=bf(),i=yt(r,o=>o.select);return n?d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:MP.Section,children:[d.jsx("div",{className:MP.SectionLabel,children:"Recent items"}),t?d.jsx("button",{className:MP.SectionAction,onClick:()=>t(),children:"Clear"}):null]}),d.jsx("div",{className:vy.collectionListingContainer,children:d.jsx(FNe,{collection:n,select:o=>i(o)})})]}):d.jsx("div",{})}var Lb={resourceNavContainer:"ResourceNavigation__resourceNavContainer",resourceNavIcon:"ResourceNavigation__resourceNavIcon",resourceNavListItem:"ResourceNavigation__resourceNavListItem",resourceNavListItemIcon:"ResourceNavigation__resourceNavListItemIcon",resourceNavListItemLabel:"ResourceNavigation__resourceNavListItemLabel",resourceNavList:"ResourceNavigation__resourceNavList"};function mKt({item:e,id:t,isSelected:n,index:r,select:i}){return d.jsxs("a",{href:t,className:Lb.resourceNavListItem,"data-active":n,"data-index":r,onClick:o=>{o.ctrlKey||(o.preventDefault(),i(e))},children:[d.jsx("div",{className:Lb.resourceNavListItemIcon,children:d.jsx("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:d.jsx("g",{id:"Design-3.0",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:d.jsxs("g",{id:"Artboard",children:[d.jsxs("g",{id:"folder-icon",transform:"translate(5.000000, 6.000000)",fillRule:"nonzero",children:[d.jsx("path",{d:"M1.125,12 C0.825,12 0.5625,11.884375 0.3375,11.653125 C0.1125,11.421875 0,11.1625 0,10.875 L0,1.125 C0,0.8375 0.1125,0.578125 0.3375,0.346875 C0.5625,0.115625 0.825,0 1.125,0 L6.375,0 L7.5,2.125 L13.875,2.125 C14.1625,2.125 14.421875,2.240625 14.653125,2.471875 C14.884375,2.703125 15,2.9625 15,3.25 L15,10.875 C15,11.1625 14.884375,11.421875 14.653125,11.653125 C14.421875,11.884375 14.1625,12 13.875,12 L1.125,12 Z",id:"Path",fill:"#717171"}),d.jsx("path",{d:"M1.125,12 C0.825,12 0.5625,11.884375 0.3375,11.653125 C0.1125,11.421875 0,11.1625 0,10.875 L0,1.99558699 L13.875,1.99558699 C14.1625,1.99558699 14.421875,2.11121199 14.653125,2.34246199 C14.884375,2.57371199 15,2.83308699 15,3.12058699 L15,10.875 C15,11.1625 14.884375,11.421875 14.653125,11.653125 C14.421875,11.884375 14.1625,12 13.875,12 L1.125,12 Z",id:"Path",fill:"#AAAAAA"})]}),d.jsx("rect",{id:"Rectangle",x:"0",y:"0",width:"24",height:"24"})]})})})}),d.jsx("div",{className:Lb.resourceNavListItemLabel,children:d.jsx(Fn,{children:e.label})})]})}var gKt=({rotate:e=0,...t})=>d.jsx("svg",{version:"1.2",xmlns:"http://www.w3.org/2000/svg",overflow:"visible",preserveAspectRatio:"none",viewBox:"0 0 24 24",width:"1em",height:"1em",style:{fill:"rgba(0, 0, 0, 0.6)",transform:`rotate(${e}deg)`,transition:"transform 0.2s"},...t,children:d.jsx("path",{d:"M8.12 9.29 12 13.17l3.88-3.88a.996.996 0 1 1 1.41 1.41l-4.59 4.59a.996.996 0 0 1-1.41 0L6.7 10.7a.996.996 0 0 1 0-1.41c.39-.38 1.03-.39 1.42 0z",fill:"currentColor"})});function vKt(e){let t=bf(),[n,r]=h.useState(!1),i=yt(t,l=>l.selected),o=yt(t,l=>l.select),s=yt(t,l=>l.history);yt(t,l=>l.back);let a=Ki((l,u)=>s.map(c=>({id:c.id,type:c.type,resource:u.get(c,{skipSelfReturn:!1}),status:u.requestStatus(c.id)})),[s]);return d.jsxs("div",{className:Lb.resourceNavContainer,children:[e.hideBack&&!e.onBack&&!e.canReset&&s.length<2?d.jsx("div",{}):d.jsx("div",{className:Lb.resourceNavIcon,"data-disabled":!e.onBack&&!e.canReset&&s.length<2,children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",width:"24",children:d.jsx("path",{d:"m12 20-8-8 8-8 1.425 1.4-5.6 5.6H20v2H7.825l5.6 5.6Z"})})}),d.jsx("div",{className:Lb.resourceNavList,"data-collapsed":!n,children:a.map((l,u)=>{let c=l.id===(i==null?void 0:i.id),f=l.resource;return d.jsx(mKt,{id:l.id,isSelected:c,index:u,select:()=>{o(l),r(!1)},item:f},l.id)})}),d.jsx("div",{className:Lb.resourceNavIcon,"data-disabled":s.length<2,onClick:()=>r(l=>!l),children:d.jsx(gKt,{rotate:n?0:90,width:void 0,height:void 0})})]})}function yKt({entry:e,canReset:t,homepageCollection:n,clearHomepageCollection:r,onBack:i,hideBack:o}){let s=bf(),a=yt(s,u=>u.history),l=yt(s,u=>u.selected);return a.length===0&&!l?e?n?d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:MP.UrlContainer,children:[d.jsx("label",{className:MP.UrlLabel,htmlFor:"url",children:"Browse existing manifest or collection"}),d.jsx(Sz,{})]}),d.jsx(pKt,{id:n,clearCollection:r})]}):e.type==="Text"?d.jsx(Sz,{}):(t||s.getState().select(e,!0),d.jsx(Sz,{})):d.jsx("div",{children:"Unknown?"}):d.jsx(vKt,{hideBack:o,canReset:t,onBack:i})}var K2={ManifestListing:"ManifestListing__ManifestListing",ThumbnailList:"ManifestListing__ThumbnailList",ThumbnailGroup:"ManifestListing__ThumbnailGroup",ThumbnailItem:"ManifestListing__ThumbnailItem",ThumbnailImage:"ManifestListing__ThumbnailImage",ThumbnailLabel:"ManifestListing__ThumbnailLabel"};function bKt(){let e=av({height:120,width:120},!1);return d.jsx(Sx.LazyLoadComponent,{children:d.jsx("img",{src:e==null?void 0:e.id,alt:""})})}function wKt({onClick:e,selected:t,onSelect:n,onDeselect:r,selectEnabled:i}){$n(),Li();let o=kr(),s=h.useRef(null);F3(o);let a=l=>{l.stopPropagation();let u=l.currentTarget.querySelector("img");if(u&&(u.style.viewTransitionName="canvas-image"),i&&(l.metaKey||l.shiftKey)){t?r():n(l.shiftKey);return}iZ(()=>e())};return d.jsxs("div",{className:K2.ThumbnailItem,"data-selected":t,children:[d.jsx("div",{ref:s,className:K2.ThumbnailImage,onClick:a,style:{viewTransitionName:o.id},children:d.jsx(bKt,{})}),d.jsx("div",{className:K2.ThumbnailLabel,children:d.jsx(Fn,{children:o.label})})]})}function xKt(){let e=Li(),t=$n();return F3(e),h.useMemo(()=>{if(!e||!e.items.length)return{ratio:1};let n=t.get(e.items.slice(0,20)),r=n.length,i={height:0,width:0};if(!r)return{ratio:1};for(let s of n)i.height+=s.height||0,i.width+=s.width||0;let o={ratio:1,height:i.height/r,width:i.width/r};return o.ratio=o.width/o.height,o},[e,t])}function SKt({canvasMultiSelect:e}){let t=Li(),n=M3e({disablePaging:!1}),r=jte("data-manifest-list-index"),i=bf(),o=yt(i,y=>y.select),s=yt(i,y=>y.clearListing),a=yt(i,y=>y.addToListing),l=yt(i,y=>y.removeFromListing),u=yt(i,y=>y.selected),{ratio:c}=xKt(),f=yt(i,y=>y.setScrollCache),p=yt(i,y=>y.scrollRestoreCache);h.useLayoutEffect(()=>{let y=t?p[t.id]:0;y&&r.ref.current&&(r.ref.current.scrollTop=y)},[p,t,r.ref]),F3(t);let g=n.sequence.length===1,v=(u==null?void 0:u.listing)||[];return d.jsx("div",{className:K2.ManifestListing,...r,children:d.jsx("div",{className:K2.ThumbnailList,onClick:y=>{y.isPropagationStopped()||y.shiftKey||y.metaKey||e&&s()},"data-single":g,style:{"--thumb-ratio":c},children:n.sequence.map((y,S)=>d.jsx("div",{className:K2.ThumbnailGroup,style:{"--item-count":y.length},children:y.map(C=>n.items[C]).map((C,_)=>d.jsx(Do,{canvas:C.id,children:d.jsx(wKt,{selectEnabled:e,selected:!!v.find(k=>k.id===C.id),onSelect:k=>{if(k&&v.length){let w=n.items.findIndex(O=>O.id===C.id),P=v[v.length-1],M=n.items.findIndex(O=>O.id===P.id),R=Math.min(w,M),D=Math.max(w,M),H=n.items.slice(R,D);for(let O of H)a(O)}a(C)},onDeselect:()=>l(C),onClick:()=>{r.ref.current&&f(t.id,r.ref.current.scrollTop),o(C)}})},C.id+_))},S))})})}function _Kt({canvasMultiSelect:e}){let t=bf(),n=yt(t,i=>i.selected),r=Ki((i,o)=>n&&(n.type==="Manifest"||n.type==="unknown")?o.requestStatus(n.id):null,[n]);return!n||n.type!=="Manifest"||!r?null:r.loadingState==="RESOURCE_LOADING"?d.jsx("div",{children:d.jsx(O8,{})}):r.loadingState==="RESOURCE_ERROR"?d.jsxs("div",{children:["Error loading manifest: ",r.error]}):d.jsx(hh,{manifest:n.id,children:d.jsx(SKt,{canvasMultiSelect:e})})}var CKt={CanvasContainer:"CanvasView__CanvasContainer"},ec=function(){return ec=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},ec.apply(this,arguments)};function t9(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}QWt(JWt());var mo="-ms-",LP="-moz-",Ei="-webkit-",BNe="comm",j8="rule",Fte="decl",EKt="@import",zNe="@keyframes",kKt="@layer",HNe=Math.abs,Bte=String.fromCharCode,oZ=Object.assign;function PKt(e,t){return ba(e,0)^45?(((t<<2^ba(e,0))<<2^ba(e,1))<<2^ba(e,2))<<2^ba(e,3):0}function VNe(e){return e.trim()}function Lm(e,t){return(e=t.exec(e))?e[0]:e}function vr(e,t,n){return e.replace(t,n)}function wI(e,t,n){return e.indexOf(t,n)}function ba(e,t){return e.charCodeAt(t)|0}function AC(e,t,n){return e.slice(t,n)}function up(e){return e.length}function UNe(e){return e.length}function jk(e,t){return t.push(e),e}function $Kt(e,t){return e.map(t).join("")}function bpe(e,t){return e.filter(function(n){return!Lm(n,t)})}var N8=1,IC=1,WNe=0,sf=0,Ms=0,B3="";function F8(e,t,n,r,i,o,s,a){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:N8,column:IC,length:s,return:"",siblings:a}}function Jv(e,t){return oZ(F8("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},t)}function ES(e){for(;e.root;)e=Jv(e.root,{children:[e]});jk(e,e.siblings)}function TKt(){return Ms}function MKt(){return Ms=sf>0?ba(B3,--sf):0,IC--,Ms===10&&(IC=1,N8--),Ms}function lh(){return Ms=sf<WNe?ba(B3,sf++):0,IC++,Ms===10&&(IC=1,N8++),Ms}function Mw(){return ba(B3,sf)}function xI(){return sf}function B8(e,t){return AC(B3,e,t)}function sZ(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function LKt(e){return N8=IC=1,WNe=up(B3=e),sf=0,[]}function AKt(e){return B3="",e}function _z(e){return VNe(B8(sf-1,aZ(e===91?e+2:e===40?e+1:e)))}function IKt(e){for(;(Ms=Mw())&&Ms<33;)lh();return sZ(e)>2||sZ(Ms)>3?"":" "}function RKt(e,t){for(;--t&&lh()&&!(Ms<48||Ms>102||Ms>57&&Ms<65||Ms>70&&Ms<97););return B8(e,xI()+(t<6&&Mw()==32&&lh()==32))}function aZ(e){for(;lh();)switch(Ms){case e:return sf;case 34:case 39:e!==34&&e!==39&&aZ(Ms);break;case 40:e===41&&aZ(e);break;case 92:lh();break}return sf}function DKt(e,t){for(;lh()&&e+Ms!==57&&!(e+Ms===84&&Mw()===47););return"/*"+B8(t,sf-1)+"*"+Bte(e===47?e:lh())}function OKt(e){for(;!sZ(Mw());)lh();return B8(e,sf)}function jKt(e){return AKt(SI("",null,null,null,[""],e=LKt(e),0,[0],e))}function SI(e,t,n,r,i,o,s,a,l){for(var u=0,c=0,f=s,p=0,g=0,v=0,y=1,S=1,C=1,_=0,k="",w=i,P=o,M=r,R=k;S;)switch(v=_,_=lh()){case 40:if(v!=108&&ba(R,f-1)==58){wI(R+=vr(_z(_),"&","&\f"),"&\f",HNe(u?a[u-1]:0))!=-1&&(C=-1);break}case 34:case 39:case 91:R+=_z(_);break;case 9:case 10:case 13:case 32:R+=IKt(v);break;case 92:R+=RKt(xI()-1,7);continue;case 47:switch(Mw()){case 42:case 47:jk(NKt(DKt(lh(),xI()),t,n,l),l);break;default:R+="/"}break;case 123*y:a[u++]=up(R)*C;case 125*y:case 59:case 0:switch(_){case 0:case 125:S=0;case 59+c:C==-1&&(R=vr(R,/\f/g,"")),g>0&&up(R)-f&&jk(g>32?xpe(R+";",r,n,f-1,l):xpe(vr(R," ","")+";",r,n,f-2,l),l);break;case 59:R+=";";default:if(jk(M=wpe(R,t,n,u,c,i,a,k,w=[],P=[],f,o),o),_===123)if(c===0)SI(R,t,M,M,w,o,f,a,P);else switch(p===99&&ba(R,3)===110?100:p){case 100:case 108:case 109:case 115:SI(e,M,M,r&&jk(wpe(e,M,M,0,0,i,a,k,i,w=[],f,P),P),i,P,f,a,r?w:P);break;default:SI(R,M,M,M,[""],P,0,a,P)}}u=c=g=0,y=C=1,k=R="",f=s;break;case 58:f=1+up(R),g=v;default:if(y<1){if(_==123)--y;else if(_==125&&y++==0&&MKt()==125)continue}switch(R+=Bte(_),_*y){case 38:C=c>0?1:(R+="\f",-1);break;case 44:a[u++]=(up(R)-1)*C,C=1;break;case 64:Mw()===45&&(R+=_z(lh())),p=Mw(),c=f=up(k=R+=OKt(xI())),_++;break;case 45:v===45&&up(R)==2&&(y=0)}}return o}function wpe(e,t,n,r,i,o,s,a,l,u,c,f){for(var p=i-1,g=i===0?o:[""],v=UNe(g),y=0,S=0,C=0;y<r;++y)for(var _=0,k=AC(e,p+1,p=HNe(S=s[y])),w=e;_<v;++_)(w=VNe(S>0?g[_]+" "+k:vr(k,/&\f/g,g[_])))&&(l[C++]=w);return F8(e,t,n,i===0?j8:a,l,u,c,f)}function NKt(e,t,n,r){return F8(e,t,n,BNe,Bte(TKt()),AC(e,2,-2),0,r)}function xpe(e,t,n,r,i){return F8(e,t,n,Fte,AC(e,0,r),AC(e,r+1,-1),r,i)}function KNe(e,t,n){switch(PKt(e,t)){case 5103:return Ei+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ei+e+e;case 4789:return LP+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Ei+e+LP+e+mo+e+e;case 5936:switch(ba(e,t+11)){case 114:return Ei+e+mo+vr(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Ei+e+mo+vr(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Ei+e+mo+vr(e,/[svh]\w+-[tblr]{2}/,"lr")+e}case 6828:case 4268:case 2903:return Ei+e+mo+e+e;case 6165:return Ei+e+mo+"flex-"+e+e;case 5187:return Ei+e+vr(e,/(\w+).+(:[^]+)/,Ei+"box-$1$2"+mo+"flex-$1$2")+e;case 5443:return Ei+e+mo+"flex-item-"+vr(e,/flex-|-self/g,"")+(Lm(e,/flex-|baseline/)?"":mo+"grid-row-"+vr(e,/flex-|-self/g,""))+e;case 4675:return Ei+e+mo+"flex-line-pack"+vr(e,/align-content|flex-|-self/g,"")+e;case 5548:return Ei+e+mo+vr(e,"shrink","negative")+e;case 5292:return Ei+e+mo+vr(e,"basis","preferred-size")+e;case 6060:return Ei+"box-"+vr(e,"-grow","")+Ei+e+mo+vr(e,"grow","positive")+e;case 4554:return Ei+vr(e,/([^-])(transform)/g,"$1"+Ei+"$2")+e;case 6187:return vr(vr(vr(e,/(zoom-|grab)/,Ei+"$1"),/(image-set)/,Ei+"$1"),e,"")+e;case 5495:case 3959:return vr(e,/(image-set\([^]*)/,Ei+"$1$`$1");case 4968:return vr(vr(e,/(.+:)(flex-)?(.*)/,Ei+"box-pack:$3"+mo+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ei+e+e;case 4200:if(!Lm(e,/flex-|baseline/))return mo+"grid-column-align"+AC(e,t)+e;break;case 2592:case 3360:return mo+vr(e,"template-","")+e;case 4384:case 3616:return n&&n.some(function(r,i){return t=i,Lm(r.props,/grid-\w+-end/)})?~wI(e+(n=n[t].value),"span",0)?e:mo+vr(e,"-start","")+e+mo+"grid-row-span:"+(~wI(n,"span",0)?Lm(n,/\d+/):+Lm(n,/\d+/)-+Lm(e,/\d+/))+";":mo+vr(e,"-start","")+e;case 4896:case 4128:return n&&n.some(function(r){return Lm(r.props,/grid-\w+-start/)})?e:mo+vr(vr(e,"-end","-span"),"span ","")+e;case 4095:case 3583:case 4068:case 2532:return vr(e,/(.+)-inline(.+)/,Ei+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(up(e)-1-t>6)switch(ba(e,t+1)){case 109:if(ba(e,t+4)!==45)break;case 102:return vr(e,/(.+:)(.+)-([^]+)/,"$1"+Ei+"$2-$3$1"+LP+(ba(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~wI(e,"stretch",0)?KNe(vr(e,"stretch","fill-available"),t,n)+e:e}break;case 5152:case 5920:return vr(e,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,i,o,s,a,l,u){return mo+i+":"+o+u+(s?mo+i+"-span:"+(a?l:+l-+o)+u:"")+e});case 4949:if(ba(e,t+6)===121)return vr(e,":",":"+Ei)+e;break;case 6444:switch(ba(e,ba(e,14)===45?18:11)){case 120:return vr(e,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Ei+(ba(e,14)===45?"inline-":"")+"box$3$1"+Ei+"$2$3$1"+mo+"$2box$3")+e;case 100:return vr(e,":",":"+mo)+e}break;case 5719:case 2647:case 2135:case 3927:case 2391:return vr(e,"scroll-","scroll-snap-")+e}return e}function n9(e,t){for(var n="",r=0;r<e.length;r++)n+=t(e[r],r,e,t)||"";return n}function FKt(e,t,n,r){switch(e.type){case kKt:if(e.children.length)break;case EKt:case Fte:return e.return=e.return||e.value;case BNe:return"";case zNe:return e.return=e.value+"{"+n9(e.children,r)+"}";case j8:if(!up(e.value=e.props.join(",")))return""}return up(n=n9(e.children,r))?e.return=e.value+"{"+n+"}":""}function BKt(e){var t=UNe(e);return function(n,r,i,o){for(var s="",a=0;a<t;a++)s+=e[a](n,r,i,o)||"";return s}}function zKt(e){return function(t){t.root||(t=t.return)&&e(t)}}function HKt(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case Fte:e.return=KNe(e.value,e.length,n);return;case zNe:return n9([Jv(e,{value:vr(e.value,"@","@"+Ei)})],r);case j8:if(e.length)return $Kt(n=e.props,function(i){switch(Lm(i,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":ES(Jv(e,{props:[vr(i,/:(read-\w+)/,":"+LP+"$1")]})),ES(Jv(e,{props:[i]})),oZ(e,{props:bpe(n,r)});break;case"::placeholder":ES(Jv(e,{props:[vr(i,/:(plac\w+)/,":"+Ei+"input-$1")]})),ES(Jv(e,{props:[vr(i,/:(plac\w+)/,":"+LP+"$1")]})),ES(Jv(e,{props:[vr(i,/:(plac\w+)/,mo+"input-$1")]})),ES(Jv(e,{props:[i]})),oZ(e,{props:bpe(n,r)});break}return""})}}var VKt={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},UKt=VKt,RC=typeof process<"u"&&Tc!==void 0&&(Tc.REACT_APP_SC_ATTR||Tc.SC_ATTR)||"data-styled",qNe="active",GNe="data-styled-version",z8="6.1.8",zte=`/*!sc*/
`,Hte=typeof window<"u"&&"HTMLElement"in window,WKt=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&Tc!==void 0&&Tc.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Tc.REACT_APP_SC_DISABLE_SPEEDY!==""?Tc.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Tc.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&Tc!==void 0&&Tc.SC_DISABLE_SPEEDY!==void 0&&Tc.SC_DISABLE_SPEEDY!==""&&Tc.SC_DISABLE_SPEEDY!=="false"&&Tc.SC_DISABLE_SPEEDY),H8=Object.freeze([]),DC=Object.freeze({});function KKt(e,t,n){return n===void 0&&(n=DC),e.theme!==n.theme&&e.theme||t||n.theme}var ZNe=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),qKt=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,GKt=/(^-|-$)/g;function Spe(e){return e.replace(qKt,"-").replace(GKt,"")}var ZKt=/(a)(d)/gi,CL=52,_pe=function(e){return String.fromCharCode(e+(e>25?39:97))};function lZ(e){var t,n="";for(t=Math.abs(e);t>CL;t=t/CL|0)n=_pe(t%CL)+n;return(_pe(t%CL)+n).replace(ZKt,"$1-$2")}var Cz,YNe=5381,u2=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},XNe=function(e){return u2(YNe,e)};function YKt(e){return lZ(XNe(e)>>>0)}function XKt(e){return e.displayName||e.name||"Component"}function Ez(e){return typeof e=="string"&&!0}var QNe=typeof Symbol=="function"&&Symbol.for,JNe=QNe?Symbol.for("react.memo"):60115,QKt=QNe?Symbol.for("react.forward_ref"):60112,JKt={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},eqt={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},eFe={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},tqt=((Cz={})[QKt]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Cz[JNe]=eFe,Cz);function Cpe(e){return("type"in(t=e)&&t.type.$$typeof)===JNe?eFe:"$$typeof"in e?tqt[e.$$typeof]:JKt;var t}var nqt=Object.defineProperty,rqt=Object.getOwnPropertyNames,Epe=Object.getOwnPropertySymbols,iqt=Object.getOwnPropertyDescriptor,oqt=Object.getPrototypeOf,kpe=Object.prototype;function tFe(e,t,n){if(typeof t!="string"){if(kpe){var r=oqt(t);r&&r!==kpe&&tFe(e,r,n)}var i=rqt(t);Epe&&(i=i.concat(Epe(t)));for(var o=Cpe(e),s=Cpe(t),a=0;a<i.length;++a){var l=i[a];if(!(l in eqt||n&&n[l]||s&&l in s||o&&l in o)){var u=iqt(t,l);try{nqt(e,l,u)}catch{}}}}return e}function OC(e){return typeof e=="function"}function Vte(e){return typeof e=="object"&&"styledComponentId"in e}function Ab(e,t){return e&&t?"".concat(e," ").concat(t):e||t||""}function Ppe(e,t){if(e.length===0)return"";for(var n=e[0],r=1;r<e.length;r++)n+=e[r];return n}function Z4(e){return e!==null&&typeof e=="object"&&e.constructor.name===Object.name&&!("props"in e&&e.$$typeof)}function uZ(e,t,n){if(n===void 0&&(n=!1),!n&&!Z4(e)&&!Array.isArray(e))return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)e[r]=uZ(e[r],t[r]);else if(Z4(t))for(var r in t)e[r]=uZ(e[r],t[r]);return e}function Ute(e,t){Object.defineProperty(e,"toString",{value:t})}function A5(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(e," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var sqt=function(){function e(t){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=t}return e.prototype.indexOfGroup=function(t){for(var n=0,r=0;r<t;r++)n+=this.groupSizes[r];return n},e.prototype.insertRules=function(t,n){if(t>=this.groupSizes.length){for(var r=this.groupSizes,i=r.length,o=i;t>=o;)if((o<<=1)<0)throw A5(16,"".concat(t));this.groupSizes=new Uint32Array(o),this.groupSizes.set(r),this.length=o;for(var s=i;s<o;s++)this.groupSizes[s]=0}for(var a=this.indexOfGroup(t+1),l=(s=0,n.length);s<l;s++)this.tag.insertRule(a,n[s])&&(this.groupSizes[t]++,a++)},e.prototype.clearGroup=function(t){if(t<this.length){var n=this.groupSizes[t],r=this.indexOfGroup(t),i=r+n;this.groupSizes[t]=0;for(var o=r;o<i;o++)this.tag.deleteRule(r)}},e.prototype.getGroup=function(t){var n="";if(t>=this.length||this.groupSizes[t]===0)return n;for(var r=this.groupSizes[t],i=this.indexOfGroup(t),o=i+r,s=i;s<o;s++)n+="".concat(this.tag.getRule(s)).concat(zte);return n},e}(),_I=new Map,r9=new Map,CI=1,EL=function(e){if(_I.has(e))return _I.get(e);for(;r9.has(CI);)CI++;var t=CI++;return _I.set(e,t),r9.set(t,e),t},aqt=function(e,t){CI=t+1,_I.set(e,t),r9.set(t,e)},lqt="style[".concat(RC,"][").concat(GNe,'="').concat(z8,'"]'),uqt=new RegExp("^".concat(RC,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),cqt=function(e,t,n){for(var r,i=n.split(","),o=0,s=i.length;o<s;o++)(r=i[o])&&e.registerName(t,r)},dqt=function(e,t){for(var n,r=((n=t.textContent)!==null&&n!==void 0?n:"").split(zte),i=[],o=0,s=r.length;o<s;o++){var a=r[o].trim();if(a){var l=a.match(uqt);if(l){var u=0|parseInt(l[1],10),c=l[2];u!==0&&(aqt(c,u),cqt(e,c,l[3]),e.getTag().insertRules(u,i)),i.length=0}else i.push(a)}}};function fqt(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var nFe=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(a){var l=Array.from(a.querySelectorAll("style[".concat(RC,"]")));return l[l.length-1]}(n),o=i!==void 0?i.nextSibling:null;r.setAttribute(RC,qNe),r.setAttribute(GNe,z8);var s=fqt();return s&&r.setAttribute("nonce",s),n.insertBefore(r,o),r},hqt=function(){function e(t){this.element=nFe(t),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,i=0,o=r.length;i<o;i++){var s=r[i];if(s.ownerNode===n)return s}throw A5(17)}(this.element),this.length=0}return e.prototype.insertRule=function(t,n){try{return this.sheet.insertRule(n,t),this.length++,!0}catch{return!1}},e.prototype.deleteRule=function(t){this.sheet.deleteRule(t),this.length--},e.prototype.getRule=function(t){var n=this.sheet.cssRules[t];return n&&n.cssText?n.cssText:""},e}(),pqt=function(){function e(t){this.element=nFe(t),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(t,n){if(t<=this.length&&t>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[t]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(t){this.element.removeChild(this.nodes[t]),this.length--},e.prototype.getRule=function(t){return t<this.length?this.nodes[t].textContent:""},e}(),mqt=function(){function e(t){this.rules=[],this.length=0}return e.prototype.insertRule=function(t,n){return t<=this.length&&(this.rules.splice(t,0,n),this.length++,!0)},e.prototype.deleteRule=function(t){this.rules.splice(t,1),this.length--},e.prototype.getRule=function(t){return t<this.length?this.rules[t]:""},e}(),$pe=Hte,gqt={isServer:!Hte,useCSSOMInjection:!WKt},rFe=function(){function e(t,n,r){t===void 0&&(t=DC),n===void 0&&(n={});var i=this;this.options=ec(ec({},gqt),t),this.gs=n,this.names=new Map(r),this.server=!!t.isServer,!this.server&&Hte&&$pe&&($pe=!1,function(o){for(var s=document.querySelectorAll(lqt),a=0,l=s.length;a<l;a++){var u=s[a];u&&u.getAttribute(RC)!==qNe&&(dqt(o,u),u.parentNode&&u.parentNode.removeChild(u))}}(this)),Ute(this,function(){return function(o){for(var s=o.getTag(),a=s.length,l="",u=function(f){var p=function(C){return r9.get(C)}(f);if(p===void 0)return"continue";var g=o.names.get(p),v=s.getGroup(f);if(g===void 0||v.length===0)return"continue";var y="".concat(RC,".g").concat(f,'[id="').concat(p,'"]'),S="";g!==void 0&&g.forEach(function(C){C.length>0&&(S+="".concat(C,","))}),l+="".concat(v).concat(y,'{content:"').concat(S,'"}').concat(zte)},c=0;c<a;c++)u(c);return l}(i)})}return e.registerId=function(t){return EL(t)},e.prototype.reconstructWithOptions=function(t,n){return n===void 0&&(n=!0),new e(ec(ec({},this.options),t),this.gs,n&&this.names||void 0)},e.prototype.allocateGSInstance=function(t){return this.gs[t]=(this.gs[t]||0)+1},e.prototype.getTag=function(){return this.tag||(this.tag=(t=function(n){var r=n.useCSSOMInjection,i=n.target;return n.isServer?new mqt(i):r?new hqt(i):new pqt(i)}(this.options),new sqt(t)));var t},e.prototype.hasNameForId=function(t,n){return this.names.has(t)&&this.names.get(t).has(n)},e.prototype.registerName=function(t,n){if(EL(t),this.names.has(t))this.names.get(t).add(n);else{var r=new Set;r.add(n),this.names.set(t,r)}},e.prototype.insertRules=function(t,n,r){this.registerName(t,n),this.getTag().insertRules(EL(t),r)},e.prototype.clearNames=function(t){this.names.has(t)&&this.names.get(t).clear()},e.prototype.clearRules=function(t){this.getTag().clearGroup(EL(t)),this.clearNames(t)},e.prototype.clearTag=function(){this.tag=void 0},e}(),vqt=/&/g,yqt=/^\s*\/\/.*$/gm;function iFe(e,t){return e.map(function(n){return n.type==="rule"&&(n.value="".concat(t," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(t," ")),n.props=n.props.map(function(r){return"".concat(t," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=iFe(n.children,t)),n})}function bqt(e){var t,n,r,i=DC,o=i.options,s=o===void 0?DC:o,a=i.plugins,l=a===void 0?H8:a,u=function(p,g,v){return v.startsWith(n)&&v.endsWith(n)&&v.replaceAll(n,"").length>0?".".concat(t):p},c=l.slice();c.push(function(p){p.type===j8&&p.value.includes("&")&&(p.props[0]=p.props[0].replace(vqt,n).replace(r,u))}),s.prefix&&c.push(HKt),c.push(FKt);var f=function(p,g,v,y){g===void 0&&(g=""),v===void 0&&(v=""),y===void 0&&(y="&"),t=y,n=g,r=new RegExp("\\".concat(n,"\\b"),"g");var S=p.replace(yqt,""),C=jKt(v||g?"".concat(v," ").concat(g," { ").concat(S," }"):S);s.namespace&&(C=iFe(C,s.namespace));var _=[];return n9(C,BKt(c.concat(zKt(function(k){return _.push(k)})))),_};return f.hash=l.length?l.reduce(function(p,g){return g.name||A5(15),u2(p,g.name)},YNe).toString():"",f}var wqt=new rFe,cZ=bqt(),oFe=ne.createContext({shouldForwardProp:void 0,styleSheet:wqt,stylis:cZ});oFe.Consumer;ne.createContext(void 0);function Tpe(){return h.useContext(oFe)}var xqt=function(){function e(t,n){var r=this;this.inject=function(i,o){o===void 0&&(o=cZ);var s=r.name+o.hash;i.hasNameForId(r.id,s)||i.insertRules(r.id,s,o(r.rules,s,"@keyframes"))},this.name=t,this.id="sc-keyframes-".concat(t),this.rules=n,Ute(this,function(){throw A5(12,String(r.name))})}return e.prototype.getName=function(t){return t===void 0&&(t=cZ),this.name+t.hash},e}(),Sqt=function(e){return e>="A"&&e<="Z"};function Mpe(e){for(var t="",n=0;n<e.length;n++){var r=e[n];if(n===1&&r==="-"&&e[0]==="-")return e;Sqt(r)?t+="-"+r.toLowerCase():t+=r}return t.startsWith("ms-")?"-"+t:t}var sFe=function(e){return e==null||e===!1||e===""},aFe=function(e){var t,n,r=[];for(var i in e){var o=e[i];e.hasOwnProperty(i)&&!sFe(o)&&(Array.isArray(o)&&o.isCss||OC(o)?r.push("".concat(Mpe(i),":"),o,";"):Z4(o)?r.push.apply(r,t9(t9(["".concat(i," {")],aFe(o),!1),["}"],!1)):r.push("".concat(Mpe(i),": ").concat((t=i,(n=o)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||t in UKt||t.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function Lw(e,t,n,r){if(sFe(e))return[];if(Vte(e))return[".".concat(e.styledComponentId)];if(OC(e)){if(!OC(o=e)||o.prototype&&o.prototype.isReactComponent||!t)return[e];var i=e(t);return Lw(i,t,n,r)}var o;return e instanceof xqt?n?(e.inject(n,r),[e.getName(r)]):[e]:Z4(e)?aFe(e):Array.isArray(e)?Array.prototype.concat.apply(H8,e.map(function(s){return Lw(s,t,n,r)})):[e.toString()]}function _qt(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(OC(n)&&!Vte(n))return!1}return!0}var Cqt=XNe(z8),Eqt=function(){function e(t,n,r){this.rules=t,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&_qt(t),this.componentId=n,this.baseHash=u2(Cqt,n),this.baseStyle=r,rFe.registerId(n)}return e.prototype.generateAndInjectStyles=function(t,n,r){var i=this.baseStyle?this.baseStyle.generateAndInjectStyles(t,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))i=Ab(i,this.staticRulesId);else{var o=Ppe(Lw(this.rules,t,n,r)),s=lZ(u2(this.baseHash,o)>>>0);if(!n.hasNameForId(this.componentId,s)){var a=r(o,".".concat(s),void 0,this.componentId);n.insertRules(this.componentId,s,a)}i=Ab(i,s),this.staticRulesId=s}else{for(var l=u2(this.baseHash,r.hash),u="",c=0;c<this.rules.length;c++){var f=this.rules[c];if(typeof f=="string")u+=f;else if(f){var p=Ppe(Lw(f,t,n,r));l=u2(l,p+c),u+=p}}if(u){var g=lZ(l>>>0);n.hasNameForId(this.componentId,g)||n.insertRules(this.componentId,g,r(u,".".concat(g),void 0,this.componentId)),i=Ab(i,g)}}return i},e}(),lFe=ne.createContext(void 0);lFe.Consumer;var kz={};function kqt(e,t,n){var r=Vte(e),i=e,o=!Ez(e),s=t.attrs,a=s===void 0?H8:s,l=t.componentId,u=l===void 0?function(w,P){var M=typeof w!="string"?"sc":Spe(w);kz[M]=(kz[M]||0)+1;var R="".concat(M,"-").concat(YKt(z8+M+kz[M]));return P?"".concat(P,"-").concat(R):R}(t.displayName,t.parentComponentId):l,c=t.displayName,f=c===void 0?function(w){return Ez(w)?"styled.".concat(w):"Styled(".concat(XKt(w),")")}(e):c,p=t.displayName&&t.componentId?"".concat(Spe(t.displayName),"-").concat(t.componentId):t.componentId||u,g=r&&i.attrs?i.attrs.concat(a).filter(Boolean):a,v=t.shouldForwardProp;if(r&&i.shouldForwardProp){var y=i.shouldForwardProp;if(t.shouldForwardProp){var S=t.shouldForwardProp;v=function(w,P){return y(w,P)&&S(w,P)}}else v=y}var C=new Eqt(n,p,r?i.componentStyle:void 0);function _(w,P){return function(M,R,D){var H=M.attrs,O=M.componentStyle,z=M.defaultProps,G=M.foldedComponentIds,ee=M.styledComponentId,X=M.target,se=ne.useContext(lFe),B=Tpe(),q=M.shouldForwardProp||B.shouldForwardProp,U=KKt(R,se,z)||DC,K=function(ue,ce,we){for(var Me,Be=ec(ec({},ce),{className:void 0,theme:we}),ge=0;ge<ue.length;ge+=1){var ye=OC(Me=ue[ge])?Me(Be):Me;for(var _e in ye)Be[_e]=_e==="className"?Ab(Be[_e],ye[_e]):_e==="style"?ec(ec({},Be[_e]),ye[_e]):ye[_e]}return ce.className&&(Be.className=Ab(Be.className,ce.className)),Be}(H,R,U),J=K.as||X,oe={};for(var he in K)K[he]===void 0||he[0]==="$"||he==="as"||he==="theme"&&K.theme===U||(he==="forwardedAs"?oe.as=K.forwardedAs:q&&!q(he,J)||(oe[he]=K[he]));var me=function(ue,ce){var we=Tpe(),Me=ue.generateAndInjectStyles(ce,we.styleSheet,we.stylis);return Me}(O,K),re=Ab(G,ee);return me&&(re+=" "+me),K.className&&(re+=" "+K.className),oe[Ez(J)&&!ZNe.has(J)?"class":"className"]=re,oe.ref=D,h.createElement(J,oe)}(k,w,P)}_.displayName=f;var k=ne.forwardRef(_);return k.attrs=g,k.componentStyle=C,k.displayName=f,k.shouldForwardProp=v,k.foldedComponentIds=r?Ab(i.foldedComponentIds,i.styledComponentId):"",k.styledComponentId=p,k.target=r?i.target:e,Object.defineProperty(k,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(w){this._foldedDefaultProps=r?function(P){for(var M=[],R=1;R<arguments.length;R++)M[R-1]=arguments[R];for(var D=0,H=M;D<H.length;D++)uZ(P,H[D],!0);return P}({},i.defaultProps,w):w}}),Ute(k,function(){return".".concat(k.styledComponentId)}),o&&tFe(k,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),k}function Lpe(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n}var Ape=function(e){return Object.assign(e,{isCss:!0})};function V8(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(OC(e)||Z4(e))return Ape(Lw(Lpe(H8,t9([e],t,!0))));var r=e;return t.length===0&&r.length===1&&typeof r[0]=="string"?Lw(r):Ape(Lw(Lpe(r,t)))}function dZ(e,t,n){if(n===void 0&&(n=DC),!t)throw A5(1,t);var r=function(i){for(var o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];return e(t,n,V8.apply(void 0,t9([i],o,!1)))};return r.attrs=function(i){return dZ(e,t,ec(ec({},n),{attrs:Array.prototype.concat(n.attrs,i).filter(Boolean)}))},r.withConfig=function(i){return dZ(e,t,ec(ec({},n),i))},r}var uFe=function(e){return dZ(kqt,e)},wu=uFe;ZNe.forEach(function(e){wu[e]=uFe(e)});var Pqt=({title:e,...t})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",height:"1em",width:"1em",...t,children:[d.jsx("path",{d:"M0 0h24v24H0z",fill:"none"}),d.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),e?d.jsx("title",{children:e}):null]}),$qt=({title:e,...t})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 96 960 960",height:"1em",width:"1em",...t,children:[d.jsx("path",{d:"M0 0h24v24H0z",fill:"none"}),d.jsx("path",{d:"M674.5 1017.91V861.5h-389q-37.783 0-64.391-26.609Q194.5 808.283 194.5 770.5v-389H38.087v-91H194.5V134.087h91V770.5h636.413v91H765.5v156.41h-91Zm0-327.41v-309h-309v-91h309q37.783 0 64.391 26.609Q765.5 343.717 765.5 381.5v309h-91Z"}),e?d.jsx("title",{children:e}):null]}),Tqt=({title:e,...t})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",viewBox:"0 0 24 24",...t,children:[d.jsx("path",{d:"M0 0h24v24H0z",fill:"none"}),d.jsx("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z",fill:"currentColor"}),e?d.jsx("title",{children:e}):null]}),Mqt=({title:e,...t})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",viewBox:"0 0 24 24",...t,children:[d.jsx("path",{d:"M0 0h24v24H0z",fill:"none"}),d.jsx("path",{d:"M19 13H5v-2h14v2z",fill:"currentColor"}),e?d.jsx("title",{children:e}):null]}),Lqt=({title:e,...t})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",viewBox:"0 0 24 24",...t,children:[d.jsx("path",{d:"M0 0h24v24H0z",fill:"none"}),d.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z",fill:"currentColor"}),e?d.jsx("title",{children:e}):null]}),Aqt=({title:e,...t})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",height:"1em",width:"1em",viewBox:"0 0 24 24",...t,children:[d.jsx("path",{d:"M0 0h24v24H0z",fill:"none"}),d.jsx("path",{d:"M17.66,9.53l-7.07,7.07l-4.24-4.24l1.41-1.41l2.83,2.83l5.66-5.66L17.66,9.53z M4,12c0-2.33,1.02-4.42,2.62-5.88L9,8.5v-6H3 l2.2,2.2C3.24,6.52,2,9.11,2,12c0,5.19,3.95,9.45,9,9.95v-2.02C7.06,19.44,4,16.07,4,12z M22,12c0-5.19-3.95-9.45-9-9.95v2.02 c3.94,0.49,7,3.86,7,7.93c0,2.33-1.02,4.42-2.62,5.88L15,15.5v6h6l-2.2-2.2C20.76,17.48,22,14.89,22,12z"}),e?d.jsx("title",{children:e}):null]}),Ipe=({style:e})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",height:"1rem",viewBox:"0 0 24 24",width:"1rem",fill:"#000000",style:e,children:[d.jsx("path",{d:"M0 0h24v24H0z",fill:"none"}),d.jsx("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"})]}),Em=wu.button`
  padding: 0.8em;
  font-size: 1em;
  line-height: 1em;
  border: none;
  background: rgba(255, 255, 255, 0.6);
  display: flex;
  box-shadow: 0 2px 3px 0 rgba(0, 0, 0, 0.15);
  border-radius: 3px;
  backdrop-filter: blur(5px);
  transition: background 500ms;
  &:focus {
    outline: 2px solid #ff9999;
  }

  &:disabled {
    opacity: 0.5;
    img {
      opacity: 0.5;
    }
  }

  &[data-control="previous"] {
    view-transition-name: "previous-canvas";
  }
  &[data-control="next"] {
    view-transition-name: "next-canvas";
  }

  ${e=>e.$active&&V8`
      transition: none;
      background: #5197d8;
      color: #fff;
      &:hover {
        background: #5197d8;
        color: #fff;
      }
    `}
`,Iqt=wu.div`
  display: flex;
  position: absolute;
  top: 1em;
  right: 1em;
  z-index: 20;

  & > * ~ * {
    margin-left: 0.5em;
  }
`;function Rqt({refresh:e,toggleEditMode:t,editMode:n,createMode:r,onNext:i,onPrevious:o,editIcon:s,clearSelection:a,enableNavigation:l,style:u,creatingAnnotation:c,toggleCreateAnnotation:f}){let p=NT();return d.jsxs(Iqt,{style:u,children:[f&&!n?d.jsx(Em,{"data-control":"create",onClick:f,$active:c,children:r?"Clear":"Create annotation"}):null,t?d.jsxs(d.Fragment,{children:[d.jsx(Em,{"data-control":"edit",onClick:t,$active:n,children:n?"Finish editing":s?d.jsx(Pqt,{title:"Edit mode"}):d.jsx($qt,{title:"Edit mode"})}),a&&n?d.jsx(Em,{"data-control":"edit-clear",onClick:a,children:"Clear"}):null]}):null,e?d.jsx(Em,{onClick:e,children:d.jsx(Aqt,{title:"Refresh viewer"})}):null,d.jsx(Em,{"data-control":"home",onClick:()=>p==null?void 0:p.runtime.world.goHome(),children:d.jsx(Tqt,{title:"Home"})}),d.jsx(Em,{"data-control":"zoom-out",onClick:()=>p==null?void 0:p.runtime.world.zoomTo(1/.75),children:d.jsx(Mqt,{title:"Zoom out"})}),d.jsx(Em,{"data-control":"zoom-in",onClick:()=>p==null?void 0:p.runtime.world.zoomTo(.75),children:d.jsx(Lqt,{title:"Zoom in"})}),l?d.jsxs(d.Fragment,{children:[d.jsx(Em,{"data-control":"previous",disabled:!o,onClick:o,children:d.jsx(Ipe,{})}),d.jsx(Em,{"data-control":"next",disabled:!i,onClick:i,children:d.jsx(Ipe,{style:{transform:"rotate(180deg)"}})})]}):null]})}var Dqt=e=>d.jsxs("svg",{...e,viewBox:"4 4 16 16",xmlns:"http://www.w3.org/2000/svg",height:"1em",width:"1em",children:[e.title?d.jsx("title",{children:e.title}):null,d.jsx("path",{d:"M0 0h24v24H0z",fill:"none"}),d.jsx("path",{d:"M8 5v14l11-7z",fill:"currentColor"})]}),Oqt=e=>d.jsxs("svg",{...e,viewBox:"4 4 16 16",xmlns:"http://www.w3.org/2000/svg",height:"1em",width:"1em",children:[e.title?d.jsx("title",{children:e.title}):null,d.jsx("path",{d:"M0 0h24v24H0z",fill:"none"}),d.jsx("path",{fill:"currentColor",d:"M6 19h4V5H6v14zm8-14v14h4V5h-4z"})]}),jqt=({title:e,...t})=>d.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",height:"1em",width:"1em",viewBox:"2 2 20 20",children:[e?d.jsx("title",{children:e}):null,d.jsx("path",{d:"M0 0h24v24H0z",fill:"none"}),d.jsx("path",{fill:"currentColor",d:"M3 9v6h4l5 5V4L7 9H3zm13.5 3A4.5 4.5 0 0 0 14 7.97v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"})]}),Nqt=({title:e,...t})=>d.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",height:"1em",width:"1em",viewBox:"2 2 20 20",children:[e?d.jsx("title",{children:e}):null,d.jsx("path",{d:"M0 0h24v24H0z",fill:"none"}),d.jsx("path",{fill:"currentColor",d:"M18.5 12c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM5 9v6h4l5 5V4L9 9H5z"})]}),Fqt=({title:e,...t})=>d.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",height:"1em",width:"1em",viewBox:"2 2 20 20",children:[e?d.jsx("title",{children:e}):null,d.jsx("path",{d:"M0 0h24v24H0z",fill:"none"}),d.jsx("path",{fill:"currentColor",d:"M16.5 12A4.5 4.5 0 0 0 14 7.97v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51A8.796 8.796 0 0 0 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3 3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06a8.99 8.99 0 0 0 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4 9.91 6.09 12 8.18V4z"})]}),Bqt=wu.div`
  background: #ededed; // Not in variable.
  display: flex;
  padding: 0.5em;
  align-items: center;
`,cFe=wu.button`
  cursor: pointer;
  padding: 0.75em 1.5em;
  font-size: 0.938em;
  background: none;
  color: inherit;
  border: none;
  text-decoration: none;
  display: inline-block;
  vertical-align: top;
  white-space: nowrap;
`,zqt=wu(cFe)`
  width: 2em;
  height: 2em;
  overflow: hidden;
  font-size: 1.1em;
  background: #fff;
  border-radius: 3px;
  padding: 0;
  margin: 0;
  color: #000; // Not in colours

  &:disabled {
    color: #999;
  }
`,Rpe=wu.div`
  margin: 0 1em;
  font-size: 0.85em;
  color: #000;
`,Hqt=wu.div`
  flex: 1 1 0px;
  height: 6px;
  display: flex;
  position: relative;
  padding: 15px 0;
`,Vqt=wu.div`
  background: #d85680;
  height: 6px;
  pointer-events: none;
  position: absolute;
  top: 13px;
  left: 0;
  border-radius: 3px;
  transition: width 200ms;
`,Uqt=wu.div`
  position: absolute;
  top: 13px;
  left: 0;
  height: 6px;
  border-radius: 3px;
  width: 100%;
  pointer-events: none;
  background: #fff;
`,Wqt=wu(cFe)`
  width: 2em;
  height: 2em;
  overflow: hidden;
  font-size: 1.1em;
  background: transparent;
  border-radius: 3px;
  padding: 0;
  margin: 0;
`,Kqt=wu.div`
  display: flex;
  align-items: center;
`,qqt=wu.div`
  width: 0;
  overflow: hidden;
  transition: width 500ms;
  color: #4a473f; // Not in colours

  ${e=>e.$isOpen&&V8`
      width: 150px;
    `}
`,Gqt=wu.input.attrs({type:"range"})`
  width: 120px;
  margin: 0 15px;
`,Zqt=V8`
  clip: rect(1px, 1px, 1px, 1px);
  clip-path: inset(50%);
  height: 1px;
  width: 1px;
  margin: -1px;
  overflow: hidden;
  padding: 0;
  position: absolute;
`,Yqt=wu.label`
  ${Zqt}
`;function Xqt(e){let[t,n]=h.useState(!1),{progress:r,currentTime:i,element:o}=hQ(),{duration:s,isMuted:a,volume:l,isPlaying:u,playRequested:c}=dQ(),{setVolume:f,toggleMute:p,play:g,pause:v,setDurationPercent:y}=fQ(),S=a||l===0?Fqt:l>50?jqt:Nqt;return h.useLayoutEffect(()=>{var C;if(o.current){let _=o.current;if(_.error&&e.onError){e.onError(((C=_.error)==null?void 0:C.message)||"Unknown error");return}let k=()=>{var P;e.onError&&e.onError(((P=_.error)==null?void 0:P.message)||"Unknown error")},w=()=>{_.duration&&e.onDuration&&e.onDuration(_.duration),e.onDimensions&&_ instanceof HTMLVideoElement&&e.onDimensions(_.videoWidth,_.videoHeight)};return _.addEventListener("loadedmetadata",w),_.addEventListener("error",k),()=>{_.removeEventListener("loadedmetadata",w),_.removeEventListener("error",k)}}},[]),d.jsxs(Bqt,{children:[d.jsx(zqt,{disabled:c,onClick:()=>{u?v():g()},children:c?d.jsx(O8,{stroke:"#999"}):u?d.jsx(Oqt,{title:"Pause"}):d.jsx(Dqt,{title:"Play"})}),d.jsx(Rpe,{ref:i,children:"0:00"}),d.jsxs(Hqt,{onClick:C=>{let{left:_,width:k}=C.currentTarget.getBoundingClientRect(),w=(C.pageX-_)/k;y(w)},children:[d.jsx(Uqt,{}),s?d.jsx(Vqt,{ref:r}):null]}),d.jsx(Rpe,{children:BT(s)}),d.jsxs(Kqt,{onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),children:[d.jsx(qqt,{$isOpen:t,children:d.jsxs("span",{children:[d.jsx(Yqt,{htmlFor:"audio-slider",children:"Change volume"}),d.jsx(Gqt,{id:"audio-slider",role:"slider",disabled:a,min:"0",max:"100",value:l,onChange:C=>f(Number(C.currentTarget.value))})]})}),d.jsx(Wqt,{onClick:()=>p(),children:d.jsx(S,{title:a?"Mute":"Unmute"})})]})]})}function Qqt({highlightStyle:e,regionEnabled:t}){let n=Li(),r=kr(),[i,o]=h.useState(!1),s=bf(),a=yt(s,v=>v.setCurrentSelector),l=yt(s,v=>v.selected),u=yt(s,v=>v.replace),c=h.useRef(null);F3(r);let f=h.useMemo(()=>n?n.items.findIndex(v=>v.id===r.id):-1,[r.id,n]),p=h.useMemo(()=>f!==-1?n==null?void 0:n.items[f+1]:void 0,[f,n]),g=h.useMemo(()=>f!==-1?n==null?void 0:n.items[f-1]:void 0,[f,n]);return d.jsx("div",{className:CKt.CanvasContainer,ref:c,children:d.jsx(Ko.Viewer,{mode:i?"sketch":"explore",children:d.jsx(Do,{canvas:r.id,children:d.jsxs(Ko.RenderCanvas,{strategies:["empty","images","media","textual-content"],renderViewerControls:()=>d.jsx(Rqt,{editMode:i,enableNavigation:f!==-1,toggleEditMode:t?()=>o(v=>!v):void 0,onNext:p?()=>iZ(()=>u(p)):void 0,onPrevious:g?()=>iZ(()=>u(g)):void 0,clearSelection:()=>a(void 0),style:{fontSize:"0.85em"}}),viewControlsDeps:[t,i,f,p,g],renderMediaControls:()=>d.jsx(Xqt,{}),backgroundStyle:{background:"#fff"},alwaysShowBackground:!0,children:[i&&!(l!=null&&l.selector)?d.jsx(iQ,{onCreate:v=>{r&&(a({type:"BoxSelector",spatial:v}),o(!1))}}):null,l!=null&&l.selector&&(l==null?void 0:l.selector.type)==="BoxSelector"?d.jsx(oQ,{region:{...l==null?void 0:l.selector.spatial},isEditing:!0,onSave:v=>a({type:"BoxSelector",spatial:v}),style:e||{border:"1px solid red",background:"rgba(255, 255, 255, .1)"},disableCardinalControls:!0,onClick:()=>{}}):null]})})},r.id)})}function Jqt(e){let t=bf(),n=yt(t,o=>o.selected),r=yt(t,o=>o.history.length>1?o.history[o.history.length-2]:void 0);if(!n||n.type!=="Canvas"||!n.id)return null;let i=d.jsx(Do,{canvas:n.id,children:d.jsx(Qqt,{...e})});return r&&r.type==="Manifest"?d.jsx(hh,{manifest:r.id,children:i}):i}var eGt={label:"Copy to clipboard",action:e=>navigator.clipboard.writeText(typeof e=="string"?e:JSON.stringify(e,null,2))},tGt={label:"Select",action:(e,t,n)=>n.cb(e)},nGt={label:"Select",action:(e,t,n)=>{n.el&&n.el.current&&(n.el.current.value=typeof e=="string"?e:JSON.stringify(e))}},rGt={label:"Open",action:(e,t,n,r)=>{let i=n.urlPattern||"{RESULT}",o=r.get(t,{skipSelfReturn:!1}),s=t.parent,a="",l="",u="",c="";if(t.type==="Canvas"&&t.selector&&t.selector.spatial&&(c=[~~t.selector.spatial.x,~~t.selector.spatial.y,~~(t.selector.spatial.width||1),~~(t.selector.spatial.height||1)].join(",")),(s==null?void 0:s.type)==="Manifest"){u=s==null?void 0:s.id,a=e;let g=r.get(u);if(g){let v=g.items.findIndex(y=>y.id===a);v!==-1&&(l=`${v}`)}}else u=e;let f=i.replace(/{RESULT}/,e);f=f.replace(/{MANIFEST}/,u||""),f=f.replace(/{CANVAS}/,a||""),f=f.replace(/{CANVAS_INDEX}/,l||""),f=f.replace(/{XYWH}/,c||"");let p=window.open(f,n.target||"_blank",n.features||"noreferrer");n.cb&&n.cb(o,p)}},iGt={clipboard:eGt,callback:tGt,input:nGt,"open-new-window":rGt},oGt={label:"URL",supportedTypes:["Collection","Manifest","Canvas","ImageService"],format:async(e,t)=>{let n=e.parent;return t.resolvable&&(e.type!=="Manifest"||e.type!=="Collection"||e.type!=="ImageService")?n.id||n["@id"]:e.id||e["@id"]}},sGt={label:"Content state",supportedTypes:["Collection","Manifest","Canvas","CanvasRegion","CanvasList"],format:async(e,t,n)=>{let r=n.get(e,{skipSelfReturn:!1}),i=e.parent,o={"@context":"http://iiif.io/api/presentation/3/context.json",id:"",type:"Annotation",motivation:["contentState"],target:{}};return r.type==="Collection"&&(o.target={id:r.id,type:"Collection"}),r.type==="Manifest"&&(e.listing&&e.listing.length?o.target=e.listing.map(s=>Dpe(s,n.get(s),s.parent||r)):o.target={id:r.id,type:"Manifest"}),r.type==="Canvas"&&(o.target=Dpe(e,r,i)),t.encoded?lCe(o):JSON.stringify(o)}};function Dpe(e,t,n){let r="";return e.selector&&e.selector.type==="BoxSelector"&&(r=`#xywh=${[e.selector.spatial.x,e.selector.spatial.y,e.selector.spatial.width,e.selector.spatial.height].join(",")}`),n&&n.type==="Manifest"?{id:t.id+r,type:"Canvas",partOf:[{id:n.id,type:"Manifest"}]}:{id:t.id+r,type:"Canvas"}}var aGt={label:"JSON",supportedTypes:["Manifest","Canvas","CanvasList"],format:async(e,t,n)=>{let r=typeof e.listing<"u"?n.get(e.listing,{skipSelfReturn:!1}):n.get(e,{skipSelfReturn:!1});return e.parent,JSON.stringify(r,null,t.pretty?2:0)}},lGt={label:"Custom",format:(e,t,n)=>{t.format(e,e.parent,n)},supportedTypes:["Collection","Manifest","Canvas","ImageService","CanvasRegion","ImageServiceRegion"]},uGt={label:"Thumbnail",format:async(e,t,n)=>{let r=await n1(n).getBestThumbnailAtSize(e,t.options||{width:256});return r.best?r.best.id:null},supportedTypes:["Manifest","Canvas","ImageService"]},cGt=Object.defineProperty,dGt=(e,t,n)=>t in e?cGt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,kL=(e,t,n)=>(dGt(e,typeof t!="symbol"?t+"":t,n),n);function yy(e){return e.endsWith("info.json")?e:e.endsWith("/")?`${e}info.json`:`${e}/info.json`}var fGt="http://library.stanford.edu/iiif/image-api/compliance.html#level0",dFe="http://library.stanford.edu/iiif/image-api/compliance.html#level1",fFe="http://library.stanford.edu/iiif/image-api/compliance.html#level2",hGt="http://library.stanford.edu/iiif/image-api/conformance.html#level0",hFe="http://library.stanford.edu/iiif/image-api/conformance.html#level1",pFe="http://library.stanford.edu/iiif/image-api/conformance.html#level2",pGt="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0",mFe="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level1",gFe="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level2",mGt="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level0",vFe="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level1",yFe="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level2",gGt="http://iiif.io/api/image/1/level0.json",vGt="http://iiif.io/api/image/1/profiles/level0.json",bFe="http://iiif.io/api/image/1/level1.json",wFe="http://iiif.io/api/image/1/profiles/level1.json",xFe="http://iiif.io/api/image/1/level2.json",SFe="http://iiif.io/api/image/1/profiles/level2.json",yGt="http://iiif.io/api/image/2/level0.json",bGt="http://iiif.io/api/image/2/profiles/level0.json",_Fe="http://iiif.io/api/image/2/level1.json",CFe="http://iiif.io/api/image/2/profiles/level1.json",EFe="http://iiif.io/api/image/2/level2.json",kFe="http://iiif.io/api/image/2/profiles/level2.json",wGt="level0",PFe="level1",$Fe="level2",xGt="http://iiif.io/api/image/2/level0",TFe="http://iiif.io/api/image/2/level1",MFe="http://iiif.io/api/image/2/level2",LFe=[MFe,fFe,pFe,gFe,yFe,xFe,SFe,EFe,kFe,$Fe],AFe=[...LFe,TFe,dFe,hFe,mFe,vFe,bFe,wFe,_Fe,CFe,PFe],SGt=[xGt,TFe,MFe,fGt,dFe,fFe,hGt,hFe,pFe,pGt,mFe,gFe,mGt,vFe,yFe,gGt,vGt,bFe,wFe,xFe,SFe,yGt,bGt,_Fe,CFe,EFe,kFe,wGt,PFe,$Fe],_Gt={extraFormats:["jpg"],extraQualities:["default"],extraFeatures:["sizeByWhListed"]},CGt={extraFormats:["jpg"],extraQualities:["default"],extraFeatures:["baseUriRedirect","cors","jsonldMediaType","regionByPx","regionSquare","sizeByWhListed","sizeByH","sizeByW","sizeByWh"]},EGt={extraFormats:["jpg","png"],extraQualities:["default"],extraFeatures:["baseUriRedirect","cors","jsonldMediaType","regionByPct","regionByPx","regionSquare","rotationBy90s","sizeByWhListed","sizeByConfinedWh","sizeByH","sizeByPct","sizeByW","sizeByWh"]};function kGt(e){return LFe.indexOf(e)!==-1?EGt:AFe.indexOf(e)!==-1?CGt:_Gt}function PGt(e){let t=e?Array.isArray(e.profile)?e.profile:[e.profile]:[],n={extraQualities:[],extraFormats:[],extraFeatures:[]};for(let r of t)if(typeof r=="string"&&(r=kGt(r)),!!r){if(r.formats)for(let i of r.formats)n.extraFormats.indexOf(i)===-1&&n.extraFormats.push(i);if(r.qualities)for(let i of r.qualities)n.extraQualities.indexOf(i)===-1&&n.extraQualities.push(i);if(r.supports)for(let i of r.supports)n.extraFeatures.indexOf(i)===-1&&n.extraFeatures.push(i);if(r.maxHeight&&(n.maxHeight=r.maxHeight),r.maxWidth&&(n.maxWidth=r.maxWidth),r.maxArea&&(n.maxArea=r.maxArea),r.extraFormats)for(let i of r.extraFormats)n.extraFormats.indexOf(i)===-1&&n.extraFormats.push(i);if(r.extraQualities)for(let i of r.extraQualities)n.extraQualities.indexOf(i)===-1&&n.extraQualities.push(i);if(r.extraFeatures)for(let i of r.extraFeatures)n.extraFeatures.indexOf(i)===-1&&n.extraFeatures.push(i);r.maxHeight&&(n.maxHeight=r.maxHeight),r.maxWidth&&(n.maxWidth=r.maxWidth),r.maxArea&&(n.maxArea=r.maxArea)}if(e.extraFormats)for(let r of e.extraFormats)n.extraFormats.indexOf(r)===-1&&n.extraFormats.push(r);if(e.extraFeatures)for(let r of e.extraFeatures)n.extraFeatures.indexOf(r)===-1&&n.extraFeatures.push(r);if(e.extraQualities)for(let r of e.extraQualities)n.extraQualities.indexOf(r)===-1&&n.extraQualities.push(r);return n}function $Gt(e){try{if(e==="full")return{full:!0};if(e==="square")return{square:!0};let t=e.startsWith("pct:"),n=e.substr(t?4:0).split(",").map(r=>parseFloat(r));return{x:n[0],y:n[1],w:n[2],h:n[3],percent:t}}catch{throw new Error("Expected 'full', 'square' or 'x,y,w,h'. Found "+e)}}function TGt(e){let t={upscaled:!1,max:!1,confined:!1};if(e[0]==="^"&&(t.upscaled=!0,e=e.slice(1)),e==="max"||e==="full")return t.max=!0,t.serialiseAsFull=e==="full",t;if(e[0]==="!"&&(t.confined=!0,e=e.slice(1)),e[0]==="p")return t.percentScale=parseFloat(e.slice(4)),t;let n=e.split(",").map(r=>r.trim());return n.length&&typeof n[0]<"u"&&(n[0]!==""&&(t.width=parseInt(n[0],10)),typeof n[1]<"u"&&n[1]!==""?(t.height=parseInt(n[1],10),t.version=2):t.version=3),t}function MGt(e){let t={angle:0};if(e[0]==="!"&&(t.mirror=!0,e=e.substr(1)),t.angle=parseFloat(e)%360,Number.isNaN(t.angle))throw new Error(`Invalid rotation ${e}`);return t}function LGt(e,t=""){let n=e.match(/^(([a-zA-Z]+):\/\/([^/]+))?((.*)+)/);if(!n)throw new Error(`Invalid or unknown input ${e}`);let r=n[2],i=n[3],o=n[4];if(o[0]==="/"&&(o=o.substring(1)),t.length>0){if(t[0]==="/"&&(t=t.substring(1)),t!==o.substring(0,t.length))throw new Error(`Path does not start with prefix (path: ${o}, prefix: ${t})`);o=o.substring(t.length)}return{scheme:r,server:i,path:o,prefix:t}}function AGt(e,t=""){let{path:n,scheme:r,server:i,prefix:o}=LGt(e,t),s=(n||"").split("/").reverse(),[a,l,u,c,...f]=s,p=f.reverse().filter(Boolean).join("/");if(s.length===1||a==="")return{type:"base",scheme:r,server:i,prefix:o,identifier:p};if(a==="info.json"){let[,...v]=s;return{type:"info",scheme:r,server:i,prefix:o,identifier:v.reverse().filter(Boolean).join("/")}}let g=(a||"").split(".");if(typeof g[1]>"u"||typeof g[0]>"u"||typeof c>"u"||typeof u>"u"||typeof l>"u")throw new Error("Invalid image request");return{type:"image",scheme:r,server:i,prefix:o,identifier:p,originalPath:n,region:$Gt(c),size:TGt(u),rotation:MGt(l),quality:g[0],format:g[1]}}function IGt(e){let t=AGt(yy(e.id));if(t.type!=="info")throw new Error("Invalid service URL");let n=PGt(e);return{identifier:t.identifier,originalPath:"",server:t.server,prefix:t.prefix,scheme:t.scheme,type:"image",quality:n.extraQualities.indexOf("default")===-1?n.extraQualities[0]:"default",region:{full:!0},size:{max:!0,upscaled:!1,confined:!1},format:"jpg",rotation:{angle:0}}}function RGt(e,t,n){let r=n.length,i=[];for(let o=0;o<r;o++){let s=n[o];if(s){let a=s.width;i.push(e/a)}}return i}function DGt(e,t,n){let r=n.length,i=[];for(let o=0;o<r;o++){let s=n[o];s&&i.push({width:Math.floor(e/s),height:Math.floor(t/s)})}return i}function rs(e){if(e["@id"])return e["@id"];if(e.id)return e.id}function U8(e){if(!e||!e.profile||!rs(e))return!1;let t=Array.isArray(e.profile)?e.profile:[e.profile];for(let n of t)if(typeof n=="string"&&SGt.indexOf(n)!==-1)return!0;return!1}function OGt(e){if(!U8(e))return!1;let t=Array.isArray(e.profile)?e.profile:[e.profile];for(let n of t)if(typeof n=="string"){if(AFe.indexOf(n)!==-1)return!0}else{let r=[...n.supports||[],...n.extraFeatures||[]];if(r.indexOf("regionByPx")!==-1&&(r.indexOf("sizeByW")!==-1||r.indexOf("sizeByWh")!==-1))return!0}return!1}function EI(e,t){if(t&&t.profile){let n=t.profile;if(n){let r=Array.isArray(n)?n:[n];return r.includes(`level${e}`)||r.includes(`http://iiif.io/api/image/2/level${e}.json`)||r.includes(`http://iiif.io/api/image/1/level${e}.json`)||r.includes(`http://iiif.io/api/image/1/profiles/level${e}.json`)}}return!1}function fZ(e){return U8(e)?EI(0,e)?0:EI(1,e)?1:EI(2,e)?2:null:null}function IFe(e){return(e["@context"]?Array.isArray(e["@context"])?e["@context"]:[e["@context"]]:[]).indexOf("http://iiif.io/api/image/3/context.json")!==-1}function jGt(e){if(!OGt(e))return[];let t=[],n=Array.isArray(e.profile)?e.profile:[e.profile],r=n.length;for(let i=0;i<r;i++){let o=n[i];if(o&&typeof o!="string"&&(o.maxHeight||o.maxWidth))return[{id:rs(e),type:"variable",minWidth:0,minHeight:0,maxHeight:o.maxHeight||o.maxWidth,maxWidth:o.maxWidth||o.maxHeight,level:fZ(e),version:e["@context"]==="http://iiif.io/api/image/3/context.json"?3:2}]}if(e.tiles){let i=e.tiles.length;for(let o=0;o<i;o++){let s=e.tiles[o];s&&(s.height||s.width)&&t.push({id:rs(e),type:"variable",minHeight:0,minWidth:0,maxHeight:s.height||s.width,maxWidth:s.width,level:fZ(e),version:IFe(e)?3:2})}}return t}function Ope(e){let t=/^.*\/(full)\/(((\d+),(\d+)?)|max)\/(\d+)\/default\.(jpg|png|jpeg)$/,n=e.match(t);if(n&&n[4]&&n[5]){let r=n[1],i=parseInt(n[4],10),o=parseInt(n[5],10),s=n[7];if((r==="max"||r==="full")&&i&&o&&s)return{type:"fixed",id:e,height:o,width:i}}return{type:"unknown",id:e}}function NGt(e){if(e["@type"])return e["@type"];if(e.type)return e.type}function FGt(e){if(typeof e=="string")return Ope(e);let t=NGt(e);if(t!=="Image"&&t!=="sc:Image")return null;let n=e,r=rs(n);return r?r&&n.width&&n.height?{id:r,type:"fixed",width:n.width,height:n.height,unsafe:!0}:Ope(r):null}function BGt(e){return U8(e)?(e&&e.sizes?e.sizes:[]).map(t=>({id:rs(e),type:"fixed-service",height:t.height,width:t.width,level:fZ(e),version:IFe(e)?3:2})):[]}function jpe(e){let t=[],n=e.length;for(let r=0;r<n;r++){let i=e[r];if(!i)continue;let o=BGt(i);o.length&&t.push(...o);let s=jGt(i);s.length&&t.push(...s)}return t}function Wte(e){let t=e.service?Array.isArray(e.service)?e.service:[e.service]:[],n=t.length,r=[];for(let i=0;i<n;i++)U8(t[i])&&r.push(t[i]);return r}function zGt(e,t=!0,n){let r=[],i=FGt(e);if(i===null)return r;let o=e;if(r.push(i),t&&o&&o.width&&o.height){let s=[],a=Wte(o);for(let l of a){let u={id:rs(l),width:o.width,height:o.height};if(n.canLoadSync(u)){let c=n.loadServiceSync(u);c&&(c.height||(c.height=o.height),c.width||(c.width=o.width),s.push(...jpe([c])))}}if(s.length)return r.push(...s),r}return o.service&&r.push(...jpe(o.service)),r}function HGt({x:e=0,y:t=0,w:n,h:r,full:i,square:o,percent:s}){if(i)return"full";if(o)return"square";if(typeof n>"u"||typeof r>"u")throw new Error("RegionParameter: invalid region");let a=`${e},${t},${n},${r}`;return s?`pct:${a}`:a}function VGt({max:e,percentScale:t,upscaled:n,confined:r,width:i,height:o,serialiseAsFull:s,version:a}){let l=[];return n&&l.push("^"),e?(l.push(s?"full":"max"),l.join("")):(r&&l.push("!"),t&&l.push(`pct:${t}`),i&&l.push(`${i}`),l.push(","),o&&a===3&&l.push(`${o}`),l.join(""))}function UGt(e){return`${e.mirror?"!":""}${(e.angle||0)%360}`}function WGt(e,t){let n=e.prefix.startsWith("/")?e.prefix.substr(1):e.prefix,r=`${e.scheme}://${e.server}/${n?`${n}/`:""}${e.identifier}`;if(e.type==="base")return r;if(e.type==="info")return`${r}/info.json`;let{size:i}=e,{region:o,rotation:s,format:a,quality:l}=e;return[r,HGt(o),VGt(i),UGt(s),`${l}.${a}`].filter(Boolean).join("/")}function Pz(e,t,n){let r=IGt({"@context":e.version===3?"http://iiif.io/api/image/3/context.json":"http://iiif.io/api/image/2/context.json",id:yy(rs(e)),profile:e.level===null||typeof e.level>"u"?"level0":`level${e.level}`,type:e.version===3?"ImageService3":"ImageService2"});if(r.type!=="image")throw new Error("Invalid service");return r.size.max=!1,r.size.width=t,r.size.height=n,{id:WGt(r),type:"fixed",width:t,height:n||e.height/(e.width||1)*t,unsafe:e.width>t}}function kS(e){let t=e.replace(/(https?:\/\/)?(www.)?/i,"");return t.indexOf("/")!==-1?t.split("/")[0]:t}function KGt(e,t,n){let r=e.width?e.width:e.maxWidth;return n.height<=e.maxHeight&&n.width<=e.maxWidth&&n.height>=e.minHeight&&n.width>=e.minWidth&&(!t||Math.abs(n.width-r)<Math.abs(t.width-r))}function qGt(e,t){let n=[],r=Object.assign({unsafeImageService:!1,atAnyCost:!0,fallback:!0,minHeight:64,minWidth:64,maxHeight:1/0,maxWidth:1/0,returnAllOptions:!1,preferFixedSize:!1,allowUnsafe:!1,explain:!1,height:0,width:0},e),i=(c,f=0)=>r.explain?n.push(new Array(f).fill(0).map(p=>"    ").join("")+c().trim()):void 0,o=[],s=[],a=null;i(()=>`Using configuration: ${JSON.stringify(r,null,2)}`);let l=(c,f)=>{if(i(()=>"Swapping choice",3),KGt(r,f,c)){if(r.preferFixedSize&&c.unsafe){i(()=>`We found an image that was marked as unsafe, but it was the best size. (${c.id})`,4),s.push(c);return}r.returnAllOptions&&f&&s.push(f),i(()=>`We found a new image that was the best size. (${c.id})`,4),a=c}else r.returnAllOptions&&s.push(c)};i(()=>`The input shows we have ${t.length} list(s) of candidates to choose from.`);let u=t.length;for(let c=0;c<u;c++){let f=t[c]();i(()=>`Candidate group ${c}: ${JSON.stringify(f,null,2)}`,1);let p=f.length;i(()=>`Checking candidate list number ${c} and found ${p} potential ways of creating image(s)`,1);for(let g=0;g<p;g++){let v=f[g];if(i(()=>`-> Checking candidate ${g}`,1),v.type==="unknown"&&r.atAnyCost&&(i(()=>`We've found an unknown image type, adding this to the "last resort" list`,2),o.push(v)),v.type==="fixed"&&(v.unsafe?(i(()=>`We've found an unsafe fixed image type, adding this to the "last resort" list`,2),o.push(v)):(i(()=>"We've found a fixed size image, checking if it matches the request",2),l(v,a))),v.type==="fixed-service")if(r.unsafeImageService){i(()=>"Checking for an image from the tile source, without calculating the right height and width (unsafeImageService)",2);let y=Pz(v,r.width,r.height);l(y,a)}else{i(()=>"Checking for an image from the tile source 3",2);let y=Pz(v,v.width,v.height);l(y,a)}if(v.type==="variable"&&v.maxWidth){let y=Pz({id:v.id,type:"fixed-service",width:v.maxWidth,height:v.maxWidth,level:v.level,version:v.version},v.maxWidth);l(y,a)}}if(a&&!r.returnAllOptions){if(a.unsafe||r.allowUnsafe)continue;i(()=>`We found a match in choice list number ${c}, no searching any more`);break}}return r.atAnyCost&&s.length===0?(i(()=>a?`We found an image! ${a.id} of type ${a.type}`:'We found no images, but "atAnyCost" is set, so returning that'),{best:a||o[0]||null,fallback:o.slice(1),log:n}):r.returnAllOptions?(i(()=>"Returning all options that we have found"),{best:(r.atAnyCost?a||s[0]||o[0]:a||s[0])||null,fallback:[...s,...o],log:n}):(i(()=>"Returning the best image that we found, and a fallback"),{best:a||s[0]||null,fallback:a?s:s.slice(1),log:n})}function GGt(e,t,n){let r=e>t?e:t,i=n.length,o=[];for(let s=0;s<i;s++){let a=n[s];if(!a||a.scaleFactors.length===0)continue;let l=a.scaleFactors[0];if(!l)continue;let u=r/l,c=[l];for(;u>=a.width;)l=l*2,c.push(l),u=u/2;o.push({...a,scaleFactors:c})}return o}function ZGt(e,t){if(e.length!==t.length)return!1;if(e.length===0&&t.length===0)return!0;let n=e.length,r=!0;for(let o=0;o<n;o++){let s=e[o],a=t[o];if(s.width!==a.width||s.height!==a.height){r=!1;break}}if(r)return!0;let i=0;for(let o=0;o<n;o++)for(let s=0;s<n;s++)if(e[o].width===t[s].width&&e[o].height===t[s].height){i++;break}return i===n}function Npe(e){return EI(0,e)}var YGt=class{constructor(e={}){kL(this,"config",{verificationsRequired:1,approximateServices:!1,enableFetching:!0,disableThrottling:!1}),kL(this,"fetchingCount",0),kL(this,"imageServices",{}),kL(this,"knownImageServers",{}),this.config=Object.assign(this.config,e)}setConfig(e){Object.assign(this.config,e)}sample(e,t,n=!0){let r=kS(rs(e)),i=yy(rs(e)),o=this.knownImageServers[r];return this.imageServices[i]=Object.assign(e,{real:!0}),!o&&e.tiles&&!Npe(e)?(this.knownImageServers[r]={verifications:0,malformed:!1,root:r,preLoaded:n,sampledId:rs(e),verified:!1,server:null,result:{context:e["@context"]||[],sampledProfile:e.profile,resourceServiceRatio:t&&e.height?t.height/e.height:1,sampledSizes:e.sizes||[],sizeRatios:RGt(e.width,e.height,e.sizes||[]),sampledTiles:e.tiles||[]}},!0):this.verify(e)}preLoad(e,t=!0){this.knownImageServers[e.root]=e,t&&(this.knownImageServers[e.root].malformed=!1,this.knownImageServers[e.root].verifications=this.config.verificationsRequired)}predict(e,t=!1,n=!1){let r=e==null?void 0:e.source,i=kS(rs(e)),o=this.knownImageServers[i],s=yy(rs(e));return this.imageServices[s]?this.imageServices[s]||null:!this.config.approximateServices||!o||!o.result||!(r!=null&&r.height||e.height)||!(r!=null&&r.width||e.width)||!n&&(o.malformed||o.verifications<this.config.verificationsRequired)||Npe(e.source)?null:(this.imageServices[s]||(this.imageServices[s]={"@context":o.result.context,"@id":rs(e),id:rs(e),protocol:"http://iiif.io/api/image",tiles:(r==null?void 0:r.tiles)||GGt(e.width,e.height,o.result.sampledTiles),sizes:(r==null?void 0:r.sizes)||DGt(Math.round(e.width/o.result.resourceServiceRatio),Math.round(e.height/o.result.resourceServiceRatio),o.result.sizeRatios),profile:(r==null?void 0:r.profile)||o.result.sampledProfile,height:(r==null?void 0:r.height)||e.height,width:(r==null?void 0:r.width)||e.width,real:!1}),this.imageServices[s]||null)}async getThumbnailFromResource(e,t,n=!0,r=[]){let i=e?await this.getImageCandidates(e,n):[];return qGt(t,[()=>r,()=>i])}async getImageCandidates(e,t=!0){let n=e;if(t&&n&&n.height&&n.width){let r=Wte(n);for(let i of r){let o={id:rs(i),width:i.width?i.width:n.width,height:i.height?i.height:n.height,source:i};await this.loadService(o)}}return zGt(e,t,this)}async verify(e){let t=this.predict(e,!1,!0),n=await this.fetchService(rs(e));if(!t)return!1;let r=t.height===n.height&&t.width===n.width&&t["@context"]===n["@context"]&&ZGt(t.sizes||[],n.sizes||[]);if(r){let i=kS(rs(e)),o=this.knownImageServers[i];o&&(o.verifications+=1,o.verifications>=this.config.verificationsRequired&&(o.verified=!0))}return r}canLoadSync(e){let t=typeof e=="string"?e:rs(e),n=yy(t);if(this.imageServices[n])return!0;let r=this.knownImageServers[kS(t)];return!!(r&&!r.malformed&&r.verifications>=this.config.verificationsRequired)}async markAsMalformed(e){return this.knownImageServers[kS(rs(e))].malformed=!0,this.loadService(e,!0)}async fetchService(e,t=!1){let n=yy(e),r=this.imageServices[n];if(r&&(!t||r.real))return r;if(!this.config.enableFetching)throw new Error("Fetching is not enabled");let i=await this.fetch(n).then(o=>o.json());return!i.id&&i["@id"]&&(i.id=i["@id"]),i.id!==e&&(i.id=e,i["@id"]&&(i["@id"]=e)),this.imageServices[n]=Object.assign(i,{real:!0}),this.imageServices[n]}async fetch(e,t){return fetch(e,t)}async loadService(e,t=!1){if(!this.config.disableThrottling){let i=!0;for(;i;)if(this.fetchingCount>=this.config.verificationsRequired)await new Promise(o=>setTimeout(o,500));else{i=!1;break}}let n=this.knownImageServers[kS(rs(e))];if(n&&!n.malformed&&!t){await n.result;let i=this.loadServiceSync(e);if(i)return i}this.fetchingCount++;let r=await this.fetchService(rs(e),t);return this.fetchingCount--,r.real&&this.sample(r,e),r}loadServiceSync(e){let t=yy(rs(e));return this.imageServices[t]?this.imageServices[t]:this.config.approximateServices?this.predict(e):null}};new YGt;var XGt={label:"Image service",format:async(e,t,n)=>{let r=n.get(e),i=WX(n).getPaintables(r).items[0];if(!i)throw new Error("Resource not found");if(i.type!=="image"||i.resource.type!=="Image")throw new Error("Resource is not an image");let o=Wte(i.resource)[0];if(t.allowImageFallback)return i.resource.id||i.resource["@id"];if(!o)throw new Error("Image service not found");let s=o.id||o["@id"];return t.skipCanonical?s:yy(o.id||o["@id"])},supportedTypes:["Canvas","CanvasRegion"]},$z={"content-state":sGt,custom:lGt,json:aGt,url:oGt,thumbnail:uGt,"image-service":XGt},PS={ComboButtonContainer:"ComboButton__ComboButtonContainer",ComboButtonMain:"ComboButton__ComboButtonMain",ComboButtonChoice:"ComboButton__ComboButtonChoice",ComboButtonOverlay:"ComboButton__ComboButtonOverlay",ComboButtonOptionButton:"ComboButton__ComboButtonOptionButton"},QGt=P4.default??P4;function JGt(e){let[t,...n]=e.actions||[],{isOpen:r,buttonProps:i,itemProps:o,setIsOpen:s,moveFocus:a}=QGt(n.length);return t?d.jsxs("div",{className:PS.ComboButtonContainer,children:[d.jsx("button",{className:PS.ComboButtonMain,disabled:e.disabled,"data-only":n.length===0||e.disabled,onClick:t.action,children:t.label}),!e.disabled&&n.length?d.jsx(d.Fragment,{children:d.jsxs("span",{className:PS.ComboButtonChoice,...i,"aria-haspopup":"true","aria-expanded":r,title:"Open for more actions",children:[d.jsx("svg",{viewBox:"0 0 20 20",children:d.jsx("path",{d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",stroke:"#fff"})}),d.jsx("ul",{className:PS.ComboButtonOverlay,"data-open":r,children:n.map((l,u)=>d.jsx("li",{className:PS.ComboButtonOption,children:d.jsx("a",{className:PS.ComboButtonOptionButton,onClick:l.action,...o[u],children:l.label})},u))})]})}):null]}):null}var JE={ResourceActionBarContainer:"ResourceActionBar__ResourceActionBarContainer",ResourceActions:"ResourceActionBar__ResourceActions",ResourceAction:"ResourceActionBar__ResourceAction",ResourceActionMeta:"ResourceActionBar__ResourceActionMeta",ResourceActionLabel:"ResourceActionBar__ResourceActionLabel",ResourceActionDescription:"ResourceActionBar__ResourceActionDescription",ResourceActionComposite:"ResourceActionBar__ResourceActionComposite",ResourceActionCompositeSegment:"ResourceActionBar__ResourceActionCompositeSegment"};function eZt(e){return e.selector&&e.type==="Canvas"?"CanvasRegion":e.listing&&e.listing.length&&e.type==="Manifest"?"CanvasList":e.type}function tZt(e){let t=bf(),n=$n(),r=yt(t,o=>o.history),i=yt(t,o=>o.selected);return Ki(()=>{var l;let o={},s=!1,a=null;for(let u=0;u<r.length;u++){let c=((l=r[u])==null?void 0:l.id)===(i==null?void 0:i.id)?i:r[u],f=u===0?null:r[u-1],p=n.get(c),g=eZt(c);p&&p.type&&e.includes(g)&&(s=!0,o[g]={...c,parent:f},a=g)}return[o,s,a]},[r,i])}function nZt(e){let t=$n(),n=$z[e.format.type],r=h.useMemo(()=>{let u=[];for(let c of e.types)n.supportedTypes.includes(c)&&u.push(c);return u},[e.types,n.supportedTypes]),[i,o,s]=tZt(r),a=s?t.get(i[s]):void 0,l=h.useMemo(()=>(e.targets||[]).map(u=>{let c=iGt[u.type];return u.supportedTypes&&s&&!u.supportedTypes.includes(s)?null:{label:u.label||c.label,action:async()=>{if(s){let f=i[s];if(!f)return;let p=u.format||e.format,g=await(u.format&&$z[p.type]?$z[p.type]:n).format(f,p,t);await c.action(g,f,u,t),e.onSelect&&e.onSelect()}}}}).filter(u=>u!==null),[s,e,n,i,t]);return F3(n),d.jsxs("div",{className:JE.ResourceActionBarContainer,children:[d.jsx("div",{className:JE.ResourceActionMeta,children:o&&a?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:JE.ResourceActionDescription,children:a.label?d.jsx(Fn,{children:a.label}):a.type}),d.jsx("a",{href:a.id,target:"_blank",className:JE.ResourceActionLabel,children:a.id})]}):null}),d.jsx("div",{className:JE.ResourceActions,children:d.jsx(JGt,{actions:l,disabled:!o})})]})}function rZt(){let e=bf(),t=yt(e,n=>n.selected);return(t==null?void 0:t.type)!=="CanvasRegion"?null:d.jsxs("div",{children:["Canvas region ",d.jsx("pre",{children:JSON.stringify(t,null,2)})]})}function RFe({output:e={type:"content-state"},outputTargets:t=[{type:"clipboard",label:"Copy JSON to clipboard",format:{type:"json"}}],outputTypes:n=["Manifest","Canvas","CanvasRegion"],entry:r={type:"Text"},vault:i,onHistory:o,hideHeader:s,allowRemoveEntry:a,homepageCollection:l,clearHomepageCollection:u,highlightStyle:c,height:f,onSelect:p,window:g,onBack:v,hideBack:y}){let[S,C]=h.useState(!1),[_,k]=h.useState(!1),w=a||(r==null?void 0:r.type)==="Text";return d.jsx(Ip,{vault:i,children:d.jsx(aKt,{children:d.jsx(tKt,{entry:r.type!=="Text"?r:void 0,options:{canReset:w,onHistory:o},children:d.jsx("div",{className:CS.mainContainer,onClick:P=>{P.target===P.currentTarget&&k(!1)},children:d.jsxs("div",{className:CS.hoverCardContainer,"data-window":g,"data-float":_,style:{height:f},children:[s?null:d.jsxs("div",{className:CS.hoverCardHeader,children:[d.jsx("div",{className:CS.hoverCardLabel,children:"Select resource"}),d.jsx("div",{className:CS.hoverCardAction,onClick:()=>C(P=>!P),children:d.jsx("svg",{width:"14px",height:"10px",viewBox:"0 0 14 10",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:d.jsx("g",{id:"Design-3.0",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:d.jsx("g",{id:"Artboard",transform:"translate(-1660.000000, -57.000000)",fill:"#9B9B9B",fillRule:"nonzero",children:d.jsx("g",{id:"Group-Copy-7",transform:"translate(1660.000000, 57.000000)",children:d.jsx("path",{d:"M5,10 L5,8 L9,8 L9,10 L5,10 Z M3,6 L3,4 L11,4 L11,6 L3,6 Z M0,2 L0,0 L14,0 L14,2 L0,2 Z",id:"Shape"})})})})})}),d.jsx("div",{className:CS.hoverCardAction,onClick:()=>k(P=>!P),children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"16",viewBox:"0 96 960 960",width:"16",children:d.jsx("path",{d:"M120 936V616h80v184l504-504H520v-80h320v320h-80V352L256 856h184v80H120Z",fill:"#9B9B9B"})})})]}),d.jsx(lKt,{open:S}),d.jsx(yKt,{entry:r,homepageCollection:l,clearHomepageCollection:u,canReset:w,hideBack:y,onBack:v}),d.jsx(hKt,{}),d.jsx(_Kt,{canvasMultiSelect:n==null?void 0:n.includes("CanvasList")}),d.jsx(Jqt,{highlightStyle:c,regionEnabled:n==null?void 0:n.includes("CanvasRegion")}),d.jsx(rZt,{}),d.jsx(nZt,{onSelect:p,targets:t,types:n,format:e})]})})})})})}var iZt=e=>d.jsxs("svg",{...e,viewBox:"4 4 16 16",xmlns:"http://www.w3.org/2000/svg",height:"1em",width:"1em",children:[e.title?d.jsx("title",{children:e.title}):null,d.jsx("path",{d:"M0 0h24v24H0z",fill:"none"}),d.jsx("path",{d:"M8 5v14l11-7z",fill:"currentColor"})]}),oZt=e=>d.jsxs("svg",{...e,viewBox:"4 4 16 16",xmlns:"http://www.w3.org/2000/svg",height:"1em",width:"1em",children:[e.title?d.jsx("title",{children:e.title}):null,d.jsx("path",{d:"M0 0h24v24H0z",fill:"none"}),d.jsx("path",{fill:"currentColor",d:"M6 19h4V5H6v14zm8-14v14h4V5h-4z"})]}),sZt=({title:e,...t})=>d.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",height:"1em",width:"1em",viewBox:"2 2 20 20",children:[e?d.jsx("title",{children:e}):null,d.jsx("path",{d:"M0 0h24v24H0z",fill:"none"}),d.jsx("path",{fill:"currentColor",d:"M3 9v6h4l5 5V4L7 9H3zm13.5 3A4.5 4.5 0 0 0 14 7.97v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"})]}),aZt=({title:e,...t})=>d.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",height:"1em",width:"1em",viewBox:"2 2 20 20",children:[e?d.jsx("title",{children:e}):null,d.jsx("path",{d:"M0 0h24v24H0z",fill:"none"}),d.jsx("path",{fill:"currentColor",d:"M18.5 12c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM5 9v6h4l5 5V4L9 9H5z"})]}),lZt=({title:e,...t})=>d.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",height:"1em",width:"1em",viewBox:"2 2 20 20",children:[e?d.jsx("title",{children:e}):null,d.jsx("path",{d:"M0 0h24v24H0z",fill:"none"}),d.jsx("path",{fill:"currentColor",d:"M16.5 12A4.5 4.5 0 0 0 14 7.97v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51A8.796 8.796 0 0 0 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3 3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06a8.99 8.99 0 0 0 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4 9.91 6.09 12 8.18V4z"})]}),uZt=Se.div`
  background: #ededed; // Not in variable.
  display: flex;
  padding: 0.5em;
  align-items: center;
`,DFe=Se.button`
  cursor: pointer;
  padding: 0.75em 1.5em;
  font-size: 0.938em;
  background: none;
  color: inherit;
  border: none;
  text-decoration: none;
  display: inline-block;
  vertical-align: top;
  white-space: nowrap;
`,cZt=Se(DFe)`
  width: 2em;
  height: 2em;
  overflow: hidden;
  font-size: 1.1em;
  background: #fff;
  border-radius: 3px;
  padding: 0;
  margin: 0;
  color: #000; // Not in colours

  &:disabled {
    color: #999;
  }
`,Fpe=Se.div`
  margin: 0 1em;
  font-size: 0.85em;
  color: #000;
`,dZt=Se.div`
  flex: 1 1 0px;
  height: 6px;
  display: flex;
  position: relative;
  padding: 15px 0;
`,fZt=Se.div`
  background: #d85680;
  height: 6px;
  pointer-events: none;
  position: absolute;
  top: 13px;
  left: 0;
  border-radius: 3px;
  transition: width 200ms;
`,hZt=Se.div`
  position: absolute;
  top: 13px;
  left: 0;
  height: 6px;
  border-radius: 3px;
  width: 100%;
  pointer-events: none;
  background: #fff;
`,pZt=Se(DFe)`
  width: 2em;
  height: 2em;
  overflow: hidden;
  font-size: 1.1em;
  background: transparent;
  border-radius: 3px;
  padding: 0;
  margin: 0;
`,mZt=Se.div`
  display: flex;
  align-items: center;
`,gZt=Se.div`
  width: 0;
  overflow: hidden;
  transition: width 500ms;
  color: #4a473f; // Not in colours

  ${e=>e.$isOpen&&ln`
      width: 150px;
    `}
`,vZt=Se.input.attrs({type:"range"})`
  width: 120px;
  margin: 0 15px;
`;function yZt(e){return d.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 42 42",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",...e,children:d.jsxs("g",{transform:"translate(2 2)",strokeWidth:5,fill:"none",fillRule:"evenodd",children:[d.jsx("circle",{strokeOpacity:.5,cx:18,cy:18,r:18}),d.jsx("path",{d:"M36 18c0-9.94-8.06-18-18-18",children:d.jsx("animateTransform",{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"1s",repeatCount:"indefinite"})})]})})}var bZt=ln`
  clip: rect(1px, 1px, 1px, 1px);
  clip-path: inset(50%);
  height: 1px;
  width: 1px;
  margin: -1px;
  overflow: hidden;
  padding: 0;
  position: absolute;
`,wZt=Se.label`
  ${bZt}
`;function OFe(e){const[t,n]=h.useState(!1),{progress:r,currentTime:i,element:o}=hQ(),{duration:s,isMuted:a,volume:l,isPlaying:u,playRequested:c}=dQ(),{setVolume:f,toggleMute:p,play:g,pause:v,setDurationPercent:y}=fQ(),S=a||l===0?lZt:l>50?sZt:aZt;return h.useLayoutEffect(()=>{var C;if(o.current){const _=o.current;if(_.error&&e.onError){e.onError(((C=_.error)==null?void 0:C.message)||"Unknown error");return}const k=()=>{var P;e.onError&&e.onError(((P=_.error)==null?void 0:P.message)||"Unknown error")},w=()=>{_.duration&&e.onDuration&&e.onDuration(_.duration),e.onDimensions&&_ instanceof HTMLVideoElement&&e.onDimensions(_.videoWidth,_.videoHeight)};return _.addEventListener("loadedmetadata",w),_.addEventListener("error",k),()=>{_.removeEventListener("loadedmetadata",w),_.removeEventListener("error",k)}}},[]),d.jsxs(uZt,{children:[d.jsx(cZt,{disabled:c,onClick:()=>{u?v():g()},children:c?d.jsx(yZt,{stroke:"#999"}):u?d.jsx(oZt,{title:"Pause"}):d.jsx(iZt,{title:"Play"})}),d.jsx(Fpe,{ref:i,children:"0:00"}),d.jsxs(dZt,{onClick:C=>{const{left:_,width:k}=C.currentTarget.getBoundingClientRect(),w=(C.pageX-_)/k;y(w)},children:[d.jsx(hZt,{}),s?d.jsx(fZt,{ref:r}):null]}),d.jsx(Fpe,{children:BT(s)}),d.jsxs(mZt,{onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),children:[d.jsx(gZt,{$isOpen:t,children:d.jsxs("span",{children:[d.jsx(wZt,{htmlFor:"audio-slider",children:"Change volume"}),d.jsx(vZt,{id:"audio-slider",role:"slider",disabled:a,min:"0",max:"100",value:l,onChange:C=>f(Number(C.currentTarget.value))})]})}),d.jsx(pZt,{onClick:()=>p(),children:d.jsx(S,{title:a?"Mute":"Unmute"})})]})]})}var nd=Se.div`
  padding: 0 0.7em;
  margin: 0.7em 0;
  flex: 1;
  overflow: visible;
`;async function xZt(e,t){var o;const n={id:t.generateId("annotation"),type:"Annotation"},r=t.options.targetType,i=t.embed({id:e.url,type:"Sound",format:"audio/mp4",duration:e.duration||0});if(r==="Annotation")return t.embed({...n,label:uc(e.label)&&e.label,motivation:e.motivation||((o=t.options.initialData)==null?void 0:o.motivation)||"painting",body:i,target:t.getTarget()});if(r==="Canvas"){const s=t.generateId("canvas"),a=t.generateId("annotation-page",{id:s,type:"Canvas"}),l=t.embed({...n,motivation:"painting",body:i,target:{type:"SpecificResource",source:{id:s,type:"Canvas"}}}),u=t.embed({id:a,type:"AnnotationPage",items:[l]});return t.embed({id:s,type:"Canvas",label:e.label||{en:["Untitled HTML canvas"]},duration:e.duration||0,items:[u]})}}function SZt(e){const[t,n]=h.useState(""),[r,i]=h.useState(0),[o,s]=h.useState(""),[a,l]=h.useState({en:[""]}),u=()=>{e.runCreate({url:t,duration:r,label:a})};return h.useEffect(()=>{var c;if(s(""),i(0),t){const f=(c=t.split("/").pop())==null?void 0:c.split(".").shift();l({en:[f||""]})}},[t]),d.jsxs(nd,{children:[o?d.jsx(s5,{children:o}):null,d.jsxs(Vn,{$wide:!0,children:[d.jsx(an,{htmlFor:"audio-url",children:"URL"}),d.jsx(ji,{type:"text",id:"audio-url",value:t,onChange:c=>n(c.target.value)})]}),t&&!o?d.jsx("div",{children:d.jsx(iu,{containerId:"label",focusId:"label_",label:"Label",fields:a,onSave:c=>l(c.toInternationalString())},`${t}__${r}`)}):null,t&&!o?d.jsx(Ko.AudioHTML,{media:{url:t,duration:r,type:"Sound"},children:d.jsx(OFe,{onError:c=>s(c),onDuration:c=>i(~~c)},`${t}__${r}`)},`${t}__${r}`):null,r&&!o?d.jsxs(yVt,{children:[d.jsx(an,{htmlFor:"duration",children:"Duration"}),d.jsx(ji,{type:"number",id:"duration",value:r,onChange:c=>i(c.target.valueAsNumber)})]}):null,d.jsx(Rs,{primary:!0,large:!0,type:"button",onPress:u,isDisabled:!t||!!o,children:"Add audio"})]})}var _Zt={id:"@manifest-editor/audio-annotation",create:xZt,label:"Audio",summary:"Audio annotation",icon:d.jsx(Xvt,{}),render(e){return d.jsx(SZt,{...e})},resourceType:"Annotation",resourceFields:["id","type","motivation","body","target"],additionalTypes:["Canvas"],supports:{initialData:!0,parentTypes:["AnnotationPage","Manifest"],parentFields:["items"]},staticFields:{type:"Annotation"}};async function CZt(e,t){var a;const n={id:t.generateId("annotation"),type:"Annotation"},r=t.options.targetType,i=Object.keys(e.body),o=[];for(const l of i){const u=e.body[l].join(`
`);u&&o.push(await t.create("@manifest-editor/html-body-creator",{language:l,body:u},{parent:{resource:n,property:"items"}}))}const s=await t.create("@manifest-editor/image-url-creator",{url:e.imageUrl},{parent:{resource:n,property:"body"}});if(s&&o.push(s),r==="Annotation")return t.embed({...n,motivation:e.motivation||((a=t.options.initialData)==null?void 0:a.motivation)||"painting",body:o,target:t.getTarget()});if(r==="Canvas"){const l=t.generateId("canvas"),u=t.generateId("annotation-page",{id:l,type:"Canvas"}),c=t.embed({...n,motivation:"painting",body:o,target:{type:"SpecificResource",source:{id:l,type:"Canvas"}}}),f=t.embed({id:u,type:"AnnotationPage",items:[c]});return t.embed({id:l,type:"Canvas",label:e.label||{en:["Untitled HTML canvas"]},height:e.height||1e3,width:e.width||1e3,items:[f]})}}function EZt(e){const[t,n]=h.useState({en:[""]}),r=i=>{i.preventDefault();const o=new FormData(i.target),s=Object.fromEntries(o.entries());e.runCreate({body:t,imageUrl:s.url})};return d.jsx("form",{onSubmit:r,children:d.jsxs(nd,{children:[d.jsx(Vn,{children:d.jsxs(Vn,{$wide:!0,children:[d.jsx(an,{htmlFor:"id",children:"Link to Image"}),d.jsx(ji,{id:"url",name:"url",defaultValue:""})]})}),d.jsxs(Vn,{children:[d.jsx(an,{children:"Image Caption"}),d.jsx(iu,{focusId:"html-content",label:"HTML Content",fields:t,onSave:i=>n(i.toInternationalString())})]}),d.jsx(Rs,{primary:!0,large:!0,type:"submit",children:"Create"})]})})}var kZt={id:"@manifest-editor/captioned-image-annotation",create:CZt,label:"Captioned image",summary:"Add an image from a URL with caption",icon:d.jsx(kJ,{}),render(e){return d.jsx(EZt,{...e})},resourceType:"Annotation",resourceFields:["id","type","motivation","body","target"],additionalTypes:["Canvas"],supports:{initialData:!0,parentTypes:["AnnotationPage"],parentFields:["items"]},staticFields:{type:"Annotation"}};async function PZt(e,t){var s;const n={id:t.generateId("annotation"),type:"Annotation"},r=t.options.targetType,i=Object.keys(e.body),o=[];for(const a of i){const l=e.body[a].join(`
`);l&&o.push(await t.create("@manifest-editor/html-body-creator",{language:a,body:l},{parent:{resource:n,property:"items"}}))}if(r==="Annotation")return t.embed({...n,motivation:e.motivation||((s=t.options.initialData)==null?void 0:s.motivation)||"painting",body:o,target:t.getTarget()});if(r==="Canvas"){const a=t.generateId("canvas"),l=t.generateId("annotation-page",{id:a,type:"Canvas"}),u=t.embed({...n,motivation:"painting",body:o,target:{type:"SpecificResource",source:{id:a,type:"Canvas"}}}),c=t.embed({id:l,type:"AnnotationPage",items:[u]});return t.embed({id:a,type:"Canvas",label:e.label||{en:["Untitled HTML canvas"]},height:e.height||1e3,width:e.width||1e3,items:[c]})}}function $Zt(e){const[t,n]=h.useState({en:[""]}),r=uc(t).trim()==="",i=()=>{e.runCreate({body:t})};return d.jsxs(nd,{children:[d.jsx(iu,{focusId:"html-content",label:"HTML Content",fields:t,onSave:o=>n(o.toInternationalString())}),d.jsx(Rs,{primary:!0,large:!0,type:"button",onPress:i,isDisabled:r,children:"Create"})]})}var TZt={id:"@manifest-editor/html-annotation",create:PZt,label:"HTML",summary:"HTML annotation",icon:d.jsx(Wvt,{}),render(e){return d.jsx($Zt,{...e})},resourceType:"Annotation",resourceFields:["id","type","motivation","body","target"],additionalTypes:["Canvas"],supports:{initialData:!0,parentTypes:["AnnotationPage","Manifest"],parentFields:["items"]},staticFields:{type:"Annotation"}},W8={canvasInteraction:!0,spatial:!0,async run(e,{vault:t,options:n}){var r,i;if(e&&e.type==="Annotation"&&n.targetType==="Annotation"){const o=t.get(e),s=o.target;if(!(s&&((r=s.source)==null?void 0:r.type)==="Canvas"))return;const a=s.source,l=t.get(a);if(!l.items)return;const u=t.get(l.items[0]);if(!u||u.items.length<2&&!l.behavior.includes("multi-image"))return;const f=t.get(o.body)[0],p=(i=o.body[0])==null?void 0:i.selector,v=(f.service||[]).find(k=>i3(k));v&&v.width&&v.height&&(v.width!==f.width&&t.modifyEntityField({id:f.id,type:"ContentResource"},"width",v.width),v.height!==f.height&&t.modifyEntityField({id:f.id,type:"ContentResource"},"height",v.height));let y=(v==null?void 0:v.width)||f.width,S=(v==null?void 0:v.height)||f.height;if(p&&(p.type==="iiif:ImageApiSelector"||p.type==="ImageApiSelector")&&p.region){const[k,w,P,M]=p.region.split(",");y=Number(P)||y,S=Number(M)||S}const C=new _3({vault:t,reference:e}),_=G4(l,{width:y,height:S},.6);C.annotation.target.setPosition(_)}}},K8={canvasInteraction:!0,spatial:!0,async run(e,{vault:t,options:n}){var r,i;if(e&&e.type==="Annotation"&&n.targetType==="Annotation"){const o=t.get(e),s=o.target;if(!(s&&((r=s.source)==null?void 0:r.type)==="Canvas"))return;const a=s.source,l=t.get(a);if(!l.items||l.behavior.includes("multi-image"))return;const u=t.get(l.items[0]);if(!u||u.items.length>1)return;const c=t.get(o.body);if(c.length!==1)return;const f=c[0],p=(i=o.body[0])==null?void 0:i.selector,g=(f.service||[])[0];let v=(g==null?void 0:g.width)||f.width,y=(g==null?void 0:g.height)||f.height;const S=f.duration||(g==null?void 0:g.duration);if(p&&(p.type==="iiif:ImageApiSelector"||p.type==="ImageApiSelector")&&p.region){const[_,k,w,P]=p.region.split(",");v=Number(w)||v,y=Number(P)||y}const C=new _3({vault:t,reference:a});t.batch(()=>{typeof v<"u"&&C.technical.width.set(v),typeof y<"u"&&C.technical.height.set(y),typeof S<"u"&&C.technical.duration.set(S)})}}},q8={canvasInteraction:!0,spatial:!0,async run(e,{vault:t,options:n}){var r;if(e&&e.type==="Annotation"&&n.targetType==="Annotation"){const i=t.get(e),o=i.target;if(!(o&&((r=o.source)==null?void 0:r.type)==="Canvas"))return;const s=o.source,a=t.get(s);if(!a.items||a.behavior.includes("multi-image")||!t.get(a.items[0]))return;const u=Array.isArray(i.body)?i.body[0]:i.body;if(u.type==="SpecificResource"&&u.selector)return;const f=t.get(i.body)[0],g=(f.service||[]).find(v=>o3(v));g&&g.width&&g.height&&(g.width!==f.width&&t.modifyEntityField({id:f.id,type:"ContentResource"},"width",g.width),g.height!==f.height&&t.modifyEntityField({id:f.id,type:"ContentResource"},"height",g.height))}}};async function MZt(e,t){var s,a;const n={...e.service};n["@id"]&&(n.id=n["@id"]),n["@type"]&&(n.type=n["@type"]);const r=XX(n),i=RT({identifier:r.identifier,server:r.server,scheme:r.scheme,type:"image",size:{max:!((s=e.size)!=null&&s.width)&&!((a=e.size)!=null&&a.height),confined:!1,upscaled:!1,...e.size||{}},format:"jpg",region:{full:!0},rotation:{angle:0},quality:"default",prefix:r.prefix,originalPath:r.originalPath});return t.embed({id:i,type:"Image",format:e.format||"image/jpeg",height:e.height||n.height,width:e.width||n.width,service:e.embedService===!1?void 0:[e.service]})}function Tz(e){return e.endsWith("default.jpg")?RT({...YX(e),type:"info"}):ag(e)}function jFe(e){const[t,n]=h.useState(""),r=i=>{i.preventDefault();const o=new FormData(i.target),s=Object.fromEntries(o.entries()),a=s.url;if(a){const l=Tz(a);if(!l)throw new Error("Invalid image service request");fetch(l).then(u=>u.json()).then(u=>{e.runCreate({url:s.url,service:u})})}};return d.jsx(nd,{children:d.jsxs("form",{onSubmit:r,children:[d.jsx("div",{className:"flex gap-2 items-center",children:d.jsxs(Vn,{$wide:!0,children:[d.jsx(an,{htmlFor:"id",children:"Link to image service"}),d.jsx(ji,{id:"url",name:"url",defaultValue:"",onPaste:i=>{const o=i.clipboardData.getData("text/plain");n(o?Tz(o):"")},onBlur:i=>n(i.currentTarget.value?Tz(i.currentTarget.value):"")})]})}),d.jsx("div",{className:"relative flex z-0 my-5 h-96 min-h-0 min-w-0 overflow-hidden bg-gray-200 rounded items-center justify-center",children:t.trim()?d.jsx(DT,{fallbackRender:()=>d.jsx("div",{children:"Invalid service"}),children:d.jsx(jEe,{src:t,fluid:!0,errorFallback:()=>d.jsx("div",{children:"Invalid service"}),background:"rgb(229,231,235)",className:"h-full w-full",containerProps:{className:"w-full h-full z-10"}})}):d.jsx("div",{className:"text-grey-600",children:"Preview"})}),d.jsx("div",{children:d.jsx(Rs,{primary:!0,large:!0,type:"submit",isDisabled:!t,children:"Create"})})]})})}async function LZt(e,t){var s;const n={id:t.generateId("annotation"),type:"Annotation"},r=t.options.targetType,o=await L4(t,"Annotation","body","@manifest-editor/image-service-creator")(e,{parent:{resource:n,property:"body"}});if(r==="Annotation")return{...n,body:[o],motivation:e.motivation||"painting",target:t.getTarget()};if(r==="Canvas"){const a=t.generateId("canvas"),l=t.generateId("annotation-page",{id:a,type:"Canvas"}),u=t.embed({...n,motivation:"painting",body:[o],target:{type:"SpecificResource",source:{id:a,type:"Canvas"}}}),c=t.embed({id:l,type:"AnnotationPage",items:[u]});let f;return(s=e.service)!=null&&s.sizes&&(f=await L4(t,"Canvas","thumbnail","@manifest-editor/thumbnail-image")({service:e.service,width:e.thumbnailSize||400})),t.embed({id:a,type:"Canvas",label:e.label||{en:["Untitled canvas"]},height:o.resource.height||1e3,width:o.resource.width||1e3,thumbnail:f?[f]:void 0,items:[c]})}}function AZt(e){return d.jsx(jFe,{...e})}var IZt={id:"@manifest-editor/image-service-annotation",create:LZt,label:"IIIF Image",dependencies:["@manifest-editor/image-service-creator"],summary:"IIIF Image service",tags:["image","image-service"],icon:d.jsx(eRe,{style:{padding:10}}),render(e){return d.jsx(AZt,{...e})},resourceType:"Annotation",resourceFields:["id","type","motivation","body","target"],additionalTypes:["Canvas"],supports:{parentTypes:["AnnotationPage","Manifest"],parentFields:["items"]},sideEffects:[q8,K8,W8],staticFields:{type:"Annotation"}};async function RZt(e,t){if(!e.height||!e.width){const n=await Bwt(e.url);n&&(e.height=n.height,e.width=n.width)}return t.embed({id:e.url,type:"Image",format:e.format||await Fwt(e.url),height:e.height,width:e.width,service:e.service?Array.isArray(e.service)?e.service:[e.service]:void 0})}function NFe(e){const t=n=>{n.preventDefault();const r=new FormData(n.target),i=Object.fromEntries(r.entries());i.url&&e.runCreate({url:i.url})};return d.jsx(nd,{children:d.jsxs("form",{onSubmit:t,children:[d.jsxs(Vn,{$wide:!0,children:[d.jsx(an,{htmlFor:"id",children:"Link to Image"}),d.jsx(ji,{id:"url",name:"url",defaultValue:""})]}),d.jsx(Rs,{primary:!0,large:!0,type:"submit",children:"Create"})]})})}async function DZt(e,t){const n={id:t.generateId("annotation"),type:"Annotation"},r=t.options.targetType,o=await L4(t,"Annotation","body","@manifest-editor/image-url-creator")(e,{parent:{resource:n,property:"body"}});if(r==="Annotation")return t.embed({...n,body:[o],motivation:e.motivation||"painting",target:t.getTarget()});if(r==="Canvas"){const s=t.generateId("canvas"),a=t.generateId("annotation-page",{id:s,type:"Canvas"}),l=t.embed({...n,motivation:"painting",body:[o],target:{type:"SpecificResource",source:{id:s,type:"Canvas"}}}),u=t.embed({id:a,type:"AnnotationPage",items:[l]});return t.embed({id:s,type:"Canvas",label:e.label||{en:["Untitled canvas"]},height:o.resource.height||1e3,width:o.resource.width||1e3,items:[u]})}throw new Error("Unsupported target type")}function OZt(e){return d.jsx(NFe,{...e})}var jZt={id:"@manifest-editor/image-url-annotation",create:DZt,label:"Image",dependencies:["@manifest-editor/image-url-creator"],summary:"Image from URL",tags:["image"],icon:d.jsx(kJ,{}),render(e){return d.jsx(OZt,{...e})},resourceType:"Annotation",resourceFields:["id","type","motivation","body","target"],additionalTypes:["Canvas"],supports:{parentTypes:["AnnotationPage","Manifest"],parentFields:["items"]},sideEffects:[q8,K8,W8],staticFields:{type:"Annotation"}};async function NZt(e,t){const n=[],r=L4(t,"Annotation","body","@manifest-editor/image-url-creator");for(const i of e.images)n.push(await r(i,t.options));return n}function FFe(e){const t=n=>{n.preventDefault();const r=new FormData(n.target),i=Object.fromEntries(r.entries());i.urls&&e.runCreate({images:i.urls.split(`
`).map(o=>({url:o}))})};return d.jsx(nd,{children:d.jsxs(PM.Form,{onSubmit:t,children:[d.jsxs(PM.InputContainer,{className:"mb-4",children:[d.jsx(PM.Label,{children:"Enter a list of URLs (one per line)"}),d.jsx(PM.TextArea,{name:"urls",rows:"10"})]}),d.jsx(Rs,{primary:!0,large:!0,type:"submit",children:"Create"})]})})}async function FZt(e,t){const n=[],r=L4(t,"AnnotationPage","items","@manifest-editor/image-url-annotation");for(const i of e.images)n.push(await r(i,t.options));return n}var BZt={id:"@manifest-editor/image-url-list-annotation",create:FZt,label:"List of Images",dependencies:["@manifest-editor/image-url-annotation"],summary:"List of Images from URLs",tags:["image"],icon:d.jsx(iRe,{}),render(e){return d.jsx(FFe,{...e})},resourceType:"Annotation",resourceFields:["id","type","motivation","body","target"],additionalTypes:["Canvas"],supports:{parentTypes:["AnnotationPage","Manifest"],parentFields:["items"]},sideEffects:[q8,K8,W8],staticFields:{type:"Annotation"}},zZt={id:"@manifest-editor/no-body-annotation",create:HZt,label:"Annotation without body",summary:"Add an annotation that only has motivation and target",icon:d.jsx(tRe,{}),resourceType:"Annotation",resourceFields:["id","type","motivation","target"],supports:{initialData:!0,parentTypes:["AnnotationPage"],parentFields:["items"],disallowPainting:!0},sideEffects:[],staticFields:{type:"Annotation"}};function HZt(e,t){var n;return t.embed({id:t.generateId("annotation"),type:"Annotation",label:e==null?void 0:e.label,motivation:e.motivation||((n=t.options.initialData)==null?void 0:n.motivation)||"highlighting",target:t.getTarget()})}function VZt({media:e,onError:t,duration:n,onDuration:r,onDimensions:i}){const[{element:o,currentTime:s,progress:a},l,u]=e7({duration:n});return d.jsxs(pQ,{element:o,state:l,actions:u,currentTime:s,progress:a,children:[d.jsx("div",{style:{maxHeight:400,aspectRatio:`${e.width}/${e.height}`,position:"relative"},children:d.jsx(Ko.VideoHTML,{element:o,media:e,playPause:u.playPause})}),d.jsx(OFe,{onError:t,onDuration:r,onDimensions:i})]})}async function UZt(e,t){var o;const n={id:t.generateId("annotation"),type:"Annotation"},r=t.options.targetType,i=t.embed({id:e.url,type:"Video",format:"video/mp4",width:e.width,height:e.height,duration:e.duration||0});if(r==="Annotation")return t.embed({...n,label:uc(e.label)&&e.label,motivation:e.motivation||((o=t.options.initialData)==null?void 0:o.motivation)||"painting",body:i,target:t.getTarget()});if(r==="Canvas"){const s=t.generateId("canvas"),a=t.generateId("annotation-page",{id:s,type:"Canvas"}),l=t.embed({...n,motivation:"painting",body:i,target:{type:"SpecificResource",source:{id:s,type:"Canvas"}}}),u=t.embed({id:a,type:"AnnotationPage",items:[l]});return t.embed({id:s,type:"Canvas",label:e.label||{en:["Untitled HTML canvas"]},duration:e.duration||0,width:e.width,height:e.height,items:[u]})}}function WZt(e){const[t,n]=h.useState(""),[r,i]=h.useState(0),[o,s]=h.useState(0),[a,l]=h.useState(0),[u,c]=h.useState(""),[f,p]=h.useState({en:[""]}),g=()=>{e.runCreate({url:t,duration:r,label:f,width:o,height:a})};return h.useEffect(()=>{var v;if(c(""),i(0),t){const y=(v=t.split("/").pop())==null?void 0:v.split(".").shift();p({en:[y||""]})}},[t]),d.jsxs(nd,{children:[u?d.jsx(s5,{children:u}):null,d.jsxs(Vn,{$wide:!0,children:[d.jsx(an,{htmlFor:"video-url",children:"URL"}),d.jsx(ji,{type:"text",id:"video-url",value:t,onChange:v=>n(v.target.value)})]}),t&&!u?d.jsx("div",{children:d.jsx(iu,{containerId:"label",focusId:"label_",label:"Label",fields:f,onSave:v=>p(v.toInternationalString())},`${t}__${r}`)}):null,t&&!u?d.jsx("div",{className:"mb-4 bg-black",children:d.jsx(VZt,{duration:r,onDuration:v=>i(v),onError:v=>c(v),media:{url:t,duration:r,height:a,width:o,type:"Video"},onDimensions:(v,y)=>{s(v||0),l(y||0)}})}):null,!u&&(r||o||a)?d.jsx(Vn,{$wide:!0,children:d.jsx(D8,{widthId:"width",width:o||0,changeWidth:v=>s(v),heightId:"height",height:a||0,changeHeight:v=>l(v),durationId:"duration",duration:r||0,changeDuration:v=>i(v)})}):null,d.jsx(Rs,{primary:!0,large:!0,type:"button",onPress:g,isDisabled:!t||!!u,children:"Add video"})]})}var KZt={id:"@manifest-editor/video-annotation",create:UZt,label:"Video",summary:"Video annotation",icon:d.jsx(Yvt,{}),render(e){return d.jsx(WZt,{...e})},resourceType:"Annotation",resourceFields:["id","type","motivation","body","target"],additionalTypes:["Canvas"],supports:{initialData:!0,parentTypes:["AnnotationPage","Manifest"],parentFields:["items"]},staticFields:{type:"Annotation"}},BFe=()=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#000000",transform:"scale(-1, 1)",children:d.jsxs("g",{children:[d.jsx("rect",{fill:"none",height:"24",width:"24"}),d.jsx("path",{d:"M16,20H2V4h14V20z M18,8h4V4h-4V8z M18,20h4v-4h-4V20z M18,14h4v-4h-4V14z"})]})}),qZt={id:"@manifest-editor/empty-annotation-page",create:(e,t)=>t.embed({id:t.generateId("annotations"),label:e.label,type:"AnnotationPage",items:[]}),label:"Empty annotation page",summary:"AnnotationPage with nothing",icon:d.jsx(BFe,{}),resourceType:"AnnotationPage",resourceFields:["id","type","items"],supports:{parentTypes:["Manifest","Canvas","Range"],parentFieldMap:{Manifest:["annotations"],Canvas:["items","annotations"],Range:["annotations"]}}},GZt={id:"@manifest-editor/empty-canvas",create:(e,t)=>{const n=t.generateId("canvas"),r=t.embed({id:t.generateId("annotation-page",{id:n,type:"Canvas"}),type:"AnnotationPage",items:[]});return{id:n,type:"Canvas",label:e.label||{en:[""]},height:e.height||1e3,width:e.width||1e3,items:[r]}},label:"Empty canvas",summary:"No content",icon:d.jsx(tRe,{}),resourceType:"Canvas",resourceFields:["id","type","label","height","width","items"],supports:{parentTypes:["Manifest"],parentFields:["items"]}},Bpe="Invariant failed";function p0(e,t){if(!e){var n=typeof t=="function"?t():t,r=n?"".concat(Bpe,": ").concat(n):Bpe;throw new Error(r)}}var ZZt={id:"@manifest-editor/internal-canvas",create:XZt,label:"Internal canvas link",summary:"Canvas from the same manifest",icon:d.jsx(BFe,{}),resourceType:"Canvas",resourceFields:["id","type","label"],supports:{parentTypes:["Manifest"],parentFields:["start"]},render:e=>d.jsx(YZt,{...e})};function YZt(e){const t=Li(),n=$n();return p0(t,"Manifest is not loaded"),d.jsx(RFe,{vault:n,entry:t,window:!1,hideHeader:!0,hideBack:!0,output:{type:"url"},outputTargets:[{type:"callback",label:"Select canvas",cb:r=>{e.runCreate({id:r})}}],outputTypes:["Canvas"]})}async function XZt(e,t){return t.embed({id:e.id,type:"Canvas"})}var zFe=e=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",height:"1em",width:"1em",...e,children:[d.jsx("path",{d:"M0 0h24v24H0z",fill:"none"}),d.jsx("path",{d:"M5 17v2h14v-2H5zm4.5-4.2h5l.9 2.2h2.1L12.75 4h-1.5L6.5 15h2.1l.9-2.2zM12 5.98 13.87 11h-3.74L12 5.98z"})]});async function QZt(e,t){return t.embed({id:t.generateId(`html/${e.language}`),language:e.language,type:"TextualBody",format:"text/html",value:e.body||""})}function JZt(e){const{i18n:t}=Px(),[n,r]=h.useState("<p></p>"),[i,o]=h.useState(t.defaultLanguage),s=()=>{e.runCreate({language:i,body:n})};return d.jsxs(nd,{children:[d.jsxs(Vn,{children:[d.jsx(an,{children:"HTML Body"}),d.jsx(Ote,{value:n,language:i,onUpdateLanguage:a=>o(a),languages:t.availableLanguages,onUpdate:a=>r(a)})]}),d.jsx(Rs,{primary:!0,large:!0,type:"button",onPress:s,children:"Create"})]})}var eYt={id:"@manifest-editor/html-body-creator",create:QZt,label:"HTML Body",summary:"Add HTML annotation body",icon:d.jsx(zFe,{}),render(e){return d.jsx(JZt,{...e})},resourceType:"ContentResource",resourceFields:["id","language","type","format","value"],supports:{parentTypes:["Annotation"],parentFields:["body"]},staticFields:{type:"TextualBody",format:"text/html"}};function zpe(e,t,n){return`${e}/${Math.floor(t.x)},${Math.floor(t.y)},${Math.floor(t.width)},${Math.floor(t.height)}/${n}/0/default.jpg`}async function tYt(e,t){var o;const n=t.options.targetType,r=e.output,i=[];for(const{resource:s,selector:a,parent:l}of r){const u=s.type,c=new fh;if((n==="Canvas"||n==="Annotation"||n==="ContentResource")&&u==="Canvas"){const f=s.id,p=(l==null?void 0:l.type)==="Manifest"?l.id:void 0;p0(p,"Could not find Manifest");const g=await c.loadManifest(p);p0(g,"Manifest not found");const v=g.items.find(_=>_.id===f);p0(v,"Canvas not found");const y=c.get(v);if(n==="Canvas"&&(a==null?void 0:a.type)!=="BoxSelector"){const _=c.toPresentation3(y);_.label||(_.label={en:["Untitled canvas"]}),i.push(t.embed(_));continue}const S=c.get(y.items[0]),C=c.get(S.items[0]);if(n==="Annotation"||n==="Canvas"||n==="ContentResource"){const _=c.toPresentation3(C);_.id=t.generateId("Annotation");let k=null;const w={width:0,height:0};if((o=_==null?void 0:_.body)!=null&&o.service){const P=_==null?void 0:_.body.width,M=_==null?void 0:_.body.height;k=BO(_==null?void 0:_.body)[0],k&&(!k.width||!k.height)&&(k.width=P,k.height=M),w.width=P,w.height=M,e.trackSize&&e.trackSize(w)}if((a==null?void 0:a.type)==="BoxSelector"){const P={"@context":"http://iiif.io/api/annex/openannotation/context.json",type:"iiif:ImageApiSelector",region:[~~a.spatial.x,~~a.spatial.y,~~a.spatial.width,~~a.spatial.height].join(",")},M={..._.body};let R="";if(k){const D=k.id||k["@id"]||"";D&&(M.id=zpe(D,a.spatial,"max"),R=zpe(D,a.spatial,"512,"))}if(_.body={id:t.generateId("SpecificResource",C),type:"SpecificResource",source:M,selector:P},e.trackSize&&e.trackSize({width:~~a.spatial.width,height:~~a.spatial.height}),n==="ContentResource"){i.push(_.body);continue}if(n==="Canvas"){const D=t.generateId("Canvas",C);_.target=D;const H=t.generateId("Page",C),O=t.embed({id:H,type:"AnnotationPage",items:[_]});i.push(t.embed({id:D,type:"Canvas",label:{en:["Untitled canvas"]},width:~~a.spatial.width,height:~~a.spatial.height,thumbnail:R?[t.embed({id:R,type:"Image",format:"image/jpeg",width:512,height:Math.round(a.spatial.height/a.spatial.width*512)})]:void 0,items:[O]}));continue}i.push(t.embed({..._,target:t.getTarget()}));continue}i.push(t.embed({...c.toPresentation3(C),target:t.getTarget()}))}}}return i}var nYt=h.lazy(()=>Il(()=>import("./iiif-browser-form.lazy-FQDZQ3UW-Bf9fzi26.js"),[],import.meta.url)),HFe={id:"@manifest-editor/iiif-browser-creator",create:tYt,label:"IIIF Browser",summary:"Browse IIIF Resources",icon:d.jsx(R7,{}),render(e){return d.jsx(nYt,{...e})},hiddenModal:!0,tags:["image","image-service"],resourceType:"ContentResource",resourceFields:["id","language","type","format","value"],additionalTypes:["Annotation","Canvas"],supports:{parentTypes:["Annotation","Manifest","AnnotationPage"],parentFields:["body","items"],parentFieldMap:{Annotation:["body"],Manifest:["items"],AnnotationPage:["items"]}},sideEffects:[q8,K8,W8],staticFields:{}},VFe={id:"@manifest-editor/image-service-creator",create:MZt,label:"Image Service",summary:"Add an image from Image Service",icon:d.jsx(eRe,{style:{padding:10}}),render(e){return d.jsx(jFe,{...e})},resourceType:"ContentResource",resourceFields:["id","type","height","width","format","service"],supports:{parentFields:["logo","body","thumbnail"]}},UFe={id:"@manifest-editor/image-url-creator",create:RZt,label:"Image",summary:"Image from a URL",icon:d.jsx(kJ,{}),render(e){return d.jsx(NFe,{...e})},resourceType:"ContentResource",resourceFields:["format"],supports:{parentFields:["logo","body","thumbnail"]},staticFields:{type:"Image"}},rYt={id:"@manifest-editor/image-url-list",label:"Image URL List",summary:"Image from a list of URLs",create:NZt,icon:d.jsx(iRe,{}),render(e){return d.jsx(FFe,{...e})},resourceType:"ContentResource",resourceFields:["format"],supports:{parentFields:["logo","body","thumbnail"]},staticFields:{type:"Image"}};async function iYt(e,t){return t.embed({id:e.url,type:"Text",label:e.label,format:"text/plain"})}function oYt(e){const[t,n]=h.useState({en:["View as text"]}),r=i=>{i.preventDefault();const o=new FormData(i.target),s=Object.fromEntries(o.entries());s.url&&e.runCreate({url:s.url,label:t})};return d.jsx(nd,{children:d.jsxs("form",{onSubmit:r,children:[d.jsx(iu,{focusId:"label",label:"Label",fields:t,onSave:i=>n(i.toInternationalString())}),d.jsxs(Vn,{$wide:!0,children:[d.jsx(an,{htmlFor:"id",children:"Link to plaintext"}),d.jsx(ji,{id:"url",name:"url",defaultValue:""})]}),d.jsx(Rs,{primary:!0,large:!0,type:"submit",children:"Create"})]})})}var sYt={id:"@manifest-editor/plaintext-creator",create:iYt,label:"Plaintext",summary:"Add link to an plaintext",icon:d.jsx(zFe,{}),render(e){return d.jsx(oYt,{...e})},resourceType:"ContentResource",resourceFields:["label","format"],supports:{parentFields:["seeAlso","rendering","homepage"]},staticFields:{format:"text/plain"}};function WFe(e,t){e["@id"]&&(e.id=e["@id"]),e["@type"]&&(e.type=e["@type"]);const n=XX(e);return RT({identifier:n.identifier,server:n.server,scheme:n.scheme,type:"image",size:{max:!1,confined:!1,upscaled:!1,width:t.width,height:t.height},format:"jpg",region:{full:!0},rotation:{angle:0},quality:"default",prefix:n.prefix,originalPath:n.originalPath})}function Mz(e){return e.endsWith("default.jpg")?RT({...YX(e),type:"info"}):ag(e)}async function aYt(e,t){const n={...e.service},r=n.sizes;if(n["@id"]&&(n.id=n["@id"]),n["@type"]&&(n.type=n["@type"]),e.thumbnailUrl)return t.embed({id:e.thumbnailUrl,type:"Image",format:"image/jpeg",width:e.width,height:e.height});if(r){const i=e.width||400;let o=null;for(const s of r)(!o||Math.abs(s.width-i)<Math.abs(o.width-i))&&(o={width:s.width,height:s.height});if(o){const s=WFe(n,o);return t.embed({id:s,type:"Image",format:"image/jpeg",width:o.width,height:o.height})}}return null}function lYt(e){var u;const[t,n]=h.useState(""),[r,i]=h.useState(null),[o,s]=h.useState({width:0,height:0}),a=h.useMemo(()=>!r||!o.width||!o.height?null:WFe(r,o),[o,r]),l=c=>{c.preventDefault();const f=new FormData(c.target),g=Object.fromEntries(f.entries()).url;if(g){const v=Mz(g);if(!v)throw new Error("Invalid image service request");fetch(v).then(y=>y.json()).then(y=>{var C;i(y);const S=(C=y.sizes)==null?void 0:C[0];S&&s(S)})}};return r?d.jsxs(nd,{children:[d.jsxs("div",{className:"mb-4",children:[d.jsx("div",{className:"mb-2",children:r["@id"]||r.id}),d.jsx("div",{className:"flex gap-2 mb-4",children:(u=r.sizes)==null?void 0:u.map(c=>{const f=c.width===o.width;return d.jsxs(Rs,{primary:f,isDisabled:f,large:!0,onPress:()=>s(c),children:[c.width,"x",c.height]},c.width)})}),a?d.jsx("img",{src:a,alt:"preview of selected resource"}):null]}),d.jsx(Rs,{primary:!0,large:!0,isDisabled:!a,onPress:()=>{r&&e.runCreate({service:r,width:o.width,height:o.height})},children:"Add thumbnail"})]}):d.jsx(nd,{children:d.jsxs("form",{onSubmit:l,children:[d.jsx("div",{className:"flex gap-2 items-center",children:d.jsxs(Vn,{$wide:!0,children:[d.jsx(an,{htmlFor:"id",children:"Link to image service"}),d.jsx(ji,{id:"url",name:"url",defaultValue:"",onPaste:c=>{const f=c.clipboardData.getData("text/plain");n(f?Mz(f):"")},onBlur:c=>n(c.currentTarget.value?Mz(c.currentTarget.value):"")})]})}),d.jsx("div",{children:d.jsx(Rs,{primary:!0,large:!0,type:"submit",isDisabled:!t,children:"Select size"})})]})})}var uYt={id:"@manifest-editor/thumbnail-image",create:aYt,label:"Thumbnail from service",summary:"Add thumbnail from an image service",icon:d.jsx(eyt,{}),render(e){return d.jsx(lYt,{...e})},resourceType:"ContentResource",resourceFields:["id","type","format"],supports:{parentFields:["thumbnail"]}};function cYt(){return d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#000000",children:[d.jsx("path",{d:"M0 0h24v24H0z",fill:"none"}),d.jsx("path",{d:"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"})]})}async function dYt(e,t){return t.embed({id:e.url,type:"Text",label:e.label,format:"text/html"})}function fYt(e){const[t,n]=h.useState({en:[""]}),r=i=>{i.preventDefault();const o=new FormData(i.target),s=Object.fromEntries(o.entries());s.url&&e.runCreate({url:s.url,label:t})};return d.jsx(nd,{children:d.jsxs("form",{onSubmit:r,children:[d.jsx(iu,{focusId:"label",label:"Label",fields:t,onSave:i=>n(i.toInternationalString())}),d.jsxs(Vn,{$wide:!0,children:[d.jsx(an,{htmlFor:"id",children:"Link"}),d.jsx(ji,{id:"url",name:"url",defaultValue:""})]}),d.jsx(Rs,{primary:!0,large:!0,type:"submit",children:"Create link"})]})})}var KFe={id:"@manifest-editor/web-page-creator",create:dYt,label:"Web page",summary:"Add link to an external web page",icon:d.jsx(cYt,{}),render(e){return d.jsx(fYt,{...e})},resourceType:"ContentResource",resourceFields:["label","format"],supports:{parentFields:["seeAlso","rendering","homepage"]}},hYt=/^.*(?:(?:youtu\.be\/|v\/|vi\/|u\/\w\/|embed\/|shorts\/)|(?:(?:watch)?\?vi?=|&vi?=))([^#&?]*).*/;function pYt(e){const t=(e||"").match(hYt);return t?t[1]:null}async function mYt(e,t){const n=pYt(e.youtubeUrl),r=t.embed({id:`https://www.youtube.com/watch?v=${n}`,type:"Video",service:[{profile:"http://digirati.com/objectifier",params:{data:`https://www.youtube.com/embed/${n}`}},{id:`https://www.youtube.com/watch?v=${n}`,profile:"https://www.youtube.com"}]});if(t.options.targetType==="Canvas"){const i=t.generateId("canvas"),o=t.generateId("annotation-page",{id:i,type:"Canvas"}),s=t.embed({id:t.generateId("annotation",{id:o,type:"AnnotationPage"}),type:"Annotation",motivation:"painting",body:[r],target:{type:"SpecificResource",source:{id:i,type:"Canvas"}}}),a=t.embed({id:o,type:"AnnotationPage",items:[s]});return t.embed({id:i,type:"Canvas",label:e.label||{en:["Untitled YouTube canvas"]},height:e.height||1e3,width:e.width||1e3,duration:e.duration||1,items:[a]})}return t.options.targetType==="Annotation"?t.embed({id:t.generateId("annotation"),type:"Annotation",motivation:"painting",body:[r],target:t.getTarget()}):r}function gYt(e){const t=n=>{n.preventDefault();const r=new FormData(n.target),i=Object.fromEntries(r.entries());i.youtubeUrl&&e.runCreate({youtubeUrl:i.youtubeUrl})};return d.jsx(nd,{children:d.jsxs("form",{onSubmit:t,children:[d.jsxs(Vn,{$wide:!0,children:[d.jsx(an,{htmlFor:"id",children:"Link to YouTube"}),d.jsx(ji,{id:"youtubeUrl",name:"youtubeUrl",defaultValue:""})]}),d.jsx(Rs,{primary:!0,large:!0,type:"submit",children:"Create"})]})})}var vYt={id:"@manifest-editor/youtube",create:mYt,label:"YouTube",summary:"Embed YouTube",icon:d.jsx(Gvt,{}),resourceType:"ContentResource",additionalTypes:["Canvas","Annotation"],resourceFields:["id","type","service"],render:e=>d.jsx(gYt,{...e}),supports:{parentTypes:["Annotation","Manifest","AnnotationPage"],parentFieldMap:{Annotation:["body"],Manifest:["items"],AnnotationPage:["items"]}},staticFields:{type:"Video"}};async function yYt(e,t){const n=t.options.targetType;if(Array.isArray(e.output))throw new Error("Multiple items not yet supported");const i=prt(typeof e.output=="string"?uCe(e.output):e.output).target[0],o=t.getPreviewVault(),s=n1(o);if(!i)throw new Error("No target found in content state");if(n==="Manifest"){const a=i.source.id;p0(a,"Could not find Manifest ID");const l=await o.loadManifest(a),u=await s.getBestThumbnailAtSize(l,{width:256,height:256},!1);return p0(l,"Manifest not found"),t.embed({id:i.source.id,type:"Manifest",label:l.label,summary:l.summary,thumbnail:u!=null&&u.best?[{id:u.best.id,type:"Image"}]:void 0})}if(n==="Collection"){const a=i.source.id;p0(a,"Could not find Manifest ID");const l=await o.loadManifest(a);return p0(l,"Collection not found"),t.embed({id:i.source.id,type:"Collection",label:l.label})}throw new Error("Not yet supported.")}h.lazy(()=>Il(()=>Promise.resolve().then(()=>Gmn),void 0,import.meta.url));var bYt={id:"@manifest-editor/manifest-browser-creator",create:yYt,label:"IIIF Browser",summary:"Browse IIIF Resources",icon:d.jsx(R7,{}),render(e){return d.jsx(z9e,{...e})},resourceType:"Manifest",resourceFields:["id","label"],additionalTypes:["Collection"],supports:{parentTypes:["Collection"],parentFieldMap:{Collection:["items"]}},sideEffects:[],staticFields:{}},wYt=[VFe,IZt,UFe,jZt,KZt,_Zt,eYt,TZt,vYt,HFe,GZt,sYt,KFe,qZt,zZt,ZZt,kZt,rYt,BZt,uYt],xYt=Object.defineProperty,SYt=(e,t)=>{for(var n in t)xYt(e,n,{get:t[n],enumerable:!0})},qFe={};SYt(qFe,{centerPanels:()=>IYt,config:()=>AYt,creators:()=>NYt,default:()=>LYt,editors:()=>jYt,leftPanels:()=>RYt,modals:()=>OYt,resources:()=>FYt,rightPanels:()=>DYt});function GFe({id:e,type:t="Manifest",setThumbnail:n}){const r=h.useMemo(()=>new fh,[]),i=h.useMemo(()=>n1(r),[r]),o=h.useMemo(()=>[{type:"callback",label:"Set as thumbnail",supportedTypes:n?["Canvas"]:[],cb:async u=>{const c=r.get(u),f=await i.getBestThumbnailAtSize(c,{width:256,height:256});f.best&&(n==null||n({url:f.best.id,format:"image/jpeg",width:f.best.width,height:f.best.height}))},format:{type:"custom",format:u=>u}}],[i,r,n]),s=h.useMemo(()=>({canCropImage:!1,canSelectCanvas:!0,canSelectManifest:!0,canSelectCollection:!0,multiSelect:!1,allowNavigationToBuiltInPages:!1}),[]),a=h.useMemo(()=>({homeLink:e,buttonClassName:"bg-me-primary-500 text-white hover:bg-me-primary-600"}),[e]),l=h.useMemo(()=>({saveToLocalStorage:!1,restoreFromLocalStorage:!1,initialHistory:[{url:e,resource:e,route:`/loading?id=${e}`,metadata:{type:t}}]}),[e,t]);return d.jsx(FJ,{children:d.jsx(B9e,{debug:!0,ui:a,vault:r,history:l,className:"iiif-browser border-none border-t rounded-none h-[70vh] min-h-[60vh] max-h-full max-w-full",output:o,navigation:s})})}function _Yt(){var c;const[e,t]=h.useState(!1),n=lv({}),{edit:r}=vu(),i=BJ(),o=Tx(n),s=fd(),a=((c=s==null?void 0:s.resource.source)==null?void 0:c.id)===(n==null?void 0:n.id),l=o.descriptive.thumbnail.get(),u=h.useCallback(f=>{o.descriptive.thumbnail.deleteAtIndex(0),i.create("@manifest-editor/image-url-creator",f,{targetType:"ContentResource",parent:{property:"thumbnail",resource:{id:n.id,type:"Collection"}},initialData:{}}),t(!1),r(n)},[i,r,o,n]);return d.jsxs("div",{"data-selected":a||void 0,className:"bg-white p-2 relative data-[selected]:ring-2 ring-me-gray-500 data-[selected]:ring-me-primary-500 hover:ring-2 rounded",onClick:()=>r(n),children:[d.jsx("div",{className:"aspect-square bg-gray-100 mb-2 relative rounded-sm overflow-hidden",children:l.length?d.jsx("img",{className:"w-full h-full object-contain",src:l[0].id,alt:"Collection Thumbnail"}):d.jsx("div",{className:"w-full h-full flex items-center text-center justify-center text-gray-600",children:"No thumbnail"})}),d.jsx(Fn,{className:"line-clamp-2 text-sm",as:"h4",children:n==null?void 0:n.label}),d.jsx(Fn,{className:"line-clamp-2 mt-2 text-xs text-gray-600",as:"p",children:n==null?void 0:n.summary}),d.jsx(x3,{placement:"bottom",children:d.jsxs(S3,{className:"absolute top-3 right-3 flex items-center gap-1 bg-white hover:bg-me-primary-100 p-1 rounded-sm text-me-primary-500 text-2xl","aria-label":"Preview Manifest",id:`preview_${n==null?void 0:n.id}`,onClick:()=>t(!0),children:[d.jsx(rRe,{}),d.jsx(i5,{children:"Browse Collection"})]})}),d.jsx(CJ,{title:"Preview Collection",open:e,onClose:()=>t(!1),children:n&&e?d.jsx(GFe,{id:n.id,setThumbnail:u}):null})]})}function CYt(){var f;const[e,t]=h.useState(!1),n=Li(),r=av({width:256,height:256}),{edit:i}=vu(),o=BJ(),s=Tx(n),a=fd(),l=((f=a==null?void 0:a.resource.source)==null?void 0:f.id)===(n==null?void 0:n.id),u=s.descriptive.thumbnail.get(),c=h.useCallback(p=>{s.descriptive.thumbnail.deleteAtIndex(0),o.create("@manifest-editor/image-url-creator",p,{targetType:"ContentResource",parent:{property:"thumbnail",resource:{id:n.id,type:"Manifest"}},initialData:{}}),t(!1),i(n)},[o,i,s,n]);return d.jsxs("div",{"data-selected":l||void 0,className:"bg-white p-2 relative data-[selected]:ring-2 ring-me-gray-500 data-[selected]:ring-me-primary-500 hover:ring-2 rounded",onClick:()=>i(n),children:[d.jsx("div",{className:"aspect-square bg-gray-100 mb-2 relative rounded-sm overflow-hidden",children:r&&u.length?d.jsx("img",{className:"w-full h-full object-contain",src:r.id,alt:"Manifest Thumbnail"}):d.jsx("div",{className:"w-full h-full flex items-center text-center justify-center text-gray-600",children:"No thumbnail"})}),d.jsx(Fn,{className:"line-clamp-2 text-sm",as:"h4",children:n==null?void 0:n.label}),d.jsx(Fn,{className:"line-clamp-2 mt-2 text-xs text-gray-600",as:"p",children:n==null?void 0:n.summary}),d.jsx(x3,{placement:"bottom",children:d.jsxs(S3,{className:"absolute top-3 right-3 flex items-center gap-1 bg-white hover:bg-me-primary-100 p-1 rounded-sm text-me-primary-500 text-2xl","aria-label":"Preview Manifest",id:`preview_${n==null?void 0:n.id}`,onClick:()=>t(!0),children:[d.jsx(rRe,{}),d.jsx(i5,{children:"Browse Manifest"})]})}),d.jsx(CJ,{title:"Preview Manifest",open:e,onClose:()=>t(!1),children:n&&e?d.jsx(GFe,{id:n.id,setThumbnail:c}):null})]})}var EYt={id:"collection-overview",label:"Collection Overview",icon:"",render:()=>d.jsx(kYt,{})};function kYt(){const{structural:e}=VJ(),t=e.items.get();return d.jsx("div",{className:"grid grid-md p-3 gap-3 overflow-y-auto",children:t.map(n=>n.type==="Manifest"?d.jsx(hh,{manifest:n.id,children:d.jsx(CYt,{})},n.id):d.jsx(QR,{collection:n.id,children:d.jsx(_Yt,{})},n.id))})}var PYt={id:"collection-items",label:"Collection Items",icon:d.jsx(qvt,{}),render:()=>d.jsx($Yt,{})};function $Yt(){var p,g;vu();const e=Tg("Manifest"),t=Tg("Collection"),[n,r]=N3(),i=lv({}),{descriptive:o,structural:s}=VJ(),[a,l]=ed(i,"items","Manifest"),[u,c]=ed(i,"items","Collection"),{items:f}=s;return d.jsxs(A7,{children:[d.jsx(I7,{title:"Manifests and Collections",actions:[{icon:d.jsx(Zvt,{}),title:"Edit items",toggled:n.items,onClick:()=>r("items")},{icon:d.jsx(R7,{className:"text-2xl"}),title:"IIIF Browser",onClick:()=>l.creator("@manifest-editor/manifest-browser-creator"),disabled:!a}]}),d.jsx(o5,{className:"p-3",children:d.jsx(UWt,{id:f.focusId(),list:f.get()||[],inlineHandle:!1,activeId:((p=e==null?void 0:e.resource.source)==null?void 0:p.id)||((g=t==null?void 0:t.resource.source)==null?void 0:g.id)||"",reorder:n.items?v=>f.reorder(v.startIndex,v.endIndex):void 0,onSelect:(v,y)=>{var S;return((S=Oi(v))==null?void 0:S.type)==="Manifest"?l.edit(v,y):c.edit(v,y)},createActions:Tl(f)})})]})}var TYt={id:"collection-summary",label:"Collection summary",icon:d.jsx(Kvt,{}),render:(e,t,n)=>d.jsxs(A7,{children:[d.jsx(I7,{title:"Collection summary"}),d.jsx(o5,{className:"p-4",children:d.jsx(MYt,{})})]})};function MYt(){const{edit:e,open:t}=vu(),{descriptive:n,technical:r}=VJ(),o={id:r.id.get(),type:"Collection"},s=h.useRef(!0),a=n.label.get(),l=n.summary.get(),u=n.requiredStatement.get(),c=n.metadata.get();return h.useEffect(()=>{e(o),t({id:"collection-overview"}),s.current=!1},[]),d.jsxs(d.Fragment,{children:[a?d.jsx(Fn,{as:"h2",className:"text-lg font-semibold mb-2 [&>a]:underline [&>a]:hover:text-slate-400",children:a}):null,l?d.jsx(Fn,{enableDangerouslySetInnerHTML:!0,as:"p",className:"text-sm text-slate-800 block [&>a]:underline [&>a]:hover:text-slate-400 mb-2",children:l}):null,d.jsx("hr",{}),u?d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"py-2 text-black",children:[d.jsx(Fn,{as:"h4",className:"font-bold text-black w-full text-sm font-semibold mb-0 [&>a]:underline [&>a]:hover:text-slate-400",children:u.label}),d.jsx(Fn,{enableDangerouslySetInnerHTML:!0,className:"text-sm [&>a]:underline [&>a]:hover:text-slate-400",children:u.value})]}),d.jsx("hr",{})]}):null,c&&c.length===0?d.jsx("div",{className:"py-2 text-gray-400",children:"You can add some descriptive metadata for this Collection using the editing panel on the right"}):null,d.jsx(AEe,{metadata:c,allowHtml:!0,classes:{container:"w-full",row:"border-b border-gray-200 flex flex-col flex-wrap py-2",label:"font-bold text-black w-full text-sm font-semibold mb-1",value:"text-sm text-black block [&>span>a]:underline [&>span>a]:hover:text-slate-400",empty:"text-gray-400"}})]})}var LYt={id:"collection-editor",title:"Collection Editor",project:!0,projectType:"Collection"},AYt={editorConfig:{Manifest:{fields:["label","summary","metadata","thumbnail"],singleTab:"@manifest-editor/overview"},Collection:{fields:["label","summary","requiredStatement","thumbnail"]}}},IYt=[EYt,{id:"center-panel-empty",label:"Center panel",icon:"",render:()=>d.jsx(BYt,{})},{id:"export",label:"Export",icon:"",render:()=>d.jsx(JRe,{})}],RYt=[TYt,PYt],DYt=[QRe],OYt=[GRe],jYt=INe,NYt=[UFe,HFe,VFe,KFe,bYt],FYt=["Collection","Manifest","ContentResource"];function BYt(){const e=Tg("Manifest");return e?d.jsx(FJ,{children:d.jsx(RFe,{hideBack:!0,entry:e.resource.source,hideHeader:!0,window:!1})},e.resource.source.id):d.jsx("div",{children:"No manifest selected"})}var Hpe=WRe(qFe),ZFe=({title:e,titleId:t,...n})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em","aria-labelledby":t,...n,children:[e?d.jsx("title",{id:t,children:e}):null,d.jsxs("g",{fill:"none",children:[d.jsx("path",{d:"M0 0h24v24H0V0z"}),d.jsx("path",{d:"M0 0h24v24H0V0z",opacity:".87"})]}),d.jsx("path",{d:"M3 13h2v-2H3v2zm0 4h2v-2H3v2zm0-8h2V7H3v2zm4 4h14v-2H7v2zm0 4h14v-2H7v2zM7 7v2h14V7H7zm-4 6h2v-2H3v2zm0 4h2v-2H3v2zm0-8h2V7H3v2zm4 4h14v-2H7v2zm0 4h14v-2H7v2zM7 7v2h14V7H7z",fill:"currentColor"})]}),zYt={id:"canvas-listing",label:"Canvases",icon:d.jsx(ZFe,{}),render:(e,t,n)=>d.jsx(HYt,{gridView:e.gridView||!1,onChangeGridView:r=>t.actions.change("canvas-listing",{gridView:r})})};function HYt({gridView:e,onChangeGridView:t}){const{open:n}=vu(),{structural:r,technical:i}=H7(),[o,s]=N3(),a=Tg("Canvas"),{items:l}=r,c={id:i.id.get(),type:"Manifest"},[f,p]=ed(c,"items","Canvas"),g=PJ(l.get(),24);return h.useEffect(()=>{a!=null&&a.resource.source.id||l.get().length&&(n({id:"current-canvas"}),p.edit(l.get()[0]))},[]),h.useLayoutEffect(()=>{const v=document.querySelector('[data-canvas-selected="true"]');v&&v.scrollIntoView({block:"center"})},[g,e]),d.jsxs(A7,{children:[d.jsx(I7,{title:"Canvases",actions:[{icon:d.jsx(d.Fragment,{children:e?d.jsx(ZFe,{width:24,height:24}):d.jsx(KYt,{})}),title:e?"List view":"Grid view",onClick:()=>{t(!e)}},{icon:d.jsx(WYt,{}),title:"Edit canvases",toggled:o.items,onClick:()=>s("items")},{icon:d.jsx(R7,{className:"text-2xl"}),title:"IIIF Browser",onClick:()=>p.creator("@manifest-editor/iiif-browser-creator"),disabled:!f},{icon:d.jsx(Uvt,{}),title:"Add new canvas",onClick:()=>p.create(),disabled:!f}]}),e?d.jsx(VYt,{isEditing:o.items}):d.jsx(UYt,{isEditing:o.items})]})}function YFe(){const{edit:e,open:t}=vu(),n=Tg("Canvas"),{technical:r,structural:i}=H7(),{items:o}=i,a={id:r.id.get(),type:"Manifest"},l=PJ(o.get(),24),[u,c]=ed(a,"items","Canvas");return{canvas:n,canvases:l,items:o,canvasActions:c,open:t,edit:e,canCreateCanvas:u}}function VYt({isEditing:e}){const{canvas:t,items:n,canvases:r,canvasActions:i,open:o}=YFe();return d.jsx(o5,{children:d.jsx(XIe,{children:d.jsx($Ut,{id:n.focusId(),list:n.get()||[],inlineHandle:!1,activeId:t==null?void 0:t.resource.source.id,reorder:e?s=>n.reorder(s.startIndex,s.endIndex):void 0,onSelect:(s,a)=>{o({id:"current-canvas"}),i.edit(s,a)},createActions:Tl(n)})})})}function UYt({isEditing:e}){const{canvas:t,items:n,canvasActions:r,open:i}=YFe();return d.jsx(o5,{className:"p-3",children:d.jsx(Vn,{$wide:!0,children:d.jsx(bNe,{id:n.focusId(),list:n.get()||[],inlineHandle:!1,activeId:t==null?void 0:t.resource.source.id,reorder:e?o=>n.reorder(o.startIndex,o.endIndex):void 0,onSelect:(o,s)=>{i({id:"current-canvas"}),r.edit(o,s)},createActions:Tl(n)})})})}function WYt(){return d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24",children:[d.jsx("path",{d:"M0 0h24v24H0V0z",fill:"none"}),d.jsx("path",{d:"M14.06 9.02l.92.92L5.92 19H5v-.92l9.06-9.06M17.66 3c-.25 0-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.2-.2-.45-.29-.71-.29zm-3.6 3.19L3 17.25V21h3.75L17.81 9.94l-3.75-3.75z"})]})}function KYt(){return d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24",children:[d.jsx("path",{d:"M0 0h24v24H0V0z",fill:"none"}),d.jsx("path",{d:"M20 2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM8 20H4v-4h4v4zm0-6H4v-4h4v4zm0-6H4V4h4v4zm6 12h-4v-4h4v4zm0-6h-4v-4h4v4zm0-6h-4V4h4v4zm6 12h-4v-4h4v4zm0-6h-4v-4h4v4zm0-6h-4V4h4v4z",fill:"currentColor"})]})}function qYt({title:e,titleId:t,...n}){return d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em","aria-labelledby":t,...n,children:[e?d.jsx("title",{id:t,children:e}):null,d.jsx("path",{d:"M0 0h24v24H0V0z",fill:"none"}),d.jsx("path",{d:"M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z",fill:"currentColor"})]})}var GYt={id:"left-panel-manifest",label:"Manifest summary",icon:d.jsx(qYt,{}),render:(e,t,n)=>d.jsxs(A7,{children:[d.jsx(I7,{title:"Manifest summary"}),d.jsx(o5,{className:"p-4",children:d.jsx(ZYt,{})})]})};function ZYt(){const{edit:e,open:t}=vu(),{descriptive:n,technical:r}=H7(),o={id:r.id.get(),type:"Manifest"},s=h.useRef(!0),a=n.label.get(),l=n.summary.get(),u=n.requiredStatement.get(),c=n.metadata.get();return h.useEffect(()=>{e(o),t({id:"overview"}),s.current=!1},[]),d.jsxs(d.Fragment,{children:[a?d.jsx(Fn,{as:"h2",className:"text-lg font-semibold mb-2 [&>a]:underline [&>a]:hover:text-slate-400",children:a}):null,l?d.jsx(Fn,{enableDangerouslySetInnerHTML:!0,as:"p",className:"text-sm text-slate-800 block [&>a]:underline [&>a]:hover:text-slate-400 mb-2",children:l}):null,d.jsx("hr",{}),u?d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"py-2 text-black",children:[d.jsx(Fn,{as:"h4",className:"font-bold text-black w-full text-sm font-semibold mb-0 [&>a]:underline [&>a]:hover:text-slate-400",children:u.label}),d.jsx(Fn,{enableDangerouslySetInnerHTML:!0,className:"text-sm [&>a]:underline [&>a]:hover:text-slate-400",children:u.value})]}),d.jsx("hr",{})]}):null,c&&c.length===0?d.jsx("div",{className:"py-2 text-gray-400",children:"You can add some descriptive metadata for this manifest using the editing panel on the right"}):null,d.jsx(_at,{allowHtml:!0,classes:{container:"w-full",row:"border-b border-gray-200 flex flex-col flex-wrap py-2",label:"font-bold text-black w-full text-sm font-semibold mb-1",value:"text-sm text-black block [&>span>a]:underline [&>span>a]:hover:text-slate-400",empty:"text-gray-400"}})]})}var YYt={id:"overview",label:"Overview",icon:"",render:()=>d.jsx(XYt,{})};function XYt(){const{edit:e,open:t}=vu(),{structural:n,technical:r}=H7(),{items:i}=n,s={id:r.id.get(),type:"Manifest"},[a,l]=ed(s,"items","Canvas"),u=PJ(i.get(),24);return!u||u.length===0?d.jsx("div",{children:d.jsx(Pvt,{onCreate:l.create,canCreate:a})}):d.jsx(XIe,{wide:!0,children:u.map(c=>d.jsx(Cq,{id:c.id,onClick:()=>{t({id:"current-canvas"}),t({id:"canvas-listing",state:{gridView:!0}}),l.edit(c)}},c.id))})}var QYt={id:"manifest-editor",title:"Manifest Editor",project:!0,projectType:"Manifest"},JYt=[YYt,{id:"current-canvas",label:"Current canvas",icon:"",render:(e,{actions:t})=>d.jsx(VWt,{})},{id:"export",label:"Export",icon:"",render:()=>d.jsx(JRe,{})}],eXt=[GYt,zYt],tXt=[QRe],nXt=[GRe],rXt=INe,iXt=wYt,oXt=["Manifest","Canvas","ContentResource","Agent","AnnotationPage","Annotation","Range"];const sXt=Object.freeze(Object.defineProperty({__proto__:null,centerPanels:JYt,creators:iXt,default:QYt,editors:rXt,leftPanels:eXt,modals:nXt,resources:oXt,rightPanels:tXt},Symbol.toStringTag,{value:"Module"}));var Vpe="Invariant failed";function Upe(e,t){if(!e){var n=typeof t=="function"?t():t,r=n?"".concat(Vpe,": ").concat(n):Vpe;throw new Error(r)}}var Wpe=WRe(sXt);function aXt(e){const t=em(e.vault);Upe(e.resource),Upe(e.data,"Data is required"),t.requestStatus(e.resource.id)||t.loadManifestSync(e.resource.id,e.data);let n=null,r=null;return e.resource.type==="Manifest"?(n=Wpe,r=Wpe.metadata.id):e.resource.type==="Collection"&&(n=Hpe,r=Hpe.metadata.id),n===null||r===null?null:d.jsx($1t,{appId:r,definition:n,instanceId:"test-1",children:d.jsx(Ip,{vault:t,children:d.jsx(Iwt,{resource:e.resource,children:d.jsx(Ewt,{})})})})}var lXt=!1;function uXt(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function cXt(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var dXt=function(){function e(n){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!lXt:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(cXt(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=uXt(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},e}(),xl="-ms-",i9="-moz-",pi="-webkit-",XFe="comm",Kte="rule",qte="decl",fXt="@import",QFe="@keyframes",hXt="@layer",pXt=Math.abs,G8=String.fromCharCode,mXt=Object.assign;function gXt(e,t){return Ga(e,0)^45?(((t<<2^Ga(e,0))<<2^Ga(e,1))<<2^Ga(e,2))<<2^Ga(e,3):0}function JFe(e){return e.trim()}function vXt(e,t){return(e=t.exec(e))?e[0]:e}function mi(e,t,n){return e.replace(t,n)}function hZ(e,t){return e.indexOf(t)}function Ga(e,t){return e.charCodeAt(t)|0}function Y4(e,t,n){return e.slice(t,n)}function cp(e){return e.length}function Gte(e){return e.length}function PL(e,t){return t.push(e),e}function yXt(e,t){return e.map(t).join("")}var Z8=1,jC=1,eBe=0,fc=0,Ls=0,z3="";function Y8(e,t,n,r,i,o,s){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:Z8,column:jC,length:s,return:""}}function ek(e,t){return mXt(Y8("",null,null,"",null,null,0),e,{length:-e.length},t)}function bXt(){return Ls}function wXt(){return Ls=fc>0?Ga(z3,--fc):0,jC--,Ls===10&&(jC=1,Z8--),Ls}function Gc(){return Ls=fc<eBe?Ga(z3,fc++):0,jC++,Ls===10&&(jC=1,Z8++),Ls}function Cp(){return Ga(z3,fc)}function kI(){return fc}function I5(e,t){return Y4(z3,e,t)}function X4(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function tBe(e){return Z8=jC=1,eBe=cp(z3=e),fc=0,[]}function nBe(e){return z3="",e}function PI(e){return JFe(I5(fc-1,pZ(e===91?e+2:e===40?e+1:e)))}function xXt(e){for(;(Ls=Cp())&&Ls<33;)Gc();return X4(e)>2||X4(Ls)>3?"":" "}function SXt(e,t){for(;--t&&Gc()&&!(Ls<48||Ls>102||Ls>57&&Ls<65||Ls>70&&Ls<97););return I5(e,kI()+(t<6&&Cp()==32&&Gc()==32))}function pZ(e){for(;Gc();)switch(Ls){case e:return fc;case 34:case 39:e!==34&&e!==39&&pZ(Ls);break;case 40:e===41&&pZ(e);break;case 92:Gc();break}return fc}function _Xt(e,t){for(;Gc()&&e+Ls!==57;)if(e+Ls===84&&Cp()===47)break;return"/*"+I5(t,fc-1)+"*"+G8(e===47?e:Gc())}function CXt(e){for(;!X4(Cp());)Gc();return I5(e,fc)}function EXt(e){return nBe($I("",null,null,null,[""],e=tBe(e),0,[0],e))}function $I(e,t,n,r,i,o,s,a,l){for(var u=0,c=0,f=s,p=0,g=0,v=0,y=1,S=1,C=1,_=0,k="",w=i,P=o,M=r,R=k;S;)switch(v=_,_=Gc()){case 40:if(v!=108&&Ga(R,f-1)==58){hZ(R+=mi(PI(_),"&","&\f"),"&\f")!=-1&&(C=-1);break}case 34:case 39:case 91:R+=PI(_);break;case 9:case 10:case 13:case 32:R+=xXt(v);break;case 92:R+=SXt(kI()-1,7);continue;case 47:switch(Cp()){case 42:case 47:PL(kXt(_Xt(Gc(),kI()),t,n),l);break;default:R+="/"}break;case 123*y:a[u++]=cp(R)*C;case 125*y:case 59:case 0:switch(_){case 0:case 125:S=0;case 59+c:C==-1&&(R=mi(R,/\f/g,"")),g>0&&cp(R)-f&&PL(g>32?qpe(R+";",r,n,f-1):qpe(mi(R," ","")+";",r,n,f-2),l);break;case 59:R+=";";default:if(PL(M=Kpe(R,t,n,u,c,i,a,k,w=[],P=[],f),o),_===123)if(c===0)$I(R,t,M,M,w,o,f,a,P);else switch(p===99&&Ga(R,3)===110?100:p){case 100:case 108:case 109:case 115:$I(e,M,M,r&&PL(Kpe(e,M,M,0,0,i,a,k,i,w=[],f),P),i,P,f,a,r?w:P);break;default:$I(R,M,M,M,[""],P,0,a,P)}}u=c=g=0,y=C=1,k=R="",f=s;break;case 58:f=1+cp(R),g=v;default:if(y<1){if(_==123)--y;else if(_==125&&y++==0&&wXt()==125)continue}switch(R+=G8(_),_*y){case 38:C=c>0?1:(R+="\f",-1);break;case 44:a[u++]=(cp(R)-1)*C,C=1;break;case 64:Cp()===45&&(R+=PI(Gc())),p=Cp(),c=f=cp(k=R+=CXt(kI())),_++;break;case 45:v===45&&cp(R)==2&&(y=0)}}return o}function Kpe(e,t,n,r,i,o,s,a,l,u,c){for(var f=i-1,p=i===0?o:[""],g=Gte(p),v=0,y=0,S=0;v<r;++v)for(var C=0,_=Y4(e,f+1,f=pXt(y=s[v])),k=e;C<g;++C)(k=JFe(y>0?p[C]+" "+_:mi(_,/&\f/g,p[C])))&&(l[S++]=k);return Y8(e,t,n,i===0?Kte:a,l,u,c)}function kXt(e,t,n){return Y8(e,t,n,XFe,G8(bXt()),Y4(e,2,-2),0)}function qpe(e,t,n,r){return Y8(e,t,n,qte,Y4(e,0,r),Y4(e,r+1,-1),r)}function q2(e,t){for(var n="",r=Gte(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function PXt(e,t,n,r){switch(e.type){case hXt:if(e.children.length)break;case fXt:case qte:return e.return=e.return||e.value;case XFe:return"";case QFe:return e.return=e.value+"{"+q2(e.children,r)+"}";case Kte:e.value=e.props.join(",")}return cp(n=q2(e.children,r))?e.return=e.value+"{"+n+"}":""}function $Xt(e){var t=Gte(e);return function(n,r,i,o){for(var s="",a=0;a<t;a++)s+=e[a](n,r,i,o)||"";return s}}function TXt(e){return function(t){t.root||(t=t.return)&&e(t)}}var Gpe=function(t){var n=new WeakMap;return function(r){if(n.has(r))return n.get(r);var i=t(r);return n.set(r,i),i}},MXt=function(t,n,r){for(var i=0,o=0;i=o,o=Cp(),i===38&&o===12&&(n[r]=1),!X4(o);)Gc();return I5(t,fc)},LXt=function(t,n){var r=-1,i=44;do switch(X4(i)){case 0:i===38&&Cp()===12&&(n[r]=1),t[r]+=MXt(fc-1,n,r);break;case 2:t[r]+=PI(i);break;case 4:if(i===44){t[++r]=Cp()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=G8(i)}while(i=Gc());return t},AXt=function(t,n){return nBe(LXt(tBe(t),n))},Zpe=new WeakMap,IXt=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,i=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!Zpe.get(r))&&!i){Zpe.set(t,!0);for(var o=[],s=AXt(n,o),a=r.props,l=0,u=0;l<s.length;l++)for(var c=0;c<a.length;c++,u++)t.props[u]=o[l]?s[l].replace(/&\f/g,a[c]):a[c]+" "+s[l]}}},RXt=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function rBe(e,t){switch(gXt(e,t)){case 5103:return pi+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return pi+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return pi+e+i9+e+xl+e+e;case 6828:case 4268:return pi+e+xl+e+e;case 6165:return pi+e+xl+"flex-"+e+e;case 5187:return pi+e+mi(e,/(\w+).+(:[^]+)/,pi+"box-$1$2"+xl+"flex-$1$2")+e;case 5443:return pi+e+xl+"flex-item-"+mi(e,/flex-|-self/,"")+e;case 4675:return pi+e+xl+"flex-line-pack"+mi(e,/align-content|flex-|-self/,"")+e;case 5548:return pi+e+xl+mi(e,"shrink","negative")+e;case 5292:return pi+e+xl+mi(e,"basis","preferred-size")+e;case 6060:return pi+"box-"+mi(e,"-grow","")+pi+e+xl+mi(e,"grow","positive")+e;case 4554:return pi+mi(e,/([^-])(transform)/g,"$1"+pi+"$2")+e;case 6187:return mi(mi(mi(e,/(zoom-|grab)/,pi+"$1"),/(image-set)/,pi+"$1"),e,"")+e;case 5495:case 3959:return mi(e,/(image-set\([^]*)/,pi+"$1$`$1");case 4968:return mi(mi(e,/(.+:)(flex-)?(.*)/,pi+"box-pack:$3"+xl+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+pi+e+e;case 4095:case 3583:case 4068:case 2532:return mi(e,/(.+)-inline(.+)/,pi+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(cp(e)-1-t>6)switch(Ga(e,t+1)){case 109:if(Ga(e,t+4)!==45)break;case 102:return mi(e,/(.+:)(.+)-([^]+)/,"$1"+pi+"$2-$3$1"+i9+(Ga(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~hZ(e,"stretch")?rBe(mi(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(Ga(e,t+1)!==115)break;case 6444:switch(Ga(e,cp(e)-3-(~hZ(e,"!important")&&10))){case 107:return mi(e,":",":"+pi)+e;case 101:return mi(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+pi+(Ga(e,14)===45?"inline-":"")+"box$3$1"+pi+"$2$3$1"+xl+"$2box$3")+e}break;case 5936:switch(Ga(e,t+11)){case 114:return pi+e+xl+mi(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return pi+e+xl+mi(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return pi+e+xl+mi(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return pi+e+xl+e+e}return e}var DXt=function(t,n,r,i){if(t.length>-1&&!t.return)switch(t.type){case qte:t.return=rBe(t.value,t.length);break;case QFe:return q2([ek(t,{value:mi(t.value,"@","@"+pi)})],i);case Kte:if(t.length)return yXt(t.props,function(o){switch(vXt(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return q2([ek(t,{props:[mi(o,/:(read-\w+)/,":"+i9+"$1")]})],i);case"::placeholder":return q2([ek(t,{props:[mi(o,/:(plac\w+)/,":"+pi+"input-$1")]}),ek(t,{props:[mi(o,/:(plac\w+)/,":"+i9+"$1")]}),ek(t,{props:[mi(o,/:(plac\w+)/,xl+"input-$1")]})],i)}return""})}},OXt=[DXt],jXt=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(y){var S=y.getAttribute("data-emotion");S.indexOf(" ")!==-1&&(document.head.appendChild(y),y.setAttribute("data-s",""))})}var i=t.stylisPlugins||OXt,o={},s,a=[];s=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(y){for(var S=y.getAttribute("data-emotion").split(" "),C=1;C<S.length;C++)o[S[C]]=!0;a.push(y)});var l,u=[IXt,RXt];{var c,f=[PXt,TXt(function(y){c.insert(y)})],p=$Xt(u.concat(i,f)),g=function(S){return q2(EXt(S),p)};l=function(S,C,_,k){c=_,g(S?S+"{"+C.styles+"}":C.styles),k&&(v.inserted[C.name]=!0)}}var v={key:n,sheet:new dXt({key:n,container:s,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:o,registered:{},insert:l};return v.sheet.hydrate(a),v},iBe={exports:{}},Ai={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ka=typeof Symbol=="function"&&Symbol.for,Zte=ka?Symbol.for("react.element"):60103,Yte=ka?Symbol.for("react.portal"):60106,X8=ka?Symbol.for("react.fragment"):60107,Q8=ka?Symbol.for("react.strict_mode"):60108,J8=ka?Symbol.for("react.profiler"):60114,ej=ka?Symbol.for("react.provider"):60109,tj=ka?Symbol.for("react.context"):60110,Xte=ka?Symbol.for("react.async_mode"):60111,nj=ka?Symbol.for("react.concurrent_mode"):60111,rj=ka?Symbol.for("react.forward_ref"):60112,ij=ka?Symbol.for("react.suspense"):60113,NXt=ka?Symbol.for("react.suspense_list"):60120,oj=ka?Symbol.for("react.memo"):60115,sj=ka?Symbol.for("react.lazy"):60116,FXt=ka?Symbol.for("react.block"):60121,BXt=ka?Symbol.for("react.fundamental"):60117,zXt=ka?Symbol.for("react.responder"):60118,HXt=ka?Symbol.for("react.scope"):60119;function hd(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Zte:switch(e=e.type,e){case Xte:case nj:case X8:case J8:case Q8:case ij:return e;default:switch(e=e&&e.$$typeof,e){case tj:case rj:case sj:case oj:case ej:return e;default:return t}}case Yte:return t}}}function oBe(e){return hd(e)===nj}Ai.AsyncMode=Xte;Ai.ConcurrentMode=nj;Ai.ContextConsumer=tj;Ai.ContextProvider=ej;Ai.Element=Zte;Ai.ForwardRef=rj;Ai.Fragment=X8;Ai.Lazy=sj;Ai.Memo=oj;Ai.Portal=Yte;Ai.Profiler=J8;Ai.StrictMode=Q8;Ai.Suspense=ij;Ai.isAsyncMode=function(e){return oBe(e)||hd(e)===Xte};Ai.isConcurrentMode=oBe;Ai.isContextConsumer=function(e){return hd(e)===tj};Ai.isContextProvider=function(e){return hd(e)===ej};Ai.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Zte};Ai.isForwardRef=function(e){return hd(e)===rj};Ai.isFragment=function(e){return hd(e)===X8};Ai.isLazy=function(e){return hd(e)===sj};Ai.isMemo=function(e){return hd(e)===oj};Ai.isPortal=function(e){return hd(e)===Yte};Ai.isProfiler=function(e){return hd(e)===J8};Ai.isStrictMode=function(e){return hd(e)===Q8};Ai.isSuspense=function(e){return hd(e)===ij};Ai.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===X8||e===nj||e===J8||e===Q8||e===ij||e===NXt||typeof e=="object"&&e!==null&&(e.$$typeof===sj||e.$$typeof===oj||e.$$typeof===ej||e.$$typeof===tj||e.$$typeof===rj||e.$$typeof===BXt||e.$$typeof===zXt||e.$$typeof===HXt||e.$$typeof===FXt)};Ai.typeOf=hd;iBe.exports=Ai;var VXt=iBe.exports,sBe=VXt,UXt={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},WXt={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},aBe={};aBe[sBe.ForwardRef]=UXt;aBe[sBe.Memo]=WXt;var KXt=!0;function qXt(e,t,n){var r="";return n.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):i&&(r+=i+" ")}),r}var lBe=function(t,n,r){var i=t.key+"-"+n.name;(r===!1||KXt===!1)&&t.registered[i]===void 0&&(t.registered[i]=n.styles)},uBe=function(t,n,r){lBe(t,n,r);var i=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var o=n;do t.insert(n===o?"."+i:"",o,t.sheet,!0),o=o.next;while(o!==void 0)}};function GXt(e){for(var t=0,n,r=0,i=e.length;i>=4;++r,i-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var ZXt={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function YXt(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var XXt=!1,QXt=/[A-Z]|^ms/g,JXt=/_EMO_([^_]+?)_([^]*?)_EMO_/g,cBe=function(t){return t.charCodeAt(1)===45},Ype=function(t){return t!=null&&typeof t!="boolean"},Lz=YXt(function(e){return cBe(e)?e:e.replace(QXt,"-$&").toLowerCase()}),Xpe=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(JXt,function(r,i,o){return dp={name:i,styles:o,next:dp},i})}return ZXt[t]!==1&&!cBe(t)&&typeof n=="number"&&n!==0?n+"px":n},eQt="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function Q4(e,t,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return dp={name:i.name,styles:i.styles,next:dp},i.name;var o=n;if(o.styles!==void 0){var s=o.next;if(s!==void 0)for(;s!==void 0;)dp={name:s.name,styles:s.styles,next:dp},s=s.next;var a=o.styles+";";return a}return tQt(e,t,n)}case"function":{if(e!==void 0){var l=dp,u=n(e);return dp=l,Q4(e,t,u)}break}}var c=n;if(t==null)return c;var f=t[c];return f!==void 0?f:c}function tQt(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Q4(e,t,n[i])+";";else for(var o in n){var s=n[o];if(typeof s!="object"){var a=s;t!=null&&t[a]!==void 0?r+=o+"{"+t[a]+"}":Ype(a)&&(r+=Lz(o)+":"+Xpe(o,a)+";")}else{if(o==="NO_COMPONENT_SELECTOR"&&XXt)throw new Error(eQt);if(Array.isArray(s)&&typeof s[0]=="string"&&(t==null||t[s[0]]===void 0))for(var l=0;l<s.length;l++)Ype(s[l])&&(r+=Lz(o)+":"+Xpe(o,s[l])+";");else{var u=Q4(e,t,s);switch(o){case"animation":case"animationName":{r+=Lz(o)+":"+u+";";break}default:r+=o+"{"+u+"}"}}}}return r}var Qpe=/label:\s*([^\s;{]+)\s*(;|$)/g,dp;function Qte(e,t,n){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var r=!0,i="";dp=void 0;var o=e[0];if(o==null||o.raw===void 0)r=!1,i+=Q4(n,t,o);else{var s=o;i+=s[0]}for(var a=1;a<e.length;a++)if(i+=Q4(n,t,e[a]),r){var l=o;i+=l[a]}Qpe.lastIndex=0;for(var u="",c;(c=Qpe.exec(i))!==null;)u+="-"+c[1];var f=GXt(i)+u;return{name:f,styles:i,next:dp}}var nQt=function(t){return t()},dBe=UP.useInsertionEffect?UP.useInsertionEffect:!1,rQt=dBe||nQt,Jpe=dBe||h.useLayoutEffect,fBe=h.createContext(typeof HTMLElement<"u"?jXt({key:"css"}):null);fBe.Provider;var hBe=function(t){return h.forwardRef(function(n,r){var i=h.useContext(fBe);return t(n,i,r)})},J4=h.createContext({}),iQt=function(t,n){if(typeof n=="function"){var r=n(t);return r}return Dp({},t,n)},oQt=Gpe(function(e){return Gpe(function(t){return iQt(e,t)})}),sQt=function(t){var n=h.useContext(J4);return t.theme!==n&&(n=oQt(n)(t.theme)),h.createElement(J4.Provider,{value:n},t.children)},aj=hBe(function(e,t){var n=e.styles,r=Qte([n],void 0,h.useContext(J4)),i=h.useRef();return Jpe(function(){var o=t.key+"-global",s=new t.sheet.constructor({key:o,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+o+" "+r.name+'"]');return t.sheet.tags.length&&(s.before=t.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",o),s.hydrate([l])),i.current=[s,a],function(){s.flush()}},[t]),Jpe(function(){var o=i.current,s=o[0],a=o[1];if(a){o[1]=!1;return}if(r.next!==void 0&&uBe(t,r.next,!0),s.tags.length){var l=s.tags[s.tags.length-1].nextElementSibling;s.before=l,s.flush()}t.insert("",r,s,!1)},[t,r.name]),null});function aQt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Qte(t)}var lQt=function(){var t=aQt.apply(void 0,arguments),n="animation-"+t.name;return{name:n,styles:"@keyframes "+n+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},pBe=String.raw,mBe=pBe`
  :root,
  :host {
    --chakra-vh: 100vh;
  }

  @supports (height: -webkit-fill-available) {
    :root,
    :host {
      --chakra-vh: -webkit-fill-available;
    }
  }

  @supports (height: -moz-fill-available) {
    :root,
    :host {
      --chakra-vh: -moz-fill-available;
    }
  }

  @supports (height: 100dvh) {
    :root,
    :host {
      --chakra-vh: 100dvh;
    }
  }
`,uQt=()=>d.jsx(aj,{styles:mBe}),cQt=({scope:e=""})=>d.jsx(aj,{styles:pBe`
      html {
        line-height: 1.5;
        -webkit-text-size-adjust: 100%;
        font-family: system-ui, sans-serif;
        -webkit-font-smoothing: antialiased;
        text-rendering: optimizeLegibility;
        -moz-osx-font-smoothing: grayscale;
        touch-action: manipulation;
      }

      body {
        position: relative;
        min-height: 100%;
        margin: 0;
        font-feature-settings: "kern";
      }

      ${e} :where(*, *::before, *::after) {
        border-width: 0;
        border-style: solid;
        box-sizing: border-box;
        word-wrap: break-word;
      }

      main {
        display: block;
      }

      ${e} hr {
        border-top-width: 1px;
        box-sizing: content-box;
        height: 0;
        overflow: visible;
      }

      ${e} :where(pre, code, kbd,samp) {
        font-family: SFMono-Regular, Menlo, Monaco, Consolas, monospace;
        font-size: 1em;
      }

      ${e} a {
        background-color: transparent;
        color: inherit;
        text-decoration: inherit;
      }

      ${e} abbr[title] {
        border-bottom: none;
        text-decoration: underline;
        -webkit-text-decoration: underline dotted;
        text-decoration: underline dotted;
      }

      ${e} :where(b, strong) {
        font-weight: bold;
      }

      ${e} small {
        font-size: 80%;
      }

      ${e} :where(sub,sup) {
        font-size: 75%;
        line-height: 0;
        position: relative;
        vertical-align: baseline;
      }

      ${e} sub {
        bottom: -0.25em;
      }

      ${e} sup {
        top: -0.5em;
      }

      ${e} img {
        border-style: none;
      }

      ${e} :where(button, input, optgroup, select, textarea) {
        font-family: inherit;
        font-size: 100%;
        line-height: 1.15;
        margin: 0;
      }

      ${e} :where(button, input) {
        overflow: visible;
      }

      ${e} :where(button, select) {
        text-transform: none;
      }

      ${e} :where(
          button::-moz-focus-inner,
          [type="button"]::-moz-focus-inner,
          [type="reset"]::-moz-focus-inner,
          [type="submit"]::-moz-focus-inner
        ) {
        border-style: none;
        padding: 0;
      }

      ${e} fieldset {
        padding: 0.35em 0.75em 0.625em;
      }

      ${e} legend {
        box-sizing: border-box;
        color: inherit;
        display: table;
        max-width: 100%;
        padding: 0;
        white-space: normal;
      }

      ${e} progress {
        vertical-align: baseline;
      }

      ${e} textarea {
        overflow: auto;
      }

      ${e} :where([type="checkbox"], [type="radio"]) {
        box-sizing: border-box;
        padding: 0;
      }

      ${e} input[type="number"]::-webkit-inner-spin-button,
      ${e} input[type="number"]::-webkit-outer-spin-button {
        -webkit-appearance: none !important;
      }

      ${e} input[type="number"] {
        -moz-appearance: textfield;
      }

      ${e} input[type="search"] {
        -webkit-appearance: textfield;
        outline-offset: -2px;
      }

      ${e} input[type="search"]::-webkit-search-decoration {
        -webkit-appearance: none !important;
      }

      ${e} ::-webkit-file-upload-button {
        -webkit-appearance: button;
        font: inherit;
      }

      ${e} details {
        display: block;
      }

      ${e} summary {
        display: list-item;
      }

      template {
        display: none;
      }

      [hidden] {
        display: none !important;
      }

      ${e} :where(
          blockquote,
          dl,
          dd,
          h1,
          h2,
          h3,
          h4,
          h5,
          h6,
          hr,
          figure,
          p,
          pre
        ) {
        margin: 0;
      }

      ${e} button {
        background: transparent;
        padding: 0;
      }

      ${e} fieldset {
        margin: 0;
        padding: 0;
      }

      ${e} :where(ol, ul) {
        margin: 0;
        padding: 0;
      }

      ${e} textarea {
        resize: vertical;
      }

      ${e} :where(button, [role="button"]) {
        cursor: pointer;
      }

      ${e} button::-moz-focus-inner {
        border: 0 !important;
      }

      ${e} table {
        border-collapse: collapse;
      }

      ${e} :where(h1, h2, h3, h4, h5, h6) {
        font-size: inherit;
        font-weight: inherit;
      }

      ${e} :where(button, input, optgroup, select, textarea) {
        padding: 0;
        line-height: inherit;
        color: inherit;
      }

      ${e} :where(img, svg, video, canvas, audio, iframe, embed, object) {
        display: block;
      }

      ${e} :where(img, video) {
        max-width: 100%;
        height: auto;
      }

      [data-js-focus-visible]
        :focus:not([data-focus-visible-added]):not(
          [data-focus-visible-disabled]
        ) {
        outline: none;
        box-shadow: none;
      }

      ${e} select::-ms-expand {
        display: none;
      }

      ${mBe}
    `});function dQt(e,t){return`${e} returned \`undefined\`. Seems you forgot to wrap component within ${t}`}function pd(e={}){const{name:t,strict:n=!0,hookName:r="useContext",providerName:i="Provider",errorMessage:o,defaultValue:s}=e,a=h.createContext(s);a.displayName=t;function l(){var u;const c=h.useContext(a);if(!c&&n){const f=new Error(o??dQt(r,i));throw f.name="ContextError",(u=Error.captureStackTrace)==null||u.call(Error,f,l),f}return c}return[a.Provider,l,a]}var[fQt,hQt]=pd({strict:!1,name:"PortalManagerContext"});function gBe(e){const{children:t,zIndex:n}=e;return d.jsx(fQt,{value:{zIndex:n},children:t})}gBe.displayName="PortalManager";var o9=globalThis!=null&&globalThis.document?h.useLayoutEffect:h.useEffect,[vBe,pQt]=pd({strict:!1,name:"PortalContext"}),Jte="chakra-portal",mQt=".chakra-portal",gQt=e=>d.jsx("div",{className:"chakra-portal-zIndex",style:{position:"absolute",zIndex:e.zIndex,top:0,left:0,right:0},children:e.children}),vQt=e=>{const{appendToParentPortal:t,children:n}=e,[r,i]=h.useState(null),o=h.useRef(null),[,s]=h.useState({});h.useEffect(()=>s({}),[]);const a=pQt(),l=hQt();o9(()=>{if(!r)return;const c=r.ownerDocument,f=t?a??c.body:c.body;if(!f)return;o.current=c.createElement("div"),o.current.className=Jte,f.appendChild(o.current),s({});const p=o.current;return()=>{f.contains(p)&&f.removeChild(p)}},[r]);const u=l!=null&&l.zIndex?d.jsx(gQt,{zIndex:l==null?void 0:l.zIndex,children:n}):n;return o.current?ai.createPortal(d.jsx(vBe,{value:o.current,children:u}),o.current):d.jsx("span",{ref:c=>{c&&i(c)}})},yQt=e=>{const{children:t,containerRef:n,appendToParentPortal:r}=e,i=n.current,o=i??(typeof window<"u"?document.body:void 0),s=h.useMemo(()=>{const l=i==null?void 0:i.ownerDocument.createElement("div");return l&&(l.className=Jte),l},[i]),[,a]=h.useState({});return o9(()=>a({}),[]),o9(()=>{if(!(!s||!o))return o.appendChild(s),()=>{o.removeChild(s)}},[s,o]),o&&s?ai.createPortal(d.jsx(vBe,{value:r?s:null,children:t}),s):null};function R5(e){const t={appendToParentPortal:!0,...e},{containerRef:n,...r}=t;return n?d.jsx(yQt,{containerRef:n,...r}):d.jsx(vQt,{...r})}R5.className=Jte;R5.selector=mQt;R5.displayName="Portal";function yBe(){const e=h.useContext(J4);if(!e)throw Error("useTheme: `theme` is undefined. Seems you forgot to wrap your app in `<ChakraProvider />` or `<ThemeProvider />`");return e}var ene=h.createContext({});ene.displayName="ColorModeContext";function tne(){const e=h.useContext(ene);if(e===void 0)throw new Error("useColorMode must be used within a ColorModeProvider");return e}var $L={light:"chakra-ui-light",dark:"chakra-ui-dark"};function bQt(e={}){const{preventTransition:t=!0}=e,n={setDataset:r=>{const i=t?n.preventTransition():void 0;document.documentElement.dataset.theme=r,document.documentElement.style.colorScheme=r,i==null||i()},setClassName(r){document.body.classList.add(r?$L.dark:$L.light),document.body.classList.remove(r?$L.light:$L.dark)},query(){return window.matchMedia("(prefers-color-scheme: dark)")},getSystemTheme(r){var i;return((i=n.query().matches)!=null?i:r==="dark")?"dark":"light"},addListener(r){const i=n.query(),o=s=>{r(s.matches?"dark":"light")};return typeof i.addListener=="function"?i.addListener(o):i.addEventListener("change",o),()=>{typeof i.removeListener=="function"?i.removeListener(o):i.removeEventListener("change",o)}},preventTransition(){const r=document.createElement("style");return r.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(r),()=>{window.getComputedStyle(document.body),requestAnimationFrame(()=>{requestAnimationFrame(()=>{document.head.removeChild(r)})})}}};return n}var wQt="chakra-ui-color-mode";function xQt(e){return{ssr:!1,type:"localStorage",get(t){if(!(globalThis!=null&&globalThis.document))return t;let n;try{n=localStorage.getItem(e)||t}catch{}return n||t},set(t){try{localStorage.setItem(e,t)}catch{}}}}var SQt=xQt(wQt),eme=()=>{};function tme(e,t){return e.type==="cookie"&&e.ssr?e.get(t):t}function bBe(e){const{value:t,children:n,options:{useSystemColorMode:r,initialColorMode:i,disableTransitionOnChange:o}={},colorModeManager:s=SQt}=e,a=i==="dark"?"dark":"light",[l,u]=h.useState(()=>tme(s,a)),[c,f]=h.useState(()=>tme(s)),{getSystemTheme:p,setClassName:g,setDataset:v,addListener:y}=h.useMemo(()=>bQt({preventTransition:o}),[o]),S=i==="system"&&!l?c:l,C=h.useCallback(w=>{const P=w==="system"?p():w;u(P),g(P==="dark"),v(P),s.set(P)},[s,p,g,v]);o9(()=>{i==="system"&&f(p())},[]),h.useEffect(()=>{const w=s.get();if(w){C(w);return}if(i==="system"){C("system");return}C(a)},[s,a,i,C]);const _=h.useCallback(()=>{C(S==="dark"?"light":"dark")},[S,C]);h.useEffect(()=>{if(r)return y(C)},[r,y,C]);const k=h.useMemo(()=>({colorMode:t??S,toggleColorMode:t?eme:_,setColorMode:t?eme:C,forced:t!==void 0}),[S,_,C,t]);return d.jsx(ene.Provider,{value:k,children:n})}bBe.displayName="ColorModeProvider";function _Qt(){const e=tne(),t=yBe();return{...e,theme:t}}var ro=(...e)=>e.filter(Boolean).join(" ");function Ep(e){const t=typeof e;return e!=null&&(t==="object"||t==="function")&&!Array.isArray(e)}function gg(e,...t){return CQt(e)?e(...t):e}var CQt=e=>typeof e=="function",Hd=e=>e?"":void 0,Az=e=>e?!0:void 0;function yp(...e){return function(n){e.some(r=>(r==null||r(n),n==null?void 0:n.defaultPrevented))}}function EQt(...e){return function(n){e.forEach(r=>{r==null||r(n)})}}var s9={exports:{}};s9.exports;(function(e,t){var n={setImmediate:"((fn, ...args) => setTimeout(fn, 0, ...args))"},r=200,i="__lodash_hash_undefined__",o=800,s=16,a=9007199254740991,l="[object Arguments]",u="[object Array]",c="[object AsyncFunction]",f="[object Boolean]",p="[object Date]",g="[object Error]",v="[object Function]",y="[object GeneratorFunction]",S="[object Map]",C="[object Number]",_="[object Null]",k="[object Object]",w="[object Proxy]",P="[object RegExp]",M="[object Set]",R="[object String]",D="[object Undefined]",H="[object WeakMap]",O="[object ArrayBuffer]",z="[object DataView]",G="[object Float32Array]",ee="[object Float64Array]",X="[object Int8Array]",se="[object Int16Array]",B="[object Int32Array]",q="[object Uint8Array]",U="[object Uint8ClampedArray]",K="[object Uint16Array]",J="[object Uint32Array]",oe=/[\\^$.*+?()[\]{}|]/g,he=/^\[object .+?Constructor\]$/,me=/^(?:0|[1-9]\d*)$/,re={};re[G]=re[ee]=re[X]=re[se]=re[B]=re[q]=re[U]=re[K]=re[J]=!0,re[l]=re[u]=re[O]=re[f]=re[z]=re[p]=re[g]=re[v]=re[S]=re[C]=re[k]=re[P]=re[M]=re[R]=re[H]=!1;var ue=typeof n=="object"&&n&&n.Object===Object&&n,ce=typeof self=="object"&&self&&self.Object===Object&&self,we=ue||ce||Function("return this")(),Me=t&&!t.nodeType&&t,Be=Me&&!0&&e&&!e.nodeType&&e,ge=Be&&Be.exports===Me,ye=ge&&ue.process,_e=function(){try{var ve=Be&&Be.require&&Be.require("util").types;return ve||ye&&ye.binding&&ye.binding("util")}catch{}}(),$e=_e&&_e.isTypedArray;function He(ve,Te,We){switch(We.length){case 0:return ve.call(Te);case 1:return ve.call(Te,We[0]);case 2:return ve.call(Te,We[0],We[1]);case 3:return ve.call(Te,We[0],We[1],We[2])}return ve.apply(Te,We)}function Ve(ve,Te){for(var We=-1,Tt=Array(ve);++We<ve;)Tt[We]=Te(We);return Tt}function ot(ve){return function(Te){return ve(Te)}}function kt(ve,Te){return ve==null?void 0:ve[Te]}function gt(ve,Te){return function(We){return ve(Te(We))}}var rn=Array.prototype,Yt=Function.prototype,Bt=Object.prototype,dn=we["__core-js_shared__"],Ft=Yt.toString,Xt=Bt.hasOwnProperty,Qe=function(){var ve=/[^.]+$/.exec(dn&&dn.keys&&dn.keys.IE_PROTO||"");return ve?"Symbol(src)_1."+ve:""}(),Ce=Bt.toString,ze=Ft.call(Object),Ne=RegExp("^"+Ft.call(Xt).replace(oe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ct=ge?we.Buffer:void 0,Ct=we.Symbol,Et=we.Uint8Array;ct&&ct.allocUnsafe;var Ie=gt(Object.getPrototypeOf,Object),Ae=Object.create,dt=Bt.propertyIsEnumerable,it=rn.splice,ut=Ct?Ct.toStringTag:void 0,vt=function(){try{var ve=ko(Object,"defineProperty");return ve({},"",{}),ve}catch{}}(),Mn=ct?ct.isBuffer:void 0,Kn=Math.max,Qt=Date.now,on=ko(we,"Map"),$t=ko(Object,"create"),Wt=function(){function ve(){}return function(Te){if(!Hs(Te))return{};if(Ae)return Ae(Te);ve.prototype=Te;var We=new ve;return ve.prototype=void 0,We}}();function Kt(ve){var Te=-1,We=ve==null?0:ve.length;for(this.clear();++Te<We;){var Tt=ve[Te];this.set(Tt[0],Tt[1])}}function sr(){this.__data__=$t?$t(null):{},this.size=0}function Jt(ve){var Te=this.has(ve)&&delete this.__data__[ve];return this.size-=Te?1:0,Te}function zn(ve){var Te=this.__data__;if($t){var We=Te[ve];return We===i?void 0:We}return Xt.call(Te,ve)?Te[ve]:void 0}function Ln(ve){var Te=this.__data__;return $t?Te[ve]!==void 0:Xt.call(Te,ve)}function Ot(ve,Te){var We=this.__data__;return this.size+=this.has(ve)?0:1,We[ve]=$t&&Te===void 0?i:Te,this}Kt.prototype.clear=sr,Kt.prototype.delete=Jt,Kt.prototype.get=zn,Kt.prototype.has=Ln,Kt.prototype.set=Ot;function _t(ve){var Te=-1,We=ve==null?0:ve.length;for(this.clear();++Te<We;){var Tt=ve[Te];this.set(Tt[0],Tt[1])}}function Fr(){this.__data__=[],this.size=0}function Hn(ve){var Te=this.__data__,We=Pr(Te,ve);if(We<0)return!1;var Tt=Te.length-1;return We==Tt?Te.pop():it.call(Te,We,1),--this.size,!0}function Bn(ve){var Te=this.__data__,We=Pr(Te,ve);return We<0?void 0:Te[We][1]}function ar(ve){return Pr(this.__data__,ve)>-1}function mt(ve,Te){var We=this.__data__,Tt=Pr(We,ve);return Tt<0?(++this.size,We.push([ve,Te])):We[Tt][1]=Te,this}_t.prototype.clear=Fr,_t.prototype.delete=Hn,_t.prototype.get=Bn,_t.prototype.has=ar,_t.prototype.set=mt;function hr(ve){var Te=-1,We=ve==null?0:ve.length;for(this.clear();++Te<We;){var Tt=ve[Te];this.set(Tt[0],Tt[1])}}function Ii(){this.size=0,this.__data__={hash:new Kt,map:new(on||_t),string:new Kt}}function Rr(ve){var Te=Nl(this,ve).delete(ve);return this.size-=Te?1:0,Te}function Fs(ve){return Nl(this,ve).get(ve)}function Bs(ve){return Nl(this,ve).has(ve)}function at(ve,Te){var We=Nl(this,ve),Tt=We.size;return We.set(ve,Te),this.size+=We.size==Tt?0:1,this}hr.prototype.clear=Ii,hr.prototype.delete=Rr,hr.prototype.get=Fs,hr.prototype.has=Bs,hr.prototype.set=at;function lt(ve){var Te=this.__data__=new _t(ve);this.size=Te.size}function bt(){this.__data__=new _t,this.size=0}function Ue(ve){var Te=this.__data__,We=Te.delete(ve);return this.size=Te.size,We}function ke(ve){return this.__data__.get(ve)}function rt(ve){return this.__data__.has(ve)}function nt(ve,Te){var We=this.__data__;if(We instanceof _t){var Tt=We.__data__;if(!on||Tt.length<r-1)return Tt.push([ve,Te]),this.size=++We.size,this;We=this.__data__=new hr(Tt)}return We.set(ve,Te),this.size=We.size,this}lt.prototype.clear=bt,lt.prototype.delete=Ue,lt.prototype.get=ke,lt.prototype.has=rt,lt.prototype.set=nt;function Rn(ve,Te){var We=bc(ve),Tt=!We&&md(ve),Yn=!We&&!Tt&&xs(ve),zt=!We&&!Tt&&!Yn&&al(ve),xr=We||Tt||Yn||zt,hn=xr?Ve(ve.length,String):[],Sr=hn.length;for(var Go in ve)xr&&(Go=="length"||Yn&&(Go=="offset"||Go=="parent")||zt&&(Go=="buffer"||Go=="byteLength"||Go=="byteOffset")||xu(Go,Sr))||hn.push(Go);return hn}function qn(ve,Te,We){(We!==void 0&&!sa(ve[Te],We)||We===void 0&&!(Te in ve))&&Br(ve,Te,We)}function lr(ve,Te,We){var Tt=ve[Te];(!(Xt.call(ve,Te)&&sa(Tt,We))||We===void 0&&!(Te in ve))&&Br(ve,Te,We)}function Pr(ve,Te){for(var We=ve.length;We--;)if(sa(ve[We][0],Te))return We;return-1}function Br(ve,Te,We){Te=="__proto__"&&vt?vt(ve,Te,{configurable:!0,enumerable:!0,value:We,writable:!0}):ve[Te]=We}var $i=wf();function tr(ve){return ve==null?ve===void 0?D:_:ut&&ut in Object(ve)?um(ve):Fl(ve)}function di(ve){return An(ve)&&tr(ve)==l}function il(ve){if(!Hs(ve)||Su(ve))return!1;var Te=rr(ve)?Ne:he;return Te.test(Bl(ve))}function ol(ve){return An(ve)&&gd(ve.length)&&!!re[tr(ve)]}function Eo(ve){if(!Hs(ve))return _u(ve);var Te=wr(ve),We=[];for(var Tt in ve)Tt=="constructor"&&(Te||!Xt.call(ve,Tt))||We.push(Tt);return We}function zs(ve,Te,We,Tt,Yn){ve!==Te&&$i(Te,function(zt,xr){if(Yn||(Yn=new lt),Hs(zt))br(ve,Te,xr,We,zs,Tt,Yn);else{var hn=Tt?Tt(oa(ve,xr),zt,xr+"",ve,Te,Yn):void 0;hn===void 0&&(hn=zt),qn(ve,xr,hn)}},zl)}function br(ve,Te,We,Tt,Yn,zt,xr){var hn=oa(ve,We),Sr=oa(Te,We),Go=xr.get(Sr);if(Go){qn(ve,We,Go);return}var Zo=zt?zt(hn,Sr,We+"",ve,Te,xr):void 0,lo=Zo===void 0;if(lo){var Ss=bc(Sr),ll=!Ss&&xs(Sr),as=!Ss&&!ll&&al(Sr);Zo=Sr,Ss||ll||as?bc(hn)?Zo=hn:fn(hn)?Zo=Pa(hn):ll?(lo=!1,Zo=so(Sr)):as?(lo=!1,Zo=ia(Sr)):Zo=[]:vd(Sr)||md(Sr)?(Zo=hn,md(hn)?Zo=yd(hn):(!Hs(hn)||rr(hn))&&(Zo=ws(Sr))):lo=!1}lo&&(xr.set(Sr,Zo),Yn(Zo,Sr,Tt,zt,xr),xr.delete(Sr)),qn(ve,We,Zo)}function Nt(ve,Te){return sl(jo(ve,Te,Cu),ve+"")}var $r=vt?function(ve,Te){return vt(ve,"toString",{configurable:!0,enumerable:!1,value:Qr(Te),writable:!0})}:Cu;function so(ve,Te){return ve.slice()}function ao(ve){var Te=new ve.constructor(ve.byteLength);return new Et(Te).set(new Et(ve)),Te}function ia(ve,Te){var We=ao(ve.buffer);return new ve.constructor(We,ve.byteOffset,ve.length)}function Pa(ve,Te){var We=-1,Tt=ve.length;for(Te||(Te=Array(Tt));++We<Tt;)Te[We]=ve[We];return Te}function en(ve,Te,We,Tt){var Yn=!We;We||(We={});for(var zt=-1,xr=Te.length;++zt<xr;){var hn=Te[zt],Sr=void 0;Sr===void 0&&(Sr=ve[hn]),Yn?Br(We,hn,Sr):lr(We,hn,Sr)}return We}function fi(ve){return Nt(function(Te,We){var Tt=-1,Yn=We.length,zt=Yn>1?We[Yn-1]:void 0,xr=Yn>2?We[2]:void 0;for(zt=ve.length>3&&typeof zt=="function"?(Yn--,zt):void 0,xr&&qi(We[0],We[1],xr)&&(zt=Yn<3?void 0:zt,Yn=1),Te=Object(Te);++Tt<Yn;){var hn=We[Tt];hn&&ve(Te,hn,Tt,zt)}return Te})}function wf(ve){return function(Te,We,Tt){for(var Yn=-1,zt=Object(Te),xr=Tt(Te),hn=xr.length;hn--;){var Sr=xr[++Yn];if(We(zt[Sr],Sr,zt)===!1)break}return Te}}function Nl(ve,Te){var We=ve.__data__;return yc(Te)?We[typeof Te=="string"?"string":"hash"]:We.map}function ko(ve,Te){var We=kt(ve,Te);return il(We)?We:void 0}function um(ve){var Te=Xt.call(ve,ut),We=ve[ut];try{ve[ut]=void 0;var Tt=!0}catch{}var Yn=Ce.call(ve);return Tt&&(Te?ve[ut]=We:delete ve[ut]),Yn}function ws(ve){return typeof ve.constructor=="function"&&!wr(ve)?Wt(Ie(ve)):{}}function xu(ve,Te){var We=typeof ve;return Te=Te??a,!!Te&&(We=="number"||We!="symbol"&&me.test(ve))&&ve>-1&&ve%1==0&&ve<Te}function qi(ve,Te,We){if(!Hs(We))return!1;var Tt=typeof Te;return(Tt=="number"?nr(We)&&xu(Te,We.length):Tt=="string"&&Te in We)?sa(We[Te],ve):!1}function yc(ve){var Te=typeof ve;return Te=="string"||Te=="number"||Te=="symbol"||Te=="boolean"?ve!=="__proto__":ve===null}function Su(ve){return!!Qe&&Qe in ve}function wr(ve){var Te=ve&&ve.constructor,We=typeof Te=="function"&&Te.prototype||Bt;return ve===We}function _u(ve){var Te=[];if(ve!=null)for(var We in Object(ve))Te.push(We);return Te}function Fl(ve){return Ce.call(ve)}function jo(ve,Te,We){return Te=Kn(Te===void 0?ve.length-1:Te,0),function(){for(var Tt=arguments,Yn=-1,zt=Kn(Tt.length-Te,0),xr=Array(zt);++Yn<zt;)xr[Yn]=Tt[Te+Yn];Yn=-1;for(var hn=Array(Te+1);++Yn<Te;)hn[Yn]=Tt[Yn];return hn[Te]=We(xr),He(ve,this,hn)}}function oa(ve,Te){if(!(Te==="constructor"&&typeof ve[Te]=="function")&&Te!="__proto__")return ve[Te]}var sl=xf($r);function xf(ve){var Te=0,We=0;return function(){var Tt=Qt(),Yn=s-(Tt-We);if(We=Tt,Yn>0){if(++Te>=o)return arguments[0]}else Te=0;return ve.apply(void 0,arguments)}}function Bl(ve){if(ve!=null){try{return Ft.call(ve)}catch{}try{return ve+""}catch{}}return""}function sa(ve,Te){return ve===Te||ve!==ve&&Te!==Te}var md=di(function(){return arguments}())?di:function(ve){return An(ve)&&Xt.call(ve,"callee")&&!dt.call(ve,"callee")},bc=Array.isArray;function nr(ve){return ve!=null&&gd(ve.length)&&!rr(ve)}function fn(ve){return An(ve)&&nr(ve)}var xs=Mn||wc;function rr(ve){if(!Hs(ve))return!1;var Te=tr(ve);return Te==v||Te==y||Te==c||Te==w}function gd(ve){return typeof ve=="number"&&ve>-1&&ve%1==0&&ve<=a}function Hs(ve){var Te=typeof ve;return ve!=null&&(Te=="object"||Te=="function")}function An(ve){return ve!=null&&typeof ve=="object"}function vd(ve){if(!An(ve)||tr(ve)!=k)return!1;var Te=Ie(ve);if(Te===null)return!0;var We=Xt.call(Te,"constructor")&&Te.constructor;return typeof We=="function"&&We instanceof We&&Ft.call(We)==ze}var al=$e?ot($e):ol;function yd(ve){return en(ve,zl(ve))}function zl(ve){return nr(ve)?Rn(ve):Eo(ve)}var Bi=fi(function(ve,Te,We,Tt){zs(ve,Te,We,Tt)});function Qr(ve){return function(){return ve}}function Cu(ve){return ve}function wc(){return!1}e.exports=Bi})(s9,s9.exports);var kQt=s9.exports;const bp=Dl(kQt);var PQt=e=>/!(important)?$/.test(e),nme=e=>typeof e=="string"?e.replace(/!(important)?$/,"").trim():e,$Qt=(e,t)=>n=>{const r=String(t),i=PQt(r),o=nme(r),s=e?`${e}.${o}`:o;let a=Ep(n.__cssMap)&&s in n.__cssMap?n.__cssMap[s].varRef:t;return a=nme(a),i?`${a} !important`:a};function nne(e){const{scale:t,transform:n,compose:r}=e;return(o,s)=>{var a;const l=$Qt(t,o)(s);let u=(a=n==null?void 0:n(l,s))!=null?a:l;return r&&(u=r(u,s)),u}}var TL=(...e)=>t=>e.reduce((n,r)=>r(n),t);function Td(e,t){return n=>{const r={property:n,scale:e};return r.transform=nne({scale:e,transform:t}),r}}var TQt=({rtl:e,ltr:t})=>n=>n.direction==="rtl"?e:t;function MQt(e){const{property:t,scale:n,transform:r}=e;return{scale:n,property:TQt(t),transform:n?nne({scale:n,compose:r}):r}}var wBe=["rotate(var(--chakra-rotate, 0))","scaleX(var(--chakra-scale-x, 1))","scaleY(var(--chakra-scale-y, 1))","skewX(var(--chakra-skew-x, 0))","skewY(var(--chakra-skew-y, 0))"];function LQt(){return["translateX(var(--chakra-translate-x, 0))","translateY(var(--chakra-translate-y, 0))",...wBe].join(" ")}function AQt(){return["translate3d(var(--chakra-translate-x, 0), var(--chakra-translate-y, 0), 0)",...wBe].join(" ")}var IQt={"--chakra-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-sepia":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-drop-shadow":"var(--chakra-empty,/*!*/ /*!*/)",filter:["var(--chakra-blur)","var(--chakra-brightness)","var(--chakra-contrast)","var(--chakra-grayscale)","var(--chakra-hue-rotate)","var(--chakra-invert)","var(--chakra-saturate)","var(--chakra-sepia)","var(--chakra-drop-shadow)"].join(" ")},RQt={backdropFilter:["var(--chakra-backdrop-blur)","var(--chakra-backdrop-brightness)","var(--chakra-backdrop-contrast)","var(--chakra-backdrop-grayscale)","var(--chakra-backdrop-hue-rotate)","var(--chakra-backdrop-invert)","var(--chakra-backdrop-opacity)","var(--chakra-backdrop-saturate)","var(--chakra-backdrop-sepia)"].join(" "),"--chakra-backdrop-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-opacity":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-sepia":"var(--chakra-empty,/*!*/ /*!*/)"};function DQt(e){return{"--chakra-ring-offset-shadow":"var(--chakra-ring-inset) 0 0 0 var(--chakra-ring-offset-width) var(--chakra-ring-offset-color)","--chakra-ring-shadow":"var(--chakra-ring-inset) 0 0 0 calc(var(--chakra-ring-width) + var(--chakra-ring-offset-width)) var(--chakra-ring-color)","--chakra-ring-width":e,boxShadow:["var(--chakra-ring-offset-shadow)","var(--chakra-ring-shadow)","var(--chakra-shadow, 0 0 #0000)"].join(", ")}}var OQt={"row-reverse":{space:"--chakra-space-x-reverse",divide:"--chakra-divide-x-reverse"},"column-reverse":{space:"--chakra-space-y-reverse",divide:"--chakra-divide-y-reverse"}},mZ={"to-t":"to top","to-tr":"to top right","to-r":"to right","to-br":"to bottom right","to-b":"to bottom","to-bl":"to bottom left","to-l":"to left","to-tl":"to top left"},jQt=new Set(Object.values(mZ)),gZ=new Set(["none","-moz-initial","inherit","initial","revert","unset"]),NQt=e=>e.trim();function FQt(e,t){if(e==null||gZ.has(e))return e;if(!(vZ(e)||gZ.has(e)))return`url('${e}')`;const i=/(^[a-z-A-Z]+)\((.*)\)/g.exec(e),o=i==null?void 0:i[1],s=i==null?void 0:i[2];if(!o||!s)return e;const a=o.includes("-gradient")?o:`${o}-gradient`,[l,...u]=s.split(",").map(NQt).filter(Boolean);if((u==null?void 0:u.length)===0)return e;const c=l in mZ?mZ[l]:l;u.unshift(c);const f=u.map(p=>{if(jQt.has(p))return p;const g=p.indexOf(" "),[v,y]=g!==-1?[p.substr(0,g),p.substr(g+1)]:[p],S=vZ(y)?y:y&&y.split(" "),C=`colors.${v}`,_=C in t.__cssMap?t.__cssMap[C].varRef:v;return S?[_,...Array.isArray(S)?S:[S]].join(" "):_});return`${a}(${f.join(", ")})`}var vZ=e=>typeof e=="string"&&e.includes("(")&&e.includes(")"),BQt=(e,t)=>FQt(e,t??{});function zQt(e){return/^var\(--.+\)$/.test(e)}var HQt=e=>{const t=parseFloat(e.toString()),n=e.toString().replace(String(t),"");return{unitless:!n,value:t,unit:n}},Bh=e=>t=>`${e}(${t})`,Hr={filter(e){return e!=="auto"?e:IQt},backdropFilter(e){return e!=="auto"?e:RQt},ring(e){return DQt(Hr.px(e))},bgClip(e){return e==="text"?{color:"transparent",backgroundClip:"text"}:{backgroundClip:e}},transform(e){return e==="auto"?LQt():e==="auto-gpu"?AQt():e},vh(e){return e==="$100vh"?"var(--chakra-vh)":e},px(e){if(e==null)return e;const{unitless:t}=HQt(e);return t||typeof e=="number"?`${e}px`:e},fraction(e){return typeof e!="number"||e>1?e:`${e*100}%`},float(e,t){const n={left:"right",right:"left"};return t.direction==="rtl"?n[e]:e},degree(e){if(zQt(e)||e==null)return e;const t=typeof e=="string"&&!e.endsWith("deg");return typeof e=="number"||t?`${e}deg`:e},gradient:BQt,blur:Bh("blur"),opacity:Bh("opacity"),brightness:Bh("brightness"),contrast:Bh("contrast"),dropShadow:Bh("drop-shadow"),grayscale:Bh("grayscale"),hueRotate:e=>Bh("hue-rotate")(Hr.degree(e)),invert:Bh("invert"),saturate:Bh("saturate"),sepia:Bh("sepia"),bgImage(e){return e==null||vZ(e)||gZ.has(e)?e:`url(${e})`},outline(e){const t=String(e)==="0"||String(e)==="none";return e!==null&&t?{outline:"2px solid transparent",outlineOffset:"2px"}:{outline:e}},flexDirection(e){var t;const{space:n,divide:r}=(t=OQt[e])!=null?t:{},i={flexDirection:e};return n&&(i[n]=1),r&&(i[r]=1),i}},Re={borderWidths:Td("borderWidths"),borderStyles:Td("borderStyles"),colors:Td("colors"),borders:Td("borders"),gradients:Td("gradients",Hr.gradient),radii:Td("radii",Hr.px),space:Td("space",TL(Hr.vh,Hr.px)),spaceT:Td("space",TL(Hr.vh,Hr.px)),degreeT(e){return{property:e,transform:Hr.degree}},prop(e,t,n){return{property:e,scale:t,...t&&{transform:nne({scale:t,transform:n})}}},propT(e,t){return{property:e,transform:t}},sizes:Td("sizes",TL(Hr.vh,Hr.px)),sizesT:Td("sizes",TL(Hr.vh,Hr.fraction)),shadows:Td("shadows"),logical:MQt,blur:Td("blur",Hr.blur)},TI={background:Re.colors("background"),backgroundColor:Re.colors("backgroundColor"),backgroundImage:Re.gradients("backgroundImage"),backgroundSize:!0,backgroundPosition:!0,backgroundRepeat:!0,backgroundAttachment:!0,backgroundClip:{transform:Hr.bgClip},bgSize:Re.prop("backgroundSize"),bgPosition:Re.prop("backgroundPosition"),bg:Re.colors("background"),bgColor:Re.colors("backgroundColor"),bgPos:Re.prop("backgroundPosition"),bgRepeat:Re.prop("backgroundRepeat"),bgAttachment:Re.prop("backgroundAttachment"),bgGradient:Re.gradients("backgroundImage"),bgClip:{transform:Hr.bgClip}};Object.assign(TI,{bgImage:TI.backgroundImage,bgImg:TI.backgroundImage});var hi={border:Re.borders("border"),borderWidth:Re.borderWidths("borderWidth"),borderStyle:Re.borderStyles("borderStyle"),borderColor:Re.colors("borderColor"),borderRadius:Re.radii("borderRadius"),borderTop:Re.borders("borderTop"),borderBlockStart:Re.borders("borderBlockStart"),borderTopLeftRadius:Re.radii("borderTopLeftRadius"),borderStartStartRadius:Re.logical({scale:"radii",property:{ltr:"borderTopLeftRadius",rtl:"borderTopRightRadius"}}),borderEndStartRadius:Re.logical({scale:"radii",property:{ltr:"borderBottomLeftRadius",rtl:"borderBottomRightRadius"}}),borderTopRightRadius:Re.radii("borderTopRightRadius"),borderStartEndRadius:Re.logical({scale:"radii",property:{ltr:"borderTopRightRadius",rtl:"borderTopLeftRadius"}}),borderEndEndRadius:Re.logical({scale:"radii",property:{ltr:"borderBottomRightRadius",rtl:"borderBottomLeftRadius"}}),borderRight:Re.borders("borderRight"),borderInlineEnd:Re.borders("borderInlineEnd"),borderBottom:Re.borders("borderBottom"),borderBlockEnd:Re.borders("borderBlockEnd"),borderBottomLeftRadius:Re.radii("borderBottomLeftRadius"),borderBottomRightRadius:Re.radii("borderBottomRightRadius"),borderLeft:Re.borders("borderLeft"),borderInlineStart:{property:"borderInlineStart",scale:"borders"},borderInlineStartRadius:Re.logical({scale:"radii",property:{ltr:["borderTopLeftRadius","borderBottomLeftRadius"],rtl:["borderTopRightRadius","borderBottomRightRadius"]}}),borderInlineEndRadius:Re.logical({scale:"radii",property:{ltr:["borderTopRightRadius","borderBottomRightRadius"],rtl:["borderTopLeftRadius","borderBottomLeftRadius"]}}),borderX:Re.borders(["borderLeft","borderRight"]),borderInline:Re.borders("borderInline"),borderY:Re.borders(["borderTop","borderBottom"]),borderBlock:Re.borders("borderBlock"),borderTopWidth:Re.borderWidths("borderTopWidth"),borderBlockStartWidth:Re.borderWidths("borderBlockStartWidth"),borderTopColor:Re.colors("borderTopColor"),borderBlockStartColor:Re.colors("borderBlockStartColor"),borderTopStyle:Re.borderStyles("borderTopStyle"),borderBlockStartStyle:Re.borderStyles("borderBlockStartStyle"),borderBottomWidth:Re.borderWidths("borderBottomWidth"),borderBlockEndWidth:Re.borderWidths("borderBlockEndWidth"),borderBottomColor:Re.colors("borderBottomColor"),borderBlockEndColor:Re.colors("borderBlockEndColor"),borderBottomStyle:Re.borderStyles("borderBottomStyle"),borderBlockEndStyle:Re.borderStyles("borderBlockEndStyle"),borderLeftWidth:Re.borderWidths("borderLeftWidth"),borderInlineStartWidth:Re.borderWidths("borderInlineStartWidth"),borderLeftColor:Re.colors("borderLeftColor"),borderInlineStartColor:Re.colors("borderInlineStartColor"),borderLeftStyle:Re.borderStyles("borderLeftStyle"),borderInlineStartStyle:Re.borderStyles("borderInlineStartStyle"),borderRightWidth:Re.borderWidths("borderRightWidth"),borderInlineEndWidth:Re.borderWidths("borderInlineEndWidth"),borderRightColor:Re.colors("borderRightColor"),borderInlineEndColor:Re.colors("borderInlineEndColor"),borderRightStyle:Re.borderStyles("borderRightStyle"),borderInlineEndStyle:Re.borderStyles("borderInlineEndStyle"),borderTopRadius:Re.radii(["borderTopLeftRadius","borderTopRightRadius"]),borderBottomRadius:Re.radii(["borderBottomLeftRadius","borderBottomRightRadius"]),borderLeftRadius:Re.radii(["borderTopLeftRadius","borderBottomLeftRadius"]),borderRightRadius:Re.radii(["borderTopRightRadius","borderBottomRightRadius"])};Object.assign(hi,{rounded:hi.borderRadius,roundedTop:hi.borderTopRadius,roundedTopLeft:hi.borderTopLeftRadius,roundedTopRight:hi.borderTopRightRadius,roundedTopStart:hi.borderStartStartRadius,roundedTopEnd:hi.borderStartEndRadius,roundedBottom:hi.borderBottomRadius,roundedBottomLeft:hi.borderBottomLeftRadius,roundedBottomRight:hi.borderBottomRightRadius,roundedBottomStart:hi.borderEndStartRadius,roundedBottomEnd:hi.borderEndEndRadius,roundedLeft:hi.borderLeftRadius,roundedRight:hi.borderRightRadius,roundedStart:hi.borderInlineStartRadius,roundedEnd:hi.borderInlineEndRadius,borderStart:hi.borderInlineStart,borderEnd:hi.borderInlineEnd,borderTopStartRadius:hi.borderStartStartRadius,borderTopEndRadius:hi.borderStartEndRadius,borderBottomStartRadius:hi.borderEndStartRadius,borderBottomEndRadius:hi.borderEndEndRadius,borderStartRadius:hi.borderInlineStartRadius,borderEndRadius:hi.borderInlineEndRadius,borderStartWidth:hi.borderInlineStartWidth,borderEndWidth:hi.borderInlineEndWidth,borderStartColor:hi.borderInlineStartColor,borderEndColor:hi.borderInlineEndColor,borderStartStyle:hi.borderInlineStartStyle,borderEndStyle:hi.borderInlineEndStyle});var VQt={color:Re.colors("color"),textColor:Re.colors("color"),fill:Re.colors("fill"),stroke:Re.colors("stroke")},yZ={boxShadow:Re.shadows("boxShadow"),mixBlendMode:!0,blendMode:Re.prop("mixBlendMode"),backgroundBlendMode:!0,bgBlendMode:Re.prop("backgroundBlendMode"),opacity:!0};Object.assign(yZ,{shadow:yZ.boxShadow});var UQt={filter:{transform:Hr.filter},blur:Re.blur("--chakra-blur"),brightness:Re.propT("--chakra-brightness",Hr.brightness),contrast:Re.propT("--chakra-contrast",Hr.contrast),hueRotate:Re.propT("--chakra-hue-rotate",Hr.hueRotate),invert:Re.propT("--chakra-invert",Hr.invert),saturate:Re.propT("--chakra-saturate",Hr.saturate),dropShadow:Re.propT("--chakra-drop-shadow",Hr.dropShadow),backdropFilter:{transform:Hr.backdropFilter},backdropBlur:Re.blur("--chakra-backdrop-blur"),backdropBrightness:Re.propT("--chakra-backdrop-brightness",Hr.brightness),backdropContrast:Re.propT("--chakra-backdrop-contrast",Hr.contrast),backdropHueRotate:Re.propT("--chakra-backdrop-hue-rotate",Hr.hueRotate),backdropInvert:Re.propT("--chakra-backdrop-invert",Hr.invert),backdropSaturate:Re.propT("--chakra-backdrop-saturate",Hr.saturate)},a9={alignItems:!0,alignContent:!0,justifyItems:!0,justifyContent:!0,flexWrap:!0,flexDirection:{transform:Hr.flexDirection},flex:!0,flexFlow:!0,flexGrow:!0,flexShrink:!0,flexBasis:Re.sizes("flexBasis"),justifySelf:!0,alignSelf:!0,order:!0,placeItems:!0,placeContent:!0,placeSelf:!0,gap:Re.space("gap"),rowGap:Re.space("rowGap"),columnGap:Re.space("columnGap")};Object.assign(a9,{flexDir:a9.flexDirection});var xBe={gridGap:Re.space("gridGap"),gridColumnGap:Re.space("gridColumnGap"),gridRowGap:Re.space("gridRowGap"),gridColumn:!0,gridRow:!0,gridAutoFlow:!0,gridAutoColumns:!0,gridColumnStart:!0,gridColumnEnd:!0,gridRowStart:!0,gridRowEnd:!0,gridAutoRows:!0,gridTemplate:!0,gridTemplateColumns:!0,gridTemplateRows:!0,gridTemplateAreas:!0,gridArea:!0},WQt={appearance:!0,cursor:!0,resize:!0,userSelect:!0,pointerEvents:!0,outline:{transform:Hr.outline},outlineOffset:!0,outlineColor:Re.colors("outlineColor")},Rd={width:Re.sizesT("width"),inlineSize:Re.sizesT("inlineSize"),height:Re.sizes("height"),blockSize:Re.sizes("blockSize"),boxSize:Re.sizes(["width","height"]),minWidth:Re.sizes("minWidth"),minInlineSize:Re.sizes("minInlineSize"),minHeight:Re.sizes("minHeight"),minBlockSize:Re.sizes("minBlockSize"),maxWidth:Re.sizes("maxWidth"),maxInlineSize:Re.sizes("maxInlineSize"),maxHeight:Re.sizes("maxHeight"),maxBlockSize:Re.sizes("maxBlockSize"),overflow:!0,overflowX:!0,overflowY:!0,overscrollBehavior:!0,overscrollBehaviorX:!0,overscrollBehaviorY:!0,display:!0,aspectRatio:!0,hideFrom:{scale:"breakpoints",transform:(e,t)=>{var n,r,i;return{[`@media screen and (min-width: ${(i=(r=(n=t.__breakpoints)==null?void 0:n.get(e))==null?void 0:r.minW)!=null?i:e})`]:{display:"none"}}}},hideBelow:{scale:"breakpoints",transform:(e,t)=>{var n,r,i;return{[`@media screen and (max-width: ${(i=(r=(n=t.__breakpoints)==null?void 0:n.get(e))==null?void 0:r._minW)!=null?i:e})`]:{display:"none"}}}},verticalAlign:!0,boxSizing:!0,boxDecorationBreak:!0,float:Re.propT("float",Hr.float),objectFit:!0,objectPosition:!0,visibility:!0,isolation:!0};Object.assign(Rd,{w:Rd.width,h:Rd.height,minW:Rd.minWidth,maxW:Rd.maxWidth,minH:Rd.minHeight,maxH:Rd.maxHeight,overscroll:Rd.overscrollBehavior,overscrollX:Rd.overscrollBehaviorX,overscrollY:Rd.overscrollBehaviorY});var KQt={listStyleType:!0,listStylePosition:!0,listStylePos:Re.prop("listStylePosition"),listStyleImage:!0,listStyleImg:Re.prop("listStyleImage")};function qQt(e,t,n,r){const i=typeof t=="string"?t.split("."):[t];for(r=0;r<i.length&&e;r+=1)e=e[i[r]];return e===void 0?n:e}var GQt=e=>{const t=new WeakMap;return(r,i,o,s)=>{if(typeof r>"u")return e(r,i,o);t.has(r)||t.set(r,new Map);const a=t.get(r);if(a.has(i))return a.get(i);const l=e(r,i,o,s);return a.set(i,l),l}},ZQt=GQt(qQt),YQt={border:"0px",clip:"rect(0, 0, 0, 0)",width:"1px",height:"1px",margin:"-1px",padding:"0px",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"},XQt={position:"static",width:"auto",height:"auto",clip:"auto",padding:"0",margin:"0",overflow:"visible",whiteSpace:"normal"},Iz=(e,t,n)=>{const r={},i=ZQt(e,t,{});for(const o in i)o in n&&n[o]!=null||(r[o]=i[o]);return r},QQt={srOnly:{transform(e){return e===!0?YQt:e==="focusable"?XQt:{}}},layerStyle:{processResult:!0,transform:(e,t,n)=>Iz(t,`layerStyles.${e}`,n)},textStyle:{processResult:!0,transform:(e,t,n)=>Iz(t,`textStyles.${e}`,n)},apply:{processResult:!0,transform:(e,t,n)=>Iz(t,e,n)}},AP={position:!0,pos:Re.prop("position"),zIndex:Re.prop("zIndex","zIndices"),inset:Re.spaceT("inset"),insetX:Re.spaceT(["left","right"]),insetInline:Re.spaceT("insetInline"),insetY:Re.spaceT(["top","bottom"]),insetBlock:Re.spaceT("insetBlock"),top:Re.spaceT("top"),insetBlockStart:Re.spaceT("insetBlockStart"),bottom:Re.spaceT("bottom"),insetBlockEnd:Re.spaceT("insetBlockEnd"),left:Re.spaceT("left"),insetInlineStart:Re.logical({scale:"space",property:{ltr:"left",rtl:"right"}}),right:Re.spaceT("right"),insetInlineEnd:Re.logical({scale:"space",property:{ltr:"right",rtl:"left"}})};Object.assign(AP,{insetStart:AP.insetInlineStart,insetEnd:AP.insetInlineEnd});var JQt={ring:{transform:Hr.ring},ringColor:Re.colors("--chakra-ring-color"),ringOffset:Re.prop("--chakra-ring-offset-width"),ringOffsetColor:Re.colors("--chakra-ring-offset-color"),ringInset:Re.prop("--chakra-ring-inset")},go={margin:Re.spaceT("margin"),marginTop:Re.spaceT("marginTop"),marginBlockStart:Re.spaceT("marginBlockStart"),marginRight:Re.spaceT("marginRight"),marginInlineEnd:Re.spaceT("marginInlineEnd"),marginBottom:Re.spaceT("marginBottom"),marginBlockEnd:Re.spaceT("marginBlockEnd"),marginLeft:Re.spaceT("marginLeft"),marginInlineStart:Re.spaceT("marginInlineStart"),marginX:Re.spaceT(["marginInlineStart","marginInlineEnd"]),marginInline:Re.spaceT("marginInline"),marginY:Re.spaceT(["marginTop","marginBottom"]),marginBlock:Re.spaceT("marginBlock"),padding:Re.space("padding"),paddingTop:Re.space("paddingTop"),paddingBlockStart:Re.space("paddingBlockStart"),paddingRight:Re.space("paddingRight"),paddingBottom:Re.space("paddingBottom"),paddingBlockEnd:Re.space("paddingBlockEnd"),paddingLeft:Re.space("paddingLeft"),paddingInlineStart:Re.space("paddingInlineStart"),paddingInlineEnd:Re.space("paddingInlineEnd"),paddingX:Re.space(["paddingInlineStart","paddingInlineEnd"]),paddingInline:Re.space("paddingInline"),paddingY:Re.space(["paddingTop","paddingBottom"]),paddingBlock:Re.space("paddingBlock")};Object.assign(go,{m:go.margin,mt:go.marginTop,mr:go.marginRight,me:go.marginInlineEnd,marginEnd:go.marginInlineEnd,mb:go.marginBottom,ml:go.marginLeft,ms:go.marginInlineStart,marginStart:go.marginInlineStart,mx:go.marginX,my:go.marginY,p:go.padding,pt:go.paddingTop,py:go.paddingY,px:go.paddingX,pb:go.paddingBottom,pl:go.paddingLeft,ps:go.paddingInlineStart,paddingStart:go.paddingInlineStart,pr:go.paddingRight,pe:go.paddingInlineEnd,paddingEnd:go.paddingInlineEnd});var eJt={textDecorationColor:Re.colors("textDecorationColor"),textDecoration:!0,textDecor:{property:"textDecoration"},textDecorationLine:!0,textDecorationStyle:!0,textDecorationThickness:!0,textUnderlineOffset:!0,textShadow:Re.shadows("textShadow")},tJt={clipPath:!0,transform:Re.propT("transform",Hr.transform),transformOrigin:!0,translateX:Re.spaceT("--chakra-translate-x"),translateY:Re.spaceT("--chakra-translate-y"),skewX:Re.degreeT("--chakra-skew-x"),skewY:Re.degreeT("--chakra-skew-y"),scaleX:Re.prop("--chakra-scale-x"),scaleY:Re.prop("--chakra-scale-y"),scale:Re.prop(["--chakra-scale-x","--chakra-scale-y"]),rotate:Re.degreeT("--chakra-rotate")},nJt={transition:!0,transitionDelay:!0,animation:!0,willChange:!0,transitionDuration:Re.prop("transitionDuration","transition.duration"),transitionProperty:Re.prop("transitionProperty","transition.property"),transitionTimingFunction:Re.prop("transitionTimingFunction","transition.easing")},rJt={fontFamily:Re.prop("fontFamily","fonts"),fontSize:Re.prop("fontSize","fontSizes",Hr.px),fontWeight:Re.prop("fontWeight","fontWeights"),lineHeight:Re.prop("lineHeight","lineHeights"),letterSpacing:Re.prop("letterSpacing","letterSpacings"),textAlign:!0,fontStyle:!0,textIndent:!0,wordBreak:!0,overflowWrap:!0,textOverflow:!0,textTransform:!0,whiteSpace:!0,isTruncated:{transform(e){if(e===!0)return{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}},noOfLines:{static:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:"var(--chakra-line-clamp)"},property:"--chakra-line-clamp"}},iJt={scrollBehavior:!0,scrollSnapAlign:!0,scrollSnapStop:!0,scrollSnapType:!0,scrollMargin:Re.spaceT("scrollMargin"),scrollMarginTop:Re.spaceT("scrollMarginTop"),scrollMarginBottom:Re.spaceT("scrollMarginBottom"),scrollMarginLeft:Re.spaceT("scrollMarginLeft"),scrollMarginRight:Re.spaceT("scrollMarginRight"),scrollMarginX:Re.spaceT(["scrollMarginLeft","scrollMarginRight"]),scrollMarginY:Re.spaceT(["scrollMarginTop","scrollMarginBottom"]),scrollPadding:Re.spaceT("scrollPadding"),scrollPaddingTop:Re.spaceT("scrollPaddingTop"),scrollPaddingBottom:Re.spaceT("scrollPaddingBottom"),scrollPaddingLeft:Re.spaceT("scrollPaddingLeft"),scrollPaddingRight:Re.spaceT("scrollPaddingRight"),scrollPaddingX:Re.spaceT(["scrollPaddingLeft","scrollPaddingRight"]),scrollPaddingY:Re.spaceT(["scrollPaddingTop","scrollPaddingBottom"])};function SBe(e){return Ep(e)&&e.reference?e.reference:String(e)}var lj=(e,...t)=>t.map(SBe).join(` ${e} `).replace(/calc/g,""),rme=(...e)=>`calc(${lj("+",...e)})`,ime=(...e)=>`calc(${lj("-",...e)})`,bZ=(...e)=>`calc(${lj("*",...e)})`,ome=(...e)=>`calc(${lj("/",...e)})`,sme=e=>{const t=SBe(e);return t!=null&&!Number.isNaN(parseFloat(t))?String(t).startsWith("-")?String(t).slice(1):`-${t}`:bZ(t,-1)},vb=Object.assign(e=>({add:(...t)=>vb(rme(e,...t)),subtract:(...t)=>vb(ime(e,...t)),multiply:(...t)=>vb(bZ(e,...t)),divide:(...t)=>vb(ome(e,...t)),negate:()=>vb(sme(e)),toString:()=>e.toString()}),{add:rme,subtract:ime,multiply:bZ,divide:ome,negate:sme});function oJt(e,t="-"){return e.replace(/\s+/g,t)}function sJt(e){const t=oJt(e.toString());return lJt(aJt(t))}function aJt(e){return e.includes("\\.")?e:!Number.isInteger(parseFloat(e.toString()))?e.replace(".","\\."):e}function lJt(e){return e.replace(/[!-,/:-@[-^`{-~]/g,"\\$&")}function uJt(e,t=""){return[t,e].filter(Boolean).join("-")}function cJt(e,t){return`var(${e}${t?`, ${t}`:""})`}function dJt(e,t=""){return sJt(`--${uJt(e,t)}`)}function En(e,t,n){const r=dJt(e,n);return{variable:r,reference:cJt(r,t)}}function fJt(e,t){const n={};for(const r of t){if(Array.isArray(r)){const[i,o]=r;n[i]=En(`${e}-${i}`,o);continue}n[r]=En(`${e}-${r}`)}return n}function hJt(e){const t=e==null?0:e.length;return t?e[t-1]:void 0}function pJt(e){const t=parseFloat(e.toString()),n=e.toString().replace(String(t),"");return{unitless:!n,value:t,unit:n}}function wZ(e){if(e==null)return e;const{unitless:t}=pJt(e);return t||typeof e=="number"?`${e}px`:e}var _Be=(e,t)=>parseInt(e[1],10)>parseInt(t[1],10)?1:-1,rne=e=>Object.fromEntries(Object.entries(e).sort(_Be));function ame(e){const t=rne(e);return Object.assign(Object.values(t),t)}function mJt(e){const t=Object.keys(rne(e));return new Set(t)}function lme(e){var t;if(!e)return e;e=(t=wZ(e))!=null?t:e;const n=-.02;return typeof e=="number"?`${e+n}`:e.replace(/(\d+\.?\d*)/u,r=>`${parseFloat(r)+n}`)}function Nk(e,t){const n=["@media screen"];return e&&n.push("and",`(min-width: ${wZ(e)})`),t&&n.push("and",`(max-width: ${wZ(t)})`),n.join(" ")}function gJt(e){var t;if(!e)return null;e.base=(t=e.base)!=null?t:"0px";const n=ame(e),r=Object.entries(e).sort(_Be).map(([s,a],l,u)=>{var c;let[,f]=(c=u[l+1])!=null?c:[];return f=parseFloat(f)>0?lme(f):void 0,{_minW:lme(a),breakpoint:s,minW:a,maxW:f,maxWQuery:Nk(null,f),minWQuery:Nk(a),minMaxQuery:Nk(a,f)}}),i=mJt(e),o=Array.from(i.values());return{keys:i,normalized:n,isResponsive(s){const a=Object.keys(s);return a.length>0&&a.every(l=>i.has(l))},asObject:rne(e),asArray:ame(e),details:r,get(s){return r.find(a=>a.breakpoint===s)},media:[null,...n.map(s=>Nk(s)).slice(1)],toArrayValue(s){if(!Ep(s))throw new Error("toArrayValue: value must be an object");const a=o.map(l=>{var u;return(u=s[l])!=null?u:null});for(;hJt(a)===null;)a.pop();return a},toObjectValue(s){if(!Array.isArray(s))throw new Error("toObjectValue: value must be an array");return s.reduce((a,l,u)=>{const c=o[u];return c!=null&&l!=null&&(a[c]=l),a},{})}}}var ja={hover:(e,t)=>`${e}:hover ${t}, ${e}[data-hover] ${t}`,focus:(e,t)=>`${e}:focus ${t}, ${e}[data-focus] ${t}`,focusVisible:(e,t)=>`${e}:focus-visible ${t}`,focusWithin:(e,t)=>`${e}:focus-within ${t}`,active:(e,t)=>`${e}:active ${t}, ${e}[data-active] ${t}`,disabled:(e,t)=>`${e}:disabled ${t}, ${e}[data-disabled] ${t}`,invalid:(e,t)=>`${e}:invalid ${t}, ${e}[data-invalid] ${t}`,checked:(e,t)=>`${e}:checked ${t}, ${e}[data-checked] ${t}`,indeterminate:(e,t)=>`${e}:indeterminate ${t}, ${e}[aria-checked=mixed] ${t}, ${e}[data-indeterminate] ${t}`,readOnly:(e,t)=>`${e}:read-only ${t}, ${e}[readonly] ${t}, ${e}[data-read-only] ${t}`,expanded:(e,t)=>`${e}:read-only ${t}, ${e}[aria-expanded=true] ${t}, ${e}[data-expanded] ${t}`,placeholderShown:(e,t)=>`${e}:placeholder-shown ${t}`},Hv=e=>CBe(t=>e(t,"&"),"[role=group]","[data-group]",".group"),km=e=>CBe(t=>e(t,"~ &"),"[data-peer]",".peer"),CBe=(e,...t)=>t.map(e).join(", "),uj={_hover:"&:hover, &[data-hover]",_active:"&:active, &[data-active]",_focus:"&:focus, &[data-focus]",_highlighted:"&[data-highlighted]",_focusWithin:"&:focus-within",_focusVisible:"&:focus-visible, &[data-focus-visible]",_disabled:"&:disabled, &[disabled], &[aria-disabled=true], &[data-disabled]",_readOnly:"&[aria-readonly=true], &[readonly], &[data-readonly]",_before:"&::before",_after:"&::after",_empty:"&:empty",_expanded:"&[aria-expanded=true], &[data-expanded]",_checked:"&[aria-checked=true], &[data-checked]",_grabbed:"&[aria-grabbed=true], &[data-grabbed]",_pressed:"&[aria-pressed=true], &[data-pressed]",_invalid:"&[aria-invalid=true], &[data-invalid]",_valid:"&[data-valid], &[data-state=valid]",_loading:"&[data-loading], &[aria-busy=true]",_selected:"&[aria-selected=true], &[data-selected]",_hidden:"&[hidden], &[data-hidden]",_autofill:"&:-webkit-autofill",_even:"&:nth-of-type(even)",_odd:"&:nth-of-type(odd)",_first:"&:first-of-type",_firstLetter:"&::first-letter",_last:"&:last-of-type",_notFirst:"&:not(:first-of-type)",_notLast:"&:not(:last-of-type)",_visited:"&:visited",_activeLink:"&[aria-current=page]",_activeStep:"&[aria-current=step]",_indeterminate:"&:indeterminate, &[aria-checked=mixed], &[data-indeterminate]",_groupHover:Hv(ja.hover),_peerHover:km(ja.hover),_groupFocus:Hv(ja.focus),_peerFocus:km(ja.focus),_groupFocusVisible:Hv(ja.focusVisible),_peerFocusVisible:km(ja.focusVisible),_groupActive:Hv(ja.active),_peerActive:km(ja.active),_groupDisabled:Hv(ja.disabled),_peerDisabled:km(ja.disabled),_groupInvalid:Hv(ja.invalid),_peerInvalid:km(ja.invalid),_groupChecked:Hv(ja.checked),_peerChecked:km(ja.checked),_groupFocusWithin:Hv(ja.focusWithin),_peerFocusWithin:km(ja.focusWithin),_peerPlaceholderShown:km(ja.placeholderShown),_placeholder:"&::placeholder",_placeholderShown:"&:placeholder-shown",_fullScreen:"&:fullscreen",_selection:"&::selection",_rtl:"[dir=rtl] &, &[dir=rtl]",_ltr:"[dir=ltr] &, &[dir=ltr]",_mediaDark:"@media (prefers-color-scheme: dark)",_mediaReduceMotion:"@media (prefers-reduced-motion: reduce)",_dark:".chakra-ui-dark &:not([data-theme]),[data-theme=dark] &:not([data-theme]),&[data-theme=dark]",_light:".chakra-ui-light &:not([data-theme]),[data-theme=light] &:not([data-theme]),&[data-theme=light]",_horizontal:"&[data-orientation=horizontal]",_vertical:"&[data-orientation=vertical]"},EBe=Object.keys(uj);function ume(e,t){return En(String(e).replace(/\./g,"-"),void 0,t)}function vJt(e,t){let n={};const r={};for(const[i,o]of Object.entries(e)){const{isSemantic:s,value:a}=o,{variable:l,reference:u}=ume(i,t==null?void 0:t.cssVarPrefix);if(!s){if(i.startsWith("space")){const p=i.split("."),[g,...v]=p,y=`${g}.-${v.join(".")}`,S=vb.negate(a),C=vb.negate(u);r[y]={value:S,var:l,varRef:C}}n[l]=a,r[i]={value:a,var:l,varRef:u};continue}const c=p=>{const v=[String(i).split(".")[0],p].join(".");if(!e[v])return p;const{reference:S}=ume(v,t==null?void 0:t.cssVarPrefix);return S},f=Ep(a)?a:{default:a};n=bp(n,Object.entries(f).reduce((p,[g,v])=>{var y,S;if(!v)return p;const C=c(`${v}`);if(g==="default")return p[l]=C,p;const _=(S=(y=uj)==null?void 0:y[g])!=null?S:g;return p[_]={[l]:C},p},{})),r[i]={value:u,var:l,varRef:u}}return{cssVars:n,cssMap:r}}function yJt(e,t=[]){const n=Object.assign({},e);for(const r of t)r in n&&delete n[r];return n}function bJt(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function wJt(e){return typeof e=="object"&&e!=null&&!Array.isArray(e)}function cme(e,t,n={}){const{stop:r,getKey:i}=n;function o(s,a=[]){var l;if(wJt(s)||Array.isArray(s)){const u={};for(const[c,f]of Object.entries(s)){const p=(l=i==null?void 0:i(c))!=null?l:c,g=[...a,p];if(r!=null&&r(s,g))return t(s,a);u[p]=o(f,g)}return u}return t(s,a)}return o(e)}var xJt=["colors","borders","borderWidths","borderStyles","fonts","fontSizes","fontWeights","gradients","letterSpacings","lineHeights","radii","space","shadows","sizes","zIndices","transition","blur","breakpoints"];function SJt(e){return bJt(e,xJt)}function _Jt(e){return e.semanticTokens}function CJt(e){const{__cssMap:t,__cssVars:n,__breakpoints:r,...i}=e;return i}var EJt=e=>EBe.includes(e)||e==="default";function kJt({tokens:e,semanticTokens:t}){const n={};return cme(e,(r,i)=>{r!=null&&(n[i.join(".")]={isSemantic:!1,value:r})}),cme(t,(r,i)=>{r!=null&&(n[i.join(".")]={isSemantic:!0,value:r})},{stop:r=>Object.keys(r).every(EJt)}),n}function PJt(e){var t;const n=CJt(e),r=SJt(n),i=_Jt(n),o=kJt({tokens:r,semanticTokens:i}),s=(t=n.config)==null?void 0:t.cssVarPrefix,{cssMap:a,cssVars:l}=vJt(o,{cssVarPrefix:s});return Object.assign(n,{__cssVars:{...{"--chakra-ring-inset":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-ring-offset-width":"0px","--chakra-ring-offset-color":"#fff","--chakra-ring-color":"rgba(66, 153, 225, 0.6)","--chakra-ring-offset-shadow":"0 0 #0000","--chakra-ring-shadow":"0 0 #0000","--chakra-space-x-reverse":"0","--chakra-space-y-reverse":"0"},...l},__cssMap:a,__breakpoints:gJt(n.breakpoints)}),n}var ine=bp({},TI,hi,VQt,a9,Rd,UQt,JQt,WQt,xBe,QQt,AP,yZ,go,iJt,rJt,eJt,tJt,KQt,nJt);Object.assign({},go,Rd,a9,xBe,AP);var $Jt=[...Object.keys(ine),...EBe],TJt={...ine,...uj},MJt=e=>e in TJt,LJt=e=>t=>{if(!t.__breakpoints)return e;const{isResponsive:n,toArrayValue:r,media:i}=t.__breakpoints,o={};for(const s in e){let a=gg(e[s],t);if(a==null)continue;if(a=Ep(a)&&n(a)?r(a):a,!Array.isArray(a)){o[s]=a;continue}const l=a.slice(0,i.length).length;for(let u=0;u<l;u+=1){const c=i==null?void 0:i[u];if(!c){o[s]=a[u];continue}o[c]=o[c]||{},a[u]!=null&&(o[c][s]=a[u])}}return o};function AJt(e){const t=[];let n="",r=!1;for(let i=0;i<e.length;i++){const o=e[i];o==="("?(r=!0,n+=o):o===")"?(r=!1,n+=o):o===","&&!r?(t.push(n),n=""):n+=o}return n=n.trim(),n&&t.push(n),t}function IJt(e){return/^var\(--.+\)$/.test(e)}var RJt=(e,t)=>e.startsWith("--")&&typeof t=="string"&&!IJt(t),DJt=(e,t)=>{var n,r;if(t==null)return t;const i=l=>{var u,c;return(c=(u=e.__cssMap)==null?void 0:u[l])==null?void 0:c.varRef},o=l=>{var u;return(u=i(l))!=null?u:l},[s,a]=AJt(t);return t=(r=(n=i(s))!=null?n:o(a))!=null?r:o(t),t};function OJt(e){const{configs:t={},pseudos:n={},theme:r}=e,i=(o,s=!1)=>{var a,l,u;const c=gg(o,r),f=LJt(c)(r);let p={};for(let g in f){const v=f[g];let y=gg(v,r);g in n&&(g=n[g]),RJt(g,y)&&(y=DJt(r,y));let S=t[g];if(S===!0&&(S={property:g}),Ep(y)){p[g]=(a=p[g])!=null?a:{},p[g]=bp({},p[g],i(y,!0));continue}let C=(u=(l=S==null?void 0:S.transform)==null?void 0:l.call(S,y,r,c))!=null?u:y;C=S!=null&&S.processResult?i(C,!0):C;const _=gg(S==null?void 0:S.property,r);if(!s&&(S!=null&&S.static)){const k=gg(S.static,r);p=bp({},p,k)}if(_&&Array.isArray(_)){for(const k of _)p[k]=C;continue}if(_){_==="&"&&Ep(C)?p=bp({},p,C):p[_]=C;continue}if(Ep(C)){p=bp({},p,C);continue}p[g]=C}return p};return i}var kBe=e=>t=>OJt({theme:t,pseudos:uj,configs:ine})(e);function oo(e){return{definePartsStyle(t){return t},defineMultiStyleConfig(t){return{parts:e,...t}}}}function jJt(e,t){if(Array.isArray(e))return e;if(Ep(e))return t(e);if(e!=null)return[e]}function NJt(e,t){for(let n=t+1;n<e.length;n++)if(e[n]!=null)return n;return-1}function FJt(e){const t=e.__breakpoints;return function(r,i,o,s){var a,l;if(!t)return;const u={},c=jJt(o,t.toArrayValue);if(!c)return u;const f=c.length,p=f===1,g=!!r.parts;for(let v=0;v<f;v++){const y=t.details[v],S=t.details[NJt(c,v)],C=Nk(y.minW,S==null?void 0:S._minW),_=gg((a=r[i])==null?void 0:a[c[v]],s);if(_){if(g){(l=r.parts)==null||l.forEach(k=>{bp(u,{[k]:p?_[k]:{[C]:_[k]}})});continue}if(!g){p?bp(u,_):u[C]=_;continue}u[C]=_}}return u}}function BJt(e){return t=>{var n;const{variant:r,size:i,theme:o}=t,s=FJt(o);return bp({},gg((n=e.baseStyle)!=null?n:{},t),s(e,"sizes",i,t),s(e,"variants",r,t))}}function Bx(e){return yJt(e,["styleConfig","size","variant","colorScheme"])}var zJt={common:"background-color, border-color, color, fill, stroke, opacity, box-shadow, transform",colors:"background-color, border-color, color, fill, stroke",dimensions:"width, height",position:"left, right, top, bottom",background:"background-color, background-image, background-position"},HJt={"ease-in":"cubic-bezier(0.4, 0, 1, 1)","ease-out":"cubic-bezier(0, 0, 0.2, 1)","ease-in-out":"cubic-bezier(0.4, 0, 0.2, 1)"},VJt={"ultra-fast":"50ms",faster:"100ms",fast:"150ms",normal:"200ms",slow:"300ms",slower:"400ms","ultra-slow":"500ms"},UJt={property:zJt,easing:HJt,duration:VJt},WJt=UJt,KJt={hide:-1,auto:"auto",base:0,docked:10,dropdown:1e3,sticky:1100,banner:1200,overlay:1300,modal:1400,popover:1500,skipLink:1600,toast:1700,tooltip:1800},qJt=KJt,GJt={none:0,"1px":"1px solid","2px":"2px solid","4px":"4px solid","8px":"8px solid"},ZJt=GJt,YJt={base:"0em",sm:"30em",md:"48em",lg:"62em",xl:"80em","2xl":"96em"},XJt=YJt,QJt={transparent:"transparent",current:"currentColor",black:"#000000",white:"#FFFFFF",whiteAlpha:{50:"rgba(255, 255, 255, 0.04)",100:"rgba(255, 255, 255, 0.06)",200:"rgba(255, 255, 255, 0.08)",300:"rgba(255, 255, 255, 0.16)",400:"rgba(255, 255, 255, 0.24)",500:"rgba(255, 255, 255, 0.36)",600:"rgba(255, 255, 255, 0.48)",700:"rgba(255, 255, 255, 0.64)",800:"rgba(255, 255, 255, 0.80)",900:"rgba(255, 255, 255, 0.92)"},blackAlpha:{50:"rgba(0, 0, 0, 0.04)",100:"rgba(0, 0, 0, 0.06)",200:"rgba(0, 0, 0, 0.08)",300:"rgba(0, 0, 0, 0.16)",400:"rgba(0, 0, 0, 0.24)",500:"rgba(0, 0, 0, 0.36)",600:"rgba(0, 0, 0, 0.48)",700:"rgba(0, 0, 0, 0.64)",800:"rgba(0, 0, 0, 0.80)",900:"rgba(0, 0, 0, 0.92)"},gray:{50:"#F7FAFC",100:"#EDF2F7",200:"#E2E8F0",300:"#CBD5E0",400:"#A0AEC0",500:"#718096",600:"#4A5568",700:"#2D3748",800:"#1A202C",900:"#171923"},red:{50:"#FFF5F5",100:"#FED7D7",200:"#FEB2B2",300:"#FC8181",400:"#F56565",500:"#E53E3E",600:"#C53030",700:"#9B2C2C",800:"#822727",900:"#63171B"},orange:{50:"#FFFAF0",100:"#FEEBC8",200:"#FBD38D",300:"#F6AD55",400:"#ED8936",500:"#DD6B20",600:"#C05621",700:"#9C4221",800:"#7B341E",900:"#652B19"},yellow:{50:"#FFFFF0",100:"#FEFCBF",200:"#FAF089",300:"#F6E05E",400:"#ECC94B",500:"#D69E2E",600:"#B7791F",700:"#975A16",800:"#744210",900:"#5F370E"},green:{50:"#F0FFF4",100:"#C6F6D5",200:"#9AE6B4",300:"#68D391",400:"#48BB78",500:"#38A169",600:"#2F855A",700:"#276749",800:"#22543D",900:"#1C4532"},teal:{50:"#E6FFFA",100:"#B2F5EA",200:"#81E6D9",300:"#4FD1C5",400:"#38B2AC",500:"#319795",600:"#2C7A7B",700:"#285E61",800:"#234E52",900:"#1D4044"},blue:{50:"#ebf8ff",100:"#bee3f8",200:"#90cdf4",300:"#63b3ed",400:"#4299e1",500:"#3182ce",600:"#2b6cb0",700:"#2c5282",800:"#2a4365",900:"#1A365D"},cyan:{50:"#EDFDFD",100:"#C4F1F9",200:"#9DECF9",300:"#76E4F7",400:"#0BC5EA",500:"#00B5D8",600:"#00A3C4",700:"#0987A0",800:"#086F83",900:"#065666"},purple:{50:"#FAF5FF",100:"#E9D8FD",200:"#D6BCFA",300:"#B794F4",400:"#9F7AEA",500:"#805AD5",600:"#6B46C1",700:"#553C9A",800:"#44337A",900:"#322659"},pink:{50:"#FFF5F7",100:"#FED7E2",200:"#FBB6CE",300:"#F687B3",400:"#ED64A6",500:"#D53F8C",600:"#B83280",700:"#97266D",800:"#702459",900:"#521B41"},linkedin:{50:"#E8F4F9",100:"#CFEDFB",200:"#9BDAF3",300:"#68C7EC",400:"#34B3E4",500:"#00A0DC",600:"#008CC9",700:"#0077B5",800:"#005E93",900:"#004471"},facebook:{50:"#E8F4F9",100:"#D9DEE9",200:"#B7C2DA",300:"#6482C0",400:"#4267B2",500:"#385898",600:"#314E89",700:"#29487D",800:"#223B67",900:"#1E355B"},messenger:{50:"#D0E6FF",100:"#B9DAFF",200:"#A2CDFF",300:"#7AB8FF",400:"#2E90FF",500:"#0078FF",600:"#0063D1",700:"#0052AC",800:"#003C7E",900:"#002C5C"},whatsapp:{50:"#dffeec",100:"#b9f5d0",200:"#90edb3",300:"#65e495",400:"#3cdd78",500:"#22c35e",600:"#179848",700:"#0c6c33",800:"#01421c",900:"#001803"},twitter:{50:"#E5F4FD",100:"#C8E9FB",200:"#A8DCFA",300:"#83CDF7",400:"#57BBF5",500:"#1DA1F2",600:"#1A94DA",700:"#1681BF",800:"#136B9E",900:"#0D4D71"},telegram:{50:"#E3F2F9",100:"#C5E4F3",200:"#A2D4EC",300:"#7AC1E4",400:"#47A9DA",500:"#0088CC",600:"#007AB8",700:"#006BA1",800:"#005885",900:"#003F5E"}},JJt=QJt,een={none:"0",sm:"0.125rem",base:"0.25rem",md:"0.375rem",lg:"0.5rem",xl:"0.75rem","2xl":"1rem","3xl":"1.5rem",full:"9999px"},ten=een,nen={xs:"0 0 0 1px rgba(0, 0, 0, 0.05)",sm:"0 1px 2px 0 rgba(0, 0, 0, 0.05)",base:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)",md:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",lg:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",xl:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)","2xl":"0 25px 50px -12px rgba(0, 0, 0, 0.25)",outline:"0 0 0 3px rgba(66, 153, 225, 0.6)",inner:"inset 0 2px 4px 0 rgba(0,0,0,0.06)",none:"none","dark-lg":"rgba(0, 0, 0, 0.1) 0px 0px 0px 1px, rgba(0, 0, 0, 0.2) 0px 5px 10px, rgba(0, 0, 0, 0.4) 0px 15px 40px"},ren=nen,ien={none:0,sm:"4px",base:"8px",md:"12px",lg:"16px",xl:"24px","2xl":"40px","3xl":"64px"},oen=ien,sen={letterSpacings:{tighter:"-0.05em",tight:"-0.025em",normal:"0",wide:"0.025em",wider:"0.05em",widest:"0.1em"},lineHeights:{normal:"normal",none:1,shorter:1.25,short:1.375,base:1.5,tall:1.625,taller:"2",3:".75rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem"},fontWeights:{hairline:100,thin:200,light:300,normal:400,medium:500,semibold:600,bold:700,extrabold:800,black:900},fonts:{heading:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',body:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',mono:'SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace'},fontSizes:{"3xs":"0.45rem","2xs":"0.625rem",xs:"0.75rem",sm:"0.875rem",md:"1rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem","3xl":"1.875rem","4xl":"2.25rem","5xl":"3rem","6xl":"3.75rem","7xl":"4.5rem","8xl":"6rem","9xl":"8rem"}},PBe=sen,$Be={px:"1px",.5:"0.125rem",1:"0.25rem",1.5:"0.375rem",2:"0.5rem",2.5:"0.625rem",3:"0.75rem",3.5:"0.875rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem",12:"3rem",14:"3.5rem",16:"4rem",20:"5rem",24:"6rem",28:"7rem",32:"8rem",36:"9rem",40:"10rem",44:"11rem",48:"12rem",52:"13rem",56:"14rem",60:"15rem",64:"16rem",72:"18rem",80:"20rem",96:"24rem"},aen={max:"max-content",min:"min-content",full:"100%","3xs":"14rem","2xs":"16rem",xs:"20rem",sm:"24rem",md:"28rem",lg:"32rem",xl:"36rem","2xl":"42rem","3xl":"48rem","4xl":"56rem","5xl":"64rem","6xl":"72rem","7xl":"80rem","8xl":"90rem",prose:"60ch"},len={sm:"640px",md:"768px",lg:"1024px",xl:"1280px"},uen={...$Be,...aen,container:len},TBe=uen,cen={breakpoints:XJt,zIndices:qJt,radii:ten,blur:oen,colors:JJt,...PBe,sizes:TBe,shadows:ren,space:$Be,borders:ZJt,transition:WJt},{defineMultiStyleConfig:den,definePartsStyle:Fk}=oo(["stepper","step","title","description","indicator","separator","icon","number"]),ug=En("stepper-indicator-size"),c2=En("stepper-icon-size"),d2=En("stepper-title-font-size"),Bk=En("stepper-description-font-size"),tk=En("stepper-accent-color"),fen=Fk(({colorScheme:e})=>({stepper:{display:"flex",justifyContent:"space-between",gap:"4","&[data-orientation=vertical]":{flexDirection:"column",alignItems:"flex-start"},"&[data-orientation=horizontal]":{flexDirection:"row",alignItems:"center"},[tk.variable]:`colors.${e}.500`,_dark:{[tk.variable]:`colors.${e}.200`}},title:{fontSize:d2.reference,fontWeight:"medium"},description:{fontSize:Bk.reference,color:"chakra-subtle-text"},number:{fontSize:d2.reference},step:{flexShrink:0,position:"relative",display:"flex",gap:"2","&[data-orientation=horizontal]":{alignItems:"center"},flex:"1","&:last-of-type:not([data-stretch])":{flex:"initial"}},icon:{flexShrink:0,width:c2.reference,height:c2.reference},indicator:{flexShrink:0,borderRadius:"full",width:ug.reference,height:ug.reference,display:"flex",justifyContent:"center",alignItems:"center","&[data-status=active]":{borderWidth:"2px",borderColor:tk.reference},"&[data-status=complete]":{bg:tk.reference,color:"chakra-inverse-text"},"&[data-status=incomplete]":{borderWidth:"2px"}},separator:{bg:"chakra-border-color",flex:"1","&[data-status=complete]":{bg:tk.reference},"&[data-orientation=horizontal]":{width:"100%",height:"2px",marginStart:"2"},"&[data-orientation=vertical]":{width:"2px",position:"absolute",height:"100%",maxHeight:`calc(100% - ${ug.reference} - 8px)`,top:`calc(${ug.reference} + 4px)`,insetStart:`calc(${ug.reference} / 2 - 1px)`}}})),hen=den({baseStyle:fen,sizes:{xs:Fk({stepper:{[ug.variable]:"sizes.4",[c2.variable]:"sizes.3",[d2.variable]:"fontSizes.xs",[Bk.variable]:"fontSizes.xs"}}),sm:Fk({stepper:{[ug.variable]:"sizes.6",[c2.variable]:"sizes.4",[d2.variable]:"fontSizes.sm",[Bk.variable]:"fontSizes.xs"}}),md:Fk({stepper:{[ug.variable]:"sizes.8",[c2.variable]:"sizes.5",[d2.variable]:"fontSizes.md",[Bk.variable]:"fontSizes.sm"}}),lg:Fk({stepper:{[ug.variable]:"sizes.10",[c2.variable]:"sizes.6",[d2.variable]:"fontSizes.lg",[Bk.variable]:"fontSizes.md"}})},defaultProps:{size:"md",colorScheme:"blue"}});function bi(e,t={}){let n=!1;function r(){if(!n){n=!0;return}throw new Error("[anatomy] .part(...) should only be called once. Did you mean to use .extend(...) ?")}function i(...c){r();for(const f of c)t[f]=l(f);return bi(e,t)}function o(...c){for(const f of c)f in t||(t[f]=l(f));return bi(e,t)}function s(){return Object.fromEntries(Object.entries(t).map(([f,p])=>[f,p.selector]))}function a(){return Object.fromEntries(Object.entries(t).map(([f,p])=>[f,p.className]))}function l(c){const g=`chakra-${(["container","root"].includes(c??"")?[e]:[e,c]).filter(Boolean).join("__")}`;return{className:g,selector:`.${g}`,toString:()=>c}}return{parts:i,toPart:l,extend:o,selectors:s,classnames:a,get keys(){return Object.keys(t)},__type:{}}}var pen=bi("accordion").parts("root","container","button","panel").extend("icon"),men=bi("alert").parts("title","description","container").extend("icon","spinner"),gen=bi("avatar").parts("label","badge","container").extend("excessLabel","group"),ven=bi("breadcrumb").parts("link","item","container").extend("separator");bi("button").parts();var yen=bi("checkbox").parts("control","icon","container").extend("label");bi("progress").parts("track","filledTrack").extend("label");var ben=bi("drawer").parts("overlay","dialogContainer","dialog").extend("header","closeButton","body","footer"),wen=bi("editable").parts("preview","input","textarea"),xen=bi("form").parts("container","requiredIndicator","helperText"),Sen=bi("formError").parts("text","icon"),_en=bi("input").parts("addon","field","element","group"),Cen=bi("list").parts("container","item","icon"),Een=bi("menu").parts("button","list","item").extend("groupTitle","icon","command","divider"),ken=bi("modal").parts("overlay","dialogContainer","dialog").extend("header","closeButton","body","footer"),Pen=bi("numberinput").parts("root","field","stepperGroup","stepper");bi("pininput").parts("field");var $en=bi("popover").parts("content","header","body","footer").extend("popper","arrow","closeButton"),Ten=bi("progress").parts("label","filledTrack","track"),Men=bi("radio").parts("container","control","label"),Len=bi("select").parts("field","icon"),Aen=bi("slider").parts("container","track","thumb","filledTrack","mark"),Ien=bi("stat").parts("container","label","helpText","number","icon"),Ren=bi("switch").parts("container","track","thumb","label"),Den=bi("table").parts("table","thead","tbody","tr","th","td","tfoot","caption"),Oen=bi("tabs").parts("root","tab","tablist","tabpanel","tabpanels","indicator"),jen=bi("tag").parts("container","label","closeButton"),Nen=bi("card").parts("container","header","body","footer");bi("stepper").parts("stepper","step","title","description","indicator","separator","icon","number");function Ib(e,t,n){return Math.min(Math.max(e,n),t)}class Fen extends Error{constructor(t){super(`Failed to parse color: "${t}"`)}}var zk=Fen;function one(e){if(typeof e!="string")throw new zk(e);if(e.trim().toLowerCase()==="transparent")return[0,0,0,0];let t=e.trim();t=qen.test(e)?Hen(e):e;const n=Ven.exec(t);if(n){const s=Array.from(n).slice(1);return[...s.slice(0,3).map(a=>parseInt(e$(a,2),16)),parseInt(e$(s[3]||"f",2),16)/255]}const r=Uen.exec(t);if(r){const s=Array.from(r).slice(1);return[...s.slice(0,3).map(a=>parseInt(a,16)),parseInt(s[3]||"ff",16)/255]}const i=Wen.exec(t);if(i){const s=Array.from(i).slice(1);return[...s.slice(0,3).map(a=>parseInt(a,10)),parseFloat(s[3]||"1")]}const o=Ken.exec(t);if(o){const[s,a,l,u]=Array.from(o).slice(1).map(parseFloat);if(Ib(0,100,a)!==a)throw new zk(e);if(Ib(0,100,l)!==l)throw new zk(e);return[...Gen(s,a,l),Number.isNaN(u)?1:u]}throw new zk(e)}function Ben(e){let t=5381,n=e.length;for(;n;)t=t*33^e.charCodeAt(--n);return(t>>>0)%2341}const dme=e=>parseInt(e.replace(/_/g,""),36),zen="1q29ehhb 1n09sgk7 1kl1ekf_ _yl4zsno 16z9eiv3 1p29lhp8 _bd9zg04 17u0____ _iw9zhe5 _to73___ _r45e31e _7l6g016 _jh8ouiv _zn3qba8 1jy4zshs 11u87k0u 1ro9yvyo 1aj3xael 1gz9zjz0 _3w8l4xo 1bf1ekf_ _ke3v___ _4rrkb__ 13j776yz _646mbhl _nrjr4__ _le6mbhl 1n37ehkb _m75f91n _qj3bzfz 1939yygw 11i5z6x8 _1k5f8xs 1509441m 15t5lwgf _ae2th1n _tg1ugcv 1lp1ugcv 16e14up_ _h55rw7n _ny9yavn _7a11xb_ 1ih442g9 _pv442g9 1mv16xof 14e6y7tu 1oo9zkds 17d1cisi _4v9y70f _y98m8kc 1019pq0v 12o9zda8 _348j4f4 1et50i2o _8epa8__ _ts6senj 1o350i2o 1mi9eiuo 1259yrp0 1ln80gnw _632xcoy 1cn9zldc _f29edu4 1n490c8q _9f9ziet 1b94vk74 _m49zkct 1kz6s73a 1eu9dtog _q58s1rz 1dy9sjiq __u89jo3 _aj5nkwg _ld89jo3 13h9z6wx _qa9z2ii _l119xgq _bs5arju 1hj4nwk9 1qt4nwk9 1ge6wau6 14j9zlcw 11p1edc_ _ms1zcxe _439shk6 _jt9y70f _754zsow 1la40eju _oq5p___ _x279qkz 1fa5r3rv _yd2d9ip _424tcku _8y1di2_ _zi2uabw _yy7rn9h 12yz980_ __39ljp6 1b59zg0x _n39zfzp 1fy9zest _b33k___ _hp9wq92 1il50hz4 _io472ub _lj9z3eo 19z9ykg0 _8t8iu3a 12b9bl4a 1ak5yw0o _896v4ku _tb8k8lv _s59zi6t _c09ze0p 1lg80oqn 1id9z8wb _238nba5 1kq6wgdi _154zssg _tn3zk49 _da9y6tc 1sg7cv4f _r12jvtt 1gq5fmkz 1cs9rvci _lp9jn1c _xw1tdnb 13f9zje6 16f6973h _vo7ir40 _bt5arjf _rc45e4t _hr4e100 10v4e100 _hc9zke2 _w91egv_ _sj2r1kk 13c87yx8 _vqpds__ _ni8ggk8 _tj9yqfb 1ia2j4r4 _7x9b10u 1fc9ld4j 1eq9zldr _5j9lhpx _ez9zl6o _md61fzm".split(" ").reduce((e,t)=>{const n=dme(t.substring(0,3)),r=dme(t.substring(3)).toString(16);let i="";for(let o=0;o<6-r.length;o++)i+="0";return e[n]=`${i}${r}`,e},{});function Hen(e){const t=e.toLowerCase().trim(),n=zen[Ben(t)];if(!n)throw new zk(e);return`#${n}`}const e$=(e,t)=>Array.from(Array(t)).map(()=>e).join(""),Ven=new RegExp(`^#${e$("([a-f0-9])",3)}([a-f0-9])?$`,"i"),Uen=new RegExp(`^#${e$("([a-f0-9]{2})",3)}([a-f0-9]{2})?$`,"i"),Wen=new RegExp(`^rgba?\\(\\s*(\\d+)\\s*${e$(",\\s*(\\d+)\\s*",2)}(?:,\\s*([\\d.]+))?\\s*\\)$`,"i"),Ken=/^hsla?\(\s*([\d.]+)\s*,\s*([\d.]+)%\s*,\s*([\d.]+)%(?:\s*,\s*([\d.]+))?\s*\)$/i,qen=/^[a-z]+$/i,fme=e=>Math.round(e*255),Gen=(e,t,n)=>{let r=n/100;if(t===0)return[r,r,r].map(fme);const i=(e%360+360)%360/60,o=(1-Math.abs(2*r-1))*(t/100),s=o*(1-Math.abs(i%2-1));let a=0,l=0,u=0;i>=0&&i<1?(a=o,l=s):i>=1&&i<2?(a=s,l=o):i>=2&&i<3?(l=o,u=s):i>=3&&i<4?(l=s,u=o):i>=4&&i<5?(a=s,u=o):i>=5&&i<6&&(a=o,u=s);const c=r-o/2,f=a+c,p=l+c,g=u+c;return[f,p,g].map(fme)};function Zen(e,t,n,r){return`rgba(${Ib(0,255,e).toFixed()}, ${Ib(0,255,t).toFixed()}, ${Ib(0,255,n).toFixed()}, ${parseFloat(Ib(0,1,r).toFixed(3))})`}function Yen(e,t){const[n,r,i,o]=one(e);return Zen(n,r,i,o-t)}function Xen(e){const[t,n,r,i]=one(e);let o=s=>{const a=Ib(0,255,s).toString(16);return a.length===1?`0${a}`:a};return`#${o(t)}${o(n)}${o(r)}${i<1?o(Math.round(i*255)):""}`}function Qen(e,t,n,r,i){for(t=t.split?t.split("."):t,r=0;r<t.length;r++)e=e?e[t[r]]:i;return e===i?n:e}var Jen=e=>Object.keys(e).length===0,ou=(e,t,n)=>{const r=Qen(e,`colors.${t}`,t);try{return Xen(r),r}catch{return n??"#000000"}},etn=e=>{const[t,n,r]=one(e);return(t*299+n*587+r*114)/1e3},ttn=e=>t=>{const n=ou(t,e);return etn(n)<128?"dark":"light"},ntn=e=>t=>ttn(e)(t)==="dark",NC=(e,t)=>n=>{const r=ou(n,e);return Yen(r,1-t)};function hme(e="1rem",t="rgba(255, 255, 255, 0.15)"){return{backgroundImage:`linear-gradient(
    45deg,
    ${t} 25%,
    transparent 25%,
    transparent 50%,
    ${t} 50%,
    ${t} 75%,
    transparent 75%,
    transparent
  )`,backgroundSize:`${e} ${e}`}}var rtn=()=>`#${Math.floor(Math.random()*16777215).toString(16).padEnd(6,"0")}`;function itn(e){const t=rtn();return!e||Jen(e)?t:e.string&&e.colors?stn(e.string,e.colors):e.string&&!e.colors?otn(e.string):e.colors&&!e.string?atn(e.colors):t}function otn(e){let t=0;if(e.length===0)return t.toString();for(let r=0;r<e.length;r+=1)t=e.charCodeAt(r)+((t<<5)-t),t=t&t;let n="#";for(let r=0;r<3;r+=1){const i=t>>r*8&255;n+=`00${i.toString(16)}`.substr(-2)}return n}function stn(e,t){let n=0;if(e.length===0)return t[0];for(let r=0;r<e.length;r+=1)n=e.charCodeAt(r)+((n<<5)-n),n=n&n;return n=(n%t.length+t.length)%t.length,t[n]}function atn(e){return e[Math.floor(Math.random()*e.length)]}function Sn(e,t){return n=>n.colorMode==="dark"?t:e}function sne(e){const{orientation:t,vertical:n,horizontal:r}=e;return t?t==="vertical"?n:r:{}}function MBe(e){return Ep(e)&&e.reference?e.reference:String(e)}var cj=(e,...t)=>t.map(MBe).join(` ${e} `).replace(/calc/g,""),pme=(...e)=>`calc(${cj("+",...e)})`,mme=(...e)=>`calc(${cj("-",...e)})`,xZ=(...e)=>`calc(${cj("*",...e)})`,gme=(...e)=>`calc(${cj("/",...e)})`,vme=e=>{const t=MBe(e);return t!=null&&!Number.isNaN(parseFloat(t))?String(t).startsWith("-")?String(t).slice(1):`-${t}`:xZ(t,-1)},cg=Object.assign(e=>({add:(...t)=>cg(pme(e,...t)),subtract:(...t)=>cg(mme(e,...t)),multiply:(...t)=>cg(xZ(e,...t)),divide:(...t)=>cg(gme(e,...t)),negate:()=>cg(vme(e)),toString:()=>e.toString()}),{add:pme,subtract:mme,multiply:xZ,divide:gme,negate:vme});function ltn(e){return!Number.isInteger(parseFloat(e.toString()))}function utn(e,t="-"){return e.replace(/\s+/g,t)}function LBe(e){const t=utn(e.toString());return t.includes("\\.")?e:ltn(e)?t.replace(".","\\."):e}function ctn(e,t=""){return[t,LBe(e)].filter(Boolean).join("-")}function dtn(e,t){return`var(${LBe(e)}${t?`, ${t}`:""})`}function ftn(e,t=""){return`--${ctn(e,t)}`}function ra(e,t){const n=ftn(e,void 0);return{variable:n,reference:dtn(n,htn(void 0))}}function htn(e){return typeof e=="string"?e:e==null?void 0:e.reference}var{defineMultiStyleConfig:ptn,definePartsStyle:MI}=oo(Ren.keys),IP=ra("switch-track-width"),Aw=ra("switch-track-height"),Rz=ra("switch-track-diff"),mtn=cg.subtract(IP,Aw),SZ=ra("switch-thumb-x"),nk=ra("switch-bg"),gtn=e=>{const{colorScheme:t}=e;return{borderRadius:"full",p:"0.5",width:[IP.reference],height:[Aw.reference],transitionProperty:"common",transitionDuration:"fast",[nk.variable]:"colors.gray.300",_dark:{[nk.variable]:"colors.whiteAlpha.400"},_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed"},_checked:{[nk.variable]:`colors.${t}.500`,_dark:{[nk.variable]:`colors.${t}.200`}},bg:nk.reference}},vtn={bg:"white",transitionProperty:"transform",transitionDuration:"normal",borderRadius:"inherit",width:[Aw.reference],height:[Aw.reference],_checked:{transform:`translateX(${SZ.reference})`}},ytn=MI(e=>({container:{[Rz.variable]:mtn,[SZ.variable]:Rz.reference,_rtl:{[SZ.variable]:cg(Rz).negate().toString()}},track:gtn(e),thumb:vtn})),btn={sm:MI({container:{[IP.variable]:"1.375rem",[Aw.variable]:"sizes.3"}}),md:MI({container:{[IP.variable]:"1.875rem",[Aw.variable]:"sizes.4"}}),lg:MI({container:{[IP.variable]:"2.875rem",[Aw.variable]:"sizes.6"}})},wtn=ptn({baseStyle:ytn,sizes:btn,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:xtn,definePartsStyle:G2}=oo(Den.keys),Stn=G2({table:{fontVariantNumeric:"lining-nums tabular-nums",borderCollapse:"collapse",width:"full"},th:{fontFamily:"heading",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"wider",textAlign:"start"},td:{textAlign:"start"},caption:{mt:4,fontFamily:"heading",textAlign:"center",fontWeight:"medium"}}),l9={"&[data-is-numeric=true]":{textAlign:"end"}},_tn=G2(e=>{const{colorScheme:t}=e;return{th:{color:Sn("gray.600","gray.400")(e),borderBottom:"1px",borderColor:Sn(`${t}.100`,`${t}.700`)(e),...l9},td:{borderBottom:"1px",borderColor:Sn(`${t}.100`,`${t}.700`)(e),...l9},caption:{color:Sn("gray.600","gray.100")(e)},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}}),Ctn=G2(e=>{const{colorScheme:t}=e;return{th:{color:Sn("gray.600","gray.400")(e),borderBottom:"1px",borderColor:Sn(`${t}.100`,`${t}.700`)(e),...l9},td:{borderBottom:"1px",borderColor:Sn(`${t}.100`,`${t}.700`)(e),...l9},caption:{color:Sn("gray.600","gray.100")(e)},tbody:{tr:{"&:nth-of-type(odd)":{"th, td":{borderBottomWidth:"1px",borderColor:Sn(`${t}.100`,`${t}.700`)(e)},td:{background:Sn(`${t}.100`,`${t}.700`)(e)}}}},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}}),Etn={simple:_tn,striped:Ctn,unstyled:{}},ktn={sm:G2({th:{px:"4",py:"1",lineHeight:"4",fontSize:"xs"},td:{px:"4",py:"2",fontSize:"sm",lineHeight:"4"},caption:{px:"4",py:"2",fontSize:"xs"}}),md:G2({th:{px:"6",py:"3",lineHeight:"4",fontSize:"xs"},td:{px:"6",py:"4",lineHeight:"5"},caption:{px:"6",py:"2",fontSize:"sm"}}),lg:G2({th:{px:"8",py:"4",lineHeight:"5",fontSize:"sm"},td:{px:"8",py:"5",lineHeight:"6"},caption:{px:"6",py:"2",fontSize:"md"}})},Ptn=xtn({baseStyle:Stn,variants:Etn,sizes:ktn,defaultProps:{variant:"simple",size:"md",colorScheme:"gray"}}),Yu=En("tabs-color"),eh=En("tabs-bg"),ML=En("tabs-border-color"),{defineMultiStyleConfig:$tn,definePartsStyle:kp}=oo(Oen.keys),Ttn=e=>{const{orientation:t}=e;return{display:t==="vertical"?"flex":"block"}},Mtn=e=>{const{isFitted:t}=e;return{flex:t?1:void 0,transitionProperty:"common",transitionDuration:"normal",_focusVisible:{zIndex:1,boxShadow:"outline"},_disabled:{cursor:"not-allowed",opacity:.4}}},Ltn=e=>{const{align:t="start",orientation:n}=e;return{justifyContent:{end:"flex-end",center:"center",start:"flex-start"}[t],flexDirection:n==="vertical"?"column":"row"}},Atn={p:4},Itn=kp(e=>({root:Ttn(e),tab:Mtn(e),tablist:Ltn(e),tabpanel:Atn})),Rtn={sm:kp({tab:{py:1,px:4,fontSize:"sm"}}),md:kp({tab:{fontSize:"md",py:2,px:4}}),lg:kp({tab:{fontSize:"lg",py:3,px:4}})},Dtn=kp(e=>{const{colorScheme:t,orientation:n}=e,r=n==="vertical",i=r?"borderStart":"borderBottom",o=r?"marginStart":"marginBottom";return{tablist:{[i]:"2px solid",borderColor:"inherit"},tab:{[i]:"2px solid",borderColor:"transparent",[o]:"-2px",_selected:{[Yu.variable]:`colors.${t}.600`,_dark:{[Yu.variable]:`colors.${t}.300`},borderColor:"currentColor"},_active:{[eh.variable]:"colors.gray.200",_dark:{[eh.variable]:"colors.whiteAlpha.300"}},_disabled:{_active:{bg:"none"}},color:Yu.reference,bg:eh.reference}}}),Otn=kp(e=>{const{colorScheme:t}=e;return{tab:{borderTopRadius:"md",border:"1px solid",borderColor:"transparent",mb:"-1px",[ML.variable]:"transparent",_selected:{[Yu.variable]:`colors.${t}.600`,[ML.variable]:"colors.white",_dark:{[Yu.variable]:`colors.${t}.300`,[ML.variable]:"colors.gray.800"},borderColor:"inherit",borderBottomColor:ML.reference},color:Yu.reference},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}}),jtn=kp(e=>{const{colorScheme:t}=e;return{tab:{border:"1px solid",borderColor:"inherit",[eh.variable]:"colors.gray.50",_dark:{[eh.variable]:"colors.whiteAlpha.50"},mb:"-1px",_notLast:{marginEnd:"-1px"},_selected:{[eh.variable]:"colors.white",[Yu.variable]:`colors.${t}.600`,_dark:{[eh.variable]:"colors.gray.800",[Yu.variable]:`colors.${t}.300`},borderColor:"inherit",borderTopColor:"currentColor",borderBottomColor:"transparent"},color:Yu.reference,bg:eh.reference},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}}),Ntn=kp(e=>{const{colorScheme:t,theme:n}=e;return{tab:{borderRadius:"full",fontWeight:"semibold",color:"gray.600",_selected:{color:ou(n,`${t}.700`),bg:ou(n,`${t}.100`)}}}}),Ftn=kp(e=>{const{colorScheme:t}=e;return{tab:{borderRadius:"full",fontWeight:"semibold",[Yu.variable]:"colors.gray.600",_dark:{[Yu.variable]:"inherit"},_selected:{[Yu.variable]:"colors.white",[eh.variable]:`colors.${t}.600`,_dark:{[Yu.variable]:"colors.gray.800",[eh.variable]:`colors.${t}.300`}},color:Yu.reference,bg:eh.reference}}}),Btn=kp({}),ztn={line:Dtn,enclosed:Otn,"enclosed-colored":jtn,"soft-rounded":Ntn,"solid-rounded":Ftn,unstyled:Btn},Htn=$tn({baseStyle:Itn,sizes:Rtn,variants:ztn,defaultProps:{size:"md",variant:"line",colorScheme:"blue"}}),ms=fJt("badge",["bg","color","shadow"]),Vtn={px:1,textTransform:"uppercase",fontSize:"xs",borderRadius:"sm",fontWeight:"bold",bg:ms.bg.reference,color:ms.color.reference,boxShadow:ms.shadow.reference},Utn=e=>{const{colorScheme:t,theme:n}=e,r=NC(`${t}.500`,.6)(n);return{[ms.bg.variable]:`colors.${t}.500`,[ms.color.variable]:"colors.white",_dark:{[ms.bg.variable]:r,[ms.color.variable]:"colors.whiteAlpha.800"}}},Wtn=e=>{const{colorScheme:t,theme:n}=e,r=NC(`${t}.200`,.16)(n);return{[ms.bg.variable]:`colors.${t}.100`,[ms.color.variable]:`colors.${t}.800`,_dark:{[ms.bg.variable]:r,[ms.color.variable]:`colors.${t}.200`}}},Ktn=e=>{const{colorScheme:t,theme:n}=e,r=NC(`${t}.200`,.8)(n);return{[ms.color.variable]:`colors.${t}.500`,_dark:{[ms.color.variable]:r},[ms.shadow.variable]:`inset 0 0 0px 1px ${ms.color.reference}`}},qtn={solid:Utn,subtle:Wtn,outline:Ktn},RP={baseStyle:Vtn,variants:qtn,defaultProps:{variant:"subtle",colorScheme:"gray"}},{defineMultiStyleConfig:Gtn,definePartsStyle:Iw}=oo(jen.keys),yme=En("tag-bg"),bme=En("tag-color"),Dz=En("tag-shadow"),LI=En("tag-min-height"),AI=En("tag-min-width"),II=En("tag-font-size"),RI=En("tag-padding-inline"),Ztn={fontWeight:"medium",lineHeight:1.2,outline:0,[bme.variable]:ms.color.reference,[yme.variable]:ms.bg.reference,[Dz.variable]:ms.shadow.reference,color:bme.reference,bg:yme.reference,boxShadow:Dz.reference,borderRadius:"md",minH:LI.reference,minW:AI.reference,fontSize:II.reference,px:RI.reference,_focusVisible:{[Dz.variable]:"shadows.outline"}},Ytn={lineHeight:1.2,overflow:"visible"},Xtn={fontSize:"lg",w:"5",h:"5",transitionProperty:"common",transitionDuration:"normal",borderRadius:"full",marginStart:"1.5",marginEnd:"-1",opacity:.5,_disabled:{opacity:.4},_focusVisible:{boxShadow:"outline",bg:"rgba(0, 0, 0, 0.14)"},_hover:{opacity:.8},_active:{opacity:1}},Qtn=Iw({container:Ztn,label:Ytn,closeButton:Xtn}),Jtn={sm:Iw({container:{[LI.variable]:"sizes.5",[AI.variable]:"sizes.5",[II.variable]:"fontSizes.xs",[RI.variable]:"space.2"},closeButton:{marginEnd:"-2px",marginStart:"0.35rem"}}),md:Iw({container:{[LI.variable]:"sizes.6",[AI.variable]:"sizes.6",[II.variable]:"fontSizes.sm",[RI.variable]:"space.2"}}),lg:Iw({container:{[LI.variable]:"sizes.8",[AI.variable]:"sizes.8",[II.variable]:"fontSizes.md",[RI.variable]:"space.3"}})},enn={subtle:Iw(e=>{var t;return{container:(t=RP.variants)==null?void 0:t.subtle(e)}}),solid:Iw(e=>{var t;return{container:(t=RP.variants)==null?void 0:t.solid(e)}}),outline:Iw(e=>{var t;return{container:(t=RP.variants)==null?void 0:t.outline(e)}})},tnn=Gtn({variants:enn,baseStyle:Qtn,sizes:Jtn,defaultProps:{size:"md",variant:"subtle",colorScheme:"gray"}}),{definePartsStyle:vg,defineMultiStyleConfig:nnn}=oo(_en.keys),f2=En("input-height"),h2=En("input-font-size"),p2=En("input-padding"),m2=En("input-border-radius"),rnn=vg({addon:{height:f2.reference,fontSize:h2.reference,px:p2.reference,borderRadius:m2.reference},field:{width:"100%",height:f2.reference,fontSize:h2.reference,px:p2.reference,borderRadius:m2.reference,minWidth:0,outline:0,position:"relative",appearance:"none",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed"}}}),Vv={lg:{[h2.variable]:"fontSizes.lg",[p2.variable]:"space.4",[m2.variable]:"radii.md",[f2.variable]:"sizes.12"},md:{[h2.variable]:"fontSizes.md",[p2.variable]:"space.4",[m2.variable]:"radii.md",[f2.variable]:"sizes.10"},sm:{[h2.variable]:"fontSizes.sm",[p2.variable]:"space.3",[m2.variable]:"radii.sm",[f2.variable]:"sizes.8"},xs:{[h2.variable]:"fontSizes.xs",[p2.variable]:"space.2",[m2.variable]:"radii.sm",[f2.variable]:"sizes.6"}},inn={lg:vg({field:Vv.lg,group:Vv.lg}),md:vg({field:Vv.md,group:Vv.md}),sm:vg({field:Vv.sm,group:Vv.sm}),xs:vg({field:Vv.xs,group:Vv.xs})};function ane(e){const{focusBorderColor:t,errorBorderColor:n}=e;return{focusBorderColor:t||Sn("blue.500","blue.300")(e),errorBorderColor:n||Sn("red.500","red.300")(e)}}var onn=vg(e=>{const{theme:t}=e,{focusBorderColor:n,errorBorderColor:r}=ane(e);return{field:{border:"1px solid",borderColor:"inherit",bg:"inherit",_hover:{borderColor:Sn("gray.300","whiteAlpha.400")(e)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:ou(t,r),boxShadow:`0 0 0 1px ${ou(t,r)}`},_focusVisible:{zIndex:1,borderColor:ou(t,n),boxShadow:`0 0 0 1px ${ou(t,n)}`}},addon:{border:"1px solid",borderColor:Sn("inherit","whiteAlpha.50")(e),bg:Sn("gray.100","whiteAlpha.300")(e)}}}),snn=vg(e=>{const{theme:t}=e,{focusBorderColor:n,errorBorderColor:r}=ane(e);return{field:{border:"2px solid",borderColor:"transparent",bg:Sn("gray.100","whiteAlpha.50")(e),_hover:{bg:Sn("gray.200","whiteAlpha.100")(e)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:ou(t,r)},_focusVisible:{bg:"transparent",borderColor:ou(t,n)}},addon:{border:"2px solid",borderColor:"transparent",bg:Sn("gray.100","whiteAlpha.50")(e)}}}),ann=vg(e=>{const{theme:t}=e,{focusBorderColor:n,errorBorderColor:r}=ane(e);return{field:{borderBottom:"1px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent",_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:ou(t,r),boxShadow:`0px 1px 0px 0px ${ou(t,r)}`},_focusVisible:{borderColor:ou(t,n),boxShadow:`0px 1px 0px 0px ${ou(t,n)}`}},addon:{borderBottom:"2px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent"}}}),lnn=vg({field:{bg:"transparent",px:"0",height:"auto"},addon:{bg:"transparent",px:"0",height:"auto"}}),unn={outline:onn,filled:snn,flushed:ann,unstyled:lnn},gi=nnn({baseStyle:rnn,sizes:inn,variants:unn,defaultProps:{size:"md",variant:"outline"}}),wme,cnn={...(wme=gi.baseStyle)==null?void 0:wme.field,paddingY:"2",minHeight:"20",lineHeight:"short",verticalAlign:"top"},xme,Sme,dnn={outline:e=>{var t,n;return(n=(t=gi.variants)==null?void 0:t.outline(e).field)!=null?n:{}},flushed:e=>{var t,n;return(n=(t=gi.variants)==null?void 0:t.flushed(e).field)!=null?n:{}},filled:e=>{var t,n;return(n=(t=gi.variants)==null?void 0:t.filled(e).field)!=null?n:{}},unstyled:(Sme=(xme=gi.variants)==null?void 0:xme.unstyled.field)!=null?Sme:{}},_me,Cme,Eme,kme,Pme,$me,Tme,Mme,fnn={xs:(Cme=(_me=gi.sizes)==null?void 0:_me.xs.field)!=null?Cme:{},sm:(kme=(Eme=gi.sizes)==null?void 0:Eme.sm.field)!=null?kme:{},md:($me=(Pme=gi.sizes)==null?void 0:Pme.md.field)!=null?$me:{},lg:(Mme=(Tme=gi.sizes)==null?void 0:Tme.lg.field)!=null?Mme:{}},hnn={baseStyle:cnn,sizes:fnn,variants:dnn,defaultProps:{size:"md",variant:"outline"}},LL=ra("tooltip-bg"),Oz=ra("tooltip-fg"),pnn=ra("popper-arrow-bg"),mnn={bg:LL.reference,color:Oz.reference,[LL.variable]:"colors.gray.700",[Oz.variable]:"colors.whiteAlpha.900",_dark:{[LL.variable]:"colors.gray.300",[Oz.variable]:"colors.gray.900"},[pnn.variable]:LL.reference,px:"2",py:"0.5",borderRadius:"sm",fontWeight:"medium",fontSize:"sm",boxShadow:"md",maxW:"xs",zIndex:"tooltip"},gnn={baseStyle:mnn},{defineMultiStyleConfig:vnn,definePartsStyle:Hk}=oo(Ten.keys),ynn=e=>{const{colorScheme:t,theme:n,isIndeterminate:r,hasStripe:i}=e,o=Sn(hme(),hme("1rem","rgba(0,0,0,0.1)"))(e),s=Sn(`${t}.500`,`${t}.200`)(e),a=`linear-gradient(
    to right,
    transparent 0%,
    ${ou(n,s)} 50%,
    transparent 100%
  )`;return{...!r&&i&&o,...r?{bgImage:a}:{bgColor:s}}},bnn={lineHeight:"1",fontSize:"0.25em",fontWeight:"bold",color:"white"},wnn=e=>({bg:Sn("gray.100","whiteAlpha.300")(e)}),xnn=e=>({transitionProperty:"common",transitionDuration:"slow",...ynn(e)}),Snn=Hk(e=>({label:bnn,filledTrack:xnn(e),track:wnn(e)})),_nn={xs:Hk({track:{h:"1"}}),sm:Hk({track:{h:"2"}}),md:Hk({track:{h:"3"}}),lg:Hk({track:{h:"4"}})},Cnn=vnn({sizes:_nn,baseStyle:Snn,defaultProps:{size:"md",colorScheme:"blue"}}),Enn=e=>typeof e=="function";function uu(e,...t){return Enn(e)?e(...t):e}var{definePartsStyle:DI,defineMultiStyleConfig:knn}=oo(yen.keys),DP=En("checkbox-size"),Pnn=e=>{const{colorScheme:t}=e;return{w:DP.reference,h:DP.reference,transitionProperty:"box-shadow",transitionDuration:"normal",border:"2px solid",borderRadius:"sm",borderColor:"inherit",color:"white",_checked:{bg:Sn(`${t}.500`,`${t}.200`)(e),borderColor:Sn(`${t}.500`,`${t}.200`)(e),color:Sn("white","gray.900")(e),_hover:{bg:Sn(`${t}.600`,`${t}.300`)(e),borderColor:Sn(`${t}.600`,`${t}.300`)(e)},_disabled:{borderColor:Sn("gray.200","transparent")(e),bg:Sn("gray.200","whiteAlpha.300")(e),color:Sn("gray.500","whiteAlpha.500")(e)}},_indeterminate:{bg:Sn(`${t}.500`,`${t}.200`)(e),borderColor:Sn(`${t}.500`,`${t}.200`)(e),color:Sn("white","gray.900")(e)},_disabled:{bg:Sn("gray.100","whiteAlpha.100")(e),borderColor:Sn("gray.100","transparent")(e)},_focusVisible:{boxShadow:"outline"},_invalid:{borderColor:Sn("red.500","red.300")(e)}}},$nn={_disabled:{cursor:"not-allowed"}},Tnn={userSelect:"none",_disabled:{opacity:.4}},Mnn={transitionProperty:"transform",transitionDuration:"normal"},Lnn=DI(e=>({icon:Mnn,container:$nn,control:uu(Pnn,e),label:Tnn})),Ann={sm:DI({control:{[DP.variable]:"sizes.3"},label:{fontSize:"sm"},icon:{fontSize:"3xs"}}),md:DI({control:{[DP.variable]:"sizes.4"},label:{fontSize:"md"},icon:{fontSize:"2xs"}}),lg:DI({control:{[DP.variable]:"sizes.5"},label:{fontSize:"lg"},icon:{fontSize:"2xs"}})},u9=knn({baseStyle:Lnn,sizes:Ann,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:Inn,definePartsStyle:OI}=oo(Men.keys),Rnn=e=>{var t;const n=(t=uu(u9.baseStyle,e))==null?void 0:t.control;return{...n,borderRadius:"full",_checked:{...n==null?void 0:n._checked,_before:{content:'""',display:"inline-block",pos:"relative",w:"50%",h:"50%",borderRadius:"50%",bg:"currentColor"}}}},Dnn=OI(e=>{var t,n,r,i;return{label:(n=(t=u9).baseStyle)==null?void 0:n.call(t,e).label,container:(i=(r=u9).baseStyle)==null?void 0:i.call(r,e).container,control:Rnn(e)}}),Onn={md:OI({control:{w:"4",h:"4"},label:{fontSize:"md"}}),lg:OI({control:{w:"5",h:"5"},label:{fontSize:"lg"}}),sm:OI({control:{width:"3",height:"3"},label:{fontSize:"sm"}})},jnn=Inn({baseStyle:Dnn,sizes:Onn,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:Nnn,definePartsStyle:Fnn}=oo(Len.keys),AL=En("select-bg"),Lme,Bnn={...(Lme=gi.baseStyle)==null?void 0:Lme.field,appearance:"none",paddingBottom:"1px",lineHeight:"normal",bg:AL.reference,[AL.variable]:"colors.white",_dark:{[AL.variable]:"colors.gray.700"},"> option, > optgroup":{bg:AL.reference}},znn={width:"6",height:"100%",insetEnd:"2",position:"relative",color:"currentColor",fontSize:"xl",_disabled:{opacity:.5}},Hnn=Fnn({field:Bnn,icon:znn}),IL={paddingInlineEnd:"8"},Ame,Ime,Rme,Dme,Ome,jme,Nme,Fme,Vnn={lg:{...(Ame=gi.sizes)==null?void 0:Ame.lg,field:{...(Ime=gi.sizes)==null?void 0:Ime.lg.field,...IL}},md:{...(Rme=gi.sizes)==null?void 0:Rme.md,field:{...(Dme=gi.sizes)==null?void 0:Dme.md.field,...IL}},sm:{...(Ome=gi.sizes)==null?void 0:Ome.sm,field:{...(jme=gi.sizes)==null?void 0:jme.sm.field,...IL}},xs:{...(Nme=gi.sizes)==null?void 0:Nme.xs,field:{...(Fme=gi.sizes)==null?void 0:Fme.xs.field,...IL},icon:{insetEnd:"1"}}},Unn=Nnn({baseStyle:Hnn,sizes:Vnn,variants:gi.variants,defaultProps:gi.defaultProps}),jz=En("skeleton-start-color"),Nz=En("skeleton-end-color"),Wnn={[jz.variable]:"colors.gray.100",[Nz.variable]:"colors.gray.400",_dark:{[jz.variable]:"colors.gray.800",[Nz.variable]:"colors.gray.600"},background:jz.reference,borderColor:Nz.reference,opacity:.7,borderRadius:"sm"},Knn={baseStyle:Wnn},Fz=En("skip-link-bg"),qnn={borderRadius:"md",fontWeight:"semibold",_focusVisible:{boxShadow:"outline",padding:"4",position:"fixed",top:"6",insetStart:"6",[Fz.variable]:"colors.white",_dark:{[Fz.variable]:"colors.gray.700"},bg:Fz.reference}},Gnn={baseStyle:qnn},{defineMultiStyleConfig:Znn,definePartsStyle:dj}=oo(Aen.keys),t$=En("slider-thumb-size"),n$=En("slider-track-size"),by=En("slider-bg"),Ynn=e=>{const{orientation:t}=e;return{display:"inline-block",position:"relative",cursor:"pointer",_disabled:{opacity:.6,cursor:"default",pointerEvents:"none"},...sne({orientation:t,vertical:{h:"100%"},horizontal:{w:"100%"}})}},Xnn=e=>({...sne({orientation:e.orientation,horizontal:{h:n$.reference},vertical:{w:n$.reference}}),overflow:"hidden",borderRadius:"sm",[by.variable]:"colors.gray.200",_dark:{[by.variable]:"colors.whiteAlpha.200"},_disabled:{[by.variable]:"colors.gray.300",_dark:{[by.variable]:"colors.whiteAlpha.300"}},bg:by.reference}),Qnn=e=>{const{orientation:t}=e;return{...sne({orientation:t,vertical:{left:"50%",transform:"translateX(-50%)",_active:{transform:"translateX(-50%) scale(1.15)"}},horizontal:{top:"50%",transform:"translateY(-50%)",_active:{transform:"translateY(-50%) scale(1.15)"}}}),w:t$.reference,h:t$.reference,display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",outline:0,zIndex:1,borderRadius:"full",bg:"white",boxShadow:"base",border:"1px solid",borderColor:"transparent",transitionProperty:"transform",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_disabled:{bg:"gray.300"}}},Jnn=e=>{const{colorScheme:t}=e;return{width:"inherit",height:"inherit",[by.variable]:`colors.${t}.500`,_dark:{[by.variable]:`colors.${t}.200`},bg:by.reference}},ern=dj(e=>({container:Ynn(e),track:Xnn(e),thumb:Qnn(e),filledTrack:Jnn(e)})),trn=dj({container:{[t$.variable]:"sizes.4",[n$.variable]:"sizes.1"}}),nrn=dj({container:{[t$.variable]:"sizes.3.5",[n$.variable]:"sizes.1"}}),rrn=dj({container:{[t$.variable]:"sizes.2.5",[n$.variable]:"sizes.0.5"}}),irn={lg:trn,md:nrn,sm:rrn},orn=Znn({baseStyle:ern,sizes:irn,defaultProps:{size:"md",colorScheme:"blue"}}),yb=ra("spinner-size"),srn={width:[yb.reference],height:[yb.reference]},arn={xs:{[yb.variable]:"sizes.3"},sm:{[yb.variable]:"sizes.4"},md:{[yb.variable]:"sizes.6"},lg:{[yb.variable]:"sizes.8"},xl:{[yb.variable]:"sizes.12"}},lrn={baseStyle:srn,sizes:arn,defaultProps:{size:"md"}},{defineMultiStyleConfig:urn,definePartsStyle:ABe}=oo(Ien.keys),crn={fontWeight:"medium"},drn={opacity:.8,marginBottom:"2"},frn={verticalAlign:"baseline",fontWeight:"semibold"},hrn={marginEnd:1,w:"3.5",h:"3.5",verticalAlign:"middle"},prn=ABe({container:{},label:crn,helpText:drn,number:frn,icon:hrn}),mrn={md:ABe({label:{fontSize:"sm"},helpText:{fontSize:"sm"},number:{fontSize:"2xl"}})},grn=urn({baseStyle:prn,sizes:mrn,defaultProps:{size:"md"}}),Bz=En("kbd-bg"),vrn={[Bz.variable]:"colors.gray.100",_dark:{[Bz.variable]:"colors.whiteAlpha.100"},bg:Bz.reference,borderRadius:"md",borderWidth:"1px",borderBottomWidth:"3px",fontSize:"0.8em",fontWeight:"bold",lineHeight:"normal",px:"0.4em",whiteSpace:"nowrap"},yrn={baseStyle:vrn},brn={transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",cursor:"pointer",textDecoration:"none",outline:"none",color:"inherit",_hover:{textDecoration:"underline"},_focusVisible:{boxShadow:"outline"}},wrn={baseStyle:brn},{defineMultiStyleConfig:xrn,definePartsStyle:Srn}=oo(Cen.keys),_rn={marginEnd:"2",display:"inline",verticalAlign:"text-bottom"},Crn=Srn({icon:_rn}),Ern=xrn({baseStyle:Crn}),{defineMultiStyleConfig:krn,definePartsStyle:Prn}=oo(Een.keys),Zh=En("menu-bg"),zz=En("menu-shadow"),$rn={[Zh.variable]:"#fff",[zz.variable]:"shadows.sm",_dark:{[Zh.variable]:"colors.gray.700",[zz.variable]:"shadows.dark-lg"},color:"inherit",minW:"3xs",py:"2",zIndex:1,borderRadius:"md",borderWidth:"1px",bg:Zh.reference,boxShadow:zz.reference},Trn={py:"1.5",px:"3",transitionProperty:"background",transitionDuration:"ultra-fast",transitionTimingFunction:"ease-in",_focus:{[Zh.variable]:"colors.gray.100",_dark:{[Zh.variable]:"colors.whiteAlpha.100"}},_active:{[Zh.variable]:"colors.gray.200",_dark:{[Zh.variable]:"colors.whiteAlpha.200"}},_expanded:{[Zh.variable]:"colors.gray.100",_dark:{[Zh.variable]:"colors.whiteAlpha.100"}},_disabled:{opacity:.4,cursor:"not-allowed"},bg:Zh.reference},Mrn={mx:4,my:2,fontWeight:"semibold",fontSize:"sm"},Lrn={display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:0},Arn={opacity:.6},Irn={border:0,borderBottom:"1px solid",borderColor:"inherit",my:"2",opacity:.6},Rrn={transitionProperty:"common",transitionDuration:"normal"},Drn=Prn({button:Rrn,list:$rn,item:Trn,groupTitle:Mrn,icon:Lrn,command:Arn,divider:Irn}),Orn=krn({baseStyle:Drn}),{defineMultiStyleConfig:jrn,definePartsStyle:_Z}=oo(ken.keys),Hz=En("modal-bg"),Vz=En("modal-shadow"),Nrn={bg:"blackAlpha.600",zIndex:"modal"},Frn=e=>{const{isCentered:t,scrollBehavior:n}=e;return{display:"flex",zIndex:"modal",justifyContent:"center",alignItems:t?"center":"flex-start",overflow:n==="inside"?"hidden":"auto",overscrollBehaviorY:"none"}},Brn=e=>{const{isCentered:t,scrollBehavior:n}=e;return{borderRadius:"md",color:"inherit",my:t?"auto":"16",mx:t?"auto":void 0,zIndex:"modal",maxH:n==="inside"?"calc(100% - 7.5rem)":void 0,[Hz.variable]:"colors.white",[Vz.variable]:"shadows.lg",_dark:{[Hz.variable]:"colors.gray.700",[Vz.variable]:"shadows.dark-lg"},bg:Hz.reference,boxShadow:Vz.reference}},zrn={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},Hrn={position:"absolute",top:"2",insetEnd:"3"},Vrn=e=>{const{scrollBehavior:t}=e;return{px:"6",py:"2",flex:"1",overflow:t==="inside"?"auto":void 0}},Urn={px:"6",py:"4"},Wrn=_Z(e=>({overlay:Nrn,dialogContainer:uu(Frn,e),dialog:uu(Brn,e),header:zrn,closeButton:Hrn,body:uu(Vrn,e),footer:Urn}));function Af(e){return _Z(e==="full"?{dialog:{maxW:"100vw",minH:"$100vh",my:"0",borderRadius:"0"}}:{dialog:{maxW:e}})}var Krn={xs:Af("xs"),sm:Af("sm"),md:Af("md"),lg:Af("lg"),xl:Af("xl"),"2xl":Af("2xl"),"3xl":Af("3xl"),"4xl":Af("4xl"),"5xl":Af("5xl"),"6xl":Af("6xl"),full:Af("full")},qrn=jrn({baseStyle:Wrn,sizes:Krn,defaultProps:{size:"md"}}),{defineMultiStyleConfig:Grn,definePartsStyle:IBe}=oo(Pen.keys),lne=ra("number-input-stepper-width"),RBe=ra("number-input-input-padding"),Zrn=cg(lne).add("0.5rem").toString(),Uz=ra("number-input-bg"),Wz=ra("number-input-color"),Kz=ra("number-input-border-color"),Yrn={[lne.variable]:"sizes.6",[RBe.variable]:Zrn},Xrn=e=>{var t,n;return(n=(t=uu(gi.baseStyle,e))==null?void 0:t.field)!=null?n:{}},Qrn={width:lne.reference},Jrn={borderStart:"1px solid",borderStartColor:Kz.reference,color:Wz.reference,bg:Uz.reference,[Wz.variable]:"colors.chakra-body-text",[Kz.variable]:"colors.chakra-border-color",_dark:{[Wz.variable]:"colors.whiteAlpha.800",[Kz.variable]:"colors.whiteAlpha.300"},_active:{[Uz.variable]:"colors.gray.200",_dark:{[Uz.variable]:"colors.whiteAlpha.300"}},_disabled:{opacity:.4,cursor:"not-allowed"}},ein=IBe(e=>{var t;return{root:Yrn,field:(t=uu(Xrn,e))!=null?t:{},stepperGroup:Qrn,stepper:Jrn}});function RL(e){var t,n,r;const i=(t=gi.sizes)==null?void 0:t[e],o={lg:"md",md:"md",sm:"sm",xs:"sm"},s=(r=(n=i.field)==null?void 0:n.fontSize)!=null?r:"md",a=PBe.fontSizes[s];return IBe({field:{...i.field,paddingInlineEnd:RBe.reference,verticalAlign:"top"},stepper:{fontSize:cg(a).multiply(.75).toString(),_first:{borderTopEndRadius:o[e]},_last:{borderBottomEndRadius:o[e],mt:"-1px",borderTopWidth:1}}})}var tin={xs:RL("xs"),sm:RL("sm"),md:RL("md"),lg:RL("lg")},nin=Grn({baseStyle:ein,sizes:tin,variants:gi.variants,defaultProps:gi.defaultProps}),Bme,rin={...(Bme=gi.baseStyle)==null?void 0:Bme.field,textAlign:"center"},iin={lg:{fontSize:"lg",w:12,h:12,borderRadius:"md"},md:{fontSize:"md",w:10,h:10,borderRadius:"md"},sm:{fontSize:"sm",w:8,h:8,borderRadius:"sm"},xs:{fontSize:"xs",w:6,h:6,borderRadius:"sm"}},zme,Hme,oin={outline:e=>{var t,n,r;return(r=(n=uu((t=gi.variants)==null?void 0:t.outline,e))==null?void 0:n.field)!=null?r:{}},flushed:e=>{var t,n,r;return(r=(n=uu((t=gi.variants)==null?void 0:t.flushed,e))==null?void 0:n.field)!=null?r:{}},filled:e=>{var t,n,r;return(r=(n=uu((t=gi.variants)==null?void 0:t.filled,e))==null?void 0:n.field)!=null?r:{}},unstyled:(Hme=(zme=gi.variants)==null?void 0:zme.unstyled.field)!=null?Hme:{}},sin={baseStyle:rin,sizes:iin,variants:oin,defaultProps:gi.defaultProps},{defineMultiStyleConfig:ain,definePartsStyle:lin}=oo($en.keys),DL=ra("popper-bg"),uin=ra("popper-arrow-bg"),Vme=ra("popper-arrow-shadow-color"),cin={zIndex:10},din={[DL.variable]:"colors.white",bg:DL.reference,[uin.variable]:DL.reference,[Vme.variable]:"colors.gray.200",_dark:{[DL.variable]:"colors.gray.700",[Vme.variable]:"colors.whiteAlpha.300"},width:"xs",border:"1px solid",borderColor:"inherit",borderRadius:"md",boxShadow:"sm",zIndex:"inherit",_focusVisible:{outline:0,boxShadow:"outline"}},fin={px:3,py:2,borderBottomWidth:"1px"},hin={px:3,py:2},pin={px:3,py:2,borderTopWidth:"1px"},min={position:"absolute",borderRadius:"md",top:1,insetEnd:2,padding:2},gin=lin({popper:cin,content:din,header:fin,body:hin,footer:pin,closeButton:min}),vin=ain({baseStyle:gin}),{definePartsStyle:CZ,defineMultiStyleConfig:yin}=oo(ben.keys),qz=En("drawer-bg"),Gz=En("drawer-box-shadow");function $S(e){return CZ(e==="full"?{dialog:{maxW:"100vw",h:"100vh"}}:{dialog:{maxW:e}})}var bin={bg:"blackAlpha.600",zIndex:"modal"},win={display:"flex",zIndex:"modal",justifyContent:"center"},xin=e=>{const{isFullHeight:t}=e;return{...t&&{height:"100vh"},zIndex:"modal",maxH:"100vh",color:"inherit",[qz.variable]:"colors.white",[Gz.variable]:"shadows.lg",_dark:{[qz.variable]:"colors.gray.700",[Gz.variable]:"shadows.dark-lg"},bg:qz.reference,boxShadow:Gz.reference}},Sin={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},_in={position:"absolute",top:"2",insetEnd:"3"},Cin={px:"6",py:"2",flex:"1",overflow:"auto"},Ein={px:"6",py:"4"},kin=CZ(e=>({overlay:bin,dialogContainer:win,dialog:uu(xin,e),header:Sin,closeButton:_in,body:Cin,footer:Ein})),Pin={xs:$S("xs"),sm:$S("md"),md:$S("lg"),lg:$S("2xl"),xl:$S("4xl"),full:$S("full")},$in=yin({baseStyle:kin,sizes:Pin,defaultProps:{size:"xs"}}),{definePartsStyle:Tin,defineMultiStyleConfig:Min}=oo(wen.keys),Lin={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal"},Ain={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}},Iin={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}},Rin=Tin({preview:Lin,input:Ain,textarea:Iin}),Din=Min({baseStyle:Rin}),{definePartsStyle:Oin,defineMultiStyleConfig:jin}=oo(xen.keys),Z2=En("form-control-color"),Nin={marginStart:"1",[Z2.variable]:"colors.red.500",_dark:{[Z2.variable]:"colors.red.300"},color:Z2.reference},Fin={mt:"2",[Z2.variable]:"colors.gray.600",_dark:{[Z2.variable]:"colors.whiteAlpha.600"},color:Z2.reference,lineHeight:"normal",fontSize:"sm"},Bin=Oin({container:{width:"100%",position:"relative"},requiredIndicator:Nin,helperText:Fin}),zin=jin({baseStyle:Bin}),{definePartsStyle:Hin,defineMultiStyleConfig:Vin}=oo(Sen.keys),Y2=En("form-error-color"),Uin={[Y2.variable]:"colors.red.500",_dark:{[Y2.variable]:"colors.red.300"},color:Y2.reference,mt:"2",fontSize:"sm",lineHeight:"normal"},Win={marginEnd:"0.5em",[Y2.variable]:"colors.red.500",_dark:{[Y2.variable]:"colors.red.300"},color:Y2.reference},Kin=Hin({text:Uin,icon:Win}),qin=Vin({baseStyle:Kin}),Gin={fontSize:"md",marginEnd:"3",mb:"2",fontWeight:"medium",transitionProperty:"common",transitionDuration:"normal",opacity:1,_disabled:{opacity:.4}},Zin={baseStyle:Gin},Yin={fontFamily:"heading",fontWeight:"bold"},Xin={"4xl":{fontSize:["6xl",null,"7xl"],lineHeight:1},"3xl":{fontSize:["5xl",null,"6xl"],lineHeight:1},"2xl":{fontSize:["4xl",null,"5xl"],lineHeight:[1.2,null,1]},xl:{fontSize:["3xl",null,"4xl"],lineHeight:[1.33,null,1.2]},lg:{fontSize:["2xl",null,"3xl"],lineHeight:[1.33,null,1.2]},md:{fontSize:"xl",lineHeight:1.2},sm:{fontSize:"md",lineHeight:1.2},xs:{fontSize:"sm",lineHeight:1.2}},Qin={baseStyle:Yin,sizes:Xin,defaultProps:{size:"xl"}},{defineMultiStyleConfig:Jin,definePartsStyle:eon}=oo(ven.keys),Zz=En("breadcrumb-link-decor"),ton={transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",outline:"none",color:"inherit",textDecoration:Zz.reference,[Zz.variable]:"none","&:not([aria-current=page])":{cursor:"pointer",_hover:{[Zz.variable]:"underline"},_focusVisible:{boxShadow:"outline"}}},non=eon({link:ton}),ron=Jin({baseStyle:non}),ion={lineHeight:"1.2",borderRadius:"md",fontWeight:"semibold",transitionProperty:"common",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{_disabled:{bg:"initial"}}},DBe=e=>{const{colorScheme:t,theme:n}=e;if(t==="gray")return{color:Sn("gray.800","whiteAlpha.900")(e),_hover:{bg:Sn("gray.100","whiteAlpha.200")(e)},_active:{bg:Sn("gray.200","whiteAlpha.300")(e)}};const r=NC(`${t}.200`,.12)(n),i=NC(`${t}.200`,.24)(n);return{color:Sn(`${t}.600`,`${t}.200`)(e),bg:"transparent",_hover:{bg:Sn(`${t}.50`,r)(e)},_active:{bg:Sn(`${t}.100`,i)(e)}}},oon=e=>{const{colorScheme:t}=e,n=Sn("gray.200","whiteAlpha.300")(e);return{border:"1px solid",borderColor:t==="gray"?n:"currentColor",".chakra-button__group[data-attached][data-orientation=horizontal] > &:not(:last-of-type)":{marginEnd:"-1px"},".chakra-button__group[data-attached][data-orientation=vertical] > &:not(:last-of-type)":{marginBottom:"-1px"},...uu(DBe,e)}},son={yellow:{bg:"yellow.400",color:"black",hoverBg:"yellow.500",activeBg:"yellow.600"},cyan:{bg:"cyan.400",color:"black",hoverBg:"cyan.500",activeBg:"cyan.600"}},aon=e=>{var t;const{colorScheme:n}=e;if(n==="gray"){const l=Sn("gray.100","whiteAlpha.200")(e);return{bg:l,color:Sn("gray.800","whiteAlpha.900")(e),_hover:{bg:Sn("gray.200","whiteAlpha.300")(e),_disabled:{bg:l}},_active:{bg:Sn("gray.300","whiteAlpha.400")(e)}}}const{bg:r=`${n}.500`,color:i="white",hoverBg:o=`${n}.600`,activeBg:s=`${n}.700`}=(t=son[n])!=null?t:{},a=Sn(r,`${n}.200`)(e);return{bg:a,color:Sn(i,"gray.800")(e),_hover:{bg:Sn(o,`${n}.300`)(e),_disabled:{bg:a}},_active:{bg:Sn(s,`${n}.400`)(e)}}},lon=e=>{const{colorScheme:t}=e;return{padding:0,height:"auto",lineHeight:"normal",verticalAlign:"baseline",color:Sn(`${t}.500`,`${t}.200`)(e),_hover:{textDecoration:"underline",_disabled:{textDecoration:"none"}},_active:{color:Sn(`${t}.700`,`${t}.500`)(e)}}},uon={bg:"none",color:"inherit",display:"inline",lineHeight:"inherit",m:"0",p:"0"},con={ghost:DBe,outline:oon,solid:aon,link:lon,unstyled:uon},don={lg:{h:"12",minW:"12",fontSize:"lg",px:"6"},md:{h:"10",minW:"10",fontSize:"md",px:"4"},sm:{h:"8",minW:"8",fontSize:"sm",px:"3"},xs:{h:"6",minW:"6",fontSize:"xs",px:"2"}},fon={baseStyle:ion,variants:con,sizes:don,defaultProps:{variant:"solid",size:"md",colorScheme:"gray"}},{definePartsStyle:Rw,defineMultiStyleConfig:hon}=oo(Nen.keys),c9=En("card-bg"),Mg=En("card-padding"),OBe=En("card-shadow"),jI=En("card-radius"),jBe=En("card-border-width","0"),NBe=En("card-border-color"),pon=Rw({container:{[c9.variable]:"colors.chakra-body-bg",backgroundColor:c9.reference,boxShadow:OBe.reference,borderRadius:jI.reference,color:"chakra-body-text",borderWidth:jBe.reference,borderColor:NBe.reference},body:{padding:Mg.reference,flex:"1 1 0%"},header:{padding:Mg.reference},footer:{padding:Mg.reference}}),mon={sm:Rw({container:{[jI.variable]:"radii.base",[Mg.variable]:"space.3"}}),md:Rw({container:{[jI.variable]:"radii.md",[Mg.variable]:"space.5"}}),lg:Rw({container:{[jI.variable]:"radii.xl",[Mg.variable]:"space.7"}})},gon={elevated:Rw({container:{[OBe.variable]:"shadows.base",_dark:{[c9.variable]:"colors.gray.700"}}}),outline:Rw({container:{[jBe.variable]:"1px",[NBe.variable]:"colors.chakra-border-color"}}),filled:Rw({container:{[c9.variable]:"colors.chakra-subtle-bg"}}),unstyled:{body:{[Mg.variable]:0},header:{[Mg.variable]:0},footer:{[Mg.variable]:0}}},von=hon({baseStyle:pon,variants:gon,sizes:mon,defaultProps:{variant:"elevated",size:"md"}}),OP=ra("close-button-size"),rk=ra("close-button-bg"),yon={w:[OP.reference],h:[OP.reference],borderRadius:"md",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{[rk.variable]:"colors.blackAlpha.100",_dark:{[rk.variable]:"colors.whiteAlpha.100"}},_active:{[rk.variable]:"colors.blackAlpha.200",_dark:{[rk.variable]:"colors.whiteAlpha.200"}},_focusVisible:{boxShadow:"outline"},bg:rk.reference},bon={lg:{[OP.variable]:"sizes.10",fontSize:"md"},md:{[OP.variable]:"sizes.8",fontSize:"xs"},sm:{[OP.variable]:"sizes.6",fontSize:"2xs"}},won={baseStyle:yon,sizes:bon,defaultProps:{size:"md"}},{variants:xon,defaultProps:Son}=RP,_on={fontFamily:"mono",fontSize:"sm",px:"0.2em",borderRadius:"sm",bg:ms.bg.reference,color:ms.color.reference,boxShadow:ms.shadow.reference},Con={baseStyle:_on,variants:xon,defaultProps:Son},Eon={w:"100%",mx:"auto",maxW:"prose",px:"4"},kon={baseStyle:Eon},Pon={opacity:.6,borderColor:"inherit"},$on={borderStyle:"solid"},Ton={borderStyle:"dashed"},Mon={solid:$on,dashed:Ton},Lon={baseStyle:Pon,variants:Mon,defaultProps:{variant:"solid"}},{definePartsStyle:Aon,defineMultiStyleConfig:Ion}=oo(pen.keys),Ron={borderTopWidth:"1px",borderColor:"inherit",_last:{borderBottomWidth:"1px"}},Don={transitionProperty:"common",transitionDuration:"normal",fontSize:"md",_focusVisible:{boxShadow:"outline"},_hover:{bg:"blackAlpha.50"},_disabled:{opacity:.4,cursor:"not-allowed"},px:"4",py:"2"},Oon={pt:"2",px:"4",pb:"5"},jon={fontSize:"1.25em"},Non=Aon({container:Ron,button:Don,panel:Oon,icon:jon}),Fon=Ion({baseStyle:Non}),{definePartsStyle:D5,defineMultiStyleConfig:Bon}=oo(men.keys),Zc=En("alert-fg"),Gg=En("alert-bg"),zon=D5({container:{bg:Gg.reference,px:"4",py:"3"},title:{fontWeight:"bold",lineHeight:"6",marginEnd:"2"},description:{lineHeight:"6"},icon:{color:Zc.reference,flexShrink:0,marginEnd:"3",w:"5",h:"6"},spinner:{color:Zc.reference,flexShrink:0,marginEnd:"3",w:"5",h:"5"}});function une(e){const{theme:t,colorScheme:n}=e,r=NC(`${n}.200`,.16)(t);return{light:`colors.${n}.100`,dark:r}}var Hon=D5(e=>{const{colorScheme:t}=e,n=une(e);return{container:{[Zc.variable]:`colors.${t}.600`,[Gg.variable]:n.light,_dark:{[Zc.variable]:`colors.${t}.200`,[Gg.variable]:n.dark}}}}),Von=D5(e=>{const{colorScheme:t}=e,n=une(e);return{container:{[Zc.variable]:`colors.${t}.600`,[Gg.variable]:n.light,_dark:{[Zc.variable]:`colors.${t}.200`,[Gg.variable]:n.dark},paddingStart:"3",borderStartWidth:"4px",borderStartColor:Zc.reference}}}),Uon=D5(e=>{const{colorScheme:t}=e,n=une(e);return{container:{[Zc.variable]:`colors.${t}.600`,[Gg.variable]:n.light,_dark:{[Zc.variable]:`colors.${t}.200`,[Gg.variable]:n.dark},pt:"2",borderTopWidth:"4px",borderTopColor:Zc.reference}}}),Won=D5(e=>{const{colorScheme:t}=e;return{container:{[Zc.variable]:"colors.white",[Gg.variable]:`colors.${t}.600`,_dark:{[Zc.variable]:"colors.gray.900",[Gg.variable]:`colors.${t}.200`},color:Zc.reference}}}),Kon={subtle:Hon,"left-accent":Von,"top-accent":Uon,solid:Won},qon=Bon({baseStyle:zon,variants:Kon,defaultProps:{variant:"subtle",colorScheme:"blue"}}),{definePartsStyle:FBe,defineMultiStyleConfig:Gon}=oo(gen.keys),X2=En("avatar-border-color"),jP=En("avatar-bg"),r$=En("avatar-font-size"),FC=En("avatar-size"),Zon={borderRadius:"full",border:"0.2em solid",borderColor:X2.reference,[X2.variable]:"white",_dark:{[X2.variable]:"colors.gray.800"}},Yon={bg:jP.reference,fontSize:r$.reference,width:FC.reference,height:FC.reference,lineHeight:"1",[jP.variable]:"colors.gray.200",_dark:{[jP.variable]:"colors.whiteAlpha.400"}},Xon=e=>{const{name:t,theme:n}=e,r=t?itn({string:t}):"colors.gray.400",i=ntn(r)(n);let o="white";return i||(o="gray.800"),{bg:jP.reference,fontSize:r$.reference,color:o,borderColor:X2.reference,verticalAlign:"top",width:FC.reference,height:FC.reference,"&:not([data-loaded])":{[jP.variable]:r},[X2.variable]:"colors.white",_dark:{[X2.variable]:"colors.gray.800"}}},Qon={fontSize:r$.reference,lineHeight:"1"},Jon=FBe(e=>({badge:uu(Zon,e),excessLabel:uu(Yon,e),container:uu(Xon,e),label:Qon}));function Uv(e){const t=e!=="100%"?TBe[e]:void 0;return FBe({container:{[FC.variable]:t??e,[r$.variable]:`calc(${t??e} / 2.5)`},excessLabel:{[FC.variable]:t??e,[r$.variable]:`calc(${t??e} / 2.5)`}})}var esn={"2xs":Uv(4),xs:Uv(6),sm:Uv(8),md:Uv(12),lg:Uv(16),xl:Uv(24),"2xl":Uv(32),full:Uv("100%")},tsn=Gon({baseStyle:Jon,sizes:esn,defaultProps:{size:"md"}}),nsn={Accordion:Fon,Alert:qon,Avatar:tsn,Badge:RP,Breadcrumb:ron,Button:fon,Checkbox:u9,CloseButton:won,Code:Con,Container:kon,Divider:Lon,Drawer:$in,Editable:Din,Form:zin,FormError:qin,FormLabel:Zin,Heading:Qin,Input:gi,Kbd:yrn,Link:wrn,List:Ern,Menu:Orn,Modal:qrn,NumberInput:nin,PinInput:sin,Popover:vin,Progress:Cnn,Radio:jnn,Select:Unn,Skeleton:Knn,SkipLink:Gnn,Slider:orn,Spinner:lrn,Stat:grn,Switch:wtn,Table:Ptn,Tabs:Htn,Tag:tnn,Textarea:hnn,Tooltip:gnn,Card:von,Stepper:hen},rsn={colors:{"chakra-body-text":{_light:"gray.800",_dark:"whiteAlpha.900"},"chakra-body-bg":{_light:"white",_dark:"gray.800"},"chakra-border-color":{_light:"gray.200",_dark:"whiteAlpha.300"},"chakra-inverse-text":{_light:"white",_dark:"gray.800"},"chakra-subtle-bg":{_light:"gray.100",_dark:"gray.700"},"chakra-subtle-text":{_light:"gray.600",_dark:"gray.400"},"chakra-placeholder-color":{_light:"gray.500",_dark:"whiteAlpha.400"}}},isn={global:{body:{fontFamily:"body",color:"chakra-body-text",bg:"chakra-body-bg",transitionProperty:"background-color",transitionDuration:"normal",lineHeight:"base"},"*::placeholder":{color:"chakra-placeholder-color"},"*, *::before, &::after":{borderColor:"chakra-border-color"}}},osn="ltr",ssn={useSystemColorMode:!1,initialColorMode:"light",cssVarPrefix:"chakra"},asn={semanticTokens:rsn,direction:osn,...cen,components:nsn,styles:isn,config:ssn};function lsn(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var usn=lsn();function csn(e,t){const n={};return Object.keys(e).forEach(r=>{t.includes(r)||(n[r]=e[r])}),n}function dsn(e,t,n,r){const i=typeof t=="string"?t.split("."):[t];for(r=0;r<i.length&&e;r+=1)e=e[i[r]];return e===void 0?n:e}var fsn=e=>{const t=new WeakMap;return(r,i,o,s)=>{if(typeof r>"u")return e(r,i,o);t.has(r)||t.set(r,new Map);const a=t.get(r);if(a.has(i))return a.get(i);const l=e(r,i,o,s);return a.set(i,l),l}},BBe=fsn(dsn);function zBe(e,t){const n={};return Object.keys(e).forEach(r=>{const i=e[r];t(i,r,e)&&(n[r]=i)}),n}var HBe=e=>zBe(e,t=>t!=null);function hsn(e){return typeof e=="function"}function VBe(e,...t){return hsn(e)?e(...t):e}function psn(...e){return function(n){e.some(r=>(r==null||r(n),n==null?void 0:n.defaultPrevented))}}var msn=typeof Element<"u",gsn=typeof Map=="function",vsn=typeof Set=="function",ysn=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function NI(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r,i;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!NI(e[r],t[r]))return!1;return!0}var o;if(gsn&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(o=e.entries();!(r=o.next()).done;)if(!t.has(r.value[0]))return!1;for(o=e.entries();!(r=o.next()).done;)if(!NI(r.value[1],t.get(r.value[0])))return!1;return!0}if(vsn&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(o=e.entries();!(r=o.next()).done;)if(!t.has(r.value[0]))return!1;return!0}if(ysn&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;if(msn&&e instanceof Element)return!1;for(r=n;r--!==0;)if(!((i[r]==="_owner"||i[r]==="__v"||i[r]==="__o")&&e.$$typeof)&&!NI(e[i[r]],t[i[r]]))return!1;return!0}return e!==e&&t!==t}var bsn=function(t,n){try{return NI(t,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const wsn=Dl(bsn);function UBe(e,t={}){var n;const{styleConfig:r,...i}=t,{theme:o,colorMode:s}=_Qt(),a=e?BBe(o,`components.${e}`):void 0,l=r||a,u=bp({theme:o,colorMode:s},(n=l==null?void 0:l.defaultProps)!=null?n:{},HBe(csn(i,["children"]))),c=h.useRef({});if(l){const p=BJt(l)(u);wsn(c.current,p)||(c.current=p)}return c.current}function fj(e,t={}){return UBe(e,t)}function O5(e,t={}){return UBe(e,t)}var xsn=new Set([...$Jt,"textStyle","layerStyle","apply","noOfLines","focusBorderColor","errorBorderColor","as","__css","css","sx"]),Ssn=new Set(["htmlWidth","htmlHeight","htmlSize","htmlTranslate"]);function _sn(e){return Ssn.has(e)||!xsn.has(e)}function Csn(e,...t){if(e==null)throw new TypeError("Cannot convert undefined or null to object");const n={...e};for(const r of t)if(r!=null)for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&(i in n&&delete n[i],n[i]=r[i]);return n}function Esn(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var ksn=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Psn=Esn(function(e){return ksn.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),$sn=Psn,Tsn=function(t){return t!=="theme"},Ume=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?$sn:Tsn},Wme=function(t,n,r){var i;if(n){var o=n.shouldForwardProp;i=t.__emotion_forwardProp&&o?function(s){return t.__emotion_forwardProp(s)&&o(s)}:o}return typeof i!="function"&&r&&(i=t.__emotion_forwardProp),i},Msn=!1,Lsn=function(t){var n=t.cache,r=t.serialized,i=t.isStringTag;return lBe(n,r,i),rQt(function(){return uBe(n,r,i)}),null},Asn=function e(t,n){var r=t.__emotion_real===t,i=r&&t.__emotion_base||t,o,s;n!==void 0&&(o=n.label,s=n.target);var a=Wme(t,n,r),l=a||Ume(i),u=!l("as");return function(){var c=arguments,f=r&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(o!==void 0&&f.push("label:"+o+";"),c[0]==null||c[0].raw===void 0)f.push.apply(f,c);else{f.push(c[0][0]);for(var p=c.length,g=1;g<p;g++)f.push(c[g],c[0][g])}var v=hBe(function(y,S,C){var _=u&&y.as||i,k="",w=[],P=y;if(y.theme==null){P={};for(var M in y)P[M]=y[M];P.theme=h.useContext(J4)}typeof y.className=="string"?k=qXt(S.registered,w,y.className):y.className!=null&&(k=y.className+" ");var R=Qte(f.concat(w),S.registered,P);k+=S.key+"-"+R.name,s!==void 0&&(k+=" "+s);var D=u&&a===void 0?Ume(_):l,H={};for(var O in y)u&&O==="as"||D(O)&&(H[O]=y[O]);return H.className=k,C&&(H.ref=C),h.createElement(h.Fragment,null,h.createElement(Lsn,{cache:S,serialized:R,isStringTag:typeof _=="string"}),h.createElement(_,H))});return v.displayName=o!==void 0?o:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",v.defaultProps=t.defaultProps,v.__emotion_real=v,v.__emotion_base=i,v.__emotion_styles=f,v.__emotion_forwardProp=a,Object.defineProperty(v,"toString",{value:function(){return s===void 0&&Msn?"NO_COMPONENT_SELECTOR":"."+s}}),v.withComponent=function(y,S){return e(y,Dp({},n,S,{shouldForwardProp:Wme(v,S,!0)})).apply(void 0,f)},v}},Isn=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],d9=Asn.bind();Isn.forEach(function(e){d9[e]=d9(e)});var Kme,Rsn=(Kme=d9.default)!=null?Kme:d9,Dsn=({baseStyle:e})=>t=>{const{theme:n,css:r,__css:i,sx:o,...s}=t,a=zBe(s,(f,p)=>MJt(p)),l=VBe(e,t),u=Csn({},i,l,HBe(a),o),c=kBe(u)(t.theme);return r?[c,r]:c};function Yz(e,t){const{baseStyle:n,...r}=t??{};r.shouldForwardProp||(r.shouldForwardProp=_sn);const i=Dsn({baseStyle:n}),o=Rsn(e,r)(i);return ne.forwardRef(function(l,u){const{colorMode:c,forced:f}=tne();return ne.createElement(o,{ref:u,"data-theme":f?c:void 0,...l})})}function Osn(){const e=new Map;return new Proxy(Yz,{apply(t,n,r){return Yz(...r)},get(t,n){return e.has(n)||e.set(n,Yz(n)),e.get(n)}})}var wi=Osn();function qo(e){return h.forwardRef(e)}function jsn(e={}){const{strict:t=!0,errorMessage:n="useContext: `context` is undefined. Seems you forgot to wrap component within the Provider",name:r}=e,i=h.createContext(void 0);i.displayName=r;function o(){var s;const a=h.useContext(i);if(!a&&t){const l=new Error(n);throw l.name="ContextError",(s=Error.captureStackTrace)==null||s.call(Error,l,o),l}return a}return[i.Provider,o,i]}function Nsn(e){const{cssVarsRoot:t,theme:n,children:r}=e,i=h.useMemo(()=>PJt(n),[n]);return d.jsxs(sQt,{theme:i,children:[d.jsx(Fsn,{root:t}),r]})}function Fsn({root:e=":host, :root"}){const t=[e,"[data-theme]"].join(",");return d.jsx(aj,{styles:n=>({[t]:n.__cssVars})})}jsn({name:"StylesContext",errorMessage:"useStyles: `styles` is undefined. Seems you forgot to wrap the components in `<StylesProvider />` "});function Bsn(){const{colorMode:e}=tne();return d.jsx(aj,{styles:t=>{const n=BBe(t,"styles.global"),r=VBe(n,{theme:t,colorMode:e});return r?kBe(r)(t):void 0}})}var WBe=h.createContext({getDocument(){return document},getWindow(){return window}});WBe.displayName="EnvironmentContext";function KBe(e){const{children:t,environment:n,disabled:r}=e,i=h.useRef(null),o=h.useMemo(()=>n||{getDocument:()=>{var a,l;return(l=(a=i.current)==null?void 0:a.ownerDocument)!=null?l:document},getWindow:()=>{var a,l;return(l=(a=i.current)==null?void 0:a.ownerDocument.defaultView)!=null?l:window}},[n]),s=!r||!n;return d.jsxs(WBe.Provider,{value:o,children:[t,s&&d.jsx("span",{id:"__chakra_env",hidden:!0,ref:i})]})}KBe.displayName="EnvironmentProvider";var zsn=e=>{const{children:t,colorModeManager:n,portalZIndex:r,resetScope:i,resetCSS:o=!0,theme:s={},environment:a,cssVarsRoot:l,disableEnvironment:u,disableGlobalStyle:c}=e,f=d.jsx(KBe,{environment:a,disabled:u,children:t});return d.jsx(Nsn,{theme:s,cssVarsRoot:l,children:d.jsxs(bBe,{colorModeManager:n,options:s.config,children:[o?d.jsx(cQt,{scope:i}):d.jsx(uQt,{}),!c&&d.jsx(Bsn,{}),r?d.jsx(gBe,{zIndex:r,children:f}):f]})})},Hsn=(e,t)=>e.find(n=>n.id===t);function qme(e,t){const n=qBe(e,t),r=n?e[n].findIndex(i=>i.id===t):-1;return{position:n,index:r}}function qBe(e,t){for(const[n,r]of Object.entries(e))if(Hsn(r,t))return n}function Vsn(e){const t=e.includes("right"),n=e.includes("left");let r="center";return t&&(r="flex-end"),n&&(r="flex-start"),{display:"flex",flexDirection:"column",alignItems:r}}function Usn(e){const n=e==="top"||e==="bottom"?"0 auto":void 0,r=e.includes("top")?"env(safe-area-inset-top, 0px)":void 0,i=e.includes("bottom")?"env(safe-area-inset-bottom, 0px)":void 0,o=e.includes("left")?void 0:"env(safe-area-inset-right, 0px)",s=e.includes("right")?void 0:"env(safe-area-inset-left, 0px)";return{position:"fixed",zIndex:"var(--toast-z-index, 5500)",pointerEvents:"none",display:"flex",flexDirection:"column",margin:n,top:r,bottom:i,right:o,left:s}}function i$(e,t=[]){const n=h.useRef(e);return h.useEffect(()=>{n.current=e}),h.useCallback((...r)=>{var i;return(i=n.current)==null?void 0:i.call(n,...r)},t)}function Wsn(e,t){const n=i$(e);h.useEffect(()=>{if(t==null)return;let r=null;return r=window.setTimeout(()=>{n()},t),()=>{r&&window.clearTimeout(r)}},[t,n])}function o$(e,t){const n=h.useRef(!1),r=h.useRef(!1);h.useEffect(()=>{if(n.current&&r.current)return e();r.current=!0},t),h.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[])}function Ksn(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,i)=>i==="create"?e:(t.has(i)||t.set(i,e(i)),t.get(i))})}function s$(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const EZ=e=>Array.isArray(e);function GBe(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function a$(e){return typeof e=="string"||Array.isArray(e)}function Gme(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function cne(e,t,n,r){if(typeof t=="function"){const[i,o]=Gme(r);t=t(n!==void 0?n:e.custom,i,o)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,o]=Gme(r);t=t(n!==void 0?n:e.custom,i,o)}return t}function hj(e,t,n){const r=e.getProps();return cne(r,t,n!==void 0?n:r.custom,e)}const dne=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],fne=["initial",...dne],j5=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],y1=new Set(j5),Lg=e=>e*1e3,Ag=e=>e/1e3,qsn={type:"spring",stiffness:500,damping:25,restSpeed:10},Gsn=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Zsn={type:"keyframes",duration:.8},Ysn={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Xsn=(e,{keyframes:t})=>t.length>2?Zsn:y1.has(e)?e.startsWith("scale")?Gsn(t[1]):qsn:Ysn;function hne(e,t){return e[t]||e.default||e}const Qsn={skipAnimations:!1,useManualTiming:!1},Jsn=e=>e!==null;function pj(e,{repeat:t,repeatType:n="loop"},r){const i=e.filter(Jsn),o=t&&n!=="loop"&&t%2===1?0:i.length-1;return!o||r===void 0?i[o]:r}const Ll=e=>e;function ean(e){let t=new Set,n=new Set,r=!1,i=!1;const o=new WeakSet;let s={delta:0,timestamp:0,isProcessing:!1};function a(u){o.has(u)&&(l.schedule(u),e()),u(s)}const l={schedule:(u,c=!1,f=!1)=>{const g=f&&r?t:n;return c&&o.add(u),g.has(u)||g.add(u),u},cancel:u=>{n.delete(u),o.delete(u)},process:u=>{if(s=u,r){i=!0;return}r=!0,[t,n]=[n,t],n.clear(),t.forEach(a),r=!1,i&&(i=!1,l.process(u))}};return l}const OL=["read","resolveKeyframes","update","preRender","render","postRender"],tan=40;function ZBe(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,s=OL.reduce((C,_)=>(C[_]=ean(o),C),{}),{read:a,resolveKeyframes:l,update:u,preRender:c,render:f,postRender:p}=s,g=()=>{const C=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(C-i.timestamp,tan),1),i.timestamp=C,i.isProcessing=!0,a.process(i),l.process(i),u.process(i),c.process(i),f.process(i),p.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(g))},v=()=>{n=!0,r=!0,i.isProcessing||e(g)};return{schedule:OL.reduce((C,_)=>{const k=s[_];return C[_]=(w,P=!1,M=!1)=>(n||v(),k.schedule(w,P,M)),C},{}),cancel:C=>{for(let _=0;_<OL.length;_++)s[OL[_]].cancel(C)},state:i,steps:s}}const{schedule:Ni,cancel:B0,state:Ka,steps:Xz}=ZBe(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ll,!0),YBe=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,nan=1e-7,ran=12;function ian(e,t,n,r,i){let o,s,a=0;do s=t+(n-t)/2,o=YBe(s,r,i)-e,o>0?n=s:t=s;while(Math.abs(o)>nan&&++a<ran);return s}function N5(e,t,n,r){if(e===t&&n===r)return Ll;const i=o=>ian(o,0,1,e,n);return o=>o===0||o===1?o:YBe(i(o),t,r)}const XBe=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,QBe=e=>t=>1-e(1-t),JBe=N5(.33,1.53,.69,.99),pne=QBe(JBe),eze=XBe(pne),tze=e=>(e*=2)<1?.5*pne(e):.5*(2-Math.pow(2,-10*(e-1))),mne=e=>1-Math.sin(Math.acos(e)),nze=QBe(mne),rze=XBe(mne),ize=e=>/^0[^.\s]+$/u.test(e);function oan(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||ize(e):!0}let kZ=Ll;const oze=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),sze=e=>t=>typeof t=="string"&&t.startsWith(e),aze=sze("--"),san=sze("var(--"),gne=e=>san(e)?aan.test(e.split("/*")[0].trim()):!1,aan=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,lan=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function uan(e){const t=lan.exec(e);if(!t)return[,];const[,n,r,i]=t;return[`--${n??r}`,i]}function lze(e,t,n=1){const[r,i]=uan(e);if(!r)return;const o=window.getComputedStyle(t).getPropertyValue(r);if(o){const s=o.trim();return oze(s)?parseFloat(s):s}return gne(i)?lze(i,t,n+1):i}const z0=(e,t,n)=>n>t?t:n<e?e:n,H3={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},l$={...H3,transform:e=>z0(0,1,e)},jL={...H3,default:1},F5=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),ey=F5("deg"),Pp=F5("%"),In=F5("px"),can=F5("vh"),dan=F5("vw"),Zme={...Pp,parse:e=>Pp.parse(e)/100,transform:e=>Pp.transform(e*100)},fan=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Yme=e=>e===H3||e===In,Xme=(e,t)=>parseFloat(e.split(", ")[t]),Qme=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return Xme(i[1],t);{const o=r.match(/^matrix\((.+)\)$/u);return o?Xme(o[1],e):0}},han=new Set(["x","y","z"]),pan=j5.filter(e=>!han.has(e));function man(e){const t=[];return pan.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const BC={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:Qme(4,13),y:Qme(5,14)};BC.translateX=BC.x;BC.translateY=BC.y;const uze=e=>t=>t.test(e),gan={test:e=>e==="auto",parse:e=>e},cze=[H3,In,Pp,ey,dan,can,gan],Jme=e=>cze.find(uze(e)),Dw=new Set;let PZ=!1,$Z=!1;function dze(){if($Z){const e=Array.from(Dw).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const i=man(r);i.length&&(n.set(r,i),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([o,s])=>{var a;(a=r.getValue(o))===null||a===void 0||a.set(s)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}$Z=!1,PZ=!1,Dw.forEach(e=>e.complete()),Dw.clear()}function fze(){Dw.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&($Z=!0)})}function van(){fze(),dze()}class vne{constructor(t,n,r,i,o,s=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=i,this.element=o,this.isAsync=s}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Dw.add(this),PZ||(PZ=!0,Ni.read(fze),Ni.resolveKeyframes(dze))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:i}=this;for(let o=0;o<t.length;o++)if(t[o]===null)if(o===0){const s=i==null?void 0:i.get(),a=t[t.length-1];if(s!==void 0)t[0]=s;else if(r&&n){const l=r.readValue(n,a);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=a),i&&s===void 0&&i.set(t[0])}else t[o]=t[o-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Dw.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Dw.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const NP=e=>Math.round(e*1e5)/1e5,yne=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function yan(e){return e==null}const ban=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,bne=(e,t)=>n=>!!(typeof n=="string"&&ban.test(n)&&n.startsWith(e)||t&&!yan(n)&&Object.prototype.hasOwnProperty.call(n,t)),hze=(e,t,n)=>r=>{if(typeof r!="string")return r;const[i,o,s,a]=r.match(yne);return{[e]:parseFloat(i),[t]:parseFloat(o),[n]:parseFloat(s),alpha:a!==void 0?parseFloat(a):1}},wan=e=>z0(0,255,e),Qz={...H3,transform:e=>Math.round(wan(e))},Rb={test:bne("rgb","red"),parse:hze("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Qz.transform(e)+", "+Qz.transform(t)+", "+Qz.transform(n)+", "+NP(l$.transform(r))+")"};function xan(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const TZ={test:bne("#"),parse:xan,transform:Rb.transform},g2={test:bne("hsl","hue"),parse:hze("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Pp.transform(NP(t))+", "+Pp.transform(NP(n))+", "+NP(l$.transform(r))+")"},_l={test:e=>Rb.test(e)||TZ.test(e)||g2.test(e),parse:e=>Rb.test(e)?Rb.parse(e):g2.test(e)?g2.parse(e):TZ.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Rb.transform(e):g2.transform(e)},San=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function _an(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(yne))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(San))===null||n===void 0?void 0:n.length)||0)>0}const pze="number",mze="color",Can="var",Ean="var(",ege="${}",kan=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function u$(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let o=0;const a=t.replace(kan,l=>(_l.test(l)?(r.color.push(o),i.push(mze),n.push(_l.parse(l))):l.startsWith(Ean)?(r.var.push(o),i.push(Can),n.push(l)):(r.number.push(o),i.push(pze),n.push(parseFloat(l))),++o,ege)).split(ege);return{values:n,split:a,indexes:r,types:i}}function gze(e){return u$(e).values}function vze(e){const{split:t,types:n}=u$(e),r=t.length;return i=>{let o="";for(let s=0;s<r;s++)if(o+=t[s],i[s]!==void 0){const a=n[s];a===pze?o+=NP(i[s]):a===mze?o+=_l.transform(i[s]):o+=i[s]}return o}}const Pan=e=>typeof e=="number"?0:e;function $an(e){const t=gze(e);return vze(e)(t.map(Pan))}const H0={test:_an,parse:gze,createTransformer:vze,getAnimatableNone:$an},Tan=new Set(["brightness","contrast","saturate","opacity"]);function Man(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(yne)||[];if(!r)return e;const i=n.replace(r,"");let o=Tan.has(t)?1:0;return r!==n&&(o*=100),t+"("+o+i+")"}const Lan=/\b([a-z-]*)\(.*?\)/gu,MZ={...H0,getAnimatableNone:e=>{const t=e.match(Lan);return t?t.map(Man).join(" "):e}},Aan={borderWidth:In,borderTopWidth:In,borderRightWidth:In,borderBottomWidth:In,borderLeftWidth:In,borderRadius:In,radius:In,borderTopLeftRadius:In,borderTopRightRadius:In,borderBottomRightRadius:In,borderBottomLeftRadius:In,width:In,maxWidth:In,height:In,maxHeight:In,top:In,right:In,bottom:In,left:In,padding:In,paddingTop:In,paddingRight:In,paddingBottom:In,paddingLeft:In,margin:In,marginTop:In,marginRight:In,marginBottom:In,marginLeft:In,backgroundPositionX:In,backgroundPositionY:In},Ian={rotate:ey,rotateX:ey,rotateY:ey,rotateZ:ey,scale:jL,scaleX:jL,scaleY:jL,scaleZ:jL,skew:ey,skewX:ey,skewY:ey,distance:In,translateX:In,translateY:In,translateZ:In,x:In,y:In,z:In,perspective:In,transformPerspective:In,opacity:l$,originX:Zme,originY:Zme,originZ:In},tge={...H3,transform:Math.round},wne={...Aan,...Ian,zIndex:tge,size:In,fillOpacity:l$,strokeOpacity:l$,numOctaves:tge},Ran={...wne,color:_l,backgroundColor:_l,outlineColor:_l,fill:_l,stroke:_l,borderColor:_l,borderTopColor:_l,borderRightColor:_l,borderBottomColor:_l,borderLeftColor:_l,filter:MZ,WebkitFilter:MZ},xne=e=>Ran[e];function yze(e,t){let n=xne(e);return n!==MZ&&(n=H0),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const Dan=new Set(["auto","none","0"]);function Oan(e,t,n){let r=0,i;for(;r<e.length&&!i;){const o=e[r];typeof o=="string"&&!Dan.has(o)&&u$(o).values.length&&(i=e[r]),r++}if(i&&n)for(const o of t)e[o]=yze(n,i)}class bze extends vne{constructor(t,n,r,i,o){super(t,n,r,i,o,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let u=t[l];if(typeof u=="string"&&(u=u.trim(),gne(u))){const c=lze(u,n.current);c!==void 0&&(t[l]=c),l===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!fan.has(r)||t.length!==2)return;const[i,o]=t,s=Jme(i),a=Jme(o);if(s!==a)if(Yme(s)&&Yme(a))for(let l=0;l<t.length;l++){const u=t[l];typeof u=="string"&&(t[l]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let i=0;i<t.length;i++)oan(t[i])&&r.push(i);r.length&&Oan(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=BC[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&t.getValue(r,i).jump(i,!1)}measureEndState(){var t;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const o=n.getValue(r);o&&o.jump(this.measuredOrigin,!1);const s=i.length-1,a=i[s];i[s]=BC[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([l,u])=>{n.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function Sne(e){return typeof e=="function"}let FI;function jan(){FI=void 0}const $p={now:()=>(FI===void 0&&$p.set(Ka.isProcessing||Qsn.useManualTiming?Ka.timestamp:performance.now()),FI),set:e=>{FI=e,queueMicrotask(jan)}},nge=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(H0.test(e)||e==="0")&&!e.startsWith("url("));function Nan(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function Fan(e,t,n,r){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const o=e[e.length-1],s=nge(i,t),a=nge(o,t);return!s||!a?!1:Nan(e)||(n==="spring"||Sne(n))&&r}const Ban=40;class wze{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:s="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=$p.now(),this.options={autoplay:t,delay:n,type:r,repeat:i,repeatDelay:o,repeatType:s,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>Ban?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&van(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=$p.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:o,delay:s,onComplete:a,onUpdate:l,isGenerator:u}=this.options;if(!u&&!Fan(t,r,i,o))if(s)this.options.duration=0;else{l==null||l(pj(t,this.options,n)),a==null||a(),this.resolveFinishedPromise();return}const c=this.initPlayback(t,n);c!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...c},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}function xze(e,t){return t?e*(1e3/t):0}const zan=5;function Sze(e,t,n){const r=Math.max(t-zan,0);return xze(n-e(r),t-r)}const Jz=.001,Han=.01,Van=10,Uan=.05,Wan=1;function Kan({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let i,o,s=1-t;s=z0(Uan,Wan,s),e=z0(Han,Van,Ag(e)),s<1?(i=u=>{const c=u*s,f=c*e,p=c-n,g=LZ(u,s),v=Math.exp(-f);return Jz-p/g*v},o=u=>{const f=u*s*e,p=f*n+n,g=Math.pow(s,2)*Math.pow(u,2)*e,v=Math.exp(-f),y=LZ(Math.pow(u,2),s);return(-i(u)+Jz>0?-1:1)*((p-g)*v)/y}):(i=u=>{const c=Math.exp(-u*e),f=(u-n)*e+1;return-Jz+c*f},o=u=>{const c=Math.exp(-u*e),f=(n-u)*(e*e);return c*f});const a=5/e,l=Gan(i,o,a);if(e=Lg(e),isNaN(l))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:s*2*Math.sqrt(r*u),duration:e}}}const qan=12;function Gan(e,t,n){let r=n;for(let i=1;i<qan;i++)r=r-e(r)/t(r);return r}function LZ(e,t){return e*Math.sqrt(1-t*t)}const Zan=["duration","bounce"],Yan=["stiffness","damping","mass"];function rge(e,t){return t.some(n=>e[n]!==void 0)}function Xan(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!rge(e,Yan)&&rge(e,Zan)){const n=Kan(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}function _ze({keyframes:e,restDelta:t,restSpeed:n,...r}){const i=e[0],o=e[e.length-1],s={done:!1,value:i},{stiffness:a,damping:l,mass:u,duration:c,velocity:f,isResolvedFromDuration:p}=Xan({...r,velocity:-Ag(r.velocity||0)}),g=f||0,v=l/(2*Math.sqrt(a*u)),y=o-i,S=Ag(Math.sqrt(a/u)),C=Math.abs(y)<5;n||(n=C?.01:2),t||(t=C?.005:.5);let _;if(v<1){const k=LZ(S,v);_=w=>{const P=Math.exp(-v*S*w);return o-P*((g+v*S*y)/k*Math.sin(k*w)+y*Math.cos(k*w))}}else if(v===1)_=k=>o-Math.exp(-S*k)*(y+(g+S*y)*k);else{const k=S*Math.sqrt(v*v-1);_=w=>{const P=Math.exp(-v*S*w),M=Math.min(k*w,300);return o-P*((g+v*S*y)*Math.sinh(M)+k*y*Math.cosh(M))/k}}return{calculatedDuration:p&&c||null,next:k=>{const w=_(k);if(p)s.done=k>=c;else{let P=0;v<1&&(P=k===0?Lg(g):Sze(_,k,w));const M=Math.abs(P)<=n,R=Math.abs(o-w)<=t;s.done=M&&R}return s.value=s.done?o:w,s}}}function ige({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:s,min:a,max:l,restDelta:u=.5,restSpeed:c}){const f=e[0],p={done:!1,value:f},g=D=>a!==void 0&&D<a||l!==void 0&&D>l,v=D=>a===void 0?l:l===void 0||Math.abs(a-D)<Math.abs(l-D)?a:l;let y=n*t;const S=f+y,C=s===void 0?S:s(S);C!==S&&(y=C-f);const _=D=>-y*Math.exp(-D/r),k=D=>C+_(D),w=D=>{const H=_(D),O=k(D);p.done=Math.abs(H)<=u,p.value=p.done?C:O};let P,M;const R=D=>{g(p.value)&&(P=D,M=_ze({keyframes:[p.value,v(p.value)],velocity:Sze(k,D,p.value),damping:i,stiffness:o,restDelta:u,restSpeed:c}))};return R(0),{calculatedDuration:null,next:D=>{let H=!1;return!M&&P===void 0&&(H=!0,w(D),R(D)),P!==void 0&&D>=P?M.next(D-P):(!H&&w(D),p)}}}const Qan=N5(.42,0,1,1),Jan=N5(0,0,.58,1),Cze=N5(.42,0,.58,1),eln=e=>Array.isArray(e)&&typeof e[0]!="number",oge={linear:Ll,easeIn:Qan,easeInOut:Cze,easeOut:Jan,circIn:mne,circInOut:rze,circOut:nze,backIn:pne,backInOut:eze,backOut:JBe,anticipate:tze},sge=e=>{if(Array.isArray(e)){kZ(e.length===4);const[t,n,r,i]=e;return N5(t,n,r,i)}else if(typeof e=="string")return kZ(oge[e]!==void 0),oge[e];return e},tln=(e,t)=>n=>t(e(n)),Ig=(...e)=>e.reduce(tln),zC=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},Ho=(e,t,n)=>e+(t-e)*n;function eH(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function nln({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,o=0,s=0;if(!t)i=o=s=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;i=eH(l,a,e+1/3),o=eH(l,a,e),s=eH(l,a,e-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(s*255),alpha:r}}function f9(e,t){return n=>n>0?t:e}const tH=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},rln=[TZ,Rb,g2],iln=e=>rln.find(t=>t.test(e));function age(e){const t=iln(e);if(!t)return!1;let n=t.parse(e);return t===g2&&(n=nln(n)),n}const lge=(e,t)=>{const n=age(e),r=age(t);if(!n||!r)return f9(e,t);const i={...n};return o=>(i.red=tH(n.red,r.red,o),i.green=tH(n.green,r.green,o),i.blue=tH(n.blue,r.blue,o),i.alpha=Ho(n.alpha,r.alpha,o),Rb.transform(i))},AZ=new Set(["none","hidden"]);function oln(e,t){return AZ.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function sln(e,t){return n=>Ho(e,t,n)}function _ne(e){return typeof e=="number"?sln:typeof e=="string"?gne(e)?f9:_l.test(e)?lge:uln:Array.isArray(e)?Eze:typeof e=="object"?_l.test(e)?lge:aln:f9}function Eze(e,t){const n=[...e],r=n.length,i=e.map((o,s)=>_ne(o)(o,t[s]));return o=>{for(let s=0;s<r;s++)n[s]=i[s](o);return n}}function aln(e,t){const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=_ne(e[i])(e[i],t[i]));return i=>{for(const o in r)n[o]=r[o](i);return n}}function lln(e,t){var n;const r=[],i={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const s=t.types[o],a=e.indexes[s][i[s]],l=(n=e.values[a])!==null&&n!==void 0?n:0;r[o]=l,i[s]++}return r}const uln=(e,t)=>{const n=H0.createTransformer(t),r=u$(e),i=u$(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?AZ.has(e)&&!i.values.length||AZ.has(t)&&!r.values.length?oln(e,t):Ig(Eze(lln(r,i),i.values),n):f9(e,t)};function kze(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Ho(e,t,n):_ne(e)(e,t)}function cln(e,t,n){const r=[],i=n||kze,o=e.length-1;for(let s=0;s<o;s++){let a=i(e[s],e[s+1]);if(t){const l=Array.isArray(t)?t[s]||Ll:t;a=Ig(l,a)}r.push(a)}return r}function dln(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const o=e.length;if(kZ(o===t.length),o===1)return()=>t[0];if(o===2&&e[0]===e[1])return()=>t[1];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const s=cln(t,r,i),a=s.length,l=u=>{let c=0;if(a>1)for(;c<e.length-2&&!(u<e[c+1]);c++);const f=zC(e[c],e[c+1],u);return s[c](f)};return n?u=>l(z0(e[0],e[o-1],u)):l}function fln(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=zC(0,t,r);e.push(Ho(n,1,i))}}function hln(e){const t=[0];return fln(t,e.length-1),t}function pln(e,t){return e.map(n=>n*t)}function mln(e,t){return e.map(()=>t||Cze).splice(0,e.length-1)}function h9({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=eln(r)?r.map(sge):sge(r),o={done:!1,value:t[0]},s=pln(n&&n.length===t.length?n:hln(t),e),a=dln(s,t,{ease:Array.isArray(i)?i:mln(t,i)});return{calculatedDuration:e,next:l=>(o.value=a(l),o.done=l>=e,o)}}const uge=2e4;function gln(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<uge;)t+=n,r=e.next(t);return t>=uge?1/0:t}const vln=e=>{const t=({timestamp:n})=>e(n);return{start:()=>Ni.update(t,!0),stop:()=>B0(t),now:()=>Ka.isProcessing?Ka.timestamp:$p.now()}},yln={decay:ige,inertia:ige,tween:h9,keyframes:h9,spring:_ze},bln=e=>e/100;class Cne extends wze{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:i,keyframes:o}=this.options,s=(i==null?void 0:i.KeyframeResolver)||vne,a=(l,u)=>this.onKeyframesResolved(l,u);this.resolver=new s(o,a,n,r,i),this.resolver.scheduleResolve()}initPlayback(t){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:o,velocity:s=0}=this.options,a=Sne(n)?n:yln[n]||h9;let l,u;a!==h9&&typeof t[0]!="number"&&(l=Ig(bln,kze(t[0],t[1])),t=[0,100]);const c=a({...this.options,keyframes:t});o==="mirror"&&(u=a({...this.options,keyframes:[...t].reverse(),velocity:-s})),c.calculatedDuration===null&&(c.calculatedDuration=gln(c));const{calculatedDuration:f}=c,p=f+i,g=p*(r+1)-i;return{generator:c,mirroredGenerator:u,mapPercentToKeyframes:l,calculatedDuration:f,resolvedDuration:p,totalDuration:g}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:r}=this;if(!r){const{keyframes:D}=this.options;return{done:!0,value:D[D.length-1]}}const{finalKeyframe:i,generator:o,mirroredGenerator:s,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:u,totalDuration:c,resolvedDuration:f}=r;if(this.startTime===null)return o.next(0);const{delay:p,repeat:g,repeatType:v,repeatDelay:y,onUpdate:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-c/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const C=this.currentTime-p*(this.speed>=0?1:-1),_=this.speed>=0?C<0:C>c;this.currentTime=Math.max(C,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=c);let k=this.currentTime,w=o;if(g){const D=Math.min(this.currentTime,c)/f;let H=Math.floor(D),O=D%1;!O&&D>=1&&(O=1),O===1&&H--,H=Math.min(H,g+1),!!(H%2)&&(v==="reverse"?(O=1-O,y&&(O-=y/f)):v==="mirror"&&(w=s)),k=z0(0,1,O)*f}const P=_?{done:!1,value:l[0]}:w.next(k);a&&(P.value=a(P.value));let{done:M}=P;!_&&u!==null&&(M=this.speed>=0?this.currentTime>=c:this.currentTime<=0);const R=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&M);return R&&i!==void 0&&(P.value=pj(l,this.options,i)),S&&S(P.value),R&&this.finish(),P}get duration(){const{resolved:t}=this;return t?Ag(t.calculatedDuration):0}get time(){return Ag(this.currentTime)}set time(t){t=Lg(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Ag(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=vln,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const Pze=new Set(["opacity","clipPath","filter","transform"]),$ze=e=>Array.isArray(e)&&typeof e[0]=="number",wln=10,xln=(e,t)=>{let n="";const r=Math.max(Math.round(t/wln),2);for(let i=0;i<r;i++)n+=e(zC(0,r-1,i))+", ";return`linear(${n.substring(0,n.length-2)})`};function Ene(e){let t;return()=>(t===void 0&&(t=e()),t)}const Sln={linearEasing:void 0};function _ln(e,t){const n=Ene(e);return()=>{var r;return(r=Sln[t])!==null&&r!==void 0?r:n()}}const p9=_ln(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing");function Tze(e){return!!(typeof e=="function"&&p9()||!e||typeof e=="string"&&(e in IZ||p9())||$ze(e)||Array.isArray(e)&&e.every(Tze))}const Vk=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,IZ={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Vk([0,.65,.55,1]),circOut:Vk([.55,0,1,.45]),backIn:Vk([.31,.01,.66,-.59]),backOut:Vk([.33,1.53,.69,.99])};function Mze(e,t){if(e)return typeof e=="function"&&p9()?xln(e,t):$ze(e)?Vk(e):Array.isArray(e)?e.map(n=>Mze(n,t)||IZ.easeOut):IZ[e]}function Cln(e,t,n,{delay:r=0,duration:i=300,repeat:o=0,repeatType:s="loop",ease:a,times:l}={}){const u={[t]:n};l&&(u.offset=l);const c=Mze(a,i);return Array.isArray(c)&&(u.easing=c),e.animate(u,{delay:r,duration:i,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:o+1,direction:s==="reverse"?"alternate":"normal"})}function cge(e,t){e.timeline=t,e.onfinish=null}const Eln=Ene(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),m9=10,kln=2e4;function Pln(e){return Sne(e.type)||e.type==="spring"||!Tze(e.ease)}function $ln(e,t){const n=new Cne({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const i=[];let o=0;for(;!r.done&&o<kln;)r=n.sample(o),i.push(r.value),o+=m9;return{times:void 0,keyframes:i,duration:o-m9,ease:"linear"}}const Lze={anticipate:tze,backInOut:eze,circInOut:rze};function Tln(e){return e in Lze}class dge extends wze{constructor(t){super(t);const{name:n,motionValue:r,element:i,keyframes:o}=this.options;this.resolver=new bze(o,(s,a)=>this.onKeyframesResolved(s,a),n,r,i),this.resolver.scheduleResolve()}initPlayback(t,n){var r;let{duration:i=300,times:o,ease:s,type:a,motionValue:l,name:u,startTime:c}=this.options;if(!(!((r=l.owner)===null||r===void 0)&&r.current))return!1;if(typeof s=="string"&&p9()&&Tln(s)&&(s=Lze[s]),Pln(this.options)){const{onComplete:p,onUpdate:g,motionValue:v,element:y,...S}=this.options,C=$ln(t,S);t=C.keyframes,t.length===1&&(t[1]=t[0]),i=C.duration,o=C.times,s=C.ease,a="keyframes"}const f=Cln(l.owner.current,u,t,{...this.options,duration:i,times:o,ease:s});return f.startTime=c??this.calcStartTime(),this.pendingTimeline?(cge(f,this.pendingTimeline),this.pendingTimeline=void 0):f.onfinish=()=>{const{onComplete:p}=this.options;l.set(pj(t,this.options,n)),p&&p(),this.cancel(),this.resolveFinishedPromise()},{animation:f,duration:i,times:o,type:a,ease:s,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return Ag(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return Ag(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Lg(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return Ll;const{animation:r}=n;cge(r,t)}return Ll}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:r,duration:i,type:o,ease:s,times:a}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:c,onComplete:f,element:p,...g}=this.options,v=new Cne({...g,keyframes:r,duration:i,type:o,ease:s,times:a,isGenerator:!0}),y=Lg(this.time);u.setWithVelocity(v.sample(y-m9).value,v.sample(y).value,m9)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:r,repeatDelay:i,repeatType:o,damping:s,type:a}=t;return Eln()&&r&&Pze.has(r)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!i&&o!=="mirror"&&s!==0&&a!=="inertia"}}const Mln=Ene(()=>window.ScrollTimeline!==void 0);class Lln{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}then(t,n){return Promise.all(this.animations).then(t).catch(n)}getAll(t){return this.animations[0][t]}setAll(t,n){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=n}attachTimeline(t,n){const r=this.animations.map(i=>Mln()&&i.attachTimeline?i.attachTimeline(t):n(i));return()=>{r.forEach((i,o)=>{i&&i(),this.animations[o].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function Aln({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:o,repeatType:s,repeatDelay:a,from:l,elapsed:u,...c}){return!!Object.keys(c).length}const kne=(e,t,n,r={},i,o)=>s=>{const a=hne(r,e)||{},l=a.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Lg(l);let c={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-u,onUpdate:p=>{t.set(p),a.onUpdate&&a.onUpdate(p)},onComplete:()=>{s(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:o?void 0:i};Aln(a)||(c={...c,...Xsn(e,c)}),c.duration&&(c.duration=Lg(c.duration)),c.repeatDelay&&(c.repeatDelay=Lg(c.repeatDelay)),c.from!==void 0&&(c.keyframes[0]=c.from);let f=!1;if((c.type===!1||c.duration===0&&!c.repeatDelay)&&(c.duration=0,c.delay===0&&(f=!0)),f&&!o&&t.get()!==void 0){const p=pj(c.keyframes,a);if(p!==void 0)return Ni.update(()=>{c.onUpdate(p),c.onComplete()}),new Lln([])}return!o&&dge.supports(c)?new dge(c):new Cne(c)},Iln=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),Rln=e=>EZ(e)?e[e.length-1]||0:e;function B5(e,t){e.indexOf(t)===-1&&e.push(t)}function Pne(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class $ne{constructor(){this.subscriptions=[]}add(t){return B5(this.subscriptions,t),()=>Pne(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let o=0;o<i;o++){const s=this.subscriptions[o];s&&s(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const fge=30,Dln=e=>!isNaN(parseFloat(e));class Aze{constructor(t,n={}){this.version="11.9.0",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const o=$p.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=$p.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Dln(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new $ne);const r=this.events[t].add(n);return t==="change"?()=>{r(),Ni.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=$p.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>fge)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,fge);return xze(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function c$(e,t){return new Aze(e,t)}function Oln(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,c$(n))}function jln(e,t){const n=hj(e,t);let{transitionEnd:r={},transition:i={},...o}=n||{};o={...o,...r};for(const s in o){const a=Rln(o[s]);Oln(e,s,a)}}const mj=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Nln="framerAppearId",Ize="data-"+mj(Nln);function Rze(e){return e.props[Ize]}function Dze(e){if(y1.has(e))return"transform";if(Pze.has(e))return mj(e)}class Fln extends Aze{constructor(){super(...arguments),this.values=[]}add(t){const n=Dze(t);n&&(B5(this.values,n),this.update())}update(){this.set(this.values.length?this.values.join(", "):"auto")}}const Ml=e=>!!(e&&e.getVelocity);function Bln(e){return!!(Ml(e)&&e.add)}function RZ(e,t){var n;if(!e.applyWillChange)return;let r=e.getValue("willChange");if(!r&&!(!((n=e.props.style)===null||n===void 0)&&n.willChange)&&(r=new Fln("auto"),e.addValue("willChange",r)),Bln(r))return r.add(t)}function zln({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function Oze(e,t,{delay:n=0,transitionOverride:r,type:i}={}){var o;let{transition:s=e.getDefaultTransition(),transitionEnd:a,...l}=t;r&&(s=r);const u=[],c=i&&e.animationState&&e.animationState.getState()[i];for(const f in l){const p=e.getValue(f,(o=e.latestValues[f])!==null&&o!==void 0?o:null),g=l[f];if(g===void 0||c&&zln(c,f))continue;const v={delay:n,...hne(s||{},f)};let y=!1;if(window.MotionHandoffAnimation){const C=Rze(e);if(C){const _=window.MotionHandoffAnimation(C,f,Ni);_!==null&&(v.startTime=_,y=!0)}}RZ(e,f),p.start(kne(f,p,g,e.shouldReduceMotion&&y1.has(f)?{type:!1}:v,e,y));const S=p.animation;S&&u.push(S)}return a&&Promise.all(u).then(()=>{Ni.update(()=>{a&&jln(e,a)})}),u}function DZ(e,t,n={}){var r;const i=hj(e,t,n.type==="exit"?(r=e.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:o=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(o=n.transitionOverride);const s=i?()=>Promise.all(Oze(e,i,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:c=0,staggerChildren:f,staggerDirection:p}=o;return Hln(e,t,c+u,f,p,n)}:()=>Promise.resolve(),{when:l}=o;if(l){const[u,c]=l==="beforeChildren"?[s,a]:[a,s];return u().then(()=>c())}else return Promise.all([s(),a(n.delay)])}function Hln(e,t,n=0,r=0,i=1,o){const s=[],a=(e.variantChildren.size-1)*r,l=i===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(e.variantChildren).sort(Vln).forEach((u,c)=>{u.notify("AnimationStart",t),s.push(DZ(u,t,{...o,delay:n+l(c)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(s)}function Vln(e,t){return e.sortNodePosition(t)}function Uln(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(o=>DZ(e,o,n));r=Promise.all(i)}else if(typeof t=="string")r=DZ(e,t,n);else{const i=typeof t=="function"?hj(e,t,n.custom):t;r=Promise.all(Oze(e,i,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}const Wln=fne.length;function jze(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?jze(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<Wln;n++){const r=fne[n],i=e.props[r];(a$(i)||i===!1)&&(t[r]=i)}return t}const Kln=[...dne].reverse(),qln=dne.length;function Gln(e){return t=>Promise.all(t.map(({animation:n,options:r})=>Uln(e,n,r)))}function Zln(e){let t=Gln(e),n=hge(),r=!0;const i=l=>(u,c)=>{var f;const p=hj(e,c,l==="exit"?(f=e.presenceContext)===null||f===void 0?void 0:f.custom:void 0);if(p){const{transition:g,transitionEnd:v,...y}=p;u={...u,...y,...v}}return u};function o(l){t=l(e)}function s(l){const{props:u}=e,c=jze(e.parent)||{},f=[],p=new Set;let g={},v=1/0;for(let S=0;S<qln;S++){const C=Kln[S],_=n[C],k=u[C]!==void 0?u[C]:c[C],w=a$(k),P=C===l?_.isActive:null;P===!1&&(v=S);let M=k===c[C]&&k!==u[C]&&w;if(M&&r&&e.manuallyAnimateOnMount&&(M=!1),_.protectedKeys={...g},!_.isActive&&P===null||!k&&!_.prevProp||s$(k)||typeof k=="boolean")continue;const R=Yln(_.prevProp,k);let D=R||C===l&&_.isActive&&!M&&w||S>v&&w,H=!1;const O=Array.isArray(k)?k:[k];let z=O.reduce(i(C),{});P===!1&&(z={});const{prevResolvedValues:G={}}=_,ee={...G,...z},X=q=>{D=!0,p.has(q)&&(H=!0,p.delete(q)),_.needsAnimating[q]=!0;const U=e.getValue(q);U&&(U.liveStyle=!1)};for(const q in ee){const U=z[q],K=G[q];if(g.hasOwnProperty(q))continue;let J=!1;EZ(U)&&EZ(K)?J=!GBe(U,K):J=U!==K,J?U!=null?X(q):p.add(q):U!==void 0&&p.has(q)?X(q):_.protectedKeys[q]=!0}_.prevProp=k,_.prevResolvedValues=z,_.isActive&&(g={...g,...z}),r&&e.blockInitialAnimation&&(D=!1),D&&(!(M&&R)||H)&&f.push(...O.map(q=>({animation:q,options:{type:C}})))}if(p.size){const S={};p.forEach(C=>{const _=e.getBaseTarget(C),k=e.getValue(C);k&&(k.liveStyle=!0),S[C]=_??null}),f.push({animation:S})}let y=!!f.length;return r&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(y=!1),r=!1,y?t(f):Promise.resolve()}function a(l,u){var c;if(n[l].isActive===u)return Promise.resolve();(c=e.variantChildren)===null||c===void 0||c.forEach(p=>{var g;return(g=p.animationState)===null||g===void 0?void 0:g.setActive(l,u)}),n[l].isActive=u;const f=s(l);for(const p in n)n[p].protectedKeys={};return f}return{animateChanges:s,setActive:a,setAnimateFunction:o,getState:()=>n,reset:()=>{n=hge(),r=!0}}}function Yln(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!GBe(t,e):!1}function z1(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function hge(){return{animate:z1(!0),whileInView:z1(),whileHover:z1(),whileTap:z1(),whileDrag:z1(),whileFocus:z1(),exit:z1()}}class b1{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Xln extends b1{constructor(t){super(t),t.animationState||(t.animationState=Zln(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();s$(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let Qln=0;class Jln extends b1{constructor(){super(...arguments),this.id=Qln++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const i=this.node.animationState.setActive("exit",!t);n&&!t&&i.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const eun={animation:{Feature:Xln},exit:{Feature:Jln}},Nze=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function gj(e,t="page"){return{point:{x:e[`${t}X`],y:e[`${t}Y`]}}}const tun=e=>t=>Nze(t)&&e(t,gj(t));function yg(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function Rg(e,t,n,r){return yg(e,t,tun(n),r)}const pge=(e,t)=>Math.abs(e-t);function nun(e,t){const n=pge(e.x,t.x),r=pge(e.y,t.y);return Math.sqrt(n**2+r**2)}class Fze{constructor(t,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=rH(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,g=nun(f.offset,{x:0,y:0})>=3;if(!p&&!g)return;const{point:v}=f,{timestamp:y}=Ka;this.history.push({...v,timestamp:y});const{onStart:S,onMove:C}=this.handlers;p||(S&&S(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),C&&C(this.lastMoveEvent,f)},this.handlePointerMove=(f,p)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=nH(p,this.transformPagePoint),Ni.update(this.updatePoint,!0)},this.handlePointerUp=(f,p)=>{this.end();const{onEnd:g,onSessionEnd:v,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=rH(f.type==="pointercancel"?this.lastMoveEventInfo:nH(p,this.transformPagePoint),this.history);this.startEvent&&g&&g(f,S),v&&v(f,S)},!Nze(t))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const s=gj(t),a=nH(s,this.transformPagePoint),{point:l}=a,{timestamp:u}=Ka;this.history=[{...l,timestamp:u}];const{onSessionStart:c}=n;c&&c(t,rH(a,this.history)),this.removeListeners=Ig(Rg(this.contextWindow,"pointermove",this.handlePointerMove),Rg(this.contextWindow,"pointerup",this.handlePointerUp),Rg(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),B0(this.updatePoint)}}function nH(e,t){return t?{point:t(e.point)}:e}function mge(e,t){return{x:e.x-t.x,y:e.y-t.y}}function rH({point:e},t){return{point:e,delta:mge(e,Bze(t)),offset:mge(e,run(t)),velocity:iun(t,.1)}}function run(e){return e[0]}function Bze(e){return e[e.length-1]}function iun(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=Bze(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>Lg(t)));)n--;if(!r)return{x:0,y:0};const o=Ag(i.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const s={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function zze(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const gge=zze("dragHorizontal"),vge=zze("dragVertical");function Hze(e){let t=!1;if(e==="y")t=vge();else if(e==="x")t=gge();else{const n=gge(),r=vge();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function Vze(){const e=Hze(!0);return e?(e(),!1):!0}function v2(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}const Uze=1e-4,oun=1-Uze,sun=1+Uze,Wze=.01,aun=0-Wze,lun=0+Wze;function rd(e){return e.max-e.min}function uun(e,t,n){return Math.abs(e-t)<=n}function yge(e,t,n,r=.5){e.origin=r,e.originPoint=Ho(t.min,t.max,e.origin),e.scale=rd(n)/rd(t),e.translate=Ho(n.min,n.max,e.origin)-e.originPoint,(e.scale>=oun&&e.scale<=sun||isNaN(e.scale))&&(e.scale=1),(e.translate>=aun&&e.translate<=lun||isNaN(e.translate))&&(e.translate=0)}function FP(e,t,n,r){yge(e.x,t.x,n.x,r?r.originX:void 0),yge(e.y,t.y,n.y,r?r.originY:void 0)}function bge(e,t,n){e.min=n.min+t.min,e.max=e.min+rd(t)}function cun(e,t,n){bge(e.x,t.x,n.x),bge(e.y,t.y,n.y)}function wge(e,t,n){e.min=t.min-n.min,e.max=e.min+rd(t)}function BP(e,t,n){wge(e.x,t.x,n.x),wge(e.y,t.y,n.y)}function dun(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Ho(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Ho(n,e,r.max):Math.min(e,n)),e}function xge(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function fun(e,{top:t,left:n,bottom:r,right:i}){return{x:xge(e.x,n,i),y:xge(e.y,t,r)}}function Sge(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function hun(e,t){return{x:Sge(e.x,t.x),y:Sge(e.y,t.y)}}function pun(e,t){let n=.5;const r=rd(e),i=rd(t);return i>r?n=zC(t.min,t.max-r,e.min):r>i&&(n=zC(e.min,e.max-i,t.min)),z0(0,1,n)}function mun(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const OZ=.35;function gun(e=OZ){return e===!1?e=0:e===!0&&(e=OZ),{x:_ge(e,"left","right"),y:_ge(e,"top","bottom")}}function _ge(e,t,n){return{min:Cge(e,t),max:Cge(e,n)}}function Cge(e,t){return typeof e=="number"?e:e[t]||0}const Ege=()=>({translate:0,scale:1,origin:0,originPoint:0}),y2=()=>({x:Ege(),y:Ege()}),kge=()=>({min:0,max:0}),ds=()=>({x:kge(),y:kge()});function Dd(e){return[e("x"),e("y")]}function Kze({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function vun({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function yun(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function iH(e){return e===void 0||e===1}function jZ({scale:e,scaleX:t,scaleY:n}){return!iH(e)||!iH(t)||!iH(n)}function ib(e){return jZ(e)||qze(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function qze(e){return Pge(e.x)||Pge(e.y)}function Pge(e){return e&&e!=="0%"}function g9(e,t,n){const r=e-n,i=t*r;return n+i}function $ge(e,t,n,r,i){return i!==void 0&&(e=g9(e,i,r)),g9(e,n,r)+t}function NZ(e,t=0,n=1,r,i){e.min=$ge(e.min,t,n,r,i),e.max=$ge(e.max,t,n,r,i)}function Gze(e,{x:t,y:n}){NZ(e.x,t.translate,t.scale,t.originPoint),NZ(e.y,n.translate,n.scale,n.originPoint)}const Tge=.999999999999,Mge=1.0000000000001;function bun(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let o,s;for(let a=0;a<i;a++){o=n[a],s=o.projectionDelta;const{visualElement:l}=o.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&w2(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,Gze(e,s)),r&&ib(o.latestValues)&&w2(e,o.latestValues))}t.x<Mge&&t.x>Tge&&(t.x=1),t.y<Mge&&t.y>Tge&&(t.y=1)}function b2(e,t){e.min=e.min+t,e.max=e.max+t}function Lge(e,t,n,r,i=.5){const o=Ho(e.min,e.max,i);NZ(e,t,n,o,r)}function w2(e,t){Lge(e.x,t.x,t.scaleX,t.scale,t.originX),Lge(e.y,t.y,t.scaleY,t.scale,t.originY)}function Zze(e,t){return Kze(yun(e.getBoundingClientRect(),t))}function wun(e,t,n){const r=Zze(e,n),{scroll:i}=t;return i&&(b2(r.x,i.offset.x),b2(r.y,i.offset.y)),r}const Yze=({current:e})=>e?e.ownerDocument.defaultView:null,xun=new WeakMap;class Sun{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ds(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=c=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(gj(c,"page").point)},o=(c,f)=>{const{drag:p,dragPropagation:g,onDragStart:v}=this.getProps();if(p&&!g&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Hze(p),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Dd(S=>{let C=this.getAxisMotionValue(S).get()||0;if(Pp.test(C)){const{projection:_}=this.visualElement;if(_&&_.layout){const k=_.layout.layoutBox[S];k&&(C=rd(k)*(parseFloat(C)/100))}}this.originPoint[S]=C}),v&&Ni.postRender(()=>v(c,f)),RZ(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},s=(c,f)=>{const{dragPropagation:p,dragDirectionLock:g,onDirectionLock:v,onDrag:y}=this.getProps();if(!p&&!this.openGlobalLock)return;const{offset:S}=f;if(g&&this.currentDirection===null){this.currentDirection=_un(S),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",f.point,S),this.updateAxis("y",f.point,S),this.visualElement.render(),y&&y(c,f)},a=(c,f)=>this.stop(c,f),l=()=>Dd(c=>{var f;return this.getAnimationState(c)==="paused"&&((f=this.getAxisMotionValue(c).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new Fze(t,{onSessionStart:i,onStart:o,onMove:s,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:Yze(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&Ni.postRender(()=>o(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!NL(t,i,this.currentDirection))return;const o=this.getAxisMotionValue(t);let s=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(s=dun(s,this.constraints[t],this.elastic[t])),o.set(s)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,o=this.constraints;n&&v2(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=fun(i.layoutBox,n):this.constraints=!1,this.elastic=gun(r),o!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Dd(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=mun(i.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!v2(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=wun(r,i.root,this.visualElement.getTransformPagePoint());let s=hun(i.layout.layoutBox,o);if(n){const a=n(vun(s));this.hasMutatedConstraints=!!a,a&&(s=Kze(a))}return s}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:o,dragSnapToOrigin:s,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=Dd(c=>{if(!NL(c,n,this.currentDirection))return;let f=l&&l[c]||{};s&&(f={min:0,max:0});const p=i?200:1e6,g=i?40:1e7,v={type:"inertia",velocity:r?t[c]:0,bounceStiffness:p,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...o,...f};return this.startAxisValueAnimation(c,v)});return Promise.all(u).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return RZ(this.visualElement,t),r.start(kne(t,r,0,n,this.visualElement,!1))}stopAnimation(){Dd(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Dd(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Dd(n=>{const{drag:r}=this.getProps();if(!NL(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(n);if(i&&i.layout){const{min:s,max:a}=i.layout.layoutBox[n];o.set(t[n]-Ho(s,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!v2(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Dd(s=>{const a=this.getAxisMotionValue(s);if(a&&this.constraints!==!1){const l=a.get();i[s]=pun({min:l,max:l},this.constraints[s])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Dd(s=>{if(!NL(s,t,null))return;const a=this.getAxisMotionValue(s),{min:l,max:u}=this.constraints[s];a.set(Ho(l,u,i[s]))})}addListeners(){if(!this.visualElement.current)return;xun.set(this.visualElement,this);const t=this.visualElement.current,n=Rg(t,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();v2(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Ni.read(r);const s=yg(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(Dd(c=>{const f=this.getAxisMotionValue(c);f&&(this.originPoint[c]+=l[c].translate,f.set(f.get()+l[c].translate))}),this.visualElement.render())});return()=>{s(),n(),o(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:s=OZ,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:o,dragElastic:s,dragMomentum:a}}}function NL(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function _un(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class Cun extends b1{constructor(t){super(t),this.removeGroupControls=Ll,this.removeListeners=Ll,this.controls=new Sun(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ll}unmount(){this.removeGroupControls(),this.removeListeners()}}const Age=e=>(t,n)=>{e&&Ni.postRender(()=>e(t,n))};class Eun extends b1{constructor(){super(...arguments),this.removePointerDownListener=Ll}onPointerDown(t){this.session=new Fze(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Yze(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:Age(t),onStart:Age(n),onMove:r,onEnd:(o,s)=>{delete this.session,i&&Ni.postRender(()=>i(o,s))}}}mount(){this.removePointerDownListener=Rg(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const z5=h.createContext(null);function Xze(){const e=h.useContext(z5);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,i=h.useId();h.useEffect(()=>r(i),[]);const o=h.useCallback(()=>n&&n(i),[i,n]);return!t&&n?[!1,o]:[!0]}function kun(){return Pun(h.useContext(z5))}function Pun(e){return e===null?!0:e.isPresent}const Tne=h.createContext({}),Qze=h.createContext({}),BI={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Ige(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const ik={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(In.test(e))e=parseFloat(e);else return e;const n=Ige(e,t.target.x),r=Ige(e,t.target.y);return`${n}% ${r}%`}},$un={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=H0.parse(e);if(i.length>5)return r;const o=H0.createTransformer(e),s=typeof i[0]!="number"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;i[0+s]/=a,i[1+s]/=l;const u=Ho(a,l,.5);return typeof i[2+s]=="number"&&(i[2+s]/=u),typeof i[3+s]=="number"&&(i[3+s]/=u),o(i)}},v9={};function Tun(e){Object.assign(v9,e)}const{schedule:Mne,cancel:Qgn}=ZBe(queueMicrotask,!1);class Mun extends h.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:o}=t;Tun(Lun),o&&(n.group&&n.group.add(o),r&&r.register&&i&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),BI.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:o}=this.props,s=r.projection;return s&&(s.isPresent=o,i||t.layoutDependency!==n||n===void 0?s.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?s.promote():s.relegate()||Ni.postRender(()=>{const a=s.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Mne.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Jze(e){const[t,n]=Xze(),r=h.useContext(Tne);return d.jsx(Mun,{...e,layoutGroup:r,switchLayoutGroup:h.useContext(Qze),isPresent:t,safeToRemove:n})}const Lun={borderRadius:{...ik,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ik,borderTopRightRadius:ik,borderBottomLeftRadius:ik,borderBottomRightRadius:ik,boxShadow:$un},eHe=["TopLeft","TopRight","BottomLeft","BottomRight"],Aun=eHe.length,Rge=e=>typeof e=="string"?parseFloat(e):e,Dge=e=>typeof e=="number"||In.test(e);function Iun(e,t,n,r,i,o){i?(e.opacity=Ho(0,n.opacity!==void 0?n.opacity:1,Run(r)),e.opacityExit=Ho(t.opacity!==void 0?t.opacity:1,0,Dun(r))):o&&(e.opacity=Ho(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let s=0;s<Aun;s++){const a=`border${eHe[s]}Radius`;let l=Oge(t,a),u=Oge(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||Dge(l)===Dge(u)?(e[a]=Math.max(Ho(Rge(l),Rge(u),r),0),(Pp.test(u)||Pp.test(l))&&(e[a]+="%")):e[a]=u}(t.rotate||n.rotate)&&(e.rotate=Ho(t.rotate||0,n.rotate||0,r))}function Oge(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Run=tHe(0,.5,nze),Dun=tHe(.5,.95,Ll);function tHe(e,t,n){return r=>r<e?0:r>t?1:n(zC(e,t,r))}function jge(e,t){e.min=t.min,e.max=t.max}function Md(e,t){jge(e.x,t.x),jge(e.y,t.y)}function Nge(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Fge(e,t,n,r,i){return e-=t,e=g9(e,1/n,r),i!==void 0&&(e=g9(e,1/i,r)),e}function Oun(e,t=0,n=1,r=.5,i,o=e,s=e){if(Pp.test(t)&&(t=parseFloat(t),t=Ho(s.min,s.max,t/100)-s.min),typeof t!="number")return;let a=Ho(o.min,o.max,r);e===o&&(a-=t),e.min=Fge(e.min,t,n,a,i),e.max=Fge(e.max,t,n,a,i)}function Bge(e,t,[n,r,i],o,s){Oun(e,t[n],t[r],t[i],t.scale,o,s)}const jun=["x","scaleX","originX"],Nun=["y","scaleY","originY"];function zge(e,t,n,r){Bge(e.x,t,jun,n?n.x:void 0,r?r.x:void 0),Bge(e.y,t,Nun,n?n.y:void 0,r?r.y:void 0)}function Hge(e){return e.translate===0&&e.scale===1}function nHe(e){return Hge(e.x)&&Hge(e.y)}function Vge(e,t){return e.min===t.min&&e.max===t.max}function Fun(e,t){return Vge(e.x,t.x)&&Vge(e.y,t.y)}function Uge(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function rHe(e,t){return Uge(e.x,t.x)&&Uge(e.y,t.y)}function Wge(e){return rd(e.x)/rd(e.y)}function Kge(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Bun{constructor(){this.members=[]}add(t){B5(this.members,t),t.scheduleRender()}remove(t){if(Pne(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function zun(e,t,n){let r="";const i=e.x.translate/t.x,o=e.y.translate/t.y,s=(n==null?void 0:n.z)||0;if((i||o||s)&&(r=`translate3d(${i}px, ${o}px, ${s}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:c,rotateX:f,rotateY:p,skewX:g,skewY:v}=n;u&&(r=`perspective(${u}px) ${r}`),c&&(r+=`rotate(${c}deg) `),f&&(r+=`rotateX(${f}deg) `),p&&(r+=`rotateY(${p}deg) `),g&&(r+=`skewX(${g}deg) `),v&&(r+=`skewY(${v}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const Hun=(e,t)=>e.depth-t.depth;class Vun{constructor(){this.children=[],this.isDirty=!1}add(t){B5(this.children,t),this.isDirty=!0}remove(t){Pne(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Hun),this.isDirty=!1,this.children.forEach(t)}}function zI(e){const t=Ml(e)?e.get():e;return Iln(t)?t.toValue():t}function Uun(e,t){const n=$p.now(),r=({timestamp:i})=>{const o=i-n;o>=t&&(B0(r),e(o-t))};return Ni.read(r,!0),()=>B0(r)}function Wun(e){return e instanceof SVGElement&&e.tagName!=="svg"}function Kun(e,t,n){const r=Ml(e)?e:c$(e);return r.start(kne("",r,t,n)),r.animation}const ob={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Uk=typeof window<"u"&&window.MotionDebug!==void 0,oH=["","X","Y","Z"],qun={visibility:"hidden"},qge=1e3;let Gun=0;function sH(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function iHe(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=Rze(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:o}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Ni,!(i||o))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&iHe(r)}function oHe({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(s={},a=t==null?void 0:t()){this.id=Gun++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Uk&&(ob.totalNodes=ob.resolvedTargetDeltas=ob.recalculatedProjection=0),this.nodes.forEach(Xun),this.nodes.forEach(ncn),this.nodes.forEach(rcn),this.nodes.forEach(Qun),Uk&&window.MotionDebug.record(ob)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new Vun)}addEventListener(s,a){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new $ne),this.eventHandlers.get(s).add(a)}notifyListeners(s,...a){const l=this.eventHandlers.get(s);l&&l.notify(...a)}hasListeners(s){return this.eventHandlers.has(s)}mount(s,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Wun(s),this.instance=s;const{layoutId:l,layout:u,visualElement:c}=this.options;if(c&&!c.current&&c.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||l)&&(this.isLayoutDirty=!0),e){let f;const p=()=>this.root.updateBlockedByResize=!1;e(s,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=Uun(p,250),BI.hasAnimatedSinceResize&&(BI.hasAnimatedSinceResize=!1,this.nodes.forEach(Zge))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&c&&(l||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p,hasRelativeTargetChanged:g,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||c.getDefaultTransition()||lcn,{onLayoutAnimationStart:S,onLayoutAnimationComplete:C}=c.getProps(),_=!this.targetLayout||!rHe(this.targetLayout,v)||g,k=!p&&g;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||k||p&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,k);const w={...hne(y,"layout"),onPlay:S,onComplete:C};(c.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w)}else p||Zge(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,B0(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(icn),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&iHe(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const f=this.path[c];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Gge);return}this.isUpdating||this.nodes.forEach(ecn),this.isUpdating=!1,this.nodes.forEach(tcn),this.nodes.forEach(Zun),this.nodes.forEach(Yun),this.clearAllSnapshots();const a=$p.now();Ka.delta=z0(0,1e3/60,a-Ka.timestamp),Ka.timestamp=a,Ka.isProcessing=!0,Xz.update.process(Ka),Xz.preRender.process(Ka),Xz.render.process(Ka),Ka.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Mne.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Jun),this.sharedNodes.forEach(ocn)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ni.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ni.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ds(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:s,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const s=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!nHe(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;s&&(a||ib(this.latestValues)||c)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return s&&(l=this.removeTransform(l)),ucn(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var s;const{visualElement:a}=this.options;if(!a)return ds();const l=a.measureViewportBox();if(!(((s=this.scroll)===null||s===void 0?void 0:s.wasRoot)||this.path.some(ccn))){const{scroll:c}=this.root;c&&(b2(l.x,c.offset.x),b2(l.y,c.offset.y))}return l}removeElementScroll(s){var a;const l=ds();if(Md(l,s),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let u=0;u<this.path.length;u++){const c=this.path[u],{scroll:f,options:p}=c;c!==this.root&&f&&p.layoutScroll&&(f.wasRoot&&Md(l,s),b2(l.x,f.offset.x),b2(l.y,f.offset.y))}return l}applyTransform(s,a=!1){const l=ds();Md(l,s);for(let u=0;u<this.path.length;u++){const c=this.path[u];!a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&w2(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),ib(c.latestValues)&&w2(l,c.latestValues)}return ib(this.latestValues)&&w2(l,this.latestValues),l}removeTransform(s){const a=ds();Md(a,s);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!ib(u.latestValues))continue;jZ(u.latestValues)&&u.updateSnapshot();const c=ds(),f=u.measurePageBox();Md(c,f),zge(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return ib(this.latestValues)&&zge(a,this.latestValues),a}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ka.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(s||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:p}=this.options;if(!(!this.layout||!(f||p))){if(this.resolvedRelativeTargetAt=Ka.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ds(),this.relativeTargetOrigin=ds(),BP(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),Md(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=ds(),this.targetWithTransforms=ds()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),cun(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Md(this.target,this.layout.layoutBox),Gze(this.target,this.targetDelta)):Md(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ds(),this.relativeTargetOrigin=ds(),BP(this.relativeTargetOrigin,this.target,g.target),Md(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Uk&&ob.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||jZ(this.parent.latestValues)||qze(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var s;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Ka.timestamp&&(u=!1),u)return;const{layout:c,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||f))return;Md(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,g=this.treeScale.y;bun(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=ds());const{target:v}=a;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Nge(this.prevProjectionDelta.x,this.projectionDelta.x),Nge(this.prevProjectionDelta.y,this.projectionDelta.y)),FP(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==g||!Kge(this.projectionDelta.x,this.prevProjectionDelta.x)||!Kge(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v)),Uk&&ob.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),s){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=y2(),this.projectionDelta=y2(),this.projectionDeltaWithTransform=y2()}setAnimationOrigin(s,a=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},f=y2();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=ds(),g=l?l.source:void 0,v=this.layout?this.layout.source:void 0,y=g!==v,S=this.getStack(),C=!S||S.members.length<=1,_=!!(y&&!C&&this.options.crossfade===!0&&!this.path.some(acn));this.animationProgress=0;let k;this.mixTargetDelta=w=>{const P=w/1e3;Yge(f.x,s.x,P),Yge(f.y,s.y,P),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(BP(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),scn(this.relativeTarget,this.relativeTargetOrigin,p,P),k&&Fun(this.relativeTarget,k)&&(this.isProjectionDirty=!1),k||(k=ds()),Md(k,this.relativeTarget)),y&&(this.animationValues=c,Iun(c,u,this.latestValues,P,_,C)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=P},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(B0(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ni.update(()=>{BI.hasAnimatedSinceResize=!0,this.currentAnimation=Kun(0,qge,{...s,onUpdate:a=>{this.mixTargetDelta(a),s.onUpdate&&s.onUpdate(a)},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(qge),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:c}=s;if(!(!a||!l||!u)){if(this!==s&&this.layout&&u&&sHe(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||ds();const f=rd(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+f;const p=rd(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+p}Md(a,l),w2(a,c),FP(this.projectionDeltaWithTransform,this.layoutCorrected,a,c)}}registerSharedNode(s,a){this.sharedNodes.has(s)||this.sharedNodes.set(s,new Bun),this.sharedNodes.get(s).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var s;const{layoutId:a}=this.options;return a?((s=this.getStack())===null||s===void 0?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:a}=this.options;return a?(s=this.getStack())===null||s===void 0?void 0:s.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetSkewAndRotation(){const{visualElement:s}=this.options;if(!s)return;let a=!1;const{latestValues:l}=s;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&sH("z",s,u,this.animationValues);for(let c=0;c<oH.length;c++)sH(`rotate${oH[c]}`,s,u,this.animationValues),sH(`skew${oH[c]}`,s,u,this.animationValues);s.render();for(const c in u)s.setStaticValue(c,u[c]),this.animationValues&&(this.animationValues[c]=u[c]);s.scheduleRender()}getProjectionStyles(s){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return qun;const u={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=zI(s==null?void 0:s.pointerEvents)||"",u.transform=c?c(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=zI(s==null?void 0:s.pointerEvents)||""),this.hasProjected&&!ib(this.latestValues)&&(y.transform=c?c({},""):"none",this.hasProjected=!1),y}const p=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=zun(this.projectionDeltaWithTransform,this.treeScale,p),c&&(u.transform=c(p,u.transform));const{x:g,y:v}=this.projectionDelta;u.transformOrigin=`${g.origin*100}% ${v.origin*100}% 0`,f.animationValues?u.opacity=f===this?(l=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:u.opacity=f===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const y in v9){if(p[y]===void 0)continue;const{correct:S,applyTo:C}=v9[y],_=u.transform==="none"?p[y]:S(p[y],f);if(C){const k=C.length;for(let w=0;w<k;w++)u[C[w]]=_}else u[y]=_}return this.options.layoutId&&(u.pointerEvents=f===this?zI(s==null?void 0:s.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var a;return(a=s.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(Gge),this.root.sharedNodes.clear()}}}function Zun(e){e.updateLayout()}function Yun(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:o}=e.options,s=n.source!==e.layout.source;o==="size"?Dd(f=>{const p=s?n.measuredBox[f]:n.layoutBox[f],g=rd(p);p.min=r[f].min,p.max=p.min+g}):sHe(o,n.layoutBox,r)&&Dd(f=>{const p=s?n.measuredBox[f]:n.layoutBox[f],g=rd(r[f]);p.max=p.min+g,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+g)});const a=y2();FP(a,r,n.layoutBox);const l=y2();s?FP(l,e.applyTransform(i,!0),n.measuredBox):FP(l,r,n.layoutBox);const u=!nHe(a);let c=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:p,layout:g}=f;if(p&&g){const v=ds();BP(v,n.layoutBox,p.layoutBox);const y=ds();BP(y,r,g.layoutBox),rHe(v,y)||(c=!0),f.options.layoutRoot&&(e.relativeTarget=y,e.relativeTargetOrigin=v,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:c})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function Xun(e){Uk&&ob.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Qun(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Jun(e){e.clearSnapshot()}function Gge(e){e.clearMeasurements()}function ecn(e){e.isLayoutDirty=!1}function tcn(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Zge(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function ncn(e){e.resolveTargetDelta()}function rcn(e){e.calcProjection()}function icn(e){e.resetSkewAndRotation()}function ocn(e){e.removeLeadSnapshot()}function Yge(e,t,n){e.translate=Ho(t.translate,0,n),e.scale=Ho(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Xge(e,t,n,r){e.min=Ho(t.min,n.min,r),e.max=Ho(t.max,n.max,r)}function scn(e,t,n,r){Xge(e.x,t.x,n.x,r),Xge(e.y,t.y,n.y,r)}function acn(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const lcn={duration:.45,ease:[.4,0,.1,1]},Qge=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Jge=Qge("applewebkit/")&&!Qge("chrome/")?Math.round:Ll;function eve(e){e.min=Jge(e.min),e.max=Jge(e.max)}function ucn(e){eve(e.x),eve(e.y)}function sHe(e,t,n){return e==="position"||e==="preserve-aspect"&&!uun(Wge(t),Wge(n),.2)}function ccn(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const dcn=oHe({attachResizeListener:(e,t)=>yg(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),aH={current:void 0},aHe=oHe({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!aH.current){const e=new dcn({});e.mount(window),e.setOptions({layoutScroll:!0}),aH.current=e}return aH.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),fcn={pan:{Feature:Eun},drag:{Feature:Cun,ProjectionNode:aHe,MeasureLayout:Jze}};function tve(e,t){const n=t?"pointerenter":"pointerleave",r=t?"onHoverStart":"onHoverEnd",i=(o,s)=>{if(o.pointerType==="touch"||Vze())return;const a=e.getProps();e.animationState&&a.whileHover&&e.animationState.setActive("whileHover",t);const l=a[r];l&&Ni.postRender(()=>l(o,s))};return Rg(e.current,n,i,{passive:!e.getProps()[r]})}class hcn extends b1{mount(){this.unmount=Ig(tve(this.node,!0),tve(this.node,!1))}unmount(){}}class pcn extends b1{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ig(yg(this.node.current,"focus",()=>this.onFocus()),yg(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const lHe=(e,t)=>t?e===t?!0:lHe(e,t.parentElement):!1;function lH(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,gj(n))}class mcn extends b1{constructor(){super(...arguments),this.removeStartListeners=Ll,this.removeEndListeners=Ll,this.removeAccessibleListeners=Ll,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),o=Rg(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:c,globalTapTarget:f}=this.node.getProps(),p=!f&&!lHe(this.node.current,a.target)?c:u;p&&Ni.update(()=>p(a,l))},{passive:!(r.onTap||r.onPointerUp)}),s=Rg(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Ig(o,s),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=o=>{if(o.key!=="Enter"||this.isPressing)return;const s=a=>{a.key!=="Enter"||!this.checkPressEnd()||lH("up",(l,u)=>{const{onTap:c}=this.node.getProps();c&&Ni.postRender(()=>c(l,u))})};this.removeEndListeners(),this.removeEndListeners=yg(this.node.current,"keyup",s),lH("down",(a,l)=>{this.startPress(a,l)})},n=yg(this.node.current,"keydown",t),r=()=>{this.isPressing&&lH("cancel",(o,s)=>this.cancelPress(o,s))},i=yg(this.node.current,"blur",r);this.removeAccessibleListeners=Ig(n,i)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Ni.postRender(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!Vze()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Ni.postRender(()=>r(t,n))}mount(){const t=this.node.getProps(),n=Rg(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=yg(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Ig(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const FZ=new WeakMap,uH=new WeakMap,gcn=e=>{const t=FZ.get(e.target);t&&t(e)},vcn=e=>{e.forEach(gcn)};function ycn({root:e,...t}){const n=e||document;uH.has(n)||uH.set(n,{});const r=uH.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(vcn,{root:e,...t})),r[i]}function bcn(e,t,n){const r=ycn(t);return FZ.set(e,n),r.observe(e),()=>{FZ.delete(e),r.unobserve(e)}}const wcn={some:0,all:1};class xcn extends b1{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:o}=t,s={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:wcn[i]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,o&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:f}=this.node.getProps(),p=u?c:f;p&&p(l)};return bcn(this.node.current,s,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(Scn(t,n))&&this.startObserver()}unmount(){}}function Scn({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const _cn={inView:{Feature:xcn},tap:{Feature:mcn},focus:{Feature:pcn},hover:{Feature:hcn}},Ccn={layout:{ProjectionNode:aHe,MeasureLayout:Jze}},Lne=h.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),vj=h.createContext({}),Ane=typeof window<"u",uHe=Ane?h.useLayoutEffect:h.useEffect,cHe=h.createContext({strict:!1});let nve=!1;function Ecn(e,t,n,r,i){var o;const{visualElement:s}=h.useContext(vj),a=h.useContext(cHe),l=h.useContext(z5),u=h.useContext(Lne).reducedMotion,c=h.useRef();r=r||a.renderer,!c.current&&r&&(c.current=r(e,{visualState:t,parent:s,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:u}));const f=c.current,p=h.useContext(Qze);f&&!f.projection&&i&&(f.type==="html"||f.type==="svg")&&Pcn(c.current,n,i,p),h.useInsertionEffect(()=>{f&&f.update(n,l)});const g=n[Ize],v=h.useRef(!!g&&!window.MotionHandoffIsComplete&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,g)));return uHe(()=>{f&&(f.updateFeatures(),Mne.render(f.render),v.current&&f.animationState&&f.animationState.animateChanges())}),h.useEffect(()=>{f&&(!v.current&&f.animationState&&f.animationState.animateChanges(),v.current=!1,nve||(nve=!0,queueMicrotask(kcn)))}),f}function kcn(){window.MotionHandoffIsComplete=!0}function Pcn(e,t,n,r){const{layoutId:i,layout:o,drag:s,dragConstraints:a,layoutScroll:l,layoutRoot:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:dHe(e.parent)),e.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:!!s||a&&v2(a),visualElement:e,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:u})}function dHe(e){if(e)return e.options.allowProjection!==!1?e.projection:dHe(e.parent)}function $cn(e,t,n){return h.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):v2(n)&&(n.current=r))},[t])}function yj(e){return s$(e.animate)||fne.some(t=>a$(e[t]))}function fHe(e){return!!(yj(e)||e.variants)}function Tcn(e,t){if(yj(e)){const{initial:n,animate:r}=e;return{initial:n===!1||a$(n)?n:void 0,animate:a$(r)?r:void 0}}return e.inherit!==!1?t:{}}function Mcn(e){const{initial:t,animate:n}=Tcn(e,h.useContext(vj));return h.useMemo(()=>({initial:t,animate:n}),[rve(t),rve(n)])}function rve(e){return Array.isArray(e)?e.join(" "):e}const ive={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},HC={};for(const e in ive)HC[e]={isEnabled:t=>ive[e].some(n=>!!t[n])};function Lcn(e){for(const t in e)HC[t]={...HC[t],...e[t]}}const Acn=Symbol.for("motionComponentSymbol");function Icn({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:i}){e&&Lcn(e);function o(a,l){let u;const c={...h.useContext(Lne),...a,layoutId:Rcn(a)},{isStatic:f}=c,p=Mcn(a),g=r(a,f);if(!f&&Ane){Dcn();const v=Ocn(c);u=v.MeasureLayout,p.visualElement=Ecn(i,g,c,t,v.ProjectionNode)}return d.jsxs(vj.Provider,{value:p,children:[u&&p.visualElement?d.jsx(u,{visualElement:p.visualElement,...c}):null,n(i,a,$cn(g,p.visualElement,l),g,f,p.visualElement)]})}const s=h.forwardRef(o);return s[Acn]=i,s}function Rcn({layoutId:e}){const t=h.useContext(Tne).id;return t&&e!==void 0?t+"-"+e:e}function Dcn(e,t){h.useContext(cHe).strict}function Ocn(e){const{drag:t,layout:n}=HC;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const jcn=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ine(e){return typeof e!="string"||e.includes("-")?!1:!!(jcn.indexOf(e)>-1||/[A-Z]/u.test(e))}function hHe(e,{style:t,vars:n},r,i){Object.assign(e.style,t,i&&i.getProjectionStyles(r));for(const o in n)e.style.setProperty(o,n[o])}const pHe=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function mHe(e,t,n,r){hHe(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(pHe.has(i)?i:mj(i),t.attrs[i])}function gHe(e,{layout:t,layoutId:n}){return y1.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!v9[e]||e==="opacity")}function Rne(e,t,n){var r;const{style:i}=e,o={};for(const s in i)(Ml(i[s])||t.style&&Ml(t.style[s])||gHe(s,e)||((r=n==null?void 0:n.getValue(s))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(o[s]=i[s]);return n&&i&&typeof i.willChange=="string"&&(n.applyWillChange=!1),o}function vHe(e,t,n){const r=Rne(e,t,n);for(const i in e)if(Ml(e[i])||Ml(t[i])){const o=j5.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[o]=e[i]}return r}function Dne(e){const t=h.useRef(null);return t.current===null&&(t.current=e()),t.current}function Ncn({applyWillChange:e=!1,scrapeMotionValuesFromProps:t,createRenderState:n,onMount:r},i,o,s,a){const l={latestValues:Bcn(i,o,s,a?!1:e,t),renderState:n()};return r&&(l.mount=u=>r(i,u,l)),l}const yHe=e=>(t,n)=>{const r=h.useContext(vj),i=h.useContext(z5),o=()=>Ncn(e,t,r,i,n);return n?o():Dne(o)};function Fcn(e,t){const n=Dze(t);n&&B5(e,n)}function ove(e,t,n){const r=Array.isArray(t)?t:[t];for(let i=0;i<r.length;i++){const o=cne(e,r[i]);if(o){const{transitionEnd:s,transition:a,...l}=o;n(l,s)}}}function Bcn(e,t,n,r,i){var o;const s={},a=[],l=r&&((o=e.style)===null||o===void 0?void 0:o.willChange)===void 0,u=i(e,{});for(const S in u)s[S]=zI(u[S]);let{initial:c,animate:f}=e;const p=yj(e),g=fHe(e);t&&g&&!p&&e.inherit!==!1&&(c===void 0&&(c=t.initial),f===void 0&&(f=t.animate));let v=n?n.initial===!1:!1;v=v||c===!1;const y=v?f:c;return y&&typeof y!="boolean"&&!s$(y)&&ove(e,y,(S,C)=>{for(const _ in S){let k=S[_];if(Array.isArray(k)){const w=v?k.length-1:0;k=k[w]}k!==null&&(s[_]=k)}for(const _ in C)s[_]=C[_]}),l&&(f&&c!==!1&&!s$(f)&&ove(e,f,S=>{for(const C in S)Fcn(a,C)}),a.length&&(s.willChange=a.join(","))),s}const One=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),bHe=()=>({...One(),attrs:{}}),wHe=(e,t)=>t&&typeof e=="number"?t.transform(e):e,zcn={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Hcn=j5.length;function Vcn(e,t,n){let r="",i=!0;for(let o=0;o<Hcn;o++){const s=j5[o],a=e[s];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(s.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const u=wHe(a,wne[s]);if(!l){i=!1;const c=zcn[s]||s;r+=`${c}(${u}) `}n&&(t[s]=u)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}function jne(e,t,n){const{style:r,vars:i,transformOrigin:o}=e;let s=!1,a=!1;for(const l in t){const u=t[l];if(y1.has(l)){s=!0;continue}else if(aze(l)){i[l]=u;continue}else{const c=wHe(u,wne[l]);l.startsWith("origin")?(a=!0,o[l]=c):r[l]=c}}if(t.transform||(s||n?r.transform=Vcn(t,e.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:u="50%",originZ:c=0}=o;r.transformOrigin=`${l} ${u} ${c}`}}function sve(e,t,n){return typeof e=="string"?e:In.transform(t+n*e)}function Ucn(e,t,n){const r=sve(t,e.x,e.width),i=sve(n,e.y,e.height);return`${r} ${i}`}const Wcn={offset:"stroke-dashoffset",array:"stroke-dasharray"},Kcn={offset:"strokeDashoffset",array:"strokeDasharray"};function qcn(e,t,n=1,r=0,i=!0){e.pathLength=1;const o=i?Wcn:Kcn;e[o.offset]=In.transform(-r);const s=In.transform(t),a=In.transform(n);e[o.array]=`${s} ${a}`}function Nne(e,{attrX:t,attrY:n,attrScale:r,originX:i,originY:o,pathLength:s,pathSpacing:a=1,pathOffset:l=0,...u},c,f){if(jne(e,u,f),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:p,style:g,dimensions:v}=e;p.transform&&(v&&(g.transform=p.transform),delete p.transform),v&&(i!==void 0||o!==void 0||g.transform)&&(g.transformOrigin=Ucn(v,i!==void 0?i:.5,o!==void 0?o:.5)),t!==void 0&&(p.x=t),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),s!==void 0&&qcn(p,s,a,l,!1)}const Fne=e=>typeof e=="string"&&e.toLowerCase()==="svg",Gcn={useVisualState:yHe({scrapeMotionValuesFromProps:vHe,createRenderState:bHe,onMount:(e,t,{renderState:n,latestValues:r})=>{Ni.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Ni.render(()=>{Nne(n,r,Fne(t.tagName),e.transformTemplate),mHe(t,n)})}})},Zcn={useVisualState:yHe({applyWillChange:!0,scrapeMotionValuesFromProps:Rne,createRenderState:One})};function xHe(e,t,n){for(const r in t)!Ml(t[r])&&!gHe(r,n)&&(e[r]=t[r])}function Ycn({transformTemplate:e},t){return h.useMemo(()=>{const n=One();return jne(n,t,e),Object.assign({},n.vars,n.style)},[t])}function Xcn(e,t){const n=e.style||{},r={};return xHe(r,n,e),Object.assign(r,Ycn(e,t)),r}function Qcn(e,t){const n={},r=Xcn(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const Jcn=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function y9(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Jcn.has(e)}let SHe=e=>!y9(e);function edn(e){e&&(SHe=t=>t.startsWith("on")?!y9(t):e(t))}try{edn(require("@emotion/is-prop-valid").default)}catch{}function tdn(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(SHe(i)||n===!0&&y9(i)||!t&&!y9(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}function ndn(e,t,n,r){const i=h.useMemo(()=>{const o=bHe();return Nne(o,t,Fne(r),e.transformTemplate),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};xHe(o,e.style,e),i.style={...o,...i.style}}return i}function rdn(e=!1){return(n,r,i,{latestValues:o},s)=>{const l=(Ine(n)?ndn:Qcn)(r,o,s,n),u=tdn(r,typeof n=="string",e),c=n!==h.Fragment?{...u,...l,ref:i}:{},{children:f}=r,p=h.useMemo(()=>Ml(f)?f.get():f,[f]);return h.createElement(n,{...c,children:p})}}function idn(e,t){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const s={...Ine(r)?Gcn:Zcn,preloadedFeatures:e,useRender:rdn(i),createVisualElement:t,Component:r};return Icn(s)}}const BZ={current:null},_He={current:!1};function odn(){if(_He.current=!0,!!Ane)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>BZ.current=e.matches;e.addListener(t),t()}else BZ.current=!1}function sdn(e,t,n){for(const r in t){const i=t[r],o=n[r];if(Ml(i))e.addValue(r,i);else if(Ml(o))e.addValue(r,c$(i,{owner:e}));else if(o!==i)if(e.hasValue(r)){const s=e.getValue(r);s.liveStyle===!0?s.jump(i):s.hasAnimated||s.set(i)}else{const s=e.getStaticValue(r);e.addValue(r,c$(s!==void 0?s:i,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const ave=new WeakMap,adn=[...cze,_l,H0],ldn=e=>adn.find(uze(e)),lve=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class udn{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:o,visualState:s},a={}){this.applyWillChange=!1,this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=vne,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=$p.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,Ni.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=s;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!o,this.isControllingVariants=yj(n),this.isVariantNode=fHe(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:c,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in f){const g=f[p];l[p]!==void 0&&Ml(g)&&g.set(l[p],!1)}}mount(t){this.current=t,ave.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),_He.current||odn(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:BZ.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){ave.delete(this.current),this.projection&&this.projection.unmount(),B0(this.notifyUpdate),B0(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=y1.has(t),i=n.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&Ni.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{i(),o(),s&&s(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in HC){const n=HC[t];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[t]&&i&&r(this.props)&&(this.features[t]=new i(this)),this.features[t]){const o=this.features[t];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ds()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<lve.length;r++){const i=lve[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o="on"+i,s=t[o];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=sdn(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=c$(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){var r;let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(oze(i)||ize(i))?i=parseFloat(i):!ldn(i)&&H0.test(n)&&(i=yze(t,n)),this.setBaseTarget(t,Ml(i)?i.get():i)),Ml(i)?i.get():i}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const s=cne(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);s&&(i=s[t])}if(r&&i!==void 0)return i;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!Ml(o)?o:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new $ne),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class CHe extends udn{constructor(){super(...arguments),this.KeyframeResolver=bze}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}}function cdn(e){return window.getComputedStyle(e)}class ddn extends CHe{constructor(){super(...arguments),this.type="html",this.applyWillChange=!0,this.renderInstance=hHe}readValueFromInstance(t,n){if(y1.has(n)){const r=xne(n);return r&&r.default||0}else{const r=cdn(t),i=(aze(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return Zze(t,n)}build(t,n,r){jne(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return Rne(t,n,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Ml(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class fdn extends CHe{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ds}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(y1.has(n)){const r=xne(n);return r&&r.default||0}return n=pHe.has(n)?n:mj(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return vHe(t,n,r)}build(t,n,r){Nne(t,n,this.isSVGTag,r.transformTemplate)}renderInstance(t,n,r,i){mHe(t,n,r,i)}mount(t){this.isSVGTag=Fne(t.tagName),super.mount(t)}}const hdn=(e,t)=>Ine(e)?new fdn(t):new ddn(t,{allowProjection:e!==h.Fragment}),pdn=idn({...eun,..._cn,...fcn,...Ccn},hdn),zx=Ksn(pdn);class mdn extends h.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function gdn({children:e,isPresent:t}){const n=h.useId(),r=h.useRef(null),i=h.useRef({width:0,height:0,top:0,left:0}),{nonce:o}=h.useContext(Lne);return h.useInsertionEffect(()=>{const{width:s,height:a,top:l,left:u}=i.current;if(t||!r.current||!s||!a)return;r.current.dataset.motionPopId=n;const c=document.createElement("style");return o&&(c.nonce=o),document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[t]),d.jsx(mdn,{isPresent:t,childRef:r,sizeRef:i,children:h.cloneElement(e,{ref:r})})}const vdn=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:o,mode:s})=>{const a=Dne(ydn),l=h.useId(),u=h.useMemo(()=>({id:l,initial:t,isPresent:n,custom:i,onExitComplete:c=>{a.set(c,!0);for(const f of a.values())if(!f)return;r&&r()},register:c=>(a.set(c,!1),()=>a.delete(c))}),o?[Math.random()]:[n]);return h.useMemo(()=>{a.forEach((c,f)=>a.set(f,!1))},[n]),h.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),s==="popLayout"&&(e=d.jsx(gdn,{isPresent:n,children:e})),d.jsx(z5.Provider,{value:u,children:e})};function ydn(){return new Map}const FL=e=>e.key||"";function uve(e){const t=[];return h.Children.forEach(e,n=>{h.isValidElement(n)&&t.push(n)}),t}const H5=({children:e,exitBeforeEnter:t,custom:n,initial:r=!0,onExitComplete:i,presenceAffectsLayout:o=!0,mode:s="sync"})=>{const a=h.useMemo(()=>uve(e),[e]),l=a.map(FL),u=h.useRef(!0),c=h.useRef(a),f=Dne(()=>new Map),[p,g]=h.useState(a),[v,y]=h.useState(a);uHe(()=>{u.current=!1,c.current=a;for(let _=0;_<v.length;_++){const k=FL(v[_]);l.includes(k)?f.delete(k):f.get(k)!==!0&&f.set(k,!1)}},[v,l.length,l.join("-")]);const S=[];if(a!==p){let _=[...a];for(let k=0;k<v.length;k++){const w=v[k],P=FL(w);l.includes(P)||(_.splice(k,0,w),S.push(w))}s==="wait"&&S.length&&(_=S),y(uve(_)),g(a);return}const{forceRender:C}=h.useContext(Tne);return d.jsx(d.Fragment,{children:v.map(_=>{const k=FL(_),w=a===v||l.includes(k),P=()=>{if(f.has(k))f.set(k,!0);else return;let M=!0;f.forEach(R=>{R||(M=!1)}),M&&(C==null||C(),y(c.current),i&&i())};return d.jsx(vdn,{isPresent:w,initial:!u.current||r?void 0:!1,custom:w?void 0:n,presenceAffectsLayout:o,mode:s,onExitComplete:w?void 0:P,children:_},k)})})};var bdn={initial:e=>{const{position:t}=e,n=["top","bottom"].includes(t)?"y":"x";let r=["top-right","bottom-right"].includes(t)?1:-1;return t==="bottom"&&(r=1),{opacity:0,[n]:r*24}},animate:{opacity:1,y:0,x:0,scale:1,transition:{duration:.4,ease:[.4,0,.2,1]}},exit:{opacity:0,scale:.85,transition:{duration:.2,ease:[.4,0,1,1]}}},EHe=h.memo(e=>{const{id:t,message:n,onCloseComplete:r,onRequestRemove:i,requestClose:o=!1,position:s="bottom",duration:a=5e3,containerStyle:l,motionVariants:u=bdn,toastSpacing:c="0.5rem"}=e,[f,p]=h.useState(a),g=kun();o$(()=>{g||r==null||r()},[g]),o$(()=>{p(a)},[a]);const v=()=>p(null),y=()=>p(a),S=()=>{g&&i()};h.useEffect(()=>{g&&o&&i()},[g,o,i]),Wsn(S,f);const C=h.useMemo(()=>({pointerEvents:"auto",maxWidth:560,minWidth:300,margin:c,...l}),[l,c]),_=h.useMemo(()=>Vsn(s),[s]);return d.jsx(zx.div,{layout:!0,className:"chakra-toast",variants:u,initial:"initial",animate:"animate",exit:"exit",onHoverStart:v,onHoverEnd:y,custom:{position:s},style:_,children:d.jsx(wi.div,{role:"status","aria-atomic":"true",className:"chakra-toast__inner",__css:C,children:gg(n,{id:t,onClose:S})})})});EHe.displayName="ToastComponent";var cve={path:d.jsxs("g",{stroke:"currentColor",strokeWidth:"1.5",children:[d.jsx("path",{strokeLinecap:"round",fill:"none",d:"M9,9a3,3,0,1,1,4,2.829,1.5,1.5,0,0,0-1,1.415V14.25"}),d.jsx("path",{fill:"currentColor",strokeLinecap:"round",d:"M12,17.25a.375.375,0,1,0,.375.375A.375.375,0,0,0,12,17.25h0"}),d.jsx("circle",{fill:"none",strokeMiterlimit:"10",cx:"12",cy:"12",r:"11.25"})]}),viewBox:"0 0 24 24"},V3=qo((e,t)=>{const{as:n,viewBox:r,color:i="currentColor",focusable:o=!1,children:s,className:a,__css:l,...u}=e,c=ro("chakra-icon",a),f=fj("Icon",e),p={w:"1em",h:"1em",display:"inline-block",lineHeight:"1em",flexShrink:0,color:i,...l,...f},g={ref:t,focusable:o,className:c,__css:p},v=r??cve.viewBox;if(n&&typeof n!="string")return d.jsx(wi.svg,{as:n,...g,...u});const y=s??cve.path;return d.jsx(wi.svg,{verticalAlign:"middle",viewBox:v,...g,...u,children:y})});V3.displayName="Icon";function wdn(e){const{viewBox:t="0 0 24 24",d:n,displayName:r,defaultProps:i={}}=e,o=h.Children.toArray(e.path),s=qo((a,l)=>d.jsx(V3,{ref:l,viewBox:t,...i,...a,children:o.length?o:d.jsx("path",{fill:"currentColor",d:n})}));return s.displayName=r,s}function xdn(e){return d.jsx(V3,{viewBox:"0 0 24 24",...e,children:d.jsx("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.014,12.014,0,0,0,12,0Zm6.927,8.2-6.845,9.289a1.011,1.011,0,0,1-1.43.188L5.764,13.769a1,1,0,1,1,1.25-1.562l4.076,3.261,6.227-8.451A1,1,0,1,1,18.927,8.2Z"})})}function Sdn(e){return d.jsx(V3,{viewBox:"0 0 24 24",...e,children:d.jsx("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.013,12.013,0,0,0,12,0Zm.25,5a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,12.25,5ZM14.5,18.5h-4a1,1,0,0,1,0-2h.75a.25.25,0,0,0,.25-.25v-4.5a.25.25,0,0,0-.25-.25H10.5a1,1,0,0,1,0-2h1a2,2,0,0,1,2,2v4.75a.25.25,0,0,0,.25.25h.75a1,1,0,1,1,0,2Z"})})}function dve(e){return d.jsx(V3,{viewBox:"0 0 24 24",...e,children:d.jsx("path",{fill:"currentColor",d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"})})}var _dn=lQt({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}),Bne=qo((e,t)=>{const n=fj("Spinner",e),{label:r="Loading...",thickness:i="2px",speed:o="0.45s",emptyColor:s="transparent",className:a,...l}=Bx(e),u=ro("chakra-spinner",a),c={display:"inline-block",borderColor:"currentColor",borderStyle:"solid",borderRadius:"99999px",borderWidth:i,borderBottomColor:s,borderLeftColor:s,animation:`${_dn} ${o} linear infinite`,...n};return d.jsx(wi.div,{ref:t,__css:c,className:u,...l,children:r&&d.jsx(wi.span,{srOnly:!0,children:r})})});Bne.displayName="Spinner";var[Cdn,zne]=pd({name:"AlertContext",hookName:"useAlertContext",providerName:"<Alert />"}),[Edn,Hne]=pd({name:"AlertStylesContext",hookName:"useAlertStyles",providerName:"<Alert />"}),kHe={info:{icon:Sdn,colorScheme:"blue"},warning:{icon:dve,colorScheme:"orange"},success:{icon:xdn,colorScheme:"green"},error:{icon:dve,colorScheme:"red"},loading:{icon:Bne,colorScheme:"blue"}};function kdn(e){return kHe[e].colorScheme}function Pdn(e){return kHe[e].icon}var PHe=qo(function(t,n){const r=Hne(),{status:i}=zne(),o={display:"inline",...r.description};return d.jsx(wi.div,{ref:n,"data-status":i,...t,className:ro("chakra-alert__desc",t.className),__css:o})});PHe.displayName="AlertDescription";function $He(e){const{status:t}=zne(),n=Pdn(t),r=Hne(),i=t==="loading"?r.spinner:r.icon;return d.jsx(wi.span,{display:"inherit","data-status":t,...e,className:ro("chakra-alert__icon",e.className),__css:i,children:e.children||d.jsx(n,{h:"100%",w:"100%"})})}$He.displayName="AlertIcon";var THe=qo(function(t,n){const r=Hne(),{status:i}=zne();return d.jsx(wi.div,{ref:n,"data-status":i,...t,className:ro("chakra-alert__title",t.className),__css:r.title})});THe.displayName="AlertTitle";var MHe=qo(function(t,n){var r;const{status:i="info",addRole:o=!0,...s}=Bx(t),a=(r=t.colorScheme)!=null?r:kdn(i),l=O5("Alert",{...t,colorScheme:a}),u={width:"100%",display:"flex",alignItems:"center",position:"relative",overflow:"hidden",...l.container};return d.jsx(Cdn,{value:{status:i},children:d.jsx(Edn,{value:l,children:d.jsx(wi.div,{"data-status":i,role:o?"alert":void 0,ref:n,...s,className:ro("chakra-alert",t.className),__css:u})})})});MHe.displayName="Alert";function $dn(e){return d.jsx(V3,{focusable:"false","aria-hidden":!0,...e,children:d.jsx("path",{fill:"currentColor",d:"M.439,21.44a1.5,1.5,0,0,0,2.122,2.121L11.823,14.3a.25.25,0,0,1,.354,0l9.262,9.263a1.5,1.5,0,1,0,2.122-2.121L14.3,12.177a.25.25,0,0,1,0-.354l9.263-9.262A1.5,1.5,0,0,0,21.439.44L12.177,9.7a.25.25,0,0,1-.354,0L2.561.44A1.5,1.5,0,0,0,.439,2.561L9.7,11.823a.25.25,0,0,1,0,.354Z"})})}var Vne=qo(function(t,n){const r=fj("CloseButton",t),{children:i,isDisabled:o,__css:s,...a}=Bx(t),l={outline:0,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0};return d.jsx(wi.button,{type:"button","aria-label":"Close",ref:n,disabled:o,__css:{...l,...r,...s},...a,children:i||d.jsx($dn,{width:"1em",height:"1em"})})});Vne.displayName="CloseButton";var Tdn={top:[],"top-left":[],"top-right":[],"bottom-left":[],bottom:[],"bottom-right":[]},zP=Mdn(Tdn);function Mdn(e){let t=e;const n=new Set,r=i=>{t=i(t),n.forEach(o=>o())};return{getState:()=>t,subscribe:i=>(n.add(i),()=>{r(()=>e),n.delete(i)}),removeToast:(i,o)=>{r(s=>({...s,[o]:s[o].filter(a=>a.id!=i)}))},notify:(i,o)=>{const s=Ldn(i,o),{position:a,id:l}=s;return r(u=>{var c,f;const g=a.includes("top")?[s,...(c=u[a])!=null?c:[]]:[...(f=u[a])!=null?f:[],s];return{...u,[a]:g}}),l},update:(i,o)=>{i&&r(s=>{const a={...s},{position:l,index:u}=qme(a,i);return l&&u!==-1&&(a[l][u]={...a[l][u],...o,message:Idn(o)}),a})},closeAll:({positions:i}={})=>{r(o=>(i??["bottom","bottom-right","bottom-left","top","top-left","top-right"]).reduce((l,u)=>(l[u]=o[u].map(c=>({...c,requestClose:!0})),l),{...o}))},close:i=>{r(o=>{const s=qBe(o,i);return s?{...o,[s]:o[s].map(a=>a.id==i?{...a,requestClose:!0}:a)}:o})},isActive:i=>!!qme(zP.getState(),i).position}}var fve=0;function Ldn(e,t={}){var n,r;fve+=1;const i=(n=t.id)!=null?n:fve,o=(r=t.position)!=null?r:"bottom";return{id:i,message:e,position:o,duration:t.duration,onCloseComplete:t.onCloseComplete,onRequestRemove:()=>zP.removeToast(String(i),o),status:t.status,requestClose:!1,containerStyle:t.containerStyle}}var Adn=e=>{const{status:t,variant:n="solid",id:r,title:i,isClosable:o,onClose:s,description:a,colorScheme:l,icon:u}=e,c=r?{root:`toast-${r}`,title:`toast-${r}-title`,description:`toast-${r}-description`}:void 0;return d.jsxs(MHe,{addRole:!1,status:t,variant:n,id:c==null?void 0:c.root,alignItems:"start",borderRadius:"md",boxShadow:"lg",paddingEnd:8,textAlign:"start",width:"auto",colorScheme:l,children:[d.jsx($He,{children:u}),d.jsxs(wi.div,{flex:"1",maxWidth:"100%",children:[i&&d.jsx(THe,{id:c==null?void 0:c.title,children:i}),a&&d.jsx(PHe,{id:c==null?void 0:c.description,display:"block",children:a})]}),o&&d.jsx(Vne,{size:"sm",onClick:s,position:"absolute",insetEnd:1,top:1})]})};function Idn(e={}){const{render:t,toastComponent:n=Adn}=e;return i=>typeof t=="function"?t({...i,...e}):d.jsx(n,{...i,...e})}var[Rdn,evn]=pd({name:"ToastOptionsContext",strict:!1}),Ddn=e=>{const t=h.useSyncExternalStore(zP.subscribe,zP.getState,zP.getState),{motionVariants:n,component:r=EHe,portalProps:i}=e,s=Object.keys(t).map(a=>{const l=t[a];return d.jsx("div",{role:"region","aria-live":"polite","aria-label":`Notifications-${a}`,id:`chakra-toast-manager-${a}`,style:Usn(a),children:d.jsx(H5,{initial:!1,children:l.map(u=>d.jsx(r,{motionVariants:n,...u},u.id))})},a)});return d.jsx(R5,{...i,children:s})},Odn=e=>function({children:n,theme:r=e,toastOptions:i,...o}){return d.jsxs(zsn,{theme:r,...o,children:[d.jsx(Rdn,{value:i==null?void 0:i.defaultOptions,children:n}),d.jsx(Ddn,{...i})]})},hve=Odn(asn),jdn=Object.defineProperty,Ndn=(e,t,n)=>t in e?jdn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Qo=(e,t,n)=>(Ndn(e,typeof t!="symbol"?t+"":t,n),n);function pve(e){return e.sort((t,n)=>{const r=t.compareDocumentPosition(n);if(r&Node.DOCUMENT_POSITION_FOLLOWING||r&Node.DOCUMENT_POSITION_CONTAINED_BY)return-1;if(r&Node.DOCUMENT_POSITION_PRECEDING||r&Node.DOCUMENT_POSITION_CONTAINS)return 1;if(r&Node.DOCUMENT_POSITION_DISCONNECTED||r&Node.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC)throw Error("Cannot sort the given nodes.");return 0})}var Fdn=e=>typeof e=="object"&&"nodeType"in e&&e.nodeType===Node.ELEMENT_NODE;function mve(e,t,n){let r=e+1;return n&&r>=t&&(r=0),r}function gve(e,t,n){let r=e-1;return n&&r<0&&(r=t),r}var zZ=typeof window<"u"?h.useLayoutEffect:h.useEffect,b9=e=>e,Bdn=class{constructor(){Qo(this,"descendants",new Map),Qo(this,"register",e=>{if(e!=null)return Fdn(e)?this.registerNode(e):t=>{this.registerNode(t,e)}}),Qo(this,"unregister",e=>{this.descendants.delete(e);const t=pve(Array.from(this.descendants.keys()));this.assignIndex(t)}),Qo(this,"destroy",()=>{this.descendants.clear()}),Qo(this,"assignIndex",e=>{this.descendants.forEach(t=>{const n=e.indexOf(t.node);t.index=n,t.node.dataset.index=t.index.toString()})}),Qo(this,"count",()=>this.descendants.size),Qo(this,"enabledCount",()=>this.enabledValues().length),Qo(this,"values",()=>Array.from(this.descendants.values()).sort((t,n)=>t.index-n.index)),Qo(this,"enabledValues",()=>this.values().filter(e=>!e.disabled)),Qo(this,"item",e=>{if(this.count()!==0)return this.values()[e]}),Qo(this,"enabledItem",e=>{if(this.enabledCount()!==0)return this.enabledValues()[e]}),Qo(this,"first",()=>this.item(0)),Qo(this,"firstEnabled",()=>this.enabledItem(0)),Qo(this,"last",()=>this.item(this.descendants.size-1)),Qo(this,"lastEnabled",()=>{const e=this.enabledValues().length-1;return this.enabledItem(e)}),Qo(this,"indexOf",e=>{var t,n;return e&&(n=(t=this.descendants.get(e))==null?void 0:t.index)!=null?n:-1}),Qo(this,"enabledIndexOf",e=>e==null?-1:this.enabledValues().findIndex(t=>t.node.isSameNode(e))),Qo(this,"next",(e,t=!0)=>{const n=mve(e,this.count(),t);return this.item(n)}),Qo(this,"nextEnabled",(e,t=!0)=>{const n=this.item(e);if(!n)return;const r=this.enabledIndexOf(n.node),i=mve(r,this.enabledCount(),t);return this.enabledItem(i)}),Qo(this,"prev",(e,t=!0)=>{const n=gve(e,this.count()-1,t);return this.item(n)}),Qo(this,"prevEnabled",(e,t=!0)=>{const n=this.item(e);if(!n)return;const r=this.enabledIndexOf(n.node),i=gve(r,this.enabledCount()-1,t);return this.enabledItem(i)}),Qo(this,"registerNode",(e,t)=>{if(!e||this.descendants.has(e))return;const n=Array.from(this.descendants.keys()).concat(e),r=pve(n);t!=null&&t.disabled&&(t.disabled=!!t.disabled);const i={node:e,index:-1,...t};this.descendants.set(e,i),this.assignIndex(r)})}};function zdn(e,t){if(e!=null){if(typeof e=="function"){e(t);return}try{e.current=t}catch{throw new Error(`Cannot assign value '${t}' to ref '${e}'`)}}}function af(...e){return t=>{e.forEach(n=>{zdn(n,t)})}}function Hdn(...e){return h.useMemo(()=>af(...e),e)}function Vdn(){const e=h.useRef(new Bdn);return zZ(()=>()=>e.current.destroy()),e.current}var[Udn,LHe]=pd({name:"DescendantsProvider",errorMessage:"useDescendantsContext must be used within DescendantsProvider"});function Wdn(e){const t=LHe(),[n,r]=h.useState(-1),i=h.useRef(null);zZ(()=>()=>{i.current&&t.unregister(i.current)},[]),zZ(()=>{if(!i.current)return;const s=Number(i.current.dataset.index);n!=s&&!Number.isNaN(s)&&r(s)});const o=b9(e?t.register(e):t.register);return{descendants:t,index:n,enabledIndex:t.enabledIndexOf(i.current),register:af(o,i)}}function Kdn(){return[b9(Udn),()=>b9(LHe()),()=>Vdn(),i=>Wdn(i)]}var vve={ease:[.25,.1,.25,1],easeIn:[.4,0,1,1],easeOut:[0,0,.2,1],easeInOut:[.4,0,.2,1]},Ow={enter:{duration:.2,ease:vve.easeOut},exit:{duration:.1,ease:vve.easeIn}},jw={enter:(e,t)=>({...e,delay:typeof t=="number"?t:t==null?void 0:t.enter}),exit:(e,t)=>({...e,delay:typeof t=="number"?t:t==null?void 0:t.exit})},qdn={enter:({transition:e,transitionEnd:t,delay:n}={})=>{var r;return{opacity:1,transition:(r=e==null?void 0:e.enter)!=null?r:jw.enter(Ow.enter,n),transitionEnd:t==null?void 0:t.enter}},exit:({transition:e,transitionEnd:t,delay:n}={})=>{var r;return{opacity:0,transition:(r=e==null?void 0:e.exit)!=null?r:jw.exit(Ow.exit,n),transitionEnd:t==null?void 0:t.exit}}},AHe={initial:"exit",animate:"enter",exit:"exit",variants:qdn},Gdn=h.forwardRef(function(t,n){const{unmountOnExit:r,in:i,className:o,transition:s,transitionEnd:a,delay:l,...u}=t,c=i||r?"enter":"exit",f=r?i&&r:!0,p={transition:s,transitionEnd:a,delay:l};return d.jsx(H5,{custom:p,children:f&&d.jsx(zx.div,{ref:n,className:ro("chakra-fade",o),custom:p,...AHe,animate:c,...u})})});Gdn.displayName="Fade";var Zdn={exit:({reverse:e,initialScale:t,transition:n,transitionEnd:r,delay:i})=>{var o;return{opacity:0,...e?{scale:t,transitionEnd:r==null?void 0:r.exit}:{transitionEnd:{scale:t,...r==null?void 0:r.exit}},transition:(o=n==null?void 0:n.exit)!=null?o:jw.exit(Ow.exit,i)}},enter:({transitionEnd:e,transition:t,delay:n})=>{var r;return{opacity:1,scale:1,transition:(r=t==null?void 0:t.enter)!=null?r:jw.enter(Ow.enter,n),transitionEnd:e==null?void 0:e.enter}}},IHe={initial:"exit",animate:"enter",exit:"exit",variants:Zdn},Ydn=h.forwardRef(function(t,n){const{unmountOnExit:r,in:i,reverse:o=!0,initialScale:s=.95,className:a,transition:l,transitionEnd:u,delay:c,...f}=t,p=r?i&&r:!0,g=i||r?"enter":"exit",v={initialScale:s,reverse:o,transition:l,transitionEnd:u,delay:c};return d.jsx(H5,{custom:v,children:p&&d.jsx(zx.div,{ref:n,className:ro("chakra-offset-slide",a),...IHe,animate:g,custom:v,...f})})});Ydn.displayName="ScaleFade";var Xdn={initial:({offsetX:e,offsetY:t,transition:n,transitionEnd:r,delay:i})=>{var o;return{opacity:0,x:e,y:t,transition:(o=n==null?void 0:n.exit)!=null?o:jw.exit(Ow.exit,i),transitionEnd:r==null?void 0:r.exit}},enter:({transition:e,transitionEnd:t,delay:n})=>{var r;return{opacity:1,x:0,y:0,transition:(r=e==null?void 0:e.enter)!=null?r:jw.enter(Ow.enter,n),transitionEnd:t==null?void 0:t.enter}},exit:({offsetY:e,offsetX:t,transition:n,transitionEnd:r,reverse:i,delay:o})=>{var s;const a={x:t,y:e};return{opacity:0,transition:(s=n==null?void 0:n.exit)!=null?s:jw.exit(Ow.exit,o),...i?{...a,transitionEnd:r==null?void 0:r.exit}:{transitionEnd:{...a,...r==null?void 0:r.exit}}}}},Wk={initial:"initial",animate:"enter",exit:"exit",variants:Xdn},Qdn=h.forwardRef(function(t,n){const{unmountOnExit:r,in:i,reverse:o=!0,className:s,offsetX:a=0,offsetY:l=8,transition:u,transitionEnd:c,delay:f,...p}=t,g=r?i&&r:!0,v=i||r?"enter":"exit",y={offsetX:a,offsetY:l,reverse:o,transition:u,transitionEnd:c,delay:f};return d.jsx(H5,{custom:y,children:g&&d.jsx(zx.div,{ref:n,className:ro("chakra-offset-slide",s),custom:y,...Wk,animate:v,...p})})});Qdn.displayName="SlideFade";var[tvn,Jdn]=pd({strict:!1,name:"ButtonGroupContext"});function efn(e){const[t,n]=h.useState(!e);return{ref:h.useCallback(o=>{o&&n(o.tagName==="BUTTON")},[]),type:t?"button":void 0}}function HZ(e){const{children:t,className:n,...r}=e,i=h.isValidElement(t)?h.cloneElement(t,{"aria-hidden":!0,focusable:!1}):t,o=ro("chakra-button__icon",n);return d.jsx(wi.span,{display:"inline-flex",alignSelf:"center",flexShrink:0,...r,className:o,children:i})}HZ.displayName="ButtonIcon";function VZ(e){const{label:t,placement:n,spacing:r="0.5rem",children:i=d.jsx(Bne,{color:"currentColor",width:"1em",height:"1em"}),className:o,__css:s,...a}=e,l=ro("chakra-button__spinner",o),u=n==="start"?"marginEnd":"marginStart",c=h.useMemo(()=>({display:"flex",alignItems:"center",position:t?"relative":"absolute",[u]:t?r:0,fontSize:"1em",lineHeight:"normal",...s}),[s,t,u,r]);return d.jsx(wi.div,{className:l,...a,__css:c,children:i})}VZ.displayName="ButtonSpinner";var Uc=qo((e,t)=>{const n=Jdn(),r=fj("Button",{...n,...e}),{isDisabled:i=n==null?void 0:n.isDisabled,isLoading:o,isActive:s,children:a,leftIcon:l,rightIcon:u,loadingText:c,iconSpacing:f="0.5rem",type:p,spinner:g,spinnerPlacement:v="start",className:y,as:S,...C}=Bx(e),_=h.useMemo(()=>{const M={...r==null?void 0:r._focus,zIndex:1};return{display:"inline-flex",appearance:"none",alignItems:"center",justifyContent:"center",userSelect:"none",position:"relative",whiteSpace:"nowrap",verticalAlign:"middle",outline:"none",...r,...!!n&&{_focus:M}}},[r,n]),{ref:k,type:w}=efn(S),P={rightIcon:u,leftIcon:l,iconSpacing:f,children:a};return d.jsxs(wi.button,{ref:Hdn(t,k),as:S,type:p??w,"data-active":Hd(s),"data-loading":Hd(o),__css:_,className:ro("chakra-button",y),...C,disabled:i||o,children:[o&&v==="start"&&d.jsx(VZ,{className:"chakra-button__spinner--start",label:c,placement:"start",spacing:f,children:g}),o?c||d.jsx(wi.span,{opacity:0,children:d.jsx(yve,{...P})}):d.jsx(yve,{...P}),o&&v==="end"&&d.jsx(VZ,{className:"chakra-button__spinner--end",label:c,placement:"end",spacing:f,children:g})]})});Uc.displayName="Button";function yve(e){const{leftIcon:t,rightIcon:n,children:r,iconSpacing:i}=e;return d.jsxs(d.Fragment,{children:[t&&d.jsx(HZ,{marginEnd:i,children:t}),r,n&&d.jsx(HZ,{marginStart:i,children:n})]})}var[tfn,nfn]=pd({name:"FormControlStylesContext",errorMessage:`useFormControlStyles returned is 'undefined'. Seems you forgot to wrap the components in "<FormControl />" `}),[rfn,RHe]=pd({strict:!1,name:"FormControlContext"});function ifn(e){const{id:t,isRequired:n,isInvalid:r,isDisabled:i,isReadOnly:o,...s}=e,a=h.useId(),l=t||`field-${a}`,u=`${l}-label`,c=`${l}-feedback`,f=`${l}-helptext`,[p,g]=h.useState(!1),[v,y]=h.useState(!1),[S,C]=h.useState(!1),_=h.useCallback((R={},D=null)=>({id:f,...R,ref:af(D,H=>{H&&y(!0)})}),[f]),k=h.useCallback((R={},D=null)=>({...R,ref:D,"data-focus":Hd(S),"data-disabled":Hd(i),"data-invalid":Hd(r),"data-readonly":Hd(o),id:R.id!==void 0?R.id:u,htmlFor:R.htmlFor!==void 0?R.htmlFor:l}),[l,i,S,r,o,u]),w=h.useCallback((R={},D=null)=>({id:c,...R,ref:af(D,H=>{H&&g(!0)}),"aria-live":"polite"}),[c]),P=h.useCallback((R={},D=null)=>({...R,...s,ref:D,role:"group","data-focus":Hd(S),"data-disabled":Hd(i),"data-invalid":Hd(r),"data-readonly":Hd(o)}),[s,i,S,r,o]),M=h.useCallback((R={},D=null)=>({...R,ref:D,role:"presentation","aria-hidden":!0,children:R.children||"*"}),[]);return{isRequired:!!n,isInvalid:!!r,isReadOnly:!!o,isDisabled:!!i,isFocused:!!S,onFocus:()=>C(!0),onBlur:()=>C(!1),hasFeedbackText:p,setHasFeedbackText:g,hasHelpText:v,setHasHelpText:y,id:l,labelId:u,feedbackId:c,helpTextId:f,htmlProps:s,getHelpTextProps:_,getErrorMessageProps:w,getRootProps:P,getLabelProps:k,getRequiredIndicatorProps:M}}var ofn=qo(function(t,n){const r=O5("Form",t),i=Bx(t),{getRootProps:o,htmlProps:s,...a}=ifn(i),l=ro("chakra-form-control",t.className);return d.jsx(rfn,{value:a,children:d.jsx(tfn,{value:r,children:d.jsx(wi.div,{...o({},n),className:l,__css:r.container})})})});ofn.displayName="FormControl";var sfn=qo(function(t,n){const r=RHe(),i=nfn(),o=ro("chakra-form__helper-text",t.className);return d.jsx(wi.div,{...r==null?void 0:r.getHelpTextProps(t,n),__css:i.helperText,className:o})});sfn.displayName="FormHelperText";function afn(e){const{isDisabled:t,isInvalid:n,isReadOnly:r,isRequired:i,...o}=lfn(e);return{...o,disabled:t,readOnly:r,required:i,"aria-invalid":Az(n),"aria-required":Az(i),"aria-readonly":Az(r)}}function lfn(e){var t,n,r;const i=RHe(),{id:o,disabled:s,readOnly:a,required:l,isRequired:u,isInvalid:c,isReadOnly:f,isDisabled:p,onFocus:g,onBlur:v,...y}=e,S=e["aria-describedby"]?[e["aria-describedby"]]:[];return i!=null&&i.hasFeedbackText&&(i!=null&&i.isInvalid)&&S.push(i.feedbackId),i!=null&&i.hasHelpText&&S.push(i.helpTextId),{...y,"aria-describedby":S.join(" ")||void 0,id:o??(i==null?void 0:i.id),isDisabled:(t=s??p)!=null?t:i==null?void 0:i.isDisabled,isReadOnly:(n=a??f)!=null?n:i==null?void 0:i.isReadOnly,isRequired:(r=l??u)!=null?r:i==null?void 0:i.isRequired,isInvalid:c??(i==null?void 0:i.isInvalid),onFocus:yp(i==null?void 0:i.onFocus,g),onBlur:yp(i==null?void 0:i.onBlur,v)}}function ufn(e,t,n,r){const i=i$(n);return h.useEffect(()=>{const o=typeof e=="function"?e():e??document;if(!(!n||!o))return o.addEventListener(t,i,r),()=>{o.removeEventListener(t,i,r)}},[t,e,r,i,n]),()=>{const o=typeof e=="function"?e():e??document;o==null||o.removeEventListener(t,i,r)}}var UZ="data-focus-lock",DHe="data-focus-lock-disabled",cfn="data-no-focus-lock",dfn="data-autofocus-inside",ffn="data-no-autofocus",cH={width:"1px",height:"0px",padding:0,overflow:"hidden",position:"fixed",top:"1px",left:"1px"},OHe=EQ({},function(e){var t=e.target,n=e.currentTarget;return{target:t,currentTarget:n}}),jHe=EQ(),hfn=EQ(),pfn=Pke({async:!0,ssr:typeof document<"u"}),mfn=h.createContext(void 0),gfn=[],Une=h.forwardRef(function(t,n){var r,i=h.useState(),o=i[0],s=i[1],a=h.useRef(),l=h.useRef(!1),u=h.useRef(null),c=h.useState({}),f=c[1],p=t.children,g=t.disabled,v=g===void 0?!1:g,y=t.noFocusGuards,S=y===void 0?!1:y,C=t.persistentFocus,_=C===void 0?!1:C,k=t.crossFrame,w=k===void 0?!0:k,P=t.autoFocus,M=P===void 0?!0:P;t.allowTextSelection;var R=t.group,D=t.className,H=t.whiteList,O=t.hasPositiveIndices,z=t.shards,G=z===void 0?gfn:z,ee=t.as,X=ee===void 0?"div":ee,se=t.lockProps,B=se===void 0?{}:se,q=t.sideCar,U=t.returnFocus,K=U===void 0?!1:U,J=t.focusOptions,oe=t.onActivation,he=t.onDeactivation,me=h.useState({}),re=me[0],ue=h.useCallback(function(ot){var kt=ot.captureFocusRestore;if(!u.current){var gt,rn=(gt=document)==null?void 0:gt.activeElement;u.current=rn,rn!==document.body&&(u.current=kt(rn))}a.current&&oe&&oe(a.current),l.current=!0,f()},[oe]),ce=h.useCallback(function(){l.current=!1,he&&he(a.current),f()},[he]),we=h.useCallback(function(ot){var kt=u.current;if(kt){var gt=(typeof kt=="function"?kt():kt)||document.body,rn=typeof K=="function"?K(gt):K;if(rn){var Yt=typeof rn=="object"?rn:void 0;u.current=null,ot?Promise.resolve().then(function(){return gt.focus(Yt)}):gt.focus(Yt)}}},[K]),Me=h.useCallback(function(ot){l.current&&OHe.useMedium(ot)},[]),Be=jHe.useMedium,ge=h.useCallback(function(ot){a.current!==ot&&(a.current=ot,s(ot))},[]),ye=Dp((r={},r[DHe]=v&&"disabled",r[UZ]=R,r),B),_e=S!==!0,$e=_e&&S!=="tail",He=Cke([n,ge]),Ve=h.useMemo(function(){return{observed:a,shards:G,enabled:!v,active:l.current}},[v,l.current,G,o]);return h.createElement(h.Fragment,null,_e&&[h.createElement("div",{key:"guard-first","data-focus-guard":!0,tabIndex:v?-1:0,style:cH}),O?h.createElement("div",{key:"guard-nearest","data-focus-guard":!0,tabIndex:v?-1:1,style:cH}):null],!v&&h.createElement(q,{id:re,sideCar:pfn,observed:o,disabled:v,persistentFocus:_,crossFrame:w,autoFocus:M,whiteList:H,shards:G,onActivation:ue,onDeactivation:ce,returnFocus:we,focusOptions:J,noFocusGuards:S}),h.createElement(X,Dp({ref:He},ye,{className:D,onBlur:Be,onFocus:Me}),h.createElement(mfn.Provider,{value:Ve},p)),$e&&h.createElement("div",{"data-focus-guard":!0,tabIndex:v?-1:0,style:cH}))});Une.propTypes={};function vfn(e,t){if(ux(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ux(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yfn(e){var t=vfn(e,"string");return ux(t)=="symbol"?t:t+""}function bfn(e,t,n){return(t=yfn(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wfn(e,t){function n(r){return r.displayName||r.name||"Component"}return function(i){var o=[],s;function a(){s=e(o.map(function(u){return u.props})),t(s)}var l=function(u){Dke(c,u);function c(){return u.apply(this,arguments)||this}c.peek=function(){return s};var f=c.prototype;return f.componentDidMount=function(){o.push(this),a()},f.componentDidUpdate=function(){a()},f.componentWillUnmount=function(){var g=o.indexOf(this);o.splice(g,1),a()},f.render=function(){return ne.createElement(i,this.props)},c}(h.PureComponent);return bfn(l,"displayName","SideEffect("+n(i)+")"),l}}var lm=function(e){for(var t=Array(e.length),n=0;n<e.length;++n)t[n]=e[n];return t},dx=function(e){return Array.isArray(e)?e:[e]},NHe=function(e){return Array.isArray(e)?e[0]:e},xfn=function(e){if(e.nodeType!==Node.ELEMENT_NODE)return!1;var t=window.getComputedStyle(e,null);return!t||!t.getPropertyValue?!1:t.getPropertyValue("display")==="none"||t.getPropertyValue("visibility")==="hidden"},FHe=function(e){return e.parentNode&&e.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE?e.parentNode.host:e.parentNode},BHe=function(e){return e===document||e&&e.nodeType===Node.DOCUMENT_NODE},Sfn=function(e){return e.hasAttribute("inert")},_fn=function(e,t){return!e||BHe(e)||!xfn(e)&&!Sfn(e)&&t(FHe(e))},zHe=function(e,t){var n=e.get(t);if(n!==void 0)return n;var r=_fn(t,zHe.bind(void 0,e));return e.set(t,r),r},Cfn=function(e,t){return e&&!BHe(e)?Pfn(e)?t(FHe(e)):!1:!0},HHe=function(e,t){var n=e.get(t);if(n!==void 0)return n;var r=Cfn(t,HHe.bind(void 0,e));return e.set(t,r),r},VHe=function(e){return e.dataset},Efn=function(e){return e.tagName==="BUTTON"},UHe=function(e){return e.tagName==="INPUT"},WHe=function(e){return UHe(e)&&e.type==="radio"},kfn=function(e){return!((UHe(e)||Efn(e))&&(e.type==="hidden"||e.disabled))},Pfn=function(e){var t=e.getAttribute(ffn);return![!0,"true",""].includes(t)},Wne=function(e){var t;return!!(e&&(!((t=VHe(e))===null||t===void 0)&&t.focusGuard))},WZ=function(e){return!Wne(e)},$fn=function(e){return!!e},Tfn=function(e,t){var n=Math.max(0,e.tabIndex),r=Math.max(0,t.tabIndex),i=n-r,o=e.index-t.index;if(i){if(!n)return 1;if(!r)return-1}return i||o},Mfn=function(e){return e.tabIndex<0&&!e.hasAttribute("tabindex")?0:e.tabIndex},Kne=function(e,t,n){return lm(e).map(function(r,i){var o=Mfn(r);return{node:r,index:i,tabIndex:n&&o===-1?(r.dataset||{}).focusGuard?0:-1:o}}).filter(function(r){return!t||r.tabIndex>=0}).sort(Tfn)},Lfn=["button:enabled","select:enabled","textarea:enabled","input:enabled","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[tabindex]","[contenteditable]","[autofocus]"],qne=Lfn.join(","),Afn="".concat(qne,", [data-focus-guard]"),KHe=function(e,t){return lm((e.shadowRoot||e).children).reduce(function(n,r){return n.concat(r.matches(t?Afn:qne)?[r]:[],KHe(r))},[])},Ifn=function(e,t){var n;return e instanceof HTMLIFrameElement&&(!((n=e.contentDocument)===null||n===void 0)&&n.body)?VC([e.contentDocument.body],t):[e]},VC=function(e,t){return e.reduce(function(n,r){var i,o=KHe(r,t),s=(i=[]).concat.apply(i,o.map(function(a){return Ifn(a,t)}));return n.concat(s,r.parentNode?lm(r.parentNode.querySelectorAll(qne)).filter(function(a){return a===r}):[])},[])},Rfn=function(e){var t=e.querySelectorAll("[".concat(dfn,"]"));return lm(t).map(function(n){return VC([n])}).reduce(function(n,r){return n.concat(r)},[])},Gne=function(e,t){return lm(e).filter(function(n){return zHe(t,n)}).filter(function(n){return kfn(n)})},bve=function(e,t){return t===void 0&&(t=new Map),lm(e).filter(function(n){return HHe(t,n)})},Zne=function(e,t,n){return Kne(Gne(VC(e,n),t),!0,n)},d$=function(e,t){return Kne(Gne(VC(e),t),!1)},Dfn=function(e,t){return Gne(Rfn(e),t)},Nw=function(e,t){return e.shadowRoot?Nw(e.shadowRoot,t):Object.getPrototypeOf(e).contains!==void 0&&Object.getPrototypeOf(e).contains.call(e,t)?!0:lm(e.children).some(function(n){var r;if(n instanceof HTMLIFrameElement){var i=(r=n.contentDocument)===null||r===void 0?void 0:r.body;return i?Nw(i,t):!1}return Nw(n,t)})},Ofn=function(e){for(var t=new Set,n=e.length,r=0;r<n;r+=1)for(var i=r+1;i<n;i+=1){var o=e[r].compareDocumentPosition(e[i]);(o&Node.DOCUMENT_POSITION_CONTAINED_BY)>0&&t.add(i),(o&Node.DOCUMENT_POSITION_CONTAINS)>0&&t.add(r)}return e.filter(function(s,a){return!t.has(a)})},qHe=function(e){return e.parentNode?qHe(e.parentNode):e},Yne=function(e){var t=dx(e);return t.filter(Boolean).reduce(function(n,r){var i=r.getAttribute(UZ);return n.push.apply(n,i?Ofn(lm(qHe(r).querySelectorAll("[".concat(UZ,'="').concat(i,'"]:not([').concat(DHe,'="disabled"])')))):[r]),n},[])},jfn=function(e){try{return e()}catch{return}},f$=function(e){if(e===void 0&&(e=document),!(!e||!e.activeElement)){var t=e.activeElement;return t.shadowRoot?f$(t.shadowRoot):t instanceof HTMLIFrameElement&&jfn(function(){return t.contentWindow.document})?f$(t.contentWindow.document):t}},Nfn=function(e,t){return e===t},Ffn=function(e,t){return!!lm(e.querySelectorAll("iframe")).some(function(n){return Nfn(n,t)})},GHe=function(e,t){return t===void 0&&(t=f$(NHe(e).ownerDocument)),!t||t.dataset&&t.dataset.focusGuard?!1:Yne(e).some(function(n){return Nw(n,t)||Ffn(n,t)})},Bfn=function(e){e===void 0&&(e=document);var t=f$(e);return t?lm(e.querySelectorAll("[".concat(cfn,"]"))).some(function(n){return Nw(n,t)}):!1},zfn=function(e,t){return t.filter(WHe).filter(function(n){return n.name===e.name}).filter(function(n){return n.checked})[0]||e},Xne=function(e,t){return WHe(e)&&e.name?zfn(e,t):e},Hfn=function(e){var t=new Set;return e.forEach(function(n){return t.add(Xne(n,e))}),e.filter(function(n){return t.has(n)})},wve=function(e){return e[0]&&e.length>1?Xne(e[0],e):e[0]},xve=function(e,t){return e.indexOf(Xne(t,e))},KZ="NEW_FOCUS",Vfn=function(e,t,n,r,i){var o=e.length,s=e[0],a=e[o-1],l=Wne(r);if(!(r&&e.indexOf(r)>=0)){var u=r!==void 0?n.indexOf(r):-1,c=i?n.indexOf(i):u,f=i?e.indexOf(i):-1;if(u===-1)return f!==-1?f:KZ;if(f===-1)return KZ;var p=u-c,g=n.indexOf(s),v=n.indexOf(a),y=Hfn(n),S=r!==void 0?y.indexOf(r):-1,C=S-(i?y.indexOf(i):u);if(!p&&f>=0||t.length===0)return f;var _=xve(e,t[0]),k=xve(e,t[t.length-1]);if(u<=g&&l&&Math.abs(p)>1)return k;if(u>=v&&l&&Math.abs(p)>1)return _;if(p&&Math.abs(C)>1)return f;if(u<=g)return k;if(u>v)return _;if(p)return Math.abs(p)>1?f:(o+f+p)%o}},Ufn=function(e){return function(t){var n,r=(n=VHe(t))===null||n===void 0?void 0:n.autofocus;return t.autofocus||r!==void 0&&r!=="false"||e.indexOf(t)>=0}},Sve=function(e,t,n){var r=e.map(function(o){var s=o.node;return s}),i=bve(r.filter(Ufn(n)));return i&&i.length?wve(i):wve(bve(t))},qZ=function(e,t){return t===void 0&&(t=[]),t.push(e),e.parentNode&&qZ(e.parentNode.host||e.parentNode,t),t},dH=function(e,t){for(var n=qZ(e),r=qZ(t),i=0;i<n.length;i+=1){var o=n[i];if(r.indexOf(o)>=0)return o}return!1},ZHe=function(e,t,n){var r=dx(e),i=dx(t),o=r[0],s=!1;return i.filter(Boolean).forEach(function(a){s=dH(s||a,a)||s,n.filter(Boolean).forEach(function(l){var u=dH(o,l);u&&(!s||Nw(u,s)?s=u:s=dH(u,s))})}),s},_ve=function(e,t){return e.reduce(function(n,r){return n.concat(Dfn(r,t))},[])},Wfn=function(e,t){var n=new Map;return t.forEach(function(r){return n.set(r.node,r)}),e.map(function(r){return n.get(r)}).filter($fn)},Kfn=function(e,t){var n=f$(dx(e).length>0?document:NHe(e).ownerDocument),r=Yne(e).filter(WZ),i=ZHe(n||e,e,r),o=new Map,s=d$(r,o),a=s.filter(function(v){var y=v.node;return WZ(y)});if(a[0]){var l=d$([i],o).map(function(v){var y=v.node;return y}),u=Wfn(l,a),c=u.map(function(v){var y=v.node;return y}),f=u.filter(function(v){var y=v.tabIndex;return y>=0}).map(function(v){var y=v.node;return y}),p=Vfn(c,f,l,n,t);if(p===KZ){var g=Sve(s,f,_ve(r,o))||Sve(s,c,_ve(r,o));if(g)return{node:g};console.warn("focus-lock: cannot find any node to move focus into");return}return p===void 0?p:u[p]}},qfn=function(e){var t=Yne(e).filter(WZ),n=ZHe(e,e,t),r=Kne(VC([n],!0),!0,!0),i=VC(t,!1);return r.map(function(o){var s=o.node,a=o.index;return{node:s,index:a,lockItem:i.indexOf(s)>=0,guard:Wne(s)}})},Qne=function(e,t){e&&("focus"in e&&e.focus(t),"contentWindow"in e&&e.contentWindow&&e.contentWindow.focus())},fH=0,hH=!1,YHe=function(e,t,n){n===void 0&&(n={});var r=Kfn(e,t);if(!hH&&r){if(fH>2){console.error("FocusLock: focus-fighting detected. Only one focus management system could be active. See https://github.com/theKashey/focus-lock/#focus-fighting"),hH=!0,setTimeout(function(){hH=!1},1);return}fH++,Qne(r.node,n.focusOptions),fH--}};function ok(e){if(!e)return null;if(typeof WeakRef>"u")return function(){return e||null};var t=e?new WeakRef(e):null;return function(){return(t==null?void 0:t.deref())||null}}var Gfn=function(e){if(!e)return null;for(var t=[],n=e;n&&n!==document.body;)t.push({current:ok(n),parent:ok(n.parentElement),left:ok(n.previousElementSibling),right:ok(n.nextElementSibling)}),n=n.parentElement;return{element:ok(e),stack:t,ownerDocument:e.ownerDocument}},Zfn=function(e){var t,n,r,i,o;if(e)for(var s=e.stack,a=e.ownerDocument,l=new Map,u=0,c=s;u<c.length;u++){var f=c[u],p=(t=f.parent)===null||t===void 0?void 0:t.call(f);if(p&&a.contains(p)){for(var g=(n=f.left)===null||n===void 0?void 0:n.call(f),v=f.current(),y=p.contains(v)?v:void 0,S=(r=f.right)===null||r===void 0?void 0:r.call(f),C=Zne([p],l),_=(o=(i=y??(g==null?void 0:g.nextElementSibling))!==null&&i!==void 0?i:S)!==null&&o!==void 0?o:g;_;){for(var k=0,w=C;k<w.length;k++){var P=w[k];if(_!=null&&_.contains(P.node))return P.node}_=_.nextElementSibling}if(C.length)return C[0].node}}},XHe=function(e){var t=Gfn(e);return function(){return Zfn(t)}},Yfn=function(e,t,n){if(!e||!t)return console.error("no element or scope given"),{};var r=dx(t);if(r.every(function(s){return!Nw(s,e)}))return console.error("Active element is not contained in the scope"),{};var i=n?Zne(r,new Map):d$(r,new Map),o=i.findIndex(function(s){var a=s.node;return a===e});if(o!==-1)return{prev:i[o-1],next:i[o+1],first:i[0],last:i[i.length-1]}},Xfn=function(e,t){var n=t?Zne(dx(e),new Map):d$(dx(e),new Map);return{first:n[0],last:n[n.length-1]}},Qfn=function(e){return Object.assign({scope:document.body,cycle:!0,onlyTabbable:!0},e)},QHe=function(e,t,n){t===void 0&&(t={});var r=Qfn(t),i=Yfn(e,r.scope,r.onlyTabbable);if(i){var o=n(i,r.cycle);o&&Qne(o.node,r.focusOptions)}},Jfn=function(e,t){t===void 0&&(t={}),QHe(e,t,function(n,r){var i=n.next,o=n.first;return i||r&&o})},ehn=function(e,t){t===void 0&&(t={}),QHe(e,t,function(n,r){var i=n.prev,o=n.last;return i||r&&o})},JHe=function(e,t,n){var r,i=Xfn(e,(r=t.onlyTabbable)!==null&&r!==void 0?r:!0),o=i[n];o&&Qne(o.node,t.focusOptions)},thn=function(e,t){t===void 0&&(t={}),JHe(e,t,"first")},nhn=function(e,t){t===void 0&&(t={}),JHe(e,t,"last")};function Jne(e){setTimeout(e,1)}var rhn=function(t){return t&&"current"in t?t.current:t},eVe=function(){return document&&document.activeElement===document.body},ihn=function(){return eVe()||Bfn()},Q2=null,Pc=null,Cve=function(){return null},J2=null,h$=!1,ere=!1,ohn=function(){return!0},shn=function(t){return(Q2.whiteList||ohn)(t)},ahn=function(t,n){J2={observerNode:t,portaledElement:n}},lhn=function(t){return J2&&J2.portaledElement===t};function Eve(e,t,n,r){var i=null,o=e;do{var s=r[o];if(s.guard)s.node.dataset.focusAutoGuard&&(i=s);else if(s.lockItem){if(o!==e)return;i=null}else break}while((o+=n)!==t);i&&(i.node.tabIndex=0)}var uhn=function(t){return t?!!h$:h$==="meanwhile"},chn=function e(t,n,r){return n&&(n.host===t&&(!n.activeElement||r.contains(n.activeElement))||n.parentNode&&e(t,n.parentNode,r))},dhn=function(t,n){return n.some(function(r){return chn(t,r,r)})},tVe=function(t){return d$(t,new Map)},fhn=function(t){return!tVe([t.parentNode]).some(function(n){return n.node===t})},w9=function(){var t=!1;if(Q2){var n=Q2,r=n.observed,i=n.persistentFocus,o=n.autoFocus,s=n.shards,a=n.crossFrame,l=n.focusOptions,u=n.noFocusGuards,c=r||J2&&J2.portaledElement;if(eVe()&&Pc&&(!document.body.contains(Pc)||fhn(Pc))){Pc=null;var f=Cve();f&&f.focus()}var p=document&&document.activeElement;if(c){var g=[c].concat(s.map(rhn).filter(Boolean)),v=function(){if(!uhn(a)||!u||!Pc||ere)return!1;var k=tVe(g),w=k.findIndex(function(P){var M=P.node;return M===Pc});return w===0||w===k.length-1};if((!p||shn(p))&&(i||v()||!ihn()||!Pc&&o)&&(c&&!(GHe(g)||p&&dhn(p,g)||lhn(p))&&(document&&!Pc&&p&&!o?(p.blur&&p.blur(),document.body.focus()):(t=YHe(g,Pc,{focusOptions:l}),J2={})),h$=!1,Pc=document&&document.activeElement,Cve=XHe(Pc)),document&&p!==document.activeElement&&document.querySelector("[data-focus-auto-guard]")){var y=document&&document.activeElement,S=qfn(g),C=S.map(function(_){var k=_.node;return k}).indexOf(y);C>-1&&(S.filter(function(_){var k=_.guard,w=_.node;return k&&w.dataset.focusAutoGuard}).forEach(function(_){var k=_.node;return k.removeAttribute("tabIndex")}),Eve(C,S.length,1,S),Eve(C,-1,-1,S))}}}return t},nVe=function(t){w9()&&t&&(t.stopPropagation(),t.preventDefault())},tre=function(){return Jne(w9)},hhn=function(t){var n=t.target,r=t.currentTarget;r.contains(n)||ahn(r,n)},phn=function(){return null},rVe=function(){ere=!0},iVe=function(){ere=!1,h$="just",Jne(function(){h$="meanwhile"})},mhn=function(){document.addEventListener("focusin",nVe),document.addEventListener("focusout",tre),window.addEventListener("focus",rVe),window.addEventListener("blur",iVe)},ghn=function(){document.removeEventListener("focusin",nVe),document.removeEventListener("focusout",tre),window.removeEventListener("focus",rVe),window.removeEventListener("blur",iVe)};function vhn(e){return e.filter(function(t){var n=t.disabled;return!n})}var oVe={moveFocusInside:YHe,focusInside:GHe,focusNextElement:Jfn,focusPrevElement:ehn,focusFirstElement:thn,focusLastElement:nhn,captureFocusRestore:XHe};function yhn(e){var t=e.slice(-1)[0];t&&!Q2&&mhn();var n=Q2,r=n&&t&&t.id===n.id;Q2=t,n&&!r&&(n.onDeactivation(),e.filter(function(i){var o=i.id;return o===n.id}).length||n.returnFocus(!t)),t?(Pc=null,(!r||n.observed!==t.observed)&&t.onActivation(oVe),w9(),Jne(w9)):(ghn(),Pc=null)}OHe.assignSyncMedium(hhn);jHe.assignMedium(tre);hfn.assignMedium(function(e){return e(oVe)});const bhn=wfn(vhn,yhn)(phn);var GZ=h.forwardRef(function(t,n){return h.createElement(Une,Dp({sideCar:bhn,ref:n},t))}),sVe=Une.propTypes||{};sVe.sideCar;kQ(sVe,["sideCar"]);GZ.propTypes={};function aVe(e){return e!=null&&typeof e=="object"&&"nodeType"in e&&e.nodeType===Node.ELEMENT_NODE}function lVe(e){var t;if(!aVe(e))return!1;const n=(t=e.ownerDocument.defaultView)!=null?t:window;return e instanceof n.HTMLElement}function whn(e){var t,n;return(n=(t=uVe(e))==null?void 0:t.defaultView)!=null?n:window}function uVe(e){return aVe(e)?e.ownerDocument:document}function xhn(e){return uVe(e).activeElement}var cVe=e=>e.hasAttribute("tabindex"),Shn=e=>cVe(e)&&e.tabIndex===-1;function _hn(e){return!!e.getAttribute("disabled")||!!e.getAttribute("aria-disabled")}function dVe(e){return e.parentElement&&dVe(e.parentElement)?!0:e.hidden}function Chn(e){const t=e.getAttribute("contenteditable");return t!=="false"&&t!=null}function fVe(e){if(!lVe(e)||dVe(e)||_hn(e))return!1;const{localName:t}=e;if(["input","select","textarea","button"].indexOf(t)>=0)return!0;const r={a:()=>e.hasAttribute("href"),audio:()=>e.hasAttribute("controls"),video:()=>e.hasAttribute("controls")};return t in r?r[t]():Chn(e)?!0:cVe(e)}function Ehn(e){return e?lVe(e)&&fVe(e)&&!Shn(e):!1}var khn=["input:not(:disabled):not([disabled])","select:not(:disabled):not([disabled])","textarea:not(:disabled):not([disabled])","embed","iframe","object","a[href]","area[href]","button:not(:disabled):not([disabled])","[tabindex]","audio[controls]","video[controls]","*[tabindex]:not([aria-disabled])","*[contenteditable]"],Phn=khn.join(),$hn=e=>e.offsetWidth>0&&e.offsetHeight>0;function Thn(e){const t=Array.from(e.querySelectorAll(Phn));return t.unshift(e),t.filter(n=>fVe(n)&&$hn(n))}var kve,Mhn=(kve=GZ.default)!=null?kve:GZ,hVe=e=>{const{initialFocusRef:t,finalFocusRef:n,contentRef:r,restoreFocus:i,children:o,isDisabled:s,autoFocus:a,persistentFocus:l,lockFocusAcrossFrames:u}=e,c=h.useCallback(()=>{t!=null&&t.current?t.current.focus():r!=null&&r.current&&Thn(r.current).length===0&&requestAnimationFrame(()=>{var v;(v=r.current)==null||v.focus()})},[t,r]),f=h.useCallback(()=>{var g;(g=n==null?void 0:n.current)==null||g.focus()},[n]),p=i&&!n;return d.jsx(Mhn,{crossFrame:u,persistentFocus:l,autoFocus:a,disabled:s,onActivation:c,onDeactivation:f,returnFocus:p,children:o})};hVe.displayName="FocusLock";var Lhn=usn?h.useLayoutEffect:h.useEffect;function Pve(e,t=[]){const n=h.useRef(e);return Lhn(()=>{n.current=e}),h.useCallback((...r)=>{var i;return(i=n.current)==null?void 0:i.call(n,...r)},t)}function Ahn(e,t){const n=h.useId();return h.useMemo(()=>e||[t,n].filter(Boolean).join("-"),[e,t,n])}function Ihn(e,t){const n=e!==void 0;return[n,n&&typeof e<"u"?e:t]}function nre(e={}){const{onClose:t,onOpen:n,isOpen:r,id:i}=e,o=Pve(n),s=Pve(t),[a,l]=h.useState(e.defaultIsOpen||!1),[u,c]=Ihn(r,a),f=Ahn(i,"disclosure"),p=h.useCallback(()=>{u||l(!1),s==null||s()},[u,s]),g=h.useCallback(()=>{u||l(!0),o==null||o()},[u,o]),v=h.useCallback(()=>{(c?p:g)()},[c,g,p]);return{isOpen:!!c,onOpen:g,onClose:p,onToggle:v,isControlled:u,getButtonProps:(y={})=>({...y,"aria-expanded":c,"aria-controls":f,onClick:psn(y.onClick,v)}),getDisclosureProps:(y={})=>({...y,hidden:!c,id:f})}}var bj=qo(function(t,n){const{htmlSize:r,...i}=t,o=O5("Input",i),s=Bx(i),a=afn(s),l=ro("chakra-input",t.className);return d.jsx(wi.input,{size:r,...a,__css:o.field,ref:n,className:l})});bj.displayName="Input";bj.id="Input";function Rhn(e){const{key:t}=e;return t.length===1||t.length>1&&/[^a-zA-Z0-9]/.test(t)}function Dhn(e={}){const{timeout:t=300,preventDefault:n=()=>!0}=e,[r,i]=h.useState([]),o=h.useRef(),s=()=>{o.current&&(clearTimeout(o.current),o.current=null)},a=()=>{s(),o.current=setTimeout(()=>{i([]),o.current=null},t)};h.useEffect(()=>s,[]);function l(u){return c=>{if(c.key==="Backspace"){const f=[...r];f.pop(),i(f);return}if(Rhn(c)){const f=r.concat(c.key);n(c)&&(c.preventDefault(),c.stopPropagation()),i(f),u(f.join("")),a()}}}return l}function Ohn(e,t,n,r){if(t==null)return r;if(!r)return e.find(s=>n(s).toLowerCase().startsWith(t.toLowerCase()));const i=e.filter(o=>n(o).toLowerCase().startsWith(t.toLowerCase()));if(i.length>0){let o;return i.includes(r)?(o=i.indexOf(r)+1,o===i.length&&(o=0),i[o]):(o=e.indexOf(i[0]),e[o])}return r}function jhn(){const e=h.useRef(new Map),t=e.current,n=h.useCallback((i,o,s,a)=>{e.current.set(s,{type:o,el:i,options:a}),i.addEventListener(o,s,a)},[]),r=h.useCallback((i,o,s,a)=>{i.removeEventListener(o,s,a),e.current.delete(s)},[]);return h.useEffect(()=>()=>{t.forEach((i,o)=>{r(i.el,i.type,o,i.options)})},[r,t]),{add:n,remove:r}}function pH(e){const t=e.target,{tagName:n,isContentEditable:r}=t;return n!=="INPUT"&&n!=="TEXTAREA"&&r!==!0}function Nhn(e={}){const{ref:t,isDisabled:n,isFocusable:r,clickOnEnter:i=!0,clickOnSpace:o=!0,onMouseDown:s,onMouseUp:a,onClick:l,onKeyDown:u,onKeyUp:c,tabIndex:f,onMouseOver:p,onMouseLeave:g,...v}=e,[y,S]=h.useState(!0),[C,_]=h.useState(!1),k=jhn(),w=q=>{q&&q.tagName!=="BUTTON"&&S(!1)},P=y?f:f||0,M=n&&!r,R=h.useCallback(q=>{if(n){q.stopPropagation(),q.preventDefault();return}q.currentTarget.focus(),l==null||l(q)},[n,l]),D=h.useCallback(q=>{C&&pH(q)&&(q.preventDefault(),q.stopPropagation(),_(!1),k.remove(document,"keyup",D,!1))},[C,k]),H=h.useCallback(q=>{if(u==null||u(q),n||q.defaultPrevented||q.metaKey||!pH(q.nativeEvent)||y)return;const U=i&&q.key==="Enter";o&&q.key===" "&&(q.preventDefault(),_(!0)),U&&(q.preventDefault(),q.currentTarget.click()),k.add(document,"keyup",D,!1)},[n,y,u,i,o,k,D]),O=h.useCallback(q=>{if(c==null||c(q),n||q.defaultPrevented||q.metaKey||!pH(q.nativeEvent)||y)return;o&&q.key===" "&&(q.preventDefault(),_(!1),q.currentTarget.click())},[o,y,n,c]),z=h.useCallback(q=>{q.button===0&&(_(!1),k.remove(document,"mouseup",z,!1))},[k]),G=h.useCallback(q=>{if(q.button!==0)return;if(n){q.stopPropagation(),q.preventDefault();return}y||_(!0),q.currentTarget.focus({preventScroll:!0}),k.add(document,"mouseup",z,!1),s==null||s(q)},[n,y,s,k,z]),ee=h.useCallback(q=>{q.button===0&&(y||_(!1),a==null||a(q))},[a,y]),X=h.useCallback(q=>{if(n){q.preventDefault();return}p==null||p(q)},[n,p]),se=h.useCallback(q=>{C&&(q.preventDefault(),_(!1)),g==null||g(q)},[C,g]),B=af(t,w);return y?{...v,ref:B,type:"button","aria-disabled":M?void 0:n,disabled:M,onClick:R,onMouseDown:s,onMouseUp:a,onKeyUp:c,onKeyDown:u,onMouseOver:p,onMouseLeave:g}:{...v,ref:B,role:"button","data-active":Hd(C),"aria-disabled":n?"true":void 0,tabIndex:M?void 0:P,onClick:R,onMouseDown:G,onMouseUp:ee,onKeyUp:O,onKeyDown:H,onMouseOver:X,onMouseLeave:se}}function Fhn(e){const t=e.current;if(!t)return!1;const n=xhn(t);return!n||t.contains(n)?!1:!!Ehn(n)}function Bhn(e,t){const{shouldFocus:n,visible:r,focusRef:i}=t,o=n&&!r;o$(()=>{if(!o||Fhn(e))return;const s=(i==null?void 0:i.current)||e.current;let a;if(s)return a=requestAnimationFrame(()=>{s.focus({preventScroll:!0})}),()=>{cancelAnimationFrame(a)}},[o,e,i])}var TS=(e,t)=>({var:e,varRef:t?`var(${e}, ${t})`:`var(${e})`}),Hc={arrowShadowColor:TS("--popper-arrow-shadow-color"),arrowSize:TS("--popper-arrow-size","8px"),arrowSizeHalf:TS("--popper-arrow-size-half"),arrowBg:TS("--popper-arrow-bg"),transformOrigin:TS("--popper-transform-origin"),arrowOffset:TS("--popper-arrow-offset")};function zhn(e){if(e.includes("top"))return"1px 1px 0px 0 var(--popper-arrow-shadow-color)";if(e.includes("bottom"))return"-1px -1px 0px 0 var(--popper-arrow-shadow-color)";if(e.includes("right"))return"-1px 1px 0px 0 var(--popper-arrow-shadow-color)";if(e.includes("left"))return"1px -1px 0px 0 var(--popper-arrow-shadow-color)"}var Hhn={top:"bottom center","top-start":"bottom left","top-end":"bottom right",bottom:"top center","bottom-start":"top left","bottom-end":"top right",left:"right center","left-start":"right top","left-end":"right bottom",right:"left center","right-start":"left top","right-end":"left bottom"},Vhn=e=>Hhn[e],$ve={scroll:!0,resize:!0};function Uhn(e){let t;return typeof e=="object"?t={enabled:!0,options:{...$ve,...e}}:t={enabled:e,options:$ve},t}var Whn={name:"matchWidth",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:({state:e})=>{e.styles.popper.width=`${e.rects.reference.width}px`},effect:({state:e})=>()=>{const t=e.elements.reference;e.elements.popper.style.width=`${t.offsetWidth}px`}},Khn={name:"transformOrigin",enabled:!0,phase:"write",fn:({state:e})=>{Tve(e)},effect:({state:e})=>()=>{Tve(e)}},Tve=e=>{e.elements.popper.style.setProperty(Hc.transformOrigin.var,Vhn(e.placement))},qhn={name:"positionArrow",enabled:!0,phase:"afterWrite",fn:({state:e})=>{Ghn(e)}},Ghn=e=>{var t;if(!e.placement)return;const n=Zhn(e.placement);if((t=e.elements)!=null&&t.arrow&&n){Object.assign(e.elements.arrow.style,{[n.property]:n.value,width:Hc.arrowSize.varRef,height:Hc.arrowSize.varRef,zIndex:-1});const r={[Hc.arrowSizeHalf.var]:`calc(${Hc.arrowSize.varRef} / 2 - 1px)`,[Hc.arrowOffset.var]:`calc(${Hc.arrowSizeHalf.varRef} * -1)`};for(const i in r)e.elements.arrow.style.setProperty(i,r[i])}},Zhn=e=>{if(e.startsWith("top"))return{property:"bottom",value:Hc.arrowOffset.varRef};if(e.startsWith("bottom"))return{property:"top",value:Hc.arrowOffset.varRef};if(e.startsWith("left"))return{property:"right",value:Hc.arrowOffset.varRef};if(e.startsWith("right"))return{property:"left",value:Hc.arrowOffset.varRef}},Yhn={name:"innerArrow",enabled:!0,phase:"main",requires:["arrow"],fn:({state:e})=>{Mve(e)},effect:({state:e})=>()=>{Mve(e)}},Mve=e=>{if(!e.elements.arrow)return;const t=e.elements.arrow.querySelector("[data-popper-arrow-inner]");if(!t)return;const n=zhn(e.placement);n&&t.style.setProperty("--popper-arrow-default-shadow",n),Object.assign(t.style,{transform:"rotate(45deg)",background:Hc.arrowBg.varRef,top:0,left:0,width:"100%",height:"100%",position:"absolute",zIndex:"inherit",boxShadow:"var(--popper-arrow-shadow, var(--popper-arrow-default-shadow))"})},Xhn={"start-start":{ltr:"left-start",rtl:"right-start"},"start-end":{ltr:"left-end",rtl:"right-end"},"end-start":{ltr:"right-start",rtl:"left-start"},"end-end":{ltr:"right-end",rtl:"left-end"},start:{ltr:"left",rtl:"right"},end:{ltr:"right",rtl:"left"}},Qhn={"auto-start":"auto-end","auto-end":"auto-start","top-start":"top-end","top-end":"top-start","bottom-start":"bottom-end","bottom-end":"bottom-start"};function Jhn(e,t="ltr"){var n,r;const i=((n=Xhn[e])==null?void 0:n[t])||e;return t==="ltr"?i:(r=Qhn[e])!=null?r:i}var ac="top",lf="bottom",uf="right",lc="left",rre="auto",V5=[ac,lf,uf,lc],UC="start",p$="end",epn="clippingParents",pVe="viewport",sk="popper",tpn="reference",Lve=V5.reduce(function(e,t){return e.concat([t+"-"+UC,t+"-"+p$])},[]),mVe=[].concat(V5,[rre]).reduce(function(e,t){return e.concat([t,t+"-"+UC,t+"-"+p$])},[]),npn="beforeRead",rpn="read",ipn="afterRead",opn="beforeMain",spn="main",apn="afterMain",lpn="beforeWrite",upn="write",cpn="afterWrite",dpn=[npn,rpn,ipn,opn,spn,apn,lpn,upn,cpn];function Fp(e){return e?(e.nodeName||"").toLowerCase():null}function id(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function fx(e){var t=id(e).Element;return e instanceof t||e instanceof Element}function Qd(e){var t=id(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function ire(e){if(typeof ShadowRoot>"u")return!1;var t=id(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function fpn(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var r=t.styles[n]||{},i=t.attributes[n]||{},o=t.elements[n];!Qd(o)||!Fp(o)||(Object.assign(o.style,r),Object.keys(i).forEach(function(s){var a=i[s];a===!1?o.removeAttribute(s):o.setAttribute(s,a===!0?"":a)}))})}function hpn(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(r){var i=t.elements[r],o=t.attributes[r]||{},s=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:n[r]),a=s.reduce(function(l,u){return l[u]="",l},{});!Qd(i)||!Fp(i)||(Object.assign(i.style,a),Object.keys(o).forEach(function(l){i.removeAttribute(l)}))})}}const ppn={name:"applyStyles",enabled:!0,phase:"write",fn:fpn,effect:hpn,requires:["computeStyles"]};function Tp(e){return e.split("-")[0]}var Fw=Math.max,x9=Math.min,WC=Math.round;function ZZ(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function gVe(){return!/^((?!chrome|android).)*safari/i.test(ZZ())}function KC(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var r=e.getBoundingClientRect(),i=1,o=1;t&&Qd(e)&&(i=e.offsetWidth>0&&WC(r.width)/e.offsetWidth||1,o=e.offsetHeight>0&&WC(r.height)/e.offsetHeight||1);var s=fx(e)?id(e):window,a=s.visualViewport,l=!gVe()&&n,u=(r.left+(l&&a?a.offsetLeft:0))/i,c=(r.top+(l&&a?a.offsetTop:0))/o,f=r.width/i,p=r.height/o;return{width:f,height:p,top:c,right:u+f,bottom:c+p,left:u,x:u,y:c}}function ore(e){var t=KC(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function vVe(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&ire(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Zg(e){return id(e).getComputedStyle(e)}function mpn(e){return["table","td","th"].indexOf(Fp(e))>=0}function w1(e){return((fx(e)?e.ownerDocument:e.document)||window.document).documentElement}function wj(e){return Fp(e)==="html"?e:e.assignedSlot||e.parentNode||(ire(e)?e.host:null)||w1(e)}function Ave(e){return!Qd(e)||Zg(e).position==="fixed"?null:e.offsetParent}function gpn(e){var t=/firefox/i.test(ZZ()),n=/Trident/i.test(ZZ());if(n&&Qd(e)){var r=Zg(e);if(r.position==="fixed")return null}var i=wj(e);for(ire(i)&&(i=i.host);Qd(i)&&["html","body"].indexOf(Fp(i))<0;){var o=Zg(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||t&&o.willChange==="filter"||t&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function U5(e){for(var t=id(e),n=Ave(e);n&&mpn(n)&&Zg(n).position==="static";)n=Ave(n);return n&&(Fp(n)==="html"||Fp(n)==="body"&&Zg(n).position==="static")?t:n||gpn(e)||t}function sre(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function HP(e,t,n){return Fw(e,x9(t,n))}function vpn(e,t,n){var r=HP(e,t,n);return r>n?n:r}function yVe(){return{top:0,right:0,bottom:0,left:0}}function bVe(e){return Object.assign({},yVe(),e)}function wVe(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}var ypn=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,bVe(typeof t!="number"?t:wVe(t,V5))};function bpn(e){var t,n=e.state,r=e.name,i=e.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,a=Tp(n.placement),l=sre(a),u=[lc,uf].indexOf(a)>=0,c=u?"height":"width";if(!(!o||!s)){var f=ypn(i.padding,n),p=ore(o),g=l==="y"?ac:lc,v=l==="y"?lf:uf,y=n.rects.reference[c]+n.rects.reference[l]-s[l]-n.rects.popper[c],S=s[l]-n.rects.reference[l],C=U5(o),_=C?l==="y"?C.clientHeight||0:C.clientWidth||0:0,k=y/2-S/2,w=f[g],P=_-p[c]-f[v],M=_/2-p[c]/2+k,R=HP(w,M,P),D=l;n.modifiersData[r]=(t={},t[D]=R,t.centerOffset=R-M,t)}}function wpn(e){var t=e.state,n=e.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=t.elements.popper.querySelector(i),!i)||vVe(t.elements.popper,i)&&(t.elements.arrow=i))}const xpn={name:"arrow",enabled:!0,phase:"main",fn:bpn,effect:wpn,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function qC(e){return e.split("-")[1]}var Spn={top:"auto",right:"auto",bottom:"auto",left:"auto"};function _pn(e,t){var n=e.x,r=e.y,i=t.devicePixelRatio||1;return{x:WC(n*i)/i||0,y:WC(r*i)/i||0}}function Ive(e){var t,n=e.popper,r=e.popperRect,i=e.placement,o=e.variation,s=e.offsets,a=e.position,l=e.gpuAcceleration,u=e.adaptive,c=e.roundOffsets,f=e.isFixed,p=s.x,g=p===void 0?0:p,v=s.y,y=v===void 0?0:v,S=typeof c=="function"?c({x:g,y}):{x:g,y};g=S.x,y=S.y;var C=s.hasOwnProperty("x"),_=s.hasOwnProperty("y"),k=lc,w=ac,P=window;if(u){var M=U5(n),R="clientHeight",D="clientWidth";if(M===id(n)&&(M=w1(n),Zg(M).position!=="static"&&a==="absolute"&&(R="scrollHeight",D="scrollWidth")),M=M,i===ac||(i===lc||i===uf)&&o===p$){w=lf;var H=f&&M===P&&P.visualViewport?P.visualViewport.height:M[R];y-=H-r.height,y*=l?1:-1}if(i===lc||(i===ac||i===lf)&&o===p$){k=uf;var O=f&&M===P&&P.visualViewport?P.visualViewport.width:M[D];g-=O-r.width,g*=l?1:-1}}var z=Object.assign({position:a},u&&Spn),G=c===!0?_pn({x:g,y},id(n)):{x:g,y};if(g=G.x,y=G.y,l){var ee;return Object.assign({},z,(ee={},ee[w]=_?"0":"",ee[k]=C?"0":"",ee.transform=(P.devicePixelRatio||1)<=1?"translate("+g+"px, "+y+"px)":"translate3d("+g+"px, "+y+"px, 0)",ee))}return Object.assign({},z,(t={},t[w]=_?y+"px":"",t[k]=C?g+"px":"",t.transform="",t))}function Cpn(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=r===void 0?!0:r,o=n.adaptive,s=o===void 0?!0:o,a=n.roundOffsets,l=a===void 0?!0:a,u={placement:Tp(t.placement),variation:qC(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,Ive(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,Ive(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const Epn={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Cpn,data:{}};var BL={passive:!0};function kpn(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,o=i===void 0?!0:i,s=r.resize,a=s===void 0?!0:s,l=id(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&u.forEach(function(c){c.addEventListener("scroll",n.update,BL)}),a&&l.addEventListener("resize",n.update,BL),function(){o&&u.forEach(function(c){c.removeEventListener("scroll",n.update,BL)}),a&&l.removeEventListener("resize",n.update,BL)}}const Ppn={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:kpn,data:{}};var $pn={left:"right",right:"left",bottom:"top",top:"bottom"};function HI(e){return e.replace(/left|right|bottom|top/g,function(t){return $pn[t]})}var Tpn={start:"end",end:"start"};function Rve(e){return e.replace(/start|end/g,function(t){return Tpn[t]})}function are(e){var t=id(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function lre(e){return KC(w1(e)).left+are(e).scrollLeft}function Mpn(e,t){var n=id(e),r=w1(e),i=n.visualViewport,o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;var u=gVe();(u||!u&&t==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a+lre(e),y:l}}function Lpn(e){var t,n=w1(e),r=are(e),i=(t=e.ownerDocument)==null?void 0:t.body,o=Fw(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=Fw(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+lre(e),l=-r.scrollTop;return Zg(i||n).direction==="rtl"&&(a+=Fw(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:a,y:l}}function ure(e){var t=Zg(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function xVe(e){return["html","body","#document"].indexOf(Fp(e))>=0?e.ownerDocument.body:Qd(e)&&ure(e)?e:xVe(wj(e))}function VP(e,t){var n;t===void 0&&(t=[]);var r=xVe(e),i=r===((n=e.ownerDocument)==null?void 0:n.body),o=id(r),s=i?[o].concat(o.visualViewport||[],ure(r)?r:[]):r,a=t.concat(s);return i?a:a.concat(VP(wj(s)))}function YZ(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Apn(e,t){var n=KC(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function Dve(e,t,n){return t===pVe?YZ(Mpn(e,n)):fx(t)?Apn(t,n):YZ(Lpn(w1(e)))}function Ipn(e){var t=VP(wj(e)),n=["absolute","fixed"].indexOf(Zg(e).position)>=0,r=n&&Qd(e)?U5(e):e;return fx(r)?t.filter(function(i){return fx(i)&&vVe(i,r)&&Fp(i)!=="body"}):[]}function Rpn(e,t,n,r){var i=t==="clippingParents"?Ipn(e):[].concat(t),o=[].concat(i,[n]),s=o[0],a=o.reduce(function(l,u){var c=Dve(e,u,r);return l.top=Fw(c.top,l.top),l.right=x9(c.right,l.right),l.bottom=x9(c.bottom,l.bottom),l.left=Fw(c.left,l.left),l},Dve(e,s,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function SVe(e){var t=e.reference,n=e.element,r=e.placement,i=r?Tp(r):null,o=r?qC(r):null,s=t.x+t.width/2-n.width/2,a=t.y+t.height/2-n.height/2,l;switch(i){case ac:l={x:s,y:t.y-n.height};break;case lf:l={x:s,y:t.y+t.height};break;case uf:l={x:t.x+t.width,y:a};break;case lc:l={x:t.x-n.width,y:a};break;default:l={x:t.x,y:t.y}}var u=i?sre(i):null;if(u!=null){var c=u==="y"?"height":"width";switch(o){case UC:l[u]=l[u]-(t[c]/2-n[c]/2);break;case p$:l[u]=l[u]+(t[c]/2-n[c]/2);break}}return l}function m$(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=r===void 0?e.placement:r,o=n.strategy,s=o===void 0?e.strategy:o,a=n.boundary,l=a===void 0?epn:a,u=n.rootBoundary,c=u===void 0?pVe:u,f=n.elementContext,p=f===void 0?sk:f,g=n.altBoundary,v=g===void 0?!1:g,y=n.padding,S=y===void 0?0:y,C=bVe(typeof S!="number"?S:wVe(S,V5)),_=p===sk?tpn:sk,k=e.rects.popper,w=e.elements[v?_:p],P=Rpn(fx(w)?w:w.contextElement||w1(e.elements.popper),l,c,s),M=KC(e.elements.reference),R=SVe({reference:M,element:k,strategy:"absolute",placement:i}),D=YZ(Object.assign({},k,R)),H=p===sk?D:M,O={top:P.top-H.top+C.top,bottom:H.bottom-P.bottom+C.bottom,left:P.left-H.left+C.left,right:H.right-P.right+C.right},z=e.modifiersData.offset;if(p===sk&&z){var G=z[i];Object.keys(O).forEach(function(ee){var X=[uf,lf].indexOf(ee)>=0?1:-1,se=[ac,lf].indexOf(ee)>=0?"y":"x";O[ee]+=G[se]*X})}return O}function Dpn(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=n.boundary,o=n.rootBoundary,s=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,u=l===void 0?mVe:l,c=qC(r),f=c?a?Lve:Lve.filter(function(v){return qC(v)===c}):V5,p=f.filter(function(v){return u.indexOf(v)>=0});p.length===0&&(p=f);var g=p.reduce(function(v,y){return v[y]=m$(e,{placement:y,boundary:i,rootBoundary:o,padding:s})[Tp(y)],v},{});return Object.keys(g).sort(function(v,y){return g[v]-g[y]})}function Opn(e){if(Tp(e)===rre)return[];var t=HI(e);return[Rve(e),t,Rve(t)]}function jpn(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,a=s===void 0?!0:s,l=n.fallbackPlacements,u=n.padding,c=n.boundary,f=n.rootBoundary,p=n.altBoundary,g=n.flipVariations,v=g===void 0?!0:g,y=n.allowedAutoPlacements,S=t.options.placement,C=Tp(S),_=C===S,k=l||(_||!v?[HI(S)]:Opn(S)),w=[S].concat(k).reduce(function(re,ue){return re.concat(Tp(ue)===rre?Dpn(t,{placement:ue,boundary:c,rootBoundary:f,padding:u,flipVariations:v,allowedAutoPlacements:y}):ue)},[]),P=t.rects.reference,M=t.rects.popper,R=new Map,D=!0,H=w[0],O=0;O<w.length;O++){var z=w[O],G=Tp(z),ee=qC(z)===UC,X=[ac,lf].indexOf(G)>=0,se=X?"width":"height",B=m$(t,{placement:z,boundary:c,rootBoundary:f,altBoundary:p,padding:u}),q=X?ee?uf:lc:ee?lf:ac;P[se]>M[se]&&(q=HI(q));var U=HI(q),K=[];if(o&&K.push(B[G]<=0),a&&K.push(B[q]<=0,B[U]<=0),K.every(function(re){return re})){H=z,D=!1;break}R.set(z,K)}if(D)for(var J=v?3:1,oe=function(ue){var ce=w.find(function(we){var Me=R.get(we);if(Me)return Me.slice(0,ue).every(function(Be){return Be})});if(ce)return H=ce,"break"},he=J;he>0;he--){var me=oe(he);if(me==="break")break}t.placement!==H&&(t.modifiersData[r]._skip=!0,t.placement=H,t.reset=!0)}}const Npn={name:"flip",enabled:!0,phase:"main",fn:jpn,requiresIfExists:["offset"],data:{_skip:!1}};function Ove(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function jve(e){return[ac,uf,lf,lc].some(function(t){return e[t]>=0})}function Fpn(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,s=m$(t,{elementContext:"reference"}),a=m$(t,{altBoundary:!0}),l=Ove(s,r),u=Ove(a,i,o),c=jve(l),f=jve(u);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":f})}const Bpn={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Fpn};function zpn(e,t,n){var r=Tp(e),i=[lc,ac].indexOf(r)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,s=o[0],a=o[1];return s=s||0,a=(a||0)*i,[lc,uf].indexOf(r)>=0?{x:a,y:s}:{x:s,y:a}}function Hpn(e){var t=e.state,n=e.options,r=e.name,i=n.offset,o=i===void 0?[0,0]:i,s=mVe.reduce(function(c,f){return c[f]=zpn(f,t.rects,o),c},{}),a=s[t.placement],l=a.x,u=a.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=u),t.modifiersData[r]=s}const Vpn={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Hpn};function Upn(e){var t=e.state,n=e.name;t.modifiersData[n]=SVe({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const Wpn={name:"popperOffsets",enabled:!0,phase:"read",fn:Upn,data:{}};function Kpn(e){return e==="x"?"y":"x"}function qpn(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,a=s===void 0?!1:s,l=n.boundary,u=n.rootBoundary,c=n.altBoundary,f=n.padding,p=n.tether,g=p===void 0?!0:p,v=n.tetherOffset,y=v===void 0?0:v,S=m$(t,{boundary:l,rootBoundary:u,padding:f,altBoundary:c}),C=Tp(t.placement),_=qC(t.placement),k=!_,w=sre(C),P=Kpn(w),M=t.modifiersData.popperOffsets,R=t.rects.reference,D=t.rects.popper,H=typeof y=="function"?y(Object.assign({},t.rects,{placement:t.placement})):y,O=typeof H=="number"?{mainAxis:H,altAxis:H}:Object.assign({mainAxis:0,altAxis:0},H),z=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,G={x:0,y:0};if(M){if(o){var ee,X=w==="y"?ac:lc,se=w==="y"?lf:uf,B=w==="y"?"height":"width",q=M[w],U=q+S[X],K=q-S[se],J=g?-D[B]/2:0,oe=_===UC?R[B]:D[B],he=_===UC?-D[B]:-R[B],me=t.elements.arrow,re=g&&me?ore(me):{width:0,height:0},ue=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:yVe(),ce=ue[X],we=ue[se],Me=HP(0,R[B],re[B]),Be=k?R[B]/2-J-Me-ce-O.mainAxis:oe-Me-ce-O.mainAxis,ge=k?-R[B]/2+J+Me+we+O.mainAxis:he+Me+we+O.mainAxis,ye=t.elements.arrow&&U5(t.elements.arrow),_e=ye?w==="y"?ye.clientTop||0:ye.clientLeft||0:0,$e=(ee=z==null?void 0:z[w])!=null?ee:0,He=q+Be-$e-_e,Ve=q+ge-$e,ot=HP(g?x9(U,He):U,q,g?Fw(K,Ve):K);M[w]=ot,G[w]=ot-q}if(a){var kt,gt=w==="x"?ac:lc,rn=w==="x"?lf:uf,Yt=M[P],Bt=P==="y"?"height":"width",dn=Yt+S[gt],Ft=Yt-S[rn],Xt=[ac,lc].indexOf(C)!==-1,Qe=(kt=z==null?void 0:z[P])!=null?kt:0,Ce=Xt?dn:Yt-R[Bt]-D[Bt]-Qe+O.altAxis,ze=Xt?Yt+R[Bt]+D[Bt]-Qe-O.altAxis:Ft,Ne=g&&Xt?vpn(Ce,Yt,ze):HP(g?Ce:dn,Yt,g?ze:Ft);M[P]=Ne,G[P]=Ne-Yt}t.modifiersData[r]=G}}const Gpn={name:"preventOverflow",enabled:!0,phase:"main",fn:qpn,requiresIfExists:["offset"]};function Zpn(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function Ypn(e){return e===id(e)||!Qd(e)?are(e):Zpn(e)}function Xpn(e){var t=e.getBoundingClientRect(),n=WC(t.width)/e.offsetWidth||1,r=WC(t.height)/e.offsetHeight||1;return n!==1||r!==1}function Qpn(e,t,n){n===void 0&&(n=!1);var r=Qd(t),i=Qd(t)&&Xpn(t),o=w1(t),s=KC(e,i,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((Fp(t)!=="body"||ure(o))&&(a=Ypn(t)),Qd(t)?(l=KC(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):o&&(l.x=lre(o))),{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function Jpn(e){var t=new Map,n=new Set,r=[];e.forEach(function(o){t.set(o.name,o)});function i(o){n.add(o.name);var s=[].concat(o.requires||[],o.requiresIfExists||[]);s.forEach(function(a){if(!n.has(a)){var l=t.get(a);l&&i(l)}}),r.push(o)}return e.forEach(function(o){n.has(o.name)||i(o)}),r}function emn(e){var t=Jpn(e);return dpn.reduce(function(n,r){return n.concat(t.filter(function(i){return i.phase===r}))},[])}function tmn(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function nmn(e){var t=e.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var Nve={placement:"bottom",modifiers:[],strategy:"absolute"};function Fve(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function rmn(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,i=t.defaultOptions,o=i===void 0?Nve:i;return function(a,l,u){u===void 0&&(u=o);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},Nve,o),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},f=[],p=!1,g={state:c,setOptions:function(C){var _=typeof C=="function"?C(c.options):C;y(),c.options=Object.assign({},o,c.options,_),c.scrollParents={reference:fx(a)?VP(a):a.contextElement?VP(a.contextElement):[],popper:VP(l)};var k=emn(nmn([].concat(r,c.options.modifiers)));return c.orderedModifiers=k.filter(function(w){return w.enabled}),v(),g.update()},forceUpdate:function(){if(!p){var C=c.elements,_=C.reference,k=C.popper;if(Fve(_,k)){c.rects={reference:Qpn(_,U5(k),c.options.strategy==="fixed"),popper:ore(k)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(O){return c.modifiersData[O.name]=Object.assign({},O.data)});for(var w=0;w<c.orderedModifiers.length;w++){if(c.reset===!0){c.reset=!1,w=-1;continue}var P=c.orderedModifiers[w],M=P.fn,R=P.options,D=R===void 0?{}:R,H=P.name;typeof M=="function"&&(c=M({state:c,options:D,name:H,instance:g})||c)}}}},update:tmn(function(){return new Promise(function(S){g.forceUpdate(),S(c)})}),destroy:function(){y(),p=!0}};if(!Fve(a,l))return g;g.setOptions(u).then(function(S){!p&&u.onFirstUpdate&&u.onFirstUpdate(S)});function v(){c.orderedModifiers.forEach(function(S){var C=S.name,_=S.options,k=_===void 0?{}:_,w=S.effect;if(typeof w=="function"){var P=w({state:c,name:C,instance:g,options:k}),M=function(){};f.push(P||M)}})}function y(){f.forEach(function(S){return S()}),f=[]}return g}}var imn=[Ppn,Wpn,Epn,ppn,Vpn,Npn,Gpn,xpn,Bpn],omn=rmn({defaultModifiers:imn});function smn(e={}){const{enabled:t=!0,modifiers:n,placement:r="bottom",strategy:i="absolute",arrowPadding:o=8,eventListeners:s=!0,offset:a,gutter:l=8,flip:u=!0,boundary:c="clippingParents",preventOverflow:f=!0,matchWidth:p,direction:g="ltr"}=e,v=h.useRef(null),y=h.useRef(null),S=h.useRef(null),C=Jhn(r,g),_=h.useRef(()=>{}),k=h.useCallback(()=>{var O;!t||!v.current||!y.current||((O=_.current)==null||O.call(_),S.current=omn(v.current,y.current,{placement:C,modifiers:[Yhn,qhn,Khn,{...Whn,enabled:!!p},{name:"eventListeners",...Uhn(s)},{name:"arrow",options:{padding:o}},{name:"offset",options:{offset:a??[0,l]}},{name:"flip",enabled:!!u,options:{padding:8}},{name:"preventOverflow",enabled:!!f,options:{boundary:c}},...n??[]],strategy:i}),S.current.forceUpdate(),_.current=S.current.destroy)},[C,t,n,p,s,o,a,l,u,f,c,i]);h.useEffect(()=>()=>{var O;!v.current&&!y.current&&((O=S.current)==null||O.destroy(),S.current=null)},[]);const w=h.useCallback(O=>{v.current=O,k()},[k]),P=h.useCallback((O={},z=null)=>({...O,ref:af(w,z)}),[w]),M=h.useCallback(O=>{y.current=O,k()},[k]),R=h.useCallback((O={},z=null)=>({...O,ref:af(M,z),style:{...O.style,position:i,minWidth:p?void 0:"max-content",inset:"0 auto auto 0"}}),[i,M,p]),D=h.useCallback((O={},z=null)=>{const{size:G,shadowColor:ee,bg:X,style:se,...B}=O;return{...B,ref:z,"data-popper-arrow":"",style:amn(O)}},[]),H=h.useCallback((O={},z=null)=>({...O,ref:z,"data-popper-arrow-inner":""}),[]);return{update(){var O;(O=S.current)==null||O.update()},forceUpdate(){var O;(O=S.current)==null||O.forceUpdate()},transformOrigin:Hc.transformOrigin.varRef,referenceRef:w,popperRef:M,getPopperProps:R,getArrowProps:D,getArrowInnerProps:H,getReferenceProps:P}}function amn(e){const{size:t,shadowColor:n,bg:r,style:i}=e,o={...i,position:"absolute"};return t&&(o["--popper-arrow-size"]=t),n&&(o["--popper-arrow-shadow-color"]=n),r&&(o["--popper-arrow-bg"]=r),o}function lmn(e={}){const{onClose:t,onOpen:n,isOpen:r,id:i}=e,o=i$(n),s=i$(t),[a,l]=h.useState(e.defaultIsOpen||!1),u=r!==void 0?r:a,c=r!==void 0,f=h.useId(),p=i??`disclosure-${f}`,g=h.useCallback(()=>{c||l(!1),s==null||s()},[c,s]),v=h.useCallback(()=>{c||l(!0),o==null||o()},[c,o]),y=h.useCallback(()=>{u?g():v()},[u,v,g]);function S(_={}){return{..._,"aria-expanded":u,"aria-controls":p,onClick(k){var w;(w=_.onClick)==null||w.call(_,k),y()}}}function C(_={}){return{..._,hidden:!u,id:p}}return{isOpen:u,onOpen:v,onClose:g,onToggle:y,isControlled:c,getButtonProps:S,getDisclosureProps:C}}function umn(e){const{ref:t,handler:n,enabled:r=!0}=e,i=i$(n),s=h.useRef({isPointerDown:!1,ignoreEmulatedMouseEvents:!1}).current;h.useEffect(()=>{if(!r)return;const a=f=>{mH(f,t)&&(s.isPointerDown=!0)},l=f=>{if(s.ignoreEmulatedMouseEvents){s.ignoreEmulatedMouseEvents=!1;return}s.isPointerDown&&n&&mH(f,t)&&(s.isPointerDown=!1,i(f))},u=f=>{s.ignoreEmulatedMouseEvents=!0,n&&s.isPointerDown&&mH(f,t)&&(s.isPointerDown=!1,i(f))},c=_Ve(t.current);return c.addEventListener("mousedown",a,!0),c.addEventListener("mouseup",l,!0),c.addEventListener("touchstart",a,!0),c.addEventListener("touchend",u,!0),()=>{c.removeEventListener("mousedown",a,!0),c.removeEventListener("mouseup",l,!0),c.removeEventListener("touchstart",a,!0),c.removeEventListener("touchend",u,!0)}},[n,t,i,s,r])}function mH(e,t){var n;const r=e.target;return r&&!_Ve(r).contains(r)?!1:!((n=t.current)!=null&&n.contains(r))}function _Ve(e){var t;return(t=e==null?void 0:e.ownerDocument)!=null?t:document}function cmn(e){const{isOpen:t,ref:n}=e,[r,i]=h.useState(t),[o,s]=h.useState(!1);return h.useEffect(()=>{o||(i(t),s(!0))},[t,o,r]),ufn(()=>n.current,"animationend",()=>{i(t)}),{present:!(t?!1:!r),onComplete(){var l;const u=whn(n.current),c=new u.CustomEvent("animationend",{bubbles:!0});(l=n.current)==null||l.dispatchEvent(c)}}}function dmn(e){const{wasSelected:t,enabled:n,isSelected:r,mode:i="unmount"}=e;return!!(!n||r||i==="keepMounted"&&t)}var[fmn,hmn,pmn,mmn]=Kdn(),[gmn,W5]=pd({strict:!1,name:"MenuContext"});function vmn(e,...t){const n=h.useId(),r=e||n;return h.useMemo(()=>t.map(i=>`${i}-${r}`),[r,t])}function CVe(e){var t;return(t=e==null?void 0:e.ownerDocument)!=null?t:document}function Bve(e){return CVe(e).activeElement===e}function ymn(e={}){const{id:t,closeOnSelect:n=!0,closeOnBlur:r=!0,initialFocusRef:i,autoSelect:o=!0,isLazy:s,isOpen:a,defaultIsOpen:l,onClose:u,onOpen:c,placement:f="bottom-start",lazyBehavior:p="unmount",direction:g,computePositionOnMount:v=!1,...y}=e,S=h.useRef(null),C=h.useRef(null),_=pmn(),k=h.useCallback(()=>{requestAnimationFrame(()=>{var me;(me=S.current)==null||me.focus({preventScroll:!1})})},[]),w=h.useCallback(()=>{const me=setTimeout(()=>{var re;if(i)(re=i.current)==null||re.focus();else{const ue=_.firstEnabled();ue&&ee(ue.index)}});U.current.add(me)},[_,i]),P=h.useCallback(()=>{const me=setTimeout(()=>{const re=_.lastEnabled();re&&ee(re.index)});U.current.add(me)},[_]),M=h.useCallback(()=>{c==null||c(),o?w():k()},[o,w,k,c]),{isOpen:R,onOpen:D,onClose:H,onToggle:O}=lmn({isOpen:a,defaultIsOpen:l,onClose:u,onOpen:M});umn({enabled:R&&r,ref:S,handler:me=>{var re;(re=C.current)!=null&&re.contains(me.target)||H()}});const z=smn({...y,enabled:R||v,placement:f,direction:g}),[G,ee]=h.useState(-1);o$(()=>{R||ee(-1)},[R]),Bhn(S,{focusRef:C,visible:R,shouldFocus:!0});const X=cmn({isOpen:R,ref:S}),[se,B]=vmn(t,"menu-button","menu-list"),q=h.useCallback(()=>{D(),k()},[D,k]),U=h.useRef(new Set([]));h.useEffect(()=>{const me=U.current;return()=>{me.forEach(re=>clearTimeout(re)),me.clear()}},[]);const K=h.useCallback(()=>{D(),w()},[w,D]),J=h.useCallback(()=>{D(),P()},[D,P]),oe=h.useCallback(()=>{var me,re;const ue=CVe(S.current),ce=(me=S.current)==null?void 0:me.contains(ue.activeElement);if(!(R&&!ce))return;const Me=(re=_.item(G))==null?void 0:re.node;Me==null||Me.focus({preventScroll:!0})},[R,G,_]),he=h.useRef(null);return{openAndFocusMenu:q,openAndFocusFirstItem:K,openAndFocusLastItem:J,onTransitionEnd:oe,unstable__animationState:X,descendants:_,popper:z,buttonId:se,menuId:B,forceUpdate:z.forceUpdate,orientation:"vertical",isOpen:R,onToggle:O,onOpen:D,onClose:H,menuRef:S,buttonRef:C,focusedIndex:G,closeOnSelect:n,closeOnBlur:r,autoSelect:o,setFocusedIndex:ee,isLazy:s,lazyBehavior:p,initialFocusRef:i,rafId:he}}function bmn(e={},t=null){const n=W5(),{onToggle:r,popper:i,openAndFocusFirstItem:o,openAndFocusLastItem:s}=n,a=h.useCallback(l=>{const u=l.key,f={Enter:o,ArrowDown:o,ArrowUp:s}[u];f&&(l.preventDefault(),l.stopPropagation(),f(l))},[o,s]);return{...e,ref:af(n.buttonRef,t,i.referenceRef),id:n.buttonId,"data-active":Hd(n.isOpen),"aria-expanded":n.isOpen,"aria-haspopup":"menu","aria-controls":n.menuId,onClick:yp(e.onClick,r),onKeyDown:yp(e.onKeyDown,a)}}function XZ(e){var t;return _mn(e)&&!!((t=e==null?void 0:e.getAttribute("role"))!=null&&t.startsWith("menuitem"))}function wmn(e={},t=null){const n=W5();if(!n)throw new Error("useMenuContext: context is undefined. Seems you forgot to wrap component within <Menu>");const{focusedIndex:r,setFocusedIndex:i,menuRef:o,isOpen:s,onClose:a,menuId:l,isLazy:u,lazyBehavior:c,unstable__animationState:f}=n,p=hmn(),g=Dhn({preventDefault:C=>C.key!==" "&&XZ(C.target)}),v=h.useCallback(C=>{if(!C.currentTarget.contains(C.target))return;const _=C.key,w={Tab:M=>M.preventDefault(),Escape:a,ArrowDown:()=>{const M=p.nextEnabled(r);M&&i(M.index)},ArrowUp:()=>{const M=p.prevEnabled(r);M&&i(M.index)}}[_];if(w){C.preventDefault(),w(C);return}const P=g(M=>{const R=Ohn(p.values(),M,D=>{var H,O;return(O=(H=D==null?void 0:D.node)==null?void 0:H.textContent)!=null?O:""},p.item(r));if(R){const D=p.indexOf(R.node);i(D)}});XZ(C.target)&&P(C)},[p,r,g,a,i]),y=h.useRef(!1);s&&(y.current=!0);const S=dmn({wasSelected:y.current,enabled:u,mode:c,isSelected:f.present});return{...e,ref:af(o,t),children:S?e.children:null,tabIndex:-1,role:"menu",id:l,style:{...e.style,transformOrigin:"var(--popper-transform-origin)"},"aria-orientation":"vertical",onKeyDown:yp(e.onKeyDown,v)}}function xmn(e={}){const{popper:t,isOpen:n}=W5();return t.getPopperProps({...e,style:{visibility:n?"visible":"hidden",...e.style}})}function Smn(e={},t=null){const{onMouseEnter:n,onMouseMove:r,onMouseLeave:i,onClick:o,onFocus:s,isDisabled:a,isFocusable:l,closeOnSelect:u,type:c,...f}=e,p=W5(),{setFocusedIndex:g,focusedIndex:v,closeOnSelect:y,onClose:S,menuRef:C,isOpen:_,menuId:k,rafId:w}=p,P=h.useRef(null),M=`${k}-menuitem-${h.useId()}`,{index:R,register:D}=mmn({disabled:a&&!l}),H=h.useCallback(q=>{n==null||n(q),!a&&g(R)},[g,R,a,n]),O=h.useCallback(q=>{r==null||r(q),P.current&&!Bve(P.current)&&H(q)},[H,r]),z=h.useCallback(q=>{i==null||i(q),!a&&g(-1)},[g,a,i]),G=h.useCallback(q=>{o==null||o(q),XZ(q.currentTarget)&&(u??y)&&S()},[S,o,y,u]),ee=h.useCallback(q=>{s==null||s(q),g(R)},[g,s,R]),X=R===v,se=a&&!l;o$(()=>{if(_)return X&&!se&&P.current?(w.current&&cancelAnimationFrame(w.current),w.current=requestAnimationFrame(()=>{var q;(q=P.current)==null||q.focus({preventScroll:!0}),w.current=null})):C.current&&!Bve(C.current)&&C.current.focus({preventScroll:!0}),()=>{w.current&&cancelAnimationFrame(w.current)}},[X,se,C,_]);const B=Nhn({onClick:G,onFocus:ee,onMouseEnter:H,onMouseMove:O,onMouseLeave:z,ref:af(D,P,t),isDisabled:a,isFocusable:l});return{...f,...B,type:c??B.type,id:M,role:"menuitem",tabIndex:X?0:-1}}function _mn(e){var t;if(!Cmn(e))return!1;const n=(t=e.ownerDocument.defaultView)!=null?t:window;return e instanceof n.HTMLElement}function Cmn(e){return e!=null&&typeof e=="object"&&"nodeType"in e&&e.nodeType===Node.ELEMENT_NODE}var[Emn,K5]=pd({name:"MenuStylesContext",errorMessage:`useMenuStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Menu />" `}),FS=e=>{const{children:t}=e,n=O5("Menu",e),r=Bx(e),{direction:i}=yBe(),{descendants:o,...s}=ymn({...r,direction:i}),a=h.useMemo(()=>s,[s]),{isOpen:l,onClose:u,forceUpdate:c}=a;return d.jsx(fmn,{value:o,children:d.jsx(gmn,{value:a,children:d.jsx(Emn,{value:n,children:gg(t,{isOpen:l,onClose:u,forceUpdate:c})})})})};FS.displayName="Menu";var EVe=qo((e,t)=>{const n=K5();return d.jsx(wi.span,{ref:t,...e,__css:n.command,className:"chakra-menu__command"})});EVe.displayName="MenuCommand";var kmn=qo((e,t)=>{const{type:n,...r}=e,i=K5(),o=r.as||n?n??void 0:"button",s=h.useMemo(()=>({textDecoration:"none",color:"inherit",userSelect:"none",display:"flex",width:"100%",alignItems:"center",textAlign:"start",flex:"0 0 auto",outline:0,...i.item}),[i.item]);return d.jsx(wi.button,{ref:t,type:o,...r,__css:s})}),kVe=e=>{const{className:t,children:n,...r}=e,i=K5(),o=h.Children.only(n),s=h.isValidElement(o)?h.cloneElement(o,{focusable:"false","aria-hidden":!0,className:ro("chakra-menu__icon",o.props.className)}):null,a=ro("chakra-menu__icon-wrapper",t);return d.jsx(wi.span,{className:a,...r,__css:i.icon,children:s})};kVe.displayName="MenuIcon";var x1=qo((e,t)=>{const{icon:n,iconSpacing:r="0.75rem",command:i,commandSpacing:o="0.75rem",children:s,...a}=e,l=Smn(a,t),c=n||i?d.jsx("span",{style:{pointerEvents:"none",flex:1},children:s}):s;return d.jsxs(kmn,{...l,className:ro("chakra-menu__menuitem",l.className),children:[n&&d.jsx(kVe,{fontSize:"0.8em",marginEnd:r,children:n}),c,i&&d.jsx(EVe,{marginStart:o,children:i})]})});x1.displayName="MenuItem";var Pmn={enter:{visibility:"visible",opacity:1,scale:1,transition:{duration:.2,ease:[.4,0,.2,1]}},exit:{transitionEnd:{visibility:"hidden"},opacity:0,scale:.8,transition:{duration:.1,easings:"easeOut"}}},$mn=wi(zx.div),BS=qo(function(t,n){var r,i;const{rootProps:o,motionProps:s,...a}=t,{isOpen:l,onTransitionEnd:u,unstable__animationState:c}=W5(),f=wmn(a,n),p=xmn(o),g=K5();return d.jsx(wi.div,{...p,__css:{zIndex:(i=t.zIndex)!=null?i:(r=g.list)==null?void 0:r.zIndex},children:d.jsx($mn,{variants:Pmn,initial:!1,animate:l?"enter":"exit",__css:{outline:0,...g.list},...s,className:ro("chakra-menu__menu-list",f.className),...f,onUpdate:u,onAnimationComplete:EQt(c.onComplete,f.onAnimationComplete)})})});BS.displayName="MenuList";var Tmn=qo((e,t)=>{const n=K5();return d.jsx(wi.button,{ref:t,...e,__css:{display:"inline-flex",appearance:"none",alignItems:"center",outline:0,...n.button}})}),zS=qo((e,t)=>{const{children:n,as:r,...i}=e,o=bmn(i,t),s=r||Tmn;return d.jsx(s,{...o,className:ro("chakra-menu__menu-button",e.className),children:d.jsx(wi.span,{__css:{pointerEvents:"none",flex:"1 1 auto",minW:0},children:e.children})})});zS.displayName="MenuButton";var Mmn={slideInBottom:{...Wk,custom:{offsetY:16,reverse:!0}},slideInRight:{...Wk,custom:{offsetX:16,reverse:!0}},slideInTop:{...Wk,custom:{offsetY:-16,reverse:!0}},slideInLeft:{...Wk,custom:{offsetX:-16,reverse:!0}},scale:{...IHe,custom:{initialScale:.95,reverse:!0}},none:{}},Lmn=wi(zx.section),Amn=e=>Mmn[e||"none"],PVe=h.forwardRef((e,t)=>{const{preset:n,motionProps:r=Amn(n),...i}=e;return d.jsx(Lmn,{ref:t,...r,...i})});PVe.displayName="ModalTransition";var Imn=Object.defineProperty,Rmn=(e,t,n)=>t in e?Imn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Dmn=(e,t,n)=>(Rmn(e,t+"",n),n),Omn=class{constructor(){Dmn(this,"modals"),this.modals=new Map}add(e){return this.modals.set(e,this.modals.size+1),this.modals.size}remove(e){this.modals.delete(e)}isTopModal(e){return e?this.modals.get(e)===this.modals.size:!1}},QZ=new Omn;function $Ve(e,t){const[n,r]=h.useState(0);return h.useEffect(()=>{const i=e.current;if(i){if(t){const o=QZ.add(i);r(o)}return()=>{QZ.remove(i),r(0)}}},[t,e]),n}function jmn(e){const{isOpen:t,onClose:n,id:r,closeOnOverlayClick:i=!0,closeOnEsc:o=!0,useInert:s=!0,onOverlayClick:a,onEsc:l}=e,u=h.useRef(null),c=h.useRef(null),[f,p,g]=Fmn(r,"chakra-modal","chakra-modal--header","chakra-modal--body");Nmn(u,t&&s);const v=$Ve(u,t),y=h.useRef(null),S=h.useCallback(H=>{y.current=H.target},[]),C=h.useCallback(H=>{H.key==="Escape"&&(H.stopPropagation(),o&&(n==null||n()),l==null||l())},[o,n,l]),[_,k]=h.useState(!1),[w,P]=h.useState(!1),M=h.useCallback((H={},O=null)=>({role:"dialog",...H,ref:af(O,u),id:f,tabIndex:-1,"aria-modal":!0,"aria-labelledby":_?p:void 0,"aria-describedby":w?g:void 0,onClick:yp(H.onClick,z=>z.stopPropagation())}),[g,w,f,p,_]),R=h.useCallback(H=>{H.stopPropagation(),y.current===H.target&&QZ.isTopModal(u.current)&&(i&&(n==null||n()),a==null||a())},[n,i,a]),D=h.useCallback((H={},O=null)=>({...H,ref:af(O,c),onClick:yp(H.onClick,R),onKeyDown:yp(H.onKeyDown,C),onMouseDown:yp(H.onMouseDown,S)}),[C,S,R]);return{isOpen:t,onClose:n,headerId:p,bodyId:g,setBodyMounted:P,setHeaderMounted:k,dialogRef:u,overlayRef:c,getDialogProps:M,getDialogContainerProps:D,index:v}}function Nmn(e,t){const n=e.current;h.useEffect(()=>{if(!(!e.current||!t))return dct(e.current)},[t,e,n])}function Fmn(e,...t){const n=h.useId(),r=e||n;return h.useMemo(()=>t.map(i=>`${i}-${r}`),[r,t])}var[Bmn,U3]=pd({name:"ModalStylesContext",errorMessage:`useModalStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Modal />" `}),[zmn,hx]=pd({strict:!0,name:"ModalContext",errorMessage:"useModalContext: `context` is undefined. Seems you forgot to wrap modal components in `<Modal />`"}),xj=e=>{const t={scrollBehavior:"outside",autoFocus:!0,trapFocus:!0,returnFocusOnClose:!0,blockScrollOnMount:!0,allowPinchZoom:!1,motionPreset:"scale",lockFocusAcrossFrames:!0,...e},{portalProps:n,children:r,autoFocus:i,trapFocus:o,initialFocusRef:s,finalFocusRef:a,returnFocusOnClose:l,blockScrollOnMount:u,allowPinchZoom:c,preserveScrollBarGap:f,motionPreset:p,lockFocusAcrossFrames:g,onCloseComplete:v}=t,y=O5("Modal",t),C={...jmn(t),autoFocus:i,trapFocus:o,initialFocusRef:s,finalFocusRef:a,returnFocusOnClose:l,blockScrollOnMount:u,allowPinchZoom:c,preserveScrollBarGap:f,motionPreset:p,lockFocusAcrossFrames:g};return d.jsx(zmn,{value:C,children:d.jsx(Bmn,{value:y,children:d.jsx(H5,{onExitComplete:v,children:C.isOpen&&d.jsx(R5,{...n,children:r})})})})};xj.displayName="Modal";function Hmn(e){const{autoFocus:t,trapFocus:n,dialogRef:r,initialFocusRef:i,blockScrollOnMount:o,allowPinchZoom:s,finalFocusRef:a,returnFocusOnClose:l,preserveScrollBarGap:u,lockFocusAcrossFrames:c,isOpen:f}=hx(),[p,g]=Xze();h.useEffect(()=>{!p&&g&&setTimeout(g)},[p,g]);const v=$Ve(r,f);return d.jsx(hVe,{autoFocus:t,isDisabled:!n,initialFocusRef:i,finalFocusRef:a,restoreFocus:l,contentRef:r,lockFocusAcrossFrames:c,children:d.jsx(Rke,{removeScrollBar:!u,allowPinchZoom:s,enabled:v===1&&o,forwardProps:!0,children:e.children})})}var Sj=qo((e,t)=>{const{className:n,children:r,containerProps:i,motionProps:o,...s}=e,{getDialogProps:a,getDialogContainerProps:l}=hx(),u=a(s,t),c=l(i),f=ro("chakra-modal__content",n),p=U3(),g={display:"flex",flexDirection:"column",position:"relative",width:"100%",outline:0,...p.dialog},v={display:"flex",width:"100vw",height:"$100vh",position:"fixed",left:0,top:0,...p.dialogContainer},{motionPreset:y}=hx();return d.jsx(Hmn,{children:d.jsx(wi.div,{...c,className:"chakra-modal__content-container",tabIndex:-1,__css:v,children:d.jsx(PVe,{preset:y,motionProps:o,className:f,...u,__css:g,children:r})})})});Sj.displayName="ModalContent";var _j=qo((e,t)=>{const{className:n,...r}=e,i=ro("chakra-modal__footer",n),s={display:"flex",alignItems:"center",justifyContent:"flex-end",...U3().footer};return d.jsx(wi.footer,{ref:t,...r,__css:s,className:i})});_j.displayName="ModalFooter";var Cj=qo((e,t)=>{const{className:n,...r}=e,{headerId:i,setHeaderMounted:o}=hx();h.useEffect(()=>(o(!0),()=>o(!1)),[o]);const s=ro("chakra-modal__header",n),l={flex:0,...U3().header};return d.jsx(wi.header,{ref:t,className:s,id:i,...r,__css:l})});Cj.displayName="ModalHeader";var Vmn=wi(zx.div),Ej=qo((e,t)=>{const{className:n,transition:r,motionProps:i,...o}=e,s=ro("chakra-modal__overlay",n),l={pos:"fixed",left:"0",top:"0",w:"100vw",h:"100vh",...U3().overlay},{motionPreset:u}=hx(),f=i||(u==="none"?{}:AHe);return d.jsx(Vmn,{...f,__css:l,ref:t,className:s,...o})});Ej.displayName="ModalOverlay";var kj=qo((e,t)=>{const{className:n,...r}=e,{bodyId:i,setBodyMounted:o}=hx();h.useEffect(()=>(o(!0),()=>o(!1)),[o]);const s=ro("chakra-modal__body",n),a=U3();return d.jsx(wi.div,{ref:t,className:s,id:i,...r,__css:a.body})});kj.displayName="ModalBody";var Pj=qo((e,t)=>{const{onClick:n,className:r,...i}=e,{onClose:o}=hx(),s=ro("chakra-modal__close-btn",r),a=U3();return d.jsx(Vne,{ref:t,__css:a.closeButton,className:s,onClick:yp(n,l=>{l.stopPropagation(),o()}),...i})});Pj.displayName="ModalCloseButton";function zve(){const{isOpen:e,onOpen:t,onClose:n}=nre(),[r,i]=h.useState(""),o=a=>i(a.target.value);let s=()=>{fetch(r).then(a=>a.json()).then(a=>{localStorage.setItem("manifest-data",JSON.stringify(a)),localStorage.setItem("manifest-id",a.id),window.location.reload()})};return d.jsxs(d.Fragment,{children:[d.jsx(x1,{onClick:t,title:"Open Manifest from URL",children:"Manifest from URL"}),d.jsxs(xj,{isOpen:e,onClose:n,children:[d.jsx(Ej,{}),d.jsxs(Sj,{children:[d.jsx(Cj,{children:"Manifest from a URL"}),d.jsx(Pj,{}),d.jsxs(kj,{children:["You can paste the URL of a Manifest into the field below to open it in the Manifest Editor.",d.jsx(bj,{onChange:o,value:r,placeholder:"Paste Manifest URL",size:"lg"})]}),d.jsxs(_j,{children:[d.jsx(Uc,{mr:3,onClick:n,children:"Cancel"}),d.jsx(Uc,{onClick:s,colorScheme:"pink",children:"Open"})]})]})]})]})}function Hve(){let e=()=>{window.electronAPI.createManifestFromFiles().then(t=>{try{localStorage.setItem("manifest-id",t.id),localStorage.setItem("manifest-data",JSON.stringify(t)),window.location.reload()}catch(n){console.log(n)}})};return d.jsx(x1,{onClick:e,title:"Create New Manifest from Files",children:"New Manifest"})}var ak=wdn({displayName:"ChevronDownIcon",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"});function Vve(){const{isOpen:e,onOpen:t,onClose:n}=nre(),[r,i]=h.useState([]);let o=()=>{window.electronAPI.setWipPath().then(s=>{try{s&&i(s)}catch{console.log("error setting WIP")}})};return h.useEffect(()=>{e&&window.electronAPI.getWipPath().then(s=>{try{s&&i(s)}catch{console.log("error getting local manifest")}})},[e]),d.jsxs(d.Fragment,{children:[d.jsx(x1,{onClick:t,title:"WIP Settings",children:"WIP Settings"}),d.jsxs(xj,{isOpen:e,onClose:n,children:[d.jsx(Ej,{}),d.jsxs(Sj,{children:[d.jsx(Cj,{children:"WIP Settings"}),d.jsx(Pj,{}),d.jsxs(kj,{children:[d.jsxs("p",{children:["WIP Folder: ",r]}),d.jsx(Uc,{onClick:o,children:"Select a WIP folder"})]}),d.jsx(_j,{children:d.jsx(Uc,{mr:3,onClick:n,children:"Close"})})]})]})]})}function Uve(){const{isOpen:e,onOpen:t,onClose:n}=nre(),[r,i]=h.useState(""),o=a=>i(a.target.value);let s=()=>{window.electronAPI.setWindmill({windmill:r}).then(a=>{try{a&&console.log("success setting Windmill")}catch{console.log("error setting Windmill")}})};return d.jsxs(d.Fragment,{children:[d.jsx(x1,{onClick:t,title:"Windmill Settings",children:"Windmill Settings"}),d.jsxs(xj,{isOpen:e,onClose:n,children:[d.jsx(Ej,{}),d.jsxs(Sj,{children:[d.jsx(Cj,{children:"Windmill Settings"}),d.jsx(Pj,{}),d.jsxs(kj,{children:["Paste in the Windmill Profile you received from your system administrator.",d.jsx(bj,{onChange:o,value:r,placeholder:"Paste Windmill Profile",size:"lg"})]}),d.jsxs(_j,{children:[d.jsx(Uc,{mr:3,onClick:n,children:"Close"}),d.jsx(Uc,{onClick:s,colorScheme:"pink",children:"Save"})]})]})]})]})}function Wve(){let e=()=>{window.electronAPI.openFile().then(t=>{try{localStorage.removeItem("manifest-data"),localStorage.setItem("manifest-id",t.id),localStorage.setItem("manifest-data",JSON.stringify(t)),window.location.reload()}catch(n){console.log(n)}})};return d.jsx(x1,{onClick:e,title:"Open Manifest File",children:"Manifest File"})}function Umn(){const e=em();let t=()=>{const n=localStorage.getItem("manifest-id");if(typeof n=="string"){const r=e.toPresentation3({id:n,type:"Manifest"});window.electronAPI.saveManifest(r).then(i=>{try{console.log("Result",i.data)}catch{console.log("error pushing to api.")}})}};return d.jsx(Uc,{onClick:t,title:"Save manifest data on the WIP for ingest",children:"Save"})}function Wmn(){const e=em();let t=()=>{const n=localStorage.getItem("manifest-id");if(typeof n=="string"){const r=e.toPresentation3({id:n,type:"Manifest"});window.electronAPI.replaceManifestCanvasesFromFolder(r).then(i=>{try{localStorage.setItem("manifest-id",i.id),localStorage.setItem("manifest-data",JSON.stringify(i)),window.location.reload()}catch(o){console.log(o)}})}};return d.jsx(x1,{onClick:t,title:"Overwrite Manifest Canvases from a Folder",children:"Overwite Canvases"})}function Kmn(){const e=em();let t=()=>{const n=localStorage.getItem("manifest-id");if(typeof n=="string"){const r=e.toPresentation3({id:n,type:"Manifest"});window.electronAPI.relabelCanveses(r).then(i=>{try{localStorage.setItem("manifest-id",i.id),localStorage.setItem("manifest-data",JSON.stringify(i)),window.location.reload()}catch(o){console.log(o)}})}};return d.jsx(x1,{onClick:t,title:"Relabel canvases to match their position in the manifest",children:"Relabel Canvases"})}function qmn(){const e=new fh,[t,n]=h.useState();return h.useEffect(()=>{console.log("Create");const r=localStorage.getItem("manifest-data");if(typeof r=="string")try{let i=JSON.parse(r);n(i),localStorage.removeItem("manifest-data")}catch(i){localStorage.clear(),console.log(i)}},[]),e.subscribe(()=>{try{const r=localStorage.getItem("manifest-id");if(typeof r=="string"){const i=e.getObject(r);n(i)}}catch(r){console.log(r),localStorage.clear()}},!0),d.jsx(Ip,{vault:e,children:t?d.jsxs("div",{style:{width:"100vw",height:"100vh",display:"flex",flexDirection:"column"},children:[d.jsx(hve,{children:d.jsxs("div",{style:{width:"100vw",display:"flex",flexDirection:"row",background:"rgb(238 242 247)"},children:[d.jsxs(FS,{children:[d.jsx(zS,{as:Uc,rightIcon:d.jsx(ak,{}),children:"Settings"}),d.jsxs(BS,{children:[d.jsx(Vve,{}),d.jsx(Uve,{})]})]}),d.jsxs(FS,{children:[d.jsx(zS,{as:Uc,rightIcon:d.jsx(ak,{}),children:"Open"}),d.jsxs(BS,{children:[d.jsx(Hve,{}),d.jsx(Wve,{}),d.jsx(zve,{})]})]}),d.jsxs(FS,{children:[d.jsx(zS,{as:Uc,rightIcon:d.jsx(ak,{}),children:"Canvas Tools"}),d.jsxs(BS,{children:[d.jsx(Wmn,{}),d.jsx(Kmn,{})]})]}),d.jsx(Umn,{})]})}),d.jsx(aXt,{resource:{id:t.id,type:"Manifest"},data:t})]}):d.jsx(hve,{children:d.jsxs("div",{children:[d.jsx("h1",{children:"Get started"}),d.jsxs(FS,{children:[d.jsx(zS,{as:Uc,rightIcon:d.jsx(ak,{}),children:"Settings"}),d.jsxs(BS,{children:[d.jsx(Vve,{}),d.jsx(Uve,{})]})]}),d.jsxs(FS,{children:[d.jsx(zS,{as:Uc,rightIcon:d.jsx(ak,{}),children:"Open"}),d.jsxs(BS,{children:[d.jsx(Hve,{}),d.jsx(Wve,{}),d.jsx(zve,{})]})]})]})})})}ZY(document.getElementById("root")).render(d.jsx(h.StrictMode,{children:d.jsx(qmn,{})}));const Gmn=Object.freeze(Object.defineProperty({__proto__:null,default:z9e},Symbol.toStringTag,{value:"Module"}));export{wgn as A,Ut as B,BQ as C,Vr as D,Jdt as E,cPe as F,Jn as G,sht as H,B9e as I,_C as J,yr as L,FJ as P,Oc as Q,C4e as R,rx as T,fh as V,Il as _,lht as a,c$e as b,mn as c,wt as d,Xe as e,Zn as f,MPe as g,Is as h,zQ as i,d as j,IA as k,no as l,tft as m,sc as n,Vg as o,g3 as p,EC as q,h as r,Ts as s,_n as t,PA as u,sD as v,Io as w,Zke as x,Zu as y,kC as z};
